var tY=Object.defineProperty;var nY=(e,t,n)=>t in e?tY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qw=(e,t,n)=>nY(e,typeof t!="symbol"?t+"":t,n);function g6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rY(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Yw={exports:{}},dg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function aY(){if(NO)return dg;NO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var u in s)u!=="key"&&(i[u]=s[u])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:i}}return dg.Fragment=t,dg.jsx=n,dg.jsxs=n,dg}var SO;function sY(){return SO||(SO=1,Yw.exports=aY()),Yw.exports}var a=sY(),Ww={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function iY(){if(_O)return Yt;_O=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function w(re){return re===null||typeof re!="object"?null:(re=x&&re[x]||re["@@iterator"],typeof re=="function"?re:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function E(re,pe,Ne){this.props=re,this.context=pe,this.refs=A,this.updater=Ne||_}E.prototype.isReactComponent={},E.prototype.setState=function(re,pe){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,pe,"setState")},E.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function M(){}M.prototype=E.prototype;function D(re,pe,Ne){this.props=re,this.context=pe,this.refs=A,this.updater=Ne||_}var R=D.prototype=new M;R.constructor=D,C(R,E.prototype),R.isPureReactComponent=!0;var z=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function F(re,pe,Ne,Se,xe,Pe){return Ne=Pe.ref,{$$typeof:e,type:re,key:pe,ref:Ne!==void 0?Ne:null,props:Pe}}function V(re,pe){return F(re.type,pe,void 0,void 0,void 0,re.props)}function L(re){return typeof re=="object"&&re!==null&&re.$$typeof===e}function $(re){var pe={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(Ne){return pe[Ne]})}var W=/\/+/g;function Y(re,pe){return typeof re=="object"&&re!==null&&re.key!=null?$(""+re.key):pe.toString(36)}function Q(){}function X(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(Q,Q):(re.status="pending",re.then(function(pe){re.status==="pending"&&(re.status="fulfilled",re.value=pe)},function(pe){re.status==="pending"&&(re.status="rejected",re.reason=pe)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function G(re,pe,Ne,Se,xe){var Pe=typeof re;(Pe==="undefined"||Pe==="boolean")&&(re=null);var se=!1;if(re===null)se=!0;else switch(Pe){case"bigint":case"string":case"number":se=!0;break;case"object":switch(re.$$typeof){case e:case t:se=!0;break;case g:return se=re._init,G(se(re._payload),pe,Ne,Se,xe)}}if(se)return xe=xe(re),se=Se===""?"."+Y(re,0):Se,z(xe)?(Ne="",se!=null&&(Ne=se.replace(W,"$&/")+"/"),G(xe,pe,Ne,"",function(he){return he})):xe!=null&&(L(xe)&&(xe=V(xe,Ne+(xe.key==null||re&&re.key===xe.key?"":(""+xe.key).replace(W,"$&/")+"/")+se)),pe.push(xe)),1;se=0;var ce=Se===""?".":Se+":";if(z(re))for(var oe=0;oe<re.length;oe++)Se=re[oe],Pe=ce+Y(Se,oe),se+=G(Se,pe,Ne,Pe,xe);else if(oe=w(re),typeof oe=="function")for(re=oe.call(re),oe=0;!(Se=re.next()).done;)Se=Se.value,Pe=ce+Y(Se,oe++),se+=G(Se,pe,Ne,Pe,xe);else if(Pe==="object"){if(typeof re.then=="function")return G(X(re),pe,Ne,Se,xe);throw pe=String(re),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return se}function H(re,pe,Ne){if(re==null)return re;var Se=[],xe=0;return G(re,Se,"","",function(Pe){return pe.call(Ne,Pe,xe++)}),Se}function J(re){if(re._status===-1){var pe=re._result;pe=pe(),pe.then(function(Ne){(re._status===0||re._status===-1)&&(re._status=1,re._result=Ne)},function(Ne){(re._status===0||re._status===-1)&&(re._status=2,re._result=Ne)}),re._status===-1&&(re._status=0,re._result=pe)}if(re._status===1)return re._result.default;throw re._result}var Z=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)};function de(){}return Yt.Children={map:H,forEach:function(re,pe,Ne){H(re,function(){pe.apply(this,arguments)},Ne)},count:function(re){var pe=0;return H(re,function(){pe++}),pe},toArray:function(re){return H(re,function(pe){return pe})||[]},only:function(re){if(!L(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},Yt.Component=E,Yt.Fragment=n,Yt.Profiler=s,Yt.PureComponent=D,Yt.StrictMode=r,Yt.Suspense=m,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(re){return I.H.useMemoCache(re)}},Yt.cache=function(re){return function(){return re.apply(null,arguments)}},Yt.cloneElement=function(re,pe,Ne){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var Se=C({},re.props),xe=re.key,Pe=void 0;if(pe!=null)for(se in pe.ref!==void 0&&(Pe=void 0),pe.key!==void 0&&(xe=""+pe.key),pe)!k.call(pe,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&pe.ref===void 0||(Se[se]=pe[se]);var se=arguments.length-2;if(se===1)Se.children=Ne;else if(1<se){for(var ce=Array(se),oe=0;oe<se;oe++)ce[oe]=arguments[oe+2];Se.children=ce}return F(re.type,xe,void 0,void 0,Pe,Se)},Yt.createContext=function(re){return re={$$typeof:o,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:i,_context:re},re},Yt.createElement=function(re,pe,Ne){var Se,xe={},Pe=null;if(pe!=null)for(Se in pe.key!==void 0&&(Pe=""+pe.key),pe)k.call(pe,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(xe[Se]=pe[Se]);var se=arguments.length-2;if(se===1)xe.children=Ne;else if(1<se){for(var ce=Array(se),oe=0;oe<se;oe++)ce[oe]=arguments[oe+2];xe.children=ce}if(re&&re.defaultProps)for(Se in se=re.defaultProps,se)xe[Se]===void 0&&(xe[Se]=se[Se]);return F(re,Pe,void 0,void 0,null,xe)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(re){return{$$typeof:u,render:re}},Yt.isValidElement=L,Yt.lazy=function(re){return{$$typeof:g,_payload:{_status:-1,_result:re},_init:J}},Yt.memo=function(re,pe){return{$$typeof:f,type:re,compare:pe===void 0?null:pe}},Yt.startTransition=function(re){var pe=I.T,Ne={};I.T=Ne;try{var Se=re(),xe=I.S;xe!==null&&xe(Ne,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(de,Z)}catch(Pe){Z(Pe)}finally{I.T=pe}},Yt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Yt.use=function(re){return I.H.use(re)},Yt.useActionState=function(re,pe,Ne){return I.H.useActionState(re,pe,Ne)},Yt.useCallback=function(re,pe){return I.H.useCallback(re,pe)},Yt.useContext=function(re){return I.H.useContext(re)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(re,pe){return I.H.useDeferredValue(re,pe)},Yt.useEffect=function(re,pe,Ne){var Se=I.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Se.useEffect(re,pe)},Yt.useId=function(){return I.H.useId()},Yt.useImperativeHandle=function(re,pe,Ne){return I.H.useImperativeHandle(re,pe,Ne)},Yt.useInsertionEffect=function(re,pe){return I.H.useInsertionEffect(re,pe)},Yt.useLayoutEffect=function(re,pe){return I.H.useLayoutEffect(re,pe)},Yt.useMemo=function(re,pe){return I.H.useMemo(re,pe)},Yt.useOptimistic=function(re,pe){return I.H.useOptimistic(re,pe)},Yt.useReducer=function(re,pe,Ne){return I.H.useReducer(re,pe,Ne)},Yt.useRef=function(re){return I.H.useRef(re)},Yt.useState=function(re){return I.H.useState(re)},Yt.useSyncExternalStore=function(re,pe,Ne){return I.H.useSyncExternalStore(re,pe,Ne)},Yt.useTransition=function(){return I.H.useTransition()},Yt.version="19.1.1",Yt}var EO;function Hh(){return EO||(EO=1,Ww.exports=iY()),Ww.exports}var j=Hh();const at=Cs(j),p6=g6({__proto__:null,default:at},[j]);var Gw={exports:{}},fg={},Kw={exports:{}},Xw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function oY(){return AO||(AO=1,function(e){function t(H,J){var Z=H.length;H.push(J);e:for(;0<Z;){var de=Z-1>>>1,re=H[de];if(0<s(re,J))H[de]=J,H[Z]=re,Z=de;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],Z=H.pop();if(Z!==J){H[0]=Z;e:for(var de=0,re=H.length,pe=re>>>1;de<pe;){var Ne=2*(de+1)-1,Se=H[Ne],xe=Ne+1,Pe=H[xe];if(0>s(Se,Z))xe<re&&0>s(Pe,Se)?(H[de]=Pe,H[xe]=Z,de=xe):(H[de]=Se,H[Ne]=Z,de=Ne);else if(xe<re&&0>s(Pe,Z))H[de]=Pe,H[xe]=Z,de=xe;else break e}}return J}function s(H,J){var Z=H.sortIndex-J.sortIndex;return Z!==0?Z:H.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var m=[],f=[],g=1,x=null,w=3,_=!1,C=!1,A=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function z(H){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=H)r(f),J.sortIndex=J.expirationTime,t(m,J);else break;J=n(f)}}function I(H){if(A=!1,z(H),!C)if(n(m)!==null)C=!0,k||(k=!0,Y());else{var J=n(f);J!==null&&G(I,J.startTime-H)}}var k=!1,F=-1,V=5,L=-1;function $(){return E?!0:!(e.unstable_now()-L<V)}function W(){if(E=!1,k){var H=e.unstable_now();L=H;var J=!0;try{e:{C=!1,A&&(A=!1,D(F),F=-1),_=!0;var Z=w;try{t:{for(z(H),x=n(m);x!==null&&!(x.expirationTime>H&&$());){var de=x.callback;if(typeof de=="function"){x.callback=null,w=x.priorityLevel;var re=de(x.expirationTime<=H);if(H=e.unstable_now(),typeof re=="function"){x.callback=re,z(H),J=!0;break t}x===n(m)&&r(m),z(H)}else r(m);x=n(m)}if(x!==null)J=!0;else{var pe=n(f);pe!==null&&G(I,pe.startTime-H),J=!1}}break e}finally{x=null,w=Z,_=!1}J=void 0}}finally{J?Y():k=!1}}}var Y;if(typeof R=="function")Y=function(){R(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,X=Q.port2;Q.port1.onmessage=W,Y=function(){X.postMessage(null)}}else Y=function(){M(W,0)};function G(H,J){F=M(function(){H(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(H){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var Z=w;w=J;try{return H()}finally{w=Z}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=w;w=H;try{return J()}finally{w=Z}},e.unstable_scheduleCallback=function(H,J,Z){var de=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?de+Z:de):Z=de,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,H={id:g++,callback:J,priorityLevel:H,startTime:Z,expirationTime:re,sortIndex:-1},Z>de?(H.sortIndex=Z,t(f,H),n(m)===null&&H===n(f)&&(A?(D(F),F=-1):A=!0,G(I,Z-de))):(H.sortIndex=re,t(m,H),C||_||(C=!0,k||(k=!0,Y()))),H},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(H){var J=w;return function(){var Z=w;w=J;try{return H.apply(this,arguments)}finally{w=Z}}}}(Xw)),Xw}var CO;function lY(){return CO||(CO=1,Kw.exports=oY()),Kw.exports}var Qw={exports:{}},ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO;function cY(){if(TO)return ns;TO=1;var e=Hh();function t(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(m,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:m,containerInfo:f,implementation:g}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ns.createPortal=function(m,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(m,f,null,g)},ns.flushSync=function(m){var f=o.T,g=r.p;try{if(o.T=null,r.p=2,m)return m()}finally{o.T=f,r.p=g,r.d.f()}},ns.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(m,f))},ns.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ns.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:_}):g==="script"&&r.d.X(m,{crossOrigin:x,integrity:w,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ns.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(m)},ns.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin);r.d.L(m,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ns.preloadModule=function(m,f){if(typeof m=="string")if(f){var g=u(f.as,f.crossOrigin);r.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(m)},ns.requestFormReset=function(m){r.d.r(m)},ns.unstable_batchedUpdates=function(m,f){return m(f)},ns.useFormState=function(m,f,g){return o.H.useFormState(m,f,g)},ns.useFormStatus=function(){return o.H.useHostTransitionStatus()},ns.version="19.1.1",ns}var OO;function x6(){if(OO)return Qw.exports;OO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qw.exports=cY(),Qw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO;function uY(){if(MO)return fg;MO=1;var e=lY(),t=Hh(),n=x6();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var d=l,v=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(v=d.return),l=d.return;while(l)}return d.tag===3?v:null}function o(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function u(l){if(i(l)!==l)throw Error(r(188))}function m(l){var d=l.alternate;if(!d){if(d=i(l),d===null)throw Error(r(188));return d!==l?null:l}for(var v=l,N=d;;){var O=v.return;if(O===null)break;var B=O.alternate;if(B===null){if(N=O.return,N!==null){v=N;continue}break}if(O.child===B.child){for(B=O.child;B;){if(B===v)return u(O),l;if(B===N)return u(O),d;B=B.sibling}throw Error(r(188))}if(v.return!==N.return)v=O,N=B;else{for(var K=!1,ae=O.child;ae;){if(ae===v){K=!0,v=O,N=B;break}if(ae===N){K=!0,N=O,v=B;break}ae=ae.sibling}if(!K){for(ae=B.child;ae;){if(ae===v){K=!0,v=B,N=O;break}if(ae===N){K=!0,N=B,v=O;break}ae=ae.sibling}if(!K)throw Error(r(189))}}if(v.alternate!==N)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?l:d}function f(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=f(l),d!==null)return d;l=l.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=W&&l[W]||l["@@iterator"],typeof l=="function"?l:null)}var Q=Symbol.for("react.client.reference");function X(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Q?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case C:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case R:return(l.displayName||"Context")+".Provider";case D:return(l._context.displayName||"Context")+".Consumer";case z:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case F:return d=l.displayName||null,d!==null?d:X(l.type)||"Memo";case V:d=l._payload,l=l._init;try{return X(l(d))}catch{}}return null}var G=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},de=[],re=-1;function pe(l){return{current:l}}function Ne(l){0>re||(l.current=de[re],de[re]=null,re--)}function Se(l,d){re++,de[re]=l.current,l.current=d}var xe=pe(null),Pe=pe(null),se=pe(null),ce=pe(null);function oe(l,d){switch(Se(se,d),Se(Pe,l),Se(xe,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?Q3(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=Q3(d),l=Z3(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Ne(xe),Se(xe,l)}function he(){Ne(xe),Ne(Pe),Ne(se)}function Re(l){l.memoizedState!==null&&Se(ce,l);var d=xe.current,v=Z3(d,l.type);d!==v&&(Se(Pe,l),Se(xe,v))}function be(l){Pe.current===l&&(Ne(xe),Ne(Pe)),ce.current===l&&(Ne(ce),ig._currentValue=Z)}var ye=Object.prototype.hasOwnProperty,Ke=e.unstable_scheduleCallback,Ve=e.unstable_cancelCallback,Qe=e.unstable_shouldYield,gt=e.unstable_requestPaint,et=e.unstable_now,bt=e.unstable_getCurrentPriorityLevel,it=e.unstable_ImmediatePriority,xr=e.unstable_UserBlockingPriority,ct=e.unstable_NormalPriority,bn=e.unstable_LowPriority,Jr=e.unstable_IdlePriority,vr=e.log,Ga=e.unstable_setDisableYieldValue,En=null,Qn=null;function yr(l){if(typeof vr=="function"&&Ga(l),Qn&&typeof Qn.setStrictMode=="function")try{Qn.setStrictMode(En,l)}catch{}}var sn=Math.clz32?Math.clz32:vi,qs=Math.log,Wi=Math.LN2;function vi(l){return l>>>=0,l===0?32:31-(qs(l)/Wi|0)|0}var un=256,rt=4194304;function wn(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function dn(l,d,v){var N=l.pendingLanes;if(N===0)return 0;var O=0,B=l.suspendedLanes,K=l.pingedLanes;l=l.warmLanes;var ae=N&134217727;return ae!==0?(N=ae&~B,N!==0?O=wn(N):(K&=ae,K!==0?O=wn(K):v||(v=ae&~l,v!==0&&(O=wn(v))))):(ae=N&~B,ae!==0?O=wn(ae):K!==0?O=wn(K):v||(v=N&~l,v!==0&&(O=wn(v)))),O===0?0:d!==0&&d!==O&&(d&B)===0&&(B=O&-O,v=d&-d,B>=v||B===32&&(v&4194048)!==0)?d:O}function Cn(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function Gi(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ps(){var l=un;return un<<=1,(un&4194048)===0&&(un=256),l}function Tu(){var l=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),l}function en(l){for(var d=[],v=0;31>v;v++)d.push(l);return d}function Ka(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ou(l,d,v,N,O,B){var K=l.pendingLanes;l.pendingLanes=v,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=v,l.entangledLanes&=v,l.errorRecoveryDisabledLanes&=v,l.shellSuspendCounter=0;var ae=l.entanglements,me=l.expirationTimes,ke=l.hiddenUpdates;for(v=K&~v;0<v;){var He=31-sn(v),We=1<<He;ae[He]=0,me[He]=-1;var Ie=ke[He];if(Ie!==null)for(ke[He]=null,He=0;He<Ie.length;He++){var Be=Ie[He];Be!==null&&(Be.lane&=-536870913)}v&=~We}N!==0&&Rt(l,N,0),B!==0&&O===0&&l.tag!==0&&(l.suspendedLanes|=B&~(K&~d))}function Rt(l,d,v){l.pendingLanes|=d,l.suspendedLanes&=~d;var N=31-sn(d);l.entangledLanes|=d,l.entanglements[N]=l.entanglements[N]|1073741824|v&4194090}function xn(l,d){var v=l.entangledLanes|=d;for(l=l.entanglements;v;){var N=31-sn(v),O=1<<N;O&d|l[N]&d&&(l[N]|=d),v&=~O}}function or(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function hn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Os(){var l=J.p;return l!==0?l:(l=window.event,l===void 0?32:xO(l.type))}function lr(l,d){var v=J.p;try{return J.p=l,d()}finally{J.p=v}}var jn=Math.random().toString(36).slice(2),br="__reactFiber$"+jn,mn="__reactProps$"+jn,Cr="__reactContainer$"+jn,Ir="__reactEvents$"+jn,Ba="__reactListeners$"+jn,xs="__reactHandles$"+jn,ut="__reactResources$"+jn,yi="__reactMarker$"+jn;function Mu(l){delete l[br],delete l[mn],delete l[Ir],delete l[Ba],delete l[xs]}function Lr(l){var d=l[br];if(d)return d;for(var v=l.parentNode;v;){if(d=v[Cr]||v[br]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(l=nO(l);l!==null;){if(v=l[br])return v;l=nO(l)}return d}l=v,v=l.parentNode}return null}function Ys(l){if(l=l[br]||l[Cr]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function yo(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Ki(l){var d=l[ut];return d||(d=l[ut]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Mn(l){l[yi]=!0}var f0=new Set,h0={};function Na(l,d){Tr(l,d),Tr(l+"Capture",d)}function Tr(l,d){for(h0[l]=d,l=0;l<d.length;l++)f0.add(d[l])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ym={},Xi={};function bm(l){return ye.call(Xi,l)?!0:ye.call(ym,l)?!1:Zn.test(l)?Xi[l]=!0:(ym[l]=!0,!1)}function Ge(l,d,v){if(bm(d))if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var N=d.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+v)}}function ef(l,d,v){if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+v)}}function Nn(l,d,v,N){if(N===null)l.removeAttribute(v);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(v);return}l.setAttributeNS(d,v,""+N)}}var bo,m0;function tn(l){if(bo===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);bo=d&&d[1]||"",m0=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bo+l+m0}var fn=!1;function Gt(l,d){if(!l||fn)return"";fn=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(d){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Be){var Ie=Be}Reflect.construct(l,[],We)}else{try{We.call()}catch(Be){Ie=Be}l.call(We.prototype)}}else{try{throw Error()}catch(Be){Ie=Be}(We=l())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Be){if(Be&&Ie&&typeof Be.stack=="string")return[Be.stack,Ie.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=N.DetermineComponentFrameRoot(),K=B[0],ae=B[1];if(K&&ae){var me=K.split(`
`),ke=ae.split(`
`);for(O=N=0;N<me.length&&!me[N].includes("DetermineComponentFrameRoot");)N++;for(;O<ke.length&&!ke[O].includes("DetermineComponentFrameRoot");)O++;if(N===me.length||O===ke.length)for(N=me.length-1,O=ke.length-1;1<=N&&0<=O&&me[N]!==ke[O];)O--;for(;1<=N&&0<=O;N--,O--)if(me[N]!==ke[O]){if(N!==1||O!==1)do if(N--,O--,0>O||me[N]!==ke[O]){var He=`
`+me[N].replace(" at new "," at ");return l.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",l.displayName)),He}while(1<=N&&0<=O);break}}}finally{fn=!1,Error.prepareStackTrace=v}return(v=l?l.displayName||l.name:"")?tn(v):""}function wm(l){switch(l.tag){case 26:case 27:case 5:return tn(l.type);case 16:return tn("Lazy");case 13:return tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Gt(l.type,!1);case 11:return Gt(l.type.render,!1);case 1:return Gt(l.type,!0);case 31:return tn("Activity");default:return""}}function tf(l){try{var d="";do d+=wm(l),l=l.return;while(l);return d}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Xa(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Or(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function wo(l){var d=Or(l)?"checked":"value",v=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),N=""+l[d];if(!l.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var O=v.get,B=v.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return O.call(this)},set:function(K){N=""+K,B.call(this,K)}}),Object.defineProperty(l,d,{enumerable:v.enumerable}),{getValue:function(){return N},setValue:function(K){N=""+K},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function nf(l){l._valueTracker||(l._valueTracker=wo(l))}function cr(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var v=d.getValue(),N="";return l&&(N=Or(l)?l.checked?"true":"false":l.value),l=N,l!==v?(d.setValue(l),!0):!1}function Ws(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Q1=/[\n"\\]/g;function da(l){return l.replace(Q1,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Tn(l,d,v,N,O,B,K,ae){l.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?l.type=K:l.removeAttribute("type"),d!=null?K==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+Xa(d)):l.value!==""+Xa(d)&&(l.value=""+Xa(d)):K!=="submit"&&K!=="reset"||l.removeAttribute("value"),d!=null?Me(l,K,Xa(d)):v!=null?Me(l,K,Xa(v)):N!=null&&l.removeAttribute("value"),O==null&&B!=null&&(l.defaultChecked=!!B),O!=null&&(l.checked=O&&typeof O!="function"&&typeof O!="symbol"),ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?l.name=""+Xa(ae):l.removeAttribute("name")}function fa(l,d,v,N,O,B,K,ae){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(l.type=B),d!=null||v!=null){if(!(B!=="submit"&&B!=="reset"||d!=null))return;v=v!=null?""+Xa(v):"",d=d!=null?""+Xa(d):v,ae||d===l.value||(l.value=d),l.defaultValue=d}N=N??O,N=typeof N!="function"&&typeof N!="symbol"&&!!N,l.checked=ae?l.checked:!!N,l.defaultChecked=!!N,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(l.name=K)}function Me(l,d,v){d==="number"&&Ws(l.ownerDocument)===l||l.defaultValue===""+v||(l.defaultValue=""+v)}function ie(l,d,v,N){if(l=l.options,d){d={};for(var O=0;O<v.length;O++)d["$"+v[O]]=!0;for(v=0;v<l.length;v++)O=d.hasOwnProperty("$"+l[v].value),l[v].selected!==O&&(l[v].selected=O),O&&N&&(l[v].defaultSelected=!0)}else{for(v=""+Xa(v),d=null,O=0;O<l.length;O++){if(l[O].value===v){l[O].selected=!0,N&&(l[O].defaultSelected=!0);return}d!==null||l[O].disabled||(d=l[O])}d!==null&&(d.selected=!0)}}function wt(l,d,v){if(d!=null&&(d=""+Xa(d),d!==l.value&&(l.value=d),v==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=v!=null?""+Xa(v):""}function Br(l,d,v,N){if(d==null){if(N!=null){if(v!=null)throw Error(r(92));if(G(N)){if(1<N.length)throw Error(r(93));N=N[0]}v=N}v==null&&(v=""),d=v}v=Xa(d),l.defaultValue=v,N=l.textContent,N===v&&N!==""&&N!==null&&(l.value=N)}function ha(l,d){if(d){var v=l.firstChild;if(v&&v===l.lastChild&&v.nodeType===3){v.nodeValue=d;return}}l.textContent=d}var Z1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rf(l,d,v){var N=d.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?N?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":N?l.setProperty(d,v):typeof v!="number"||v===0||Z1.has(d)?d==="float"?l.cssFloat=v:l[d]=(""+v).trim():l[d]=v+"px"}function vs(l,d,v){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,v!=null){for(var N in v)!v.hasOwnProperty(N)||d!=null&&d.hasOwnProperty(N)||(N.indexOf("--")===0?l.setProperty(N,""):N==="float"?l.cssFloat="":l[N]="");for(var O in d)N=d[O],d.hasOwnProperty(O)&&v[O]!==N&&rf(l,O,N)}else for(var B in d)d.hasOwnProperty(B)&&rf(l,B,d[B])}function jt(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function af(l){return g0.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Du=null;function sc(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var jo=null,ic=null;function Fr(l){var d=Ys(l);if(d&&(l=d.stateNode)){var v=l[mn]||null;e:switch(l=d.stateNode,d.type){case"input":if(Tn(l,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),d=v.name,v.type==="radio"&&d!=null){for(v=l;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+da(""+d)+'"][type="radio"]'),d=0;d<v.length;d++){var N=v[d];if(N!==l&&N.form===l.form){var O=N[mn]||null;if(!O)throw Error(r(90));Tn(N,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<v.length;d++)N=v[d],N.form===l.form&&cr(N)}break e;case"textarea":wt(l,v.value,v.defaultValue);break e;case"select":d=v.value,d!=null&&ie(l,!!v.multiple,d,!1)}}}var cl=!1;function Qi(l,d,v){if(cl)return l(d,v);cl=!0;try{var N=l(d);return N}finally{if(cl=!1,(jo!==null||ic!==null)&&(ex(),jo&&(d=jo,l=ic,ic=jo=null,Fr(d),l)))for(d=0;d<l.length;d++)Fr(l[d])}}function Et(l,d){var v=l.stateNode;if(v===null)return null;var N=v[mn]||null;if(N===null)return null;v=N[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(l=l.type,N=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!N;break e;default:l=!1}if(l)return null;if(v&&typeof v!="function")throw Error(r(231,d,typeof v));return v}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zt=!1;if(Zi)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){zt=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{zt=!1}var No=null,Pu=null,Ru=null;function So(){if(Ru)return Ru;var l,d=Pu,v=d.length,N,O="value"in No?No.value:No.textContent,B=O.length;for(l=0;l<v&&d[l]===O[l];l++);var K=v-l;for(N=1;N<=K&&d[v-N]===O[B-N];N++);return Ru=O.slice(l,1<N?1-N:void 0)}function sf(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function _o(){return!0}function oc(){return!1}function ea(l){function d(v,N,O,B,K){this._reactName=v,this._targetInst=O,this.type=N,this.nativeEvent=B,this.target=K,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(v=l[ae],this[ae]=v?v(B):B[ae]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?_o:oc,this.isPropagationStopped=oc,this}return g(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),d}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=ea(Eo),Ji=g({},Eo,{view:0,detail:0}),Qa=ea(Ji),of,lf,lc,cf=g({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==lc&&(lc&&l.type==="mousemove"?(of=l.screenX-lc.screenX,lf=l.screenY-lc.screenY):lf=of=0,lc=l),of)},movementY:function(l){return"movementY"in l?l.movementY:lf}}),p0=ea(cf),J1=g({},cf,{dataTransfer:0}),On=ea(J1),x0=g({},Ji,{relatedTarget:0}),cc=ea(x0),Co=g({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),eb=ea(Co),Fe=g({},Eo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),qt=ea(Fe),ma=g({},Eo,{data:0}),ku=ea(ma),v0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=nb[l])?!!d[l]:!1}function Iu(){return rb}var Ur=g({},Ji,{key:function(l){if(l.key){var d=v0[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=sf(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?tb[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(l){return l.type==="keypress"?sf(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?sf(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),jm=ea(Ur),ur=g({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=ea(ur),ul=g({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),Dn=ea(ul),Ct=g({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ab=ea(Ct),qn=g({},cf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),dl=ea(qn),uc=g({},Eo,{newState:0,oldState:0}),sb=ea(uc),bi=[9,13,27,32],Bu=Zi&&"CompositionEvent"in window,dc=null;Zi&&"documentMode"in document&&(dc=document.documentMode);var Nm=Zi&&"TextEvent"in window&&!dc,Sm=Zi&&(!Bu||dc&&8<dc&&11>=dc),_m=" ",y0=!1;function fl(l,d){switch(l){case"keyup":return bi.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var fc=!1;function Fu(l,d){switch(l){case"compositionend":return uf(d);case"keypress":return d.which!==32?null:(y0=!0,_m);case"textInput":return l=d.data,l===_m&&y0?null:l;default:return null}}function ib(l,d){if(fc)return l==="compositionend"||!Bu&&fl(l,d)?(l=So(),Ru=Pu=No=null,fc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Sm&&d.locale!=="ko"?null:d.data;default:return null}}var To={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!To[l.type]:d==="textarea"}function ys(l,d,v,N){jo?ic?ic.push(N):ic=[N]:jo=N,d=ix(d,"onChange"),0<d.length&&(v=new Ao("onChange","change",null,v,N),l.push({event:v,listeners:d}))}var hc=null,Za=null;function ob(l){Y3(l,0)}function mc(l){var d=yo(l);if(cr(d))return l}function b0(l,d){if(l==="change")return d}var Em=!1;if(Zi){var Ms;if(Zi){var Am="oninput"in document;if(!Am){var df=document.createElement("div");df.setAttribute("oninput","return;"),Am=typeof df.oninput=="function"}Ms=Am}else Ms=!1;Em=Ms&&(!document.documentMode||9<document.documentMode)}function gc(){hc&&(hc.detachEvent("onpropertychange",on),Za=hc=null)}function on(l){if(l.propertyName==="value"&&mc(Za)){var d=[];ys(d,Za,l,sc(l)),Qi(ob,d)}}function ff(l,d,v){l==="focusin"?(gc(),hc=d,Za=v,hc.attachEvent("onpropertychange",on)):l==="focusout"&&gc()}function ee(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return mc(Za)}function c(l,d){if(l==="click")return mc(d)}function h(l,d){if(l==="input"||l==="change")return mc(d)}function p(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var y=typeof Object.is=="function"?Object.is:p;function b(l,d){if(y(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var v=Object.keys(l),N=Object.keys(d);if(v.length!==N.length)return!1;for(N=0;N<v.length;N++){var O=v[N];if(!ye.call(d,O)||!y(l[O],d[O]))return!1}return!0}function S(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function T(l,d){var v=S(l);l=0;for(var N;v;){if(v.nodeType===3){if(N=l+v.textContent.length,l<=d&&N>=d)return{node:v,offset:d-l};l=N}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=S(v)}}function P(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?P(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function U(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=Ws(l.document);d instanceof l.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)l=d.contentWindow;else break;d=Ws(l.document)}return d}function q(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var te=Zi&&"documentMode"in document&&11>=document.documentMode,ne=null,le=null,ge=null,ve=!1;function Ce(l,d,v){var N=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;ve||ne==null||ne!==Ws(N)||(N=ne,"selectionStart"in N&&q(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),ge&&b(ge,N)||(ge=N,N=ix(le,"onSelect"),0<N.length&&(d=new Ao("onSelect","select",null,d,v),l.push({event:d,listeners:N}),d.target=ne)))}function Le(l,d){var v={};return v[l.toLowerCase()]=d.toLowerCase(),v["Webkit"+l]="webkit"+d,v["Moz"+l]="moz"+d,v}var Ze={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionrun:Le("Transition","TransitionRun"),transitionstart:Le("Transition","TransitionStart"),transitioncancel:Le("Transition","TransitionCancel"),transitionend:Le("Transition","TransitionEnd")},tt={},Xe={};Zi&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete Ze.animationend.animation,delete Ze.animationiteration.animation,delete Ze.animationstart.animation),"TransitionEvent"in window||delete Ze.transitionend.transition);function Vt(l){if(tt[l])return tt[l];if(!Ze[l])return l;var d=Ze[l],v;for(v in d)if(d.hasOwnProperty(v)&&v in Xe)return tt[l]=d[v];return l}var Ft=Vt("animationend"),Fa=Vt("animationiteration"),Ds=Vt("animationstart"),Ja=Vt("transitionrun"),Pn=Vt("transitionstart"),ga=Vt("transitioncancel"),es=Vt("transitionend"),hl=new Map,Oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oo.push("scrollEnd");function Gs(l,d){hl.set(l,d),Na(d,[l])}var w0=new WeakMap;function wi(l,d){if(typeof l=="object"&&l!==null){var v=w0.get(l);return v!==void 0?v:(d={value:l,source:d,stack:tf(d)},w0.set(l,d),d)}return{value:l,source:d,stack:tf(d)}}var ji=[],hf=0,lb=0;function j0(){for(var l=hf,d=lb=hf=0;d<l;){var v=ji[d];ji[d++]=null;var N=ji[d];ji[d++]=null;var O=ji[d];ji[d++]=null;var B=ji[d];if(ji[d++]=null,N!==null&&O!==null){var K=N.pending;K===null?O.next=O:(O.next=K.next,K.next=O),N.pending=O}B!==0&&OT(v,O,B)}}function N0(l,d,v,N){ji[hf++]=l,ji[hf++]=d,ji[hf++]=v,ji[hf++]=N,lb|=N,l.lanes|=N,l=l.alternate,l!==null&&(l.lanes|=N)}function cb(l,d,v,N){return N0(l,d,v,N),S0(l)}function mf(l,d){return N0(l,null,null,d),S0(l)}function OT(l,d,v){l.lanes|=v;var N=l.alternate;N!==null&&(N.lanes|=v);for(var O=!1,B=l.return;B!==null;)B.childLanes|=v,N=B.alternate,N!==null&&(N.childLanes|=v),B.tag===22&&(l=B.stateNode,l===null||l._visibility&1||(O=!0)),l=B,B=B.return;return l.tag===3?(B=l.stateNode,O&&d!==null&&(O=31-sn(v),l=B.hiddenUpdates,N=l[O],N===null?l[O]=[d]:N.push(d),d.lane=v|536870912),B):null}function S0(l){if(50<Zm)throw Zm=0,gw=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var gf={};function UH(l,d,v,N){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(l,d,v,N){return new UH(l,d,v,N)}function ub(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ml(l,d){var v=l.alternate;return v===null?(v=Ks(l.tag,d,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=d,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&65011712,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,d=l.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v.refCleanup=l.refCleanup,v}function MT(l,d){l.flags&=65011714;var v=l.alternate;return v===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=v.childLanes,l.lanes=v.lanes,l.child=v.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=v.memoizedProps,l.memoizedState=v.memoizedState,l.updateQueue=v.updateQueue,l.type=v.type,d=v.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function _0(l,d,v,N,O,B){var K=0;if(N=l,typeof l=="function")ub(l)&&(K=1);else if(typeof l=="string")K=Vq(l,v,xe.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=Ks(31,v,d,O),l.elementType=L,l.lanes=B,l;case C:return zu(v.children,O,B,d);case A:K=8,O|=24;break;case E:return l=Ks(12,v,d,O|2),l.elementType=E,l.lanes=B,l;case I:return l=Ks(13,v,d,O),l.elementType=I,l.lanes=B,l;case k:return l=Ks(19,v,d,O),l.elementType=k,l.lanes=B,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:case R:K=10;break e;case D:K=9;break e;case z:K=11;break e;case F:K=14;break e;case V:K=16,N=null;break e}K=29,v=Error(r(130,l===null?"null":typeof l,"")),N=null}return d=Ks(K,v,d,O),d.elementType=l,d.type=N,d.lanes=B,d}function zu(l,d,v,N){return l=Ks(7,l,N,d),l.lanes=v,l}function db(l,d,v){return l=Ks(6,l,null,d),l.lanes=v,l}function fb(l,d,v){return d=Ks(4,l.children!==null?l.children:[],l.key,d),d.lanes=v,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var pf=[],xf=0,E0=null,A0=0,Ni=[],Si=0,Vu=null,gl=1,pl="";function $u(l,d){pf[xf++]=A0,pf[xf++]=E0,E0=l,A0=d}function DT(l,d,v){Ni[Si++]=gl,Ni[Si++]=pl,Ni[Si++]=Vu,Vu=l;var N=gl;l=pl;var O=32-sn(N)-1;N&=~(1<<O),v+=1;var B=32-sn(d)+O;if(30<B){var K=O-O%5;B=(N&(1<<K)-1).toString(32),N>>=K,O-=K,gl=1<<32-sn(d)+O|v<<O|N,pl=B+l}else gl=1<<B|v<<O|N,pl=l}function hb(l){l.return!==null&&($u(l,1),DT(l,1,0))}function mb(l){for(;l===E0;)E0=pf[--xf],pf[xf]=null,A0=pf[--xf],pf[xf]=null;for(;l===Vu;)Vu=Ni[--Si],Ni[Si]=null,pl=Ni[--Si],Ni[Si]=null,gl=Ni[--Si],Ni[Si]=null}var bs=null,Mr=null,An=!1,Hu=null,Mo=!1,gb=Error(r(519));function qu(l){var d=Error(r(418,""));throw Om(wi(d,l)),gb}function PT(l){var d=l.stateNode,v=l.type,N=l.memoizedProps;switch(d[br]=l,d[mn]=N,v){case"dialog":rn("cancel",d),rn("close",d);break;case"iframe":case"object":case"embed":rn("load",d);break;case"video":case"audio":for(v=0;v<eg.length;v++)rn(eg[v],d);break;case"source":rn("error",d);break;case"img":case"image":case"link":rn("error",d),rn("load",d);break;case"details":rn("toggle",d);break;case"input":rn("invalid",d),fa(d,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0),nf(d);break;case"select":rn("invalid",d);break;case"textarea":rn("invalid",d),Br(d,N.value,N.defaultValue,N.children),nf(d)}v=N.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||d.textContent===""+v||N.suppressHydrationWarning===!0||X3(d.textContent,v)?(N.popover!=null&&(rn("beforetoggle",d),rn("toggle",d)),N.onScroll!=null&&rn("scroll",d),N.onScrollEnd!=null&&rn("scrollend",d),N.onClick!=null&&(d.onclick=ox),d=!0):d=!1,d||qu(l)}function RT(l){for(bs=l.return;bs;)switch(bs.tag){case 5:case 13:Mo=!1;return;case 27:case 3:Mo=!0;return;default:bs=bs.return}}function Cm(l){if(l!==bs)return!1;if(!An)return RT(l),An=!0,!1;var d=l.tag,v;if((v=d!==3&&d!==27)&&((v=d===5)&&(v=l.type,v=!(v!=="form"&&v!=="button")||Mw(l.type,l.memoizedProps)),v=!v),v&&Mr&&qu(l),RT(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(v=l.data,v==="/$"){if(d===0){Mr=to(l.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++;l=l.nextSibling}Mr=null}}else d===27?(d=Mr,Mc(l.type)?(l=kw,kw=null,Mr=l):Mr=d):Mr=bs?to(l.stateNode.nextSibling):null;return!0}function Tm(){Mr=bs=null,An=!1}function kT(){var l=Hu;return l!==null&&(ks===null?ks=l:ks.push.apply(ks,l),Hu=null),l}function Om(l){Hu===null?Hu=[l]:Hu.push(l)}var pb=pe(null),Yu=null,xl=null;function pc(l,d,v){Se(pb,d._currentValue),d._currentValue=v}function vl(l){l._currentValue=pb.current,Ne(pb)}function xb(l,d,v){for(;l!==null;){var N=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,N!==null&&(N.childLanes|=d)):N!==null&&(N.childLanes&d)!==d&&(N.childLanes|=d),l===v)break;l=l.return}}function vb(l,d,v,N){var O=l.child;for(O!==null&&(O.return=l);O!==null;){var B=O.dependencies;if(B!==null){var K=O.child;B=B.firstContext;e:for(;B!==null;){var ae=B;B=O;for(var me=0;me<d.length;me++)if(ae.context===d[me]){B.lanes|=v,ae=B.alternate,ae!==null&&(ae.lanes|=v),xb(B.return,v,l),N||(K=null);break e}B=ae.next}}else if(O.tag===18){if(K=O.return,K===null)throw Error(r(341));K.lanes|=v,B=K.alternate,B!==null&&(B.lanes|=v),xb(K,v,l),K=null}else K=O.child;if(K!==null)K.return=O;else for(K=O;K!==null;){if(K===l){K=null;break}if(O=K.sibling,O!==null){O.return=K.return,K=O;break}K=K.return}O=K}}function Mm(l,d,v,N){l=null;for(var O=d,B=!1;O!==null;){if(!B){if((O.flags&524288)!==0)B=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var K=O.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var ae=O.type;y(O.pendingProps.value,K.value)||(l!==null?l.push(ae):l=[ae])}}else if(O===ce.current){if(K=O.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(l!==null?l.push(ig):l=[ig])}O=O.return}l!==null&&vb(d,l,v,N),d.flags|=262144}function C0(l){for(l=l.firstContext;l!==null;){if(!y(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Wu(l){Yu=l,xl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ts(l){return IT(Yu,l)}function T0(l,d){return Yu===null&&Wu(l),IT(l,d)}function IT(l,d){var v=d._currentValue;if(d={context:d,memoizedValue:v,next:null},xl===null){if(l===null)throw Error(r(308));xl=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else xl=xl.next=d;return v}var zH=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(v,N){l.push(N)}};this.abort=function(){d.aborted=!0,l.forEach(function(v){return v()})}},VH=e.unstable_scheduleCallback,$H=e.unstable_NormalPriority,pa={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yb(){return{controller:new zH,data:new Map,refCount:0}}function Dm(l){l.refCount--,l.refCount===0&&VH($H,function(){l.controller.abort()})}var Pm=null,bb=0,vf=0,yf=null;function HH(l,d){if(Pm===null){var v=Pm=[];bb=0,vf=jw(),yf={status:"pending",value:void 0,then:function(N){v.push(N)}}}return bb++,d.then(LT,LT),d}function LT(){if(--bb===0&&Pm!==null){yf!==null&&(yf.status="fulfilled");var l=Pm;Pm=null,vf=0,yf=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function qH(l,d){var v=[],N={status:"pending",value:null,reason:null,then:function(O){v.push(O)}};return l.then(function(){N.status="fulfilled",N.value=d;for(var O=0;O<v.length;O++)(0,v[O])(d)},function(O){for(N.status="rejected",N.reason=O,O=0;O<v.length;O++)(0,v[O])(void 0)}),N}var BT=H.S;H.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&HH(l,d),BT!==null&&BT(l,d)};var Gu=pe(null);function wb(){var l=Gu.current;return l!==null?l:Jn.pooledCache}function O0(l,d){d===null?Se(Gu,Gu.current):Se(Gu,d.pool)}function FT(){var l=wb();return l===null?null:{parent:pa._currentValue,pool:l}}var Rm=Error(r(460)),UT=Error(r(474)),M0=Error(r(542)),jb={then:function(){}};function zT(l){return l=l.status,l==="fulfilled"||l==="rejected"}function D0(){}function VT(l,d,v){switch(v=l[v],v===void 0?l.push(d):v!==d&&(d.then(D0,D0),d=v),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,HT(l),l;default:if(typeof d.status=="string")d.then(D0,D0);else{if(l=Jn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(N){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=N}},function(N){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=N}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,HT(l),l}throw km=d,Rm}}var km=null;function $T(){if(km===null)throw Error(r(459));var l=km;return km=null,l}function HT(l){if(l===Rm||l===M0)throw Error(r(483))}var xc=!1;function Nb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sb(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function vc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function yc(l,d,v){var N=l.updateQueue;if(N===null)return null;if(N=N.shared,(Rn&2)!==0){var O=N.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),N.pending=d,d=S0(l),OT(l,null,v),d}return N0(l,N,d,v),S0(l)}function Im(l,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194048)!==0)){var N=d.lanes;N&=l.pendingLanes,v|=N,d.lanes=v,xn(l,v)}}function _b(l,d){var v=l.updateQueue,N=l.alternate;if(N!==null&&(N=N.updateQueue,v===N)){var O=null,B=null;if(v=v.firstBaseUpdate,v!==null){do{var K={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};B===null?O=B=K:B=B.next=K,v=v.next}while(v!==null);B===null?O=B=d:B=B.next=d}else O=B=d;v={baseState:N.baseState,firstBaseUpdate:O,lastBaseUpdate:B,shared:N.shared,callbacks:N.callbacks},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=d:l.next=d,v.lastBaseUpdate=d}var Eb=!1;function Lm(){if(Eb){var l=yf;if(l!==null)throw l}}function Bm(l,d,v,N){Eb=!1;var O=l.updateQueue;xc=!1;var B=O.firstBaseUpdate,K=O.lastBaseUpdate,ae=O.shared.pending;if(ae!==null){O.shared.pending=null;var me=ae,ke=me.next;me.next=null,K===null?B=ke:K.next=ke,K=me;var He=l.alternate;He!==null&&(He=He.updateQueue,ae=He.lastBaseUpdate,ae!==K&&(ae===null?He.firstBaseUpdate=ke:ae.next=ke,He.lastBaseUpdate=me))}if(B!==null){var We=O.baseState;K=0,He=ke=me=null,ae=B;do{var Ie=ae.lane&-536870913,Be=Ie!==ae.lane;if(Be?(gn&Ie)===Ie:(N&Ie)===Ie){Ie!==0&&Ie===vf&&(Eb=!0),He!==null&&(He=He.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var Dt=l,Tt=ae;Ie=d;var Vn=v;switch(Tt.tag){case 1:if(Dt=Tt.payload,typeof Dt=="function"){We=Dt.call(Vn,We,Ie);break e}We=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Tt.payload,Ie=typeof Dt=="function"?Dt.call(Vn,We,Ie):Dt,Ie==null)break e;We=g({},We,Ie);break e;case 2:xc=!0}}Ie=ae.callback,Ie!==null&&(l.flags|=64,Be&&(l.flags|=8192),Be=O.callbacks,Be===null?O.callbacks=[Ie]:Be.push(Ie))}else Be={lane:Ie,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},He===null?(ke=He=Be,me=We):He=He.next=Be,K|=Ie;if(ae=ae.next,ae===null){if(ae=O.shared.pending,ae===null)break;Be=ae,ae=Be.next,Be.next=null,O.lastBaseUpdate=Be,O.shared.pending=null}}while(!0);He===null&&(me=We),O.baseState=me,O.firstBaseUpdate=ke,O.lastBaseUpdate=He,B===null&&(O.shared.lanes=0),Ac|=K,l.lanes=K,l.memoizedState=We}}function qT(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function YT(l,d){var v=l.callbacks;if(v!==null)for(l.callbacks=null,l=0;l<v.length;l++)qT(v[l],d)}var bf=pe(null),P0=pe(0);function WT(l,d){l=_l,Se(P0,l),Se(bf,d),_l=l|d.baseLanes}function Ab(){Se(P0,_l),Se(bf,bf.current)}function Cb(){_l=P0.current,Ne(bf),Ne(P0)}var bc=0,Kt=null,Un=null,ta=null,R0=!1,wf=!1,Ku=!1,k0=0,Fm=0,jf=null,YH=0;function zr(){throw Error(r(321))}function Tb(l,d){if(d===null)return!1;for(var v=0;v<d.length&&v<l.length;v++)if(!y(l[v],d[v]))return!1;return!0}function Ob(l,d,v,N,O,B){return bc=B,Kt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,H.H=l===null||l.memoizedState===null?O4:M4,Ku=!1,B=v(N,O),Ku=!1,wf&&(B=KT(d,v,N,O)),GT(l),B}function GT(l){H.H=z0;var d=Un!==null&&Un.next!==null;if(bc=0,ta=Un=Kt=null,R0=!1,Fm=0,jf=null,d)throw Error(r(300));l===null||Sa||(l=l.dependencies,l!==null&&C0(l)&&(Sa=!0))}function KT(l,d,v,N){Kt=l;var O=0;do{if(wf&&(jf=null),Fm=0,wf=!1,25<=O)throw Error(r(301));if(O+=1,ta=Un=null,l.updateQueue!=null){var B=l.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}H.H=JH,B=d(v,N)}while(wf);return B}function WH(){var l=H.H,d=l.useState()[0];return d=typeof d.then=="function"?Um(d):d,l=l.useState()[0],(Un!==null?Un.memoizedState:null)!==l&&(Kt.flags|=1024),d}function Mb(){var l=k0!==0;return k0=0,l}function Db(l,d,v){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~v}function Pb(l){if(R0){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}R0=!1}bc=0,ta=Un=Kt=null,wf=!1,Fm=k0=0,jf=null}function Ps(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ta===null?Kt.memoizedState=ta=l:ta=ta.next=l,ta}function na(){if(Un===null){var l=Kt.alternate;l=l!==null?l.memoizedState:null}else l=Un.next;var d=ta===null?Kt.memoizedState:ta.next;if(d!==null)ta=d,Un=l;else{if(l===null)throw Kt.alternate===null?Error(r(467)):Error(r(310));Un=l,l={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},ta===null?Kt.memoizedState=ta=l:ta=ta.next=l}return ta}function Rb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Um(l){var d=Fm;return Fm+=1,jf===null&&(jf=[]),l=VT(jf,l,d),d=Kt,(ta===null?d.memoizedState:ta.next)===null&&(d=d.alternate,H.H=d===null||d.memoizedState===null?O4:M4),l}function I0(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Um(l);if(l.$$typeof===R)return ts(l)}throw Error(r(438,String(l)))}function kb(l){var d=null,v=Kt.updateQueue;if(v!==null&&(d=v.memoCache),d==null){var N=Kt.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(d={data:N.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),v===null&&(v=Rb(),Kt.updateQueue=v),v.memoCache=d,v=d.data[d.index],v===void 0)for(v=d.data[d.index]=Array(l),N=0;N<l;N++)v[N]=$;return d.index++,v}function yl(l,d){return typeof d=="function"?d(l):d}function L0(l){var d=na();return Ib(d,Un,l)}function Ib(l,d,v){var N=l.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=v;var O=l.baseQueue,B=N.pending;if(B!==null){if(O!==null){var K=O.next;O.next=B.next,B.next=K}d.baseQueue=O=B,N.pending=null}if(B=l.baseState,O===null)l.memoizedState=B;else{d=O.next;var ae=K=null,me=null,ke=d,He=!1;do{var We=ke.lane&-536870913;if(We!==ke.lane?(gn&We)===We:(bc&We)===We){var Ie=ke.revertLane;if(Ie===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),We===vf&&(He=!0);else if((bc&Ie)===Ie){ke=ke.next,Ie===vf&&(He=!0);continue}else We={lane:0,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},me===null?(ae=me=We,K=B):me=me.next=We,Kt.lanes|=Ie,Ac|=Ie;We=ke.action,Ku&&v(B,We),B=ke.hasEagerState?ke.eagerState:v(B,We)}else Ie={lane:We,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},me===null?(ae=me=Ie,K=B):me=me.next=Ie,Kt.lanes|=We,Ac|=We;ke=ke.next}while(ke!==null&&ke!==d);if(me===null?K=B:me.next=ae,!y(B,l.memoizedState)&&(Sa=!0,He&&(v=yf,v!==null)))throw v;l.memoizedState=B,l.baseState=K,l.baseQueue=me,N.lastRenderedState=B}return O===null&&(N.lanes=0),[l.memoizedState,N.dispatch]}function Lb(l){var d=na(),v=d.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=l;var N=v.dispatch,O=v.pending,B=d.memoizedState;if(O!==null){v.pending=null;var K=O=O.next;do B=l(B,K.action),K=K.next;while(K!==O);y(B,d.memoizedState)||(Sa=!0),d.memoizedState=B,d.baseQueue===null&&(d.baseState=B),v.lastRenderedState=B}return[B,N]}function XT(l,d,v){var N=Kt,O=na(),B=An;if(B){if(v===void 0)throw Error(r(407));v=v()}else v=d();var K=!y((Un||O).memoizedState,v);K&&(O.memoizedState=v,Sa=!0),O=O.queue;var ae=JT.bind(null,N,O,l);if(zm(2048,8,ae,[l]),O.getSnapshot!==d||K||ta!==null&&ta.memoizedState.tag&1){if(N.flags|=2048,Nf(9,B0(),ZT.bind(null,N,O,v,d),null),Jn===null)throw Error(r(349));B||(bc&124)!==0||QT(N,d,v)}return v}function QT(l,d,v){l.flags|=16384,l={getSnapshot:d,value:v},d=Kt.updateQueue,d===null?(d=Rb(),Kt.updateQueue=d,d.stores=[l]):(v=d.stores,v===null?d.stores=[l]:v.push(l))}function ZT(l,d,v,N){d.value=v,d.getSnapshot=N,e4(d)&&t4(l)}function JT(l,d,v){return v(function(){e4(d)&&t4(l)})}function e4(l){var d=l.getSnapshot;l=l.value;try{var v=d();return!y(l,v)}catch{return!0}}function t4(l){var d=mf(l,2);d!==null&&ei(d,l,2)}function Bb(l){var d=Ps();if(typeof l=="function"){var v=l;if(l=v(),Ku){yr(!0);try{v()}finally{yr(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:l},d}function n4(l,d,v,N){return l.baseState=v,Ib(l,Un,typeof N=="function"?N:yl)}function GH(l,d,v,N,O){if(U0(l))throw Error(r(485));if(l=d.action,l!==null){var B={payload:O,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){B.listeners.push(K)}};H.T!==null?v(!0):B.isTransition=!1,N(B),v=d.pending,v===null?(B.next=d.pending=B,r4(d,B)):(B.next=v.next,d.pending=v.next=B)}}function r4(l,d){var v=d.action,N=d.payload,O=l.state;if(d.isTransition){var B=H.T,K={};H.T=K;try{var ae=v(O,N),me=H.S;me!==null&&me(K,ae),a4(l,d,ae)}catch(ke){Fb(l,d,ke)}finally{H.T=B}}else try{B=v(O,N),a4(l,d,B)}catch(ke){Fb(l,d,ke)}}function a4(l,d,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(N){s4(l,d,N)},function(N){return Fb(l,d,N)}):s4(l,d,v)}function s4(l,d,v){d.status="fulfilled",d.value=v,i4(d),l.state=v,d=l.pending,d!==null&&(v=d.next,v===d?l.pending=null:(v=v.next,d.next=v,r4(l,v)))}function Fb(l,d,v){var N=l.pending;if(l.pending=null,N!==null){N=N.next;do d.status="rejected",d.reason=v,i4(d),d=d.next;while(d!==N)}l.action=null}function i4(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function o4(l,d){return d}function l4(l,d){if(An){var v=Jn.formState;if(v!==null){e:{var N=Kt;if(An){if(Mr){t:{for(var O=Mr,B=Mo;O.nodeType!==8;){if(!B){O=null;break t}if(O=to(O.nextSibling),O===null){O=null;break t}}B=O.data,O=B==="F!"||B==="F"?O:null}if(O){Mr=to(O.nextSibling),N=O.data==="F!";break e}}qu(N)}N=!1}N&&(d=v[0])}}return v=Ps(),v.memoizedState=v.baseState=d,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o4,lastRenderedState:d},v.queue=N,v=A4.bind(null,Kt,N),N.dispatch=v,N=Bb(!1),B=Hb.bind(null,Kt,!1,N.queue),N=Ps(),O={state:d,dispatch:null,action:l,pending:null},N.queue=O,v=GH.bind(null,Kt,O,B,v),O.dispatch=v,N.memoizedState=l,[d,v,!1]}function c4(l){var d=na();return u4(d,Un,l)}function u4(l,d,v){if(d=Ib(l,d,o4)[0],l=L0(yl)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var N=Um(d)}catch(K){throw K===Rm?M0:K}else N=d;d=na();var O=d.queue,B=O.dispatch;return v!==d.memoizedState&&(Kt.flags|=2048,Nf(9,B0(),KH.bind(null,O,v),null)),[N,B,l]}function KH(l,d){l.action=d}function d4(l){var d=na(),v=Un;if(v!==null)return u4(d,v,l);na(),d=d.memoizedState,v=na();var N=v.queue.dispatch;return v.memoizedState=l,[d,N,!1]}function Nf(l,d,v,N){return l={tag:l,create:v,deps:N,inst:d,next:null},d=Kt.updateQueue,d===null&&(d=Rb(),Kt.updateQueue=d),v=d.lastEffect,v===null?d.lastEffect=l.next=l:(N=v.next,v.next=l,l.next=N,d.lastEffect=l),l}function B0(){return{destroy:void 0,resource:void 0}}function f4(){return na().memoizedState}function F0(l,d,v,N){var O=Ps();N=N===void 0?null:N,Kt.flags|=l,O.memoizedState=Nf(1|d,B0(),v,N)}function zm(l,d,v,N){var O=na();N=N===void 0?null:N;var B=O.memoizedState.inst;Un!==null&&N!==null&&Tb(N,Un.memoizedState.deps)?O.memoizedState=Nf(d,B,v,N):(Kt.flags|=l,O.memoizedState=Nf(1|d,B,v,N))}function h4(l,d){F0(8390656,8,l,d)}function m4(l,d){zm(2048,8,l,d)}function g4(l,d){return zm(4,2,l,d)}function p4(l,d){return zm(4,4,l,d)}function x4(l,d){if(typeof d=="function"){l=l();var v=d(l);return function(){typeof v=="function"?v():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function v4(l,d,v){v=v!=null?v.concat([l]):null,zm(4,4,x4.bind(null,d,l),v)}function Ub(){}function y4(l,d){var v=na();d=d===void 0?null:d;var N=v.memoizedState;return d!==null&&Tb(d,N[1])?N[0]:(v.memoizedState=[l,d],l)}function b4(l,d){var v=na();d=d===void 0?null:d;var N=v.memoizedState;if(d!==null&&Tb(d,N[1]))return N[0];if(N=l(),Ku){yr(!0);try{l()}finally{yr(!1)}}return v.memoizedState=[N,d],N}function zb(l,d,v){return v===void 0||(bc&1073741824)!==0?l.memoizedState=d:(l.memoizedState=v,l=N3(),Kt.lanes|=l,Ac|=l,v)}function w4(l,d,v,N){return y(v,d)?v:bf.current!==null?(l=zb(l,v,N),y(l,d)||(Sa=!0),l):(bc&42)===0?(Sa=!0,l.memoizedState=v):(l=N3(),Kt.lanes|=l,Ac|=l,d)}function j4(l,d,v,N,O){var B=J.p;J.p=B!==0&&8>B?B:8;var K=H.T,ae={};H.T=ae,Hb(l,!1,d,v);try{var me=O(),ke=H.S;if(ke!==null&&ke(ae,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var He=qH(me,N);Vm(l,d,He,Js(l))}else Vm(l,d,N,Js(l))}catch(We){Vm(l,d,{then:function(){},status:"rejected",reason:We},Js())}finally{J.p=B,H.T=K}}function XH(){}function Vb(l,d,v,N){if(l.tag!==5)throw Error(r(476));var O=N4(l).queue;j4(l,O,d,Z,v===null?XH:function(){return S4(l),v(N)})}function N4(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:Z},next:null};var v={};return d.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:v},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function S4(l){var d=N4(l).next.queue;Vm(l,d,{},Js())}function $b(){return ts(ig)}function _4(){return na().memoizedState}function E4(){return na().memoizedState}function QH(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var v=Js();l=vc(v);var N=yc(d,l,v);N!==null&&(ei(N,d,v),Im(N,d,v)),d={cache:yb()},l.payload=d;return}d=d.return}}function ZH(l,d,v){var N=Js();v={lane:N,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},U0(l)?C4(d,v):(v=cb(l,d,v,N),v!==null&&(ei(v,l,N),T4(v,d,N)))}function A4(l,d,v){var N=Js();Vm(l,d,v,N)}function Vm(l,d,v,N){var O={lane:N,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(U0(l))C4(d,O);else{var B=l.alternate;if(l.lanes===0&&(B===null||B.lanes===0)&&(B=d.lastRenderedReducer,B!==null))try{var K=d.lastRenderedState,ae=B(K,v);if(O.hasEagerState=!0,O.eagerState=ae,y(ae,K))return N0(l,d,O,0),Jn===null&&j0(),!1}catch{}finally{}if(v=cb(l,d,O,N),v!==null)return ei(v,l,N),T4(v,d,N),!0}return!1}function Hb(l,d,v,N){if(N={lane:2,revertLane:jw(),action:N,hasEagerState:!1,eagerState:null,next:null},U0(l)){if(d)throw Error(r(479))}else d=cb(l,v,N,2),d!==null&&ei(d,l,2)}function U0(l){var d=l.alternate;return l===Kt||d!==null&&d===Kt}function C4(l,d){wf=R0=!0;var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}function T4(l,d,v){if((v&4194048)!==0){var N=d.lanes;N&=l.pendingLanes,v|=N,d.lanes=v,xn(l,v)}}var z0={readContext:ts,use:I0,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr,useHostTransitionStatus:zr,useFormState:zr,useActionState:zr,useOptimistic:zr,useMemoCache:zr,useCacheRefresh:zr},O4={readContext:ts,use:I0,useCallback:function(l,d){return Ps().memoizedState=[l,d===void 0?null:d],l},useContext:ts,useEffect:h4,useImperativeHandle:function(l,d,v){v=v!=null?v.concat([l]):null,F0(4194308,4,x4.bind(null,d,l),v)},useLayoutEffect:function(l,d){return F0(4194308,4,l,d)},useInsertionEffect:function(l,d){F0(4,2,l,d)},useMemo:function(l,d){var v=Ps();d=d===void 0?null:d;var N=l();if(Ku){yr(!0);try{l()}finally{yr(!1)}}return v.memoizedState=[N,d],N},useReducer:function(l,d,v){var N=Ps();if(v!==void 0){var O=v(d);if(Ku){yr(!0);try{v(d)}finally{yr(!1)}}}else O=d;return N.memoizedState=N.baseState=O,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:O},N.queue=l,l=l.dispatch=ZH.bind(null,Kt,l),[N.memoizedState,l]},useRef:function(l){var d=Ps();return l={current:l},d.memoizedState=l},useState:function(l){l=Bb(l);var d=l.queue,v=A4.bind(null,Kt,d);return d.dispatch=v,[l.memoizedState,v]},useDebugValue:Ub,useDeferredValue:function(l,d){var v=Ps();return zb(v,l,d)},useTransition:function(){var l=Bb(!1);return l=j4.bind(null,Kt,l.queue,!0,!1),Ps().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,v){var N=Kt,O=Ps();if(An){if(v===void 0)throw Error(r(407));v=v()}else{if(v=d(),Jn===null)throw Error(r(349));(gn&124)!==0||QT(N,d,v)}O.memoizedState=v;var B={value:v,getSnapshot:d};return O.queue=B,h4(JT.bind(null,N,B,l),[l]),N.flags|=2048,Nf(9,B0(),ZT.bind(null,N,B,v,d),null),v},useId:function(){var l=Ps(),d=Jn.identifierPrefix;if(An){var v=pl,N=gl;v=(N&~(1<<32-sn(N)-1)).toString(32)+v,d="«"+d+"R"+v,v=k0++,0<v&&(d+="H"+v.toString(32)),d+="»"}else v=YH++,d="«"+d+"r"+v.toString(32)+"»";return l.memoizedState=d},useHostTransitionStatus:$b,useFormState:l4,useActionState:l4,useOptimistic:function(l){var d=Ps();d.memoizedState=d.baseState=l;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=v,d=Hb.bind(null,Kt,!0,v),v.dispatch=d,[l,d]},useMemoCache:kb,useCacheRefresh:function(){return Ps().memoizedState=QH.bind(null,Kt)}},M4={readContext:ts,use:I0,useCallback:y4,useContext:ts,useEffect:m4,useImperativeHandle:v4,useInsertionEffect:g4,useLayoutEffect:p4,useMemo:b4,useReducer:L0,useRef:f4,useState:function(){return L0(yl)},useDebugValue:Ub,useDeferredValue:function(l,d){var v=na();return w4(v,Un.memoizedState,l,d)},useTransition:function(){var l=L0(yl)[0],d=na().memoizedState;return[typeof l=="boolean"?l:Um(l),d]},useSyncExternalStore:XT,useId:_4,useHostTransitionStatus:$b,useFormState:c4,useActionState:c4,useOptimistic:function(l,d){var v=na();return n4(v,Un,l,d)},useMemoCache:kb,useCacheRefresh:E4},JH={readContext:ts,use:I0,useCallback:y4,useContext:ts,useEffect:m4,useImperativeHandle:v4,useInsertionEffect:g4,useLayoutEffect:p4,useMemo:b4,useReducer:Lb,useRef:f4,useState:function(){return Lb(yl)},useDebugValue:Ub,useDeferredValue:function(l,d){var v=na();return Un===null?zb(v,l,d):w4(v,Un.memoizedState,l,d)},useTransition:function(){var l=Lb(yl)[0],d=na().memoizedState;return[typeof l=="boolean"?l:Um(l),d]},useSyncExternalStore:XT,useId:_4,useHostTransitionStatus:$b,useFormState:d4,useActionState:d4,useOptimistic:function(l,d){var v=na();return Un!==null?n4(v,Un,l,d):(v.baseState=l,[l,v.queue.dispatch])},useMemoCache:kb,useCacheRefresh:E4},Sf=null,$m=0;function V0(l){var d=$m;return $m+=1,Sf===null&&(Sf=[]),VT(Sf,l,d)}function Hm(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function $0(l,d){throw d.$$typeof===x?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function D4(l){var d=l._init;return d(l._payload)}function P4(l){function d(Ee,je){if(l){var De=Ee.deletions;De===null?(Ee.deletions=[je],Ee.flags|=16):De.push(je)}}function v(Ee,je){if(!l)return null;for(;je!==null;)d(Ee,je),je=je.sibling;return null}function N(Ee){for(var je=new Map;Ee!==null;)Ee.key!==null?je.set(Ee.key,Ee):je.set(Ee.index,Ee),Ee=Ee.sibling;return je}function O(Ee,je){return Ee=ml(Ee,je),Ee.index=0,Ee.sibling=null,Ee}function B(Ee,je,De){return Ee.index=De,l?(De=Ee.alternate,De!==null?(De=De.index,De<je?(Ee.flags|=67108866,je):De):(Ee.flags|=67108866,je)):(Ee.flags|=1048576,je)}function K(Ee){return l&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function ae(Ee,je,De,Ye){return je===null||je.tag!==6?(je=db(De,Ee.mode,Ye),je.return=Ee,je):(je=O(je,De),je.return=Ee,je)}function me(Ee,je,De,Ye){var pt=De.type;return pt===C?He(Ee,je,De.props.children,Ye,De.key):je!==null&&(je.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===V&&D4(pt)===je.type)?(je=O(je,De.props),Hm(je,De),je.return=Ee,je):(je=_0(De.type,De.key,De.props,null,Ee.mode,Ye),Hm(je,De),je.return=Ee,je)}function ke(Ee,je,De,Ye){return je===null||je.tag!==4||je.stateNode.containerInfo!==De.containerInfo||je.stateNode.implementation!==De.implementation?(je=fb(De,Ee.mode,Ye),je.return=Ee,je):(je=O(je,De.children||[]),je.return=Ee,je)}function He(Ee,je,De,Ye,pt){return je===null||je.tag!==7?(je=zu(De,Ee.mode,Ye,pt),je.return=Ee,je):(je=O(je,De),je.return=Ee,je)}function We(Ee,je,De){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=db(""+je,Ee.mode,De),je.return=Ee,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case w:return De=_0(je.type,je.key,je.props,null,Ee.mode,De),Hm(De,je),De.return=Ee,De;case _:return je=fb(je,Ee.mode,De),je.return=Ee,je;case V:var Ye=je._init;return je=Ye(je._payload),We(Ee,je,De)}if(G(je)||Y(je))return je=zu(je,Ee.mode,De,null),je.return=Ee,je;if(typeof je.then=="function")return We(Ee,V0(je),De);if(je.$$typeof===R)return We(Ee,T0(Ee,je),De);$0(Ee,je)}return null}function Ie(Ee,je,De,Ye){var pt=je!==null?je.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return pt!==null?null:ae(Ee,je,""+De,Ye);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case w:return De.key===pt?me(Ee,je,De,Ye):null;case _:return De.key===pt?ke(Ee,je,De,Ye):null;case V:return pt=De._init,De=pt(De._payload),Ie(Ee,je,De,Ye)}if(G(De)||Y(De))return pt!==null?null:He(Ee,je,De,Ye,null);if(typeof De.then=="function")return Ie(Ee,je,V0(De),Ye);if(De.$$typeof===R)return Ie(Ee,je,T0(Ee,De),Ye);$0(Ee,De)}return null}function Be(Ee,je,De,Ye,pt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ee=Ee.get(De)||null,ae(je,Ee,""+Ye,pt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case w:return Ee=Ee.get(Ye.key===null?De:Ye.key)||null,me(je,Ee,Ye,pt);case _:return Ee=Ee.get(Ye.key===null?De:Ye.key)||null,ke(je,Ee,Ye,pt);case V:var Jt=Ye._init;return Ye=Jt(Ye._payload),Be(Ee,je,De,Ye,pt)}if(G(Ye)||Y(Ye))return Ee=Ee.get(De)||null,He(je,Ee,Ye,pt,null);if(typeof Ye.then=="function")return Be(Ee,je,De,V0(Ye),pt);if(Ye.$$typeof===R)return Be(Ee,je,De,T0(je,Ye),pt);$0(je,Ye)}return null}function Dt(Ee,je,De,Ye){for(var pt=null,Jt=null,Nt=je,Mt=je=0,Ea=null;Nt!==null&&Mt<De.length;Mt++){Nt.index>Mt?(Ea=Nt,Nt=null):Ea=Nt.sibling;var Sn=Ie(Ee,Nt,De[Mt],Ye);if(Sn===null){Nt===null&&(Nt=Ea);break}l&&Nt&&Sn.alternate===null&&d(Ee,Nt),je=B(Sn,je,Mt),Jt===null?pt=Sn:Jt.sibling=Sn,Jt=Sn,Nt=Ea}if(Mt===De.length)return v(Ee,Nt),An&&$u(Ee,Mt),pt;if(Nt===null){for(;Mt<De.length;Mt++)Nt=We(Ee,De[Mt],Ye),Nt!==null&&(je=B(Nt,je,Mt),Jt===null?pt=Nt:Jt.sibling=Nt,Jt=Nt);return An&&$u(Ee,Mt),pt}for(Nt=N(Nt);Mt<De.length;Mt++)Ea=Be(Nt,Ee,Mt,De[Mt],Ye),Ea!==null&&(l&&Ea.alternate!==null&&Nt.delete(Ea.key===null?Mt:Ea.key),je=B(Ea,je,Mt),Jt===null?pt=Ea:Jt.sibling=Ea,Jt=Ea);return l&&Nt.forEach(function(Ic){return d(Ee,Ic)}),An&&$u(Ee,Mt),pt}function Tt(Ee,je,De,Ye){if(De==null)throw Error(r(151));for(var pt=null,Jt=null,Nt=je,Mt=je=0,Ea=null,Sn=De.next();Nt!==null&&!Sn.done;Mt++,Sn=De.next()){Nt.index>Mt?(Ea=Nt,Nt=null):Ea=Nt.sibling;var Ic=Ie(Ee,Nt,Sn.value,Ye);if(Ic===null){Nt===null&&(Nt=Ea);break}l&&Nt&&Ic.alternate===null&&d(Ee,Nt),je=B(Ic,je,Mt),Jt===null?pt=Ic:Jt.sibling=Ic,Jt=Ic,Nt=Ea}if(Sn.done)return v(Ee,Nt),An&&$u(Ee,Mt),pt;if(Nt===null){for(;!Sn.done;Mt++,Sn=De.next())Sn=We(Ee,Sn.value,Ye),Sn!==null&&(je=B(Sn,je,Mt),Jt===null?pt=Sn:Jt.sibling=Sn,Jt=Sn);return An&&$u(Ee,Mt),pt}for(Nt=N(Nt);!Sn.done;Mt++,Sn=De.next())Sn=Be(Nt,Ee,Mt,Sn.value,Ye),Sn!==null&&(l&&Sn.alternate!==null&&Nt.delete(Sn.key===null?Mt:Sn.key),je=B(Sn,je,Mt),Jt===null?pt=Sn:Jt.sibling=Sn,Jt=Sn);return l&&Nt.forEach(function(eY){return d(Ee,eY)}),An&&$u(Ee,Mt),pt}function Vn(Ee,je,De,Ye){if(typeof De=="object"&&De!==null&&De.type===C&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case w:e:{for(var pt=De.key;je!==null;){if(je.key===pt){if(pt=De.type,pt===C){if(je.tag===7){v(Ee,je.sibling),Ye=O(je,De.props.children),Ye.return=Ee,Ee=Ye;break e}}else if(je.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===V&&D4(pt)===je.type){v(Ee,je.sibling),Ye=O(je,De.props),Hm(Ye,De),Ye.return=Ee,Ee=Ye;break e}v(Ee,je);break}else d(Ee,je);je=je.sibling}De.type===C?(Ye=zu(De.props.children,Ee.mode,Ye,De.key),Ye.return=Ee,Ee=Ye):(Ye=_0(De.type,De.key,De.props,null,Ee.mode,Ye),Hm(Ye,De),Ye.return=Ee,Ee=Ye)}return K(Ee);case _:e:{for(pt=De.key;je!==null;){if(je.key===pt)if(je.tag===4&&je.stateNode.containerInfo===De.containerInfo&&je.stateNode.implementation===De.implementation){v(Ee,je.sibling),Ye=O(je,De.children||[]),Ye.return=Ee,Ee=Ye;break e}else{v(Ee,je);break}else d(Ee,je);je=je.sibling}Ye=fb(De,Ee.mode,Ye),Ye.return=Ee,Ee=Ye}return K(Ee);case V:return pt=De._init,De=pt(De._payload),Vn(Ee,je,De,Ye)}if(G(De))return Dt(Ee,je,De,Ye);if(Y(De)){if(pt=Y(De),typeof pt!="function")throw Error(r(150));return De=pt.call(De),Tt(Ee,je,De,Ye)}if(typeof De.then=="function")return Vn(Ee,je,V0(De),Ye);if(De.$$typeof===R)return Vn(Ee,je,T0(Ee,De),Ye);$0(Ee,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,je!==null&&je.tag===6?(v(Ee,je.sibling),Ye=O(je,De),Ye.return=Ee,Ee=Ye):(v(Ee,je),Ye=db(De,Ee.mode,Ye),Ye.return=Ee,Ee=Ye),K(Ee)):v(Ee,je)}return function(Ee,je,De,Ye){try{$m=0;var pt=Vn(Ee,je,De,Ye);return Sf=null,pt}catch(Nt){if(Nt===Rm||Nt===M0)throw Nt;var Jt=Ks(29,Nt,null,Ee.mode);return Jt.lanes=Ye,Jt.return=Ee,Jt}finally{}}}var _f=P4(!0),R4=P4(!1),_i=pe(null),Do=null;function wc(l){var d=l.alternate;Se(xa,xa.current&1),Se(_i,l),Do===null&&(d===null||bf.current!==null||d.memoizedState!==null)&&(Do=l)}function k4(l){if(l.tag===22){if(Se(xa,xa.current),Se(_i,l),Do===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(Do=l)}}else jc()}function jc(){Se(xa,xa.current),Se(_i,_i.current)}function bl(l){Ne(_i),Do===l&&(Do=null),Ne(xa)}var xa=pe(0);function H0(l){for(var d=l;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||Rw(v)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function qb(l,d,v,N){d=l.memoizedState,v=v(N,d),v=v==null?d:g({},d,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var Yb={enqueueSetState:function(l,d,v){l=l._reactInternals;var N=Js(),O=vc(N);O.payload=d,v!=null&&(O.callback=v),d=yc(l,O,N),d!==null&&(ei(d,l,N),Im(d,l,N))},enqueueReplaceState:function(l,d,v){l=l._reactInternals;var N=Js(),O=vc(N);O.tag=1,O.payload=d,v!=null&&(O.callback=v),d=yc(l,O,N),d!==null&&(ei(d,l,N),Im(d,l,N))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var v=Js(),N=vc(v);N.tag=2,d!=null&&(N.callback=d),d=yc(l,N,v),d!==null&&(ei(d,l,v),Im(d,l,v))}};function I4(l,d,v,N,O,B,K){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(N,B,K):d.prototype&&d.prototype.isPureReactComponent?!b(v,N)||!b(O,B):!0}function L4(l,d,v,N){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,N),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,N),d.state!==l&&Yb.enqueueReplaceState(d,d.state,null)}function Xu(l,d){var v=d;if("ref"in d){v={};for(var N in d)N!=="ref"&&(v[N]=d[N])}if(l=l.defaultProps){v===d&&(v=g({},v));for(var O in l)v[O]===void 0&&(v[O]=l[O])}return v}var q0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function B4(l){q0(l)}function F4(l){console.error(l)}function U4(l){q0(l)}function Y0(l,d){try{var v=l.onUncaughtError;v(d.value,{componentStack:d.stack})}catch(N){setTimeout(function(){throw N})}}function z4(l,d,v){try{var N=l.onCaughtError;N(v.value,{componentStack:v.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Wb(l,d,v){return v=vc(v),v.tag=3,v.payload={element:null},v.callback=function(){Y0(l,d)},v}function V4(l){return l=vc(l),l.tag=3,l}function $4(l,d,v,N){var O=v.type.getDerivedStateFromError;if(typeof O=="function"){var B=N.value;l.payload=function(){return O(B)},l.callback=function(){z4(d,v,N)}}var K=v.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(l.callback=function(){z4(d,v,N),typeof O!="function"&&(Cc===null?Cc=new Set([this]):Cc.add(this));var ae=N.stack;this.componentDidCatch(N.value,{componentStack:ae!==null?ae:""})})}function eq(l,d,v,N,O){if(v.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(d=v.alternate,d!==null&&Mm(d,v,O,!0),v=_i.current,v!==null){switch(v.tag){case 13:return Do===null?xw():v.alternate===null&&Dr===0&&(Dr=3),v.flags&=-257,v.flags|=65536,v.lanes=O,N===jb?v.flags|=16384:(d=v.updateQueue,d===null?v.updateQueue=new Set([N]):d.add(N),yw(l,N,O)),!1;case 22:return v.flags|=65536,N===jb?v.flags|=16384:(d=v.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([N])},v.updateQueue=d):(v=d.retryQueue,v===null?d.retryQueue=new Set([N]):v.add(N)),yw(l,N,O)),!1}throw Error(r(435,v.tag))}return yw(l,N,O),xw(),!1}if(An)return d=_i.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,N!==gb&&(l=Error(r(422),{cause:N}),Om(wi(l,v)))):(N!==gb&&(d=Error(r(423),{cause:N}),Om(wi(d,v))),l=l.current.alternate,l.flags|=65536,O&=-O,l.lanes|=O,N=wi(N,v),O=Wb(l.stateNode,N,O),_b(l,O),Dr!==4&&(Dr=2)),!1;var B=Error(r(520),{cause:N});if(B=wi(B,v),Qm===null?Qm=[B]:Qm.push(B),Dr!==4&&(Dr=2),d===null)return!0;N=wi(N,v),v=d;do{switch(v.tag){case 3:return v.flags|=65536,l=O&-O,v.lanes|=l,l=Wb(v.stateNode,N,l),_b(v,l),!1;case 1:if(d=v.type,B=v.stateNode,(v.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Cc===null||!Cc.has(B))))return v.flags|=65536,O&=-O,v.lanes|=O,O=V4(O),$4(O,l,v,N),_b(v,O),!1}v=v.return}while(v!==null);return!1}var H4=Error(r(461)),Sa=!1;function Ua(l,d,v,N){d.child=l===null?R4(d,null,v,N):_f(d,l.child,v,N)}function q4(l,d,v,N,O){v=v.render;var B=d.ref;if("ref"in N){var K={};for(var ae in N)ae!=="ref"&&(K[ae]=N[ae])}else K=N;return Wu(d),N=Ob(l,d,v,K,B,O),ae=Mb(),l!==null&&!Sa?(Db(l,d,O),wl(l,d,O)):(An&&ae&&hb(d),d.flags|=1,Ua(l,d,N,O),d.child)}function Y4(l,d,v,N,O){if(l===null){var B=v.type;return typeof B=="function"&&!ub(B)&&B.defaultProps===void 0&&v.compare===null?(d.tag=15,d.type=B,W4(l,d,B,N,O)):(l=_0(v.type,null,N,d,d.mode,O),l.ref=d.ref,l.return=d,d.child=l)}if(B=l.child,!tw(l,O)){var K=B.memoizedProps;if(v=v.compare,v=v!==null?v:b,v(K,N)&&l.ref===d.ref)return wl(l,d,O)}return d.flags|=1,l=ml(B,N),l.ref=d.ref,l.return=d,d.child=l}function W4(l,d,v,N,O){if(l!==null){var B=l.memoizedProps;if(b(B,N)&&l.ref===d.ref)if(Sa=!1,d.pendingProps=N=B,tw(l,O))(l.flags&131072)!==0&&(Sa=!0);else return d.lanes=l.lanes,wl(l,d,O)}return Gb(l,d,v,N,O)}function G4(l,d,v){var N=d.pendingProps,O=N.children,B=l!==null?l.memoizedState:null;if(N.mode==="hidden"){if((d.flags&128)!==0){if(N=B!==null?B.baseLanes|v:v,l!==null){for(O=d.child=l.child,B=0;O!==null;)B=B|O.lanes|O.childLanes,O=O.sibling;d.childLanes=B&~N}else d.childLanes=0,d.child=null;return K4(l,d,N,v)}if((v&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&O0(d,B!==null?B.cachePool:null),B!==null?WT(d,B):Ab(),k4(d);else return d.lanes=d.childLanes=536870912,K4(l,d,B!==null?B.baseLanes|v:v,v)}else B!==null?(O0(d,B.cachePool),WT(d,B),jc(),d.memoizedState=null):(l!==null&&O0(d,null),Ab(),jc());return Ua(l,d,O,v),d.child}function K4(l,d,v,N){var O=wb();return O=O===null?null:{parent:pa._currentValue,pool:O},d.memoizedState={baseLanes:v,cachePool:O},l!==null&&O0(d,null),Ab(),k4(d),l!==null&&Mm(l,d,N,!0),null}function W0(l,d){var v=d.ref;if(v===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(l===null||l.ref!==v)&&(d.flags|=4194816)}}function Gb(l,d,v,N,O){return Wu(d),v=Ob(l,d,v,N,void 0,O),N=Mb(),l!==null&&!Sa?(Db(l,d,O),wl(l,d,O)):(An&&N&&hb(d),d.flags|=1,Ua(l,d,v,O),d.child)}function X4(l,d,v,N,O,B){return Wu(d),d.updateQueue=null,v=KT(d,N,v,O),GT(l),N=Mb(),l!==null&&!Sa?(Db(l,d,B),wl(l,d,B)):(An&&N&&hb(d),d.flags|=1,Ua(l,d,v,B),d.child)}function Q4(l,d,v,N,O){if(Wu(d),d.stateNode===null){var B=gf,K=v.contextType;typeof K=="object"&&K!==null&&(B=ts(K)),B=new v(N,B),d.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=Yb,d.stateNode=B,B._reactInternals=d,B=d.stateNode,B.props=N,B.state=d.memoizedState,B.refs={},Nb(d),K=v.contextType,B.context=typeof K=="object"&&K!==null?ts(K):gf,B.state=d.memoizedState,K=v.getDerivedStateFromProps,typeof K=="function"&&(qb(d,v,K,N),B.state=d.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(K=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),K!==B.state&&Yb.enqueueReplaceState(B,B.state,null),Bm(d,N,B,O),Lm(),B.state=d.memoizedState),typeof B.componentDidMount=="function"&&(d.flags|=4194308),N=!0}else if(l===null){B=d.stateNode;var ae=d.memoizedProps,me=Xu(v,ae);B.props=me;var ke=B.context,He=v.contextType;K=gf,typeof He=="object"&&He!==null&&(K=ts(He));var We=v.getDerivedStateFromProps;He=typeof We=="function"||typeof B.getSnapshotBeforeUpdate=="function",ae=d.pendingProps!==ae,He||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(ae||ke!==K)&&L4(d,B,N,K),xc=!1;var Ie=d.memoizedState;B.state=Ie,Bm(d,N,B,O),Lm(),ke=d.memoizedState,ae||Ie!==ke||xc?(typeof We=="function"&&(qb(d,v,We,N),ke=d.memoizedState),(me=xc||I4(d,v,me,N,Ie,ke,K))?(He||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(d.flags|=4194308)):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=N,d.memoizedState=ke),B.props=N,B.state=ke,B.context=K,N=me):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),N=!1)}else{B=d.stateNode,Sb(l,d),K=d.memoizedProps,He=Xu(v,K),B.props=He,We=d.pendingProps,Ie=B.context,ke=v.contextType,me=gf,typeof ke=="object"&&ke!==null&&(me=ts(ke)),ae=v.getDerivedStateFromProps,(ke=typeof ae=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==We||Ie!==me)&&L4(d,B,N,me),xc=!1,Ie=d.memoizedState,B.state=Ie,Bm(d,N,B,O),Lm();var Be=d.memoizedState;K!==We||Ie!==Be||xc||l!==null&&l.dependencies!==null&&C0(l.dependencies)?(typeof ae=="function"&&(qb(d,v,ae,N),Be=d.memoizedState),(He=xc||I4(d,v,He,N,Ie,Be,me)||l!==null&&l.dependencies!==null&&C0(l.dependencies))?(ke||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(N,Be,me),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(N,Be,me)),typeof B.componentDidUpdate=="function"&&(d.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof B.componentDidUpdate!="function"||K===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=1024),d.memoizedProps=N,d.memoizedState=Be),B.props=N,B.state=Be,B.context=me,N=He):(typeof B.componentDidUpdate!="function"||K===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=1024),N=!1)}return B=N,W0(l,d),N=(d.flags&128)!==0,B||N?(B=d.stateNode,v=N&&typeof v.getDerivedStateFromError!="function"?null:B.render(),d.flags|=1,l!==null&&N?(d.child=_f(d,l.child,null,O),d.child=_f(d,null,v,O)):Ua(l,d,v,O),d.memoizedState=B.state,l=d.child):l=wl(l,d,O),l}function Z4(l,d,v,N){return Tm(),d.flags|=256,Ua(l,d,v,N),d.child}var Kb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xb(l){return{baseLanes:l,cachePool:FT()}}function Qb(l,d,v){return l=l!==null?l.childLanes&~v:0,d&&(l|=Ei),l}function J4(l,d,v){var N=d.pendingProps,O=!1,B=(d.flags&128)!==0,K;if((K=B)||(K=l!==null&&l.memoizedState===null?!1:(xa.current&2)!==0),K&&(O=!0,d.flags&=-129),K=(d.flags&32)!==0,d.flags&=-33,l===null){if(An){if(O?wc(d):jc(),An){var ae=Mr,me;if(me=ae){e:{for(me=ae,ae=Mo;me.nodeType!==8;){if(!ae){ae=null;break e}if(me=to(me.nextSibling),me===null){ae=null;break e}}ae=me}ae!==null?(d.memoizedState={dehydrated:ae,treeContext:Vu!==null?{id:gl,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},me=Ks(18,null,null,0),me.stateNode=ae,me.return=d,d.child=me,bs=d,Mr=null,me=!0):me=!1}me||qu(d)}if(ae=d.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null))return Rw(ae)?d.lanes=32:d.lanes=536870912,null;bl(d)}return ae=N.children,N=N.fallback,O?(jc(),O=d.mode,ae=G0({mode:"hidden",children:ae},O),N=zu(N,O,v,null),ae.return=d,N.return=d,ae.sibling=N,d.child=ae,O=d.child,O.memoizedState=Xb(v),O.childLanes=Qb(l,K,v),d.memoizedState=Kb,N):(wc(d),Zb(d,ae))}if(me=l.memoizedState,me!==null&&(ae=me.dehydrated,ae!==null)){if(B)d.flags&256?(wc(d),d.flags&=-257,d=Jb(l,d,v)):d.memoizedState!==null?(jc(),d.child=l.child,d.flags|=128,d=null):(jc(),O=N.fallback,ae=d.mode,N=G0({mode:"visible",children:N.children},ae),O=zu(O,ae,v,null),O.flags|=2,N.return=d,O.return=d,N.sibling=O,d.child=N,_f(d,l.child,null,v),N=d.child,N.memoizedState=Xb(v),N.childLanes=Qb(l,K,v),d.memoizedState=Kb,d=O);else if(wc(d),Rw(ae)){if(K=ae.nextSibling&&ae.nextSibling.dataset,K)var ke=K.dgst;K=ke,N=Error(r(419)),N.stack="",N.digest=K,Om({value:N,source:null,stack:null}),d=Jb(l,d,v)}else if(Sa||Mm(l,d,v,!1),K=(v&l.childLanes)!==0,Sa||K){if(K=Jn,K!==null&&(N=v&-v,N=(N&42)!==0?1:or(N),N=(N&(K.suspendedLanes|v))!==0?0:N,N!==0&&N!==me.retryLane))throw me.retryLane=N,mf(l,N),ei(K,l,N),H4;ae.data==="$?"||xw(),d=Jb(l,d,v)}else ae.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=me.treeContext,Mr=to(ae.nextSibling),bs=d,An=!0,Hu=null,Mo=!1,l!==null&&(Ni[Si++]=gl,Ni[Si++]=pl,Ni[Si++]=Vu,gl=l.id,pl=l.overflow,Vu=d),d=Zb(d,N.children),d.flags|=4096);return d}return O?(jc(),O=N.fallback,ae=d.mode,me=l.child,ke=me.sibling,N=ml(me,{mode:"hidden",children:N.children}),N.subtreeFlags=me.subtreeFlags&65011712,ke!==null?O=ml(ke,O):(O=zu(O,ae,v,null),O.flags|=2),O.return=d,N.return=d,N.sibling=O,d.child=N,N=O,O=d.child,ae=l.child.memoizedState,ae===null?ae=Xb(v):(me=ae.cachePool,me!==null?(ke=pa._currentValue,me=me.parent!==ke?{parent:ke,pool:ke}:me):me=FT(),ae={baseLanes:ae.baseLanes|v,cachePool:me}),O.memoizedState=ae,O.childLanes=Qb(l,K,v),d.memoizedState=Kb,N):(wc(d),v=l.child,l=v.sibling,v=ml(v,{mode:"visible",children:N.children}),v.return=d,v.sibling=null,l!==null&&(K=d.deletions,K===null?(d.deletions=[l],d.flags|=16):K.push(l)),d.child=v,d.memoizedState=null,v)}function Zb(l,d){return d=G0({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function G0(l,d){return l=Ks(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Jb(l,d,v){return _f(d,l.child,null,v),l=Zb(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function e3(l,d,v){l.lanes|=d;var N=l.alternate;N!==null&&(N.lanes|=d),xb(l.return,d,v)}function ew(l,d,v,N,O){var B=l.memoizedState;B===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:N,tail:v,tailMode:O}:(B.isBackwards=d,B.rendering=null,B.renderingStartTime=0,B.last=N,B.tail=v,B.tailMode=O)}function t3(l,d,v){var N=d.pendingProps,O=N.revealOrder,B=N.tail;if(Ua(l,d,N.children,v),N=xa.current,(N&2)!==0)N=N&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&e3(l,v,d);else if(l.tag===19)e3(l,v,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}N&=1}switch(Se(xa,N),O){case"forwards":for(v=d.child,O=null;v!==null;)l=v.alternate,l!==null&&H0(l)===null&&(O=v),v=v.sibling;v=O,v===null?(O=d.child,d.child=null):(O=v.sibling,v.sibling=null),ew(d,!1,O,v,B);break;case"backwards":for(v=null,O=d.child,d.child=null;O!==null;){if(l=O.alternate,l!==null&&H0(l)===null){d.child=O;break}l=O.sibling,O.sibling=v,v=O,O=l}ew(d,!0,v,null,B);break;case"together":ew(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function wl(l,d,v){if(l!==null&&(d.dependencies=l.dependencies),Ac|=d.lanes,(v&d.childLanes)===0)if(l!==null){if(Mm(l,d,v,!1),(v&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,v=ml(l,l.pendingProps),d.child=v,v.return=d;l.sibling!==null;)l=l.sibling,v=v.sibling=ml(l,l.pendingProps),v.return=d;v.sibling=null}return d.child}function tw(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&C0(l)))}function tq(l,d,v){switch(d.tag){case 3:oe(d,d.stateNode.containerInfo),pc(d,pa,l.memoizedState.cache),Tm();break;case 27:case 5:Re(d);break;case 4:oe(d,d.stateNode.containerInfo);break;case 10:pc(d,d.type,d.memoizedProps.value);break;case 13:var N=d.memoizedState;if(N!==null)return N.dehydrated!==null?(wc(d),d.flags|=128,null):(v&d.child.childLanes)!==0?J4(l,d,v):(wc(d),l=wl(l,d,v),l!==null?l.sibling:null);wc(d);break;case 19:var O=(l.flags&128)!==0;if(N=(v&d.childLanes)!==0,N||(Mm(l,d,v,!1),N=(v&d.childLanes)!==0),O){if(N)return t3(l,d,v);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Se(xa,xa.current),N)break;return null;case 22:case 23:return d.lanes=0,G4(l,d,v);case 24:pc(d,pa,l.memoizedState.cache)}return wl(l,d,v)}function n3(l,d,v){if(l!==null)if(l.memoizedProps!==d.pendingProps)Sa=!0;else{if(!tw(l,v)&&(d.flags&128)===0)return Sa=!1,tq(l,d,v);Sa=(l.flags&131072)!==0}else Sa=!1,An&&(d.flags&1048576)!==0&&DT(d,A0,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var N=d.elementType,O=N._init;if(N=O(N._payload),d.type=N,typeof N=="function")ub(N)?(l=Xu(N,l),d.tag=1,d=Q4(null,d,N,l,v)):(d.tag=0,d=Gb(null,d,N,l,v));else{if(N!=null){if(O=N.$$typeof,O===z){d.tag=11,d=q4(null,d,N,l,v);break e}else if(O===F){d.tag=14,d=Y4(null,d,N,l,v);break e}}throw d=X(N)||N,Error(r(306,d,""))}}return d;case 0:return Gb(l,d,d.type,d.pendingProps,v);case 1:return N=d.type,O=Xu(N,d.pendingProps),Q4(l,d,N,O,v);case 3:e:{if(oe(d,d.stateNode.containerInfo),l===null)throw Error(r(387));N=d.pendingProps;var B=d.memoizedState;O=B.element,Sb(l,d),Bm(d,N,null,v);var K=d.memoizedState;if(N=K.cache,pc(d,pa,N),N!==B.cache&&vb(d,[pa],v,!0),Lm(),N=K.element,B.isDehydrated)if(B={element:N,isDehydrated:!1,cache:K.cache},d.updateQueue.baseState=B,d.memoizedState=B,d.flags&256){d=Z4(l,d,N,v);break e}else if(N!==O){O=wi(Error(r(424)),d),Om(O),d=Z4(l,d,N,v);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Mr=to(l.firstChild),bs=d,An=!0,Hu=null,Mo=!0,v=R4(d,null,N,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Tm(),N===O){d=wl(l,d,v);break e}Ua(l,d,N,v)}d=d.child}return d;case 26:return W0(l,d),l===null?(v=iO(d.type,null,d.pendingProps,null))?d.memoizedState=v:An||(v=d.type,l=d.pendingProps,N=lx(se.current).createElement(v),N[br]=d,N[mn]=l,Va(N,v,l),Mn(N),d.stateNode=N):d.memoizedState=iO(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Re(d),l===null&&An&&(N=d.stateNode=rO(d.type,d.pendingProps,se.current),bs=d,Mo=!0,O=Mr,Mc(d.type)?(kw=O,Mr=to(N.firstChild)):Mr=O),Ua(l,d,d.pendingProps.children,v),W0(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&An&&((O=N=Mr)&&(N=Tq(N,d.type,d.pendingProps,Mo),N!==null?(d.stateNode=N,bs=d,Mr=to(N.firstChild),Mo=!1,O=!0):O=!1),O||qu(d)),Re(d),O=d.type,B=d.pendingProps,K=l!==null?l.memoizedProps:null,N=B.children,Mw(O,B)?N=null:K!==null&&Mw(O,K)&&(d.flags|=32),d.memoizedState!==null&&(O=Ob(l,d,WH,null,null,v),ig._currentValue=O),W0(l,d),Ua(l,d,N,v),d.child;case 6:return l===null&&An&&((l=v=Mr)&&(v=Oq(v,d.pendingProps,Mo),v!==null?(d.stateNode=v,bs=d,Mr=null,l=!0):l=!1),l||qu(d)),null;case 13:return J4(l,d,v);case 4:return oe(d,d.stateNode.containerInfo),N=d.pendingProps,l===null?d.child=_f(d,null,N,v):Ua(l,d,N,v),d.child;case 11:return q4(l,d,d.type,d.pendingProps,v);case 7:return Ua(l,d,d.pendingProps,v),d.child;case 8:return Ua(l,d,d.pendingProps.children,v),d.child;case 12:return Ua(l,d,d.pendingProps.children,v),d.child;case 10:return N=d.pendingProps,pc(d,d.type,N.value),Ua(l,d,N.children,v),d.child;case 9:return O=d.type._context,N=d.pendingProps.children,Wu(d),O=ts(O),N=N(O),d.flags|=1,Ua(l,d,N,v),d.child;case 14:return Y4(l,d,d.type,d.pendingProps,v);case 15:return W4(l,d,d.type,d.pendingProps,v);case 19:return t3(l,d,v);case 31:return N=d.pendingProps,v=d.mode,N={mode:N.mode,children:N.children},l===null?(v=G0(N,v),v.ref=d.ref,d.child=v,v.return=d,d=v):(v=ml(l.child,N),v.ref=d.ref,d.child=v,v.return=d,d=v),d;case 22:return G4(l,d,v);case 24:return Wu(d),N=ts(pa),l===null?(O=wb(),O===null&&(O=Jn,B=yb(),O.pooledCache=B,B.refCount++,B!==null&&(O.pooledCacheLanes|=v),O=B),d.memoizedState={parent:N,cache:O},Nb(d),pc(d,pa,O)):((l.lanes&v)!==0&&(Sb(l,d),Bm(d,null,null,v),Lm()),O=l.memoizedState,B=d.memoizedState,O.parent!==N?(O={parent:N,cache:N},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),pc(d,pa,N)):(N=B.cache,pc(d,pa,N),N!==O.cache&&vb(d,[pa],v,!0))),Ua(l,d,d.pendingProps.children,v),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function jl(l){l.flags|=4}function r3(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!dO(d)){if(d=_i.current,d!==null&&((gn&4194048)===gn?Do!==null:(gn&62914560)!==gn&&(gn&536870912)===0||d!==Do))throw km=jb,UT;l.flags|=8192}}function K0(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?Tu():536870912,l.lanes|=d,Tf|=d)}function qm(l,d){if(!An)switch(l.tailMode){case"hidden":d=l.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var N=null;v!==null;)v.alternate!==null&&(N=v),v=v.sibling;N===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:N.sibling=null}}function jr(l){var d=l.alternate!==null&&l.alternate.child===l.child,v=0,N=0;if(d)for(var O=l.child;O!==null;)v|=O.lanes|O.childLanes,N|=O.subtreeFlags&65011712,N|=O.flags&65011712,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)v|=O.lanes|O.childLanes,N|=O.subtreeFlags,N|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=N,l.childLanes=v,d}function nq(l,d,v){var N=d.pendingProps;switch(mb(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(d),null;case 1:return jr(d),null;case 3:return v=d.stateNode,N=null,l!==null&&(N=l.memoizedState.cache),d.memoizedState.cache!==N&&(d.flags|=2048),vl(pa),he(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Cm(d)?jl(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,kT())),jr(d),null;case 26:return v=d.memoizedState,l===null?(jl(d),v!==null?(jr(d),r3(d,v)):(jr(d),d.flags&=-16777217)):v?v!==l.memoizedState?(jl(d),jr(d),r3(d,v)):(jr(d),d.flags&=-16777217):(l.memoizedProps!==N&&jl(d),jr(d),d.flags&=-16777217),null;case 27:be(d),v=se.current;var O=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==N&&jl(d);else{if(!N){if(d.stateNode===null)throw Error(r(166));return jr(d),null}l=xe.current,Cm(d)?PT(d):(l=rO(O,N,v),d.stateNode=l,jl(d))}return jr(d),null;case 5:if(be(d),v=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==N&&jl(d);else{if(!N){if(d.stateNode===null)throw Error(r(166));return jr(d),null}if(l=xe.current,Cm(d))PT(d);else{switch(O=lx(se.current),l){case 1:l=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:l=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":l=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":l=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof N.is=="string"?O.createElement("select",{is:N.is}):O.createElement("select"),N.multiple?l.multiple=!0:N.size&&(l.size=N.size);break;default:l=typeof N.is=="string"?O.createElement(v,{is:N.is}):O.createElement(v)}}l[br]=d,l[mn]=N;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)l.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=l;e:switch(Va(l,v,N),v){case"button":case"input":case"select":case"textarea":l=!!N.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&jl(d)}}return jr(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==N&&jl(d);else{if(typeof N!="string"&&d.stateNode===null)throw Error(r(166));if(l=se.current,Cm(d)){if(l=d.stateNode,v=d.memoizedProps,N=null,O=bs,O!==null)switch(O.tag){case 27:case 5:N=O.memoizedProps}l[br]=d,l=!!(l.nodeValue===v||N!==null&&N.suppressHydrationWarning===!0||X3(l.nodeValue,v)),l||qu(d)}else l=lx(l).createTextNode(N),l[br]=d,d.stateNode=l}return jr(d),null;case 13:if(N=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(O=Cm(d),N!==null&&N.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[br]=d}else Tm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;jr(d),O=!1}else O=kT(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(bl(d),d):(bl(d),null)}if(bl(d),(d.flags&128)!==0)return d.lanes=v,d;if(v=N!==null,l=l!==null&&l.memoizedState!==null,v){N=d.child,O=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(O=N.alternate.memoizedState.cachePool.pool);var B=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(B=N.memoizedState.cachePool.pool),B!==O&&(N.flags|=2048)}return v!==l&&v&&(d.child.flags|=8192),K0(d,d.updateQueue),jr(d),null;case 4:return he(),l===null&&Ew(d.stateNode.containerInfo),jr(d),null;case 10:return vl(d.type),jr(d),null;case 19:if(Ne(xa),O=d.memoizedState,O===null)return jr(d),null;if(N=(d.flags&128)!==0,B=O.rendering,B===null)if(N)qm(O,!1);else{if(Dr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(B=H0(l),B!==null){for(d.flags|=128,qm(O,!1),l=B.updateQueue,d.updateQueue=l,K0(d,l),d.subtreeFlags=0,l=v,v=d.child;v!==null;)MT(v,l),v=v.sibling;return Se(xa,xa.current&1|2),d.child}l=l.sibling}O.tail!==null&&et()>Z0&&(d.flags|=128,N=!0,qm(O,!1),d.lanes=4194304)}else{if(!N)if(l=H0(B),l!==null){if(d.flags|=128,N=!0,l=l.updateQueue,d.updateQueue=l,K0(d,l),qm(O,!0),O.tail===null&&O.tailMode==="hidden"&&!B.alternate&&!An)return jr(d),null}else 2*et()-O.renderingStartTime>Z0&&v!==536870912&&(d.flags|=128,N=!0,qm(O,!1),d.lanes=4194304);O.isBackwards?(B.sibling=d.child,d.child=B):(l=O.last,l!==null?l.sibling=B:d.child=B,O.last=B)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=et(),d.sibling=null,l=xa.current,Se(xa,N?l&1|2:l&1),d):(jr(d),null);case 22:case 23:return bl(d),Cb(),N=d.memoizedState!==null,l!==null?l.memoizedState!==null!==N&&(d.flags|=8192):N&&(d.flags|=8192),N?(v&536870912)!==0&&(d.flags&128)===0&&(jr(d),d.subtreeFlags&6&&(d.flags|=8192)):jr(d),v=d.updateQueue,v!==null&&K0(d,v.retryQueue),v=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),N=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(N=d.memoizedState.cachePool.pool),N!==v&&(d.flags|=2048),l!==null&&Ne(Gu),null;case 24:return v=null,l!==null&&(v=l.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),vl(pa),jr(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function rq(l,d){switch(mb(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return vl(pa),he(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return be(d),null;case 13:if(bl(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Tm()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Ne(xa),null;case 4:return he(),null;case 10:return vl(d.type),null;case 22:case 23:return bl(d),Cb(),l!==null&&Ne(Gu),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return vl(pa),null;case 25:return null;default:return null}}function a3(l,d){switch(mb(d),d.tag){case 3:vl(pa),he();break;case 26:case 27:case 5:be(d);break;case 4:he();break;case 13:bl(d);break;case 19:Ne(xa);break;case 10:vl(d.type);break;case 22:case 23:bl(d),Cb(),l!==null&&Ne(Gu);break;case 24:vl(pa)}}function Ym(l,d){try{var v=d.updateQueue,N=v!==null?v.lastEffect:null;if(N!==null){var O=N.next;v=O;do{if((v.tag&l)===l){N=void 0;var B=v.create,K=v.inst;N=B(),K.destroy=N}v=v.next}while(v!==O)}}catch(ae){Yn(d,d.return,ae)}}function Nc(l,d,v){try{var N=d.updateQueue,O=N!==null?N.lastEffect:null;if(O!==null){var B=O.next;N=B;do{if((N.tag&l)===l){var K=N.inst,ae=K.destroy;if(ae!==void 0){K.destroy=void 0,O=d;var me=v,ke=ae;try{ke()}catch(He){Yn(O,me,He)}}}N=N.next}while(N!==B)}}catch(He){Yn(d,d.return,He)}}function s3(l){var d=l.updateQueue;if(d!==null){var v=l.stateNode;try{YT(d,v)}catch(N){Yn(l,l.return,N)}}}function i3(l,d,v){v.props=Xu(l.type,l.memoizedProps),v.state=l.memoizedState;try{v.componentWillUnmount()}catch(N){Yn(l,d,N)}}function Wm(l,d){try{var v=l.ref;if(v!==null){switch(l.tag){case 26:case 27:case 5:var N=l.stateNode;break;case 30:N=l.stateNode;break;default:N=l.stateNode}typeof v=="function"?l.refCleanup=v(N):v.current=N}}catch(O){Yn(l,d,O)}}function Po(l,d){var v=l.ref,N=l.refCleanup;if(v!==null)if(typeof N=="function")try{N()}catch(O){Yn(l,d,O)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(O){Yn(l,d,O)}else v.current=null}function o3(l){var d=l.type,v=l.memoizedProps,N=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":v.autoFocus&&N.focus();break e;case"img":v.src?N.src=v.src:v.srcSet&&(N.srcset=v.srcSet)}}catch(O){Yn(l,l.return,O)}}function nw(l,d,v){try{var N=l.stateNode;Sq(N,l.type,v,d),N[mn]=d}catch(O){Yn(l,l.return,O)}}function l3(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Mc(l.type)||l.tag===4}function rw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||l3(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Mc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function aw(l,d,v){var N=l.tag;if(N===5||N===6)l=l.stateNode,d?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(l,d):(d=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,d.appendChild(l),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=ox));else if(N!==4&&(N===27&&Mc(l.type)&&(v=l.stateNode,d=null),l=l.child,l!==null))for(aw(l,d,v),l=l.sibling;l!==null;)aw(l,d,v),l=l.sibling}function X0(l,d,v){var N=l.tag;if(N===5||N===6)l=l.stateNode,d?v.insertBefore(l,d):v.appendChild(l);else if(N!==4&&(N===27&&Mc(l.type)&&(v=l.stateNode),l=l.child,l!==null))for(X0(l,d,v),l=l.sibling;l!==null;)X0(l,d,v),l=l.sibling}function c3(l){var d=l.stateNode,v=l.memoizedProps;try{for(var N=l.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);Va(d,N,v),d[br]=l,d[mn]=v}catch(B){Yn(l,l.return,B)}}var Nl=!1,Vr=!1,sw=!1,u3=typeof WeakSet=="function"?WeakSet:Set,_a=null;function aq(l,d){if(l=l.containerInfo,Tw=mx,l=U(l),q(l)){if("selectionStart"in l)var v={start:l.selectionStart,end:l.selectionEnd};else e:{v=(v=l.ownerDocument)&&v.defaultView||window;var N=v.getSelection&&v.getSelection();if(N&&N.rangeCount!==0){v=N.anchorNode;var O=N.anchorOffset,B=N.focusNode;N=N.focusOffset;try{v.nodeType,B.nodeType}catch{v=null;break e}var K=0,ae=-1,me=-1,ke=0,He=0,We=l,Ie=null;t:for(;;){for(var Be;We!==v||O!==0&&We.nodeType!==3||(ae=K+O),We!==B||N!==0&&We.nodeType!==3||(me=K+N),We.nodeType===3&&(K+=We.nodeValue.length),(Be=We.firstChild)!==null;)Ie=We,We=Be;for(;;){if(We===l)break t;if(Ie===v&&++ke===O&&(ae=K),Ie===B&&++He===N&&(me=K),(Be=We.nextSibling)!==null)break;We=Ie,Ie=We.parentNode}We=Be}v=ae===-1||me===-1?null:{start:ae,end:me}}else v=null}v=v||{start:0,end:0}}else v=null;for(Ow={focusedElem:l,selectionRange:v},mx=!1,_a=d;_a!==null;)if(d=_a,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,_a=l;else for(;_a!==null;){switch(d=_a,B=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&B!==null){l=void 0,v=d,O=B.memoizedProps,B=B.memoizedState,N=v.stateNode;try{var Dt=Xu(v.type,O,v.elementType===v.type);l=N.getSnapshotBeforeUpdate(Dt,B),N.__reactInternalSnapshotBeforeUpdate=l}catch(Tt){Yn(v,v.return,Tt)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,v=l.nodeType,v===9)Pw(l);else if(v===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Pw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,_a=l;break}_a=d.return}}function d3(l,d,v){var N=v.flags;switch(v.tag){case 0:case 11:case 15:Sc(l,v),N&4&&Ym(5,v);break;case 1:if(Sc(l,v),N&4)if(l=v.stateNode,d===null)try{l.componentDidMount()}catch(K){Yn(v,v.return,K)}else{var O=Xu(v.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(O,d,l.__reactInternalSnapshotBeforeUpdate)}catch(K){Yn(v,v.return,K)}}N&64&&s3(v),N&512&&Wm(v,v.return);break;case 3:if(Sc(l,v),N&64&&(l=v.updateQueue,l!==null)){if(d=null,v.child!==null)switch(v.child.tag){case 27:case 5:d=v.child.stateNode;break;case 1:d=v.child.stateNode}try{YT(l,d)}catch(K){Yn(v,v.return,K)}}break;case 27:d===null&&N&4&&c3(v);case 26:case 5:Sc(l,v),d===null&&N&4&&o3(v),N&512&&Wm(v,v.return);break;case 12:Sc(l,v);break;case 13:Sc(l,v),N&4&&m3(l,v),N&64&&(l=v.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(v=hq.bind(null,v),Mq(l,v))));break;case 22:if(N=v.memoizedState!==null||Nl,!N){d=d!==null&&d.memoizedState!==null||Vr,O=Nl;var B=Vr;Nl=N,(Vr=d)&&!B?_c(l,v,(v.subtreeFlags&8772)!==0):Sc(l,v),Nl=O,Vr=B}break;case 30:break;default:Sc(l,v)}}function f3(l){var d=l.alternate;d!==null&&(l.alternate=null,f3(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Mu(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var dr=null,Rs=!1;function Sl(l,d,v){for(v=v.child;v!==null;)h3(l,d,v),v=v.sibling}function h3(l,d,v){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(En,v)}catch{}switch(v.tag){case 26:Vr||Po(v,d),Sl(l,d,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Vr||Po(v,d);var N=dr,O=Rs;Mc(v.type)&&(dr=v.stateNode,Rs=!1),Sl(l,d,v),ng(v.stateNode),dr=N,Rs=O;break;case 5:Vr||Po(v,d);case 6:if(N=dr,O=Rs,dr=null,Sl(l,d,v),dr=N,Rs=O,dr!==null)if(Rs)try{(dr.nodeType===9?dr.body:dr.nodeName==="HTML"?dr.ownerDocument.body:dr).removeChild(v.stateNode)}catch(B){Yn(v,d,B)}else try{dr.removeChild(v.stateNode)}catch(B){Yn(v,d,B)}break;case 18:dr!==null&&(Rs?(l=dr,tO(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,v.stateNode),ug(l)):tO(dr,v.stateNode));break;case 4:N=dr,O=Rs,dr=v.stateNode.containerInfo,Rs=!0,Sl(l,d,v),dr=N,Rs=O;break;case 0:case 11:case 14:case 15:Vr||Nc(2,v,d),Vr||Nc(4,v,d),Sl(l,d,v);break;case 1:Vr||(Po(v,d),N=v.stateNode,typeof N.componentWillUnmount=="function"&&i3(v,d,N)),Sl(l,d,v);break;case 21:Sl(l,d,v);break;case 22:Vr=(N=Vr)||v.memoizedState!==null,Sl(l,d,v),Vr=N;break;default:Sl(l,d,v)}}function m3(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{ug(l)}catch(v){Yn(d,d.return,v)}}function sq(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new u3),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new u3),d;default:throw Error(r(435,l.tag))}}function iw(l,d){var v=sq(l);d.forEach(function(N){var O=mq.bind(null,l,N);v.has(N)||(v.add(N),N.then(O,O))})}function Xs(l,d){var v=d.deletions;if(v!==null)for(var N=0;N<v.length;N++){var O=v[N],B=l,K=d,ae=K;e:for(;ae!==null;){switch(ae.tag){case 27:if(Mc(ae.type)){dr=ae.stateNode,Rs=!1;break e}break;case 5:dr=ae.stateNode,Rs=!1;break e;case 3:case 4:dr=ae.stateNode.containerInfo,Rs=!0;break e}ae=ae.return}if(dr===null)throw Error(r(160));h3(B,K,O),dr=null,Rs=!1,B=O.alternate,B!==null&&(B.return=null),O.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)g3(d,l),d=d.sibling}var eo=null;function g3(l,d){var v=l.alternate,N=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Xs(d,l),Qs(l),N&4&&(Nc(3,l,l.return),Ym(3,l),Nc(5,l,l.return));break;case 1:Xs(d,l),Qs(l),N&512&&(Vr||v===null||Po(v,v.return)),N&64&&Nl&&(l=l.updateQueue,l!==null&&(N=l.callbacks,N!==null&&(v=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=v===null?N:v.concat(N))));break;case 26:var O=eo;if(Xs(d,l),Qs(l),N&512&&(Vr||v===null||Po(v,v.return)),N&4){var B=v!==null?v.memoizedState:null;if(N=l.memoizedState,v===null)if(N===null)if(l.stateNode===null){e:{N=l.type,v=l.memoizedProps,O=O.ownerDocument||O;t:switch(N){case"title":B=O.getElementsByTagName("title")[0],(!B||B[yi]||B[br]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=O.createElement(N),O.head.insertBefore(B,O.querySelector("head > title"))),Va(B,N,v),B[br]=l,Mn(B),N=B;break e;case"link":var K=cO("link","href",O).get(N+(v.href||""));if(K){for(var ae=0;ae<K.length;ae++)if(B=K[ae],B.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&B.getAttribute("rel")===(v.rel==null?null:v.rel)&&B.getAttribute("title")===(v.title==null?null:v.title)&&B.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){K.splice(ae,1);break t}}B=O.createElement(N),Va(B,N,v),O.head.appendChild(B);break;case"meta":if(K=cO("meta","content",O).get(N+(v.content||""))){for(ae=0;ae<K.length;ae++)if(B=K[ae],B.getAttribute("content")===(v.content==null?null:""+v.content)&&B.getAttribute("name")===(v.name==null?null:v.name)&&B.getAttribute("property")===(v.property==null?null:v.property)&&B.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&B.getAttribute("charset")===(v.charSet==null?null:v.charSet)){K.splice(ae,1);break t}}B=O.createElement(N),Va(B,N,v),O.head.appendChild(B);break;default:throw Error(r(468,N))}B[br]=l,Mn(B),N=B}l.stateNode=N}else uO(O,l.type,l.stateNode);else l.stateNode=lO(O,N,l.memoizedProps);else B!==N?(B===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):B.count--,N===null?uO(O,l.type,l.stateNode):lO(O,N,l.memoizedProps)):N===null&&l.stateNode!==null&&nw(l,l.memoizedProps,v.memoizedProps)}break;case 27:Xs(d,l),Qs(l),N&512&&(Vr||v===null||Po(v,v.return)),v!==null&&N&4&&nw(l,l.memoizedProps,v.memoizedProps);break;case 5:if(Xs(d,l),Qs(l),N&512&&(Vr||v===null||Po(v,v.return)),l.flags&32){O=l.stateNode;try{ha(O,"")}catch(Be){Yn(l,l.return,Be)}}N&4&&l.stateNode!=null&&(O=l.memoizedProps,nw(l,O,v!==null?v.memoizedProps:O)),N&1024&&(sw=!0);break;case 6:if(Xs(d,l),Qs(l),N&4){if(l.stateNode===null)throw Error(r(162));N=l.memoizedProps,v=l.stateNode;try{v.nodeValue=N}catch(Be){Yn(l,l.return,Be)}}break;case 3:if(dx=null,O=eo,eo=cx(d.containerInfo),Xs(d,l),eo=O,Qs(l),N&4&&v!==null&&v.memoizedState.isDehydrated)try{ug(d.containerInfo)}catch(Be){Yn(l,l.return,Be)}sw&&(sw=!1,p3(l));break;case 4:N=eo,eo=cx(l.stateNode.containerInfo),Xs(d,l),Qs(l),eo=N;break;case 12:Xs(d,l),Qs(l);break;case 13:Xs(d,l),Qs(l),l.child.flags&8192&&l.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(fw=et()),N&4&&(N=l.updateQueue,N!==null&&(l.updateQueue=null,iw(l,N)));break;case 22:O=l.memoizedState!==null;var me=v!==null&&v.memoizedState!==null,ke=Nl,He=Vr;if(Nl=ke||O,Vr=He||me,Xs(d,l),Vr=He,Nl=ke,Qs(l),N&8192)e:for(d=l.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(v===null||me||Nl||Vr||Qu(l)),v=null,d=l;;){if(d.tag===5||d.tag===26){if(v===null){me=v=d;try{if(B=me.stateNode,O)K=B.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ae=me.stateNode;var We=me.memoizedProps.style,Ie=We!=null&&We.hasOwnProperty("display")?We.display:null;ae.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(Be){Yn(me,me.return,Be)}}}else if(d.tag===6){if(v===null){me=d;try{me.stateNode.nodeValue=O?"":me.memoizedProps}catch(Be){Yn(me,me.return,Be)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;v===d&&(v=null),d=d.return}v===d&&(v=null),d.sibling.return=d.return,d=d.sibling}N&4&&(N=l.updateQueue,N!==null&&(v=N.retryQueue,v!==null&&(N.retryQueue=null,iw(l,v))));break;case 19:Xs(d,l),Qs(l),N&4&&(N=l.updateQueue,N!==null&&(l.updateQueue=null,iw(l,N)));break;case 30:break;case 21:break;default:Xs(d,l),Qs(l)}}function Qs(l){var d=l.flags;if(d&2){try{for(var v,N=l.return;N!==null;){if(l3(N)){v=N;break}N=N.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var O=v.stateNode,B=rw(l);X0(l,B,O);break;case 5:var K=v.stateNode;v.flags&32&&(ha(K,""),v.flags&=-33);var ae=rw(l);X0(l,ae,K);break;case 3:case 4:var me=v.stateNode.containerInfo,ke=rw(l);aw(l,ke,me);break;default:throw Error(r(161))}}catch(He){Yn(l,l.return,He)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function p3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;p3(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Sc(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)d3(l,d.alternate,d),d=d.sibling}function Qu(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:Nc(4,d,d.return),Qu(d);break;case 1:Po(d,d.return);var v=d.stateNode;typeof v.componentWillUnmount=="function"&&i3(d,d.return,v),Qu(d);break;case 27:ng(d.stateNode);case 26:case 5:Po(d,d.return),Qu(d);break;case 22:d.memoizedState===null&&Qu(d);break;case 30:Qu(d);break;default:Qu(d)}l=l.sibling}}function _c(l,d,v){for(v=v&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var N=d.alternate,O=l,B=d,K=B.flags;switch(B.tag){case 0:case 11:case 15:_c(O,B,v),Ym(4,B);break;case 1:if(_c(O,B,v),N=B,O=N.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ke){Yn(N,N.return,ke)}if(N=B,O=N.updateQueue,O!==null){var ae=N.stateNode;try{var me=O.shared.hiddenCallbacks;if(me!==null)for(O.shared.hiddenCallbacks=null,O=0;O<me.length;O++)qT(me[O],ae)}catch(ke){Yn(N,N.return,ke)}}v&&K&64&&s3(B),Wm(B,B.return);break;case 27:c3(B);case 26:case 5:_c(O,B,v),v&&N===null&&K&4&&o3(B),Wm(B,B.return);break;case 12:_c(O,B,v);break;case 13:_c(O,B,v),v&&K&4&&m3(O,B);break;case 22:B.memoizedState===null&&_c(O,B,v),Wm(B,B.return);break;case 30:break;default:_c(O,B,v)}d=d.sibling}}function ow(l,d){var v=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==v&&(l!=null&&l.refCount++,v!=null&&Dm(v))}function lw(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Dm(l))}function Ro(l,d,v,N){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)x3(l,d,v,N),d=d.sibling}function x3(l,d,v,N){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Ro(l,d,v,N),O&2048&&Ym(9,d);break;case 1:Ro(l,d,v,N);break;case 3:Ro(l,d,v,N),O&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Dm(l)));break;case 12:if(O&2048){Ro(l,d,v,N),l=d.stateNode;try{var B=d.memoizedProps,K=B.id,ae=B.onPostCommit;typeof ae=="function"&&ae(K,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(me){Yn(d,d.return,me)}}else Ro(l,d,v,N);break;case 13:Ro(l,d,v,N);break;case 23:break;case 22:B=d.stateNode,K=d.alternate,d.memoizedState!==null?B._visibility&2?Ro(l,d,v,N):Gm(l,d):B._visibility&2?Ro(l,d,v,N):(B._visibility|=2,Ef(l,d,v,N,(d.subtreeFlags&10256)!==0)),O&2048&&ow(K,d);break;case 24:Ro(l,d,v,N),O&2048&&lw(d.alternate,d);break;default:Ro(l,d,v,N)}}function Ef(l,d,v,N,O){for(O=O&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var B=l,K=d,ae=v,me=N,ke=K.flags;switch(K.tag){case 0:case 11:case 15:Ef(B,K,ae,me,O),Ym(8,K);break;case 23:break;case 22:var He=K.stateNode;K.memoizedState!==null?He._visibility&2?Ef(B,K,ae,me,O):Gm(B,K):(He._visibility|=2,Ef(B,K,ae,me,O)),O&&ke&2048&&ow(K.alternate,K);break;case 24:Ef(B,K,ae,me,O),O&&ke&2048&&lw(K.alternate,K);break;default:Ef(B,K,ae,me,O)}d=d.sibling}}function Gm(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var v=l,N=d,O=N.flags;switch(N.tag){case 22:Gm(v,N),O&2048&&ow(N.alternate,N);break;case 24:Gm(v,N),O&2048&&lw(N.alternate,N);break;default:Gm(v,N)}d=d.sibling}}var Km=8192;function Af(l){if(l.subtreeFlags&Km)for(l=l.child;l!==null;)v3(l),l=l.sibling}function v3(l){switch(l.tag){case 26:Af(l),l.flags&Km&&l.memoizedState!==null&&Hq(eo,l.memoizedState,l.memoizedProps);break;case 5:Af(l);break;case 3:case 4:var d=eo;eo=cx(l.stateNode.containerInfo),Af(l),eo=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Km,Km=16777216,Af(l),Km=d):Af(l));break;default:Af(l)}}function y3(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function Xm(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var N=d[v];_a=N,w3(N,l)}y3(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)b3(l),l=l.sibling}function b3(l){switch(l.tag){case 0:case 11:case 15:Xm(l),l.flags&2048&&Nc(9,l,l.return);break;case 3:Xm(l);break;case 12:Xm(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,Q0(l)):Xm(l);break;default:Xm(l)}}function Q0(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var N=d[v];_a=N,w3(N,l)}y3(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:Nc(8,d,d.return),Q0(d);break;case 22:v=d.stateNode,v._visibility&2&&(v._visibility&=-3,Q0(d));break;default:Q0(d)}l=l.sibling}}function w3(l,d){for(;_a!==null;){var v=_a;switch(v.tag){case 0:case 11:case 15:Nc(8,v,d);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var N=v.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:Dm(v.memoizedState.cache)}if(N=v.child,N!==null)N.return=v,_a=N;else e:for(v=l;_a!==null;){N=_a;var O=N.sibling,B=N.return;if(f3(N),N===v){_a=null;break e}if(O!==null){O.return=B,_a=O;break e}_a=B}}}var iq={getCacheForType:function(l){var d=ts(pa),v=d.data.get(l);return v===void 0&&(v=l(),d.data.set(l,v)),v}},oq=typeof WeakMap=="function"?WeakMap:Map,Rn=0,Jn=null,nn=null,gn=0,kn=0,Zs=null,Ec=!1,Cf=!1,cw=!1,_l=0,Dr=0,Ac=0,Zu=0,uw=0,Ei=0,Tf=0,Qm=null,ks=null,dw=!1,fw=0,Z0=1/0,J0=null,Cc=null,za=0,Tc=null,Of=null,Mf=0,hw=0,mw=null,j3=null,Zm=0,gw=null;function Js(){if((Rn&2)!==0&&gn!==0)return gn&-gn;if(H.T!==null){var l=vf;return l!==0?l:jw()}return Os()}function N3(){Ei===0&&(Ei=(gn&536870912)===0||An?ps():536870912);var l=_i.current;return l!==null&&(l.flags|=32),Ei}function ei(l,d,v){(l===Jn&&(kn===2||kn===9)||l.cancelPendingCommit!==null)&&(Df(l,0),Oc(l,gn,Ei,!1)),Ka(l,v),((Rn&2)===0||l!==Jn)&&(l===Jn&&((Rn&2)===0&&(Zu|=v),Dr===4&&Oc(l,gn,Ei,!1)),ko(l))}function S3(l,d,v){if((Rn&6)!==0)throw Error(r(327));var N=!v&&(d&124)===0&&(d&l.expiredLanes)===0||Cn(l,d),O=N?uq(l,d):vw(l,d,!0),B=N;do{if(O===0){Cf&&!N&&Oc(l,d,0,!1);break}else{if(v=l.current.alternate,B&&!lq(v)){O=vw(l,d,!1),B=!1;continue}if(O===2){if(B=d,l.errorRecoveryDisabledLanes&B)var K=0;else K=l.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){d=K;e:{var ae=l;O=Qm;var me=ae.current.memoizedState.isDehydrated;if(me&&(Df(ae,K).flags|=256),K=vw(ae,K,!1),K!==2){if(cw&&!me){ae.errorRecoveryDisabledLanes|=B,Zu|=B,O=4;break e}B=ks,ks=O,B!==null&&(ks===null?ks=B:ks.push.apply(ks,B))}O=K}if(B=!1,O!==2)continue}}if(O===1){Df(l,0),Oc(l,d,0,!0);break}e:{switch(N=l,B=O,B){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Oc(N,d,Ei,!Ec);break e;case 2:ks=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(O=fw+300-et(),10<O)){if(Oc(N,d,Ei,!Ec),dn(N,0,!0)!==0)break e;N.timeoutHandle=J3(_3.bind(null,N,v,ks,J0,dw,d,Ei,Zu,Tf,Ec,B,2,-0,0),O);break e}_3(N,v,ks,J0,dw,d,Ei,Zu,Tf,Ec,B,0,-0,0)}}break}while(!0);ko(l)}function _3(l,d,v,N,O,B,K,ae,me,ke,He,We,Ie,Be){if(l.timeoutHandle=-1,We=d.subtreeFlags,(We&8192||(We&16785408)===16785408)&&(sg={stylesheets:null,count:0,unsuspend:$q},v3(d),We=qq(),We!==null)){l.cancelPendingCommit=We(D3.bind(null,l,d,B,v,N,O,K,ae,me,He,1,Ie,Be)),Oc(l,B,K,!ke);return}D3(l,d,B,v,N,O,K,ae,me)}function lq(l){for(var d=l;;){var v=d.tag;if((v===0||v===11||v===15)&&d.flags&16384&&(v=d.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var N=0;N<v.length;N++){var O=v[N],B=O.getSnapshot;O=O.value;try{if(!y(B(),O))return!1}catch{return!1}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Oc(l,d,v,N){d&=~uw,d&=~Zu,l.suspendedLanes|=d,l.pingedLanes&=~d,N&&(l.warmLanes|=d),N=l.expirationTimes;for(var O=d;0<O;){var B=31-sn(O),K=1<<B;N[B]=-1,O&=~K}v!==0&&Rt(l,v,d)}function ex(){return(Rn&6)===0?(Jm(0),!1):!0}function pw(){if(nn!==null){if(kn===0)var l=nn.return;else l=nn,xl=Yu=null,Pb(l),Sf=null,$m=0,l=nn;for(;l!==null;)a3(l.alternate,l),l=l.return;nn=null}}function Df(l,d){var v=l.timeoutHandle;v!==-1&&(l.timeoutHandle=-1,Eq(v)),v=l.cancelPendingCommit,v!==null&&(l.cancelPendingCommit=null,v()),pw(),Jn=l,nn=v=ml(l.current,null),gn=d,kn=0,Zs=null,Ec=!1,Cf=Cn(l,d),cw=!1,Tf=Ei=uw=Zu=Ac=Dr=0,ks=Qm=null,dw=!1,(d&8)!==0&&(d|=d&32);var N=l.entangledLanes;if(N!==0)for(l=l.entanglements,N&=d;0<N;){var O=31-sn(N),B=1<<O;d|=l[O],N&=~B}return _l=d,j0(),v}function E3(l,d){Kt=null,H.H=z0,d===Rm||d===M0?(d=$T(),kn=3):d===UT?(d=$T(),kn=4):kn=d===H4?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Zs=d,nn===null&&(Dr=1,Y0(l,wi(d,l.current)))}function A3(){var l=H.H;return H.H=z0,l===null?z0:l}function C3(){var l=H.A;return H.A=iq,l}function xw(){Dr=4,Ec||(gn&4194048)!==gn&&_i.current!==null||(Cf=!0),(Ac&134217727)===0&&(Zu&134217727)===0||Jn===null||Oc(Jn,gn,Ei,!1)}function vw(l,d,v){var N=Rn;Rn|=2;var O=A3(),B=C3();(Jn!==l||gn!==d)&&(J0=null,Df(l,d)),d=!1;var K=Dr;e:do try{if(kn!==0&&nn!==null){var ae=nn,me=Zs;switch(kn){case 8:pw(),K=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(d=!0);var ke=kn;if(kn=0,Zs=null,Pf(l,ae,me,ke),v&&Cf){K=0;break e}break;default:ke=kn,kn=0,Zs=null,Pf(l,ae,me,ke)}}cq(),K=Dr;break}catch(He){E3(l,He)}while(!0);return d&&l.shellSuspendCounter++,xl=Yu=null,Rn=N,H.H=O,H.A=B,nn===null&&(Jn=null,gn=0,j0()),K}function cq(){for(;nn!==null;)T3(nn)}function uq(l,d){var v=Rn;Rn|=2;var N=A3(),O=C3();Jn!==l||gn!==d?(J0=null,Z0=et()+500,Df(l,d)):Cf=Cn(l,d);e:do try{if(kn!==0&&nn!==null){d=nn;var B=Zs;t:switch(kn){case 1:kn=0,Zs=null,Pf(l,d,B,1);break;case 2:case 9:if(zT(B)){kn=0,Zs=null,O3(d);break}d=function(){kn!==2&&kn!==9||Jn!==l||(kn=7),ko(l)},B.then(d,d);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:zT(B)?(kn=0,Zs=null,O3(d)):(kn=0,Zs=null,Pf(l,d,B,7));break;case 5:var K=null;switch(nn.tag){case 26:K=nn.memoizedState;case 5:case 27:var ae=nn;if(!K||dO(K)){kn=0,Zs=null;var me=ae.sibling;if(me!==null)nn=me;else{var ke=ae.return;ke!==null?(nn=ke,tx(ke)):nn=null}break t}}kn=0,Zs=null,Pf(l,d,B,5);break;case 6:kn=0,Zs=null,Pf(l,d,B,6);break;case 8:pw(),Dr=6;break e;default:throw Error(r(462))}}dq();break}catch(He){E3(l,He)}while(!0);return xl=Yu=null,H.H=N,H.A=O,Rn=v,nn!==null?0:(Jn=null,gn=0,j0(),Dr)}function dq(){for(;nn!==null&&!Qe();)T3(nn)}function T3(l){var d=n3(l.alternate,l,_l);l.memoizedProps=l.pendingProps,d===null?tx(l):nn=d}function O3(l){var d=l,v=d.alternate;switch(d.tag){case 15:case 0:d=X4(v,d,d.pendingProps,d.type,void 0,gn);break;case 11:d=X4(v,d,d.pendingProps,d.type.render,d.ref,gn);break;case 5:Pb(d);default:a3(v,d),d=nn=MT(d,_l),d=n3(v,d,_l)}l.memoizedProps=l.pendingProps,d===null?tx(l):nn=d}function Pf(l,d,v,N){xl=Yu=null,Pb(d),Sf=null,$m=0;var O=d.return;try{if(eq(l,O,d,v,gn)){Dr=1,Y0(l,wi(v,l.current)),nn=null;return}}catch(B){if(O!==null)throw nn=O,B;Dr=1,Y0(l,wi(v,l.current)),nn=null;return}d.flags&32768?(An||N===1?l=!0:Cf||(gn&536870912)!==0?l=!1:(Ec=l=!0,(N===2||N===9||N===3||N===6)&&(N=_i.current,N!==null&&N.tag===13&&(N.flags|=16384))),M3(d,l)):tx(d)}function tx(l){var d=l;do{if((d.flags&32768)!==0){M3(d,Ec);return}l=d.return;var v=nq(d.alternate,d,_l);if(v!==null){nn=v;return}if(d=d.sibling,d!==null){nn=d;return}nn=d=l}while(d!==null);Dr===0&&(Dr=5)}function M3(l,d){do{var v=rq(l.alternate,l);if(v!==null){v.flags&=32767,nn=v;return}if(v=l.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!d&&(l=l.sibling,l!==null)){nn=l;return}nn=l=v}while(l!==null);Dr=6,nn=null}function D3(l,d,v,N,O,B,K,ae,me){l.cancelPendingCommit=null;do nx();while(za!==0);if((Rn&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(B=d.lanes|d.childLanes,B|=lb,Ou(l,v,B,K,ae,me),l===Jn&&(nn=Jn=null,gn=0),Of=d,Tc=l,Mf=v,hw=B,mw=O,j3=N,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,gq(ct,function(){return L3(),null})):(l.callbackNode=null,l.callbackPriority=0),N=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||N){N=H.T,H.T=null,O=J.p,J.p=2,K=Rn,Rn|=4;try{aq(l,d,v)}finally{Rn=K,J.p=O,H.T=N}}za=1,P3(),R3(),k3()}}function P3(){if(za===1){za=0;var l=Tc,d=Of,v=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||v){v=H.T,H.T=null;var N=J.p;J.p=2;var O=Rn;Rn|=4;try{g3(d,l);var B=Ow,K=U(l.containerInfo),ae=B.focusedElem,me=B.selectionRange;if(K!==ae&&ae&&ae.ownerDocument&&P(ae.ownerDocument.documentElement,ae)){if(me!==null&&q(ae)){var ke=me.start,He=me.end;if(He===void 0&&(He=ke),"selectionStart"in ae)ae.selectionStart=ke,ae.selectionEnd=Math.min(He,ae.value.length);else{var We=ae.ownerDocument||document,Ie=We&&We.defaultView||window;if(Ie.getSelection){var Be=Ie.getSelection(),Dt=ae.textContent.length,Tt=Math.min(me.start,Dt),Vn=me.end===void 0?Tt:Math.min(me.end,Dt);!Be.extend&&Tt>Vn&&(K=Vn,Vn=Tt,Tt=K);var Ee=T(ae,Tt),je=T(ae,Vn);if(Ee&&je&&(Be.rangeCount!==1||Be.anchorNode!==Ee.node||Be.anchorOffset!==Ee.offset||Be.focusNode!==je.node||Be.focusOffset!==je.offset)){var De=We.createRange();De.setStart(Ee.node,Ee.offset),Be.removeAllRanges(),Tt>Vn?(Be.addRange(De),Be.extend(je.node,je.offset)):(De.setEnd(je.node,je.offset),Be.addRange(De))}}}}for(We=[],Be=ae;Be=Be.parentNode;)Be.nodeType===1&&We.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof ae.focus=="function"&&ae.focus(),ae=0;ae<We.length;ae++){var Ye=We[ae];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}mx=!!Tw,Ow=Tw=null}finally{Rn=O,J.p=N,H.T=v}}l.current=d,za=2}}function R3(){if(za===2){za=0;var l=Tc,d=Of,v=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||v){v=H.T,H.T=null;var N=J.p;J.p=2;var O=Rn;Rn|=4;try{d3(l,d.alternate,d)}finally{Rn=O,J.p=N,H.T=v}}za=3}}function k3(){if(za===4||za===3){za=0,gt();var l=Tc,d=Of,v=Mf,N=j3;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?za=5:(za=0,Of=Tc=null,I3(l,l.pendingLanes));var O=l.pendingLanes;if(O===0&&(Cc=null),hn(v),d=d.stateNode,Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(En,d,void 0,(d.current.flags&128)===128)}catch{}if(N!==null){d=H.T,O=J.p,J.p=2,H.T=null;try{for(var B=l.onRecoverableError,K=0;K<N.length;K++){var ae=N[K];B(ae.value,{componentStack:ae.stack})}}finally{H.T=d,J.p=O}}(Mf&3)!==0&&nx(),ko(l),O=l.pendingLanes,(v&4194090)!==0&&(O&42)!==0?l===gw?Zm++:(Zm=0,gw=l):Zm=0,Jm(0)}}function I3(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Dm(d)))}function nx(l){return P3(),R3(),k3(),L3()}function L3(){if(za!==5)return!1;var l=Tc,d=hw;hw=0;var v=hn(Mf),N=H.T,O=J.p;try{J.p=32>v?32:v,H.T=null,v=mw,mw=null;var B=Tc,K=Mf;if(za=0,Of=Tc=null,Mf=0,(Rn&6)!==0)throw Error(r(331));var ae=Rn;if(Rn|=4,b3(B.current),x3(B,B.current,K,v),Rn=ae,Jm(0,!1),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(En,B)}catch{}return!0}finally{J.p=O,H.T=N,I3(l,d)}}function B3(l,d,v){d=wi(v,d),d=Wb(l.stateNode,d,2),l=yc(l,d,2),l!==null&&(Ka(l,2),ko(l))}function Yn(l,d,v){if(l.tag===3)B3(l,l,v);else for(;d!==null;){if(d.tag===3){B3(d,l,v);break}else if(d.tag===1){var N=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Cc===null||!Cc.has(N))){l=wi(v,l),v=V4(2),N=yc(d,v,2),N!==null&&($4(v,N,d,l),Ka(N,2),ko(N));break}}d=d.return}}function yw(l,d,v){var N=l.pingCache;if(N===null){N=l.pingCache=new oq;var O=new Set;N.set(d,O)}else O=N.get(d),O===void 0&&(O=new Set,N.set(d,O));O.has(v)||(cw=!0,O.add(v),l=fq.bind(null,l,d,v),d.then(l,l))}function fq(l,d,v){var N=l.pingCache;N!==null&&N.delete(d),l.pingedLanes|=l.suspendedLanes&v,l.warmLanes&=~v,Jn===l&&(gn&v)===v&&(Dr===4||Dr===3&&(gn&62914560)===gn&&300>et()-fw?(Rn&2)===0&&Df(l,0):uw|=v,Tf===gn&&(Tf=0)),ko(l)}function F3(l,d){d===0&&(d=Tu()),l=mf(l,d),l!==null&&(Ka(l,d),ko(l))}function hq(l){var d=l.memoizedState,v=0;d!==null&&(v=d.retryLane),F3(l,v)}function mq(l,d){var v=0;switch(l.tag){case 13:var N=l.stateNode,O=l.memoizedState;O!==null&&(v=O.retryLane);break;case 19:N=l.stateNode;break;case 22:N=l.stateNode._retryCache;break;default:throw Error(r(314))}N!==null&&N.delete(d),F3(l,v)}function gq(l,d){return Ke(l,d)}var rx=null,Rf=null,bw=!1,ax=!1,ww=!1,Ju=0;function ko(l){l!==Rf&&l.next===null&&(Rf===null?rx=Rf=l:Rf=Rf.next=l),ax=!0,bw||(bw=!0,xq())}function Jm(l,d){if(!ww&&ax){ww=!0;do for(var v=!1,N=rx;N!==null;){if(l!==0){var O=N.pendingLanes;if(O===0)var B=0;else{var K=N.suspendedLanes,ae=N.pingedLanes;B=(1<<31-sn(42|l)+1)-1,B&=O&~(K&~ae),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(v=!0,$3(N,B))}else B=gn,B=dn(N,N===Jn?B:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(B&3)===0||Cn(N,B)||(v=!0,$3(N,B));N=N.next}while(v);ww=!1}}function pq(){U3()}function U3(){ax=bw=!1;var l=0;Ju!==0&&(_q()&&(l=Ju),Ju=0);for(var d=et(),v=null,N=rx;N!==null;){var O=N.next,B=z3(N,d);B===0?(N.next=null,v===null?rx=O:v.next=O,O===null&&(Rf=v)):(v=N,(l!==0||(B&3)!==0)&&(ax=!0)),N=O}Jm(l)}function z3(l,d){for(var v=l.suspendedLanes,N=l.pingedLanes,O=l.expirationTimes,B=l.pendingLanes&-62914561;0<B;){var K=31-sn(B),ae=1<<K,me=O[K];me===-1?((ae&v)===0||(ae&N)!==0)&&(O[K]=Gi(ae,d)):me<=d&&(l.expiredLanes|=ae),B&=~ae}if(d=Jn,v=gn,v=dn(l,l===d?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),N=l.callbackNode,v===0||l===d&&(kn===2||kn===9)||l.cancelPendingCommit!==null)return N!==null&&N!==null&&Ve(N),l.callbackNode=null,l.callbackPriority=0;if((v&3)===0||Cn(l,v)){if(d=v&-v,d===l.callbackPriority)return d;switch(N!==null&&Ve(N),hn(v)){case 2:case 8:v=xr;break;case 32:v=ct;break;case 268435456:v=Jr;break;default:v=ct}return N=V3.bind(null,l),v=Ke(v,N),l.callbackPriority=d,l.callbackNode=v,d}return N!==null&&N!==null&&Ve(N),l.callbackPriority=2,l.callbackNode=null,2}function V3(l,d){if(za!==0&&za!==5)return l.callbackNode=null,l.callbackPriority=0,null;var v=l.callbackNode;if(nx()&&l.callbackNode!==v)return null;var N=gn;return N=dn(l,l===Jn?N:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),N===0?null:(S3(l,N,d),z3(l,et()),l.callbackNode!=null&&l.callbackNode===v?V3.bind(null,l):null)}function $3(l,d){if(nx())return null;S3(l,d,!0)}function xq(){Aq(function(){(Rn&6)!==0?Ke(it,pq):U3()})}function jw(){return Ju===0&&(Ju=ps()),Ju}function H3(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:af(""+l)}function q3(l,d){var v=d.ownerDocument.createElement("input");return v.name=d.name,v.value=d.value,l.id&&v.setAttribute("form",l.id),d.parentNode.insertBefore(v,d),l=new FormData(l),v.parentNode.removeChild(v),l}function vq(l,d,v,N,O){if(d==="submit"&&v&&v.stateNode===O){var B=H3((O[mn]||null).action),K=N.submitter;K&&(d=(d=K[mn]||null)?H3(d.formAction):K.getAttribute("formAction"),d!==null&&(B=d,K=null));var ae=new Ao("action","action",null,N,O);l.push({event:ae,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(Ju!==0){var me=K?q3(O,K):new FormData(O);Vb(v,{pending:!0,data:me,method:O.method,action:B},null,me)}}else typeof B=="function"&&(ae.preventDefault(),me=K?q3(O,K):new FormData(O),Vb(v,{pending:!0,data:me,method:O.method,action:B},B,me))},currentTarget:O}]})}}for(var Nw=0;Nw<Oo.length;Nw++){var Sw=Oo[Nw],yq=Sw.toLowerCase(),bq=Sw[0].toUpperCase()+Sw.slice(1);Gs(yq,"on"+bq)}Gs(Ft,"onAnimationEnd"),Gs(Fa,"onAnimationIteration"),Gs(Ds,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(Ja,"onTransitionRun"),Gs(Pn,"onTransitionStart"),Gs(ga,"onTransitionCancel"),Gs(es,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eg));function Y3(l,d){d=(d&4)!==0;for(var v=0;v<l.length;v++){var N=l[v],O=N.event;N=N.listeners;e:{var B=void 0;if(d)for(var K=N.length-1;0<=K;K--){var ae=N[K],me=ae.instance,ke=ae.currentTarget;if(ae=ae.listener,me!==B&&O.isPropagationStopped())break e;B=ae,O.currentTarget=ke;try{B(O)}catch(He){q0(He)}O.currentTarget=null,B=me}else for(K=0;K<N.length;K++){if(ae=N[K],me=ae.instance,ke=ae.currentTarget,ae=ae.listener,me!==B&&O.isPropagationStopped())break e;B=ae,O.currentTarget=ke;try{B(O)}catch(He){q0(He)}O.currentTarget=null,B=me}}}}function rn(l,d){var v=d[Ir];v===void 0&&(v=d[Ir]=new Set);var N=l+"__bubble";v.has(N)||(W3(d,l,2,!1),v.add(N))}function _w(l,d,v){var N=0;d&&(N|=4),W3(v,l,N,d)}var sx="_reactListening"+Math.random().toString(36).slice(2);function Ew(l){if(!l[sx]){l[sx]=!0,f0.forEach(function(v){v!=="selectionchange"&&(wq.has(v)||_w(v,!1,l),_w(v,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[sx]||(d[sx]=!0,_w("selectionchange",!1,d))}}function W3(l,d,v,N){switch(xO(d)){case 2:var O=Gq;break;case 8:O=Kq;break;default:O=Uw}v=O.bind(null,d,v,l),O=void 0,!zt||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),N?O!==void 0?l.addEventListener(d,v,{capture:!0,passive:O}):l.addEventListener(d,v,!0):O!==void 0?l.addEventListener(d,v,{passive:O}):l.addEventListener(d,v,!1)}function Aw(l,d,v,N,O){var B=N;if((d&1)===0&&(d&2)===0&&N!==null)e:for(;;){if(N===null)return;var K=N.tag;if(K===3||K===4){var ae=N.stateNode.containerInfo;if(ae===O)break;if(K===4)for(K=N.return;K!==null;){var me=K.tag;if((me===3||me===4)&&K.stateNode.containerInfo===O)return;K=K.return}for(;ae!==null;){if(K=Lr(ae),K===null)return;if(me=K.tag,me===5||me===6||me===26||me===27){N=B=K;continue e}ae=ae.parentNode}}N=N.return}Qi(function(){var ke=B,He=sc(v),We=[];e:{var Ie=hl.get(l);if(Ie!==void 0){var Be=Ao,Dt=l;switch(l){case"keypress":if(sf(v)===0)break e;case"keydown":case"keyup":Be=jm;break;case"focusin":Dt="focus",Be=cc;break;case"focusout":Dt="blur",Be=cc;break;case"beforeblur":case"afterblur":Be=cc;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=p0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=On;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Dn;break;case Ft:case Fa:case Ds:Be=eb;break;case es:Be=ab;break;case"scroll":case"scrollend":Be=Qa;break;case"wheel":Be=dl;break;case"copy":case"cut":case"paste":Be=qt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Lu;break;case"toggle":case"beforetoggle":Be=sb}var Tt=(d&4)!==0,Vn=!Tt&&(l==="scroll"||l==="scrollend"),Ee=Tt?Ie!==null?Ie+"Capture":null:Ie;Tt=[];for(var je=ke,De;je!==null;){var Ye=je;if(De=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||De===null||Ee===null||(Ye=Et(je,Ee),Ye!=null&&Tt.push(tg(je,Ye,De))),Vn)break;je=je.return}0<Tt.length&&(Ie=new Be(Ie,Dt,null,v,He),We.push({event:Ie,listeners:Tt}))}}if((d&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",Be=l==="mouseout"||l==="pointerout",Ie&&v!==Du&&(Dt=v.relatedTarget||v.fromElement)&&(Lr(Dt)||Dt[Cr]))break e;if((Be||Ie)&&(Ie=He.window===He?He:(Ie=He.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Be?(Dt=v.relatedTarget||v.toElement,Be=ke,Dt=Dt?Lr(Dt):null,Dt!==null&&(Vn=i(Dt),Tt=Dt.tag,Dt!==Vn||Tt!==5&&Tt!==27&&Tt!==6)&&(Dt=null)):(Be=null,Dt=ke),Be!==Dt)){if(Tt=p0,Ye="onMouseLeave",Ee="onMouseEnter",je="mouse",(l==="pointerout"||l==="pointerover")&&(Tt=Lu,Ye="onPointerLeave",Ee="onPointerEnter",je="pointer"),Vn=Be==null?Ie:yo(Be),De=Dt==null?Ie:yo(Dt),Ie=new Tt(Ye,je+"leave",Be,v,He),Ie.target=Vn,Ie.relatedTarget=De,Ye=null,Lr(He)===ke&&(Tt=new Tt(Ee,je+"enter",Dt,v,He),Tt.target=De,Tt.relatedTarget=Vn,Ye=Tt),Vn=Ye,Be&&Dt)t:{for(Tt=Be,Ee=Dt,je=0,De=Tt;De;De=kf(De))je++;for(De=0,Ye=Ee;Ye;Ye=kf(Ye))De++;for(;0<je-De;)Tt=kf(Tt),je--;for(;0<De-je;)Ee=kf(Ee),De--;for(;je--;){if(Tt===Ee||Ee!==null&&Tt===Ee.alternate)break t;Tt=kf(Tt),Ee=kf(Ee)}Tt=null}else Tt=null;Be!==null&&G3(We,Ie,Be,Tt,!1),Dt!==null&&Vn!==null&&G3(We,Vn,Dt,Tt,!0)}}e:{if(Ie=ke?yo(ke):window,Be=Ie.nodeName&&Ie.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Ie.type==="file")var pt=b0;else if(Uu(Ie))if(Em)pt=h;else{pt=ee;var Jt=ff}else Be=Ie.nodeName,!Be||Be.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?ke&&jt(ke.elementType)&&(pt=b0):pt=c;if(pt&&(pt=pt(l,ke))){ys(We,pt,v,He);break e}Jt&&Jt(l,Ie,ke),l==="focusout"&&ke&&Ie.type==="number"&&ke.memoizedProps.value!=null&&Me(Ie,"number",Ie.value)}switch(Jt=ke?yo(ke):window,l){case"focusin":(Uu(Jt)||Jt.contentEditable==="true")&&(ne=Jt,le=ke,ge=null);break;case"focusout":ge=le=ne=null;break;case"mousedown":ve=!0;break;case"contextmenu":case"mouseup":case"dragend":ve=!1,Ce(We,v,He);break;case"selectionchange":if(te)break;case"keydown":case"keyup":Ce(We,v,He)}var Nt;if(Bu)e:{switch(l){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else fc?fl(l,v)&&(Mt="onCompositionEnd"):l==="keydown"&&v.keyCode===229&&(Mt="onCompositionStart");Mt&&(Sm&&v.locale!=="ko"&&(fc||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&fc&&(Nt=So()):(No=He,Pu="value"in No?No.value:No.textContent,fc=!0)),Jt=ix(ke,Mt),0<Jt.length&&(Mt=new ku(Mt,l,null,v,He),We.push({event:Mt,listeners:Jt}),Nt?Mt.data=Nt:(Nt=uf(v),Nt!==null&&(Mt.data=Nt)))),(Nt=Nm?Fu(l,v):ib(l,v))&&(Mt=ix(ke,"onBeforeInput"),0<Mt.length&&(Jt=new ku("onBeforeInput","beforeinput",null,v,He),We.push({event:Jt,listeners:Mt}),Jt.data=Nt)),vq(We,l,ke,v,He)}Y3(We,d)})}function tg(l,d,v){return{instance:l,listener:d,currentTarget:v}}function ix(l,d){for(var v=d+"Capture",N=[];l!==null;){var O=l,B=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||B===null||(O=Et(l,v),O!=null&&N.unshift(tg(l,O,B)),O=Et(l,d),O!=null&&N.push(tg(l,O,B))),l.tag===3)return N;l=l.return}return[]}function kf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function G3(l,d,v,N,O){for(var B=d._reactName,K=[];v!==null&&v!==N;){var ae=v,me=ae.alternate,ke=ae.stateNode;if(ae=ae.tag,me!==null&&me===N)break;ae!==5&&ae!==26&&ae!==27||ke===null||(me=ke,O?(ke=Et(v,B),ke!=null&&K.unshift(tg(v,ke,me))):O||(ke=Et(v,B),ke!=null&&K.push(tg(v,ke,me)))),v=v.return}K.length!==0&&l.push({event:d,listeners:K})}var jq=/\r\n?/g,Nq=/\u0000|\uFFFD/g;function K3(l){return(typeof l=="string"?l:""+l).replace(jq,`
`).replace(Nq,"")}function X3(l,d){return d=K3(d),K3(l)===d}function ox(){}function zn(l,d,v,N,O,B){switch(v){case"children":typeof N=="string"?d==="body"||d==="textarea"&&N===""||ha(l,N):(typeof N=="number"||typeof N=="bigint")&&d!=="body"&&ha(l,""+N);break;case"className":ef(l,"class",N);break;case"tabIndex":ef(l,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":ef(l,v,N);break;case"style":vs(l,N,B);break;case"data":if(d!=="object"){ef(l,"data",N);break}case"src":case"href":if(N===""&&(d!=="a"||v!=="href")){l.removeAttribute(v);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){l.removeAttribute(v);break}N=af(""+N),l.setAttribute(v,N);break;case"action":case"formAction":if(typeof N=="function"){l.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(v==="formAction"?(d!=="input"&&zn(l,d,"name",O.name,O,null),zn(l,d,"formEncType",O.formEncType,O,null),zn(l,d,"formMethod",O.formMethod,O,null),zn(l,d,"formTarget",O.formTarget,O,null)):(zn(l,d,"encType",O.encType,O,null),zn(l,d,"method",O.method,O,null),zn(l,d,"target",O.target,O,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){l.removeAttribute(v);break}N=af(""+N),l.setAttribute(v,N);break;case"onClick":N!=null&&(l.onclick=ox);break;case"onScroll":N!=null&&rn("scroll",l);break;case"onScrollEnd":N!=null&&rn("scrollend",l);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(v=N.__html,v!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=v}}break;case"multiple":l.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":l.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){l.removeAttribute("xlink:href");break}v=af(""+N),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?l.setAttribute(v,""+N):l.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?l.setAttribute(v,""):l.removeAttribute(v);break;case"capture":case"download":N===!0?l.setAttribute(v,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?l.setAttribute(v,N):l.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?l.setAttribute(v,N):l.removeAttribute(v);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?l.removeAttribute(v):l.setAttribute(v,N);break;case"popover":rn("beforetoggle",l),rn("toggle",l),Ge(l,"popover",N);break;case"xlinkActuate":Nn(l,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":Nn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":Nn(l,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":Nn(l,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":Nn(l,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":Nn(l,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":Ge(l,"is",N);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=nr.get(v)||v,Ge(l,v,N))}}function Cw(l,d,v,N,O,B){switch(v){case"style":vs(l,N,B);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(v=N.__html,v!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=v}}break;case"children":typeof N=="string"?ha(l,N):(typeof N=="number"||typeof N=="bigint")&&ha(l,""+N);break;case"onScroll":N!=null&&rn("scroll",l);break;case"onScrollEnd":N!=null&&rn("scrollend",l);break;case"onClick":N!=null&&(l.onclick=ox);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!h0.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(O=v.endsWith("Capture"),d=v.slice(2,O?v.length-7:void 0),B=l[mn]||null,B=B!=null?B[v]:null,typeof B=="function"&&l.removeEventListener(d,B,O),typeof N=="function")){typeof B!="function"&&B!==null&&(v in l?l[v]=null:l.hasAttribute(v)&&l.removeAttribute(v)),l.addEventListener(d,N,O);break e}v in l?l[v]=N:N===!0?l.setAttribute(v,""):Ge(l,v,N)}}}function Va(l,d,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",l),rn("load",l);var N=!1,O=!1,B;for(B in v)if(v.hasOwnProperty(B)){var K=v[B];if(K!=null)switch(B){case"src":N=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:zn(l,d,B,K,v,null)}}O&&zn(l,d,"srcSet",v.srcSet,v,null),N&&zn(l,d,"src",v.src,v,null);return;case"input":rn("invalid",l);var ae=B=K=O=null,me=null,ke=null;for(N in v)if(v.hasOwnProperty(N)){var He=v[N];if(He!=null)switch(N){case"name":O=He;break;case"type":K=He;break;case"checked":me=He;break;case"defaultChecked":ke=He;break;case"value":B=He;break;case"defaultValue":ae=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,d));break;default:zn(l,d,N,He,v,null)}}fa(l,B,ae,me,ke,K,O,!1),nf(l);return;case"select":rn("invalid",l),N=K=B=null;for(O in v)if(v.hasOwnProperty(O)&&(ae=v[O],ae!=null))switch(O){case"value":B=ae;break;case"defaultValue":K=ae;break;case"multiple":N=ae;default:zn(l,d,O,ae,v,null)}d=B,v=K,l.multiple=!!N,d!=null?ie(l,!!N,d,!1):v!=null&&ie(l,!!N,v,!0);return;case"textarea":rn("invalid",l),B=O=N=null;for(K in v)if(v.hasOwnProperty(K)&&(ae=v[K],ae!=null))switch(K){case"value":N=ae;break;case"defaultValue":O=ae;break;case"children":B=ae;break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(91));break;default:zn(l,d,K,ae,v,null)}Br(l,N,O,B),nf(l);return;case"option":for(me in v)if(v.hasOwnProperty(me)&&(N=v[me],N!=null))switch(me){case"selected":l.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:zn(l,d,me,N,v,null)}return;case"dialog":rn("beforetoggle",l),rn("toggle",l),rn("cancel",l),rn("close",l);break;case"iframe":case"object":rn("load",l);break;case"video":case"audio":for(N=0;N<eg.length;N++)rn(eg[N],l);break;case"image":rn("error",l),rn("load",l);break;case"details":rn("toggle",l);break;case"embed":case"source":case"link":rn("error",l),rn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in v)if(v.hasOwnProperty(ke)&&(N=v[ke],N!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:zn(l,d,ke,N,v,null)}return;default:if(jt(d)){for(He in v)v.hasOwnProperty(He)&&(N=v[He],N!==void 0&&Cw(l,d,He,N,v,void 0));return}}for(ae in v)v.hasOwnProperty(ae)&&(N=v[ae],N!=null&&zn(l,d,ae,N,v,null))}function Sq(l,d,v,N){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,B=null,K=null,ae=null,me=null,ke=null,He=null;for(Be in v){var We=v[Be];if(v.hasOwnProperty(Be)&&We!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":me=We;default:N.hasOwnProperty(Be)||zn(l,d,Be,null,N,We)}}for(var Ie in N){var Be=N[Ie];if(We=v[Ie],N.hasOwnProperty(Ie)&&(Be!=null||We!=null))switch(Ie){case"type":B=Be;break;case"name":O=Be;break;case"checked":ke=Be;break;case"defaultChecked":He=Be;break;case"value":K=Be;break;case"defaultValue":ae=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,d));break;default:Be!==We&&zn(l,d,Ie,Be,N,We)}}Tn(l,K,ae,me,ke,He,B,O);return;case"select":Be=K=ae=Ie=null;for(B in v)if(me=v[B],v.hasOwnProperty(B)&&me!=null)switch(B){case"value":break;case"multiple":Be=me;default:N.hasOwnProperty(B)||zn(l,d,B,null,N,me)}for(O in N)if(B=N[O],me=v[O],N.hasOwnProperty(O)&&(B!=null||me!=null))switch(O){case"value":Ie=B;break;case"defaultValue":ae=B;break;case"multiple":K=B;default:B!==me&&zn(l,d,O,B,N,me)}d=ae,v=K,N=Be,Ie!=null?ie(l,!!v,Ie,!1):!!N!=!!v&&(d!=null?ie(l,!!v,d,!0):ie(l,!!v,v?[]:"",!1));return;case"textarea":Be=Ie=null;for(ae in v)if(O=v[ae],v.hasOwnProperty(ae)&&O!=null&&!N.hasOwnProperty(ae))switch(ae){case"value":break;case"children":break;default:zn(l,d,ae,null,N,O)}for(K in N)if(O=N[K],B=v[K],N.hasOwnProperty(K)&&(O!=null||B!=null))switch(K){case"value":Ie=O;break;case"defaultValue":Be=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==B&&zn(l,d,K,O,N,B)}wt(l,Ie,Be);return;case"option":for(var Dt in v)if(Ie=v[Dt],v.hasOwnProperty(Dt)&&Ie!=null&&!N.hasOwnProperty(Dt))switch(Dt){case"selected":l.selected=!1;break;default:zn(l,d,Dt,null,N,Ie)}for(me in N)if(Ie=N[me],Be=v[me],N.hasOwnProperty(me)&&Ie!==Be&&(Ie!=null||Be!=null))switch(me){case"selected":l.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:zn(l,d,me,Ie,N,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in v)Ie=v[Tt],v.hasOwnProperty(Tt)&&Ie!=null&&!N.hasOwnProperty(Tt)&&zn(l,d,Tt,null,N,Ie);for(ke in N)if(Ie=N[ke],Be=v[ke],N.hasOwnProperty(ke)&&Ie!==Be&&(Ie!=null||Be!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,d));break;default:zn(l,d,ke,Ie,N,Be)}return;default:if(jt(d)){for(var Vn in v)Ie=v[Vn],v.hasOwnProperty(Vn)&&Ie!==void 0&&!N.hasOwnProperty(Vn)&&Cw(l,d,Vn,void 0,N,Ie);for(He in N)Ie=N[He],Be=v[He],!N.hasOwnProperty(He)||Ie===Be||Ie===void 0&&Be===void 0||Cw(l,d,He,Ie,N,Be);return}}for(var Ee in v)Ie=v[Ee],v.hasOwnProperty(Ee)&&Ie!=null&&!N.hasOwnProperty(Ee)&&zn(l,d,Ee,null,N,Ie);for(We in N)Ie=N[We],Be=v[We],!N.hasOwnProperty(We)||Ie===Be||Ie==null&&Be==null||zn(l,d,We,Ie,N,Be)}var Tw=null,Ow=null;function lx(l){return l.nodeType===9?l:l.ownerDocument}function Q3(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z3(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function Mw(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Dw=null;function _q(){var l=window.event;return l&&l.type==="popstate"?l===Dw?!1:(Dw=l,!0):(Dw=null,!1)}var J3=typeof setTimeout=="function"?setTimeout:void 0,Eq=typeof clearTimeout=="function"?clearTimeout:void 0,eO=typeof Promise=="function"?Promise:void 0,Aq=typeof queueMicrotask=="function"?queueMicrotask:typeof eO<"u"?function(l){return eO.resolve(null).then(l).catch(Cq)}:J3;function Cq(l){setTimeout(function(){throw l})}function Mc(l){return l==="head"}function tO(l,d){var v=d,N=0,O=0;do{var B=v.nextSibling;if(l.removeChild(v),B&&B.nodeType===8)if(v=B.data,v==="/$"){if(0<N&&8>N){v=N;var K=l.ownerDocument;if(v&1&&ng(K.documentElement),v&2&&ng(K.body),v&4)for(v=K.head,ng(v),K=v.firstChild;K;){var ae=K.nextSibling,me=K.nodeName;K[yi]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&K.rel.toLowerCase()==="stylesheet"||v.removeChild(K),K=ae}}if(O===0){l.removeChild(B),ug(d);return}O--}else v==="$"||v==="$?"||v==="$!"?O++:N=v.charCodeAt(0)-48;else N=0;v=B}while(v);ug(d)}function Pw(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var v=d;switch(d=d.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":Pw(v),Mu(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}l.removeChild(v)}}function Tq(l,d,v,N){for(;l.nodeType===1;){var O=v;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!N&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(N){if(!l[yi])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(B=l.getAttribute("rel"),B==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(B!==O.rel||l.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||l.getAttribute("title")!==(O.title==null?null:O.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(B=l.getAttribute("src"),(B!==(O.src==null?null:O.src)||l.getAttribute("type")!==(O.type==null?null:O.type)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&B&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var B=O.name==null?null:""+O.name;if(O.type==="hidden"&&l.getAttribute("name")===B)return l}else return l;if(l=to(l.nextSibling),l===null)break}return null}function Oq(l,d,v){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!v||(l=to(l.nextSibling),l===null))return null;return l}function Rw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function Mq(l,d){var v=l.ownerDocument;if(l.data!=="$?"||v.readyState==="complete")d();else{var N=function(){d(),v.removeEventListener("DOMContentLoaded",N)};v.addEventListener("DOMContentLoaded",N),l._reactRetry=N}}function to(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var kw=null;function nO(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var v=l.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return l;d--}else v==="/$"&&d++}l=l.previousSibling}return null}function rO(l,d,v){switch(d=lx(v),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function ng(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Mu(l)}var Ai=new Map,aO=new Set;function cx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var El=J.d;J.d={f:Dq,r:Pq,D:Rq,C:kq,L:Iq,m:Lq,X:Fq,S:Bq,M:Uq};function Dq(){var l=El.f(),d=ex();return l||d}function Pq(l){var d=Ys(l);d!==null&&d.tag===5&&d.type==="form"?S4(d):El.r(l)}var If=typeof document>"u"?null:document;function sO(l,d,v){var N=If;if(N&&typeof d=="string"&&d){var O=da(d);O='link[rel="'+l+'"][href="'+O+'"]',typeof v=="string"&&(O+='[crossorigin="'+v+'"]'),aO.has(O)||(aO.add(O),l={rel:l,crossOrigin:v,href:d},N.querySelector(O)===null&&(d=N.createElement("link"),Va(d,"link",l),Mn(d),N.head.appendChild(d)))}}function Rq(l){El.D(l),sO("dns-prefetch",l,null)}function kq(l,d){El.C(l,d),sO("preconnect",l,d)}function Iq(l,d,v){El.L(l,d,v);var N=If;if(N&&l&&d){var O='link[rel="preload"][as="'+da(d)+'"]';d==="image"&&v&&v.imageSrcSet?(O+='[imagesrcset="'+da(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(O+='[imagesizes="'+da(v.imageSizes)+'"]')):O+='[href="'+da(l)+'"]';var B=O;switch(d){case"style":B=Lf(l);break;case"script":B=Bf(l)}Ai.has(B)||(l=g({rel:"preload",href:d==="image"&&v&&v.imageSrcSet?void 0:l,as:d},v),Ai.set(B,l),N.querySelector(O)!==null||d==="style"&&N.querySelector(rg(B))||d==="script"&&N.querySelector(ag(B))||(d=N.createElement("link"),Va(d,"link",l),Mn(d),N.head.appendChild(d)))}}function Lq(l,d){El.m(l,d);var v=If;if(v&&l){var N=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+da(N)+'"][href="'+da(l)+'"]',B=O;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=Bf(l)}if(!Ai.has(B)&&(l=g({rel:"modulepreload",href:l},d),Ai.set(B,l),v.querySelector(O)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(ag(B)))return}N=v.createElement("link"),Va(N,"link",l),Mn(N),v.head.appendChild(N)}}}function Bq(l,d,v){El.S(l,d,v);var N=If;if(N&&l){var O=Ki(N).hoistableStyles,B=Lf(l);d=d||"default";var K=O.get(B);if(!K){var ae={loading:0,preload:null};if(K=N.querySelector(rg(B)))ae.loading=5;else{l=g({rel:"stylesheet",href:l,"data-precedence":d},v),(v=Ai.get(B))&&Iw(l,v);var me=K=N.createElement("link");Mn(me),Va(me,"link",l),me._p=new Promise(function(ke,He){me.onload=ke,me.onerror=He}),me.addEventListener("load",function(){ae.loading|=1}),me.addEventListener("error",function(){ae.loading|=2}),ae.loading|=4,ux(K,d,N)}K={type:"stylesheet",instance:K,count:1,state:ae},O.set(B,K)}}}function Fq(l,d){El.X(l,d);var v=If;if(v&&l){var N=Ki(v).hoistableScripts,O=Bf(l),B=N.get(O);B||(B=v.querySelector(ag(O)),B||(l=g({src:l,async:!0},d),(d=Ai.get(O))&&Lw(l,d),B=v.createElement("script"),Mn(B),Va(B,"link",l),v.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},N.set(O,B))}}function Uq(l,d){El.M(l,d);var v=If;if(v&&l){var N=Ki(v).hoistableScripts,O=Bf(l),B=N.get(O);B||(B=v.querySelector(ag(O)),B||(l=g({src:l,async:!0,type:"module"},d),(d=Ai.get(O))&&Lw(l,d),B=v.createElement("script"),Mn(B),Va(B,"link",l),v.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},N.set(O,B))}}function iO(l,d,v,N){var O=(O=se.current)?cx(O):null;if(!O)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(d=Lf(v.href),v=Ki(O).hoistableStyles,N=v.get(d),N||(N={type:"style",instance:null,count:0,state:null},v.set(d,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){l=Lf(v.href);var B=Ki(O).hoistableStyles,K=B.get(l);if(K||(O=O.ownerDocument||O,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(l,K),(B=O.querySelector(rg(l)))&&!B._p&&(K.instance=B,K.state.loading=5),Ai.has(l)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Ai.set(l,v),B||zq(O,l,v,K.state))),d&&N===null)throw Error(r(528,""));return K}if(d&&N!==null)throw Error(r(529,""));return null;case"script":return d=v.async,v=v.src,typeof v=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Bf(v),v=Ki(O).hoistableScripts,N=v.get(d),N||(N={type:"script",instance:null,count:0,state:null},v.set(d,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Lf(l){return'href="'+da(l)+'"'}function rg(l){return'link[rel="stylesheet"]['+l+"]"}function oO(l){return g({},l,{"data-precedence":l.precedence,precedence:null})}function zq(l,d,v,N){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?N.loading=1:(d=l.createElement("link"),N.preload=d,d.addEventListener("load",function(){return N.loading|=1}),d.addEventListener("error",function(){return N.loading|=2}),Va(d,"link",v),Mn(d),l.head.appendChild(d))}function Bf(l){return'[src="'+da(l)+'"]'}function ag(l){return"script[async]"+l}function lO(l,d,v){if(d.count++,d.instance===null)switch(d.type){case"style":var N=l.querySelector('style[data-href~="'+da(v.href)+'"]');if(N)return d.instance=N,Mn(N),N;var O=g({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return N=(l.ownerDocument||l).createElement("style"),Mn(N),Va(N,"style",O),ux(N,v.precedence,l),d.instance=N;case"stylesheet":O=Lf(v.href);var B=l.querySelector(rg(O));if(B)return d.state.loading|=4,d.instance=B,Mn(B),B;N=oO(v),(O=Ai.get(O))&&Iw(N,O),B=(l.ownerDocument||l).createElement("link"),Mn(B);var K=B;return K._p=new Promise(function(ae,me){K.onload=ae,K.onerror=me}),Va(B,"link",N),d.state.loading|=4,ux(B,v.precedence,l),d.instance=B;case"script":return B=Bf(v.src),(O=l.querySelector(ag(B)))?(d.instance=O,Mn(O),O):(N=v,(O=Ai.get(B))&&(N=g({},v),Lw(N,O)),l=l.ownerDocument||l,O=l.createElement("script"),Mn(O),Va(O,"link",N),l.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(N=d.instance,d.state.loading|=4,ux(N,v.precedence,l));return d.instance}function ux(l,d,v){for(var N=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=N.length?N[N.length-1]:null,B=O,K=0;K<N.length;K++){var ae=N[K];if(ae.dataset.precedence===d)B=ae;else if(B!==O)break}B?B.parentNode.insertBefore(l,B.nextSibling):(d=v.nodeType===9?v.head:v,d.insertBefore(l,d.firstChild))}function Iw(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function Lw(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var dx=null;function cO(l,d,v){if(dx===null){var N=new Map,O=dx=new Map;O.set(v,N)}else O=dx,N=O.get(v),N||(N=new Map,O.set(v,N));if(N.has(l))return N;for(N.set(l,null),v=v.getElementsByTagName(l),O=0;O<v.length;O++){var B=v[O];if(!(B[yi]||B[br]||l==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var K=B.getAttribute(d)||"";K=l+K;var ae=N.get(K);ae?ae.push(B):N.set(K,[B])}}return N}function uO(l,d,v){l=l.ownerDocument||l,l.head.insertBefore(v,d==="title"?l.querySelector("head > title"):null)}function Vq(l,d,v){if(v===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function dO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var sg=null;function $q(){}function Hq(l,d,v){if(sg===null)throw Error(r(475));var N=sg;if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var O=Lf(v.href),B=l.querySelector(rg(O));if(B){l=B._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(N.count++,N=fx.bind(N),l.then(N,N)),d.state.loading|=4,d.instance=B,Mn(B);return}B=l.ownerDocument||l,v=oO(v),(O=Ai.get(O))&&Iw(v,O),B=B.createElement("link"),Mn(B);var K=B;K._p=new Promise(function(ae,me){K.onload=ae,K.onerror=me}),Va(B,"link",v),d.instance=B}N.stylesheets===null&&(N.stylesheets=new Map),N.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(N.count++,d=fx.bind(N),l.addEventListener("load",d),l.addEventListener("error",d))}}function qq(){if(sg===null)throw Error(r(475));var l=sg;return l.stylesheets&&l.count===0&&Bw(l,l.stylesheets),0<l.count?function(d){var v=setTimeout(function(){if(l.stylesheets&&Bw(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(v)}}:null}function fx(){if(this.count--,this.count===0){if(this.stylesheets)Bw(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var hx=null;function Bw(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,hx=new Map,d.forEach(Yq,l),hx=null,fx.call(l))}function Yq(l,d){if(!(d.state.loading&4)){var v=hx.get(l);if(v)var N=v.get(null);else{v=new Map,hx.set(l,v);for(var O=l.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<O.length;B++){var K=O[B];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(v.set(K.dataset.precedence,K),N=K)}N&&v.set(null,N)}O=d.instance,K=O.getAttribute("data-precedence"),B=v.get(K)||N,B===N&&v.set(null,O),v.set(K,O),this.count++,N=fx.bind(this),O.addEventListener("load",N),O.addEventListener("error",N),B?B.parentNode.insertBefore(O,B.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(O,l.firstChild)),d.state.loading|=4}}var ig={$$typeof:R,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Wq(l,d,v,N,O,B,K,ae){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=N,this.onUncaughtError=O,this.onCaughtError=B,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function fO(l,d,v,N,O,B,K,ae,me,ke,He,We){return l=new Wq(l,d,v,K,ae,me,ke,We),d=1,B===!0&&(d|=24),B=Ks(3,null,null,d),l.current=B,B.stateNode=l,d=yb(),d.refCount++,l.pooledCache=d,d.refCount++,B.memoizedState={element:N,isDehydrated:v,cache:d},Nb(B),l}function hO(l){return l?(l=gf,l):gf}function mO(l,d,v,N,O,B){O=hO(O),N.context===null?N.context=O:N.pendingContext=O,N=vc(d),N.payload={element:v},B=B===void 0?null:B,B!==null&&(N.callback=B),v=yc(l,N,d),v!==null&&(ei(v,l,d),Im(v,l,d))}function gO(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<d?v:d}}function Fw(l,d){gO(l,d),(l=l.alternate)&&gO(l,d)}function pO(l){if(l.tag===13){var d=mf(l,67108864);d!==null&&ei(d,l,67108864),Fw(l,67108864)}}var mx=!0;function Gq(l,d,v,N){var O=H.T;H.T=null;var B=J.p;try{J.p=2,Uw(l,d,v,N)}finally{J.p=B,H.T=O}}function Kq(l,d,v,N){var O=H.T;H.T=null;var B=J.p;try{J.p=8,Uw(l,d,v,N)}finally{J.p=B,H.T=O}}function Uw(l,d,v,N){if(mx){var O=zw(N);if(O===null)Aw(l,d,N,gx,v),vO(l,N);else if(Qq(O,l,d,v,N))N.stopPropagation();else if(vO(l,N),d&4&&-1<Xq.indexOf(l)){for(;O!==null;){var B=Ys(O);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var K=wn(B.pendingLanes);if(K!==0){var ae=B;for(ae.pendingLanes|=2,ae.entangledLanes|=2;K;){var me=1<<31-sn(K);ae.entanglements[1]|=me,K&=~me}ko(B),(Rn&6)===0&&(Z0=et()+500,Jm(0))}}break;case 13:ae=mf(B,2),ae!==null&&ei(ae,B,2),ex(),Fw(B,2)}if(B=zw(N),B===null&&Aw(l,d,N,gx,v),B===O)break;O=B}O!==null&&N.stopPropagation()}else Aw(l,d,N,null,v)}}function zw(l){return l=sc(l),Vw(l)}var gx=null;function Vw(l){if(gx=null,l=Lr(l),l!==null){var d=i(l);if(d===null)l=null;else{var v=d.tag;if(v===13){if(l=o(d),l!==null)return l;l=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return gx=l,null}function xO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case it:return 2;case xr:return 8;case ct:case bn:return 32;case Jr:return 268435456;default:return 32}default:return 32}}var $w=!1,Dc=null,Pc=null,Rc=null,og=new Map,lg=new Map,kc=[],Xq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vO(l,d){switch(l){case"focusin":case"focusout":Dc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Rc=null;break;case"pointerover":case"pointerout":og.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":lg.delete(d.pointerId)}}function cg(l,d,v,N,O,B){return l===null||l.nativeEvent!==B?(l={blockedOn:d,domEventName:v,eventSystemFlags:N,nativeEvent:B,targetContainers:[O]},d!==null&&(d=Ys(d),d!==null&&pO(d)),l):(l.eventSystemFlags|=N,d=l.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),l)}function Qq(l,d,v,N,O){switch(d){case"focusin":return Dc=cg(Dc,l,d,v,N,O),!0;case"dragenter":return Pc=cg(Pc,l,d,v,N,O),!0;case"mouseover":return Rc=cg(Rc,l,d,v,N,O),!0;case"pointerover":var B=O.pointerId;return og.set(B,cg(og.get(B)||null,l,d,v,N,O)),!0;case"gotpointercapture":return B=O.pointerId,lg.set(B,cg(lg.get(B)||null,l,d,v,N,O)),!0}return!1}function yO(l){var d=Lr(l.target);if(d!==null){var v=i(d);if(v!==null){if(d=v.tag,d===13){if(d=o(v),d!==null){l.blockedOn=d,lr(l.priority,function(){if(v.tag===13){var N=Js();N=or(N);var O=mf(v,N);O!==null&&ei(O,v,N),Fw(v,N)}});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){l.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}l.blockedOn=null}function px(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var v=zw(l.nativeEvent);if(v===null){v=l.nativeEvent;var N=new v.constructor(v.type,v);Du=N,v.target.dispatchEvent(N),Du=null}else return d=Ys(v),d!==null&&pO(d),l.blockedOn=v,!1;d.shift()}return!0}function bO(l,d,v){px(l)&&v.delete(d)}function Zq(){$w=!1,Dc!==null&&px(Dc)&&(Dc=null),Pc!==null&&px(Pc)&&(Pc=null),Rc!==null&&px(Rc)&&(Rc=null),og.forEach(bO),lg.forEach(bO)}function xx(l,d){l.blockedOn===d&&(l.blockedOn=null,$w||($w=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zq)))}var vx=null;function wO(l){vx!==l&&(vx=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vx===l&&(vx=null);for(var d=0;d<l.length;d+=3){var v=l[d],N=l[d+1],O=l[d+2];if(typeof N!="function"){if(Vw(N||v)===null)continue;break}var B=Ys(v);B!==null&&(l.splice(d,3),d-=3,Vb(B,{pending:!0,data:O,method:v.method,action:N},N,O))}}))}function ug(l){function d(me){return xx(me,l)}Dc!==null&&xx(Dc,l),Pc!==null&&xx(Pc,l),Rc!==null&&xx(Rc,l),og.forEach(d),lg.forEach(d);for(var v=0;v<kc.length;v++){var N=kc[v];N.blockedOn===l&&(N.blockedOn=null)}for(;0<kc.length&&(v=kc[0],v.blockedOn===null);)yO(v),v.blockedOn===null&&kc.shift();if(v=(l.ownerDocument||l).$$reactFormReplay,v!=null)for(N=0;N<v.length;N+=3){var O=v[N],B=v[N+1],K=O[mn]||null;if(typeof B=="function")K||wO(v);else if(K){var ae=null;if(B&&B.hasAttribute("formAction")){if(O=B,K=B[mn]||null)ae=K.formAction;else if(Vw(O)!==null)continue}else ae=K.action;typeof ae=="function"?v[N+1]=ae:(v.splice(N,3),N-=3),wO(v)}}}function Hw(l){this._internalRoot=l}yx.prototype.render=Hw.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var v=d.current,N=Js();mO(v,N,l,d,null,null)},yx.prototype.unmount=Hw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;mO(l.current,2,null,l,null,null),ex(),d[Cr]=null}};function yx(l){this._internalRoot=l}yx.prototype.unstable_scheduleHydration=function(l){if(l){var d=Os();l={blockedOn:null,target:l,priority:d};for(var v=0;v<kc.length&&d!==0&&d<kc[v].priority;v++);kc.splice(v,0,l),v===0&&yO(l)}};var jO=t.version;if(jO!=="19.1.1")throw Error(r(527,jO,"19.1.1"));J.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=m(d),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var Jq={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bx.isDisabled&&bx.supportsFiber)try{En=bx.inject(Jq),Qn=bx}catch{}}return fg.createRoot=function(l,d){if(!s(l))throw Error(r(299));var v=!1,N="",O=B4,B=F4,K=U4,ae=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(N=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(B=d.onCaughtError),d.onRecoverableError!==void 0&&(K=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ae=d.unstable_transitionCallbacks)),d=fO(l,1,!1,null,null,v,N,O,B,K,ae,null),l[Cr]=d.current,Ew(l),new Hw(d)},fg.hydrateRoot=function(l,d,v){if(!s(l))throw Error(r(299));var N=!1,O="",B=B4,K=F4,ae=U4,me=null,ke=null;return v!=null&&(v.unstable_strictMode===!0&&(N=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onUncaughtError!==void 0&&(B=v.onUncaughtError),v.onCaughtError!==void 0&&(K=v.onCaughtError),v.onRecoverableError!==void 0&&(ae=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(me=v.unstable_transitionCallbacks),v.formState!==void 0&&(ke=v.formState)),d=fO(l,1,!0,d,v??null,N,O,B,K,ae,me,ke),d.context=hO(null),v=d.current,N=Js(),N=or(N),O=vc(N),O.callback=null,yc(v,O,N),v=N,d.current.lanes=v,Ka(d,v),ko(d),l[Cr]=d.current,Ew(l),new yx(d)},fg.version="19.1.1",fg}var DO;function dY(){if(DO)return Gw.exports;DO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gw.exports=uY(),Gw.exports}var fY=dY();const hY=Cs(fY),mY="modulepreload",gY=function(e){return"/"+e},PO={},Cd=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=o(n.map(f=>{if(f=gY(f),f in PO)return;PO[f]=!0;const g=f.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":mY,g||(w.as="script"),w.crossOrigin="",w.href=f,m&&w.setAttribute("nonce",m),document.head.appendChild(w),g)return new Promise((_,C)=>{w.addEventListener("load",_),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},pY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Cd(async()=>{const{default:r}=await Promise.resolve().then(()=>qh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class q_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class xY extends q_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class RO extends q_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kO extends q_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var VN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(VN||(VN={}));var vY=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class yY{constructor(t,{headers:n={},customFetch:r,region:s=VN.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=pY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return vY(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let u={},{region:m}=n;m||(m=this.region);const f=new URL(`${this.url}/${t}`);m&&m!=="any"&&(u["x-region"]=m,f.searchParams.set("forceFunctionRegion",m));let g;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=o):typeof o=="string"?(u["Content-Type"]="text/plain",g=o):typeof FormData<"u"&&o instanceof FormData?g=o:(u["Content-Type"]="application/json",g=JSON.stringify(o)));const x=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:g}).catch(A=>{throw new xY(A)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new RO(x);if(!x.ok)throw new kO(x);let _=((r=x.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield x.json():_==="application/octet-stream"?C=yield x.blob():_==="text/event-stream"?C=x:_==="multipart/form-data"?C=yield x.formData():C=yield x.text(),{data:C,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof kO||s instanceof RO?s.context:void 0}}})}}var Aa={},Ff={},Uf={},zf={},Vf={},$f={},bY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sh=bY();const wY=Sh.fetch,v6=Sh.fetch.bind(Sh),y6=Sh.Headers,jY=Sh.Request,NY=Sh.Response,qh=Object.freeze(Object.defineProperty({__proto__:null,Headers:y6,Request:jY,Response:NY,default:v6,fetch:wY},Symbol.toStringTag,{value:"Module"})),SY=rY(qh);var jx={},IO;function b6(){if(IO)return jx;IO=1,Object.defineProperty(jx,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return jx.default=e,jx}var LO;function w6(){if(LO)return $f;LO=1;var e=$f&&$f.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty($f,"__esModule",{value:!0});const t=e(SY),n=e(b6());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let m=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,x,w;let _=null,C=null,A=null,E=f.status,M=f.statusText;if(f.ok){if(this.method!=="HEAD"){const I=await f.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=I:C=JSON.parse(I))}const R=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),z=(x=f.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");R&&z&&z.length>1&&(A=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(_={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,A=null,E=406,M="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const R=await f.text();try{_=JSON.parse(R),Array.isArray(_)&&f.status===404&&(C=[],_=null,E=200,M="OK")}catch{f.status===404&&R===""?(E=204,M="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,E=200,M="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:C,count:A,status:E,statusText:M}});return this.shouldThrowOnError||(m=m.catch(f=>{var g,x,w;return{error:{message:`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(x=f==null?void 0:f.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(w=f==null?void 0:f.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(i,o)}returns(){return this}overrideTypes(){return this}}return $f.default=r,$f}var BO;function j6(){if(BO)return Vf;BO=1;var e=Vf&&Vf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vf,"__esModule",{value:!0});const t=e(w6());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:u,referencedTable:m=u}={}){const f=m?`${m}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:u=o}={}){const m=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(m,`${s}`),this.url.searchParams.set(f,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:u=!1,wal:m=!1,format:f="text"}={}){var g;const x=[s?"analyze":null,i?"verbose":null,o?"settings":null,u?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${w}"; options=${x};`,f==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Vf.default=n,Vf}var FO;function Y_(){if(FO)return zf;FO=1;var e=zf&&zf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zf,"__esModule",{value:!0});const t=e(j6());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:u}={}){let m="";u==="plain"?m="pl":u==="phrase"?m="ph":u==="websearch"&&(m="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${m}fts${f}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return zf.default=n,zf}var UO;function N6(){if(UO)return Uf;UO=1;var e=Uf&&Uf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uf,"__esModule",{value:!0});const t=e(Y_());class n{constructor(s,{headers:i={},schema:o,fetch:u}){this.url=s,this.headers=i,this.schema=o,this.fetch=u}select(s,{head:i=!1,count:o}={}){const u=i?"HEAD":"GET";let m=!1;const f=(s??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",f),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const u="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),i&&m.push(`count=${i}`),o||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(s)){const f=s.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(f.length>0){const g=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:u,defaultToNull:m=!0}={}){const f="POST",g=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),m||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(s)){const x=s.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(x.length>0){const w=[...new Set(x)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Uf.default=n,Uf}var hg={},mg={},zO;function _Y(){return zO||(zO=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.version=void 0,mg.version="0.0.0-automated"),mg}var VO;function EY(){if(VO)return hg;VO=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.DEFAULT_HEADERS=void 0;const e=_Y();return hg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},hg}var $O;function AY(){if($O)return Ff;$O=1;var e=Ff&&Ff.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ff,"__esModule",{value:!0});const t=e(N6()),n=e(Y_()),r=EY();class s{constructor(o,{headers:u={},schema:m,fetch:f}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=m,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:m=!1,get:f=!1,count:g}={}){let x;const w=new URL(`${this.url}/rpc/${o}`);let _;m||f?(x=m?"HEAD":"GET",Object.entries(u).filter(([A,E])=>E!==void 0).map(([A,E])=>[A,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([A,E])=>{w.searchParams.append(A,E)})):(x="POST",_=u);const C=Object.assign({},this.headers);return g&&(C.Prefer=`count=${g}`),new n.default({method:x,url:w,headers:C,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Ff.default=s,Ff}var HO;function CY(){if(HO)return Aa;HO=1;var e=Aa&&Aa.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.PostgrestError=Aa.PostgrestBuilder=Aa.PostgrestTransformBuilder=Aa.PostgrestFilterBuilder=Aa.PostgrestQueryBuilder=Aa.PostgrestClient=void 0;const t=e(AY());Aa.PostgrestClient=t.default;const n=e(N6());Aa.PostgrestQueryBuilder=n.default;const r=e(Y_());Aa.PostgrestFilterBuilder=r.default;const s=e(j6());Aa.PostgrestTransformBuilder=s.default;const i=e(w6());Aa.PostgrestBuilder=i.default;const o=e(b6());return Aa.PostgrestError=o.default,Aa.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Aa}var TY=CY();const OY=Cs(TY),{PostgrestClient:MY,PostgrestQueryBuilder:yTe,PostgrestFilterBuilder:bTe,PostgrestTransformBuilder:wTe,PostgrestBuilder:jTe,PostgrestError:NTe}=OY;function DY(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const PY=DY(),RY="2.11.15",kY=`realtime-js/${RY}`,IY="1.0.0",S6=1e4,LY=1e3;var Fg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fg||(Fg={}));var rs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rs||(rs={}));var so;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(so||(so={}));var $N;(function(e){e.websocket="websocket"})($N||($N={}));var ud;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ud||(ud={}));class BY{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(t.slice(o,o+s));o=o+s;const m=r.decode(t.slice(o,o+i));o=o+i;const f=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:m,payload:f}}}let _6=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var er;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(er||(er={}));const qO=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=FY(o,e,t,s),i),{})},FY=(e,t,n,r)=>{const s=t.find(u=>u.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?E6(i,o):HN(o)},E6=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $Y(t,n)}switch(e){case er.bool:return UY(t);case er.float4:case er.float8:case er.int2:case er.int4:case er.int8:case er.numeric:case er.oid:return zY(t);case er.json:case er.jsonb:return VY(t);case er.timestamp:return HY(t);case er.abstime:case er.date:case er.daterange:case er.int4range:case er.int8range:case er.money:case er.reltime:case er.text:case er.time:case er.timestamptz:case er.timetz:case er.tsrange:case er.tstzrange:return HN(t);default:return HN(t)}},HN=e=>e,UY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$Y=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(u=>E6(t,u))}return e},HY=e=>typeof e=="string"?e.replace(" ","T"):e,A6=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Zw{constructor(t,n,r={},s=S6){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var YO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(YO||(YO={}));class Ug{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ug.syncState(this.state,s,i,o),this.pendingDiffs.forEach(m=>{this.state=Ug.syncDiff(this.state,m,i,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ug.syncDiff(this.state,s,i,o),u())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),u={},m={};return this.map(i,(f,g)=>{o[f]||(m[f]=g)}),this.map(o,(f,g)=>{const x=i[f];if(x){const w=g.map(E=>E.presence_ref),_=x.map(E=>E.presence_ref),C=g.filter(E=>_.indexOf(E.presence_ref)<0),A=x.filter(E=>w.indexOf(E.presence_ref)<0);C.length>0&&(u[f]=C),A.length>0&&(m[f]=A)}else u[f]=g}),this.syncDiff(i,{joins:u,leaves:m},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(u,m)=>{var f;const g=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(m),g.length>0){const x=t[u].map(_=>_.presence_ref),w=g.filter(_=>x.indexOf(_.presence_ref)<0);t[u].unshift(...w)}r(u,g,m)}),this.map(o,(u,m)=>{let f=t[u];if(!f)return;const g=m.map(x=>x.presence_ref);f=f.filter(x=>g.indexOf(x.presence_ref)<0),t[u]=f,s(u,f,m),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var WO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(WO||(WO={}));var GO;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(GO||(GO={}));var Ol;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ol||(Ol={}));class W_{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zw(this,so.join,this.params,this.timeout),this.rejoinTimer=new _6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rs.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(so.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ug(this),this.broadcastEndpointURL=A6(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rs.closed){const{config:{broadcast:i,presence:o,private:u}}=this.params;this._onError(g=>t==null?void 0:t(Ol.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Ol.CLOSED));const m={},f={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(Ol.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(x=w==null?void 0:w.length)!==null&&x!==void 0?x:0,C=[];for(let A=0;A<_;A++){const E=w[A],{filter:{event:M,schema:D,table:R,filter:z}}=E,I=g&&g[A];if(I&&I.event===M&&I.schema===D&&I.table===R&&I.filter===z)C.push(Object.assign(Object.assign({},E),{id:I.id}));else{this.unsubscribe(),this.state=rs.errored,t==null||t(Ol.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Ol.SUBSCRIBED);return}}).receive("error",g=>{this.state=rs.errored,t==null||t(Ol.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ol.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,u,m;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||m===void 0)&&m.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rs.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(so.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Zw(this,so.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zw(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:u,error:m,leave:f,join:g}=so;if(r&&[u,m,f,g].indexOf(o)>=0&&r!==this._joinRef())return;let w=this._onMessage(o,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var C,A,E;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((E=(A=_.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(_=>_.callback(w,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var C,A,E,M,D,R;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const z=_.id,I=(C=_.filter)===null||C===void 0?void 0:C.event;return z&&((A=n.ids)===null||A===void 0?void 0:A.includes(z))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const z=(D=(M=_==null?void 0:_.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return z==="*"||z===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof w=="object"&&"ids"in w){const C=w.data,{schema:A,table:E,commit_timestamp:M,type:D,errors:R}=C;w=Object.assign(Object.assign({},{schema:A,table:E,commit_timestamp:M,eventType:D,new:{},old:{},errors:R}),this._getPayloadRecords(C))}_.callback(w,r)})}_isClosed(){return this.state===rs.closed}_isJoined(){return this.state===rs.joined}_isJoining(){return this.state===rs.joining}_isLeaving(){return this.state===rs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&W_.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(so.close,{},t)}_onError(t){this._on(so.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=qO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=qO(t.columns,t.old_record)),n}}const KO=()=>{},qY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YY{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=S6,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=KO,this.ref=0,this.logger=KO,this.conn=null,this.sendBuffer=[],this.serializer=new BY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...u)=>Cd(async()=>{const{default:m}=await Promise.resolve().then(()=>qh);return{default:m}},void 0).then(({default:m})=>m(...u)):o=fetch,(...u)=>o(...u)},this.endPoint=`${t}/${$N.websocket}`,this.httpEndpoint=A6(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _6(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=PY),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:IY}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fg.connecting:return ud.Connecting;case Fg.open:return ud.Open;case Fg.closing:return ud.Closing;default:return ud.Closed}}isConnected(){return this.connectionState()===ud.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new W_(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,u=>{var m;(m=this.conn)===null||m===void 0||m.send(u)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:kY};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(so.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(LY,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(so.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([qY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class G_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ca(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WY extends G_{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qN extends G_{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var GY=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const C6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Cd(async()=>{const{default:r}=await Promise.resolve().then(()=>qh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},KY=()=>GY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cd(()=>Promise.resolve().then(()=>qh),void 0)).Response:Response}),YN=e=>{if(Array.isArray(e))return e.map(n=>YN(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=YN(r)}),t},XY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Vd=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const Jw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QY=(e,t,n)=>Vd(void 0,void 0,void 0,function*(){const r=yield KY();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new WY(Jw(s),i,o))}).catch(s=>{t(new qN(Jw(s),s))}):t(new qN(Jw(e),e))}),ZY=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(XY(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Cp(e,t,n,r,s,i){return Vd(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(n,ZY(t,r,s,i)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>o(m)).catch(m=>QY(m,u,r))})})}function vv(e,t,n,r){return Vd(this,void 0,void 0,function*(){return Cp(e,"GET",t,n,r)})}function Ml(e,t,n,r,s){return Vd(this,void 0,void 0,function*(){return Cp(e,"POST",t,r,s,n)})}function WN(e,t,n,r,s){return Vd(this,void 0,void 0,function*(){return Cp(e,"PUT",t,r,s,n)})}function JY(e,t,n,r){return Vd(this,void 0,void 0,function*(){return Cp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function T6(e,t,n,r,s){return Vd(this,void 0,void 0,function*(){return Cp(e,"DELETE",t,r,s,n)})}var Is=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const eW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},XO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tW{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=C6(s)}uploadOrUpdate(t,n,r,s){return Is(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},XO),s);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const m=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),m&&i.append("metadata",this.encodeMetadata(m)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),m&&i.append("metadata",this.encodeMetadata(m))):(i=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,m&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(n),g=this._getFinalPath(f),x=yield(t=="PUT"?WN:Ml)(this.fetch,`${this.url}/object/${g}`,i,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:x.Id,fullPath:x.Key},error:null}}catch(i){if(Ca(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Is(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Is(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let m;const f=Object.assign({upsert:XO.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",f.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",f.cacheControl)):(m=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const x=yield WN(this.fetch,u.toString(),m,{headers:g});return{data:{path:i,fullPath:x.Key},error:null}}catch(m){if(Ca(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Is(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ml(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),u=o.searchParams.get("token");if(!u)throw new G_("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(r){if(Ca(r))return{data:null,error:r};throw r}})}update(t,n,r){return Is(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Is(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ca(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Is(this,void 0,void 0,function*(){try{return{data:{path:(yield Ml(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ca(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Is(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ml(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ca(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Is(this,void 0,void 0,function*(){try{const s=yield Ml(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ca(s))return{data:null,error:s};throw s}})}download(t,n){return Is(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield vv(this.fetch,`${this.url}/${s}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Ca(u))return{data:null,error:u};throw u}})}info(t){return Is(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield vv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:YN(r),error:null}}catch(r){if(Ca(r))return{data:null,error:r};throw r}})}exists(t){return Is(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield JY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ca(r)&&r instanceof qN){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&s.push(m);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Is(this,void 0,void 0,function*(){try{return{data:yield T6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ca(n))return{data:null,error:n};throw n}})}list(t,n,r){return Is(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},eW),n),{prefix:t||""});return{data:yield Ml(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ca(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const nW="2.10.4",rW={"X-Client-Info":`storage-js/${nW}`};var Hf=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class aW{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},rW),n),this.fetch=C6(r)}listBuckets(){return Hf(this,void 0,void 0,function*(){try{return{data:yield vv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ca(t))return{data:null,error:t};throw t}})}getBucket(t){return Hf(this,void 0,void 0,function*(){try{return{data:yield vv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ca(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Hf(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ca(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Hf(this,void 0,void 0,function*(){try{return{data:yield WN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ca(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Hf(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ca(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Hf(this,void 0,void 0,function*(){try{return{data:yield T6(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ca(n))return{data:null,error:n};throw n}})}}class sW extends aW{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new tW(this.url,this.headers,t,this.fetch)}}const iW="2.53.0";let Mg="";typeof Deno<"u"?Mg="deno":typeof document<"u"?Mg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mg="react-native":Mg="node";const oW={"X-Client-Info":`supabase-js-${Mg}/${iW}`},lW={headers:oW},cW={schema:"public"},uW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dW={};var fW=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const hW=e=>{let t;return e?t=e:typeof fetch>"u"?t=v6:t=fetch,(...n)=>t(...n)},mW=()=>typeof Headers>"u"?y6:Headers,gW=(e,t,n)=>{const r=hW(n),s=mW();return(i,o)=>fW(void 0,void 0,void 0,function*(){var u;const m=(u=yield t())!==null&&u!==void 0?u:e;let f=new s(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${m}`),r(i,Object.assign(Object.assign({},o),{headers:f}))})};var pW=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};function xW(e){return e.endsWith("/")?e:e+"/"}function vW(e,t){var n,r;const{db:s,auth:i,realtime:o,global:u}=e,{db:m,auth:f,realtime:g,global:x}=t,w={db:Object.assign(Object.assign({},m),s),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},g),o),storage:{},global:Object.assign(Object.assign(Object.assign({},x),u),{headers:Object.assign(Object.assign({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>pW(this,void 0,void 0,function*(){return""})};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}const O6="2.71.1",sh=30*1e3,GN=3,e2=GN*sh,yW="http://localhost:9999",bW="supabase.auth.token",wW={"X-Client-Info":`gotrue-js/${O6}`},KN="X-Supabase-Api-Version",M6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NW=600*1e3;class K_ extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ht(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class SW extends K_{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function _W(e){return Ht(e)&&e.name==="AuthApiError"}class D6 extends K_{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class vu extends K_{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class qc extends vu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EW(e){return Ht(e)&&e.name==="AuthSessionMissingError"}class Nx extends vu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sx extends vu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _x extends vu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AW(e){return Ht(e)&&e.name==="AuthImplicitGrantRedirectError"}class QO extends vu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XN extends vu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function t2(e){return Ht(e)&&e.name==="AuthRetryableFetchError"}class ZO extends vu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class QN extends vu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),JO=` 	
\r=`.split(""),CW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<JO.length;t+=1)e[JO[t].charCodeAt(0)]=-2;for(let t=0;t<yv.length;t+=1)e[yv[t].charCodeAt(0)]=t;return e})();function eM(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(yv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(yv[r]),t.queuedBits-=6}}function P6(e,t,n){const r=CW[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tM(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{MW(o,r,n)};for(let o=0;o<e.length;o+=1)P6(e.charCodeAt(o),s,i);return t.join("")}function TW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OW(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}TW(r,t)}}function MW(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function DW(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)P6(e.charCodeAt(s),n,r);return new Uint8Array(t)}function PW(e){const t=[];return OW(e,n=>t.push(n)),new Uint8Array(t)}function RW(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>eM(s,n,r)),eM(null,n,r),t.join("")}function kW(e){return Math.round(Date.now()/1e3)+e}function IW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const no=()=>typeof window<"u"&&typeof document<"u",ed={tested:!1,writable:!1},R6=()=>{if(!no())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ed.tested)return ed.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ed.tested=!0,ed.writable=!0}catch{ed.tested=!0,ed.writable=!1}return ed.writable};function LW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const k6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Cd(async()=>{const{default:r}=await Promise.resolve().then(()=>qh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},BW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ih=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},td=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Lc=async(e,t)=>{await e.removeItem(t)};class Ty{constructor(){this.promise=new Ty.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ty.promiseConstructor=Promise;function n2(e){const t=e.split(".");if(t.length!==3)throw new QN("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!jW.test(t[r]))throw new QN("JWT not in base64url format");return{header:JSON.parse(tM(t[0])),payload:JSON.parse(tM(t[1])),signature:DW(t[2]),raw:{header:t[0],payload:t[1]}}}async function FW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function UW(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function zW(e){return("0"+e.toString(16)).substr(-2)}function VW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,zW).join("")}async function $W(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function HW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await $W(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qf(e,t,n=!1){const r=VW();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ih(e,`${t}-code-verifier`,s);const i=await HW(r);return[i,r===i?"plain":"s256"]}const qW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YW(e){const t=e.headers.get(KN);if(!t||!t.match(qW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yf(e){if(!KW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function r2(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nM(e){return JSON.parse(JSON.stringify(e))}var XW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ad=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QW=[502,503,504];async function rM(e){var t;if(!BW(e))throw new XN(ad(e),0);if(QW.includes(e.status))throw new XN(ad(e),e.status);let n;try{n=await e.json()}catch(i){throw new D6(ad(i),i)}let r;const s=YW(e);if(s&&s.getTime()>=M6["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ZO(ad(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new qc}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ZO(ad(n),e.status,n.weak_password.reasons);throw new SW(ad(n),e.status||500,r)}const ZW=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function an(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[KN]||(i[KN]=M6["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",m=await JW(e,t,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function JW(e,t,n,r,s,i){const o=ZW(t,r,s,i);let u;try{u=await e(n,Object.assign({},o))}catch(m){throw console.error(m),new XN(ad(m),0)}if(u.ok||await rM(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(m){await rM(m)}}function Cl(e){var t;let n=null;rG(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=kW(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function aM(e){const t=Cl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eG(e){return{data:e,error:null}}function tG(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=XW(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},m=Object.assign({},o);return{data:{properties:u,user:m},error:null}}function nG(e){return e}function rG(e){return e.access_token&&e.refresh_token&&e.expires_in}const a2=["global","local","others"];var aG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class sG{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=k6(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=a2[0]){if(a2.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${a2.join(", ")}`);try{return await an(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ht(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await an(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kc})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=aG(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await an(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:tG,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await an(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kc})}catch(n){if(Ht(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,u,m;try{const f={nextPage:null,lastPage:0,total:0},g=await an(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nG});if(g.error)throw g.error;const x=await g.json(),w=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(m=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(C=>{const A=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(C.split(";")[1].split("=")[1]);f[`${E}Page`]=A}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(Ht(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Yf(t);try{return await an(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kc})}catch(n){if(Ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Yf(t);try{return await an(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kc})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Yf(t);try{return await an(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kc})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Yf(t.userId);try{const{data:n,error:r}=await an(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Yf(t.userId),Yf(t.id);try{return{data:await an(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}}function sM(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function iG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wf={debug:!!(globalThis&&R6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I6 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oG extends I6{}async function lG(e,t,n){Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wf.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}iG();const cG={url:yW,storageKey:bW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function iM(e,t,n){return await n()}const Gf={};class Kg{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kg.nextInstanceID,Kg.nextInstanceID+=1,this.instanceID>0&&no()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},cG),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sG({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=k6(s.fetch),this.lock=s.lock||iM,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:no()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lG:this.lock=iM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:R6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sM(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sM(this.memoryStorage)),no()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Gf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Gf[this.storageKey]=Object.assign(Object.assign({},Gf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Gf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gf[this.storageKey]=Object.assign(Object.assign({},Gf[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${O6}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=LW(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),no()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),AW(i)){const m=(t=i.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ht(n)?{error:n}:{error:new D6("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cl}),{data:o,error:u}=i;if(u||!o)return{data:{user:null,session:null},error:u};const m=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(i){if(Ht(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:g,password:x,options:w}=t;let _=null,C=null;this.flowType==="pkce"&&([_,C]=await qf(this.storage,this.storageKey)),i=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:x,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:C},xform:Cl})}else if("phone"in t){const{phone:g,password:x,options:w}=t;i=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(s=w==null?void 0:w.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Cl})}else throw new Sx("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u||!o)return{data:{user:null,session:null},error:u};const m=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(i){if(Ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:u}=t;n=await an(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:aM})}else if("phone"in t){const{phone:i,password:o,options:u}=t;n=await an(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:aM})}else throw new Sx("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Nx}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,u,m,f,g,x,w,_;let C,A;if("message"in t)C=t.message,A=t.signature;else{const{chain:E,wallet:M,statement:D,options:R}=t;let z;if(no())if(typeof M=="object")z=M;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))z=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=M}const I=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const k=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),D?{statement:D}:null));let F;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")F=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)F=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)C=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),A=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${I.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(s=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=R==null?void 0:R.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(g=R==null?void 0:R.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const k=await z.signMessage(new TextEncoder().encode(C),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=k}}try{const{data:E,error:M}=await an(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:RW(A)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Cl});if(M)throw M;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Nx}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:M})}catch(E){if(Ht(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await td(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await an(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Cl});if(await Lc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nx}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Ht(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,u=await an(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cl}),{data:m,error:f}=u;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Nx}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:f})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:u,options:m}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await qf(this.storage,this.storageKey));const{error:x}=await an(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:u,options:m}=t,{data:f,error:g}=await an(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new Sx("You must provide either an email or phone number.")}catch(u){if(Ht(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await an(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Cl});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const m=o.session,f=o.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(s){if(Ht(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qf(this.storage,this.storageKey)),await an(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:eG})}catch(i){if(Ht(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new qc;const{error:s}=await an(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ht(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await an(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:u}=await an(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new Sx("You must provide either an email or phone number and a type")}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await td(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<e2:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await td(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=r2()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,f,g)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,f,g))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await an(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kc}):await this._useSession(async n=>{var r,s,i;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qc}:await an(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kc})})}catch(n){if(Ht(n))return EW(n)&&(await this._removeSession(),await Lc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new qc;const o=s.session;let u=null,m=null;this.flowType==="pkce"&&t.email!=null&&([u,m]=await qf(this.storage,this.storageKey));const{data:f,error:g}=await an(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:m}),jwt:o.access_token,xform:Kc});if(g)throw g;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qc;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=n2(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:u,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:m}=await this._getUser(t.access_token);if(m)throw m;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ht(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:u}=n;if(u)throw u;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new qc;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ht(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!no())throw new _x("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _x(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new QO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _x("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new QO("No code detected.");const{data:D,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:u,expires_at:m,token_type:f}=t;if(!i||!u||!o||!f)throw new _x("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(u);let w=g+x;m&&(w=parseInt(m));const _=w-g;_*1e3<=sh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${x}s`);const C=w-x;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,w,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,w,g);const{data:A,error:E}=await this._getUser(i);if(E)throw E;const M={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:x,expires_at:w,refresh_token:o,token_type:f,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:t.type},error:null}}catch(r){if(Ht(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await td(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(_W(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Lc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=IW(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await qf(this.storage,this.storageKey,!0));try{return await an(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ht(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,u,m,f,g;const{data:x,error:w}=i;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await an(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return no()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ht(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await an(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await UW(async s=>(s>0&&await FW(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await an(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cl})),(s,i)=>{const o=200*Math.pow(2,s);return i&&t2(i)&&Date.now()+o-r<sh})}catch(r){if(this._debug(n,"error",r),Ht(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),no()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await td(this.storage,this.storageKey);if(s&&this.userStorage){let o=await td(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ih(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:r2()}else if(s&&!s.user&&!s.user){const o=await td(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Lc(this.storage,this.storageKey+"-user"),await ih(this.storage,this.storageKey,s)):s.user=r2()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<e2;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${e2}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),t2(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(s.access_token);!u&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new qc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ty;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new qc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(s,"error",i),Ht(i)){const o={session:null,error:i};return t2(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(m){i.push(m)}});if(await Promise.all(o),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ih(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=nM(s);await ih(this.storage,this.storageKey,i)}else{const s=nM(n);await ih(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Lc(this.storage,this.storageKey),await Lc(this.storage,this.storageKey+"-code-verifier"),await Lc(this.storage,this.storageKey+"-user"),this.userStorage&&await Lc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&no()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/sh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sh}ms, refresh threshold is ${GN} ticks`),s<=GN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof I6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!no()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await qf(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await an(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:f}=await an(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((s=m==null?void 0:m.totp)===null||s===void 0)&&s.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:u}=await an(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await an(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=n2(s.access_token);let u=null;o.aal&&(u=o.aal);let m=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const g=o.amr||[];return{data:{currentLevel:u,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+NW>s)return r;const{data:i,error:o}=await an(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:C}=await this.getSession();if(C||!_.session)return{data:null,error:C};r=_.session.access_token}const{header:s,payload:i,signature:o,raw:{header:u,payload:m}}=n2(r);n!=null&&n.allowExpired||WW(i.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:s,signature:o},error:null}}const g=GW(s.alg),x=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,o,PW(`${u}.${m}`)))throw new QN("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Ht(r))return{data:null,error:r};throw r}}}Kg.nextInstanceID=0;const uG=Kg;class dG extends uG{constructor(t){super(t)}}var fG=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class hG{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=xW(t),m=new URL(u);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const f=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:cW,realtime:dW,auth:Object.assign(Object.assign({},uW),{storageKey:f}),global:lW},x=vW(r??{},g);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=x.global.headers)!==null&&i!==void 0?i:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=x.auth)!==null&&o!==void 0?o:{},this.headers,x.global.fetch),this.fetch=gW(n,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new MY(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new sW(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new yY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return fG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:u,debug:m},f,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dG({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),f),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:u,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new YY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mG=(e,t,n)=>new hG(e,t,n);function gG(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gG()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pG="https://zedwbdksnduazpdveoab.supabase.co",xG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplZHdiZGtzbmR1YXpwZHZlb2FiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMDcwNDIsImV4cCI6MjA2OTU4MzA0Mn0.LjhdIRxPhAM0JTUdX9YdxHaSkffoDLV4RBkglKFksxI",$e=mG(pG,xG),L6=j.createContext(void 0);function B6({children:e}){const[t,n]=j.useState(null),[r,s]=j.useState(null),[i,o]=j.useState(null),[u,m]=j.useState(!0);j.useEffect(()=>{$e.auth.getSession().then(({data:{session:M}})=>{o(M),n((M==null?void 0:M.user)??null),M!=null&&M.user?f(M.user.id):m(!1)});const{data:{subscription:E}}=$e.auth.onAuthStateChange(async(M,D)=>{o(D),n((D==null?void 0:D.user)??null),D!=null&&D.user?await f(D.user.id):(s(null),m(!1))});return()=>E.unsubscribe()},[]);const f=async E=>{try{const{data:M,error:D}=await $e.from("profiles").select("*").eq("id",E).single();if(D)throw D;s(M)}catch(M){console.error("Error fetching profile:",M)}finally{m(!1)}},A={user:t,profile:r,session:i,loading:u,signUp:async(E,M,D)=>{const{data:R,error:z}=await $e.auth.signUp({email:E,password:M,options:{data:D}});return{data:R,error:z}},signIn:async(E,M,D=!1)=>{const{data:R,error:z}=await $e.auth.signInWithPassword({email:E,password:M});return D&&R.session?localStorage.setItem("tickets_remember_me","true"):localStorage.removeItem("tickets_remember_me"),{data:R,error:z}},signOut:async()=>{await $e.auth.signOut()},updateProfile:async E=>{if(!t)return;const{error:M}=await $e.from("profiles").update(E).eq("id",t.id);M||s(D=>D?{...D,...E}:null)},refreshProfile:async()=>{t&&await f(t.id)}};return a.jsx(L6.Provider,{value:A,children:e})}function $t(){const e=j.useContext(L6);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function vG(){const e=$t();return j.useEffect(()=>{!e.loading&&!e.user&&(window.location.href="/login")},[e.loading,e.user]),e}function X_(e){const t=vG();return j.useEffect(()=>{!t.loading&&t.profile&&!e.includes(t.profile.user_type)&&(window.location.href=`/${t.profile.user_type}`)},[t.loading,t.profile,e]),t}const yG={en:{"common.loading":"Loading...","common.error":"An error occurred","common.success":"Success","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.amount":"Amount","common.date":"Date","common.status":"Status","common.description":"Description","common.balance":"Balance","common.currency":"SYP","auth.login":"Login","auth.register":"Register","auth.logout":"Logout","auth.email":"Email","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.fullName":"Full Name","auth.phoneNumber":"Phone Number","auth.forgotPassword":"Forgot Password?","auth.dontHaveAccount":"Don't have an account?","auth.alreadyHaveAccount":"Already have an account?","auth.signUp":"Sign Up","auth.signIn":"Sign In","auth.role":"I am a","auth.passenger":"Passenger","auth.driver":"Driver","auth.merchant":"Merchant","auth.eventAdmin":"Event Organizer","auth.accountType":"Account Type","auth.getStartedDescription":"Get started with your digital wallet in minutes","auth.fullNamePlaceholder":"Your full name","auth.emailPlaceholder":"your@email.com","auth.phoneNumberPlaceholder":"XXX XXX XXX","auth.createPasswordPlaceholder":"Create a strong password","auth.confirmPasswordPlaceholder":"Confirm your password","auth.signInHere":"Sign in here","auth.signUpHere":"Sign up for free","auth.accessDescription":"Access your digital wallet and manage your payments","auth.enterPasswordPlaceholder":"Enter your password","auth.rememberMe":"Remember me","common.optional":"Optional","features.digitalWallet":"Digital wallet access","features.qrPayments":"QR code payments","features.eventTickets":"Event ticket purchases","features.transactionHistory":"Transaction history","features.driverDashboard":"Driver dashboard","features.earningsTracking":"Earnings tracking","features.qrGeneration":"QR code generation","features.tripManagement":"Trip management","features.businessDashboard":"Business dashboard","features.paymentProcessing":"Payment processing","features.analyticsInsights":"Analytics & insights","features.customerManagement":"Customer management","features.eventCreation":"Event creation","features.ticketManagement":"Ticket management","features.attendeeAnalytics":"Attendee analytics","features.revenueTracking":"Revenue tracking","registration.personalAccountFeatures":"Personal Account Features","registration.driverAccountFeatures":"Driver Account Features","registration.businessAccountFeatures":"Business Account Features","registration.eventOrganizerFeatures":"Event Organizer Features","registration.whyChooseTickets":"Why Choose Tickets?","registration.bankGradeSecurity":"Bank-grade security & encryption","registration.instantTransactions":"Instant transactions & real-time updates","registration.customerSupport":"24/7 customer support","registration.lowFees":"Low fees & transparent pricing","registration.soc2Certified":"SOC 2 Certified","registration.iso27001":"ISO 27001","registration.pciCompliant":"PCI Compliant","registration.joinRevolution":"Join the digital payment revolution","registration.backToHome":"Back to Home","login.welcomeBack":"Welcome back","login.secure":"Secure","login.encrypted":"Encrypted","login.private":"Private","nav.dashboard":"Dashboard","nav.wallet":"Wallet","nav.transactions":"Transactions","nav.scanner":"QR Scanner","nav.events":"Events","nav.tickets":"My Tickets","nav.earnings":"Earnings","nav.trips":"Trips","nav.verification":"Verification","nav.qrcode":"QR Code","nav.business":"Business","nav.management":"Management","nav.analytics":"Analytics","nav.users":"Users","nav.disputes":"Disputes","nav.verificationReview":"Driver Verification","nav.support":"Support","nav.settings":"Settings","nav.profile":"Profile","nav.notifications":"Notifications","nav.chat":"Chat","wallet.title":"Digital Wallet","wallet.balance":"Current Balance","wallet.recharge":"Recharge Wallet","wallet.rechargeAmount":"Recharge Amount","wallet.paymentMethod":"Payment Method","wallet.mtnCash":"MTN Cash","wallet.syriatelCash":"Syriatel Cash","wallet.shamCash":"ShamCash","wallet.fatora":"Fatora","wallet.stripe":"Credit Card","wallet.rechargeSuccess":"Wallet recharged successfully","wallet.insufficientBalance":"Insufficient balance","transactions.title":"Transaction History","transactions.recent":"Recent Transactions","transactions.payment":"Payment","transactions.recharge":"Recharge","transactions.refund":"Refund","transactions.withdrawal":"Withdrawal","transactions.pending":"Pending","transactions.completed":"Completed","transactions.failed":"Failed","transactions.cancelled":"Cancelled","transactions.to":"To","transactions.from":"From","scanner.title":"QR Code Scanner","scanner.scanToPayDriver":"Scan driver QR to pay for transport","scanner.scanToPayMerchant":"Scan merchant QR to make payment","scanner.scanning":"Scanning...","scanner.paymentSuccess":"Payment successful","scanner.paymentFailed":"Payment failed","scanner.quantity":"Number of tickets","events.title":"Events","events.upcoming":"Upcoming Events","events.myEvents":"My Events","events.createEvent":"Create Event","events.eventTitle":"Event Title","events.eventDescription":"Event Description","events.eventLocation":"Location","events.eventDate":"Date","events.eventPrice":"Ticket Price","events.availableTickets":"Available Tickets","events.buyTicket":"Buy Ticket","events.ticketPurchased":"Ticket purchased successfully",eventAdminDashboardOverview:"Manage your events and track performance",createEvent:"Create Event",validateTickets:"Validate Tickets",totalEvents:"Total Events",activeEvents:"Active Events",ticketsSold:"Tickets Sold",totalRevenue:"Total Revenue",pendingValidations:"Pending Validations",requiresAttention:"Requires Attention",recentEvents:"Recent Events",yourLatestEventActivities:"Your latest event activities",fromTicketSales:"From ticket sales",pendingValidation:"Pending validation",welcome:"Welcome","driver.title":"Driver Dashboard","driver.earnings":"Earnings","driver.todayEarnings":"Today's Earnings","driver.weekEarnings":"Week Earnings","driver.monthEarnings":"Month Earnings","driver.generateQR":"Generate QR Code","driver.activeTrip":"Active Trip","driver.startTrip":"Start Trip","driver.endTrip":"End Trip","driver.route":"Route","driver.ticketFee":"Ticket Fee","driver.passengerCount":"Passengers","driver.analytics":"Driver Analytics","driver.performance":"Performance","driver.efficiency":"Efficiency","driver.monthlyComparison":"Monthly Comparison","driver.hourlyPerformance":"Hourly Performance","driver.locationPerformance":"Location Performance","driver.ratingDistribution":"Rating Distribution","driver.performanceMetrics":"Performance Metrics","driver.earningsBreakdown":"Earnings Breakdown","driver.todaySnapshot":"Today's Snapshot","driver.exportAnalytics":"Export Analytics","driver.earningsTrend":"Earnings Trend","driver.dailyAverage":"Daily Average","driver.weeklyAverage":"Weekly Average","driver.monthlyAverage":"Monthly Average","driver.totalNetEarnings":"Total Net Earnings","driver.averagePerTrip":"Average per Trip","driver.totalDistance":"Total Distance","driver.totalDuration":"Total Duration","driver.earningsPerHour":"Earnings per Hour","driver.earningsPerKm":"Earnings per KM","driver.cancellationRate":"Cancellation Rate","driver.overallRating":"Overall Rating","driver.efficiencyRating":"Efficiency Rating","driver.excellent":"Excellent","driver.verification.title":"Driver Verification","driver.verification.description":"Complete your driver verification to start earning with Tickets","driver.verification.status.title":"Verification Status","driver.verification.status.not_submitted":"Not Submitted","driver.verification.status.pending":"Under Review","driver.verification.status.approved":"Approved","driver.verification.status.rejected":"Rejected","driver.verification.progress":"Progress","driver.verification.driverInfo":"Driver Information","driver.verification.driverInfoDesc":"Provide your driver and vehicle details","driver.verification.licenseNumber":"License Number","driver.verification.licenseNumberPlaceholder":"Enter your driving license number","driver.verification.licenseExpiry":"License Expiry Date","driver.verification.vehicleType":"Vehicle Type","driver.verification.selectVehicleType":"Select vehicle type","driver.verification.vehicleModel":"Vehicle Model","driver.verification.vehicleModelPlaceholder":"e.g., Toyota Hiace 2020","driver.verification.vehiclePlate":"Vehicle Plate Number","driver.verification.vehiclePlatePlaceholder":"e.g., 123456 Damascus","driver.verification.routeName":"Route Name","driver.verification.routeNamePlaceholder":"e.g., Damascus-Aleppo","driver.verification.routeDescription":"Route Description","driver.verification.routeDescriptionPlaceholder":"Describe your regular routes and stops","driver.verification.documents":"Required Documents","driver.verification.documentsDesc":"Upload clear photos or scans of your documents","driver.verification.documentTypes.license_front":"Driver License (Front)","driver.verification.documentTypes.license_back":"Driver License (Back)","driver.verification.documentTypes.vehicle_registration":"Vehicle Registration","driver.verification.documentTypes.vehicle_photo":"Vehicle Photo","driver.verification.viewDocument":"View Document","driver.verification.submit":"Submit for Review","driver.verification.invalidFileType":"Please upload images (JPG, PNG) or PDF files only","driver.verification.fileTooLarge":"File size must be less than 5MB","driver.verification.documentUploaded":"Document uploaded successfully","driver.verification.uploadFailed":"Failed to upload document. Please try again.","driver.verification.fillRequired":"Please fill in all required fields","driver.verification.uploadAllDocuments":"Please upload all required documents","driver.verification.submitted":"Verification submitted successfully! You will be notified when reviewed.","driver.verification.rejectedMessage":"Your verification was rejected. Please review the feedback and resubmit.","driver.verification.approvedMessage":"Congratulations! Your driver verification has been approved. You can now start accepting passengers.","driver.verification.vehicleTypes.bus":"Bus","driver.verification.vehicleTypes.microbus":"Microbus","driver.verification.vehicleTypes.taxi":"Taxi","driver.verification.vehicleTypes.private_car":"Private Car","driver.verification.vehicleTypes.motorcycle":"Motorcycle","driver.verification.vehicleTypes.truck":"Truck","common.saving":"Saving...","merchant.title":"Merchant Dashboard","merchant.business":"Business Information","merchant.businessName":"Business Name","merchant.businessCategory":"Category","merchant.generateQR":"Generate Payment QR","merchant.qrAmount":"Payment Amount","admin.title":"Admin Dashboard","admin.userManagement":"User Management","admin.systemAnalytics":"System Analytics","admin.totalUsers":"Total Users","admin.totalTransactions":"Total Transactions","admin.totalRevenue":"Total Revenue","admin.disputes":"Disputes","app.name":"Tickets","app.subtitle":"Digital Wallet & Payment System","app.welcome":"Welcome to Tickets","app.description":"Your digital wallet for seamless payments, event tickets, and transportation in Syria.","onboard.welcome":"Welcome to Tickets!","onboard.step1.title":"Digital Wallet","onboard.step1.desc":"Securely store and manage your money digitally","onboard.step2.title":"QR Payments","onboard.step2.desc":"Pay for transportation and purchases instantly","onboard.step3.title":"Event Tickets","onboard.step3.desc":"Buy and manage event tickets digitally","onboard.getStarted":"Get Started","onboard.skip":"Skip Tour",profile:"Profile",editProfile:"Edit Profile",profilePicture:"Profile Picture",personalInformation:"Personal Information",manageYourAccountInformation:"Manage your account information",updateYourPersonalDetails:"Update your personal details",clickToUploadNewPicture:"Click to upload new picture",fullName:"Full Name",phoneNumber:"Phone Number",email:"Email",language:"Language",accountType:"Account Type",memberSince:"Member Since",verificationStatus:"Verification Status",accountStatus:"Account Status",verified:"Verified",unverified:"Unverified",active:"Active",inactive:"Inactive",notProvided:"Not Provided",accountActions:"Account Actions",manageYourAccountSecurity:"Manage your account security",changePassword:"Change Password",downloadData:"Download Data",twoFactorAuth:"Two-Factor Authentication",deleteAccount:"Delete Account",profileUpdated:"Profile updated successfully",errorUpdatingProfile:"Error updating profile",featureComingSoon:"Feature coming soon",redirectingToPasswordChange:"Redirecting to password change",preparingDataDownload:"Preparing data download",errorDownloadingData:"Error downloading data",twoFactorAuthDisabled:"Two-factor authentication is temporarily disabled",deleteAccountNotImplemented:"Account deletion requires additional verification",settings:"Settings",manageYourAppPreferences:"Manage your app preferences",languageAndAppearance:"Language & Appearance",customizeYourAppExperience:"Customize your app experience",darkMode:"Dark Mode",toggleDarkMode:"Switch between light and dark themes",showWalletBalance:"Show Wallet Balance",displayBalanceInDashboard:"Display wallet balance in dashboard",notifications:"Notifications",controlWhenAndHowYouReceiveNotifications:"Control when and how you receive notifications",emailNotifications:"Email Notifications",receiveEmailUpdates:"Receive email updates",pushNotifications:"Push Notifications",receivePushNotifications:"Receive push notifications",smsNotifications:"SMS Notifications",receiveSmsUpdates:"Receive SMS updates",transactionNotifications:"Transaction Notifications",notifyOnTransactions:"Notify on transactions",marketingNotifications:"Marketing Notifications",receivePromotionalEmails:"Receive promotional emails",securityNotifications:"Security Notifications",notifyOnSecurityEvents:"Notify on security events",legalAndCompany:"Legal & Company",importantLegalInformation:"Important legal information",privacyPolicy:"Privacy Policy",aboutCompany:"About Company",appInformation:"App Information",version:"Version",lastUpdate:"Last Update",buildNumber:"Build Number",settingUpdated:"Setting updated",languageChanged:"Language changed",featureNotAvailable:"Feature not available",privacyPolicyComingSoon:"Privacy policy will be available soon",companyInfoComingSoon:"Company information will be available soon","receipt.title":"Transaction Receipt","receipt.description":"Official receipt for your transaction","receipt.walletTopUp":"Wallet Top-up","receipt.busTicketPayment":"Bus Ticket Payment","receipt.busFareCollection":"Bus Fare Collection","receipt.paymentSent":"Payment Sent","receipt.paymentReceived":"Payment Received","receipt.transactionRefund":"Transaction Refund","receipt.walletWithdrawal":"Wallet Withdrawal","receipt.transaction":"Transaction","receipt.transactionSuccessful":"Transaction Successful","receipt.transactionPending":"Transaction Pending","receipt.transactionFailed":"Transaction Failed","receipt.transactionCancelled":"Transaction Cancelled","receipt.transactionDetails":"Transaction Details","receipt.transactionId":"Transaction ID","receipt.dateTime":"Date & Time","receipt.type":"Type","receipt.reference":"Reference","receipt.completed":"Completed","receipt.recipient":"Recipient","receipt.sender":"Sender","receipt.scanToVerify":"Scan to verify this receipt","receipt.officialReceipt":"This is an official receipt generated by Tickets E-Wallet","receipt.supportContact":"For support, contact","receipt.generatedOn":"Generated on","receipt.at":"at","receipt.downloadPdf":"Download PDF","receipt.share":"Share","receipt.print":"Print","receipt.transactionIdCopied":"Transaction ID copied to clipboard","gift.title":"Send Gift","gift.description":"Send credits to friends and family","gift.currentBalance":"Current Balance","gift.recipientEmail":"Recipient Email","gift.emailPlaceholder":"Enter recipient email address","gift.amount":"Gift Amount","gift.amountPlaceholder":"Enter amount to send","gift.maxAmount":"Maximum","gift.message":"Personal Message","gift.messagePlaceholder":"Add a personal message (optional)","gift.sendGift":"Send Gift","gift.sending":"Sending...","gift.validating":"Validating recipient...","gift.recipientFound":"Recipient found","gift.cannotSendToYourself":"You cannot send a gift to yourself","gift.validationError":"Unable to validate recipient","gift.invalidAmount":"Please enter a valid amount","gift.insufficientBalance":"Insufficient wallet balance","gift.sentSuccessfully":"Gift sent successfully to {{name}} ({{amount}})","gift.sendError":"Failed to send gift. Please try again."},ar:{"common.loading":"جارٍ التحميل...","common.error":"حدث خطأ","common.success":"نجح","common.cancel":"إلغاء","common.confirm":"تأكيد","common.save":"حفظ","common.edit":"تعديل","common.delete":"حذف","common.back":"رجوع","common.next":"التالي","common.previous":"السابق","common.search":"بحث","common.filter":"تصفية","common.amount":"المبلغ","common.date":"التاريخ","common.status":"الحالة","common.description":"الوصف","common.balance":"الرصيد","common.currency":"ل.س","auth.login":"تسجيل الدخول","auth.register":"إنشاء حساب","auth.logout":"تسجيل الخروج","auth.email":"البريد الإلكتروني","auth.password":"كلمة المرور","auth.confirmPassword":"تأكيد كلمة المرور","auth.fullName":"الاسم الكامل","auth.phoneNumber":"رقم الهاتف","auth.forgotPassword":"نسيت كلمة المرور؟","auth.dontHaveAccount":"ليس لديك حساب؟","auth.alreadyHaveAccount":"لديك حساب بالفعل؟","auth.signUp":"إنشاء حساب","auth.signIn":"تسجيل الدخول","auth.role":"أنا","auth.passenger":"راكب","auth.driver":"سائق","auth.merchant":"تاجر","auth.eventAdmin":"منظم فعاليات","auth.accountType":"نوع الحساب","auth.getStartedDescription":"ابدأ مع محفظتك الرقمية في دقائق","auth.fullNamePlaceholder":"اسمك الكامل","auth.emailPlaceholder":"your@email.com","auth.phoneNumberPlaceholder":"XXX XXX XXX","auth.createPasswordPlaceholder":"أنشئ كلمة مرور قوية","auth.confirmPasswordPlaceholder":"أكد كلمة المرور","auth.signInHere":"سجل دخولك هنا","auth.signUpHere":"أنشئ حساباً مجانياً","auth.accessDescription":"ادخل إلى محفظتك الرقمية وأدر مدفوعاتك","auth.enterPasswordPlaceholder":"أدخل كلمة المرور","auth.rememberMe":"تذكرني","common.optional":"اختياري","features.digitalWallet":"الوصول للمحفظة الرقمية","features.qrPayments":"مدفوعات رمز QR","features.eventTickets":"شراء تذاكر الفعاليات","features.transactionHistory":"تاريخ المعاملات","features.driverDashboard":"لوحة تحكم السائق","features.earningsTracking":"تتبع الأرباح","features.qrGeneration":"إنشاء رمز QR","features.tripManagement":"إدارة الرحلات","features.businessDashboard":"لوحة تحكم العمل","features.paymentProcessing":"معالجة المدفوعات","features.analyticsInsights":"التحليلات والرؤى","features.customerManagement":"إدارة العملاء","features.eventCreation":"إنشاء الفعاليات","features.ticketManagement":"إدارة التذاكر","features.attendeeAnalytics":"تحليلات الحضور","features.revenueTracking":"تتبع الإيرادات","registration.personalAccountFeatures":"ميزات الحساب الشخصي","registration.driverAccountFeatures":"ميزات حساب السائق","registration.businessAccountFeatures":"ميزات حساب العمل","registration.eventOrganizerFeatures":"ميزات منظم الفعاليات","registration.whyChooseTickets":"لماذا تختار تذاكر؟","registration.bankGradeSecurity":"أمان وتشفير بمستوى البنوك","registration.instantTransactions":"معاملات فورية وتحديثات في الوقت الفعلي","registration.customerSupport":"دعم عملاء 24/7","registration.lowFees":"رسوم منخفضة وتسعير شفاف","registration.soc2Certified":"معتمد SOC 2","registration.iso27001":"ISO 27001","registration.pciCompliant":"متوافق مع PCI","registration.joinRevolution":"انضم إلى ثورة الدفع الرقمي","registration.backToHome":"عودة إلى الرئيسية","login.welcomeBack":"مرحباً بعودتك","login.secure":"آمن","login.encrypted":"مشفر","login.private":"خاص","nav.dashboard":"لوحة التحكم","nav.wallet":"المحفظة","nav.transactions":"المعاملات","nav.scanner":"ماسح QR","nav.events":"الفعاليات","nav.tickets":"تذاكري","nav.earnings":"الأرباح","nav.trips":"الرحلات","nav.verification":"التوثيق","nav.qrcode":"رمز QR","nav.business":"العمل","nav.management":"الإدارة","nav.analytics":"التحليلات","nav.users":"المستخدمون","nav.disputes":"النزاعات","nav.verificationReview":"توثيق السائقين","nav.support":"الدعم","nav.settings":"الإعدادات","nav.profile":"الملف الشخصي","nav.notifications":"الإشعارات","nav.chat":"المحادثة","nav.promotions":"العروض الترويجية","nav.gifts":"الهدايا","wallet.title":"المحفظة الرقمية","wallet.balance":"الرصيد الحالي","wallet.recharge":"شحن المحفظة","wallet.rechargeAmount":"مبلغ الشحن","wallet.paymentMethod":"طريقة الدفع","wallet.mtnCash":"إم تي إن كاش","wallet.syriatelCash":"سيرياتيل كاش","wallet.shamCash":"شام كاش","wallet.fatora":"فاتورة","wallet.stripe":"بطاقة ائتمانية","wallet.rechargeSuccess":"تم شحن المحفظة بنجاح","wallet.insufficientBalance":"رصيد غير كافٍ","transactions.title":"سجل المعاملات","transactions.recent":"المعاملات الأخيرة","transactions.payment":"دفع","transactions.recharge":"شحن","transactions.refund":"استرداد","transactions.withdrawal":"سحب","transactions.pending":"معلق","transactions.completed":"مكتمل","transactions.failed":"فاشل","transactions.cancelled":"ملغى","transactions.to":"إلى","transactions.from":"من","scanner.title":"ماسح رمز QR","scanner.scanToPayDriver":"امسح رمز السائق للدفع","scanner.scanToPayMerchant":"امسح رمز التاجر للدفع","scanner.scanning":"جارٍ المسح...","scanner.paymentSuccess":"تم الدفع بنجاح","scanner.paymentFailed":"فشل الدفع","scanner.quantity":"عدد التذاكر","events.title":"الفعاليات","events.upcoming":"الفعاليات القادمة","events.myEvents":"فعالياتي","events.createEvent":"إنشاء فعالية","events.eventTitle":"عنوان الفعالية","events.eventDescription":"وصف الفعالية","events.eventLocation":"المكان","events.eventDate":"التاريخ","events.eventPrice":"سعر التذكرة","events.availableTickets":"التذاكر المتاحة","events.buyTicket":"شراء تذكرة","events.ticketPurchased":"تم شراء التذكرة بنجاح",eventAdminDashboardOverview:"إدارة فعالياتك وتتبع الأداء",createEvent:"إنشاء فعالية",validateTickets:"التحقق من التذاكر",totalEvents:"إجمالي الفعاليات",activeEvents:"الفعاليات النشطة",ticketsSold:"التذاكر المباعة",totalRevenue:"إجمالي الإيرادات",pendingValidations:"التحققات المعلقة",requiresAttention:"يتطلب انتباه",recentEvents:"الفعاليات الأخيرة",yourLatestEventActivities:"أحدث أنشطة فعالياتك",fromTicketSales:"من مبيعات التذاكر",pendingValidation:"في انتظار التحقق",welcome:"مرحباً","driver.title":"لوحة تحكم السائق","driver.earnings":"الأرباح","driver.todayEarnings":"أرباح اليوم","driver.weekEarnings":"أرباح الأسبوع","driver.monthEarnings":"أرباح الشهر","driver.generateQR":"إنشاء رمز QR","driver.activeTrip":"الرحلة النشطة","driver.startTrip":"بدء الرحلة","driver.endTrip":"إنهاء الرحلة","driver.route":"المسار","driver.ticketFee":"أجرة التذكرة","driver.passengerCount":"الركاب","driver.analytics":"تحليلات السائق","driver.performance":"الأداء","driver.efficiency":"الكفاءة","driver.monthlyComparison":"مقارنة شهرية","driver.hourlyPerformance":"الأداء بالساعة","driver.locationPerformance":"أداء المواقع","driver.ratingDistribution":"توزيع التقييمات","driver.performanceMetrics":"مقاييس الأداء","driver.earningsBreakdown":"تفصيل الأرباح","driver.todaySnapshot":"لقطة اليوم","driver.exportAnalytics":"تصدير التحليلات","driver.earningsTrend":"اتجاه الأرباح","driver.dailyAverage":"المعدل اليومي","driver.weeklyAverage":"المعدل الأسبوعي","driver.monthlyAverage":"المعدل الشهري","driver.totalNetEarnings":"إجمالي الأرباح الصافية","driver.averagePerTrip":"المعدل لكل رحلة","driver.totalDistance":"إجمالي المسافة","driver.totalDuration":"إجمالي المدة","driver.earningsPerHour":"الأرباح لكل ساعة","driver.earningsPerKm":"الأرباح لكل كيلومتر","driver.cancellationRate":"معدل الإلغاء","driver.overallRating":"التقييم العام","driver.efficiencyRating":"تقييم الكفاءة","driver.excellent":"ممتاز","driver.verification.title":"توثيق السائق","driver.verification.description":"أكمل توثيق السائق لتبدأ الربح مع تذاكر","driver.verification.status.title":"حالة التوثيق","driver.verification.status.not_submitted":"لم يتم التقديم","driver.verification.status.pending":"قيد المراجعة","driver.verification.status.approved":"موافق عليه","driver.verification.status.rejected":"مرفوض","driver.verification.progress":"التقدم","driver.verification.driverInfo":"معلومات السائق","driver.verification.driverInfoDesc":"قدم تفاصيل السائق والمركبة","driver.verification.licenseNumber":"رقم رخصة القيادة","driver.verification.licenseNumberPlaceholder":"أدخل رقم رخصة القيادة","driver.verification.licenseExpiry":"تاريخ انتهاء الرخصة","driver.verification.vehicleType":"نوع المركبة","driver.verification.selectVehicleType":"اختر نوع المركبة","driver.verification.vehicleModel":"موديل المركبة","driver.verification.vehicleModelPlaceholder":"مثال: تويوتا هايس 2020","driver.verification.vehiclePlate":"رقم لوحة المركبة","driver.verification.vehiclePlatePlaceholder":"مثال: 123456 دمشق","driver.verification.routeName":"اسم المسار","driver.verification.routeNamePlaceholder":"مثال: دمشق-حلب","driver.verification.routeDescription":"وصف المسار","driver.verification.routeDescriptionPlaceholder":"اصف مساراتك ومحطاتك المعتادة","driver.verification.documents":"الوثائق المطلوبة","driver.verification.documentsDesc":"ارفع صور واضحة أو مسح ضوئي لوثائقك","driver.verification.documentTypes.license_front":"رخصة القيادة (الوجه الأمامي)","driver.verification.documentTypes.license_back":"رخصة القيادة (الوجه الخلفي)","driver.verification.documentTypes.vehicle_registration":"تسجيل المركبة","driver.verification.documentTypes.vehicle_photo":"صورة المركبة","driver.verification.viewDocument":"عرض الوثيقة","driver.verification.submit":"تقديم للمراجعة","driver.verification.invalidFileType":"يرجى رفع ملفات صور (JPG, PNG) أو PDF فقط","driver.verification.fileTooLarge":"يجب أن يكون حجم الملف أقل من 5 ميجابايت","driver.verification.documentUploaded":"تم رفع الوثيقة بنجاح","driver.verification.uploadFailed":"فشل في رفع الوثيقة. يرجى المحاولة مرة أخرى.","driver.verification.fillRequired":"يرجى ملء جميع الحقول المطلوبة","driver.verification.uploadAllDocuments":"يرجى رفع جميع الوثائق المطلوبة","driver.verification.submitted":"تم تقديم التوثيق بنجاح! سيتم إشعارك عند المراجعة.","driver.verification.rejectedMessage":"تم رفض توثيقك. يرجى مراجعة الملاحظات وإعادة التقديم.","driver.verification.approvedMessage":"تهانينا! تم الموافقة على توثيق السائق. يمكنك الآن البدء في قبول الركاب.","driver.verification.vehicleTypes.bus":"باص","driver.verification.vehicleTypes.microbus":"ميكروباص","driver.verification.vehicleTypes.taxi":"تاكسي","driver.verification.vehicleTypes.private_car":"سيارة خاصة","driver.verification.vehicleTypes.motorcycle":"دراجة نارية","driver.verification.vehicleTypes.truck":"شاحنة","common.saving":"جارٍ الحفظ...","merchant.title":"لوحة تحكم التاجر","merchant.business":"معلومات العمل","merchant.businessName":"اسم العمل","merchant.businessCategory":"الفئة","merchant.generateQR":"إنشاء رمز دفع QR","merchant.qrAmount":"مبلغ الدفع","admin.title":"لوحة تحكم المدير","admin.userManagement":"إدارة المستخدمين","admin.systemAnalytics":"تحليلات النظام","admin.totalUsers":"إجمالي المستخدمين","admin.totalTransactions":"إجمالي المعاملات","admin.totalRevenue":"إجمالي الإيرادات","admin.disputes":"النزاعات","app.name":"تذاكر","app.subtitle":"محفظة رقمية ونظام دفع","app.welcome":"مرحباً بك في تذاكر","app.description":"محفظتك الرقمية للمدفوعات السلسة وتذاكر الفعاليات والنقل في سوريا.","onboard.welcome":"مرحباً بك في تذاكر!","onboard.step1.title":"محفظة رقمية","onboard.step1.desc":"احفظ وأدر أموالك رقمياً بأمان","onboard.step2.title":"دفع بـ QR","onboard.step2.desc":"ادفع للنقل والمشتريات فوراً","onboard.step3.title":"تذاكر الفعاليات","onboard.step3.desc":"اشترِ وأدر تذاكر الفعاليات رقمياً","onboard.getStarted":"ابدأ الآن","onboard.skip":"تخطي الجولة",profile:"الملف الشخصي",editProfile:"تعديل الملف الشخصي",profilePicture:"صورة الملف الشخصي",personalInformation:"المعلومات الشخصية",manageYourAccountInformation:"إدارة معلومات حسابك",updateYourPersonalDetails:"تحديث تفاصيلك الشخصية",clickToUploadNewPicture:"انقر لرفع صورة جديدة",fullName:"الاسم الكامل",phoneNumber:"رقم الهاتف",email:"البريد الإلكتروني",language:"اللغة",accountType:"نوع الحساب",memberSince:"عضو منذ",verificationStatus:"حالة التوثيق",accountStatus:"حالة الحساب",verified:"موثق",unverified:"غير موثق",active:"نشط",inactive:"غير نشط",notProvided:"غير محدد",accountActions:"إجراءات الحساب",manageYourAccountSecurity:"إدارة أمان حسابك",changePassword:"تغيير كلمة المرور",downloadData:"تحميل البيانات",twoFactorAuth:"المصادقة الثنائية",deleteAccount:"حذف الحساب",profileUpdated:"تم تحديث الملف الشخصي بنجاح",errorUpdatingProfile:"خطأ في تحديث الملف الشخصي",featureComingSoon:"الميزة قادمة قريباً",redirectingToPasswordChange:"التوجه إلى تغيير كلمة المرور",preparingDataDownload:"جارٍ تحضير تحميل البيانات",errorDownloadingData:"خطأ في تحميل البيانات",twoFactorAuthDisabled:"المصادقة الثنائية معطلة مؤقتاً",deleteAccountNotImplemented:"حذف الحساب يتطلب تحقق إضافي",settings:"الإعدادات",manageYourAppPreferences:"إدارة تفضيلات التطبيق",languageAndAppearance:"اللغة والمظهر",customizeYourAppExperience:"تخصيص تجربة التطبيق",darkMode:"الوضع الداكن",toggleDarkMode:"التبديل بين الأوضاع الفاتحة والداكنة",showWalletBalance:"إظهار رصيد المحفظة",displayBalanceInDashboard:"عرض رصيد المحفظة في لوحة التحكم",notifications:"الإشعارات",controlWhenAndHowYouReceiveNotifications:"تحكم في متى وكيف تتلقى الإشعارات",emailNotifications:"إشعارات البريد الإلكتروني",receiveEmailUpdates:"تلقي تحديثات البريد الإلكتروني",pushNotifications:"الإشعارات المنبثقة",receivePushNotifications:"تلقي الإشعارات المنبثقة",smsNotifications:"إشعارات الرسائل النصية",receiveSmsUpdates:"تلقي تحديثات الرسائل النصية",transactionNotifications:"إشعارات المعاملات",notifyOnTransactions:"الإشعار عند المعاملات",marketingNotifications:"الإشعارات التسويقية",receivePromotionalEmails:"تلقي رسائل ترويجية",securityNotifications:"إشعارات الأمان",notifyOnSecurityEvents:"الإشعار عند أحداث الأمان",legalAndCompany:"القانوني والشركة",importantLegalInformation:"معلومات قانونية مهمة",privacyPolicy:"سياسة الخصوصية",aboutCompany:"عن الشركة",appInformation:"معلومات التطبيق",version:"الإصدار",lastUpdate:"آخر تحديث",buildNumber:"رقم البناء",settingUpdated:"تم تحديث الإعداد",languageChanged:"تم تغيير اللغة",featureNotAvailable:"الميزة غير متاحة",privacyPolicyComingSoon:"سياسة الخصوصية ستكون متاحة قريباً",companyInfoComingSoon:"معلومات الشركة ستكون متاحة قريباً","receipt.title":"إيصال المعاملة","receipt.description":"إيصال رسمي لمعاملتك","receipt.walletTopUp":"شحن المحفظة","receipt.busTicketPayment":"دفع تذكرة الباص","receipt.busFareCollection":"تحصيل أجرة الباص","receipt.paymentSent":"دفع مُرسل","receipt.paymentReceived":"دفع مُستلم","receipt.transactionRefund":"استرداد معاملة","receipt.walletWithdrawal":"سحب من المحفظة","receipt.transaction":"معاملة","receipt.transactionSuccessful":"نجحت المعاملة","receipt.transactionPending":"معاملة معلقة","receipt.transactionFailed":"فشلت المعاملة","receipt.transactionCancelled":"معاملة ملغاة","receipt.transactionDetails":"تفاصيل المعاملة","receipt.transactionId":"رقم المعاملة","receipt.dateTime":"التاريخ والوقت","receipt.type":"النوع","receipt.reference":"المرجع","receipt.completed":"مكتمل","receipt.recipient":"المستلم","receipt.sender":"المرسل","receipt.scanToVerify":"امسح للتحقق من هذا الإيصال","receipt.officialReceipt":"هذا إيصال رسمي من تذاكر إي-واليت","receipt.supportContact":"للدعم، تواصل مع","receipt.generatedOn":"تم إنشاؤه في","receipt.at":"في","receipt.downloadPdf":"تحميل PDF","receipt.share":"مشاركة","receipt.print":"طباعة","receipt.transactionIdCopied":"تم نسخ رقم المعاملة","gift.title":"إرسال هدية","gift.description":"أرسل رصيدًا للأصدقاء والعائلة","gift.currentBalance":"الرصيد الحالي","gift.recipientEmail":"بريد المستلم الإلكتروني","gift.emailPlaceholder":"أدخل عنوان بريد المستلم الإلكتروني","gift.amount":"مبلغ الهدية","gift.amountPlaceholder":"أدخل المبلغ المراد إرساله","gift.maxAmount":"الحد الأقصى","gift.message":"رسالة شخصية","gift.messagePlaceholder":"أضف رسالة شخصية (اختياري)","gift.sendGift":"إرسال الهدية","gift.sending":"جارٍ الإرسال...","gift.validating":"جارٍ التحقق من المستلم...","gift.recipientFound":"تم العثور على المستلم","gift.cannotSendToYourself":"لا يمكنك إرسال هدية لنفسك","gift.validationError":"تعذر التحقق من المستلم","gift.invalidAmount":"يرجى إدخال مبلغ صحيح","gift.insufficientBalance":"رصيد المحفظة غير كافٍ","gift.sentSuccessfully":"تم إرسال الهدية بنجاح إلى {{name}} ({{amount}})","gift.sendError":"فشل في إرسال الهدية. يرجى المحاولة مرة أخرى."}},F6=j.createContext(void 0);function U6({children:e}){const[t,n]=j.useState("en");j.useEffect(()=>{const i=localStorage.getItem("language");i&&["en","ar"].includes(i)&&n(i)},[]),j.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"},[t]);const s={language:t,setLanguage:n,t:(i,o)=>{let u=yG[t][i]||i;return o&&Object.entries(o).forEach(([m,f])=>{u=u.replace(`{{${m}}}`,f)}),u},isRTL:t==="ar"};return a.jsx(F6.Provider,{value:s,children:e})}function Ut(){const e=j.useContext(F6);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const z6=j.createContext(void 0);function V6({children:e}){const[t,n]=j.useState("system"),[r,s]=j.useState(!1),{profile:i,updateProfile:o}=$t();j.useEffect(()=>{(()=>{if(i!=null&&i.theme_preference)n(i.theme_preference);else{const g=localStorage.getItem("tickets_theme");g&&["light","dark","system"].includes(g)&&n(g)}})()},[i]),j.useEffect(()=>{const f=()=>{if(t==="system"){const g=window.matchMedia("(prefers-color-scheme: dark)").matches;s(g)}else s(t==="dark")};if(f(),t==="system"){const g=window.matchMedia("(prefers-color-scheme: dark)"),x=()=>f();return g.addEventListener("change",x),()=>g.removeEventListener("change",x)}},[t]),j.useEffect(()=>{const f=document.documentElement;r?f.classList.add("dark"):f.classList.remove("dark")},[r]);const m={theme:t,setTheme:async f=>{if(n(f),localStorage.setItem("tickets_theme",f),i)try{await o({theme_preference:f})}catch(g){console.error("Failed to update theme preference:",g)}},isDark:r};return a.jsx(z6.Provider,{value:m,children:e})}function bG(){const e=j.useContext(z6);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var $d=x6();const $6=Cs($d);function wG(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const jG=e=>{switch(e){case"success":return _G;case"info":return AG;case"warning":return EG;case"error":return CG;default:return null}},NG=Array(12).fill(0),SG=({visible:e,className:t})=>at.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},at.createElement("div",{className:"sonner-spinner"},NG.map((n,r)=>at.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_G=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),AG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},at.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),at.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),OG=()=>{const[e,t]=at.useState(document.hidden);return at.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let ZN=1;class MG{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:ZN++,o=this.toasts.find(m=>m.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(m=>m.id===i?(this.publish({...m,...t,id:i,title:r}),{...m,...t,id:i,dismissible:u,title:r}):m):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const u=s.then(async f=>{if(o=["resolve",f],at.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(PG(f)&&!f.ok){i=!1;const x=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,C=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:w,...C})}else if(f instanceof Error){i=!1;const x=typeof n.error=="function"?await n.error(f):n.error,w=typeof n.description=="function"?await n.description(f):n.description,C=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:w,...C})}else if(n.success!==void 0){i=!1;const x=typeof n.success=="function"?await n.success(f):n.success,w=typeof n.description=="function"?await n.description(f):n.description,C=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"success",description:w,...C})}}).catch(async f=>{if(o=["reject",f],n.error!==void 0){i=!1;const g=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,_=typeof g=="object"&&!at.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:x,..._})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((f,g)=>u.then(()=>o[0]==="reject"?g(o[1]):f(o[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||ZN++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ls=new MG,DG=(e,t)=>{const n=(t==null?void 0:t.id)||ZN++;return Ls.addToast({title:e,...t,id:n}),n},PG=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",RG=DG,kG=()=>Ls.toasts,IG=()=>Ls.getActiveToasts(),_e=Object.assign(RG,{success:Ls.success,info:Ls.info,warning:Ls.warning,error:Ls.error,custom:Ls.custom,message:Ls.message,promise:Ls.promise,dismiss:Ls.dismiss,loading:Ls.loading},{getHistory:kG,getToasts:IG});wG("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ex(e){return e.label!==void 0}const LG=3,BG="24px",FG="16px",oM=4e3,UG=356,zG=14,VG=45,$G=200;function Io(...e){return e.filter(Boolean).join(" ")}function HG(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const qG=e=>{var t,n,r,s,i,o,u,m,f;const{invert:g,toast:x,unstyled:w,interacting:_,setHeights:C,visibleToasts:A,heights:E,index:M,toasts:D,expanded:R,removeToast:z,defaultRichColors:I,closeButton:k,style:F,cancelButtonStyle:V,actionButtonStyle:L,className:$="",descriptionClassName:W="",duration:Y,position:Q,gap:X,expandByDefault:G,classNames:H,icons:J,closeButtonAriaLabel:Z="Close toast"}=e,[de,re]=at.useState(null),[pe,Ne]=at.useState(null),[Se,xe]=at.useState(!1),[Pe,se]=at.useState(!1),[ce,oe]=at.useState(!1),[he,Re]=at.useState(!1),[be,ye]=at.useState(!1),[Ke,Ve]=at.useState(0),[Qe,gt]=at.useState(0),et=at.useRef(x.duration||Y||oM),bt=at.useRef(null),it=at.useRef(null),xr=M===0,ct=M+1<=A,bn=x.type,Jr=x.dismissible!==!1,vr=x.className||"",Ga=x.descriptionClassName||"",En=at.useMemo(()=>E.findIndex(Rt=>Rt.toastId===x.id)||0,[E,x.id]),Qn=at.useMemo(()=>{var Rt;return(Rt=x.closeButton)!=null?Rt:k},[x.closeButton,k]),yr=at.useMemo(()=>x.duration||Y||oM,[x.duration,Y]),sn=at.useRef(0),qs=at.useRef(0),Wi=at.useRef(0),vi=at.useRef(null),[un,rt]=Q.split("-"),wn=at.useMemo(()=>E.reduce((Rt,xn,or)=>or>=En?Rt:Rt+xn.height,0),[E,En]),dn=OG(),Cn=x.invert||g,Gi=bn==="loading";qs.current=at.useMemo(()=>En*X+wn,[En,wn]),at.useEffect(()=>{et.current=yr},[yr]),at.useEffect(()=>{xe(!0)},[]),at.useEffect(()=>{const Rt=it.current;if(Rt){const xn=Rt.getBoundingClientRect().height;return gt(xn),C(or=>[{toastId:x.id,height:xn,position:x.position},...or]),()=>C(or=>or.filter(hn=>hn.toastId!==x.id))}},[C,x.id]),at.useLayoutEffect(()=>{if(!Se)return;const Rt=it.current,xn=Rt.style.height;Rt.style.height="auto";const or=Rt.getBoundingClientRect().height;Rt.style.height=xn,gt(or),C(hn=>hn.find(lr=>lr.toastId===x.id)?hn.map(lr=>lr.toastId===x.id?{...lr,height:or}:lr):[{toastId:x.id,height:or,position:x.position},...hn])},[Se,x.title,x.description,C,x.id,x.jsx,x.action,x.cancel]);const ps=at.useCallback(()=>{se(!0),Ve(qs.current),C(Rt=>Rt.filter(xn=>xn.toastId!==x.id)),setTimeout(()=>{z(x)},$G)},[x,z,C,qs]);at.useEffect(()=>{if(x.promise&&bn==="loading"||x.duration===1/0||x.type==="loading")return;let Rt;return R||_||dn?(()=>{if(Wi.current<sn.current){const hn=new Date().getTime()-sn.current;et.current=et.current-hn}Wi.current=new Date().getTime()})():(()=>{et.current!==1/0&&(sn.current=new Date().getTime(),Rt=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),ps()},et.current))})(),()=>clearTimeout(Rt)},[R,_,x,bn,dn,ps]),at.useEffect(()=>{x.delete&&(ps(),x.onDismiss==null||x.onDismiss.call(x,x))},[ps,x.delete]);function Tu(){var Rt;if(J!=null&&J.loading){var xn;return at.createElement("div",{className:Io(H==null?void 0:H.loader,x==null||(xn=x.classNames)==null?void 0:xn.loader,"sonner-loader"),"data-visible":bn==="loading"},J.loading)}return at.createElement(SG,{className:Io(H==null?void 0:H.loader,x==null||(Rt=x.classNames)==null?void 0:Rt.loader),visible:bn==="loading"})}const en=x.icon||(J==null?void 0:J[bn])||jG(bn);var Ka,Ou;return at.createElement("li",{tabIndex:0,ref:it,className:Io($,vr,H==null?void 0:H.toast,x==null||(t=x.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[bn],x==null||(n=x.classNames)==null?void 0:n[bn]),"data-sonner-toast":"","data-rich-colors":(Ka=x.richColors)!=null?Ka:I,"data-styled":!(x.jsx||x.unstyled||w),"data-mounted":Se,"data-promise":!!x.promise,"data-swiped":be,"data-removed":Pe,"data-visible":ct,"data-y-position":un,"data-x-position":rt,"data-index":M,"data-front":xr,"data-swiping":ce,"data-dismissible":Jr,"data-type":bn,"data-invert":Cn,"data-swipe-out":he,"data-swipe-direction":pe,"data-expanded":!!(R||G&&Se),"data-testid":x.testId,style:{"--index":M,"--toasts-before":M,"--z-index":D.length-M,"--offset":`${Pe?Ke:qs.current}px`,"--initial-height":G?"auto":`${Qe}px`,...F,...x.style},onDragEnd:()=>{oe(!1),re(null),vi.current=null},onPointerDown:Rt=>{Rt.button!==2&&(Gi||!Jr||(bt.current=new Date,Ve(qs.current),Rt.target.setPointerCapture(Rt.pointerId),Rt.target.tagName!=="BUTTON"&&(oe(!0),vi.current={x:Rt.clientX,y:Rt.clientY})))},onPointerUp:()=>{var Rt,xn,or;if(he||!Jr)return;vi.current=null;const hn=Number(((Rt=it.current)==null?void 0:Rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Os=Number(((xn=it.current)==null?void 0:xn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lr=new Date().getTime()-((or=bt.current)==null?void 0:or.getTime()),jn=de==="x"?hn:Os,br=Math.abs(jn)/lr;if(Math.abs(jn)>=VG||br>.11){Ve(qs.current),x.onDismiss==null||x.onDismiss.call(x,x),Ne(de==="x"?hn>0?"right":"left":Os>0?"down":"up"),ps(),Re(!0);return}else{var mn,Cr;(mn=it.current)==null||mn.style.setProperty("--swipe-amount-x","0px"),(Cr=it.current)==null||Cr.style.setProperty("--swipe-amount-y","0px")}ye(!1),oe(!1),re(null)},onPointerMove:Rt=>{var xn,or,hn;if(!vi.current||!Jr||((xn=window.getSelection())==null?void 0:xn.toString().length)>0)return;const lr=Rt.clientY-vi.current.y,jn=Rt.clientX-vi.current.x;var br;const mn=(br=e.swipeDirections)!=null?br:HG(Q);!de&&(Math.abs(jn)>1||Math.abs(lr)>1)&&re(Math.abs(jn)>Math.abs(lr)?"x":"y");let Cr={x:0,y:0};const Ir=Ba=>1/(1.5+Math.abs(Ba)/20);if(de==="y"){if(mn.includes("top")||mn.includes("bottom"))if(mn.includes("top")&&lr<0||mn.includes("bottom")&&lr>0)Cr.y=lr;else{const Ba=lr*Ir(lr);Cr.y=Math.abs(Ba)<Math.abs(lr)?Ba:lr}}else if(de==="x"&&(mn.includes("left")||mn.includes("right")))if(mn.includes("left")&&jn<0||mn.includes("right")&&jn>0)Cr.x=jn;else{const Ba=jn*Ir(jn);Cr.x=Math.abs(Ba)<Math.abs(jn)?Ba:jn}(Math.abs(Cr.x)>0||Math.abs(Cr.y)>0)&&ye(!0),(or=it.current)==null||or.style.setProperty("--swipe-amount-x",`${Cr.x}px`),(hn=it.current)==null||hn.style.setProperty("--swipe-amount-y",`${Cr.y}px`)}},Qn&&!x.jsx&&bn!=="loading"?at.createElement("button",{"aria-label":Z,"data-disabled":Gi,"data-close-button":!0,onClick:Gi||!Jr?()=>{}:()=>{ps(),x.onDismiss==null||x.onDismiss.call(x,x)},className:Io(H==null?void 0:H.closeButton,x==null||(r=x.classNames)==null?void 0:r.closeButton)},(Ou=J==null?void 0:J.close)!=null?Ou:TG):null,(bn||x.icon||x.promise)&&x.icon!==null&&((J==null?void 0:J[bn])!==null||x.icon)?at.createElement("div",{"data-icon":"",className:Io(H==null?void 0:H.icon,x==null||(s=x.classNames)==null?void 0:s.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Tu():null,x.type!=="loading"?en:null):null,at.createElement("div",{"data-content":"",className:Io(H==null?void 0:H.content,x==null||(i=x.classNames)==null?void 0:i.content)},at.createElement("div",{"data-title":"",className:Io(H==null?void 0:H.title,x==null||(o=x.classNames)==null?void 0:o.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?at.createElement("div",{"data-description":"",className:Io(W,Ga,H==null?void 0:H.description,x==null||(u=x.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),at.isValidElement(x.cancel)?x.cancel:x.cancel&&Ex(x.cancel)?at.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||V,onClick:Rt=>{Ex(x.cancel)&&Jr&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Rt),ps())},className:Io(H==null?void 0:H.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,at.isValidElement(x.action)?x.action:x.action&&Ex(x.action)?at.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||L,onClick:Rt=>{Ex(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Rt),!Rt.defaultPrevented&&ps())},className:Io(H==null?void 0:H.actionButton,x==null||(f=x.classNames)==null?void 0:f.actionButton)},x.action.label):null)};function lM(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function YG(e,t){const n={};return[e,t].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",u=i?FG:BG;function m(f){["top","right","bottom","left"].forEach(g=>{n[`${o}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${o}-${f}`]=u:n[`${o}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):m(u)}),n}const WG=at.forwardRef(function(t,n){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:u,closeButton:m,className:f,offset:g,mobileOffset:x,theme:w="light",richColors:_,duration:C,style:A,visibleToasts:E=LG,toastOptions:M,dir:D=lM(),gap:R=zG,icons:z,containerAriaLabel:I="Notifications"}=t,[k,F]=at.useState([]),V=at.useMemo(()=>r?k.filter(Se=>Se.toasterId===r):k.filter(Se=>!Se.toasterId),[k,r]),L=at.useMemo(()=>Array.from(new Set([i].concat(V.filter(Se=>Se.position).map(Se=>Se.position)))),[V,i]),[$,W]=at.useState([]),[Y,Q]=at.useState(!1),[X,G]=at.useState(!1),[H,J]=at.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=at.useRef(null),de=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=at.useRef(null),pe=at.useRef(!1),Ne=at.useCallback(Se=>{F(xe=>{var Pe;return(Pe=xe.find(se=>se.id===Se.id))!=null&&Pe.delete||Ls.dismiss(Se.id),xe.filter(({id:se})=>se!==Se.id)})},[]);return at.useEffect(()=>Ls.subscribe(Se=>{if(Se.dismiss){requestAnimationFrame(()=>{F(xe=>xe.map(Pe=>Pe.id===Se.id?{...Pe,delete:!0}:Pe))});return}setTimeout(()=>{$6.flushSync(()=>{F(xe=>{const Pe=xe.findIndex(se=>se.id===Se.id);return Pe!==-1?[...xe.slice(0,Pe),{...xe[Pe],...Se},...xe.slice(Pe+1)]:[Se,...xe]})})})}),[k]),at.useEffect(()=>{if(w!=="system"){J(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const Se=window.matchMedia("(prefers-color-scheme: dark)");try{Se.addEventListener("change",({matches:xe})=>{J(xe?"dark":"light")})}catch{Se.addListener(({matches:Pe})=>{try{J(Pe?"dark":"light")}catch(se){console.error(se)}})}},[w]),at.useEffect(()=>{k.length<=1&&Q(!1)},[k]),at.useEffect(()=>{const Se=xe=>{var Pe;if(o.every(oe=>xe[oe]||xe.code===oe)){var ce;Q(!0),(ce=Z.current)==null||ce.focus()}xe.code==="Escape"&&(document.activeElement===Z.current||(Pe=Z.current)!=null&&Pe.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",Se),()=>document.removeEventListener("keydown",Se)},[o]),at.useEffect(()=>{if(Z.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,pe.current=!1)}},[Z.current]),at.createElement("section",{ref:n,"aria-label":`${I} ${de}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((Se,xe)=>{var Pe;const[se,ce]=Se.split("-");return V.length?at.createElement("ol",{key:Se,dir:D==="auto"?lM():D,tabIndex:-1,ref:Z,className:f,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":se,"data-x-position":ce,style:{"--front-toast-height":`${((Pe=$[0])==null?void 0:Pe.height)||0}px`,"--width":`${UG}px`,"--gap":`${R}px`,...A,...YG(g,x)},onBlur:oe=>{pe.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(pe.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,re.current=oe.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{X||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},V.filter(oe=>!oe.position&&xe===0||oe.position===Se).map((oe,he)=>{var Re,be;return at.createElement(qG,{key:oe.id,icons:z,index:he,toast:oe,defaultRichColors:_,duration:(Re=M==null?void 0:M.duration)!=null?Re:C,className:M==null?void 0:M.className,descriptionClassName:M==null?void 0:M.descriptionClassName,invert:s,visibleToasts:E,closeButton:(be=M==null?void 0:M.closeButton)!=null?be:m,interacting:X,position:Se,style:M==null?void 0:M.style,unstyled:M==null?void 0:M.unstyled,classNames:M==null?void 0:M.classNames,cancelButtonStyle:M==null?void 0:M.cancelButtonStyle,actionButtonStyle:M==null?void 0:M.actionButtonStyle,closeButtonAriaLabel:M==null?void 0:M.closeButtonAriaLabel,removeToast:Ne,toasts:V.filter(ye=>ye.position==oe.position),heights:$.filter(ye=>ye.position==oe.position),setHeights:W,expandByDefault:u,gap:R,expanded:Y,swipeDirections:t.swipeDirections})})):null}))}),H6=j.createContext(void 0),q6=({children:e})=>{const{user:t}=$t(),[n,r]=j.useState([]),[s,i]=j.useState(0),[o,u]=j.useState(!1),[m,f]=j.useState(null),g=j.useCallback(async D=>{if(t){u(!0);try{let R=$e.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);D&&(D.type&&D.type.length>0&&(R=R.in("type",D.type)),D.priority&&D.priority.length>0&&(R=R.in("priority",D.priority)),D.is_read!==void 0&&(R=R.eq("is_read",D.is_read)),D.date_from&&(R=R.gte("created_at",D.date_from)),D.date_to&&(R=R.lte("created_at",D.date_to)),D.search&&(R=R.or(`title.ilike.%${D.search}%,message.ilike.%${D.search}%`)));const{data:z,error:I}=await R;if(I){console.error("Error fetching notifications:",I),_e.error("Failed to load notifications");return}r(z||[]);const k=(z||[]).filter(F=>!F.is_read&&(!F.expires_at||new Date(F.expires_at)>new Date)).length;i(k)}catch(R){console.error("Error fetching notifications:",R),_e.error("Failed to load notifications")}finally{u(!1)}}},[t]),x=j.useCallback(async D=>{if(t)try{const{error:R}=await $e.rpc("mark_notification_read",{p_notification_id:D,p_user_id:t.id});if(R){console.error("Error marking notification as read:",R);return}r(z=>z.map(I=>I.id===D?{...I,is_read:!0,read_at:new Date().toISOString()}:I)),i(z=>Math.max(0,z-1))}catch(R){console.error("Error marking notification as read:",R)}},[t]),w=j.useCallback(async()=>{if(t)try{const{error:D}=await $e.rpc("mark_all_notifications_read",{p_user_id:t.id});if(D){console.error("Error marking all notifications as read:",D),_e.error("Failed to mark notifications as read");return}r(R=>R.map(z=>({...z,is_read:!0,read_at:new Date().toISOString()}))),i(0),_e.success("All notifications marked as read")}catch(D){console.error("Error marking all notifications as read:",D),_e.error("Failed to mark notifications as read")}},[t]),_=j.useCallback(async D=>{if(t)try{const{error:R}=await $e.from("notifications").delete().eq("id",D).eq("user_id",t.id);if(R){console.error("Error deleting notification:",R),_e.error("Failed to delete notification");return}r(I=>I.filter(k=>k.id!==D));const z=n.find(I=>I.id===D);z&&!z.is_read&&i(I=>Math.max(0,I-1)),_e.success("Notification deleted")}catch(R){console.error("Error deleting notification:",R),_e.error("Failed to delete notification")}},[t,n]),C=j.useCallback(async D=>{if(!t)return!1;try{if(D.user_ids&&D.user_ids.length>0){const{error:R}=await $e.rpc("broadcast_notification",{p_user_ids:D.user_ids,p_title:D.title,p_message:D.message,p_type:D.type||"info",p_priority:D.priority||"normal",p_action_url:D.action_url,p_action_label:D.action_label,p_created_by:t.id});if(R)return console.error("Error broadcasting notification:",R),_e.error("Failed to send notifications"),!1}else if(D.user_id){const{error:R}=await $e.from("notifications").insert({user_id:D.user_id,title:D.title,message:D.message,type:D.type||"info",priority:D.priority||"normal",action_url:D.action_url,action_label:D.action_label,metadata:D.metadata,created_by:t.id});if(R)return console.error("Error creating notification:",R),_e.error("Failed to send notification"),!1}else return _e.error("No recipient specified"),!1;return _e.success("Notification sent successfully"),!0}catch(R){return console.error("Error creating notification:",R),_e.error("Failed to send notification"),!1}},[t]),A=j.useCallback(async()=>{if(t)try{const{data:D,error:R}=await $e.from("notifications").select("type, priority, is_read").eq("user_id",t.id);if(R){console.error("Error fetching notification stats:",R);return}const z={total:D.length,unread:D.filter(I=>!I.is_read).length,by_type:{info:D.filter(I=>I.type==="info").length,success:D.filter(I=>I.type==="success").length,warning:D.filter(I=>I.type==="warning").length,error:D.filter(I=>I.type==="error").length,system:D.filter(I=>I.type==="system").length,ticket:D.filter(I=>I.type==="ticket").length,payment:D.filter(I=>I.type==="payment").length,refund:D.filter(I=>I.type==="refund").length,event:D.filter(I=>I.type==="event").length},by_priority:{low:D.filter(I=>I.priority==="low").length,normal:D.filter(I=>I.priority==="normal").length,high:D.filter(I=>I.priority==="high").length,urgent:D.filter(I=>I.priority==="urgent").length}};f(z)}catch(D){console.error("Error refreshing notification stats:",D)}},[t]),E=j.useCallback(()=>{if(!t)return null;const D=$e.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},R=>{if(R.eventType==="INSERT"){const z=R.new;r(I=>[z,...I]),z.is_read||i(I=>I+1),z.priority==="urgent"?_e.error(z.title,{description:z.message}):z.type==="success"?_e.success(z.title,{description:z.message}):_e.info(z.title,{description:z.message})}else if(R.eventType==="UPDATE"){const z=R.new;r(I=>I.map(k=>k.id===z.id?z:k))}else if(R.eventType==="DELETE"){const z=R.old.id;r(I=>I.filter(k=>k.id!==z))}}).subscribe();return{unsubscribe:()=>{D.unsubscribe()}}},[t]);j.useEffect(()=>{if(t){g(),A();const D=E();return()=>{D==null||D.unsubscribe()}}},[t,g,A,E]),j.useEffect(()=>{const D=setInterval(()=>{t&&A()},3e5);return()=>clearInterval(D)},[t,A]);const M={notifications:n,unreadCount:s,loading:o,stats:m,fetchNotifications:g,markAsRead:x,markAllAsRead:w,deleteNotification:_,createNotification:C,subscribe:E,refreshStats:A};return a.jsx(H6.Provider,{value:M,children:e})},Q_=()=>{const e=j.useContext(H6);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},Y6=j.createContext(void 0),W6=({children:e})=>{const{user:t}=$t(),[n,r]=j.useState([]),[s,i]=j.useState(null),[o,u]=j.useState([]),[m,f]=j.useState(!1),[g,x]=j.useState(null),w=j.useCallback(async k=>{if(t){f(!0);try{let F=$e.from("conversations").select(`
          *,
          user:profiles!conversations_user_id_fkey(id, full_name, email, avatar_url),
          assigned_admin:profiles!conversations_assigned_admin_id_fkey(id, full_name, email)
        `).order("updated_at",{ascending:!1});t.role==="admin"||(F=F.eq("user_id",t.id)),k&&(k.status&&k.status.length>0&&(F=F.in("status",k.status)),k.priority&&k.priority.length>0&&(F=F.in("priority",k.priority)),k.category&&k.category.length>0&&(F=F.in("category",k.category)),k.assigned_admin_id&&(F=F.eq("assigned_admin_id",k.assigned_admin_id)),k.date_from&&(F=F.gte("created_at",k.date_from)),k.date_to&&(F=F.lte("created_at",k.date_to)),k.search&&(F=F.or(`subject.ilike.%${k.search}%,category.ilike.%${k.search}%`)));const{data:V,error:L}=await F;if(L){console.error("Error fetching conversations:",L),_e.error("Failed to load conversations");return}const $=await Promise.all((V||[]).map(async W=>{const{data:Y}=await $e.from("messages").select(`
              *,
              sender:profiles!messages_sender_id_fkey(id, full_name, avatar_url)
            `).eq("conversation_id",W.id).eq("is_internal",!1).order("created_at",{ascending:!1}).limit(1);let Q=0;if(t.role!=="admin"){const{data:X}=await $e.from("messages").select("id").eq("conversation_id",W.id).neq("sender_id",t.id).eq("is_internal",!1).gt("created_at",W.updated_at||W.created_at);Q=(X==null?void 0:X.length)||0}return{...W,last_message:(Y==null?void 0:Y[0])||null,unread_count:Q}}));r($)}catch(F){console.error("Error fetching conversations:",F),_e.error("Failed to load conversations")}finally{f(!1)}}},[t]),_=j.useCallback(async k=>{if(t){f(!0);try{const{data:F,error:V}=await $e.from("messages").select(`
          *,
          sender:profiles!messages_sender_id_fkey(id, full_name, email, avatar_url, role)
        `).eq("conversation_id",k).order("created_at",{ascending:!0});if(V){console.error("Error fetching messages:",V),_e.error("Failed to load messages");return}const L=t.role==="admin"?F||[]:(F||[]).filter($=>!$.is_internal);u(L)}catch(F){console.error("Error fetching messages:",F),_e.error("Failed to load messages")}finally{f(!1)}}},[t]),C=j.useCallback(async k=>{if(!t)return null;try{const{data:F,error:V}=await $e.rpc("start_chat_conversation",{p_user_id:t.id,p_subject:k.subject,p_initial_message:k.initial_message,p_category:k.category||"general",p_priority:k.priority||"normal"});if(V)return console.error("Error creating conversation:",V),_e.error("Failed to start conversation"),null;const L=F[0];return L.success?(_e.success("Support request submitted successfully"),await w(),L.conversation_id):(_e.error(L.message),null)}catch(F){return console.error("Error creating conversation:",F),_e.error("Failed to start conversation"),null}},[t,w]),A=j.useCallback(async k=>{if(t)try{const{data:F,error:V}=await $e.rpc("add_chat_message",{p_conversation_id:k.conversation_id,p_sender_id:t.id,p_content:k.content,p_message_type:k.message_type||"text",p_attachments:k.attachments||[],p_is_internal:k.is_internal||!1});if(V){console.error("Error sending message:",V),_e.error("Failed to send message");return}const L=F[0];L.success?((s==null?void 0:s.id)===k.conversation_id&&await _(k.conversation_id),await w()):_e.error(L.message)}catch(F){console.error("Error sending message:",F),_e.error("Failed to send message")}},[t,s,_,w]),E=j.useCallback(k=>{i(k),k?_(k.id):u([])},[_]),M=j.useCallback(async(k,F)=>{if(!(!t||t.role!=="admin"))try{const{error:V}=await $e.from("conversations").update({assigned_admin_id:F,status:"assigned",updated_at:new Date().toISOString()}).eq("id",k);if(V){console.error("Error assigning conversation:",V),_e.error("Failed to assign conversation");return}_e.success("Conversation assigned successfully"),await w()}catch(V){console.error("Error assigning conversation:",V),_e.error("Failed to assign conversation")}},[t,w]),D=j.useCallback(async(k,F)=>{if(t)try{const V={status:F,updated_at:new Date().toISOString()};(F==="resolved"||F==="closed")&&(V.resolved_at=new Date().toISOString());const{error:L}=await $e.from("conversations").update(V).eq("id",k);if(L){console.error("Error updating conversation status:",L),_e.error("Failed to update conversation status");return}_e.success(`Conversation marked as ${F}`),await w()}catch(V){console.error("Error updating conversation status:",V),_e.error("Failed to update conversation status")}},[t,w]),R=j.useCallback(async()=>{if(!(!t||t.role!=="admin"))try{const{data:k,error:F}=await $e.from("conversations").select("status, priority, category, created_at, resolved_at");if(F){console.error("Error fetching chat stats:",F);return}const V=new Date,L=new Date(V.getFullYear(),V.getMonth(),V.getDate()),$={total_conversations:k.length,open_conversations:k.filter(W=>W.status==="open").length,assigned_conversations:k.filter(W=>W.status==="assigned").length,resolved_today:k.filter(W=>W.resolved_at&&new Date(W.resolved_at)>=L).length,average_response_time:0,by_category:{},by_priority:{low:k.filter(W=>W.priority==="low").length,normal:k.filter(W=>W.priority==="normal").length,high:k.filter(W=>W.priority==="high").length,urgent:k.filter(W=>W.priority==="urgent").length}};k.forEach(W=>{const Y=W.category||"general";$.by_category[Y]=($.by_category[Y]||0)+1}),x($)}catch(k){console.error("Error refreshing chat stats:",k)}},[t]),z=j.useCallback(()=>{if(!t)return null;const k=$e.channel("conversations").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},V=>{w()}).subscribe(),F=$e.channel("messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},V=>{if(V.eventType==="INSERT"){const L=V.new;(s==null?void 0:s.id)===L.conversation_id&&$e.from("messages").select(`
                  *,
                  sender:profiles!messages_sender_id_fkey(id, full_name, email, avatar_url, role)
                `).eq("id",L.id).single().then(({data:$})=>{$&&u(W=>[...W,$])}),L.sender_id!==t.id&&!L.is_internal&&_e.info("New message received",{description:"You have a new message in your support conversation"})}w()}).subscribe();return{unsubscribe:()=>{k.unsubscribe(),F.unsubscribe()}}},[t,s,w]);j.useEffect(()=>{if(t){w(),t.role==="admin"&&R();const k=z();return()=>{k==null||k.unsubscribe()}}},[t,w,R,z]),j.useEffect(()=>{if((t==null?void 0:t.role)==="admin"){const k=setInterval(()=>{R()},3e5);return()=>clearInterval(k)}},[t,R]);const I={conversations:n,activeConversation:s,messages:o,loading:m,stats:g,fetchConversations:w,fetchMessages:_,createConversation:C,sendMessage:A,setActiveConversation:E,assignConversation:M,updateConversationStatus:D,subscribe:z,refreshStats:R};return a.jsx(Y6.Provider,{value:I,children:e})},G6=()=>{const e=j.useContext(Y6);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cM="popstate";function GG(e={}){function t(r,s){let{pathname:i,search:o,hash:u}=r.location;return JN("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xg(s)}return XG(t,n,null,e)}function gr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KG(){return Math.random().toString(36).substring(2,10)}function uM(e,t){return{usr:e.state,key:e.key,idx:t}}function JN(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yh(t):t,state:n,key:t&&t.key||r||KG()}}function Xg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function XG(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",m=null,f=g();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function g(){return(o.state||{idx:null}).idx}function x(){u="POP";let E=g(),M=E==null?null:E-f;f=E,m&&m({action:u,location:A.location,delta:M})}function w(E,M){u="PUSH";let D=JN(A.location,E,M);f=g()+1;let R=uM(D,f),z=A.createHref(D);try{o.pushState(R,"",z)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(z)}i&&m&&m({action:u,location:A.location,delta:1})}function _(E,M){u="REPLACE";let D=JN(A.location,E,M);f=g();let R=uM(D,f),z=A.createHref(D);o.replaceState(R,"",z),i&&m&&m({action:u,location:A.location,delta:0})}function C(E){return QG(E)}let A={get action(){return u},get location(){return e(s,o)},listen(E){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(cM,x),m=E,()=>{s.removeEventListener(cM,x),m=null}},createHref(E){return t(s,E)},createURL:C,encodeLocation(E){let M=C(E);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:_,go(E){return o.go(E)}};return A}function QG(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Xg(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function K6(e,t,n="/"){return ZG(e,t,n,!1)}function ZG(e,t,n,r){let s=typeof t=="string"?Yh(t):t,i=zl(s.pathname||"/",n);if(i==null)return null;let o=X6(e);JG(o);let u=null;for(let m=0;u==null&&m<o.length;++m){let f=uK(i);u=lK(o[m],f,r)}return u}function X6(e,t=[],n=[],r=""){let s=(i,o,u)=>{let m={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};m.relativePath.startsWith("/")&&(gr(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let f=Ll([r,m.relativePath]),g=n.concat(m);i.children&&i.children.length>0&&(gr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),X6(i.children,t,g,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:iK(f,i.index),routesMeta:g})};return e.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,o);else for(let m of Q6(i.path))s(i,o,m)}),t}function Q6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Q6(r.join("/")),u=[];return u.push(...o.map(m=>m===""?i:[i,m].join("/"))),s&&u.push(...o),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function JG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oK(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eK=/^:[\w-]+$/,tK=3,nK=2,rK=1,aK=10,sK=-2,dM=e=>e==="*";function iK(e,t){let n=e.split("/"),r=n.length;return n.some(dM)&&(r+=sK),t&&(r+=nK),n.filter(s=>!dM(s)).reduce((s,i)=>s+(eK.test(i)?tK:i===""?rK:aK),r)}function oK(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function lK(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let u=0;u<r.length;++u){let m=r[u],f=u===r.length-1,g=i==="/"?t:t.slice(i.length)||"/",x=bv({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},g),w=m.route;if(!x&&f&&n&&!r[r.length-1].route.index&&(x=bv({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),o.push({params:s,pathname:Ll([i,x.pathname]),pathnameBase:mK(Ll([i,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(i=Ll([i,x.pathnameBase]))}return o}function bv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cK(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:x},w)=>{if(g==="*"){let C=u[w]||"";o=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const _=u[w];return x&&!_?f[g]=void 0:f[g]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:e}}function cK(e,t=!1,n=!0){Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,m)=>(r.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function uK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dK(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Yh(e):e;return{pathname:n?n.startsWith("/")?n:fK(n,t):t,search:gK(r),hash:pK(s)}}function fK(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function s2(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Z_(e){let t=hK(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function J_(e,t,n,r=!1){let s;typeof e=="string"?s=Yh(e):(s={...e},gr(!s.pathname||!s.pathname.includes("?"),s2("?","pathname","search",s)),gr(!s.pathname||!s.pathname.includes("#"),s2("#","pathname","hash",s)),gr(!s.search||!s.search.includes("#"),s2("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let x=t.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),x-=1;s.pathname=w.join("/")}u=x>=0?t[x]:"/"}let m=dK(s,u),f=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}var Ll=e=>e.join("/").replace(/\/\/+/g,"/"),mK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Z6=["POST","PUT","PATCH","DELETE"];new Set(Z6);var vK=["GET",...Z6];new Set(vK);var Wh=j.createContext(null);Wh.displayName="DataRouter";var Oy=j.createContext(null);Oy.displayName="DataRouterState";j.createContext(!1);var J6=j.createContext({isTransitioning:!1});J6.displayName="ViewTransition";var yK=j.createContext(new Map);yK.displayName="Fetchers";var bK=j.createContext(null);bK.displayName="Await";var go=j.createContext(null);go.displayName="Navigation";var Tp=j.createContext(null);Tp.displayName="Location";var rl=j.createContext({outlet:null,matches:[],isDataRoute:!1});rl.displayName="Route";var eE=j.createContext(null);eE.displayName="RouteError";function wK(e,{relative:t}={}){gr(Gh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(go),{hash:s,pathname:i,search:o}=Op(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:Ll([n,i])),r.createHref({pathname:u,search:o,hash:s})}function Gh(){return j.useContext(Tp)!=null}function al(){return gr(Gh(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Tp).location}var e5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t5(e){j.useContext(go).static||j.useLayoutEffect(e)}function po(){let{isDataRoute:e}=j.useContext(rl);return e?RK():jK()}function jK(){gr(Gh(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Wh),{basename:t,navigator:n}=j.useContext(go),{matches:r}=j.useContext(rl),{pathname:s}=al(),i=JSON.stringify(Z_(r)),o=j.useRef(!1);return t5(()=>{o.current=!0}),j.useCallback((m,f={})=>{if(Fi(o.current,e5),!o.current)return;if(typeof m=="number"){n.go(m);return}let g=J_(m,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ll([t,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[t,n,i,s,e])}j.createContext(null);function Op(e,{relative:t}={}){let{matches:n}=j.useContext(rl),{pathname:r}=al(),s=JSON.stringify(Z_(n));return j.useMemo(()=>J_(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function NK(e,t){return n5(e,t)}function n5(e,t,n,r){var M;gr(Gh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(go),{matches:i}=j.useContext(rl),o=i[i.length-1],u=o?o.params:{},m=o?o.pathname:"/",f=o?o.pathnameBase:"/",g=o&&o.route;{let D=g&&g.path||"";r5(m,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=al(),w;if(t){let D=typeof t=="string"?Yh(t):t;gr(f==="/"||((M=D.pathname)==null?void 0:M.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=x;let _=w.pathname||"/",C=_;if(f!=="/"){let D=f.replace(/^\//,"").split("/");C="/"+_.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=K6(e,{pathname:C});Fi(g||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Fi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=CK(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:Ll([f,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?f:Ll([f,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),i,n,r);return t&&E?j.createElement(Tp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function SK(){let e=PK(),t=xK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,o)}var _K=j.createElement(SK,null),EK=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(rl.Provider,{value:this.props.routeContext},j.createElement(eE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AK({routeContext:e,match:t,children:n}){let r=j.useContext(Wh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(rl.Provider,{value:e},n)}function CK(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let m=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);gr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let o=!1,u=-1;if(n)for(let m=0;m<s.length;m++){let f=s[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:g,errors:x}=n,w=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||w){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((m,f,g)=>{let x,w=!1,_=null,C=null;n&&(x=i&&f.route.id?i[f.route.id]:void 0,_=f.route.errorElement||_K,o&&(u<0&&g===0?(r5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):u===g&&(w=!0,C=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,g+1)),E=()=>{let M;return x?M=_:w?M=C:f.route.Component?M=j.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=m,j.createElement(AK,{match:f,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:M})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?j.createElement(EK,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}function tE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TK(e){let t=j.useContext(Wh);return gr(t,tE(e)),t}function OK(e){let t=j.useContext(Oy);return gr(t,tE(e)),t}function MK(e){let t=j.useContext(rl);return gr(t,tE(e)),t}function nE(e){let t=MK(e),n=t.matches[t.matches.length-1];return gr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DK(){return nE("useRouteId")}function PK(){var r;let e=j.useContext(eE),t=OK("useRouteError"),n=nE("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function RK(){let{router:e}=TK("useNavigate"),t=nE("useNavigate"),n=j.useRef(!1);return t5(()=>{n.current=!0}),j.useCallback(async(s,i={})=>{Fi(n.current,e5),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var fM={};function r5(e,t,n){!t&&!fM[e]&&(fM[e]=!0,Fi(!1,n))}j.memo(kK);function kK({routes:e,future:t,state:n}){return n5(e,void 0,n,t)}function Vl({to:e,replace:t,state:n,relative:r}){gr(Gh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(go);Fi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(rl),{pathname:o}=al(),u=po(),m=J_(e,Z_(i),o,r==="path"),f=JSON.stringify(m);return j.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function ht(e){gr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IK({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){gr(!Gh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Yh(n));let{pathname:m="/",search:f="",hash:g="",state:x=null,key:w="default"}=n,_=j.useMemo(()=>{let C=zl(m,o);return C==null?null:{location:{pathname:C,search:f,hash:g,state:x,key:w},navigationType:r}},[o,m,f,g,x,w,r]);return Fi(_!=null,`<Router basename="${o}"> is not able to match the URL "${m}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:j.createElement(go.Provider,{value:u},j.createElement(Tp.Provider,{children:t,value:_}))}function Kh({children:e,location:t}){return NK(eS(e),t)}function eS(e,t=[]){let n=[];return j.Children.forEach(e,(r,s)=>{if(!j.isValidElement(r))return;let i=[...t,s];if(r.type===j.Fragment){n.push.apply(n,eS(r.props.children,i));return}gr(r.type===ht,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=eS(r.props.children,i)),n.push(o)}),n}var sv="get",iv="application/x-www-form-urlencoded";function My(e){return e!=null&&typeof e.tagName=="string"}function LK(e){return My(e)&&e.tagName.toLowerCase()==="button"}function BK(e){return My(e)&&e.tagName.toLowerCase()==="form"}function FK(e){return My(e)&&e.tagName.toLowerCase()==="input"}function UK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zK(e,t){return e.button===0&&(!t||t==="_self")&&!UK(e)}function tS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function VK(e,t){let n=tS(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Ax=null;function $K(){if(Ax===null)try{new FormData(document.createElement("form"),0),Ax=!1}catch{Ax=!0}return Ax}var HK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function i2(e){return e!=null&&!HK.has(e)?(Fi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iv}"`),null):e}function qK(e,t){let n,r,s,i,o;if(BK(e)){let u=e.getAttribute("action");r=u?zl(u,t):null,n=e.getAttribute("method")||sv,s=i2(e.getAttribute("enctype"))||iv,i=new FormData(e)}else if(LK(e)||FK(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(r=m?zl(m,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||sv,s=i2(e.getAttribute("formenctype"))||i2(u.getAttribute("enctype"))||iv,i=new FormData(u,e),!$K()){let{name:f,type:g,value:x}=e;if(g==="image"){let w=f?`${f}.`:"";i.append(`${w}x`,"0"),i.append(`${w}y`,"0")}else f&&i.append(f,x)}}else{if(My(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sv,r=null,s=iv,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YK(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&zl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function WK(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KK(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await WK(i,n);return o.links?o.links():[]}return[]}));return JK(r.flat(1).filter(GK).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function hM(e,t,n,r,s,i){let o=(m,f)=>n[f]?m.route.id!==n[f].route.id:!0,u=(m,f)=>{var g;return n[f].pathname!==m.pathname||((g=n[f].route.path)==null?void 0:g.endsWith("*"))&&n[f].params["*"]!==m.params["*"]};return i==="assets"?t.filter((m,f)=>o(m,f)||u(m,f)):i==="data"?t.filter((m,f)=>{var x;let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(o(m,f)||u(m,f))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function XK(e,t,{includeHydrateFallback:n}={}){return QK(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function QK(e){return[...new Set(e)]}function ZK(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function JK(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(ZK(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function a5(){let e=j.useContext(Wh);return rE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eX(){let e=j.useContext(Oy);return rE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var aE=j.createContext(void 0);aE.displayName="FrameworkContext";function s5(){let e=j.useContext(aE);return rE(e,"You must render this element inside a <HydratedRouter> element"),e}function tX(e,t){let n=j.useContext(aE),[r,s]=j.useState(!1),[i,o]=j.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:f,onMouseLeave:g,onTouchStart:x}=t,w=j.useRef(null);j.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let A=M=>{M.forEach(D=>{o(D.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return w.current&&E.observe(w.current),()=>{E.disconnect()}}},[e]),j.useEffect(()=>{if(r){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[r]);let _=()=>{s(!0)},C=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,w,{}]:[i,w,{onFocus:gg(u,_),onBlur:gg(m,C),onMouseEnter:gg(f,_),onMouseLeave:gg(g,C),onTouchStart:gg(x,_)}]:[!1,w,{}]}function gg(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nX({page:e,...t}){let{router:n}=a5(),r=j.useMemo(()=>K6(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(aX,{page:e,matches:r,...t}):null}function rX(e){let{manifest:t,routeModules:n}=s5(),[r,s]=j.useState([]);return j.useEffect(()=>{let i=!1;return KK(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function aX({page:e,matches:t,...n}){let r=al(),{manifest:s,routeModules:i}=s5(),{basename:o}=a5(),{loaderData:u,matches:m}=eX(),f=j.useMemo(()=>hM(e,t,m,s,r,"data"),[e,t,m,s,r]),g=j.useMemo(()=>hM(e,t,m,s,r,"assets"),[e,t,m,s,r]),x=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,A=!1;if(t.forEach(M=>{var R;let D=s.routes[M.route.id];!D||!D.hasLoader||(!f.some(z=>z.route.id===M.route.id)&&M.route.id in u&&((R=i[M.route.id])!=null&&R.shouldRevalidate)||D.hasClientLoader?A=!0:C.add(M.route.id))}),C.size===0)return[];let E=YK(e,o,"data");return A&&C.size>0&&E.searchParams.set("_routes",t.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[E.pathname+E.search]},[o,u,r,s,f,t,e,i]),w=j.useMemo(()=>XK(g,s),[g,s]),_=rX(g);return j.createElement(j.Fragment,null,x.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),w.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),_.map(({key:C,link:A})=>j.createElement("link",{key:C,...A})))}function sX(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var i5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i5&&(window.__reactRouterVersion="7.7.1")}catch{}function iX({basename:e,children:t,window:n}){let r=j.useRef();r.current==null&&(r.current=GG({window:n,v5Compat:!0}));let s=r.current,[i,o]=j.useState({action:s.action,location:s.location}),u=j.useCallback(m=>{j.startTransition(()=>o(m))},[o]);return j.useLayoutEffect(()=>s.listen(u),[s,u]),j.createElement(IK,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var o5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:u,target:m,to:f,preventScrollReset:g,viewTransition:x,...w},_){let{basename:C}=j.useContext(go),A=typeof f=="string"&&o5.test(f),E,M=!1;if(typeof f=="string"&&A&&(E=f,i5))try{let L=new URL(window.location.href),$=f.startsWith("//")?new URL(L.protocol+f):new URL(f),W=zl($.pathname,C);$.origin===L.origin&&W!=null?f=W+$.search+$.hash:M=!0}catch{Fi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=wK(f,{relative:s}),[R,z,I]=tX(r,w),k=uX(f,{replace:o,state:u,target:m,preventScrollReset:g,relative:s,viewTransition:x});function F(L){t&&t(L),L.defaultPrevented||k(L)}let V=j.createElement("a",{...w,...I,href:E||D,onClick:M||i?t:F,ref:sX(_,z),target:m,"data-discover":!A&&n==="render"?"true":void 0});return R&&!A?j.createElement(j.Fragment,null,V,j.createElement(nX,{page:D})):V});Qt.displayName="Link";var oX=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:u,children:m,...f},g){let x=Op(o,{relative:f.relative}),w=al(),_=j.useContext(Oy),{navigator:C,basename:A}=j.useContext(go),E=_!=null&&gX(x)&&u===!0,M=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,D=w.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(D=D.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&A&&(R=zl(R,A)||R);const z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let I=D===M||!s&&D.startsWith(M)&&D.charAt(z)==="/",k=R!=null&&(R===M||!s&&R.startsWith(M)&&R.charAt(M.length)==="/"),F={isActive:I,isPending:k,isTransitioning:E},V=I?t:void 0,L;typeof r=="function"?L=r(F):L=[r,I?"active":null,k?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(F):i;return j.createElement(Qt,{...f,"aria-current":V,className:L,ref:g,style:$,to:o,viewTransition:u},typeof m=="function"?m(F):m)});oX.displayName="NavLink";var lX=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=sv,action:u,onSubmit:m,relative:f,preventScrollReset:g,viewTransition:x,...w},_)=>{let C=hX(),A=mX(u,{relative:f}),E=o.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&o5.test(u),D=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let z=R.nativeEvent.submitter,I=(z==null?void 0:z.getAttribute("formmethod"))||o;C(z||R.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:s,state:i,relative:f,preventScrollReset:g,viewTransition:x})};return j.createElement("form",{ref:_,method:E,action:A,onSubmit:r?m:D,...w,"data-discover":!M&&e==="render"?"true":void 0})});lX.displayName="Form";function cX(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l5(e){let t=j.useContext(Wh);return gr(t,cX(e)),t}function uX(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=po(),m=al(),f=Op(e,{relative:i});return j.useCallback(g=>{if(zK(g,t)){g.preventDefault();let x=n!==void 0?n:Xg(m)===Xg(f);u(e,{replace:x,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[m,u,f,n,r,t,e,s,i,o])}function c5(e){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(tS(e)),n=j.useRef(!1),r=al(),s=j.useMemo(()=>VK(r.search,n.current?null:t.current),[r.search]),i=po(),o=j.useCallback((u,m)=>{const f=tS(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,i("?"+f,m)},[i,s]);return[s,o]}var dX=0,fX=()=>`__${String(++dX)}__`;function hX(){let{router:e}=l5("useSubmit"),{basename:t}=j.useContext(go),n=DK();return j.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:m,body:f}=qK(r,t);if(s.navigate===!1){let g=s.fetcherKey||fX();await e.fetch(g,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function mX(e,{relative:t}={}){let{basename:n}=j.useContext(go),r=j.useContext(rl);gr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Op(e||".",{relative:t})},o=al();if(e==null){i.search=o.search;let u=new URLSearchParams(i.search),m=u.getAll("index");if(m.some(g=>g==="")){u.delete("index"),m.filter(x=>x).forEach(x=>u.append("index",x));let g=u.toString();i.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ll([n,i.pathname])),Xg(i)}function gX(e,{relative:t}={}){let n=j.useContext(J6);gr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=l5("useViewTransitionState"),s=Op(e,{relative:t});if(!n.isTransitioning)return!1;let i=zl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=zl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bv(s.pathname,o)!=null||bv(s.pathname,i)!=null}const sE=j.createContext({});function iE(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const oE=typeof window<"u",u5=oE?j.useLayoutEffect:j.useEffect,Dy=j.createContext(null);function lE(e,t){e.indexOf(t)===-1&&e.push(t)}function cE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $l=(e,t,n)=>n>t?t:n<e?e:n;let uE=()=>{};const Hl={},d5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function f5(e){return typeof e=="object"&&e!==null}const h5=e=>/^0[^.\s]+$/u.test(e);function dE(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ii=e=>e,pX=(e,t)=>n=>t(e(n)),Mp=(...e)=>e.reduce(pX),Qg=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class fE{constructor(){this.subscriptions=[]}add(t){return lE(this.subscriptions,t),()=>cE(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yo=e=>e*1e3,Wo=e=>e/1e3;function m5(e,t){return t?e*(1e3/t):0}const g5=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xX=1e-7,vX=12;function yX(e,t,n,r,s){let i,o,u=0;do o=t+(n-t)/2,i=g5(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>xX&&++u<vX);return o}function Dp(e,t,n,r){if(e===t&&n===r)return Ii;const s=i=>yX(i,0,1,e,n);return i=>i===0||i===1?i:g5(s(i),t,r)}const p5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,x5=e=>t=>1-e(1-t),v5=Dp(.33,1.53,.69,.99),hE=x5(v5),y5=p5(hE),b5=e=>(e*=2)<1?.5*hE(e):.5*(2-Math.pow(2,-10*(e-1))),mE=e=>1-Math.sin(Math.acos(e)),w5=x5(mE),j5=p5(mE),bX=Dp(.42,0,1,1),wX=Dp(0,0,.58,1),N5=Dp(.42,0,.58,1),jX=e=>Array.isArray(e)&&typeof e[0]!="number",S5=e=>Array.isArray(e)&&typeof e[0]=="number",NX={linear:Ii,easeIn:bX,easeInOut:N5,easeOut:wX,circIn:mE,circInOut:j5,circOut:w5,backIn:hE,backInOut:y5,backOut:v5,anticipate:b5},SX=e=>typeof e=="string",mM=e=>{if(S5(e)){uE(e.length===4);const[t,n,r,s]=e;return Dp(t,n,r,s)}else if(SX(e))return NX[e];return e},Cx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _X(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(g){o.has(g)&&(f.schedule(g),e()),g(u)}const f={schedule:(g,x=!1,w=!1)=>{const C=w&&s?n:r;return x&&o.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),o.delete(g)},process:g=>{if(u=g,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(m),n.clear(),s=!1,i&&(i=!1,f.process(g))}};return f}const EX=40;function _5(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Cx.reduce((R,z)=>(R[z]=_X(i),R),{}),{setup:u,read:m,resolveKeyframes:f,preUpdate:g,update:x,preRender:w,render:_,postRender:C}=o,A=()=>{const R=Hl.useManualTiming?s.timestamp:performance.now();n=!1,Hl.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,EX),1)),s.timestamp=R,s.isProcessing=!0,u.process(s),m.process(s),f.process(s),g.process(s),x.process(s),w.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(A))},E=()=>{n=!0,r=!0,s.isProcessing||e(A)};return{schedule:Cx.reduce((R,z)=>{const I=o[z];return R[z]=(k,F=!1,V=!1)=>(n||E(),I.schedule(k,F,V)),R},{}),cancel:R=>{for(let z=0;z<Cx.length;z++)o[Cx[z]].cancel(R)},state:s,steps:o}}const{schedule:hr,cancel:tu,state:Ha,steps:o2}=_5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ii,!0);let ov;function AX(){ov=void 0}const Fs={now:()=>(ov===void 0&&Fs.set(Ha.isProcessing||Hl.useManualTiming?Ha.timestamp:performance.now()),ov),set:e=>{ov=e,queueMicrotask(AX)}},E5=e=>t=>typeof t=="string"&&t.startsWith(e),gE=E5("--"),CX=E5("var(--"),pE=e=>CX(e)?TX.test(e.split("/*")[0].trim()):!1,TX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zg={...Xh,transform:e=>$l(0,1,e)},Tx={...Xh,default:1},zg=e=>Math.round(e*1e5)/1e5,xE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OX(e){return e==null}const MX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vE=(e,t)=>n=>!!(typeof n=="string"&&MX.test(n)&&n.startsWith(e)||t&&!OX(n)&&Object.prototype.hasOwnProperty.call(n,t)),A5=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(xE);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},DX=e=>$l(0,255,e),l2={...Xh,transform:e=>Math.round(DX(e))},dd={test:vE("rgb","red"),parse:A5("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+l2.transform(e)+", "+l2.transform(t)+", "+l2.transform(n)+", "+zg(Zg.transform(r))+")"};function PX(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const nS={test:vE("#"),parse:PX,transform:dd.transform},Pp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yc=Pp("deg"),Go=Pp("%"),Pt=Pp("px"),RX=Pp("vh"),kX=Pp("vw"),gM={...Go,parse:e=>Go.parse(e)/100,transform:e=>Go.transform(e*100)},oh={test:vE("hsl","hue"),parse:A5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Go.transform(zg(t))+", "+Go.transform(zg(n))+", "+zg(Zg.transform(r))+")"},aa={test:e=>dd.test(e)||nS.test(e)||oh.test(e),parse:e=>dd.test(e)?dd.parse(e):oh.test(e)?oh.parse(e):nS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?dd.transform(e):oh.transform(e),getAnimatableNone:e=>{const t=aa.parse(e);return t.alpha=0,aa.transform(t)}},IX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LX(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xE))==null?void 0:t.length)||0)+(((n=e.match(IX))==null?void 0:n.length)||0)>0}const C5="number",T5="color",BX="var",FX="var(",pM="${}",UX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jg(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const u=t.replace(UX,m=>(aa.test(m)?(r.color.push(i),s.push(T5),n.push(aa.parse(m))):m.startsWith(FX)?(r.var.push(i),s.push(BX),n.push(m)):(r.number.push(i),s.push(C5),n.push(parseFloat(m))),++i,pM)).split(pM);return{values:n,split:u,indexes:r,types:s}}function O5(e){return Jg(e).values}function M5(e){const{split:t,types:n}=Jg(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const u=n[o];u===C5?i+=zg(s[o]):u===T5?i+=aa.transform(s[o]):i+=s[o]}return i}}const zX=e=>typeof e=="number"?0:aa.test(e)?aa.getAnimatableNone(e):e;function VX(e){const t=O5(e);return M5(e)(t.map(zX))}const nu={test:LX,parse:O5,createTransformer:M5,getAnimatableNone:VX};function c2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $X({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const u=n<.5?n*(1+t):n+t-n*t,m=2*n-u;s=c2(m,u,e+1/3),i=c2(m,u,e),o=c2(m,u,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function wv(e,t){return n=>n>0?t:e}const Sr=(e,t,n)=>e+(t-e)*n,u2=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},HX=[nS,dd,oh],qX=e=>HX.find(t=>t.test(e));function xM(e){const t=qX(e);if(!t)return!1;let n=t.parse(e);return t===oh&&(n=$X(n)),n}const vM=(e,t)=>{const n=xM(e),r=xM(t);if(!n||!r)return wv(e,t);const s={...n};return i=>(s.red=u2(n.red,r.red,i),s.green=u2(n.green,r.green,i),s.blue=u2(n.blue,r.blue,i),s.alpha=Sr(n.alpha,r.alpha,i),dd.transform(s))},rS=new Set(["none","hidden"]);function YX(e,t){return rS.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function WX(e,t){return n=>Sr(e,t,n)}function yE(e){return typeof e=="number"?WX:typeof e=="string"?pE(e)?wv:aa.test(e)?vM:XX:Array.isArray(e)?D5:typeof e=="object"?aa.test(e)?vM:GX:wv}function D5(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>yE(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function GX(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=yE(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function KX(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],u=e.values[o]??0;n[s]=u,r[i]++}return n}const XX=(e,t)=>{const n=nu.createTransformer(t),r=Jg(e),s=Jg(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?rS.has(e)&&!s.values.length||rS.has(t)&&!r.values.length?YX(e,t):Mp(D5(KX(r,s),s.values),n):wv(e,t)};function P5(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Sr(e,t,n):yE(e)(e,t)}const QX=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>hr.update(t,n),stop:()=>tu(t),now:()=>Ha.isProcessing?Ha.timestamp:Fs.now()}},R5=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},jv=2e4;function bE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<jv;)t+=n,r=e.next(t);return t>=jv?1/0:t}function ZX(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(bE(r),jv);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Wo(s)}}const JX=5;function k5(e,t,n){const r=Math.max(t-JX,0);return m5(n-e(r),t-r)}const Rr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},d2=.001;function eQ({duration:e=Rr.duration,bounce:t=Rr.bounce,velocity:n=Rr.velocity,mass:r=Rr.mass}){let s,i,o=1-t;o=$l(Rr.minDamping,Rr.maxDamping,o),e=$l(Rr.minDuration,Rr.maxDuration,Wo(e)),o<1?(s=f=>{const g=f*o,x=g*e,w=g-n,_=aS(f,o),C=Math.exp(-x);return d2-w/_*C},i=f=>{const x=f*o*e,w=x*n+n,_=Math.pow(o,2)*Math.pow(f,2)*e,C=Math.exp(-x),A=aS(Math.pow(f,2),o);return(-s(f)+d2>0?-1:1)*((w-_)*C)/A}):(s=f=>{const g=Math.exp(-f*e),x=(f-n)*e+1;return-d2+g*x},i=f=>{const g=Math.exp(-f*e),x=(n-f)*(e*e);return g*x});const u=5/e,m=nQ(s,i,u);if(e=Yo(e),isNaN(m))return{stiffness:Rr.stiffness,damping:Rr.damping,duration:e};{const f=Math.pow(m,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:e}}}const tQ=12;function nQ(e,t,n){let r=n;for(let s=1;s<tQ;s++)r=r-e(r)/t(r);return r}function aS(e,t){return e*Math.sqrt(1-t*t)}const rQ=["duration","bounce"],aQ=["stiffness","damping","mass"];function yM(e,t){return t.some(n=>e[n]!==void 0)}function sQ(e){let t={velocity:Rr.velocity,stiffness:Rr.stiffness,damping:Rr.damping,mass:Rr.mass,isResolvedFromDuration:!1,...e};if(!yM(e,aQ)&&yM(e,rQ))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*$l(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Rr.mass,stiffness:s,damping:i}}else{const n=eQ(e);t={...t,...n,mass:Rr.mass},t.isResolvedFromDuration=!0}return t}function Nv(e=Rr.visualDuration,t=Rr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:m,damping:f,mass:g,duration:x,velocity:w,isResolvedFromDuration:_}=sQ({...n,velocity:-Wo(n.velocity||0)}),C=w||0,A=f/(2*Math.sqrt(m*g)),E=o-i,M=Wo(Math.sqrt(m/g)),D=Math.abs(E)<5;r||(r=D?Rr.restSpeed.granular:Rr.restSpeed.default),s||(s=D?Rr.restDelta.granular:Rr.restDelta.default);let R;if(A<1){const I=aS(M,A);R=k=>{const F=Math.exp(-A*M*k);return o-F*((C+A*M*E)/I*Math.sin(I*k)+E*Math.cos(I*k))}}else if(A===1)R=I=>o-Math.exp(-M*I)*(E+(C+M*E)*I);else{const I=M*Math.sqrt(A*A-1);R=k=>{const F=Math.exp(-A*M*k),V=Math.min(I*k,300);return o-F*((C+A*M*E)*Math.sinh(V)+I*E*Math.cosh(V))/I}}const z={calculatedDuration:_&&x||null,next:I=>{const k=R(I);if(_)u.done=I>=x;else{let F=I===0?C:0;A<1&&(F=I===0?Yo(C):k5(R,I,k));const V=Math.abs(F)<=r,L=Math.abs(o-k)<=s;u.done=V&&L}return u.value=u.done?o:k,u},toString:()=>{const I=Math.min(bE(z),jv),k=R5(F=>z.next(I*F).value,I,30);return I+"ms "+k},toTransition:()=>{}};return z}Nv.applyToOptions=e=>{const t=ZX(e,100,Nv);return e.ease=t.ease,e.duration=Yo(t.duration),e.type="keyframes",e};function sS({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:m,restDelta:f=.5,restSpeed:g}){const x=e[0],w={done:!1,value:x},_=V=>u!==void 0&&V<u||m!==void 0&&V>m,C=V=>u===void 0?m:m===void 0||Math.abs(u-V)<Math.abs(m-V)?u:m;let A=n*t;const E=x+A,M=o===void 0?E:o(E);M!==E&&(A=M-x);const D=V=>-A*Math.exp(-V/r),R=V=>M+D(V),z=V=>{const L=D(V),$=R(V);w.done=Math.abs(L)<=f,w.value=w.done?M:$};let I,k;const F=V=>{_(w.value)&&(I=V,k=Nv({keyframes:[w.value,C(w.value)],velocity:k5(R,V,w.value),damping:s,stiffness:i,restDelta:f,restSpeed:g}))};return F(0),{calculatedDuration:null,next:V=>{let L=!1;return!k&&I===void 0&&(L=!0,z(V),F(V)),I!==void 0&&V>=I?k.next(V-I):(!L&&z(V),w)}}}function iQ(e,t,n){const r=[],s=n||Hl.mix||P5,i=e.length-1;for(let o=0;o<i;o++){let u=s(e[o],e[o+1]);if(t){const m=Array.isArray(t)?t[o]||Ii:t;u=Mp(m,u)}r.push(u)}return r}function oQ(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(uE(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=iQ(t,r,s),m=u.length,f=g=>{if(o&&g<e[0])return t[0];let x=0;if(m>1)for(;x<e.length-2&&!(g<e[x+1]);x++);const w=Qg(e[x],e[x+1],g);return u[x](w)};return n?g=>f($l(e[0],e[i-1],g)):f}function lQ(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Qg(0,t,r);e.push(Sr(n,1,s))}}function cQ(e){const t=[0];return lQ(t,e.length-1),t}function uQ(e,t){return e.map(n=>n*t)}function dQ(e,t){return e.map(()=>t||N5).splice(0,e.length-1)}function Vg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=jX(r)?r.map(mM):mM(r),i={done:!1,value:t[0]},o=uQ(n&&n.length===t.length?n:cQ(t),e),u=oQ(o,t,{ease:Array.isArray(s)?s:dQ(t,s)});return{calculatedDuration:e,next:m=>(i.value=u(m),i.done=m>=e,i)}}const fQ=e=>e!==null;function wE(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(fQ),u=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const hQ={decay:sS,inertia:sS,tween:Vg,keyframes:Vg,spring:Nv};function I5(e){typeof e.type=="string"&&(e.type=hQ[e.type])}class jE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const mQ=e=>e/100;class NE extends jE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Fs.now()&&this.tick(Fs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;I5(t);const{type:n=Vg,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:u}=t;const m=n||Vg;m!==Vg&&typeof u[0]!="number"&&(this.mixKeyframes=Mp(mQ,P5(u[0],u[1])),u=[0,100]);const f=m({...t,keyframes:u});i==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...u].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=bE(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:g,repeat:x,repeatType:w,repeatDelay:_,type:C,onUpdate:A,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const M=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,z=r;if(x){const V=Math.min(this.currentTime,s)/u;let L=Math.floor(V),$=V%1;!$&&V>=1&&($=1),$===1&&L--,L=Math.min(L,x+1),!!(L%2)&&(w==="reverse"?($=1-$,_&&($-=_/u)):w==="mirror"&&(z=o)),R=$l(0,1,$)*u}const I=D?{done:!1,value:g[0]}:z.next(R);i&&(I.value=i(I.value));let{done:k}=I;!D&&m!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return F&&C!==sS&&(I.value=wE(g,this.options,E,this.speed)),A&&A(I.value),F&&this.finish(),I}then(t,n){return this.finished.then(t,n)}get duration(){return Wo(this.calculatedDuration)}get time(){return Wo(this.currentTime)}set time(t){var n;t=Yo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fs.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Wo(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=QX,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function gQ(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fd=e=>e*180/Math.PI,iS=e=>{const t=fd(Math.atan2(e[1],e[0]));return oS(t)},pQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:iS,rotateZ:iS,skewX:e=>fd(Math.atan(e[1])),skewY:e=>fd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},oS=e=>(e=e%360,e<0&&(e+=360),e),bM=iS,wM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wM,scaleY:jM,scale:e=>(wM(e)+jM(e))/2,rotateX:e=>oS(fd(Math.atan2(e[6],e[5]))),rotateY:e=>oS(fd(Math.atan2(-e[2],e[0]))),rotateZ:bM,rotate:bM,skewX:e=>fd(Math.atan(e[4])),skewY:e=>fd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function lS(e){return e.includes("scale")?1:0}function cS(e,t){if(!e||e==="none")return lS(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=xQ,s=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pQ,s=u}if(!s)return lS(t);const i=r[t],o=s[1].split(",").map(yQ);return typeof i=="function"?i(o):o[i]}const vQ=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return cS(n,t)};function yQ(e){return parseFloat(e.trim())}const Qh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zh=new Set(Qh),NM=e=>e===Xh||e===Pt,bQ=new Set(["x","y","z"]),wQ=Qh.filter(e=>!bQ.has(e));function jQ(e){const t=[];return wQ.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const bd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>cS(t,"x"),y:(e,{transform:t})=>cS(t,"y")};bd.translateX=bd.x;bd.translateY=bd.y;const wd=new Set;let uS=!1,dS=!1,fS=!1;function L5(){if(dS){const e=Array.from(wd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=jQ(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dS=!1,uS=!1,wd.forEach(e=>e.complete(fS)),wd.clear()}function B5(){wd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(dS=!0)})}function NQ(){fS=!0,B5(),L5(),fS=!1}class SE{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(wd.add(this),uS||(uS=!0,hr.read(B5),hr.resolveKeyframes(L5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}gQ(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),wd.delete(this)}cancel(){this.state==="scheduled"&&(wd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SQ=e=>e.startsWith("--");function _Q(e,t,n){SQ(t)?e.style.setProperty(t,n):e.style[t]=n}const EQ=dE(()=>window.ScrollTimeline!==void 0),AQ={};function CQ(e,t){const n=dE(e);return()=>AQ[t]??n()}const F5=CQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dg=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,SM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dg([0,.65,.55,1]),circOut:Dg([.55,0,1,.45]),backIn:Dg([.31,.01,.66,-.59]),backOut:Dg([.33,1.53,.69,.99])};function U5(e,t){if(e)return typeof e=="function"?F5()?R5(e,t):"ease-out":S5(e)?Dg(e):Array.isArray(e)?e.map(n=>U5(n,t)||SM.easeOut):SM[e]}function TQ(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:m}={},f=void 0){const g={[t]:n};m&&(g.offset=m);const x=U5(u,s);Array.isArray(x)&&(g.easing=x);const w={delay:r,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return f&&(w.pseudoElement=f),e.animate(g,w)}function z5(e){return typeof e=="function"&&"applyToOptions"in e}function OQ({type:e,...t}){return z5(e)&&F5()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class MQ extends jE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:m}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,uE(typeof t.type!="string");const f=OQ(t);this.animation=TQ(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const g=wE(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):_Q(n,r,g),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wo(Number(t))}get time(){return Wo(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Yo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&EQ()?(this.animation.timeline=t,Ii):n(this)}}const V5={anticipate:b5,backInOut:y5,circInOut:j5};function DQ(e){return e in V5}function PQ(e){typeof e.ease=="string"&&DQ(e.ease)&&(e.ease=V5[e.ease])}const _M=10;class RQ extends MQ{constructor(t){PQ(t),I5(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new NE({...o,autoplay:!1}),m=Yo(this.finishedTime??this.time);n.setWithVelocity(u.sample(m-_M).value,u.sample(m).value,_M),u.stop()}}const EM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(nu.test(e)||e==="0")&&!e.startsWith("url("));function kQ(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function IQ(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=EM(s,t),u=EM(i,t);return!o||!u?!1:kQ(e)||(n==="spring"||z5(n))&&r}function hS(e){e.duration=0,e.type}const LQ=new Set(["opacity","clipPath","filter","transform"]),BQ=dE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FQ(e){var g;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:f}=t.owner.getProps();return BQ()&&n&&LQ.has(n)&&(n!=="transform"||!f)&&!m&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const UQ=40;class zQ extends jE{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:m,motionValue:f,element:g,...x}){var C;super(),this.stop=()=>{var A,E;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Fs.now();const w={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:m,motionValue:f,element:g,...x},_=(g==null?void 0:g.KeyframeResolver)||SE;this.keyframeResolver=new _(u,(A,E,M)=>this.onKeyframesResolved(A,E,w,!M),m,f,g),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:m,isHandoff:f,onUpdate:g}=r;this.resolvedAt=Fs.now(),IQ(t,i,o,u)||((Hl.instantAnimations||!m)&&(g==null||g(wE(t,r,n))),t[0]=t[t.length-1],hS(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>UQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},_=!f&&FQ(w)?new RQ({...w,element:w.motionValue.owner.current}):new NE(w);_.finished.then(()=>this.notifyFinished()).catch(Ii),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),NQ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const VQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $Q(e){const t=VQ.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function $5(e,t,n=1){const[r,s]=$Q(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return d5(o)?parseFloat(o):o}return pE(s)?$5(s,t,n+1):s}function _E(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const H5=new Set(["width","height","top","left","right","bottom",...Qh]),HQ={test:e=>e==="auto",parse:e=>e},q5=e=>t=>t.test(e),Y5=[Xh,Pt,Go,Yc,kX,RX,HQ],AM=e=>Y5.find(q5(e));function qQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||h5(e):!0}const YQ=new Set(["brightness","contrast","saturate","opacity"]);function WQ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xE)||[];if(!r)return e;const s=n.replace(r,"");let i=YQ.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const GQ=/\b([a-z-]*)\(.*?\)/gu,mS={...nu,getAnimatableNone:e=>{const t=e.match(GQ);return t?t.map(WQ).join(" "):e}},CM={...Xh,transform:Math.round},KQ={rotate:Yc,rotateX:Yc,rotateY:Yc,rotateZ:Yc,scale:Tx,scaleX:Tx,scaleY:Tx,scaleZ:Tx,skew:Yc,skewX:Yc,skewY:Yc,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:Zg,originX:gM,originY:gM,originZ:Pt},EE={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,backgroundPositionX:Pt,backgroundPositionY:Pt,...KQ,zIndex:CM,fillOpacity:Zg,strokeOpacity:Zg,numOctaves:CM},XQ={...EE,color:aa,backgroundColor:aa,outlineColor:aa,fill:aa,stroke:aa,borderColor:aa,borderTopColor:aa,borderRightColor:aa,borderBottomColor:aa,borderLeftColor:aa,filter:mS,WebkitFilter:mS},W5=e=>XQ[e];function G5(e,t){let n=W5(e);return n!==mS&&(n=nu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const QQ=new Set(["auto","none","0"]);function ZQ(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!QQ.has(i)&&Jg(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=G5(n,s)}class JQ extends SE{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let f=t[m];if(typeof f=="string"&&(f=f.trim(),pE(f))){const g=$5(f,n.current);g!==void 0&&(t[m]=g),m===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!H5.has(r)||t.length!==2)return;const[s,i]=t,o=AM(s),u=AM(i);if(o!==u)if(NM(o)&&NM(u))for(let m=0;m<t.length;m++){const f=t[m];typeof f=="string"&&(t[m]=parseFloat(f))}else bd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||qQ(t[s]))&&r.push(s);r.length&&ZQ(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=bd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,f])=>{t.getValue(m).set(f)}),this.resolveNoneKeyframes()}}function eZ(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const K5=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function X5(e){return f5(e)&&"offsetHeight"in e}const TM=30,tZ=e=>!isNaN(parseFloat(e));class nZ{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Fs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Fs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=tZ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new fE);const r=this.events[t].add(n);return t==="change"?()=>{r(),hr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>TM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TM);return m5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _h(e,t){return new nZ(e,t)}const{schedule:AE}=_5(queueMicrotask,!1),ro={x:!1,y:!1};function Q5(){return ro.x||ro.y}function rZ(e){return e==="x"||e==="y"?ro[e]?null:(ro[e]=!0,()=>{ro[e]=!1}):ro.x||ro.y?null:(ro.x=ro.y=!0,()=>{ro.x=ro.y=!1})}function Z5(e,t){const n=eZ(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function OM(e){return!(e.pointerType==="touch"||Q5())}function aZ(e,t,n={}){const[r,s,i]=Z5(e,n),o=u=>{if(!OM(u))return;const{target:m}=u,f=t(m,u);if(typeof f!="function"||!m)return;const g=x=>{OM(x)&&(f(x),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const J5=(e,t)=>t?e===t?!0:J5(e,t.parentElement):!1,CE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iZ(e){return sZ.has(e.tagName)||e.tabIndex!==-1}const lv=new WeakSet;function MM(e){return t=>{t.key==="Enter"&&e(t)}}function f2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const oZ=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=MM(()=>{if(lv.has(n))return;f2(n,"down");const s=MM(()=>{f2(n,"up")}),i=()=>f2(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function DM(e){return CE(e)&&!Q5()}function lZ(e,t,n={}){const[r,s,i]=Z5(e,n),o=u=>{const m=u.currentTarget;if(!DM(u))return;lv.add(m);const f=t(m,u),g=(_,C)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",w),lv.has(m)&&lv.delete(m),DM(_)&&typeof f=="function"&&f(_,{success:C})},x=_=>{g(_,m===window||m===document||n.useGlobalTarget||J5(m,_.target))},w=_=>{g(_,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",w,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),X5(u)&&(u.addEventListener("focus",f=>oZ(f,s)),!iZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function eL(e){return f5(e)&&"ownerSVGElement"in e}function cZ(e){return eL(e)&&e.tagName==="svg"}const os=e=>!!(e&&e.getVelocity),uZ=[...Y5,aa,nu],dZ=e=>uZ.find(q5(e)),TE=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class fZ extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=X5(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hZ({children:e,isPresent:t,anchorX:n,root:r}){const s=j.useId(),i=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=j.useContext(TE);return j.useInsertionEffect(()=>{const{width:m,height:f,top:g,left:x,right:w}=o.current;if(t||!i.current||!m||!f)return;const _=n==="left"?`left: ${x}`:`right: ${w}`;i.current.dataset.motionPopId=s;const C=document.createElement("style");u&&(C.nonce=u);const A=r??document.head;return A.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${f}px !important;
            ${_}px !important;
            top: ${g}px !important;
          }
        `),()=>{A.contains(C)&&A.removeChild(C)}},[t]),a.jsx(fZ,{isPresent:t,childRef:i,sizeRef:o,children:j.cloneElement(e,{ref:i})})}const mZ=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:u,root:m})=>{const f=iE(gZ),g=j.useId();let x=!0,w=j.useMemo(()=>(x=!1,{id:g,initial:t,isPresent:n,custom:s,onExitComplete:_=>{f.set(_,!0);for(const C of f.values())if(!C)return;r&&r()},register:_=>(f.set(_,!1),()=>f.delete(_))}),[n,f,r]);return i&&x&&(w={...w}),j.useMemo(()=>{f.forEach((_,C)=>f.set(C,!1))},[n]),j.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(hZ,{isPresent:n,anchorX:u,root:m,children:e})),a.jsx(Dy.Provider,{value:w,children:e})};function gZ(){return new Map}function tL(e=!0){const t=j.useContext(Dy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=j.useId();j.useEffect(()=>{if(e)return s(i)},[e]);const o=j.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Ox=e=>e.key||"";function PM(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const Py=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:u="left",root:m})=>{const[f,g]=tL(o),x=j.useMemo(()=>PM(e),[e]),w=o&&!f?[]:x.map(Ox),_=j.useRef(!0),C=j.useRef(x),A=iE(()=>new Map),[E,M]=j.useState(x),[D,R]=j.useState(x);u5(()=>{_.current=!1,C.current=x;for(let k=0;k<D.length;k++){const F=Ox(D[k]);w.includes(F)?A.delete(F):A.get(F)!==!0&&A.set(F,!1)}},[D,w.length,w.join("-")]);const z=[];if(x!==E){let k=[...x];for(let F=0;F<D.length;F++){const V=D[F],L=Ox(V);w.includes(L)||(k.splice(F,0,V),z.push(V))}return i==="wait"&&z.length&&(k=z),R(PM(k)),M(x),null}const{forceRender:I}=j.useContext(sE);return a.jsx(a.Fragment,{children:D.map(k=>{const F=Ox(k),V=o&&!f?!1:x===D||w.includes(F),L=()=>{if(A.has(F))A.set(F,!0);else return;let $=!0;A.forEach(W=>{W||($=!1)}),$&&(I==null||I(),R(C.current),o&&(g==null||g()),r&&r())};return a.jsx(mZ,{isPresent:V,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:m,onExitComplete:V?void 0:L,anchorX:u,children:k},F)})})},nL=j.createContext({strict:!1}),RM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eh={};for(const e in RM)Eh[e]={isEnabled:t=>RM[e].some(n=>!!t[n])};function pZ(e){for(const t in e)Eh[t]={...Eh[t],...e[t]}}const xZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xZ.has(e)}let rL=e=>!Sv(e);function vZ(e){typeof e=="function"&&(rL=t=>t.startsWith("on")?!Sv(t):e(t))}try{vZ(require("@emotion/is-prop-valid").default)}catch{}function yZ(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(rL(s)||n===!0&&Sv(s)||!t&&!Sv(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Ry=j.createContext({});function ky(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ep(e){return typeof e=="string"||Array.isArray(e)}const OE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ME=["initial",...OE];function Iy(e){return ky(e.animate)||ME.some(t=>ep(e[t]))}function aL(e){return!!(Iy(e)||e.variants)}function bZ(e,t){if(Iy(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ep(n)?n:void 0,animate:ep(r)?r:void 0}}return e.inherit!==!1?t:{}}function wZ(e){const{initial:t,animate:n}=bZ(e,j.useContext(Ry));return j.useMemo(()=>({initial:t,animate:n}),[kM(t),kM(n)])}function kM(e){return Array.isArray(e)?e.join(" "):e}const tp={};function jZ(e){for(const t in e)tp[t]=e[t],gE(t)&&(tp[t].isCSSVariable=!0)}function sL(e,{layout:t,layoutId:n}){return Zh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!tp[e]||e==="opacity")}const NZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SZ=Qh.length;function _Z(e,t,n){let r="",s=!0;for(let i=0;i<SZ;i++){const o=Qh[i],u=e[o];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(o.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||n){const f=K5(u,EE[o]);if(!m){s=!1;const g=NZ[o]||o;r+=`${g}(${f}) `}n&&(t[o]=f)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function DE(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,u=!1;for(const m in t){const f=t[m];if(Zh.has(m)){o=!0;continue}else if(gE(m)){s[m]=f;continue}else{const g=K5(f,EE[m]);m.startsWith("origin")?(u=!0,i[m]=g):r[m]=g}}if(t.transform||(o||n?r.transform=_Z(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:m="50%",originY:f="50%",originZ:g=0}=i;r.transformOrigin=`${m} ${f} ${g}`}}const PE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iL(e,t,n){for(const r in t)!os(t[r])&&!sL(r,n)&&(e[r]=t[r])}function EZ({transformTemplate:e},t){return j.useMemo(()=>{const n=PE();return DE(n,t,e),Object.assign({},n.vars,n.style)},[t])}function AZ(e,t){const n=e.style||{},r={};return iL(r,n,e),Object.assign(r,EZ(e,t)),r}function CZ(e,t){const n={},r=AZ(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const TZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},OZ={offset:"strokeDashoffset",array:"strokeDasharray"};function MZ(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?TZ:OZ;e[i.offset]=Pt.transform(-r);const o=Pt.transform(t),u=Pt.transform(n);e[i.array]=`${o} ${u}`}function oL(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},m,f,g){if(DE(e,u,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:w}=e;x.transform&&(w.transform=x.transform,delete x.transform),(w.transform||x.transformOrigin)&&(w.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),w.transform&&(w.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),s!==void 0&&MZ(x,s,i,o,!1)}const lL=()=>({...PE(),attrs:{}}),cL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DZ(e,t,n,r){const s=j.useMemo(()=>{const i=lL();return oL(i,t,cL(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};iL(i,e.style,e),s.style={...i,...s.style}}return s}const PZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RE(e){return typeof e!="string"||e.includes("-")?!1:!!(PZ.indexOf(e)>-1||/[A-Z]/u.test(e))}function RZ(e,t,n,{latestValues:r},s,i=!1){const u=(RE(e)?DZ:CZ)(t,r,s,e),m=yZ(t,typeof e=="string",i),f=e!==j.Fragment?{...m,...u,ref:n}:{},{children:g}=t,x=j.useMemo(()=>os(g)?g.get():g,[g]);return j.createElement(e,{...f,children:x})}function IM(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function kE(e,t,n,r){if(typeof t=="function"){const[s,i]=IM(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=IM(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function cv(e){return os(e)?e.get():e}function kZ({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:IZ(n,r,s,e),renderState:t()}}function IZ(e,t,n,r){const s={},i=r(e,{});for(const w in i)s[w]=cv(i[w]);let{initial:o,animate:u}=e;const m=Iy(e),f=aL(e);t&&f&&!m&&e.inherit!==!1&&(o===void 0&&(o=t.initial),u===void 0&&(u=t.animate));let g=n?n.initial===!1:!1;g=g||o===!1;const x=g?u:o;if(x&&typeof x!="boolean"&&!ky(x)){const w=Array.isArray(x)?x:[x];for(let _=0;_<w.length;_++){const C=kE(e,w[_]);if(C){const{transitionEnd:A,transition:E,...M}=C;for(const D in M){let R=M[D];if(Array.isArray(R)){const z=g?R.length-1:0;R=R[z]}R!==null&&(s[D]=R)}for(const D in A)s[D]=A[D]}}}return s}const uL=e=>(t,n)=>{const r=j.useContext(Ry),s=j.useContext(Dy),i=()=>kZ(e,t,r,s);return n?i():iE(i)};function IE(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(os(r[o])||t.style&&os(t.style[o])||sL(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const LZ=uL({scrapeMotionValuesFromProps:IE,createRenderState:PE});function dL(e,t,n){const r=IE(e,t,n);for(const s in e)if(os(e[s])||os(t[s])){const i=Qh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const BZ=uL({scrapeMotionValuesFromProps:dL,createRenderState:lL}),FZ=Symbol.for("motionComponentSymbol");function lh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function UZ(e,t,n){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):lh(n)&&(n.current=r))},[t])}const LE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zZ="framerAppearId",fL="data-"+LE(zZ),hL=j.createContext({});function VZ(e,t,n,r,s){var A,E;const{visualElement:i}=j.useContext(Ry),o=j.useContext(nL),u=j.useContext(Dy),m=j.useContext(TE).reducedMotion,f=j.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const g=f.current,x=j.useContext(hL);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&$Z(f.current,n,s,x);const w=j.useRef(!1);j.useInsertionEffect(()=>{g&&w.current&&g.update(n,u)});const _=n[fL],C=j.useRef(!!_&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,_))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,_)));return u5(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),j.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,_)}),C.current=!1),g.enteringChildren=void 0)}),g}function $Z(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:m,layoutRoot:f,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:mL(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&lh(u),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:f})}function mL(e){if(e)return e.options.allowProjection!==!1?e.projection:mL(e.parent)}function h2(e,{forwardMotionProps:t=!1}={},n,r){n&&pZ(n);const s=RE(e)?BZ:LZ;function i(u,m){let f;const g={...j.useContext(TE),...u,layoutId:HZ(u)},{isStatic:x}=g,w=wZ(u),_=s(u,x);if(!x&&oE){qZ();const C=YZ(g);f=C.MeasureLayout,w.visualElement=VZ(e,_,g,r,C.ProjectionNode)}return a.jsxs(Ry.Provider,{value:w,children:[f&&w.visualElement?a.jsx(f,{visualElement:w.visualElement,...g}):null,RZ(e,u,UZ(_,w.visualElement,m),_,x,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=j.forwardRef(i);return o[FZ]=e,o}function HZ({layoutId:e}){const t=j.useContext(sE).id;return t&&e!==void 0?t+"-"+e:e}function qZ(e,t){j.useContext(nL).strict}function YZ(e){const{drag:t,layout:n}=Eh;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WZ(e,t){if(typeof Proxy>"u")return h2;const n=new Map,r=(i,o)=>h2(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,h2(o,void 0,e,t)),n.get(o))})}function gL({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function GZ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function KZ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function m2(e){return e===void 0||e===1}function gS({scale:e,scaleX:t,scaleY:n}){return!m2(e)||!m2(t)||!m2(n)}function sd(e){return gS(e)||pL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pL(e){return LM(e.x)||LM(e.y)}function LM(e){return e&&e!=="0%"}function _v(e,t,n){const r=e-n,s=t*r;return n+s}function BM(e,t,n,r,s){return s!==void 0&&(e=_v(e,s,r)),_v(e,n,r)+t}function pS(e,t=0,n=1,r,s){e.min=BM(e.min,t,n,r,s),e.max=BM(e.max,t,n,r,s)}function xL(e,{x:t,y:n}){pS(e.x,t.translate,t.scale,t.originPoint),pS(e.y,n.translate,n.scale,n.originPoint)}const FM=.999999999999,UM=1.0000000000001;function XZ(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:m}=i.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uh(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,xL(e,o)),r&&sd(i.latestValues)&&uh(e,i.latestValues))}t.x<UM&&t.x>FM&&(t.x=1),t.y<UM&&t.y>FM&&(t.y=1)}function ch(e,t){e.min=e.min+t,e.max=e.max+t}function zM(e,t,n,r,s=.5){const i=Sr(e.min,e.max,s);pS(e,t,n,i,r)}function uh(e,t){zM(e.x,t.x,t.scaleX,t.scale,t.originX),zM(e.y,t.y,t.scaleY,t.scale,t.originY)}function vL(e,t){return gL(KZ(e.getBoundingClientRect(),t))}function QZ(e,t,n){const r=vL(e,n),{scroll:s}=t;return s&&(ch(r.x,s.offset.x),ch(r.y,s.offset.y)),r}const VM=()=>({translate:0,scale:1,origin:0,originPoint:0}),dh=()=>({x:VM(),y:VM()}),$M=()=>({min:0,max:0}),$r=()=>({x:$M(),y:$M()}),xS={current:null},yL={current:!1};function ZZ(){if(yL.current=!0,!!oE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xS.current=e.matches;e.addEventListener("change",t),t()}else xS.current=!1}const JZ=new WeakMap;function eJ(e,t,n){for(const r in t){const s=t[r],i=n[r];if(os(s))e.addValue(r,s);else if(os(i))e.addValue(r,_h(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,_h(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const HM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tJ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=SE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Fs.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,hr.render(this.render,!1,!0))};const{latestValues:m,renderState:f}=o;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=Iy(n),this.isVariantNode=aL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in x){const _=x[w];m[w]!==void 0&&os(_)&&_.set(m[w])}}mount(t){var n;this.current=t,JZ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),yL.current||ZZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xS.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),tu(this.notifyUpdate),tu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Zh.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&hr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Eh){const n=Eh[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<HM.length;r++){const s=HM[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=eJ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=_h(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(d5(r)||h5(r))?r=parseFloat(r):!dZ(r)&&nu.test(n)&&(r=G5(t,n)),this.setBaseTarget(t,os(r)?r.get():r)),os(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=kE(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!os(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new fE),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){AE.render(this.render)}}class bL extends tJ{constructor(){super(...arguments),this.KeyframeResolver=JQ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;os(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wL(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function nJ(e){return window.getComputedStyle(e)}class rJ extends bL{constructor(){super(...arguments),this.type="html",this.renderInstance=wL}readValueFromInstance(t,n){var r;if(Zh.has(n))return(r=this.projection)!=null&&r.isProjecting?lS(n):vQ(t,n);{const s=nJ(t),i=(gE(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return vL(t,n)}build(t,n,r){DE(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return IE(t,n,r)}}const jL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aJ(e,t,n,r){wL(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(jL.has(s)?s:LE(s),t.attrs[s])}class sJ extends bL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$r}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zh.has(n)){const r=W5(n);return r&&r.default||0}return n=jL.has(n)?n:LE(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return dL(t,n,r)}build(t,n,r){oL(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){aJ(t,n,r,s)}mount(t){this.isSVGTag=cL(t.tagName),super.mount(t)}}const iJ=(e,t)=>RE(e)?new sJ(t):new rJ(t,{allowProjection:e!==j.Fragment});function gh(e,t,n){const r=e.getProps();return kE(r,t,n!==void 0?n:r.custom,e)}const vS=e=>Array.isArray(e);function oJ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,_h(n))}function lJ(e){return vS(e)?e[e.length-1]||0:e}function cJ(e,t){const n=gh(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=lJ(i[o]);oJ(e,o,u)}}function uJ(e){return!!(os(e)&&e.add)}function yS(e,t){const n=e.getValue("willChange");if(uJ(n))return n.add(t);if(!n&&Hl.WillChange){const r=new Hl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function NL(e){return e.props[fL]}const dJ=e=>e!==null;function fJ(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(dJ),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const hJ={type:"spring",stiffness:500,damping:25,restSpeed:10},mJ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gJ={type:"keyframes",duration:.8},pJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xJ=(e,{keyframes:t})=>t.length>2?gJ:Zh.has(e)?e.startsWith("scale")?mJ(t[1]):hJ:pJ;function vJ({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:m,elapsed:f,...g}){return!!Object.keys(g).length}const BE=(e,t,n,r={},s,i)=>o=>{const u=_E(r,e)||{},m=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Yo(m);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:w=>{t.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:i?void 0:s};vJ(u)||Object.assign(g,xJ(e,g)),g.duration&&(g.duration=Yo(g.duration)),g.repeatDelay&&(g.repeatDelay=Yo(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(hS(g),g.delay===0&&(x=!0)),(Hl.instantAnimations||Hl.skipAnimations)&&(x=!0,hS(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,x&&!i&&t.get()!==void 0){const w=fJ(g.keyframes,u);if(w!==void 0){hr.update(()=>{g.onUpdate(w),g.onComplete()});return}}return u.isSync?new NE(g):new zQ(g)};function yJ({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function SL(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...u}=t;r&&(i=r);const m=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const g in u){const x=e.getValue(g,e.latestValues[g]??null),w=u[g];if(w===void 0||f&&yJ(f,g))continue;const _={delay:n,..._E(i||{},g)},C=x.get();if(C!==void 0&&!x.isAnimating&&!Array.isArray(w)&&w===C&&!_.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const M=NL(e);if(M){const D=window.MotionHandoffAnimation(M,g,hr);D!==null&&(_.startTime=D,A=!0)}}yS(e,g),x.start(BE(g,x,w,e.shouldReduceMotion&&H5.has(g)?{type:!1}:_,e,A));const E=x.animation;E&&m.push(E)}return o&&Promise.all(m).then(()=>{hr.update(()=>{o&&cJ(e,o)})}),m}function _L(e,t,n,r=0,s=1){const i=Array.from(e).sort((f,g)=>f.sortNodePosition(g)).indexOf(t),o=e.size,u=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:u-i*r}function bS(e,t,n={}){var m;const r=gh(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(SL(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:w}=s;return bJ(e,t,f,g,x,w,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,g]=u==="beforeChildren"?[i,o]:[o,i];return f().then(()=>g())}else return Promise.all([i(),o(n.delay)])}function bJ(e,t,n=0,r=0,s=0,i=1,o){const u=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),u.push(bS(m,t,{...o,delay:n+(typeof r=="function"?0:r)+_L(e.variantChildren,m,r,s,i)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(u)}function wJ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>bS(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=bS(e,t,n);else{const s=typeof t=="function"?gh(e,t,n.custom):t;r=Promise.all(SL(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function EL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const jJ=ME.length;function AL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?AL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<jJ;n++){const r=ME[n],s=e.props[r];(ep(s)||s===!1)&&(t[r]=s)}return t}const NJ=[...OE].reverse(),SJ=OE.length;function _J(e){return t=>Promise.all(t.map(({animation:n,options:r})=>wJ(e,n,r)))}function EJ(e){let t=_J(e),n=qM(),r=!0;const s=m=>(f,g)=>{var w;const x=gh(e,g,m==="exit"?(w=e.presenceContext)==null?void 0:w.custom:void 0);if(x){const{transition:_,transitionEnd:C,...A}=x;f={...f,...A,...C}}return f};function i(m){t=m(e)}function o(m){const{props:f}=e,g=AL(e.parent)||{},x=[],w=new Set;let _={},C=1/0;for(let E=0;E<SJ;E++){const M=NJ[E],D=n[M],R=f[M]!==void 0?f[M]:g[M],z=ep(R),I=M===m?D.isActive:null;I===!1&&(C=E);let k=R===g[M]&&R!==f[M]&&z;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),D.protectedKeys={..._},!D.isActive&&I===null||!R&&!D.prevProp||ky(R)||typeof R=="boolean")continue;const F=AJ(D.prevProp,R);let V=F||M===m&&D.isActive&&!k&&z||E>C&&z,L=!1;const $=Array.isArray(R)?R:[R];let W=$.reduce(s(M),{});I===!1&&(W={});const{prevResolvedValues:Y={}}=D,Q={...Y,...W},X=J=>{V=!0,w.has(J)&&(L=!0,w.delete(J)),D.needsAnimating[J]=!0;const Z=e.getValue(J);Z&&(Z.liveStyle=!1)};for(const J in Q){const Z=W[J],de=Y[J];if(_.hasOwnProperty(J))continue;let re=!1;vS(Z)&&vS(de)?re=!EL(Z,de):re=Z!==de,re?Z!=null?X(J):w.add(J):Z!==void 0&&w.has(J)?X(J):D.protectedKeys[J]=!0}D.prevProp=R,D.prevResolvedValues=W,D.isActive&&(_={..._,...W}),r&&e.blockInitialAnimation&&(V=!1);const G=k&&F;V&&(!G||L)&&x.push(...$.map(J=>{const Z={type:M};if(typeof J=="string"&&r&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,re=gh(de,J);if(de.enteringChildren&&re){const{delayChildren:pe}=re.transition||{};Z.delay=_L(de.enteringChildren,e,pe)}}return{animation:J,options:Z}}))}if(w.size){const E={};if(typeof f.initial!="boolean"){const M=gh(e,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(E.transition=M.transition)}w.forEach(M=>{const D=e.getBaseTarget(M),R=e.getValue(M);R&&(R.liveStyle=!0),E[M]=D??null}),x.push({animation:E})}let A=!!x.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(x):Promise.resolve()}function u(m,f){var x;if(n[m].isActive===f)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(w=>{var _;return(_=w.animationState)==null?void 0:_.setActive(m,f)}),n[m].isActive=f;const g=o(m);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=qM(),r=!0}}}function AJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EL(t,e):!1}function nd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qM(){return{animate:nd(!0),whileInView:nd(),whileHover:nd(),whileTap:nd(),whileDrag:nd(),whileFocus:nd(),exit:nd()}}class yu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class CJ extends yu{constructor(t){super(t),t.animationState||(t.animationState=EJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ky(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let TJ=0;class OJ extends yu{constructor(){super(...arguments),this.id=TJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const MJ={animation:{Feature:CJ},exit:{Feature:OJ}};function np(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Rp(e){return{point:{x:e.pageX,y:e.pageY}}}const DJ=e=>t=>CE(t)&&e(t,Rp(t));function $g(e,t,n,r){return np(e,t,DJ(n),r)}const CL=1e-4,PJ=1-CL,RJ=1+CL,TL=.01,kJ=0-TL,IJ=0+TL;function js(e){return e.max-e.min}function LJ(e,t,n){return Math.abs(e-t)<=n}function YM(e,t,n,r=.5){e.origin=r,e.originPoint=Sr(t.min,t.max,e.origin),e.scale=js(n)/js(t),e.translate=Sr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=PJ&&e.scale<=RJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=kJ&&e.translate<=IJ||isNaN(e.translate))&&(e.translate=0)}function Hg(e,t,n,r){YM(e.x,t.x,n.x,r?r.originX:void 0),YM(e.y,t.y,n.y,r?r.originY:void 0)}function WM(e,t,n){e.min=n.min+t.min,e.max=e.min+js(t)}function BJ(e,t,n){WM(e.x,t.x,n.x),WM(e.y,t.y,n.y)}function GM(e,t,n){e.min=t.min-n.min,e.max=e.min+js(t)}function qg(e,t,n){GM(e.x,t.x,n.x),GM(e.y,t.y,n.y)}function Pi(e){return[e("x"),e("y")]}const OL=({current:e})=>e?e.ownerDocument.defaultView:null,KM=(e,t)=>Math.abs(e-t);function FJ(e,t){const n=KM(e.x,t.x),r=KM(e.y,t.y);return Math.sqrt(n**2+r**2)}class ML{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=p2(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,C=FJ(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!C)return;const{point:A}=w,{timestamp:E}=Ha;this.history.push({...A,timestamp:E});const{onStart:M,onMove:D}=this.handlers;_||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=g2(_,this.transformPagePoint),hr.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:C,onSessionEnd:A,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=p2(w.type==="pointercancel"?this.lastMoveEventInfo:g2(_,this.transformPagePoint),this.history);this.startEvent&&C&&C(w,M),A&&A(w,M)},!CE(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=Rp(t),m=g2(u,this.transformPagePoint),{point:f}=m,{timestamp:g}=Ha;this.history=[{...f,timestamp:g}];const{onSessionStart:x}=n;x&&x(t,p2(m,this.history)),this.removeListeners=Mp($g(this.contextWindow,"pointermove",this.handlePointerMove),$g(this.contextWindow,"pointerup",this.handlePointerUp),$g(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tu(this.updatePoint)}}function g2(e,t){return t?{point:t(e.point)}:e}function XM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function p2({point:e},t){return{point:e,delta:XM(e,DL(t)),offset:XM(e,UJ(t)),velocity:zJ(t,.1)}}function UJ(e){return e[0]}function DL(e){return e[e.length-1]}function zJ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=DL(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Yo(t)));)n--;if(!r)return{x:0,y:0};const i=Wo(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function VJ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Sr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Sr(n,e,r.max):Math.min(e,n)),e}function QM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $J(e,{top:t,left:n,bottom:r,right:s}){return{x:QM(e.x,n,s),y:QM(e.y,t,r)}}function ZM(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function HJ(e,t){return{x:ZM(e.x,t.x),y:ZM(e.y,t.y)}}function qJ(e,t){let n=.5;const r=js(e),s=js(t);return s>r?n=Qg(t.min,t.max-r,e.min):r>s&&(n=Qg(e.min,e.max-s,t.min)),$l(0,1,n)}function YJ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wS=.35;function WJ(e=wS){return e===!1?e=0:e===!0&&(e=wS),{x:JM(e,"left","right"),y:JM(e,"top","bottom")}}function JM(e,t,n){return{min:eD(e,t),max:eD(e,n)}}function eD(e,t){return typeof e=="number"?e:e[t]||0}const GJ=new WeakMap;class KJ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=x=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rp(x).point)},o=(x,w)=>{const{drag:_,dragPropagation:C,onDragStart:A}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rZ(_),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(M=>{let D=this.getAxisMotionValue(M).get()||0;if(Go.test(D)){const{projection:R}=this.visualElement;if(R&&R.layout){const z=R.layout.layoutBox[M];z&&(D=js(z)*(parseFloat(D)/100))}}this.originPoint[M]=D}),A&&hr.postRender(()=>A(x,w)),yS(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:A,onDrag:E}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:M}=w;if(C&&this.currentDirection===null){this.currentDirection=XJ(M),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),E&&E(x,w)},m=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w,this.stop(x,w),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Pi(x=>{var w;return this.getAnimationState(x)==="paused"&&((w=this.getAxisMotionValue(x).animation)==null?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new ML(t,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:m,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:OL(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&hr.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Mx(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=VJ(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&lh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=$J(r.layoutBox,t):this.constraints=!1,this.elastic=WJ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=YJ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lh(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=QZ(r,s.root,this.visualElement.getTransformPagePoint());let o=HJ(s.layout.layoutBox,i);if(n){const u=n(GZ(o));this.hasMutatedConstraints=!!u,u&&(o=gL(u))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},f=Pi(g=>{if(!Mx(g,n,this.currentDirection))return;let x=m&&m[g]||{};o&&(x={min:0,max:0});const w=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:r?t[g]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...i,...x};return this.startAxisValueAnimation(g,C)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return yS(this.visualElement,t),r.start(BE(t,r,0,n,this.visualElement,!1))}stopAnimation(){Pi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Pi(n=>{const{drag:r}=this.getProps();if(!Mx(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(t[n]-Sr(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lh(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pi(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const m=u.get();s[o]=qJ({min:m,max:m},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pi(o=>{if(!Mx(o,t,null))return;const u=this.getAxisMotionValue(o),{min:m,max:f}=this.constraints[o];u.set(Sr(m,f,s[o]))})}addListeners(){if(!this.visualElement.current)return;GJ.set(this.visualElement,this);const t=this.visualElement.current,n=$g(t,"pointerdown",m=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();lh(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hr.read(r);const o=np(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f})=>{this.isDragging&&f&&(Pi(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=m[g].translate,x.set(x.get()+m[g].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=wS,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function Mx(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function XJ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class QJ extends yu{constructor(t){super(t),this.removeGroupControls=Ii,this.removeListeners=Ii,this.controls=new KJ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const tD=e=>(t,n)=>{e&&hr.postRender(()=>e(t,n))};class ZJ extends yu{constructor(){super(...arguments),this.removePointerDownListener=Ii}onPointerDown(t){this.session=new ML(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:tD(t),onStart:tD(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&hr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=$g(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pt.test(e))e=parseFloat(e);else return e;const n=nD(e,t.target.x),r=nD(e,t.target.y);return`${n}% ${r}%`}},JJ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=nu.parse(e);if(s.length>5)return r;const i=nu.createTransformer(e),o=typeof s[0]!="number"?1:0,u=n.x.scale*t.x,m=n.y.scale*t.y;s[0+o]/=u,s[1+o]/=m;const f=Sr(u,m,.5);return typeof s[2+o]=="number"&&(s[2+o]/=f),typeof s[3+o]=="number"&&(s[3+o]/=f),i(s)}};let x2=!1;class eee extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;jZ(tee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),x2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,x2=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||hr.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),AE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;x2=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PL(e){const[t,n]=tL(),r=j.useContext(sE);return a.jsx(eee,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(hL),isPresent:t,safeToRemove:n})}const tee={borderRadius:{...pg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pg,borderTopRightRadius:pg,borderBottomLeftRadius:pg,borderBottomRightRadius:pg,boxShadow:JJ};function nee(e,t,n){const r=os(e)?e:_h(e);return r.start(BE("",r,t,n)),r.animation}const ree=(e,t)=>e.depth-t.depth;class aee{constructor(){this.children=[],this.isDirty=!1}add(t){lE(this.children,t),this.isDirty=!0}remove(t){cE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ree),this.isDirty=!1,this.children.forEach(t)}}function see(e,t){const n=Fs.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(tu(r),e(i-t))};return hr.setup(r,!0),()=>tu(r)}const RL=["TopLeft","TopRight","BottomLeft","BottomRight"],iee=RL.length,rD=e=>typeof e=="string"?parseFloat(e):e,aD=e=>typeof e=="number"||Pt.test(e);function oee(e,t,n,r,s,i){s?(e.opacity=Sr(0,n.opacity??1,lee(r)),e.opacityExit=Sr(t.opacity??1,0,cee(r))):i&&(e.opacity=Sr(t.opacity??1,n.opacity??1,r));for(let o=0;o<iee;o++){const u=`border${RL[o]}Radius`;let m=sD(t,u),f=sD(n,u);if(m===void 0&&f===void 0)continue;m||(m=0),f||(f=0),m===0||f===0||aD(m)===aD(f)?(e[u]=Math.max(Sr(rD(m),rD(f),r),0),(Go.test(f)||Go.test(m))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=Sr(t.rotate||0,n.rotate||0,r))}function sD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lee=kL(0,.5,w5),cee=kL(.5,.95,Ii);function kL(e,t,n){return r=>r<e?0:r>t?1:n(Qg(e,t,r))}function iD(e,t){e.min=t.min,e.max=t.max}function Ci(e,t){iD(e.x,t.x),iD(e.y,t.y)}function oD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lD(e,t,n,r,s){return e-=t,e=_v(e,1/n,r),s!==void 0&&(e=_v(e,1/s,r)),e}function uee(e,t=0,n=1,r=.5,s,i=e,o=e){if(Go.test(t)&&(t=parseFloat(t),t=Sr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let u=Sr(i.min,i.max,r);e===i&&(u-=t),e.min=lD(e.min,t,n,u,s),e.max=lD(e.max,t,n,u,s)}function cD(e,t,[n,r,s],i,o){uee(e,t[n],t[r],t[s],t.scale,i,o)}const dee=["x","scaleX","originX"],fee=["y","scaleY","originY"];function uD(e,t,n,r){cD(e.x,t,dee,n?n.x:void 0,r?r.x:void 0),cD(e.y,t,fee,n?n.y:void 0,r?r.y:void 0)}function dD(e){return e.translate===0&&e.scale===1}function IL(e){return dD(e.x)&&dD(e.y)}function fD(e,t){return e.min===t.min&&e.max===t.max}function hee(e,t){return fD(e.x,t.x)&&fD(e.y,t.y)}function hD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function LL(e,t){return hD(e.x,t.x)&&hD(e.y,t.y)}function mD(e){return js(e.x)/js(e.y)}function gD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class mee{constructor(){this.members=[]}add(t){lE(this.members,t),t.scheduleRender()}remove(t){if(cE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gee(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:x,rotateY:w,skewX:_,skewY:C}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),x&&(r+=`rotateX(${x}deg) `),w&&(r+=`rotateY(${w}deg) `),_&&(r+=`skewX(${_}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=e.x.scale*t.x,m=e.y.scale*t.y;return(u!==1||m!==1)&&(r+=`scale(${u}, ${m})`),r||"none"}const v2=["","X","Y","Z"],pee=1e3;let xee=0;function y2(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function BL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=NL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",hr,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&BL(r)}function FL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},u=t==null?void 0:t()){this.id=xee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bee),this.nodes.forEach(See),this.nodes.forEach(_ee),this.nodes.forEach(wee)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new aee)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fE),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const m=this.eventHandlers.get(o);m&&m.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=eL(o)&&!cZ(o),this.instance=o;const{layoutId:u,layout:m,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),e){let g,x=0;const w=()=>this.root.updateBlockedByResize=!1;hr.read(()=>{x=window.innerWidth}),e(o,()=>{const _=window.innerWidth;_!==x&&(x=_,this.root.updateBlockedByResize=!0,g&&g(),g=see(w,250),uv.hasAnimatedSinceResize&&(uv.hasAnimatedSinceResize=!1,this.nodes.forEach(vD)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||f.getDefaultTransition()||Oee,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=f.getProps(),M=!this.targetLayout||!LL(this.targetLayout,_),D=!x&&w;if(this.options.layoutRoot||this.resumeFrom||D||x&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={..._E(C,"layout"),onPlay:A,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(g,D)}else x||vD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Eee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Nee),this.nodes.forEach(vee),this.nodes.forEach(yee)):this.nodes.forEach(xD),this.clearAllSnapshots();const u=Fs.now();Ha.delta=$l(0,1e3/60,u-Ha.timestamp),Ha.timestamp=u,Ha.isProcessing=!0,o2.update.process(Ha),o2.preRender.process(Ha),o2.render.process(Ha),Ha.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jee),this.sharedNodes.forEach(Aee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!js(this.snapshot.measuredBox.x)&&!js(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!IL(this.projectionDelta),m=this.getTransformTemplate(),f=m?m(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;o&&this.instance&&(u||sd(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return o&&(m=this.removeTransform(m)),Mee(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return $r();const u=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(Dee))){const{scroll:g}=this.root;g&&(ch(u.x,g.offset.x),ch(u.y,g.offset.y))}return u}removeElementScroll(o){var m;const u=$r();if(Ci(u,o),(m=this.scroll)!=null&&m.wasRoot)return u;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:x,options:w}=g;g!==this.root&&x&&w.layoutScroll&&(x.wasRoot&&Ci(u,o),ch(u.x,x.offset.x),ch(u.y,x.offset.y))}return u}applyTransform(o,u=!1){const m=$r();Ci(m,o);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&uh(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),sd(g.latestValues)&&uh(m,g.latestValues)}return sd(this.latestValues)&&uh(m,this.latestValues),m}removeTransform(o){const u=$r();Ci(u,o);for(let m=0;m<this.path.length;m++){const f=this.path[m];if(!f.instance||!sd(f.latestValues))continue;gS(f.latestValues)&&f.updateSnapshot();const g=$r(),x=f.measurePageBox();Ci(g,x),uD(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return sd(this.latestValues)&&uD(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ha.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var w;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(o||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=Ha.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),qg(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ci(this.target,this.layout.layoutBox),xL(this.target,this.targetDelta)):Ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),qg(this.relativeTargetOrigin,this.target,_.target),Ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gS(this.parent.latestValues)||pL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ha.timestamp&&(m=!1),m)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Ci(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;XZ(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=$r());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oD(this.prevProjectionDelta.x,this.projectionDelta.x),oD(this.prevProjectionDelta.y,this.projectionDelta.y)),Hg(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!gD(this.projectionDelta.x,this.prevProjectionDelta.x)||!gD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dh(),this.projectionDelta=dh(),this.projectionDeltaWithTransform=dh()}setAnimationOrigin(o,u=!1){const m=this.snapshot,f=m?m.latestValues:{},g={...this.latestValues},x=dh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=$r(),_=m?m.source:void 0,C=this.layout?this.layout.source:void 0,A=_!==C,E=this.getStack(),M=!E||E.members.length<=1,D=!!(A&&!M&&this.options.crossfade===!0&&!this.path.some(Tee));this.animationProgress=0;let R;this.mixTargetDelta=z=>{const I=z/1e3;yD(x.x,o.x,I),yD(x.y,o.y,I),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qg(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cee(this.relativeTarget,this.relativeTargetOrigin,w,I),R&&hee(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=$r()),Ci(R,this.relativeTarget)),A&&(this.animationValues=g,oee(g,f,this.latestValues,I,D,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,m,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||f.stop(),this.pendingAnimation&&(tu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update(()=>{uv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_h(0)),this.currentAnimation=nee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),o.onUpdate&&o.onUpdate(g)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:m,layout:f,latestValues:g}=o;if(!(!u||!m||!f)){if(this!==o&&this.layout&&f&&UL(this.options.animationType,this.layout.layoutBox,f.layoutBox)){m=this.target||$r();const x=js(this.layout.layoutBox.x);m.x.min=o.target.x.min,m.x.max=m.x.min+x;const w=js(this.layout.layoutBox.y);m.y.min=o.target.y.min,m.y.max=m.y.min+w}Ci(u,m),uh(u,g),Hg(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mee),this.sharedNodes.get(o).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:m}={}){const f=this.getStack();f&&f.promote(this,m),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:m}=o;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const f={};m.z&&y2("z",o,f,this.animationValues);for(let g=0;g<v2.length;g++)y2(`rotate${v2[g]}`,o,f,this.animationValues),y2(`skew${v2[g]}`,o,f,this.animationValues);o.render();for(const g in f)o.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=cv(u==null?void 0:u.pointerEvents)||"",o.transform=m?m(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=cv(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!sd(this.latestValues)&&(o.transform=m?m({},""):"none",this.hasProjected=!1);return}o.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let x=gee(this.projectionDeltaWithTransform,this.treeScale,g);m&&(x=m(g,x)),o.transform=x;const{x:w,y:_}=this.projectionDelta;o.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,f.animationValues?o.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:o.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in tp){if(g[C]===void 0)continue;const{correct:A,applyTo:E,isCSSVariable:M}=tp[C],D=x==="none"?g[C]:A(g[C],f);if(E){const R=E.length;for(let z=0;z<R;z++)o[E[z]]=D}else M?this.options.visualElement.renderState.vars[C]=D:o[C]=D}this.options.layoutId&&(o.pointerEvents=f===this?cv(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(pD),this.root.sharedNodes.clear()}}}function vee(e){e.updateLayout()}function yee(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Pi(x=>{const w=o?t.measuredBox[x]:t.layoutBox[x],_=js(w);w.min=r[x].min,w.max=w.min+_}):UL(i,t.layoutBox,r)&&Pi(x=>{const w=o?t.measuredBox[x]:t.layoutBox[x],_=js(r[x]);w.max=w.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+_)});const u=dh();Hg(u,r,t.layoutBox);const m=dh();o?Hg(m,e.applyTransform(s,!0),t.measuredBox):Hg(m,r,t.layoutBox);const f=!IL(u);let g=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:w,layout:_}=x;if(w&&_){const C=$r();qg(C,t.layoutBox,w.layoutBox);const A=$r();qg(A,r,_.layoutBox),LL(C,A)||(g=!0),x.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=C,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function bee(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jee(e){e.clearSnapshot()}function pD(e){e.clearMeasurements()}function xD(e){e.isLayoutDirty=!1}function Nee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function See(e){e.resolveTargetDelta()}function _ee(e){e.calcProjection()}function Eee(e){e.resetSkewAndRotation()}function Aee(e){e.removeLeadSnapshot()}function yD(e,t,n){e.translate=Sr(t.translate,0,n),e.scale=Sr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bD(e,t,n,r){e.min=Sr(t.min,n.min,r),e.max=Sr(t.max,n.max,r)}function Cee(e,t,n,r){bD(e.x,t.x,n.x,r),bD(e.y,t.y,n.y,r)}function Tee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Oee={duration:.45,ease:[.4,0,.1,1]},wD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jD=wD("applewebkit/")&&!wD("chrome/")?Math.round:Ii;function ND(e){e.min=jD(e.min),e.max=jD(e.max)}function Mee(e){ND(e.x),ND(e.y)}function UL(e,t,n){return e==="position"||e==="preserve-aspect"&&!LJ(mD(t),mD(n),.2)}function Dee(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Pee=FL({attachResizeListener:(e,t)=>np(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),b2={current:void 0},zL=FL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!b2.current){const e=new Pee({});e.mount(window),e.setOptions({layoutScroll:!0}),b2.current=e}return b2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ree={pan:{Feature:ZJ},drag:{Feature:QJ,ProjectionNode:zL,MeasureLayout:PL}};function SD(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&hr.postRender(()=>i(t,Rp(t)))}class kee extends yu{mount(){const{current:t}=this.node;t&&(this.unmount=aZ(t,(n,r)=>(SD(this.node,r,"Start"),s=>SD(this.node,s,"End"))))}unmount(){}}class Iee extends yu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mp(np(this.node.current,"focus",()=>this.onFocus()),np(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _D(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&hr.postRender(()=>i(t,Rp(t)))}class Lee extends yu{mount(){const{current:t}=this.node;t&&(this.unmount=lZ(t,(n,r)=>(_D(this.node,r,"Start"),(s,{success:i})=>_D(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jS=new WeakMap,w2=new WeakMap,Bee=e=>{const t=jS.get(e.target);t&&t(e)},Fee=e=>{e.forEach(Bee)};function Uee({root:e,...t}){const n=e||document;w2.has(n)||w2.set(n,{});const r=w2.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Fee,{root:e,...t})),r[s]}function zee(e,t,n){const r=Uee(t);return jS.set(e,n),r.observe(e),()=>{jS.delete(e),r.unobserve(e)}}const Vee={some:0,all:1};class $ee extends yu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Vee[s]},u=m=>{const{isIntersecting:f}=m;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),w=f?g:x;w&&w(m)};return zee(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Hee(t,n))&&this.startObserver()}unmount(){}}function Hee({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const qee={inView:{Feature:$ee},tap:{Feature:Lee},focus:{Feature:Iee},hover:{Feature:kee}},Yee={layout:{ProjectionNode:zL,MeasureLayout:PL}},Wee={...MJ,...qee,...Ree,...Yee},qe=WZ(Wee,iJ);function ED(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ly(...e){return t=>{let n=!1;const r=e.map(s=>{const i=ED(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ED(e[s],null)}}}}function Zt(...e){return j.useCallback(Ly(...e),e)}function ru(e){const t=Gee(e),n=j.forwardRef((r,s)=>{const{children:i,...o}=r,u=j.Children.toArray(i),m=u.find(Xee);if(m){const f=m.props.children,g=u.map(x=>x===m?j.Children.count(f)>1?j.Children.only(null):j.isValidElement(f)?f.props.children:null:x);return a.jsx(t,{...o,ref:s,children:j.isValidElement(f)?j.cloneElement(f,void 0,g):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var VL=ru("Slot");function Gee(e){const t=j.forwardRef((n,r)=>{const{children:s,...i}=n;if(j.isValidElement(s)){const o=Zee(s),u=Qee(i,s.props);return s.type!==j.Fragment&&(u.ref=r?Ly(r,o):o),j.cloneElement(s,u)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kee=Symbol("radix.slottable");function Xee(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kee}function Qee(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{const m=i(...u);return s(...u),m}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Zee(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $L(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$L(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$L(e))&&(r&&(r+=" "),r+=t);return r}const AD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,CD=ln,FE=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return CD(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(f=>{const g=n==null?void 0:n[f],x=i==null?void 0:i[f];if(g===null)return null;const w=AD(g)||AD(x);return s[f][w]}),u=n&&Object.entries(n).reduce((f,g)=>{let[x,w]=g;return w===void 0||(f[x]=w),f},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:x,className:w,..._}=g;return Object.entries(_).every(C=>{let[A,E]=C;return Array.isArray(E)?E.includes({...i,...u}[A]):{...i,...u}[A]===E})?[...f,x,w]:f},[]);return CD(e,o,m,n==null?void 0:n.class,n==null?void 0:n.className)},UE="-",Jee=e=>{const t=tte(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const u=o.split(UE);return u[0]===""&&u.length!==1&&u.shift(),HL(u,t)||ete(o)},getConflictingClassGroupIds:(o,u)=>{const m=n[o]||[];return u&&r[o]?[...m,...r[o]]:m}}},HL=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?HL(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(UE);return(o=t.validators.find(({validator:u})=>u(i)))==null?void 0:o.classGroupId},TD=/^\[(.+)\]$/,ete=e=>{if(TD.test(e)){const t=TD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},tte=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)NS(n[s],r,s,t);return r},NS=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:OD(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(nte(s)){NS(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{NS(o,OD(t,i),n,r)})})},OD=(e,t)=>{let n=e;return t.split(UE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},nte=e=>e.isThemeGetter,rte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},SS="!",_S=":",ate=_S.length,ste=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,u=0,m=0,f;for(let C=0;C<s.length;C++){let A=s[C];if(o===0&&u===0){if(A===_S){i.push(s.slice(m,C)),m=C+ate;continue}if(A==="/"){f=C;continue}}A==="["?o++:A==="]"?o--:A==="("?u++:A===")"&&u--}const g=i.length===0?s:s.substring(m),x=ite(g),w=x!==g,_=f&&f>m?f-m:void 0;return{modifiers:i,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:_}};if(t){const s=t+_S,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},ite=e=>e.endsWith(SS)?e.substring(0,e.length-1):e.startsWith(SS)?e.substring(1):e,ote=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},lte=e=>({cache:rte(e.cacheSize),parseClassName:ste(e),sortModifiers:ote(e),...Jee(e)}),cte=/\s+/,ute=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],u=e.trim().split(cte);let m="";for(let f=u.length-1;f>=0;f-=1){const g=u[f],{isExternal:x,modifiers:w,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:A}=n(g);if(x){m=g+(m.length>0?" "+m:m);continue}let E=!!A,M=r(E?C.substring(0,A):C);if(!M){if(!E){m=g+(m.length>0?" "+m:m);continue}if(M=r(C),!M){m=g+(m.length>0?" "+m:m);continue}E=!1}const D=i(w).join(":"),R=_?D+SS:D,z=R+M;if(o.includes(z))continue;o.push(z);const I=s(M,E);for(let k=0;k<I.length;++k){const F=I[k];o.push(R+F)}m=g+(m.length>0?" "+m:m)}return m};function dte(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qL(t))&&(r&&(r+=" "),r+=n);return r}const qL=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qL(e[r]))&&(n&&(n+=" "),n+=t);return n};function fte(e,...t){let n,r,s,i=o;function o(m){const f=t.reduce((g,x)=>x(g),e());return n=lte(f),r=n.cache.get,s=n.cache.set,i=u,u(m)}function u(m){const f=r(m);if(f)return f;const g=ute(m,n);return s(m,g),g}return function(){return i(dte.apply(null,arguments))}}const va=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},YL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,WL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hte=/^\d+\/\d+$/,mte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kf=e=>hte.test(e),Xt=e=>!!e&&!Number.isNaN(Number(e)),Bc=e=>!!e&&Number.isInteger(Number(e)),j2=e=>e.endsWith("%")&&Xt(e.slice(0,-1)),Al=e=>mte.test(e),yte=()=>!0,bte=e=>gte.test(e)&&!pte.test(e),GL=()=>!1,wte=e=>xte.test(e),jte=e=>vte.test(e),Nte=e=>!xt(e)&&!vt(e),Ste=e=>Jh(e,QL,GL),xt=e=>YL.test(e),rd=e=>Jh(e,ZL,bte),N2=e=>Jh(e,Tte,Xt),MD=e=>Jh(e,KL,GL),_te=e=>Jh(e,XL,jte),Dx=e=>Jh(e,JL,wte),vt=e=>WL.test(e),xg=e=>em(e,ZL),Ete=e=>em(e,Ote),DD=e=>em(e,KL),Ate=e=>em(e,QL),Cte=e=>em(e,XL),Px=e=>em(e,JL,!0),Jh=(e,t,n)=>{const r=YL.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},em=(e,t,n=!1)=>{const r=WL.exec(e);return r?r[1]?t(r[1]):n:!1},KL=e=>e==="position"||e==="percentage",XL=e=>e==="image"||e==="url",QL=e=>e==="length"||e==="size"||e==="bg-size",ZL=e=>e==="length",Tte=e=>e==="number",Ote=e=>e==="family-name",JL=e=>e==="shadow",Mte=()=>{const e=va("color"),t=va("font"),n=va("text"),r=va("font-weight"),s=va("tracking"),i=va("leading"),o=va("breakpoint"),u=va("container"),m=va("spacing"),f=va("radius"),g=va("shadow"),x=va("inset-shadow"),w=va("text-shadow"),_=va("drop-shadow"),C=va("blur"),A=va("perspective"),E=va("aspect"),M=va("ease"),D=va("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...z(),vt,xt],k=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],V=()=>[vt,xt,m],L=()=>[Kf,"full","auto",...V()],$=()=>[Bc,"none","subgrid",vt,xt],W=()=>["auto",{span:["full",Bc,vt,xt]},Bc,vt,xt],Y=()=>[Bc,"auto",vt,xt],Q=()=>["auto","min","max","fr",vt,xt],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...V()],J=()=>[Kf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],Z=()=>[e,vt,xt],de=()=>[...z(),DD,MD,{position:[vt,xt]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],pe=()=>["auto","cover","contain",Ate,Ste,{size:[vt,xt]}],Ne=()=>[j2,xg,rd],Se=()=>["","none","full",f,vt,xt],xe=()=>["",Xt,xg,rd],Pe=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Xt,j2,DD,MD],oe=()=>["","none",C,vt,xt],he=()=>["none",Xt,vt,xt],Re=()=>["none",Xt,vt,xt],be=()=>[Xt,vt,xt],ye=()=>[Kf,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Al],breakpoint:[Al],color:[yte],container:[Al],"drop-shadow":[Al],ease:["in","out","in-out"],font:[Nte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Al],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Al],shadow:[Al],spacing:["px",Xt],text:[Al],"text-shadow":[Al],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Kf,xt,vt,E]}],container:["container"],columns:[{columns:[Xt,xt,vt,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Bc,"auto",vt,xt]}],basis:[{basis:[Kf,"full","auto",u,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xt,Kf,"auto","initial","none",xt]}],grow:[{grow:["",Xt,vt,xt]}],shrink:[{shrink:["",Xt,vt,xt]}],order:[{order:[Bc,"first","last","none",vt,xt]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[u,"screen",...J()]}],"min-w":[{"min-w":[u,"screen","none",...J()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,xg,rd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,vt,N2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",j2,xt]}],"font-family":[{font:[Ete,xt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,vt,xt]}],"line-clamp":[{"line-clamp":[Xt,"none",vt,N2]}],leading:[{leading:[i,...V()]}],"list-image":[{"list-image":["none",vt,xt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",vt,xt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xt,"from-font","auto",vt,rd]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Xt,"auto",vt,xt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt,xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt,xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:pe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bc,vt,xt],radial:["",vt,xt],conic:[Bc,vt,xt]},Cte,_te]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:Ne()}],"gradient-via-pos":[{via:Ne()}],"gradient-to-pos":[{to:Ne()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:Se()}],"rounded-s":[{"rounded-s":Se()}],"rounded-e":[{"rounded-e":Se()}],"rounded-t":[{"rounded-t":Se()}],"rounded-r":[{"rounded-r":Se()}],"rounded-b":[{"rounded-b":Se()}],"rounded-l":[{"rounded-l":Se()}],"rounded-ss":[{"rounded-ss":Se()}],"rounded-se":[{"rounded-se":Se()}],"rounded-ee":[{"rounded-ee":Se()}],"rounded-es":[{"rounded-es":Se()}],"rounded-tl":[{"rounded-tl":Se()}],"rounded-tr":[{"rounded-tr":Se()}],"rounded-br":[{"rounded-br":Se()}],"rounded-bl":[{"rounded-bl":Se()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xt,vt,xt]}],"outline-w":[{outline:["",Xt,xg,rd]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",g,Px,Dx]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",x,Px,Dx]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Xt,rd]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",w,Px,Dx]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Xt,vt,xt]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[vt,xt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:pe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",vt,xt]}],filter:[{filter:["","none",vt,xt]}],blur:[{blur:oe()}],brightness:[{brightness:[Xt,vt,xt]}],contrast:[{contrast:[Xt,vt,xt]}],"drop-shadow":[{"drop-shadow":["","none",_,Px,Dx]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Xt,vt,xt]}],"hue-rotate":[{"hue-rotate":[Xt,vt,xt]}],invert:[{invert:["",Xt,vt,xt]}],saturate:[{saturate:[Xt,vt,xt]}],sepia:[{sepia:["",Xt,vt,xt]}],"backdrop-filter":[{"backdrop-filter":["","none",vt,xt]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[Xt,vt,xt]}],"backdrop-contrast":[{"backdrop-contrast":[Xt,vt,xt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xt,vt,xt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xt,vt,xt]}],"backdrop-invert":[{"backdrop-invert":["",Xt,vt,xt]}],"backdrop-opacity":[{"backdrop-opacity":[Xt,vt,xt]}],"backdrop-saturate":[{"backdrop-saturate":[Xt,vt,xt]}],"backdrop-sepia":[{"backdrop-sepia":["",Xt,vt,xt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",vt,xt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xt,"initial",vt,xt]}],ease:[{ease:["linear","initial",M,vt,xt]}],delay:[{delay:[Xt,vt,xt]}],animate:[{animate:["none",D,vt,xt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,vt,xt]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[vt,xt,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ye()}],"translate-x":[{"translate-x":ye()}],"translate-y":[{"translate-y":ye()}],"translate-z":[{"translate-z":ye()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt,xt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt,xt]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Xt,xg,rd,N2]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Dte=fte(Mte);function _t(...e){return Dte(ln(e))}const Pte=FE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function we({className:e,variant:t,size:n,asChild:r=!1,...s}){const i=r?VL:"button";return a.jsx(i,{"data-slot":"button",className:_t(Pte({variant:t,size:n,className:e})),...s})}function ue({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:_t("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Te({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:_t("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Oe({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:_t("leading-none font-semibold",e),...t})}function st({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:_t("text-muted-foreground text-sm",e),...t})}function fe({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:_t("px-6",e),...t})}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kte=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),PD=e=>{const t=kte(e);return t.charAt(0).toUpperCase()+t.slice(1)},eB=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Ite=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},m)=>j.createElement("svg",{ref:m,...Lte,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:eB("lucide",s),...!i&&!Ite(u)&&{"aria-hidden":"true"},...u},[...o.map(([f,g])=>j.createElement(f,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,t)=>{const n=j.forwardRef(({className:r,...s},i)=>j.createElement(Bte,{ref:i,iconNode:t,className:eB(`lucide-${Rte(PD(e))}`,`lucide-${e}`,r),...s}));return n.displayName=PD(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zE=nt("activity",Fte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],zte=nt("arrow-down-wide-narrow",Ute);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tm=nt("arrow-left",Vte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hd=nt("arrow-right",$te);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],qte=nt("arrow-up-down",Hte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],Wte=nt("arrow-up-narrow-wide",Yte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Kte=nt("award",Gte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ah=nt("bell",Xte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],RD=nt("building-2",Qte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Jte=nt("calendar-days",Zte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ra=nt("calendar",ene);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]],ES=nt("camera-off",tne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ph=nt("camera",nne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ls=nt("car",rne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kp=nt("chart-column",ane);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ine=nt("check-check",sne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ch=nt("check",one);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tB=nt("chevron-down",lne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],une=nt("chevron-right",cne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fne=nt("chevron-up",dne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rp=nt("circle-alert",hne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_r=nt("circle-check-big",mne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pne=nt("circle-check",gne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kD=nt("circle-question-mark",xne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],au=nt("circle-x",vne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bne=nt("clock-3",yne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hn=nt("clock",wne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],By=nt("copy",jne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Pa=nt("credit-card",Nne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Pg=nt("crown",Sne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sr=nt("dollar-sign",_ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],As=nt("download",Ene);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],nB=nt("external-link",Ane);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fs=nt("eye-off",Cne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wn=nt("eye",Tne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fy=nt("file-text",One);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nm=nt("funnel",Mne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],$o=nt("gift",Dne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],VE=nt("globe",Pne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],kne=nt("heart",Rne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ap=nt("history",Ine);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ev=nt("info",Lne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Fne=nt("layers",Bne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zne=nt("layout-dashboard",Une);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zs=nt("loader-circle",Vne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hne=nt("log-out",$ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Uy=nt("mail",qne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zo=nt("map-pin",Yne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Gne=nt("maximize",Wne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],AS=nt("megaphone",Kne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],ID=nt("menu",Xne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Th=nt("message-circle",Qne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],dv=nt("message-square",Zne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M5 12h14",key:"1ays0h"}]],rB=nt("minus",Jne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],LD=nt("monitor",ere);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],CS=nt("moon",tre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],BD=nt("navigation",nre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],FD=nt("percent",rre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],TS=nt("phone",are);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ss=nt("plus",sre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],OS=nt("printer",ire);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ir=nt("qr-code",ore);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],fv=nt("receipt",lre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Td=nt("refresh-cw",cre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aB=nt("save",ure);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$i=nt("search",dre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Od=nt("send",fre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],su=nt("settings",hre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],MS=nt("share-2",mre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],pre=nt("share",gre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qc=nt("shield-check",xre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cs=nt("shield",vre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],UD=nt("shopping-cart",yre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Yg=nt("smartphone",bre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$E=nt("sparkles",wre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sB=nt("square-pen",jre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sp=nt("star",Nre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],iu=nt("store",Sre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DS=nt("sun",_re);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rm=nt("target",Ere);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ca=nt("ticket",Are);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Tre=nt("timer",Cre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Av=nt("trash-2",Ore);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ql=nt("trending-down",Mre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xn=nt("trending-up",Dre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Er=nt("triangle-alert",Pre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PS=nt("user-check",Rre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],HE=nt("user-plus",kre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Lre=nt("user-x",Ire);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ou=nt("user",Bre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ba=nt("users",Fre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],lu=nt("wallet",Ure);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hd=nt("x",zre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jd=nt("zap",Vre),$re=[{icon:lu,title:"Digital Wallet",description:"Secure digital wallet with instant payments, balance management, and real-time transaction tracking."},{icon:ir,title:"QR Payments",description:"Lightning-fast QR code payments for transport, events, and merchant transactions."},{icon:ca,title:"Event Tickets",description:"Buy, manage, and validate event tickets with blockchain-secured authenticity."},{icon:cs,title:"Bank-Grade Security",description:"End-to-end encryption, multi-factor authentication, and fraud prevention."},{icon:Xn,title:"Analytics Dashboard",description:"Comprehensive insights into spending patterns, earnings, and financial health."},{icon:jd,title:"Instant Transfers",description:"Real-time money transfers with zero fees between Tickets users."}],Hre=[{icon:ba,value:"50,000+",label:"Active Users",growth:"+25% this month"},{icon:Pa,value:"$2.5M+",label:"Transaction Volume",growth:"+40% this quarter"},{icon:Zo,value:"12+",label:"Cities Covered",growth:"Expanding rapidly"},{icon:cs,value:"99.99%",label:"Uptime",growth:"Enterprise-grade"}],qre=[{name:"Ahmed Al-Rashid",role:"Business Owner",content:"Tickets transformed how I handle payments. The QR system is incredibly efficient for my restaurant.",avatar:"👨‍💼"},{name:"Sarah Hassan",role:"University Student",content:"Perfect for buying event tickets and managing my daily transport expenses. Love the analytics!",avatar:"👩‍🎓"},{name:"Omar Farouk",role:"Driver",content:"The driver platform is amazing. I can track my earnings in real-time and get paid instantly.",avatar:"🚗"}];function Yre(){const{t:e,language:t,setLanguage:n}=Ut();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),a.jsx("header",{className:"relative border-b border-white/10 bg-black/20 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto flex h-20 items-center justify-between px-4",children:[a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-10 w-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(we,{variant:"ghost",size:"sm",onClick:()=>n(t==="en"?"ar":"en"),className:"text-white/70 hover:text-white hover:bg-white/10",children:[a.jsx(VE,{className:"h-4 w-4 mr-2"}),t==="en"?"العربية":"English"]}),a.jsx(Qt,{to:"/login",children:a.jsx(we,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:"Sign In"})}),a.jsx(Qt,{to:"/register",children:a.jsx(we,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0",children:"Get Started"})})]})]})}),a.jsx("section",{className:"relative py-32",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[a.jsx($E,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-sm text-white/80",children:"The Future of Digital Payments"})]})}),a.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-8 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Digital Payments"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Reimagined"})]}),a.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Experience the next generation of digital payments with our comprehensive platform for wallets, QR payments, event tickets, and merchant solutions. Built for the modern economy."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-16",children:[a.jsx(Qt,{to:"/register",children:a.jsxs(we,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Start Your Journey",a.jsx(hd,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),a.jsx(Qt,{to:"/login",children:a.jsx(we,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Watch Demo"})})]}),a.jsx(qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.3},className:"relative mx-auto max-w-4xl",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),a.jsx("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-8 border border-white/10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl p-6 border border-blue-400/20",children:[a.jsx(lu,{className:"h-12 w-12 text-blue-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Digital Wallet"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Secure & instant"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-xl p-6 border border-purple-400/20",children:[a.jsx(ir,{className:"h-12 w-12 text-purple-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"QR Payments"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Lightning fast"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/20 to-indigo-600/20 rounded-xl p-6 border border-indigo-400/20",children:[a.jsx(ca,{className:"h-12 w-12 text-indigo-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Event Tickets"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Blockchain secured"})]})]})})]})})]})})}),a.jsx("section",{className:"relative py-20 border-y border-white/10 bg-black/20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:Hre.map((r,s)=>a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:a.jsx(r.icon,{className:"h-8 w-8 text-blue-400"})}),a.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:r.value}),a.jsx("div",{className:"text-gray-300 font-medium mb-1",children:r.label}),a.jsx("div",{className:"text-xs text-green-400",children:r.growth})]},r.label))})})}),a.jsx("section",{className:"relative py-32",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"text-center mb-20",children:a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Everything You Need"})}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"A comprehensive platform designed for individuals, businesses, and enterprises."})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:$re.map((r,s)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},children:a.jsxs(ue,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105",children:[a.jsxs(Te,{children:[a.jsx("div",{className:"mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:a.jsx(r.icon,{className:"h-7 w-7 text-blue-400"})}),a.jsx(Oe,{className:"text-xl text-white",children:r.title})]}),a.jsx(fe,{children:a.jsx(st,{className:"text-gray-400 leading-relaxed",children:r.description})})]})},r.title))})]})}),a.jsx("section",{className:"relative py-32 bg-black/20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Loved by Users"})}),a.jsx("p",{className:"text-xl text-gray-400",children:"Join thousands of satisfied users across the region"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:qre.map((r,s)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},children:a.jsx(ue,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10",children:a.jsxs(fe,{className:"p-6",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((i,o)=>a.jsx(sp,{className:"h-4 w-4 text-yellow-400 fill-current"},o))}),a.jsxs("p",{className:"text-gray-300 mb-6 italic",children:['"',r.content,'"']}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:r.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:r.name}),a.jsx("div",{className:"text-gray-400 text-sm",children:r.role})]})]})]})})},r.name))})]})}),a.jsx("section",{className:"relative py-32",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),a.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-16 border border-white/10",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:[a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Ready to Transform"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Your Payments?"})]}),a.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Join the digital payment revolution. Get started in minutes and experience the future of finance."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[a.jsx(Qt,{to:"/register",children:a.jsxs(we,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Get Started Now",a.jsx(hd,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),a.jsx(Qt,{to:"/login",children:a.jsx(we,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Talk to Sales"})})]})]})]})})}),a.jsx("footer",{className:"relative border-t border-white/10 bg-black/40 py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-8 w-8"}),a.jsx("h3",{className:"text-xl font-bold text-white",children:"Tickets"})]}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"The next generation digital payment platform, designed for the modern economy."}),a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"SOC 2 Type II Certified"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:"Digital Wallet"}),a.jsx("li",{children:"QR Payments"}),a.jsx("li",{children:"Event Tickets"}),a.jsx("li",{children:"Analytics"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:"About Us"}),a.jsx("li",{children:"Careers"}),a.jsx("li",{children:"Contact"}),a.jsx("li",{children:"Support"})]})]})]}),a.jsx("div",{className:"border-t border-white/10 pt-8 text-center",children:a.jsx("p",{className:"text-gray-400",children:"© 2024 Tickets. All rights reserved. | Built with ❤️ for the future of payments."})})]})})]})}function dt({className:e,type:t,...n}){return a.jsx("input",{type:t,"data-slot":"input",className:_t("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var Wre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],St=Wre.reduce((e,t)=>{const n=ru(`Primitive.${t}`),r=j.forwardRef((s,i)=>{const{asChild:o,...u}=s,m=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function iB(e,t){e&&$d.flushSync(()=>e.dispatchEvent(t))}var Gre="Label",oB=j.forwardRef((e,t)=>a.jsx(St.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oB.displayName=Gre;var Kre=oB;function ze({className:e,...t}){return a.jsx(Kre,{"data-slot":"label",className:_t("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const Xre=FE("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function us({className:e,variant:t,...n}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:_t(Xre({variant:t}),e),...n})}function ds({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:_t("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function Qre(e,t){const n=j.createContext(t),r=i=>{const{children:o,...u}=i,m=j.useMemo(()=>u,Object.values(u));return a.jsx(n.Provider,{value:m,children:o})};r.displayName=e+"Provider";function s(i){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function $s(e,t=[]){let n=[];function r(i,o){const u=j.createContext(o),m=n.length;n=[...n,o];const f=x=>{var M;const{scope:w,children:_,...C}=x,A=((M=w==null?void 0:w[e])==null?void 0:M[m])||u,E=j.useMemo(()=>C,Object.values(C));return a.jsx(A.Provider,{value:E,children:_})};f.displayName=i+"Provider";function g(x,w){var A;const _=((A=w==null?void 0:w[e])==null?void 0:A[m])||u,C=j.useContext(_);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${x}\` must be used within \`${i}\``)}return[f,g]}const s=()=>{const i=n.map(o=>j.createContext(o));return function(u){const m=(u==null?void 0:u[e])||i;return j.useMemo(()=>({[`__scope${e}`]:{...u,[e]:m}}),[u,m])}};return s.scopeName=e,[r,Zre(s,...t)]}function Zre(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((u,{useScope:m,scopeName:f})=>{const x=m(i)[`__scope${f}`];return{...u,...x}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function lt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var ua=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},Jre=p6[" useInsertionEffect ".trim().toString()]||ua;function Yl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=eae({defaultProp:t,onChange:n}),u=e!==void 0,m=u?e:s;{const g=j.useRef(e!==void 0);j.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const f=j.useCallback(g=>{var x;if(u){const w=tae(g)?g(e):g;w!==e&&((x=o.current)==null||x.call(o,w))}else i(g)},[u,e,i,o]);return[m,f]}function eae({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),s=j.useRef(n),i=j.useRef(t);return Jre(()=>{i.current=t},[t]),j.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function tae(e){return typeof e=="function"}function qE(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function YE(e){const[t,n]=j.useState(void 0);return ua(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,u;if("borderBoxSize"in i){const m=i.borderBoxSize,f=Array.isArray(m)?m[0]:m;o=f.inlineSize,u=f.blockSize}else o=e.offsetWidth,u=e.offsetHeight;n({width:o,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function nae(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var ms=e=>{const{present:t,children:n}=e,r=rae(t),s=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),i=Zt(r.ref,aae(s));return typeof n=="function"||r.isPresent?j.cloneElement(s,{ref:i}):null};ms.displayName="Presence";function rae(e){const[t,n]=j.useState(),r=j.useRef(null),s=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[u,m]=nae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const f=Rx(r.current);i.current=u==="mounted"?f:"none"},[u]),ua(()=>{const f=r.current,g=s.current;if(g!==e){const w=i.current,_=Rx(f);e?m("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?m("UNMOUNT"):m(g&&w!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,m]),ua(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,x=_=>{const A=Rx(r.current).includes(_.animationName);if(_.target===t&&A&&(m("ANIMATION_END"),!s.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},w=_=>{_.target===t&&(i.current=Rx(r.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Rx(e){return(e==null?void 0:e.animationName)||"none"}function aae(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zy="Checkbox",[sae,ETe]=$s(zy),[iae,WE]=sae(zy);function oae(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:u,onCheckedChange:m,required:f,value:g="on",internal_do_not_use_render:x}=e,[w,_]=Yl({prop:n,defaultProp:s??!1,onChange:m,caller:zy}),[C,A]=j.useState(null),[E,M]=j.useState(null),D=j.useRef(!1),R=C?!!o||!!C.closest("form"):!0,z={checked:w,disabled:i,setChecked:_,control:C,setControl:A,name:u,form:o,value:g,hasConsumerStoppedPropagationRef:D,required:f,defaultChecked:Zc(s)?!1:s,isFormControl:R,bubbleInput:E,setBubbleInput:M};return a.jsx(iae,{scope:t,...z,children:lae(x)?x(z):r})}var lB="CheckboxTrigger",cB=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:u,checked:m,required:f,setControl:g,setChecked:x,hasConsumerStoppedPropagationRef:w,isFormControl:_,bubbleInput:C}=WE(lB,e),A=Zt(s,g),E=j.useRef(m);return j.useEffect(()=>{const M=i==null?void 0:i.form;if(M){const D=()=>x(E.current);return M.addEventListener("reset",D),()=>M.removeEventListener("reset",D)}},[i,x]),a.jsx(St.button,{type:"button",role:"checkbox","aria-checked":Zc(m)?"mixed":m,"aria-required":f,"data-state":gB(m),"data-disabled":u?"":void 0,disabled:u,value:o,...r,ref:A,onKeyDown:lt(t,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:lt(n,M=>{x(D=>Zc(D)?!0:!D),C&&_&&(w.current=M.isPropagationStopped(),w.current||M.stopPropagation())})})});cB.displayName=lB;var uB=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:u,value:m,onCheckedChange:f,form:g,...x}=e;return a.jsx(oae,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:u,required:o,onCheckedChange:f,name:r,form:g,value:m,internal_do_not_use_render:({isFormControl:w})=>a.jsxs(a.Fragment,{children:[a.jsx(cB,{...x,ref:t,__scopeCheckbox:n}),w&&a.jsx(mB,{__scopeCheckbox:n})]})})});uB.displayName=zy;var dB="CheckboxIndicator",fB=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=WE(dB,n);return a.jsx(ms,{present:r||Zc(i.checked)||i.checked===!0,children:a.jsx(St.span,{"data-state":gB(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});fB.displayName=dB;var hB="CheckboxBubbleInput",mB=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:u,disabled:m,name:f,value:g,form:x,bubbleInput:w,setBubbleInput:_}=WE(hB,e),C=Zt(n,_),A=qE(i),E=YE(r);j.useEffect(()=>{const D=w;if(!D)return;const R=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(R,"checked").set,k=!s.current;if(A!==i&&I){const F=new Event("click",{bubbles:k});D.indeterminate=Zc(i),I.call(D,Zc(i)?!1:i),D.dispatchEvent(F)}},[w,A,i,s]);const M=j.useRef(Zc(i)?!1:i);return a.jsx(St.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??M.current,required:u,disabled:m,name:f,value:g,form:x,...t,tabIndex:-1,ref:C,style:{...t.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mB.displayName=hB;function lae(e){return typeof e=="function"}function Zc(e){return e==="indeterminate"}function gB(e){return Zc(e)?"indeterminate":e?"checked":"unchecked"}function cu({className:e,...t}){return a.jsx(uB,{"data-slot":"checkbox",className:_t("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(fB,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Ch,{className:"size-3.5"})})})}function cae(){const[e,t]=j.useState({email:"",password:""}),[n,r]=j.useState(!1),[s,i]=j.useState(!1),[o,u]=j.useState(""),[m,f]=j.useState(!1),{signIn:g}=$t(),{t:x}=Ut(),w=po(),_=async A=>{A.preventDefault(),u(""),f(!0);try{const{error:E}=await g(e.email,e.password,s);E?u(E.message):w("/")}catch{u("An unexpected error occurred")}finally{f(!1)}},C=(A,E)=>{t(M=>({...M,[A]:E}))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Qt,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(tm,{className:"h-4 w-4"}),x("registration.backToHome")]}),a.jsxs(qe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx($E,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-white/70 text-sm",children:x("login.welcomeBack")})]})]}),a.jsxs(ue,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Te,{className:"text-center pb-2",children:[a.jsx(Oe,{className:"text-2xl font-bold text-white",children:x("auth.signIn")}),a.jsx(st,{className:"text-gray-400",children:x("auth.accessDescription")})]}),a.jsxs(fe,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o&&a.jsx(us,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ds,{className:"text-red-400",children:o})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"email",className:"text-white",children:x("auth.email")}),a.jsx(dt,{id:"email",type:"email",value:e.email,onChange:A=>C("email",A.target.value),placeholder:x("auth.emailPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"password",className:"text-white",children:x("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"password",type:n?"text":"password",value:e.password,onChange:A=>C("password",A.target.value),placeholder:x("auth.enterPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cu,{id:"rememberMe",checked:s,onCheckedChange:A=>i(A),className:"border-white/20 data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),a.jsx(ze,{htmlFor:"rememberMe",className:"text-gray-400 text-sm cursor-pointer",children:x("auth.rememberMe")})]}),a.jsx(Qt,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors",children:x("auth.forgotPassword")})]}),a.jsx(qe.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:a.jsxs(we,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",disabled:m,children:[m&&a.jsx(zs,{className:"mr-2 h-5 w-5 animate-spin"}),x("auth.signIn")]})})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[x("auth.dontHaveAccount")," ",a.jsx(Qt,{to:"/register",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:x("auth.signUpHere")})]})})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:x("login.secure")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:x("login.encrypted")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:x("login.private")})]})]})})]})]})}function RS(e,[t,n]){return Math.min(n,Math.max(t,e))}function GE(e){const t=e+"CollectionProvider",[n,r]=$s(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=A=>{const{scope:E,children:M}=A,D=at.useRef(null),R=at.useRef(new Map).current;return a.jsx(s,{scope:E,itemMap:R,collectionRef:D,children:M})};o.displayName=t;const u=e+"CollectionSlot",m=ru(u),f=at.forwardRef((A,E)=>{const{scope:M,children:D}=A,R=i(u,M),z=Zt(E,R.collectionRef);return a.jsx(m,{ref:z,children:D})});f.displayName=u;const g=e+"CollectionItemSlot",x="data-radix-collection-item",w=ru(g),_=at.forwardRef((A,E)=>{const{scope:M,children:D,...R}=A,z=at.useRef(null),I=Zt(E,z),k=i(g,M);return at.useEffect(()=>(k.itemMap.set(z,{ref:z,...R}),()=>void k.itemMap.delete(z))),a.jsx(w,{[x]:"",ref:I,children:D})});_.displayName=g;function C(A){const E=i(e+"CollectionConsumer",A);return at.useCallback(()=>{const D=E.collectionRef.current;if(!D)return[];const R=Array.from(D.querySelectorAll(`[${x}]`));return Array.from(E.itemMap.values()).sort((k,F)=>R.indexOf(k.ref.current)-R.indexOf(F.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:f,ItemSlot:_},C,r]}var uae=j.createContext(void 0);function Ip(e){const t=j.useContext(uae);return e||t||"ltr"}function Oa(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function dae(e,t=globalThis==null?void 0:globalThis.document){const n=Oa(e);j.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var fae="DismissableLayer",kS="dismissableLayer.update",hae="dismissableLayer.pointerDownOutside",mae="dismissableLayer.focusOutside",zD,pB=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lp=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...m}=e,f=j.useContext(pB),[g,x]=j.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=j.useState({}),C=Zt(t,F=>x(F)),A=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(E),D=g?A.indexOf(g):-1,R=f.layersWithOutsidePointerEventsDisabled.size>0,z=D>=M,I=xae(F=>{const V=F.target,L=[...f.branches].some($=>$.contains(V));!z||L||(s==null||s(F),o==null||o(F),F.defaultPrevented||u==null||u())},w),k=vae(F=>{const V=F.target;[...f.branches].some($=>$.contains(V))||(i==null||i(F),o==null||o(F),F.defaultPrevented||u==null||u())},w);return dae(F=>{D===f.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&u&&(F.preventDefault(),u()))},w),j.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(zD=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),VD(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=zD)}},[g,w,n,f]),j.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),VD())},[g,f]),j.useEffect(()=>{const F=()=>_({});return document.addEventListener(kS,F),()=>document.removeEventListener(kS,F)},[]),a.jsx(St.div,{...m,ref:C,style:{pointerEvents:R?z?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,I.onPointerDownCapture)})});Lp.displayName=fae;var gae="DismissableLayerBranch",pae=j.forwardRef((e,t)=>{const n=j.useContext(pB),r=j.useRef(null),s=Zt(t,r);return j.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(St.div,{...e,ref:s})});pae.displayName=gae;function xae(e,t=globalThis==null?void 0:globalThis.document){const n=Oa(e),r=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let m=function(){xB(hae,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=m,t.addEventListener("click",s.current,{once:!0})):m()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function vae(e,t=globalThis==null?void 0:globalThis.document){const n=Oa(e),r=j.useRef(!1);return j.useEffect(()=>{const s=i=>{i.target&&!r.current&&xB(mae,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VD(){const e=new CustomEvent(kS);document.dispatchEvent(e)}function xB(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?iB(s,i):s.dispatchEvent(i)}var S2=0;function Vy(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$D()),document.body.insertAdjacentElement("beforeend",e[1]??$D()),S2++,()=>{S2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),S2--}},[])}function $D(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _2="focusScope.autoFocusOnMount",E2="focusScope.autoFocusOnUnmount",HD={bubbles:!1,cancelable:!0},yae="FocusScope",Bp=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[u,m]=j.useState(null),f=Oa(s),g=Oa(i),x=j.useRef(null),w=Zt(t,A=>m(A)),_=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let A=function(R){if(_.paused||!u)return;const z=R.target;u.contains(z)?x.current=z:Wc(x.current,{select:!0})},E=function(R){if(_.paused||!u)return;const z=R.relatedTarget;z!==null&&(u.contains(z)||Wc(x.current,{select:!0}))},M=function(R){if(document.activeElement===document.body)for(const I of R)I.removedNodes.length>0&&Wc(u)};document.addEventListener("focusin",A),document.addEventListener("focusout",E);const D=new MutationObserver(M);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",E),D.disconnect()}}},[r,u,_.paused]),j.useEffect(()=>{if(u){YD.add(_);const A=document.activeElement;if(!u.contains(A)){const M=new CustomEvent(_2,HD);u.addEventListener(_2,f),u.dispatchEvent(M),M.defaultPrevented||(bae(_ae(vB(u)),{select:!0}),document.activeElement===A&&Wc(u))}return()=>{u.removeEventListener(_2,f),setTimeout(()=>{const M=new CustomEvent(E2,HD);u.addEventListener(E2,g),u.dispatchEvent(M),M.defaultPrevented||Wc(A??document.body,{select:!0}),u.removeEventListener(E2,g),YD.remove(_)},0)}}},[u,f,g,_]);const C=j.useCallback(A=>{if(!n&&!r||_.paused)return;const E=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,M=document.activeElement;if(E&&M){const D=A.currentTarget,[R,z]=wae(D);R&&z?!A.shiftKey&&M===z?(A.preventDefault(),n&&Wc(R,{select:!0})):A.shiftKey&&M===R&&(A.preventDefault(),n&&Wc(z,{select:!0})):M===D&&A.preventDefault()}},[n,r,_.paused]);return a.jsx(St.div,{tabIndex:-1,...o,ref:w,onKeyDown:C})});Bp.displayName=yae;function bae(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Wc(r,{select:t}),document.activeElement!==n)return}function wae(e){const t=vB(e),n=qD(t,e),r=qD(t.reverse(),e);return[n,r]}function vB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qD(e,t){for(const n of e)if(!jae(n,{upTo:t}))return n}function jae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Nae(e){return e instanceof HTMLInputElement&&"select"in e}function Wc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Nae(e)&&t&&e.select()}}var YD=Sae();function Sae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=WD(e,t),e.unshift(t)},remove(t){var n;e=WD(e,t),(n=e[0])==null||n.resume()}}}function WD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function _ae(e){return e.filter(t=>t.tagName!=="A")}var Eae=p6[" useId ".trim().toString()]||(()=>{}),Aae=0;function uo(e){const[t,n]=j.useState(Eae());return ua(()=>{n(r=>r??String(Aae++))},[e]),t?`radix-${t}`:""}const Cae=["top","right","bottom","left"],uu=Math.min,ii=Math.max,Cv=Math.round,kx=Math.floor,Ko=e=>({x:e,y:e}),Tae={left:"right",right:"left",bottom:"top",top:"bottom"},Oae={start:"end",end:"start"};function IS(e,t,n){return ii(e,uu(t,n))}function Wl(e,t){return typeof e=="function"?e(t):e}function Gl(e){return e.split("-")[0]}function am(e){return e.split("-")[1]}function KE(e){return e==="x"?"y":"x"}function XE(e){return e==="y"?"height":"width"}const Mae=new Set(["top","bottom"]);function Ho(e){return Mae.has(Gl(e))?"y":"x"}function QE(e){return KE(Ho(e))}function Dae(e,t,n){n===void 0&&(n=!1);const r=am(e),s=QE(e),i=XE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Tv(o)),[o,Tv(o)]}function Pae(e){const t=Tv(e);return[LS(e),t,LS(t)]}function LS(e){return e.replace(/start|end/g,t=>Oae[t])}const GD=["left","right"],KD=["right","left"],Rae=["top","bottom"],kae=["bottom","top"];function Iae(e,t,n){switch(e){case"top":case"bottom":return n?t?KD:GD:t?GD:KD;case"left":case"right":return t?Rae:kae;default:return[]}}function Lae(e,t,n,r){const s=am(e);let i=Iae(Gl(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(LS)))),i}function Tv(e){return e.replace(/left|right|bottom|top/g,t=>Tae[t])}function Bae(e){return{top:0,right:0,bottom:0,left:0,...e}}function yB(e){return typeof e!="number"?Bae(e):{top:e,right:e,bottom:e,left:e}}function Ov(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function XD(e,t,n){let{reference:r,floating:s}=e;const i=Ho(t),o=QE(t),u=XE(o),m=Gl(t),f=i==="y",g=r.x+r.width/2-s.width/2,x=r.y+r.height/2-s.height/2,w=r[u]/2-s[u]/2;let _;switch(m){case"top":_={x:g,y:r.y-s.height};break;case"bottom":_={x:g,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:x};break;case"left":_={x:r.x-s.width,y:x};break;default:_={x:r.x,y:r.y}}switch(am(t)){case"start":_[o]-=w*(n&&f?-1:1);break;case"end":_[o]+=w*(n&&f?-1:1);break}return _}const Fae=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,u=i.filter(Boolean),m=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:g,y:x}=XD(f,r,m),w=r,_={},C=0;for(let A=0;A<u.length;A++){const{name:E,fn:M}=u[A],{x:D,y:R,data:z,reset:I}=await M({x:g,y:x,initialPlacement:r,placement:w,strategy:s,middlewareData:_,rects:f,platform:o,elements:{reference:e,floating:t}});g=D??g,x=R??x,_={..._,[E]:{..._[E],...z}},I&&C<=50&&(C++,typeof I=="object"&&(I.placement&&(w=I.placement),I.rects&&(f=I.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:g,y:x}=XD(f,w,m)),A=-1)}return{x:g,y:x,placement:w,strategy:s,middlewareData:_}};async function ip(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:m}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:w=!1,padding:_=0}=Wl(t,e),C=yB(_),E=u[w?x==="floating"?"reference":"floating":x],M=Ov(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:m})),D=x==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),z=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},I=Ov(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:R,strategy:m}):D);return{top:(M.top-I.top+C.top)/z.y,bottom:(I.bottom-M.bottom+C.bottom)/z.y,left:(M.left-I.left+C.left)/z.x,right:(I.right-M.right+C.right)/z.x}}const Uae=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:m}=t,{element:f,padding:g=0}=Wl(e,t)||{};if(f==null)return{};const x=yB(g),w={x:n,y:r},_=QE(s),C=XE(_),A=await o.getDimensions(f),E=_==="y",M=E?"top":"left",D=E?"bottom":"right",R=E?"clientHeight":"clientWidth",z=i.reference[C]+i.reference[_]-w[_]-i.floating[C],I=w[_]-i.reference[_],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let F=k?k[R]:0;(!F||!await(o.isElement==null?void 0:o.isElement(k)))&&(F=u.floating[R]||i.floating[C]);const V=z/2-I/2,L=F/2-A[C]/2-1,$=uu(x[M],L),W=uu(x[D],L),Y=$,Q=F-A[C]-W,X=F/2-A[C]/2+V,G=IS(Y,X,Q),H=!m.arrow&&am(s)!=null&&X!==G&&i.reference[C]/2-(X<Y?$:W)-A[C]/2<0,J=H?X<Y?X-Y:X-Q:0;return{[_]:w[_]+J,data:{[_]:G,centerOffset:X-G-J,...H&&{alignmentOffset:J}},reset:H}}}),zae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:m,elements:f}=t,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:A=!0,...E}=Wl(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const M=Gl(s),D=Ho(u),R=Gl(u)===u,z=await(m.isRTL==null?void 0:m.isRTL(f.floating)),I=w||(R||!A?[Tv(u)]:Pae(u)),k=C!=="none";!w&&k&&I.push(...Lae(u,A,C,z));const F=[u,...I],V=await ip(t,E),L=[];let $=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&L.push(V[M]),x){const X=Dae(s,o,z);L.push(V[X[0]],V[X[1]])}if($=[...$,{placement:s,overflows:L}],!L.every(X=>X<=0)){var W,Y;const X=(((W=i.flip)==null?void 0:W.index)||0)+1,G=F[X];if(G&&(!(x==="alignment"?D!==Ho(G):!1)||$.every(Z=>Ho(Z.placement)===D?Z.overflows[0]>0:!0)))return{data:{index:X,overflows:$},reset:{placement:G}};let H=(Y=$.filter(J=>J.overflows[0]<=0).sort((J,Z)=>J.overflows[1]-Z.overflows[1])[0])==null?void 0:Y.placement;if(!H)switch(_){case"bestFit":{var Q;const J=(Q=$.filter(Z=>{if(k){const de=Ho(Z.placement);return de===D||de==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(de=>de>0).reduce((de,re)=>de+re,0)]).sort((Z,de)=>Z[1]-de[1])[0])==null?void 0:Q[0];J&&(H=J);break}case"initialPlacement":H=u;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function QD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ZD(e){return Cae.some(t=>e[t]>=0)}const Vae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Wl(e,t);switch(r){case"referenceHidden":{const i=await ip(t,{...s,elementContext:"reference"}),o=QD(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ZD(o)}}}case"escaped":{const i=await ip(t,{...s,altBoundary:!0}),o=QD(i,n.floating);return{data:{escapedOffsets:o,escaped:ZD(o)}}}default:return{}}}}},bB=new Set(["left","top"]);async function $ae(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Gl(n),u=am(n),m=Ho(n)==="y",f=bB.has(o)?-1:1,g=i&&m?-1:1,x=Wl(t,e);let{mainAxis:w,crossAxis:_,alignmentAxis:C}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof C=="number"&&(_=u==="end"?C*-1:C),m?{x:_*g,y:w*f}:{x:w*f,y:_*g}}const Hae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:u}=t,m=await $ae(t,e);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+m.x,y:i+m.y,data:{...m,placement:o}}}}},qae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:u={fn:E=>{let{x:M,y:D}=E;return{x:M,y:D}}},...m}=Wl(e,t),f={x:n,y:r},g=await ip(t,m),x=Ho(Gl(s)),w=KE(x);let _=f[w],C=f[x];if(i){const E=w==="y"?"top":"left",M=w==="y"?"bottom":"right",D=_+g[E],R=_-g[M];_=IS(D,_,R)}if(o){const E=x==="y"?"top":"left",M=x==="y"?"bottom":"right",D=C+g[E],R=C-g[M];C=IS(D,C,R)}const A=u.fn({...t,[w]:_,[x]:C});return{...A,data:{x:A.x-n,y:A.y-r,enabled:{[w]:i,[x]:o}}}}}},Yae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:u=0,mainAxis:m=!0,crossAxis:f=!0}=Wl(e,t),g={x:n,y:r},x=Ho(s),w=KE(x);let _=g[w],C=g[x];const A=Wl(u,t),E=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(m){const R=w==="y"?"height":"width",z=i.reference[w]-i.floating[R]+E.mainAxis,I=i.reference[w]+i.reference[R]-E.mainAxis;_<z?_=z:_>I&&(_=I)}if(f){var M,D;const R=w==="y"?"width":"height",z=bB.has(Gl(s)),I=i.reference[x]-i.floating[R]+(z&&((M=o.offset)==null?void 0:M[x])||0)+(z?0:E.crossAxis),k=i.reference[x]+i.reference[R]+(z?0:((D=o.offset)==null?void 0:D[x])||0)-(z?E.crossAxis:0);C<I?C=I:C>k&&(C=k)}return{[w]:_,[x]:C}}}},Wae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:u}=t,{apply:m=()=>{},...f}=Wl(e,t),g=await ip(t,f),x=Gl(s),w=am(s),_=Ho(s)==="y",{width:C,height:A}=i.floating;let E,M;x==="top"||x==="bottom"?(E=x,M=w===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(M=x,E=w==="end"?"top":"bottom");const D=A-g.top-g.bottom,R=C-g.left-g.right,z=uu(A-g[E],D),I=uu(C-g[M],R),k=!t.middlewareData.shift;let F=z,V=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(V=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=D),k&&!w){const $=ii(g.left,0),W=ii(g.right,0),Y=ii(g.top,0),Q=ii(g.bottom,0);_?V=C-2*($!==0||W!==0?$+W:ii(g.left,g.right)):F=A-2*(Y!==0||Q!==0?Y+Q:ii(g.top,g.bottom))}await m({...t,availableWidth:V,availableHeight:F});const L=await o.getDimensions(u.floating);return C!==L.width||A!==L.height?{reset:{rects:!0}}:{}}}};function $y(){return typeof window<"u"}function sm(e){return wB(e)?(e.nodeName||"").toLowerCase():"#document"}function di(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sl(e){var t;return(t=(wB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wB(e){return $y()?e instanceof Node||e instanceof di(e).Node:!1}function fo(e){return $y()?e instanceof Element||e instanceof di(e).Element:!1}function Jo(e){return $y()?e instanceof HTMLElement||e instanceof di(e).HTMLElement:!1}function JD(e){return!$y()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof di(e).ShadowRoot}const Gae=new Set(["inline","contents"]);function Fp(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ho(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Gae.has(s)}const Kae=new Set(["table","td","th"]);function Xae(e){return Kae.has(sm(e))}const Qae=[":popover-open",":modal"];function Hy(e){return Qae.some(t=>{try{return e.matches(t)}catch{return!1}})}const Zae=["transform","translate","scale","rotate","perspective"],Jae=["transform","translate","scale","rotate","perspective","filter"],ese=["paint","layout","strict","content"];function ZE(e){const t=JE(),n=fo(e)?ho(e):e;return Zae.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Jae.some(r=>(n.willChange||"").includes(r))||ese.some(r=>(n.contain||"").includes(r))}function tse(e){let t=du(e);for(;Jo(t)&&!Oh(t);){if(ZE(t))return t;if(Hy(t))return null;t=du(t)}return null}function JE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nse=new Set(["html","body","#document"]);function Oh(e){return nse.has(sm(e))}function ho(e){return di(e).getComputedStyle(e)}function qy(e){return fo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function du(e){if(sm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JD(e)&&e.host||sl(e);return JD(t)?t.host:t}function jB(e){const t=du(e);return Oh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jo(t)&&Fp(t)?t:jB(t)}function op(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=jB(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=di(s);if(i){const u=BS(o);return t.concat(o,o.visualViewport||[],Fp(s)?s:[],u&&n?op(u):[])}return t.concat(s,op(s,[],n))}function BS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NB(e){const t=ho(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Jo(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,u=Cv(n)!==i||Cv(r)!==o;return u&&(n=i,r=o),{width:n,height:r,$:u}}function eA(e){return fo(e)?e:e.contextElement}function xh(e){const t=eA(e);if(!Jo(t))return Ko(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=NB(t);let o=(i?Cv(n.width):n.width)/r,u=(i?Cv(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const rse=Ko(0);function SB(e){const t=di(e);return!JE()||!t.visualViewport?rse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ase(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==di(e)?!1:t}function Md(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=eA(e);let o=Ko(1);t&&(r?fo(r)&&(o=xh(r)):o=xh(e));const u=ase(i,n,r)?SB(i):Ko(0);let m=(s.left+u.x)/o.x,f=(s.top+u.y)/o.y,g=s.width/o.x,x=s.height/o.y;if(i){const w=di(i),_=r&&fo(r)?di(r):r;let C=w,A=BS(C);for(;A&&r&&_!==C;){const E=xh(A),M=A.getBoundingClientRect(),D=ho(A),R=M.left+(A.clientLeft+parseFloat(D.paddingLeft))*E.x,z=M.top+(A.clientTop+parseFloat(D.paddingTop))*E.y;m*=E.x,f*=E.y,g*=E.x,x*=E.y,m+=R,f+=z,C=di(A),A=BS(C)}}return Ov({width:g,height:x,x:m,y:f})}function tA(e,t){const n=qy(e).scrollLeft;return t?t.left+n:Md(sl(e)).left+n}function _B(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:tA(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function sse(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=sl(r),u=t?Hy(t.floating):!1;if(r===o||u&&i)return n;let m={scrollLeft:0,scrollTop:0},f=Ko(1);const g=Ko(0),x=Jo(r);if((x||!x&&!i)&&((sm(r)!=="body"||Fp(o))&&(m=qy(r)),Jo(r))){const _=Md(r);f=xh(r),g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}const w=o&&!x&&!i?_B(o,m,!0):Ko(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-m.scrollLeft*f.x+g.x+w.x,y:n.y*f.y-m.scrollTop*f.y+g.y+w.y}}function ise(e){return Array.from(e.getClientRects())}function ose(e){const t=sl(e),n=qy(e),r=e.ownerDocument.body,s=ii(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ii(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tA(e);const u=-n.scrollTop;return ho(r).direction==="rtl"&&(o+=ii(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}function lse(e,t){const n=di(e),r=sl(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,m=0;if(s){i=s.width,o=s.height;const f=JE();(!f||f&&t==="fixed")&&(u=s.offsetLeft,m=s.offsetTop)}return{width:i,height:o,x:u,y:m}}const cse=new Set(["absolute","fixed"]);function use(e,t){const n=Md(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Jo(e)?xh(e):Ko(1),o=e.clientWidth*i.x,u=e.clientHeight*i.y,m=s*i.x,f=r*i.y;return{width:o,height:u,x:m,y:f}}function eP(e,t,n){let r;if(t==="viewport")r=lse(e,n);else if(t==="document")r=ose(sl(e));else if(fo(t))r=use(t,n);else{const s=SB(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ov(r)}function EB(e,t){const n=du(e);return n===t||!fo(n)||Oh(n)?!1:ho(n).position==="fixed"||EB(n,t)}function dse(e,t){const n=t.get(e);if(n)return n;let r=op(e,[],!1).filter(u=>fo(u)&&sm(u)!=="body"),s=null;const i=ho(e).position==="fixed";let o=i?du(e):e;for(;fo(o)&&!Oh(o);){const u=ho(o),m=ZE(o);!m&&u.position==="fixed"&&(s=null),(i?!m&&!s:!m&&u.position==="static"&&!!s&&cse.has(s.position)||Fp(o)&&!m&&EB(e,o))?r=r.filter(g=>g!==o):s=u,o=du(o)}return t.set(e,r),r}function fse(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Hy(t)?[]:dse(t,this._c):[].concat(n),r],u=o[0],m=o.reduce((f,g)=>{const x=eP(t,g,s);return f.top=ii(x.top,f.top),f.right=uu(x.right,f.right),f.bottom=uu(x.bottom,f.bottom),f.left=ii(x.left,f.left),f},eP(t,u,s));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function hse(e){const{width:t,height:n}=NB(e);return{width:t,height:n}}function mse(e,t,n){const r=Jo(t),s=sl(t),i=n==="fixed",o=Md(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const m=Ko(0);function f(){m.x=tA(s)}if(r||!r&&!i)if((sm(t)!=="body"||Fp(s))&&(u=qy(t)),r){const _=Md(t,!0,i,t);m.x=_.x+t.clientLeft,m.y=_.y+t.clientTop}else s&&f();i&&!r&&s&&f();const g=s&&!r&&!i?_B(s,u):Ko(0),x=o.left+u.scrollLeft-m.x-g.x,w=o.top+u.scrollTop-m.y-g.y;return{x,y:w,width:o.width,height:o.height}}function A2(e){return ho(e).position==="static"}function tP(e,t){if(!Jo(e)||ho(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return sl(e)===n&&(n=n.ownerDocument.body),n}function AB(e,t){const n=di(e);if(Hy(e))return n;if(!Jo(e)){let s=du(e);for(;s&&!Oh(s);){if(fo(s)&&!A2(s))return s;s=du(s)}return n}let r=tP(e,t);for(;r&&Xae(r)&&A2(r);)r=tP(r,t);return r&&Oh(r)&&A2(r)&&!ZE(r)?n:r||tse(e)||n}const gse=async function(e){const t=this.getOffsetParent||AB,n=this.getDimensions,r=await n(e.floating);return{reference:mse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pse(e){return ho(e).direction==="rtl"}const xse={convertOffsetParentRelativeRectToViewportRelativeRect:sse,getDocumentElement:sl,getClippingRect:fse,getOffsetParent:AB,getElementRects:gse,getClientRects:ise,getDimensions:hse,getScale:xh,isElement:fo,isRTL:pse};function CB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vse(e,t){let n=null,r;const s=sl(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),i();const f=e.getBoundingClientRect(),{left:g,top:x,width:w,height:_}=f;if(u||t(),!w||!_)return;const C=kx(x),A=kx(s.clientWidth-(g+w)),E=kx(s.clientHeight-(x+_)),M=kx(g),R={rootMargin:-C+"px "+-A+"px "+-E+"px "+-M+"px",threshold:ii(0,uu(1,m))||1};let z=!0;function I(k){const F=k[0].intersectionRatio;if(F!==m){if(!z)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!CB(f,e.getBoundingClientRect())&&o(),z=!1}try{n=new IntersectionObserver(I,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,R)}n.observe(e)}return o(!0),i}function yse(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,f=eA(e),g=s||i?[...f?op(f):[],...op(t)]:[];g.forEach(M=>{s&&M.addEventListener("scroll",n,{passive:!0}),i&&M.addEventListener("resize",n)});const x=f&&u?vse(f,n):null;let w=-1,_=null;o&&(_=new ResizeObserver(M=>{let[D]=M;D&&D.target===f&&_&&(_.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),n()}),f&&!m&&_.observe(f),_.observe(t));let C,A=m?Md(e):null;m&&E();function E(){const M=Md(e);A&&!CB(A,M)&&n(),A=M,C=requestAnimationFrame(E)}return n(),()=>{var M;g.forEach(D=>{s&&D.removeEventListener("scroll",n),i&&D.removeEventListener("resize",n)}),x==null||x(),(M=_)==null||M.disconnect(),_=null,m&&cancelAnimationFrame(C)}}const bse=Hae,wse=qae,jse=zae,Nse=Wae,Sse=Vae,nP=Uae,_se=Yae,Ese=(e,t,n)=>{const r=new Map,s={platform:xse,...n},i={...s.platform,_c:r};return Fae(e,t,{...s,platform:i})};var Ase=typeof document<"u",Cse=function(){},hv=Ase?j.useLayoutEffect:Cse;function Mv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Mv(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Mv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function TB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rP(e,t){const n=TB(e);return Math.round(t*n)/n}function C2(e){const t=j.useRef(e);return hv(()=>{t.current=e}),t}function Tse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:m,open:f}=e,[g,x]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,_]=j.useState(r);Mv(w,r)||_(r);const[C,A]=j.useState(null),[E,M]=j.useState(null),D=j.useCallback(Z=>{Z!==k.current&&(k.current=Z,A(Z))},[]),R=j.useCallback(Z=>{Z!==F.current&&(F.current=Z,M(Z))},[]),z=i||C,I=o||E,k=j.useRef(null),F=j.useRef(null),V=j.useRef(g),L=m!=null,$=C2(m),W=C2(s),Y=C2(f),Q=j.useCallback(()=>{if(!k.current||!F.current)return;const Z={placement:t,strategy:n,middleware:w};W.current&&(Z.platform=W.current),Ese(k.current,F.current,Z).then(de=>{const re={...de,isPositioned:Y.current!==!1};X.current&&!Mv(V.current,re)&&(V.current=re,$d.flushSync(()=>{x(re)}))})},[w,t,n,W,Y]);hv(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,x(Z=>({...Z,isPositioned:!1})))},[f]);const X=j.useRef(!1);hv(()=>(X.current=!0,()=>{X.current=!1}),[]),hv(()=>{if(z&&(k.current=z),I&&(F.current=I),z&&I){if($.current)return $.current(z,I,Q);Q()}},[z,I,Q,$,L]);const G=j.useMemo(()=>({reference:k,floating:F,setReference:D,setFloating:R}),[D,R]),H=j.useMemo(()=>({reference:z,floating:I}),[z,I]),J=j.useMemo(()=>{const Z={position:n,left:0,top:0};if(!H.floating)return Z;const de=rP(H.floating,g.x),re=rP(H.floating,g.y);return u?{...Z,transform:"translate("+de+"px, "+re+"px)",...TB(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:re}},[n,u,H.floating,g.x,g.y]);return j.useMemo(()=>({...g,update:Q,refs:G,elements:H,floatingStyles:J}),[g,Q,G,H,J])}const Ose=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?nP({element:r.current,padding:s}).fn(n):{}:r?nP({element:r,padding:s}).fn(n):{}}}},Mse=(e,t)=>({...bse(e),options:[e,t]}),Dse=(e,t)=>({...wse(e),options:[e,t]}),Pse=(e,t)=>({..._se(e),options:[e,t]}),Rse=(e,t)=>({...jse(e),options:[e,t]}),kse=(e,t)=>({...Nse(e),options:[e,t]}),Ise=(e,t)=>({...Sse(e),options:[e,t]}),Lse=(e,t)=>({...Ose(e),options:[e,t]});var Bse="Arrow",OB=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(St.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});OB.displayName=Bse;var Fse=OB,nA="Popper",[MB,im]=$s(nA),[Use,DB]=MB(nA),PB=e=>{const{__scopePopper:t,children:n}=e,[r,s]=j.useState(null);return a.jsx(Use,{scope:t,anchor:r,onAnchorChange:s,children:n})};PB.displayName=nA;var RB="PopperAnchor",kB=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=DB(RB,n),o=j.useRef(null),u=Zt(t,o);return j.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(St.div,{...s,ref:u})});kB.displayName=RB;var rA="PopperContent",[zse,Vse]=MB(rA),IB=j.forwardRef((e,t)=>{var ce,oe,he,Re,be,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:u=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:_="optimized",onPlaced:C,...A}=e,E=DB(rA,n),[M,D]=j.useState(null),R=Zt(t,Ke=>D(Ke)),[z,I]=j.useState(null),k=YE(z),F=(k==null?void 0:k.width)??0,V=(k==null?void 0:k.height)??0,L=r+(i!=="center"?"-"+i:""),$=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(f)?f:[f],Y=W.length>0,Q={padding:$,boundary:W.filter(Hse),altBoundary:Y},{refs:X,floatingStyles:G,placement:H,isPositioned:J,middlewareData:Z}=Tse({strategy:"fixed",placement:L,whileElementsMounted:(...Ke)=>yse(...Ke,{animationFrame:_==="always"}),elements:{reference:E.anchor},middleware:[Mse({mainAxis:s+V,alignmentAxis:o}),m&&Dse({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?Pse():void 0,...Q}),m&&Rse({...Q}),kse({...Q,apply:({elements:Ke,rects:Ve,availableWidth:Qe,availableHeight:gt})=>{const{width:et,height:bt}=Ve.reference,it=Ke.floating.style;it.setProperty("--radix-popper-available-width",`${Qe}px`),it.setProperty("--radix-popper-available-height",`${gt}px`),it.setProperty("--radix-popper-anchor-width",`${et}px`),it.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),z&&Lse({element:z,padding:u}),qse({arrowWidth:F,arrowHeight:V}),w&&Ise({strategy:"referenceHidden",...Q})]}),[de,re]=FB(H),pe=Oa(C);ua(()=>{J&&(pe==null||pe())},[J,pe]);const Ne=(ce=Z.arrow)==null?void 0:ce.x,Se=(oe=Z.arrow)==null?void 0:oe.y,xe=((he=Z.arrow)==null?void 0:he.centerOffset)!==0,[Pe,se]=j.useState();return ua(()=>{M&&se(window.getComputedStyle(M).zIndex)},[M]),a.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:J?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(Re=Z.transformOrigin)==null?void 0:Re.x,(be=Z.transformOrigin)==null?void 0:be.y].join(" "),...((ye=Z.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(zse,{scope:n,placedSide:de,onArrowChange:I,arrowX:Ne,arrowY:Se,shouldHideArrow:xe,children:a.jsx(St.div,{"data-side":de,"data-align":re,...A,ref:R,style:{...A.style,animation:J?void 0:"none"}})})})});IB.displayName=rA;var LB="PopperArrow",$se={top:"bottom",right:"left",bottom:"top",left:"right"},BB=j.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=Vse(LB,r),o=$se[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(Fse,{...s,ref:n,style:{...s.style,display:"block"}})})});BB.displayName=LB;function Hse(e){return e!==null}var qse=e=>({name:"transformOrigin",options:e,fn(t){var E,M,D;const{placement:n,rects:r,middlewareData:s}=t,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,u=o?0:e.arrowWidth,m=o?0:e.arrowHeight,[f,g]=FB(n),x={start:"0%",center:"50%",end:"100%"}[g],w=(((M=s.arrow)==null?void 0:M.x)??0)+u/2,_=(((D=s.arrow)==null?void 0:D.y)??0)+m/2;let C="",A="";return f==="bottom"?(C=o?x:`${w}px`,A=`${-m}px`):f==="top"?(C=o?x:`${w}px`,A=`${r.floating.height+m}px`):f==="right"?(C=`${-m}px`,A=o?x:`${_}px`):f==="left"&&(C=`${r.floating.width+m}px`,A=o?x:`${_}px`),{data:{x:C,y:A}}}});function FB(e){const[t,n="center"]=e.split("-");return[t,n]}var aA=PB,Yy=kB,sA=IB,iA=BB,Yse="Portal",Up=j.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,i]=j.useState(!1);ua(()=>i(!0),[]);const o=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return o?$6.createPortal(a.jsx(St.div,{...r,ref:t}),o):null});Up.displayName=Yse;var UB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Wse="VisuallyHidden",Gse=j.forwardRef((e,t)=>a.jsx(St.span,{...e,ref:t,style:{...UB,...e.style}}));Gse.displayName=Wse;var Kse=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xf=new WeakMap,Ix=new WeakMap,Lx={},T2=0,zB=function(e){return e&&(e.host||zB(e.parentNode))},Xse=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=zB(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Qse=function(e,t,n,r){var s=Xse(t,Array.isArray(e)?e:[e]);Lx[n]||(Lx[n]=new WeakMap);var i=Lx[n],o=[],u=new Set,m=new Set(s),f=function(x){!x||u.has(x)||(u.add(x),f(x.parentNode))};s.forEach(f);var g=function(x){!x||m.has(x)||Array.prototype.forEach.call(x.children,function(w){if(u.has(w))g(w);else try{var _=w.getAttribute(r),C=_!==null&&_!=="false",A=(Xf.get(w)||0)+1,E=(i.get(w)||0)+1;Xf.set(w,A),i.set(w,E),o.push(w),A===1&&C&&Ix.set(w,!0),E===1&&w.setAttribute(n,"true"),C||w.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",w,M)}})};return g(t),u.clear(),T2++,function(){o.forEach(function(x){var w=Xf.get(x)-1,_=i.get(x)-1;Xf.set(x,w),i.set(x,_),w||(Ix.has(x)||x.removeAttribute(r),Ix.delete(x)),_||x.removeAttribute(n)}),T2--,T2||(Xf=new WeakMap,Xf=new WeakMap,Ix=new WeakMap,Lx={})}},Wy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=Kse(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Qse(r,s,n,"aria-hidden")):function(){return null}},Fo=function(){return Fo=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fo.apply(this,arguments)};function VB(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Zse(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var mv="right-scroll-bar-position",gv="width-before-scroll-bar",Jse="with-scroll-bars-hidden",eie="--removed-body-scroll-bar-size";function O2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tie(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var nie=typeof window<"u"?j.useLayoutEffect:j.useEffect,aP=new WeakMap;function rie(e,t){var n=tie(null,function(r){return e.forEach(function(s){return O2(s,r)})});return nie(function(){var r=aP.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(u){i.has(u)||O2(u,null)}),i.forEach(function(u){s.has(u)||O2(u,o)})}aP.set(n,e)},[e]),n}function aie(e){return e}function sie(e,t){t===void 0&&(t=aie);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var m=function(){var g=o;o=[],g.forEach(i)},f=function(){return Promise.resolve().then(m)};f(),n={push:function(g){o.push(g),f()},filter:function(g){return o=o.filter(g),n}}}};return s}function iie(e){e===void 0&&(e={});var t=sie(null);return t.options=Fo({async:!0,ssr:!1},e),t}var $B=function(e){var t=e.sideCar,n=VB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Fo({},n))};$B.isSideCarExport=!0;function oie(e,t){return e.useMedium(t),$B}var HB=iie(),M2=function(){},Gy=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:M2,onWheelCapture:M2,onTouchMoveCapture:M2}),s=r[0],i=r[1],o=e.forwardProps,u=e.children,m=e.className,f=e.removeScrollBar,g=e.enabled,x=e.shards,w=e.sideCar,_=e.noRelative,C=e.noIsolation,A=e.inert,E=e.allowPinchZoom,M=e.as,D=M===void 0?"div":M,R=e.gapMode,z=VB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=w,k=rie([n,t]),F=Fo(Fo({},z),s);return j.createElement(j.Fragment,null,g&&j.createElement(I,{sideCar:HB,removeScrollBar:f,shards:x,noRelative:_,noIsolation:C,inert:A,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:R}),o?j.cloneElement(j.Children.only(u),Fo(Fo({},F),{ref:k})):j.createElement(D,Fo({},F,{className:m,ref:k}),u))});Gy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gy.classNames={fullWidth:gv,zeroRight:mv};var lie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lie();return t&&e.setAttribute("nonce",t),e}function uie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function die(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fie=function(){var e=0,t=null;return{add:function(n){e==0&&(t=cie())&&(uie(t,n),die(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hie=function(){var e=fie();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},qB=function(){var e=hie(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},mie={left:0,top:0,right:0,gap:0},D2=function(e){return parseInt(e||"",10)||0},gie=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[D2(n),D2(r),D2(s)]},pie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mie;var t=gie(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},xie=qB(),vh="data-scroll-locked",vie=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Jse,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(vh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mv,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(gv,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(mv," .").concat(mv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gv," .").concat(gv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vh,`] {
    `).concat(eie,": ").concat(u,`px;
  }
`)},sP=function(){var e=parseInt(document.body.getAttribute(vh)||"0",10);return isFinite(e)?e:0},yie=function(){j.useEffect(function(){return document.body.setAttribute(vh,(sP()+1).toString()),function(){var e=sP()-1;e<=0?document.body.removeAttribute(vh):document.body.setAttribute(vh,e.toString())}},[])},bie=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;yie();var i=j.useMemo(function(){return pie(s)},[s]);return j.createElement(xie,{styles:vie(i,!t,s,n?"":"!important")})},FS=!1;if(typeof window<"u")try{var Bx=Object.defineProperty({},"passive",{get:function(){return FS=!0,!0}});window.addEventListener("test",Bx,Bx),window.removeEventListener("test",Bx,Bx)}catch{FS=!1}var Qf=FS?{passive:!1}:!1,wie=function(e){return e.tagName==="TEXTAREA"},YB=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wie(e)&&n[t]==="visible")},jie=function(e){return YB(e,"overflowY")},Nie=function(e){return YB(e,"overflowX")},iP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=WB(e,r);if(s){var i=GB(e,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Sie=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_ie=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},WB=function(e,t){return e==="v"?jie(t):Nie(t)},GB=function(e,t){return e==="v"?Sie(t):_ie(t)},Eie=function(e,t){return e==="h"&&t==="rtl"?-1:1},Aie=function(e,t,n,r,s){var i=Eie(e,window.getComputedStyle(t).direction),o=i*r,u=n.target,m=t.contains(u),f=!1,g=o>0,x=0,w=0;do{if(!u)break;var _=GB(e,u),C=_[0],A=_[1],E=_[2],M=A-E-i*C;(C||M)&&WB(e,u)&&(x+=M,w+=C);var D=u.parentNode;u=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!m&&u!==document.body||m&&(t.contains(u)||t===u));return(g&&Math.abs(x)<1||!g&&Math.abs(w)<1)&&(f=!0),f},Fx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oP=function(e){return[e.deltaX,e.deltaY]},lP=function(e){return e&&"current"in e?e.current:e},Cie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Tie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Oie=0,Zf=[];function Mie(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),s=j.useState(Oie++)[0],i=j.useState(qB)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var A=Zse([e.lockRef.current],(e.shards||[]).map(lP),!0).filter(Boolean);return A.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),A.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=j.useCallback(function(A,E){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!o.current.allowPinchZoom;var M=Fx(A),D=n.current,R="deltaX"in A?A.deltaX:D[0]-M[0],z="deltaY"in A?A.deltaY:D[1]-M[1],I,k=A.target,F=Math.abs(R)>Math.abs(z)?"h":"v";if("touches"in A&&F==="h"&&k.type==="range")return!1;var V=iP(F,k);if(!V)return!0;if(V?I=F:(I=F==="v"?"h":"v",V=iP(F,k)),!V)return!1;if(!r.current&&"changedTouches"in A&&(R||z)&&(r.current=I),!I)return!0;var L=r.current||I;return Aie(L,E,A,L==="h"?R:z)},[]),m=j.useCallback(function(A){var E=A;if(!(!Zf.length||Zf[Zf.length-1]!==i)){var M="deltaY"in E?oP(E):Fx(E),D=t.current.filter(function(I){return I.name===E.type&&(I.target===E.target||E.target===I.shadowParent)&&Cie(I.delta,M)})[0];if(D&&D.should){E.cancelable&&E.preventDefault();return}if(!D){var R=(o.current.shards||[]).map(lP).filter(Boolean).filter(function(I){return I.contains(E.target)}),z=R.length>0?u(E,R[0]):!o.current.noIsolation;z&&E.cancelable&&E.preventDefault()}}},[]),f=j.useCallback(function(A,E,M,D){var R={name:A,delta:E,target:M,should:D,shadowParent:Die(M)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(z){return z!==R})},1)},[]),g=j.useCallback(function(A){n.current=Fx(A),r.current=void 0},[]),x=j.useCallback(function(A){f(A.type,oP(A),A.target,u(A,e.lockRef.current))},[]),w=j.useCallback(function(A){f(A.type,Fx(A),A.target,u(A,e.lockRef.current))},[]);j.useEffect(function(){return Zf.push(i),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",m,Qf),document.addEventListener("touchmove",m,Qf),document.addEventListener("touchstart",g,Qf),function(){Zf=Zf.filter(function(A){return A!==i}),document.removeEventListener("wheel",m,Qf),document.removeEventListener("touchmove",m,Qf),document.removeEventListener("touchstart",g,Qf)}},[]);var _=e.removeScrollBar,C=e.inert;return j.createElement(j.Fragment,null,C?j.createElement(i,{styles:Tie(s)}):null,_?j.createElement(bie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Die(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Pie=oie(HB,Mie);var zp=j.forwardRef(function(e,t){return j.createElement(Gy,Fo({},e,{ref:t,sideCar:Pie}))});zp.classNames=Gy.classNames;var Rie=[" ","Enter","ArrowUp","ArrowDown"],kie=[" ","Enter"],Dd="Select",[Ky,Xy,Iie]=GE(Dd),[om,ATe]=$s(Dd,[Iie,im]),Qy=im(),[Lie,bu]=om(Dd),[Bie,Fie]=om(Dd),KB=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:u,onValueChange:m,dir:f,name:g,autoComplete:x,disabled:w,required:_,form:C}=e,A=Qy(t),[E,M]=j.useState(null),[D,R]=j.useState(null),[z,I]=j.useState(!1),k=Ip(f),[F,V]=Yl({prop:r,defaultProp:s??!1,onChange:i,caller:Dd}),[L,$]=Yl({prop:o,defaultProp:u,onChange:m,caller:Dd}),W=j.useRef(null),Y=E?C||!!E.closest("form"):!0,[Q,X]=j.useState(new Set),G=Array.from(Q).map(H=>H.props.value).join(";");return a.jsx(aA,{...A,children:a.jsxs(Lie,{required:_,scope:t,trigger:E,onTriggerChange:M,valueNode:D,onValueNodeChange:R,valueNodeHasChildren:z,onValueNodeHasChildrenChange:I,contentId:uo(),value:L,onValueChange:$,open:F,onOpenChange:V,dir:k,triggerPointerDownPosRef:W,disabled:w,children:[a.jsx(Ky.Provider,{scope:t,children:a.jsx(Bie,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(H=>{X(J=>new Set(J).add(H))},[]),onNativeOptionRemove:j.useCallback(H=>{X(J=>{const Z=new Set(J);return Z.delete(H),Z})},[]),children:n})}),Y?a.jsxs(x7,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:x,value:L,onChange:H=>$(H.target.value),disabled:w,form:C,children:[L===void 0?a.jsx("option",{value:""}):null,Array.from(Q)]},G):null]})})};KB.displayName=Dd;var XB="SelectTrigger",QB=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Qy(n),o=bu(XB,n),u=o.disabled||r,m=Zt(t,o.onTriggerChange),f=Xy(n),g=j.useRef("touch"),[x,w,_]=y7(A=>{const E=f().filter(R=>!R.disabled),M=E.find(R=>R.value===o.value),D=b7(E,A,M);D!==void 0&&o.onValueChange(D.value)}),C=A=>{u||(o.onOpenChange(!0),_()),A&&(o.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return a.jsx(Yy,{asChild:!0,...i,children:a.jsx(St.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":v7(o.value)?"":void 0,...s,ref:m,onClick:lt(s.onClick,A=>{A.currentTarget.focus(),g.current!=="mouse"&&C(A)}),onPointerDown:lt(s.onPointerDown,A=>{g.current=A.pointerType;const E=A.target;E.hasPointerCapture(A.pointerId)&&E.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(C(A),A.preventDefault())}),onKeyDown:lt(s.onKeyDown,A=>{const E=x.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&w(A.key),!(E&&A.key===" ")&&Rie.includes(A.key)&&(C(),A.preventDefault())})})})});QB.displayName=XB;var ZB="SelectValue",JB=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...u}=e,m=bu(ZB,n),{onValueNodeHasChildrenChange:f}=m,g=i!==void 0,x=Zt(t,m.onValueNodeChange);return ua(()=>{f(g)},[f,g]),a.jsx(St.span,{...u,ref:x,style:{pointerEvents:"none"},children:v7(m.value)?a.jsx(a.Fragment,{children:o}):i})});JB.displayName=ZB;var Uie="SelectIcon",e7=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(St.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});e7.displayName=Uie;var zie="SelectPortal",t7=e=>a.jsx(Up,{asChild:!0,...e});t7.displayName=zie;var Pd="SelectContent",n7=j.forwardRef((e,t)=>{const n=bu(Pd,e.__scopeSelect),[r,s]=j.useState();if(ua(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?$d.createPortal(a.jsx(r7,{scope:e.__scopeSelect,children:a.jsx(Ky.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(a7,{...e,ref:t})});n7.displayName=Pd;var ao=10,[r7,wu]=om(Pd),Vie="SelectContentImpl",$ie=ru("SelectContent.RemoveScroll"),a7=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:u,sideOffset:m,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:w,collisionPadding:_,sticky:C,hideWhenDetached:A,avoidCollisions:E,...M}=e,D=bu(Pd,n),[R,z]=j.useState(null),[I,k]=j.useState(null),F=Zt(t,ce=>z(ce)),[V,L]=j.useState(null),[$,W]=j.useState(null),Y=Xy(n),[Q,X]=j.useState(!1),G=j.useRef(!1);j.useEffect(()=>{if(R)return Wy(R)},[R]),Vy();const H=j.useCallback(ce=>{const[oe,...he]=Y().map(ye=>ye.ref.current),[Re]=he.slice(-1),be=document.activeElement;for(const ye of ce)if(ye===be||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===oe&&I&&(I.scrollTop=0),ye===Re&&I&&(I.scrollTop=I.scrollHeight),ye==null||ye.focus(),document.activeElement!==be))return},[Y,I]),J=j.useCallback(()=>H([V,R]),[H,V,R]);j.useEffect(()=>{Q&&J()},[Q,J]);const{onOpenChange:Z,triggerPointerDownPosRef:de}=D;j.useEffect(()=>{if(R){let ce={x:0,y:0};const oe=Re=>{var be,ye;ce={x:Math.abs(Math.round(Re.pageX)-(((be=de.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((ye=de.current)==null?void 0:ye.y)??0))}},he=Re=>{ce.x<=10&&ce.y<=10?Re.preventDefault():R.contains(Re.target)||Z(!1),document.removeEventListener("pointermove",oe),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",he,{capture:!0})}}},[R,Z,de]),j.useEffect(()=>{const ce=()=>Z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[Z]);const[re,pe]=y7(ce=>{const oe=Y().filter(be=>!be.disabled),he=oe.find(be=>be.ref.current===document.activeElement),Re=b7(oe,ce,he);Re&&setTimeout(()=>Re.ref.current.focus())}),Ne=j.useCallback((ce,oe,he)=>{const Re=!G.current&&!he;(D.value!==void 0&&D.value===oe||Re)&&(L(ce),Re&&(G.current=!0))},[D.value]),Se=j.useCallback(()=>R==null?void 0:R.focus(),[R]),xe=j.useCallback((ce,oe,he)=>{const Re=!G.current&&!he;(D.value!==void 0&&D.value===oe||Re)&&W(ce)},[D.value]),Pe=r==="popper"?US:s7,se=Pe===US?{side:u,sideOffset:m,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:w,collisionPadding:_,sticky:C,hideWhenDetached:A,avoidCollisions:E}:{};return a.jsx(r7,{scope:n,content:R,viewport:I,onViewportChange:k,itemRefCallback:Ne,selectedItem:V,onItemLeave:Se,itemTextRefCallback:xe,focusSelectedItem:J,selectedItemText:$,position:r,isPositioned:Q,searchRef:re,children:a.jsx(zp,{as:$ie,allowPinchZoom:!0,children:a.jsx(Bp,{asChild:!0,trapped:D.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:lt(s,ce=>{var oe;(oe=D.trigger)==null||oe.focus({preventScroll:!0}),ce.preventDefault()}),children:a.jsx(Lp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:a.jsx(Pe,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:ce=>ce.preventDefault(),...M,...se,onPlaced:()=>X(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:lt(M.onKeyDown,ce=>{const oe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!oe&&ce.key.length===1&&pe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Re=Y().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const be=ce.target,ye=Re.indexOf(be);Re=Re.slice(ye+1)}setTimeout(()=>H(Re)),ce.preventDefault()}})})})})})})});a7.displayName=Vie;var Hie="SelectItemAlignedPosition",s7=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=bu(Pd,n),o=wu(Pd,n),[u,m]=j.useState(null),[f,g]=j.useState(null),x=Zt(t,F=>g(F)),w=Xy(n),_=j.useRef(!1),C=j.useRef(!0),{viewport:A,selectedItem:E,selectedItemText:M,focusSelectedItem:D}=o,R=j.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&A&&E&&M){const F=i.trigger.getBoundingClientRect(),V=f.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),$=M.getBoundingClientRect();if(i.dir!=="rtl"){const be=$.left-V.left,ye=L.left-be,Ke=F.left-ye,Ve=F.width+Ke,Qe=Math.max(Ve,V.width),gt=window.innerWidth-ao,et=RS(ye,[ao,Math.max(ao,gt-Qe)]);u.style.minWidth=Ve+"px",u.style.left=et+"px"}else{const be=V.right-$.right,ye=window.innerWidth-L.right-be,Ke=window.innerWidth-F.right-ye,Ve=F.width+Ke,Qe=Math.max(Ve,V.width),gt=window.innerWidth-ao,et=RS(ye,[ao,Math.max(ao,gt-Qe)]);u.style.minWidth=Ve+"px",u.style.right=et+"px"}const W=w(),Y=window.innerHeight-ao*2,Q=A.scrollHeight,X=window.getComputedStyle(f),G=parseInt(X.borderTopWidth,10),H=parseInt(X.paddingTop,10),J=parseInt(X.borderBottomWidth,10),Z=parseInt(X.paddingBottom,10),de=G+H+Q+Z+J,re=Math.min(E.offsetHeight*5,de),pe=window.getComputedStyle(A),Ne=parseInt(pe.paddingTop,10),Se=parseInt(pe.paddingBottom,10),xe=F.top+F.height/2-ao,Pe=Y-xe,se=E.offsetHeight/2,ce=E.offsetTop+se,oe=G+H+ce,he=de-oe;if(oe<=xe){const be=W.length>0&&E===W[W.length-1].ref.current;u.style.bottom="0px";const ye=f.clientHeight-A.offsetTop-A.offsetHeight,Ke=Math.max(Pe,se+(be?Se:0)+ye+J),Ve=oe+Ke;u.style.height=Ve+"px"}else{const be=W.length>0&&E===W[0].ref.current;u.style.top="0px";const Ke=Math.max(xe,G+A.offsetTop+(be?Ne:0)+se)+he;u.style.height=Ke+"px",A.scrollTop=oe-xe+A.offsetTop}u.style.margin=`${ao}px 0`,u.style.minHeight=re+"px",u.style.maxHeight=Y+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[w,i.trigger,i.valueNode,u,f,A,E,M,i.dir,r]);ua(()=>R(),[R]);const[z,I]=j.useState();ua(()=>{f&&I(window.getComputedStyle(f).zIndex)},[f]);const k=j.useCallback(F=>{F&&C.current===!0&&(R(),D==null||D(),C.current=!1)},[R,D]);return a.jsx(Yie,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:k,children:a.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:a.jsx(St.div,{...s,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});s7.displayName=Hie;var qie="SelectPopperPosition",US=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ao,...i}=e,o=Qy(n);return a.jsx(sA,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});US.displayName=qie;var[Yie,oA]=om(Pd,{}),zS="SelectViewport",i7=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=wu(zS,n),o=oA(zS,n),u=Zt(t,i.onViewportChange),m=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Ky.Slot,{scope:n,children:a.jsx(St.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:lt(s.onScroll,f=>{const g=f.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=o;if(w!=null&&w.current&&x){const _=Math.abs(m.current-g.scrollTop);if(_>0){const C=window.innerHeight-ao*2,A=parseFloat(x.style.minHeight),E=parseFloat(x.style.height),M=Math.max(A,E);if(M<C){const D=M+_,R=Math.min(C,D),z=D-R;x.style.height=R+"px",x.style.bottom==="0px"&&(g.scrollTop=z>0?z:0,x.style.justifyContent="flex-end")}}}m.current=g.scrollTop})})})]})});i7.displayName=zS;var o7="SelectGroup",[Wie,Gie]=om(o7),Kie=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=uo();return a.jsx(Wie,{scope:n,id:s,children:a.jsx(St.div,{role:"group","aria-labelledby":s,...r,ref:t})})});Kie.displayName=o7;var l7="SelectLabel",Xie=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Gie(l7,n);return a.jsx(St.div,{id:s.id,...r,ref:t})});Xie.displayName=l7;var Dv="SelectItem",[Qie,c7]=om(Dv),u7=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,u=bu(Dv,n),m=wu(Dv,n),f=u.value===r,[g,x]=j.useState(i??""),[w,_]=j.useState(!1),C=Zt(t,D=>{var R;return(R=m.itemRefCallback)==null?void 0:R.call(m,D,r,s)}),A=uo(),E=j.useRef("touch"),M=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Qie,{scope:n,value:r,disabled:s,textId:A,isSelected:f,onItemTextChange:j.useCallback(D=>{x(R=>R||((D==null?void 0:D.textContent)??"").trim())},[]),children:a.jsx(Ky.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:a.jsx(St.div,{role:"option","aria-labelledby":A,"data-highlighted":w?"":void 0,"aria-selected":f&&w,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:C,onFocus:lt(o.onFocus,()=>_(!0)),onBlur:lt(o.onBlur,()=>_(!1)),onClick:lt(o.onClick,()=>{E.current!=="mouse"&&M()}),onPointerUp:lt(o.onPointerUp,()=>{E.current==="mouse"&&M()}),onPointerDown:lt(o.onPointerDown,D=>{E.current=D.pointerType}),onPointerMove:lt(o.onPointerMove,D=>{var R;E.current=D.pointerType,s?(R=m.onItemLeave)==null||R.call(m):E.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lt(o.onPointerLeave,D=>{var R;D.currentTarget===document.activeElement&&((R=m.onItemLeave)==null||R.call(m))}),onKeyDown:lt(o.onKeyDown,D=>{var z;((z=m.searchRef)==null?void 0:z.current)!==""&&D.key===" "||(kie.includes(D.key)&&M(),D.key===" "&&D.preventDefault())})})})})});u7.displayName=Dv;var Rg="SelectItemText",d7=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=bu(Rg,n),u=wu(Rg,n),m=c7(Rg,n),f=Fie(Rg,n),[g,x]=j.useState(null),w=Zt(t,M=>x(M),m.onItemTextChange,M=>{var D;return(D=u.itemTextRefCallback)==null?void 0:D.call(u,M,m.value,m.disabled)}),_=g==null?void 0:g.textContent,C=j.useMemo(()=>a.jsx("option",{value:m.value,disabled:m.disabled,children:_},m.value),[m.disabled,m.value,_]),{onNativeOptionAdd:A,onNativeOptionRemove:E}=f;return ua(()=>(A(C),()=>E(C)),[A,E,C]),a.jsxs(a.Fragment,{children:[a.jsx(St.span,{id:m.textId,...i,ref:w}),m.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$d.createPortal(i.children,o.valueNode):null]})});d7.displayName=Rg;var f7="SelectItemIndicator",h7=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c7(f7,n).isSelected?a.jsx(St.span,{"aria-hidden":!0,...r,ref:t}):null});h7.displayName=f7;var VS="SelectScrollUpButton",m7=j.forwardRef((e,t)=>{const n=wu(VS,e.__scopeSelect),r=oA(VS,e.__scopeSelect),[s,i]=j.useState(!1),o=Zt(t,r.onScrollButtonChange);return ua(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollTop>0;i(f)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?a.jsx(p7,{...e,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop-m.offsetHeight)}}):null});m7.displayName=VS;var $S="SelectScrollDownButton",g7=j.forwardRef((e,t)=>{const n=wu($S,e.__scopeSelect),r=oA($S,e.__scopeSelect),[s,i]=j.useState(!1),o=Zt(t,r.onScrollButtonChange);return ua(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollHeight-m.clientHeight,g=Math.ceil(m.scrollTop)<f;i(g)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?a.jsx(p7,{...e,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop+m.offsetHeight)}}):null});g7.displayName=$S;var p7=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=wu("SelectScrollButton",n),o=j.useRef(null),u=Xy(n),m=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>m(),[m]),ua(()=>{var g;const f=u().find(x=>x.ref.current===document.activeElement);(g=f==null?void 0:f.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),a.jsx(St.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:lt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:lt(s.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:lt(s.onPointerLeave,()=>{m()})})}),Zie="SelectSeparator",Jie=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(St.div,{"aria-hidden":!0,...r,ref:t})});Jie.displayName=Zie;var HS="SelectArrow",eoe=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Qy(n),i=bu(HS,n),o=wu(HS,n);return i.open&&o.position==="popper"?a.jsx(iA,{...s,...r,ref:t}):null});eoe.displayName=HS;var toe="SelectBubbleInput",x7=j.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=j.useRef(null),i=Zt(r,s),o=qE(t);return j.useEffect(()=>{const u=s.current;if(!u)return;const m=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(o!==t&&g){const x=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(x)}},[o,t]),a.jsx(St.select,{...n,style:{...UB,...n.style},ref:i,defaultValue:t})});x7.displayName=toe;function v7(e){return e===""||e===void 0}function y7(e){const t=Oa(e),n=j.useRef(""),r=j.useRef(0),s=j.useCallback(o=>{const u=n.current+o;t(u),function m(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(u)},[t]),i=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function b7(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=noe(e,Math.max(i,0));s.length===1&&(o=o.filter(f=>f!==n));const m=o.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return m!==n?m:void 0}function noe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var roe=KB,aoe=QB,soe=JB,ioe=e7,ooe=t7,loe=n7,coe=i7,uoe=u7,doe=d7,foe=h7,hoe=m7,moe=g7;function kt({...e}){return a.jsx(roe,{"data-slot":"select",...e})}function Bt({...e}){return a.jsx(soe,{"data-slot":"select-value",...e})}function It({className:e,size:t="default",children:n,...r}){return a.jsxs(aoe,{"data-slot":"select-trigger","data-size":t,className:_t("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,a.jsx(ioe,{asChild:!0,children:a.jsx(tB,{className:"size-4 opacity-50"})})]})}function Lt({className:e,children:t,position:n="popper",...r}){return a.jsx(ooe,{children:a.jsxs(loe,{"data-slot":"select-content",className:_t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(goe,{}),a.jsx(coe,{className:_t("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(poe,{})]})})}function Ae({className:e,children:t,...n}){return a.jsxs(uoe,{"data-slot":"select-item",className:_t("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(foe,{children:a.jsx(Ch,{className:"size-4"})})}),a.jsx(doe,{children:t})]})}function goe({className:e,...t}){return a.jsx(hoe,{"data-slot":"select-scroll-up-button",className:_t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(fne,{className:"size-4"})})}function poe({className:e,...t}){return a.jsx(moe,{"data-slot":"select-scroll-down-button",className:_t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(tB,{className:"size-4"})})}const xoe=e=>({passenger:[e("features.digitalWallet"),e("features.qrPayments"),e("features.eventTickets"),e("features.transactionHistory")],driver:[e("features.driverDashboard"),e("features.earningsTracking"),e("features.qrGeneration"),e("features.tripManagement")],merchant:[e("features.businessDashboard"),e("features.paymentProcessing"),e("features.analyticsInsights"),e("features.customerManagement")],event_admin:[e("features.eventCreation"),e("features.ticketManagement"),e("features.attendeeAnalytics"),e("features.revenueTracking")]});function voe(){const[e,t]=j.useState({email:"",password:"",confirmPassword:"",fullName:"",phoneNumber:"",userRole:"passenger"}),[n,r]=j.useState(!1),[s,i]=j.useState(!1),[o,u]=j.useState(""),[m,f]=j.useState(!1),{signUp:g}=$t(),{t:x}=Ut(),w=po(),_=async M=>{if(M.preventDefault(),u(""),e.password!==e.confirmPassword){u("Passwords do not match");return}if(e.password.length<6){u("Password must be at least 6 characters");return}f(!0);try{const{error:D}=await g(e.email,e.password,{full_name:e.fullName,phone_number:e.phoneNumber,user_role:e.userRole});D?u(D.message):w(`/otp-verification?type=email_verification&email=${encodeURIComponent(e.email)}`)}catch{u("An unexpected error occurred")}finally{f(!1)}},C=(M,D)=>{t(R=>({...R,[M]:D}))},E=xoe(x)[e.userRole]||[];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),a.jsxs("div",{className:"w-full max-w-4xl relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Qt,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(tm,{className:"h-4 w-4"}),x("registration.backToHome")]}),a.jsxs(qe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(HE,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{className:"text-white/70 text-sm",children:x("registration.joinRevolution")})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:a.jsxs(ue,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Te,{className:"text-center",children:[a.jsx(Oe,{className:"text-2xl font-bold text-white",children:x("auth.register")}),a.jsx(st,{className:"text-gray-400",children:x("auth.getStartedDescription")})]}),a.jsxs(fe,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o&&a.jsx(us,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ds,{className:"text-red-400",children:o})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"userRole",className:"text-white",children:x("auth.accountType")}),a.jsxs(kt,{value:e.userRole,onValueChange:M=>C("userRole",M),children:[a.jsx(It,{className:"bg-white/5 border-white/10 text-white focus:border-blue-400/50 focus:ring-blue-400/20",children:a.jsx(Bt,{})}),a.jsxs(Lt,{className:"bg-slate-900 border-white/10",children:[a.jsx(Ae,{value:"passenger",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),x("auth.passenger")]})}),a.jsx(Ae,{value:"driver",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),x("auth.driver")]})}),a.jsx(Ae,{value:"merchant",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),x("auth.merchant")]})}),a.jsx(Ae,{value:"event_admin",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),x("auth.eventAdmin")]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"fullName",className:"text-white",children:x("auth.fullName")}),a.jsx(dt,{id:"fullName",type:"text",value:e.fullName,onChange:M=>C("fullName",M.target.value),placeholder:x("auth.fullNamePlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"email",className:"text-white",children:x("auth.email")}),a.jsx(dt,{id:"email",type:"email",value:e.email,onChange:M=>C("email",M.target.value),placeholder:x("auth.emailPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ze,{htmlFor:"phoneNumber",className:"text-white",children:[x("auth.phoneNumber")," (",x("common.optional"),")"]}),a.jsx(dt,{id:"phoneNumber",type:"tel",value:e.phoneNumber,onChange:M=>C("phoneNumber",M.target.value),placeholder:x("auth.phoneNumberPlaceholder"),className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"password",className:"text-white",children:x("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"password",type:n?"text":"password",value:e.password,onChange:M=>C("password",M.target.value),placeholder:x("auth.createPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"confirmPassword",className:"text-white",children:x("auth.confirmPassword")}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"confirmPassword",type:s?"text":"password",value:e.confirmPassword,onChange:M=>C("confirmPassword",M.target.value),placeholder:x("auth.confirmPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>i(!s),children:s?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})})]})]}),a.jsxs(we,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold",disabled:m,children:[m&&a.jsx(zs,{className:"mr-2 h-5 w-5 animate-spin"}),x("auth.register")]})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[x("auth.alreadyHaveAccount")," ",a.jsx(Qt,{to:"/login",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:x("auth.signInHere")})]})})]})]})}),a.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[a.jsxs(ue,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"text-white flex items-center gap-2",children:[a.jsx($E,{className:"h-5 w-5 text-yellow-400"}),e.userRole==="passenger"&&x("registration.personalAccountFeatures"),e.userRole==="driver"&&x("registration.driverAccountFeatures"),e.userRole==="merchant"&&x("registration.businessAccountFeatures"),e.userRole==="event_admin"&&x("registration.eventOrganizerFeatures")]})}),a.jsx(fe,{children:a.jsx("ul",{className:"space-y-3",children:E.map((M,D)=>a.jsxs(qe.li,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:D*.1},className:"flex items-center gap-3 text-gray-300",children:[a.jsx(_r,{className:"h-4 w-4 text-green-400 flex-shrink-0"}),M]},M))})})]}),a.jsx(ue,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:a.jsxs(fe,{className:"p-6",children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:x("registration.whyChooseTickets")}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:x("registration.bankGradeSecurity")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:x("registration.instantTransactions")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:x("registration.customerSupport")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),a.jsx("span",{children:x("registration.lowFees")})]})]})]})})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:x("registration.soc2Certified")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:x("registration.iso27001")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:x("registration.pciCompliant")})]})]})})]})]})}function yoe(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,u]=j.useState(!1),{t:m}=Ut(),f=po(),g=async x=>{x.preventDefault(),i(""),r(""),u(!0);try{const{error:w}=await $e.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});w?i(w.message):f(`/otp-verification?type=password_reset&email=${encodeURIComponent(e)}`)}catch{i("An unexpected error occurred")}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4",children:a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(ca,{className:"h-6 w-6"})}),a.jsx("h1",{className:"text-2xl font-bold text-primary",children:m("app.name")})]}),a.jsx(Oe,{className:"text-2xl font-bold",children:"Reset Password"}),a.jsx(st,{children:"Enter your email address and we'll send you a link to reset your password"})]}),a.jsxs(fe,{children:[a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s&&a.jsx(us,{variant:"destructive",children:a.jsx(ds,{children:s})}),n&&a.jsx(us,{children:a.jsx(ds,{children:n})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"email",children:m("auth.email")}),a.jsx(dt,{id:"email",type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"your@email.com",required:!0})]}),a.jsxs(we,{type:"submit",className:"w-full",disabled:o,children:[o&&a.jsx(zs,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Reset Email"]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Qt,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[a.jsx(tm,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})})}var boe=Object.defineProperty,woe=Object.defineProperties,joe=Object.getOwnPropertyDescriptors,Pv=Object.getOwnPropertySymbols,w7=Object.prototype.hasOwnProperty,j7=Object.prototype.propertyIsEnumerable,cP=(e,t,n)=>t in e?boe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Noe=(e,t)=>{for(var n in t||(t={}))w7.call(t,n)&&cP(e,n,t[n]);if(Pv)for(var n of Pv(t))j7.call(t,n)&&cP(e,n,t[n]);return e},Soe=(e,t)=>woe(e,joe(t)),_oe=(e,t)=>{var n={};for(var r in e)w7.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pv)for(var r of Pv(e))t.indexOf(r)<0&&j7.call(e,r)&&(n[r]=e[r]);return n};function Eoe(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function Aoe(e){let t=j.useRef();return j.useEffect(()=>{t.current=e}),t.current}var Coe=18,N7=40,Toe=`${N7}px`,Ooe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Moe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=j.useState(!1),[o,u]=j.useState(!1),[m,f]=j.useState(!1),g=j.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&o,[s,o,n]),x=j.useCallback(()=>{let w=e.current,_=t.current;if(!w||!_||m||n==="none")return;let C=w,A=C.getBoundingClientRect().left+C.offsetWidth,E=C.getBoundingClientRect().top+C.offsetHeight/2,M=A-Coe,D=E;document.querySelectorAll(Ooe).length===0&&document.elementFromPoint(M,D)===w||(i(!0),f(!0))},[e,t,m,n]);return j.useEffect(()=>{let w=e.current;if(!w||n==="none")return;function _(){let A=window.innerWidth-w.getBoundingClientRect().right;u(A>=N7)}_();let C=setInterval(_,1e3);return()=>{clearInterval(C)}},[e,n]),j.useEffect(()=>{let w=r||document.activeElement===t.current;if(n==="none"||!w)return;let _=setTimeout(x,0),C=setTimeout(x,2e3),A=setTimeout(x,5e3),E=setTimeout(()=>{f(!0)},6e3);return()=>{clearTimeout(_),clearTimeout(C),clearTimeout(A),clearTimeout(E)}},[t,r,n,x]),{hasPWMBadge:s,willPushPWMBadge:g,PWM_BADGE_SPACE_WIDTH:Toe}}var S7=j.createContext({}),_7=j.forwardRef((e,t)=>{var n=e,{value:r,onChange:s,maxLength:i,textAlign:o="left",pattern:u,placeholder:m,inputMode:f="numeric",onComplete:g,pushPasswordManagerStrategy:x="increase-width",pasteTransformer:w,containerClassName:_,noScriptCSSFallback:C=Doe,render:A,children:E}=n,M=_oe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),D,R,z,I,k;let[F,V]=j.useState(typeof M.defaultValue=="string"?M.defaultValue:""),L=r??F,$=Aoe(L),W=j.useCallback(Ve=>{s==null||s(Ve),V(Ve)},[s]),Y=j.useMemo(()=>u?typeof u=="string"?new RegExp(u):u:null,[u]),Q=j.useRef(null),X=j.useRef(null),G=j.useRef({value:L,onChange:W,isIOS:typeof window<"u"&&((R=(D=window==null?void 0:window.CSS)==null?void 0:D.supports)==null?void 0:R.call(D,"-webkit-touch-callout","none"))}),H=j.useRef({prev:[(z=Q.current)==null?void 0:z.selectionStart,(I=Q.current)==null?void 0:I.selectionEnd,(k=Q.current)==null?void 0:k.selectionDirection]});j.useImperativeHandle(t,()=>Q.current,[]),j.useEffect(()=>{let Ve=Q.current,Qe=X.current;if(!Ve||!Qe)return;G.current.value!==Ve.value&&G.current.onChange(Ve.value),H.current.prev=[Ve.selectionStart,Ve.selectionEnd,Ve.selectionDirection];function gt(){if(document.activeElement!==Ve){Ne(null),xe(null);return}let it=Ve.selectionStart,xr=Ve.selectionEnd,ct=Ve.selectionDirection,bn=Ve.maxLength,Jr=Ve.value,vr=H.current.prev,Ga=-1,En=-1,Qn;if(Jr.length!==0&&it!==null&&xr!==null){let Wi=it===xr,vi=it===Jr.length&&Jr.length<bn;if(Wi&&!vi){let un=it;if(un===0)Ga=0,En=1,Qn="forward";else if(un===bn)Ga=un-1,En=un,Qn="backward";else if(bn>1&&Jr.length>1){let rt=0;if(vr[0]!==null&&vr[1]!==null){Qn=un<vr[1]?"backward":"forward";let wn=vr[0]===vr[1]&&vr[0]<bn;Qn==="backward"&&!wn&&(rt=-1)}Ga=rt+un,En=rt+un+1}}Ga!==-1&&En!==-1&&Ga!==En&&Q.current.setSelectionRange(Ga,En,Qn)}let yr=Ga!==-1?Ga:it,sn=En!==-1?En:xr,qs=Qn??ct;Ne(yr),xe(sn),H.current.prev=[yr,sn,qs]}if(document.addEventListener("selectionchange",gt,{capture:!0}),gt(),document.activeElement===Ve&&re(!0),!document.getElementById("input-otp-style")){let it=document.createElement("style");if(it.id="input-otp-style",document.head.appendChild(it),it.sheet){let xr="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";vg(it.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),vg(it.sheet,`[data-input-otp]:autofill { ${xr} }`),vg(it.sheet,`[data-input-otp]:-webkit-autofill { ${xr} }`),vg(it.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),vg(it.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let et=()=>{Qe&&Qe.style.setProperty("--root-height",`${Ve.clientHeight}px`)};et();let bt=new ResizeObserver(et);return bt.observe(Ve),()=>{document.removeEventListener("selectionchange",gt,{capture:!0}),bt.disconnect()}},[]);let[J,Z]=j.useState(!1),[de,re]=j.useState(!1),[pe,Ne]=j.useState(null),[Se,xe]=j.useState(null);j.useEffect(()=>{Eoe(()=>{var Ve,Qe,gt,et;(Ve=Q.current)==null||Ve.dispatchEvent(new Event("input"));let bt=(Qe=Q.current)==null?void 0:Qe.selectionStart,it=(gt=Q.current)==null?void 0:gt.selectionEnd,xr=(et=Q.current)==null?void 0:et.selectionDirection;bt!==null&&it!==null&&(Ne(bt),xe(it),H.current.prev=[bt,it,xr])})},[L,de]),j.useEffect(()=>{$!==void 0&&L!==$&&$.length<i&&L.length===i&&(g==null||g(L))},[i,g,$,L]);let Pe=Moe({containerRef:X,inputRef:Q,pushPasswordManagerStrategy:x,isFocused:de}),se=j.useCallback(Ve=>{let Qe=Ve.currentTarget.value.slice(0,i);if(Qe.length>0&&Y&&!Y.test(Qe)){Ve.preventDefault();return}typeof $=="string"&&Qe.length<$.length&&document.dispatchEvent(new Event("selectionchange")),W(Qe)},[i,W,$,Y]),ce=j.useCallback(()=>{var Ve;if(Q.current){let Qe=Math.min(Q.current.value.length,i-1),gt=Q.current.value.length;(Ve=Q.current)==null||Ve.setSelectionRange(Qe,gt),Ne(Qe),xe(gt)}re(!0)},[i]),oe=j.useCallback(Ve=>{var Qe,gt;let et=Q.current;if(!w&&(!G.current.isIOS||!Ve.clipboardData||!et))return;let bt=Ve.clipboardData.getData("text/plain"),it=w?w(bt):bt;Ve.preventDefault();let xr=(Qe=Q.current)==null?void 0:Qe.selectionStart,ct=(gt=Q.current)==null?void 0:gt.selectionEnd,bn=(xr!==ct?L.slice(0,xr)+it+L.slice(ct):L.slice(0,xr)+it+L.slice(xr)).slice(0,i);if(bn.length>0&&Y&&!Y.test(bn))return;et.value=bn,W(bn);let Jr=Math.min(bn.length,i-1),vr=bn.length;et.setSelectionRange(Jr,vr),Ne(Jr),xe(vr)},[i,W,Y,L]),he=j.useMemo(()=>({position:"relative",cursor:M.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[M.disabled]),Re=j.useMemo(()=>({position:"absolute",inset:0,width:Pe.willPushPWMBadge?`calc(100% + ${Pe.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Pe.willPushPWMBadge?`inset(0 ${Pe.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Pe.PWM_BADGE_SPACE_WIDTH,Pe.willPushPWMBadge,o]),be=j.useMemo(()=>j.createElement("input",Soe(Noe({autoComplete:M.autoComplete||"one-time-code"},M),{"data-input-otp":!0,"data-input-otp-placeholder-shown":L.length===0||void 0,"data-input-otp-mss":pe,"data-input-otp-mse":Se,inputMode:f,pattern:Y==null?void 0:Y.source,"aria-placeholder":m,style:Re,maxLength:i,value:L,ref:Q,onPaste:Ve=>{var Qe;oe(Ve),(Qe=M.onPaste)==null||Qe.call(M,Ve)},onChange:se,onMouseOver:Ve=>{var Qe;Z(!0),(Qe=M.onMouseOver)==null||Qe.call(M,Ve)},onMouseLeave:Ve=>{var Qe;Z(!1),(Qe=M.onMouseLeave)==null||Qe.call(M,Ve)},onFocus:Ve=>{var Qe;ce(),(Qe=M.onFocus)==null||Qe.call(M,Ve)},onBlur:Ve=>{var Qe;re(!1),(Qe=M.onBlur)==null||Qe.call(M,Ve)}})),[se,ce,oe,f,Re,i,Se,pe,M,Y==null?void 0:Y.source,L]),ye=j.useMemo(()=>({slots:Array.from({length:i}).map((Ve,Qe)=>{var gt;let et=de&&pe!==null&&Se!==null&&(pe===Se&&Qe===pe||Qe>=pe&&Qe<Se),bt=L[Qe]!==void 0?L[Qe]:null,it=L[0]!==void 0?null:(gt=m==null?void 0:m[Qe])!=null?gt:null;return{char:bt,placeholderChar:it,isActive:et,hasFakeCaret:et&&bt===null}}),isFocused:de,isHovering:!M.disabled&&J}),[de,J,i,Se,pe,M.disabled,L]),Ke=j.useMemo(()=>A?A(ye):j.createElement(S7.Provider,{value:ye},E),[E,ye,A]);return j.createElement(j.Fragment,null,C!==null&&j.createElement("noscript",null,j.createElement("style",null,C)),j.createElement("div",{ref:X,"data-input-otp-container":!0,style:he,className:_},Ke,j.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},be)))});_7.displayName="Input";function vg(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var Doe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function Poe({className:e,containerClassName:t,...n}){return a.jsx(_7,{"data-slot":"input-otp",containerClassName:_t("flex items-center gap-2 has-disabled:opacity-50",t),className:_t("disabled:cursor-not-allowed",e),...n})}function Roe({className:e,...t}){return a.jsx("div",{"data-slot":"input-otp-group",className:_t("flex items-center",e),...t})}function Jf({index:e,className:t,...n}){const r=j.useContext(S7),{char:s,hasFakeCaret:i,isActive:o}=(r==null?void 0:r.slots[e])??{};return a.jsxs("div",{"data-slot":"input-otp-slot","data-active":o,className:_t("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...n,children:[s,i&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function koe(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState(!1),[o,u]=j.useState(!1),[m,f]=j.useState(""),[g,x]=j.useState(60),[w,_]=j.useState(!1),[C]=c5(),A=po(),{t:E}=Ut(),{user:M}=$t(),D=C.get("type")||"email_verification",R=C.get("email")||(M==null?void 0:M.email)||"",z=C.get("phone")||"";j.useEffect(()=>{if(g>0){const $=setTimeout(()=>x(g-1),1e3);return()=>clearTimeout($)}else _(!0)},[g]);const k=(()=>{switch(D){case"email_verification":return{title:"Verify Your Email",description:`We've sent a 6-digit verification code to ${R}. Please enter it below to verify your email address.`,icon:a.jsx(Uy,{className:"h-6 w-6"}),successMessage:"Email verified successfully!",resendText:"Resend verification email"};case"password_reset":return{title:"Reset Your Password",description:`We've sent a 6-digit code to ${R}. Enter it below to reset your password.`,icon:a.jsx(Qc,{className:"h-6 w-6"}),successMessage:"Code verified! You can now reset your password.",resendText:"Resend reset code"};case"phone_verification":return{title:"Verify Your Phone",description:`We've sent a 6-digit verification code to ${z}. Please enter it below.`,icon:a.jsx(Qc,{className:"h-6 w-6"}),successMessage:"Phone number verified successfully!",resendText:"Resend SMS code"};default:return{title:"Verify Code",description:"Please enter the verification code sent to you.",icon:a.jsx(Qc,{className:"h-6 w-6"}),successMessage:"Code verified successfully!",resendText:"Resend code"}}})(),F=async()=>{if(e.length!==6){r("Please enter a 6-digit code");return}r(""),i(!0);try{switch(D){case"email_verification":const{error:$}=await $e.auth.verifyOtp({email:R,token:e,type:"signup"});$?r($.message):(f(k.successMessage),setTimeout(()=>A("/"),2e3));break;case"password_reset":const{error:W}=await $e.auth.verifyOtp({email:R,token:e,type:"recovery"});W?r(W.message):(f(k.successMessage),setTimeout(()=>A(`/reset-password?token=${e}&email=${R}`),2e3));break;case"phone_verification":const{error:Y}=await $e.auth.verifyOtp({phone:z,token:e,type:"sms"});Y?r(Y.message):(f(k.successMessage),setTimeout(()=>A("/"),2e3));break;default:r("Invalid verification type")}}catch{r("An unexpected error occurred. Please try again.")}finally{i(!1)}},V=async()=>{u(!0),r(""),f("");try{switch(D){case"email_verification":const{error:$}=await $e.auth.resend({type:"signup",email:R});$?r($.message):(f("Verification email sent again!"),x(60),_(!1));break;case"password_reset":const{error:W}=await $e.auth.resetPasswordForEmail(R,{redirectTo:`${window.location.origin}/otp-verification?type=password_reset&email=${R}`});W?r(W.message):(f("Reset code sent again!"),x(60),_(!1));break;case"phone_verification":f("SMS code sent again!"),x(60),_(!1);break}}catch{r("Failed to resend code. Please try again.")}finally{u(!1)}},L=$=>{t($),r(""),$.length===6&&setTimeout(F,500)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Qt,{to:"/login",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(tm,{className:"h-4 w-4"}),"Back to Login"]}),a.jsxs(qe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]})]}),a.jsxs(ue,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Te,{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:k.icon})}),a.jsx(Oe,{className:"text-2xl font-bold text-white",children:k.title}),a.jsx(st,{className:"text-center text-gray-400 leading-relaxed",children:k.description})]}),a.jsxs(fe,{className:"space-y-6",children:[n&&a.jsx(us,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ds,{className:"text-red-400",children:n})}),m&&a.jsxs(us,{className:"bg-green-500/10 border-green-500/20",children:[a.jsx(_r,{className:"h-4 w-4 text-green-400"}),a.jsx(ds,{className:"text-green-400",children:m})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ze,{className:"text-center block text-white",children:"Enter 6-digit verification code"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(Poe,{maxLength:6,value:e,onChange:L,className:"gap-3",children:a.jsxs(Roe,{children:[a.jsx(Jf,{index:0,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Jf,{index:1,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Jf,{index:2,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Jf,{index:3,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Jf,{index:4,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Jf,{index:5,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"})]})})})]}),a.jsxs(we,{onClick:F,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold",disabled:s||e.length!==6,children:[s&&a.jsx(zs,{className:"mr-2 h-5 w-5 animate-spin"}),"Verify Code"]}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Didn't receive the code?"}),w?a.jsxs(we,{variant:"ghost",onClick:V,disabled:o,className:"text-blue-400 hover:text-blue-300 hover:bg-blue-400/10",children:[o?a.jsx(zs,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Td,{className:"mr-2 h-4 w-4"}),k.resendText]}):a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[a.jsx(Hn,{className:"h-4 w-4"}),a.jsxs("span",{children:["Resend available in ",g,"s"]})]})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:"Secure Verification"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:"Encrypted"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:"Protected"})]})]})})]})]})}function Ioe(){const[e,t]=j.useState({password:"",confirmPassword:""}),[n,r]=j.useState(!1),[s,i]=j.useState(!1),[o,u]=j.useState(""),[m,f]=j.useState(!1),[g,x]=j.useState(""),[w]=c5(),_=po(),{t:C}=Ut(),A=w.get("token");w.get("email"),j.useEffect(()=>{A||_("/forgot-password")},[A,_]);const E=async D=>{if(D.preventDefault(),u(""),x(""),e.password!==e.confirmPassword){u("Passwords do not match");return}if(e.password.length<6){u("Password must be at least 6 characters");return}if(!A){u("Invalid reset token");return}f(!0);try{const{error:R}=await $e.auth.updateUser({password:e.password});R?u(R.message):(x("Password updated successfully! Redirecting to login..."),setTimeout(()=>_("/login"),3e3))}catch{u("An unexpected error occurred")}finally{f(!1)}},M=(D,R)=>{t(z=>({...z,[D]:R})),u("")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(ca,{className:"h-6 w-6"})}),a.jsx("h1",{className:"text-2xl font-bold text-primary",children:C("app.name")})]}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(Qc,{className:"h-6 w-6"})})}),a.jsx(Oe,{className:"text-2xl font-bold",children:"Reset Your Password"}),a.jsx(st,{children:"Enter your new password below"})]}),a.jsxs(fe,{children:[a.jsxs("form",{onSubmit:E,className:"space-y-4",children:[o&&a.jsx(us,{variant:"destructive",children:a.jsx(ds,{children:o})}),g&&a.jsx(us,{children:a.jsx(ds,{className:"text-green-600",children:g})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"password",type:n?"text":"password",value:e.password,onChange:D=>M("password",D.target.value),placeholder:"Enter new password",required:!0,minLength:6}),a.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),children:n?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Password must be at least 6 characters long"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"confirmPassword",type:s?"text":"password",value:e.confirmPassword,onChange:D=>M("confirmPassword",D.target.value),placeholder:"Confirm new password",required:!0}),a.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!s),children:s?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})})]})]}),a.jsxs(we,{type:"submit",className:"w-full",disabled:m,children:[m&&a.jsx(zs,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Qt,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[a.jsx(tm,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})]})}var P2={exports:{}},R2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP;function Loe(){if(uP)return R2;uP=1;var e=Hh();function t(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function u(x,w){var _=w(),C=r({inst:{value:_,getSnapshot:w}}),A=C[0].inst,E=C[1];return i(function(){A.value=_,A.getSnapshot=w,m(A)&&E({inst:A})},[x,_,w]),s(function(){return m(A)&&E({inst:A}),x(function(){m(A)&&E({inst:A})})},[x]),o(_),_}function m(x){var w=x.getSnapshot;x=x.value;try{var _=w();return!n(x,_)}catch{return!0}}function f(x,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return R2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,R2}var dP;function E7(){return dP||(dP=1,P2.exports=Loe()),P2.exports}var Boe=E7();function Foe(){return Boe.useSyncExternalStore(Uoe,()=>!0,()=>!1)}function Uoe(){return()=>{}}var lA="Avatar",[zoe,CTe]=$s(lA),[Voe,A7]=zoe(lA),C7=j.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=j.useState("idle");return a.jsx(Voe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(St.span,{...r,ref:t})})});C7.displayName=lA;var T7="AvatarImage",O7=j.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,o=A7(T7,n),u=$oe(r,i),m=Oa(f=>{s(f),o.onImageLoadingStatusChange(f)});return ua(()=>{u!=="idle"&&m(u)},[u,m]),u==="loaded"?a.jsx(St.img,{...i,ref:t,src:r}):null});O7.displayName=T7;var M7="AvatarFallback",D7=j.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=A7(M7,n),[o,u]=j.useState(r===void 0);return j.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(m)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(St.span,{...s,ref:t}):null});D7.displayName=M7;function fP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $oe(e,{referrerPolicy:t,crossOrigin:n}){const r=Foe(),s=j.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,u]=j.useState(()=>fP(i,e));return ua(()=>{u(fP(i,e))},[i,e]),ua(()=>{const m=x=>()=>{u(x)};if(!i)return;const f=m("loaded"),g=m("error");return i.addEventListener("load",f),i.addEventListener("error",g),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",f),i.removeEventListener("error",g)}},[i,n,t]),o}var Hoe=C7,qoe=O7,Yoe=D7;function lp({className:e,...t}){return a.jsx(Hoe,{"data-slot":"avatar",className:_t("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function cp({className:e,...t}){return a.jsx(qoe,{"data-slot":"avatar-image",className:_t("aspect-square size-full",e),...t})}function up({className:e,...t}){return a.jsx(Yoe,{"data-slot":"avatar-fallback",className:_t("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const Woe=FE("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Je({className:e,variant:t,asChild:n=!1,...r}){const s=n?VL:"span";return a.jsx(s,{"data-slot":"badge",className:_t(Woe({variant:t}),e),...r})}var Goe="Separator",hP="horizontal",Koe=["horizontal","vertical"],P7=j.forwardRef((e,t)=>{const{decorative:n,orientation:r=hP,...s}=e,i=Xoe(r)?r:hP,u=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(St.div,{"data-orientation":i,...u,...s,ref:t})});P7.displayName=Goe;function Xoe(e){return Koe.includes(e)}var Qoe=P7;function hi({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return a.jsx(Qoe,{"data-slot":"separator-root",decorative:n,orientation:t,className:_t("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}var k2="rovingFocusGroup.onEntryFocus",Zoe={bubbles:!1,cancelable:!0},Vp="RovingFocusGroup",[qS,R7,Joe]=GE(Vp),[ele,Zy]=$s(Vp,[Joe]),[tle,nle]=ele(Vp),k7=j.forwardRef((e,t)=>a.jsx(qS.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(qS.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(rle,{...e,ref:t})})}));k7.displayName=Vp;var rle=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...x}=e,w=j.useRef(null),_=Zt(t,w),C=Ip(i),[A,E]=Yl({prop:o,defaultProp:u??null,onChange:m,caller:Vp}),[M,D]=j.useState(!1),R=Oa(f),z=R7(n),I=j.useRef(!1),[k,F]=j.useState(0);return j.useEffect(()=>{const V=w.current;if(V)return V.addEventListener(k2,R),()=>V.removeEventListener(k2,R)},[R]),a.jsx(tle,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:A,onItemFocus:j.useCallback(V=>E(V),[E]),onItemShiftTab:j.useCallback(()=>D(!0),[]),onFocusableItemAdd:j.useCallback(()=>F(V=>V+1),[]),onFocusableItemRemove:j.useCallback(()=>F(V=>V-1),[]),children:a.jsx(St.div,{tabIndex:M||k===0?-1:0,"data-orientation":r,...x,ref:_,style:{outline:"none",...e.style},onMouseDown:lt(e.onMouseDown,()=>{I.current=!0}),onFocus:lt(e.onFocus,V=>{const L=!I.current;if(V.target===V.currentTarget&&L&&!M){const $=new CustomEvent(k2,Zoe);if(V.currentTarget.dispatchEvent($),!$.defaultPrevented){const W=z().filter(H=>H.focusable),Y=W.find(H=>H.active),Q=W.find(H=>H.id===A),G=[Y,Q,...W].filter(Boolean).map(H=>H.ref.current);B7(G,g)}}I.current=!1}),onBlur:lt(e.onBlur,()=>D(!1))})})}),I7="RovingFocusGroupItem",L7=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...u}=e,m=uo(),f=i||m,g=nle(I7,n),x=g.currentTabStopId===f,w=R7(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:A}=g;return j.useEffect(()=>{if(r)return _(),()=>C()},[r,_,C]),a.jsx(qS.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:a.jsx(St.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:lt(e.onMouseDown,E=>{r?g.onItemFocus(f):E.preventDefault()}),onFocus:lt(e.onFocus,()=>g.onItemFocus(f)),onKeyDown:lt(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const M=ile(E,g.orientation,g.dir);if(M!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let R=w().filter(z=>z.focusable).map(z=>z.ref.current);if(M==="last")R.reverse();else if(M==="prev"||M==="next"){M==="prev"&&R.reverse();const z=R.indexOf(E.currentTarget);R=g.loop?ole(R,z+1):R.slice(z+1)}setTimeout(()=>B7(R))}}),children:typeof o=="function"?o({isCurrentTabStop:x,hasTabStop:A!=null}):o})})});L7.displayName=I7;var ale={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ile(e,t,n){const r=sle(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ale[r]}function B7(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ole(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var F7=k7,U7=L7,YS=["Enter"," "],lle=["ArrowDown","PageUp","Home"],z7=["ArrowUp","PageDown","End"],cle=[...lle,...z7],ule={ltr:[...YS,"ArrowRight"],rtl:[...YS,"ArrowLeft"]},dle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$p="Menu",[dp,fle,hle]=GE($p),[qd,V7]=$s($p,[hle,im,Zy]),Jy=im(),$7=Zy(),[mle,Yd]=qd($p),[gle,Hp]=qd($p),H7=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,u=Jy(t),[m,f]=j.useState(null),g=j.useRef(!1),x=Oa(i),w=Ip(s);return j.useEffect(()=>{const _=()=>{g.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>g.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),a.jsx(aA,{...u,children:a.jsx(mle,{scope:t,open:n,onOpenChange:x,content:m,onContentChange:f,children:a.jsx(gle,{scope:t,onClose:j.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:w,modal:o,children:r})})})};H7.displayName=$p;var ple="MenuAnchor",cA=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Jy(n);return a.jsx(Yy,{...s,...r,ref:t})});cA.displayName=ple;var uA="MenuPortal",[xle,q7]=qd(uA,{forceMount:void 0}),Y7=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Yd(uA,t);return a.jsx(xle,{scope:t,forceMount:n,children:a.jsx(ms,{present:n||i.open,children:a.jsx(Up,{asChild:!0,container:s,children:r})})})};Y7.displayName=uA;var Li="MenuContent",[vle,dA]=qd(Li),W7=j.forwardRef((e,t)=>{const n=q7(Li,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Yd(Li,e.__scopeMenu),o=Hp(Li,e.__scopeMenu);return a.jsx(dp.Provider,{scope:e.__scopeMenu,children:a.jsx(ms,{present:r||i.open,children:a.jsx(dp.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(yle,{...s,ref:t}):a.jsx(ble,{...s,ref:t})})})})}),yle=j.forwardRef((e,t)=>{const n=Yd(Li,e.__scopeMenu),r=j.useRef(null),s=Zt(t,r);return j.useEffect(()=>{const i=r.current;if(i)return Wy(i)},[]),a.jsx(fA,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:lt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ble=j.forwardRef((e,t)=>{const n=Yd(Li,e.__scopeMenu);return a.jsx(fA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wle=ru("MenuContent.ScrollLock"),fA=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:m,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:w,onDismiss:_,disableOutsideScroll:C,...A}=e,E=Yd(Li,n),M=Hp(Li,n),D=Jy(n),R=$7(n),z=fle(n),[I,k]=j.useState(null),F=j.useRef(null),V=Zt(t,F,E.onContentChange),L=j.useRef(0),$=j.useRef(""),W=j.useRef(0),Y=j.useRef(null),Q=j.useRef("right"),X=j.useRef(0),G=C?zp:j.Fragment,H=C?{as:wle,allowPinchZoom:!0}:void 0,J=de=>{var ce,oe;const re=$.current+de,pe=z().filter(he=>!he.disabled),Ne=document.activeElement,Se=(ce=pe.find(he=>he.ref.current===Ne))==null?void 0:ce.textValue,xe=pe.map(he=>he.textValue),Pe=Ple(xe,re,Se),se=(oe=pe.find(he=>he.textValue===Pe))==null?void 0:oe.ref.current;(function he(Re){$.current=Re,window.clearTimeout(L.current),Re!==""&&(L.current=window.setTimeout(()=>he(""),1e3))})(re),se&&setTimeout(()=>se.focus())};j.useEffect(()=>()=>window.clearTimeout(L.current),[]),Vy();const Z=j.useCallback(de=>{var pe,Ne;return Q.current===((pe=Y.current)==null?void 0:pe.side)&&kle(de,(Ne=Y.current)==null?void 0:Ne.area)},[]);return a.jsx(vle,{scope:n,searchRef:$,onItemEnter:j.useCallback(de=>{Z(de)&&de.preventDefault()},[Z]),onItemLeave:j.useCallback(de=>{var re;Z(de)||((re=F.current)==null||re.focus(),k(null))},[Z]),onTriggerLeave:j.useCallback(de=>{Z(de)&&de.preventDefault()},[Z]),pointerGraceTimerRef:W,onPointerGraceIntentChange:j.useCallback(de=>{Y.current=de},[]),children:a.jsx(G,{...H,children:a.jsx(Bp,{asChild:!0,trapped:s,onMountAutoFocus:lt(i,de=>{var re;de.preventDefault(),(re=F.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Lp,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:w,onDismiss:_,children:a.jsx(F7,{asChild:!0,...R,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:k,onEntryFocus:lt(m,de=>{M.isUsingKeyboardRef.current||de.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(sA,{role:"menu","aria-orientation":"vertical","data-state":c9(E.open),"data-radix-menu-content":"",dir:M.dir,...D,...A,ref:V,style:{outline:"none",...A.style},onKeyDown:lt(A.onKeyDown,de=>{const pe=de.target.closest("[data-radix-menu-content]")===de.currentTarget,Ne=de.ctrlKey||de.altKey||de.metaKey,Se=de.key.length===1;pe&&(de.key==="Tab"&&de.preventDefault(),!Ne&&Se&&J(de.key));const xe=F.current;if(de.target!==xe||!cle.includes(de.key))return;de.preventDefault();const se=z().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);z7.includes(de.key)&&se.reverse(),Mle(se)}),onBlur:lt(e.onBlur,de=>{de.currentTarget.contains(de.target)||(window.clearTimeout(L.current),$.current="")}),onPointerMove:lt(e.onPointerMove,fp(de=>{const re=de.target,pe=X.current!==de.clientX;if(de.currentTarget.contains(re)&&pe){const Ne=de.clientX>X.current?"right":"left";Q.current=Ne,X.current=de.clientX}}))})})})})})})});W7.displayName=Li;var jle="MenuGroup",hA=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(St.div,{role:"group",...r,ref:t})});hA.displayName=jle;var Nle="MenuLabel",G7=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(St.div,{...r,ref:t})});G7.displayName=Nle;var Rv="MenuItem",mP="menu.itemSelect",e1=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=j.useRef(null),o=Hp(Rv,e.__scopeMenu),u=dA(Rv,e.__scopeMenu),m=Zt(t,i),f=j.useRef(!1),g=()=>{const x=i.current;if(!n&&x){const w=new CustomEvent(mP,{bubbles:!0,cancelable:!0});x.addEventListener(mP,_=>r==null?void 0:r(_),{once:!0}),iB(x,w),w.defaultPrevented?f.current=!1:o.onClose()}};return a.jsx(K7,{...s,ref:m,disabled:n,onClick:lt(e.onClick,g),onPointerDown:x=>{var w;(w=e.onPointerDown)==null||w.call(e,x),f.current=!0},onPointerUp:lt(e.onPointerUp,x=>{var w;f.current||(w=x.currentTarget)==null||w.click()}),onKeyDown:lt(e.onKeyDown,x=>{const w=u.searchRef.current!=="";n||w&&x.key===" "||YS.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});e1.displayName=Rv;var K7=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=dA(Rv,n),u=$7(n),m=j.useRef(null),f=Zt(t,m),[g,x]=j.useState(!1),[w,_]=j.useState("");return j.useEffect(()=>{const C=m.current;C&&_((C.textContent??"").trim())},[i.children]),a.jsx(dp.ItemSlot,{scope:n,disabled:r,textValue:s??w,children:a.jsx(U7,{asChild:!0,...u,focusable:!r,children:a.jsx(St.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:f,onPointerMove:lt(e.onPointerMove,fp(C=>{r?o.onItemLeave(C):(o.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:lt(e.onPointerLeave,fp(C=>o.onItemLeave(C))),onFocus:lt(e.onFocus,()=>x(!0)),onBlur:lt(e.onBlur,()=>x(!1))})})})}),Sle="MenuCheckboxItem",X7=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(t9,{scope:e.__scopeMenu,checked:n,children:a.jsx(e1,{role:"menuitemcheckbox","aria-checked":kv(n)?"mixed":n,...s,ref:t,"data-state":gA(n),onSelect:lt(s.onSelect,()=>r==null?void 0:r(kv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});X7.displayName=Sle;var Q7="MenuRadioGroup",[_le,Ele]=qd(Q7,{value:void 0,onValueChange:()=>{}}),Z7=j.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=Oa(r);return a.jsx(_le,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(hA,{...s,ref:t})})});Z7.displayName=Q7;var J7="MenuRadioItem",e9=j.forwardRef((e,t)=>{const{value:n,...r}=e,s=Ele(J7,e.__scopeMenu),i=n===s.value;return a.jsx(t9,{scope:e.__scopeMenu,checked:i,children:a.jsx(e1,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":gA(i),onSelect:lt(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});e9.displayName=J7;var mA="MenuItemIndicator",[t9,Ale]=qd(mA,{checked:!1}),n9=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=Ale(mA,n);return a.jsx(ms,{present:r||kv(i.checked)||i.checked===!0,children:a.jsx(St.span,{...s,ref:t,"data-state":gA(i.checked)})})});n9.displayName=mA;var Cle="MenuSeparator",r9=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(St.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});r9.displayName=Cle;var Tle="MenuArrow",a9=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Jy(n);return a.jsx(iA,{...s,...r,ref:t})});a9.displayName=Tle;var Ole="MenuSub",[TTe,s9]=qd(Ole),kg="MenuSubTrigger",i9=j.forwardRef((e,t)=>{const n=Yd(kg,e.__scopeMenu),r=Hp(kg,e.__scopeMenu),s=s9(kg,e.__scopeMenu),i=dA(kg,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:m}=i,f={__scopeMenu:e.__scopeMenu},g=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>g,[g]),j.useEffect(()=>{const x=u.current;return()=>{window.clearTimeout(x),m(null)}},[u,m]),a.jsx(cA,{asChild:!0,...f,children:a.jsx(K7,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":c9(n.open),...e,ref:Ly(t,s.onTriggerChange),onClick:x=>{var w;(w=e.onClick)==null||w.call(e,x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:lt(e.onPointerMove,fp(x=>{i.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:lt(e.onPointerLeave,fp(x=>{var _,C;g();const w=(_=n.content)==null?void 0:_.getBoundingClientRect();if(w){const A=(C=n.content)==null?void 0:C.dataset.side,E=A==="right",M=E?-5:5,D=w[E?"left":"right"],R=w[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:x.clientX+M,y:x.clientY},{x:D,y:w.top},{x:R,y:w.top},{x:R,y:w.bottom},{x:D,y:w.bottom}],side:A}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(x),x.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:lt(e.onKeyDown,x=>{var _;const w=i.searchRef.current!=="";e.disabled||w&&x.key===" "||ule[r.dir].includes(x.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),x.preventDefault())})})})});i9.displayName=kg;var o9="MenuSubContent",l9=j.forwardRef((e,t)=>{const n=q7(Li,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Yd(Li,e.__scopeMenu),o=Hp(Li,e.__scopeMenu),u=s9(o9,e.__scopeMenu),m=j.useRef(null),f=Zt(t,m);return a.jsx(dp.Provider,{scope:e.__scopeMenu,children:a.jsx(ms,{present:r||i.open,children:a.jsx(dp.Slot,{scope:e.__scopeMenu,children:a.jsx(fA,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var x;o.isUsingKeyboardRef.current&&((x=m.current)==null||x.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:lt(e.onFocusOutside,g=>{g.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:lt(e.onEscapeKeyDown,g=>{o.onClose(),g.preventDefault()}),onKeyDown:lt(e.onKeyDown,g=>{var _;const x=g.currentTarget.contains(g.target),w=dle[o.dir].includes(g.key);x&&w&&(i.onOpenChange(!1),(_=u.trigger)==null||_.focus(),g.preventDefault())})})})})})});l9.displayName=o9;function c9(e){return e?"open":"closed"}function kv(e){return e==="indeterminate"}function gA(e){return kv(e)?"indeterminate":e?"checked":"unchecked"}function Mle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Dle(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ple(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Dle(e,Math.max(i,0));s.length===1&&(o=o.filter(f=>f!==n));const m=o.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return m!==n?m:void 0}function Rle(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const u=t[i],m=t[o],f=u.x,g=u.y,x=m.x,w=m.y;g>r!=w>r&&n<(x-f)*(r-g)/(w-g)+f&&(s=!s)}return s}function kle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Rle(n,t)}function fp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ile=H7,Lle=cA,Ble=Y7,Fle=W7,Ule=hA,zle=G7,Vle=e1,$le=X7,Hle=Z7,qle=e9,Yle=n9,Wle=r9,Gle=a9,Kle=i9,Xle=l9,t1="DropdownMenu",[Qle,OTe]=$s(t1,[V7]),Ts=V7(),[Zle,u9]=Qle(t1),d9=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=e,m=Ts(t),f=j.useRef(null),[g,x]=Yl({prop:s,defaultProp:i??!1,onChange:o,caller:t1});return a.jsx(Zle,{scope:t,triggerId:uo(),triggerRef:f,contentId:uo(),open:g,onOpenChange:x,onOpenToggle:j.useCallback(()=>x(w=>!w),[x]),modal:u,children:a.jsx(Ile,{...m,open:g,onOpenChange:x,dir:r,modal:u,children:n})})};d9.displayName=t1;var f9="DropdownMenuTrigger",h9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=u9(f9,n),o=Ts(n);return a.jsx(Lle,{asChild:!0,...o,children:a.jsx(St.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ly(t,i.triggerRef),onPointerDown:lt(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:lt(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});h9.displayName=f9;var Jle="DropdownMenuPortal",m9=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ts(t);return a.jsx(Ble,{...r,...n})};m9.displayName=Jle;var g9="DropdownMenuContent",p9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=u9(g9,n),i=Ts(n),o=j.useRef(!1);return a.jsx(Fle,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:lt(e.onCloseAutoFocus,u=>{var m;o.current||(m=s.triggerRef.current)==null||m.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:lt(e.onInteractOutside,u=>{const m=u.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0,g=m.button===2||f;(!s.modal||g)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});p9.displayName=g9;var ece="DropdownMenuGroup",tce=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(Ule,{...s,...r,ref:t})});tce.displayName=ece;var nce="DropdownMenuLabel",x9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(zle,{...s,...r,ref:t})});x9.displayName=nce;var rce="DropdownMenuItem",v9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(Vle,{...s,...r,ref:t})});v9.displayName=rce;var ace="DropdownMenuCheckboxItem",sce=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx($le,{...s,...r,ref:t})});sce.displayName=ace;var ice="DropdownMenuRadioGroup",oce=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(Hle,{...s,...r,ref:t})});oce.displayName=ice;var lce="DropdownMenuRadioItem",cce=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(qle,{...s,...r,ref:t})});cce.displayName=lce;var uce="DropdownMenuItemIndicator",dce=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(Yle,{...s,...r,ref:t})});dce.displayName=uce;var fce="DropdownMenuSeparator",y9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(Wle,{...s,...r,ref:t})});y9.displayName=fce;var hce="DropdownMenuArrow",mce=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(Gle,{...s,...r,ref:t})});mce.displayName=hce;var gce="DropdownMenuSubTrigger",pce=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(Kle,{...s,...r,ref:t})});pce.displayName=gce;var xce="DropdownMenuSubContent",vce=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ts(n);return a.jsx(Xle,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vce.displayName=xce;var yce=d9,bce=h9,wce=m9,jce=p9,Nce=x9,Sce=v9,_ce=y9;function b9({...e}){return a.jsx(yce,{"data-slot":"dropdown-menu",...e})}function w9({...e}){return a.jsx(bce,{"data-slot":"dropdown-menu-trigger",...e})}function j9({className:e,sideOffset:t=4,...n}){return a.jsx(wce,{children:a.jsx(jce,{"data-slot":"dropdown-menu-content",sideOffset:t,className:_t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function yh({className:e,inset:t,variant:n="default",...r}){return a.jsx(Sce,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:_t("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function Ece({className:e,inset:t,...n}){return a.jsx(Nce,{"data-slot":"dropdown-menu-label","data-inset":t,className:_t("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function gP({className:e,...t}){return a.jsx(_ce,{"data-slot":"dropdown-menu-separator",className:_t("bg-border -mx-1 my-1 h-px",e),...t})}var n1="Dialog",[N9,MTe]=$s(n1),[Ace,xo]=N9(n1),S9=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,u=j.useRef(null),m=j.useRef(null),[f,g]=Yl({prop:r,defaultProp:s??!1,onChange:i,caller:n1});return a.jsx(Ace,{scope:t,triggerRef:u,contentRef:m,contentId:uo(),titleId:uo(),descriptionId:uo(),open:f,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(x=>!x),[g]),modal:o,children:n})};S9.displayName=n1;var _9="DialogTrigger",E9=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xo(_9,n),i=Zt(t,s.triggerRef);return a.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vA(s.open),...r,ref:i,onClick:lt(e.onClick,s.onOpenToggle)})});E9.displayName=_9;var pA="DialogPortal",[Cce,A9]=N9(pA,{forceMount:void 0}),C9=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=xo(pA,t);return a.jsx(Cce,{scope:t,forceMount:n,children:j.Children.map(r,o=>a.jsx(ms,{present:n||i.open,children:a.jsx(Up,{asChild:!0,container:s,children:o})}))})};C9.displayName=pA;var Iv="DialogOverlay",T9=j.forwardRef((e,t)=>{const n=A9(Iv,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=xo(Iv,e.__scopeDialog);return i.modal?a.jsx(ms,{present:r||i.open,children:a.jsx(Oce,{...s,ref:t})}):null});T9.displayName=Iv;var Tce=ru("DialogOverlay.RemoveScroll"),Oce=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xo(Iv,n);return a.jsx(zp,{as:Tce,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(St.div,{"data-state":vA(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Rd="DialogContent",O9=j.forwardRef((e,t)=>{const n=A9(Rd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=xo(Rd,e.__scopeDialog);return a.jsx(ms,{present:r||i.open,children:i.modal?a.jsx(Mce,{...s,ref:t}):a.jsx(Dce,{...s,ref:t})})});O9.displayName=Rd;var Mce=j.forwardRef((e,t)=>{const n=xo(Rd,e.__scopeDialog),r=j.useRef(null),s=Zt(t,n.contentRef,r);return j.useEffect(()=>{const i=r.current;if(i)return Wy(i)},[]),a.jsx(M9,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:lt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0;(o.button===2||u)&&i.preventDefault()}),onFocusOutside:lt(e.onFocusOutside,i=>i.preventDefault())})}),Dce=j.forwardRef((e,t)=>{const n=xo(Rd,e.__scopeDialog),r=j.useRef(!1),s=j.useRef(!1);return a.jsx(M9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,u;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),M9=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,u=xo(Rd,n),m=j.useRef(null),f=Zt(t,m);return Vy(),a.jsxs(a.Fragment,{children:[a.jsx(Bp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Lp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":vA(u.open),...o,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Pce,{titleId:u.titleId}),a.jsx(kce,{contentRef:m,descriptionId:u.descriptionId})]})]})}),xA="DialogTitle",D9=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xo(xA,n);return a.jsx(St.h2,{id:s.titleId,...r,ref:t})});D9.displayName=xA;var P9="DialogDescription",R9=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xo(P9,n);return a.jsx(St.p,{id:s.descriptionId,...r,ref:t})});R9.displayName=P9;var k9="DialogClose",I9=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xo(k9,n);return a.jsx(St.button,{type:"button",...r,ref:t,onClick:lt(e.onClick,()=>s.onOpenChange(!1))})});I9.displayName=k9;function vA(e){return e?"open":"closed"}var L9="DialogTitleWarning",[DTe,B9]=Qre(L9,{contentName:Rd,titleName:xA,docsSlug:"dialog"}),Pce=({titleId:e})=>{const t=B9(L9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Rce="DialogDescriptionWarning",kce=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B9(Rce).contentName}}.`;return j.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},F9=S9,U9=E9,z9=C9,V9=T9,$9=O9,Ice=D9,Lce=R9,H9=I9;function Bce({...e}){return a.jsx(F9,{"data-slot":"sheet",...e})}function Fce({...e}){return a.jsx(U9,{"data-slot":"sheet-trigger",...e})}function Uce({...e}){return a.jsx(z9,{"data-slot":"sheet-portal",...e})}function zce({className:e,...t}){return a.jsx(V9,{"data-slot":"sheet-overlay",className:_t("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Vce({className:e,children:t,side:n="right",...r}){return a.jsxs(Uce,{children:[a.jsx(zce,{}),a.jsxs($9,{"data-slot":"sheet-content",className:_t("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,a.jsxs(H9,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(Hd,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function $ce(){const{theme:e,setTheme:t}=bG(),n=()=>{switch(e){case"light":return a.jsx(DS,{className:"h-4 w-4"});case"dark":return a.jsx(CS,{className:"h-4 w-4"});default:return a.jsx(LD,{className:"h-4 w-4"})}};return a.jsxs(b9,{children:[a.jsx(w9,{asChild:!0,children:a.jsxs(we,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[n(),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),a.jsxs(j9,{align:"end",children:[a.jsxs(yh,{onClick:()=>t("light"),className:"cursor-pointer",children:[a.jsx(DS,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Light"})]}),a.jsxs(yh,{onClick:()=>t("dark"),className:"cursor-pointer",children:[a.jsx(CS,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Dark"})]}),a.jsxs(yh,{onClick:()=>t("system"),className:"cursor-pointer",children:[a.jsx(LD,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"System"})]})]})]})}function Hce(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var yA="ScrollArea",[q9,PTe]=$s(yA),[qce,Hi]=q9(yA),Y9=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[u,m]=j.useState(null),[f,g]=j.useState(null),[x,w]=j.useState(null),[_,C]=j.useState(null),[A,E]=j.useState(null),[M,D]=j.useState(0),[R,z]=j.useState(0),[I,k]=j.useState(!1),[F,V]=j.useState(!1),L=Zt(t,W=>m(W)),$=Ip(s);return a.jsx(qce,{scope:n,type:r,dir:$,scrollHideDelay:i,scrollArea:u,viewport:f,onViewportChange:g,content:x,onContentChange:w,scrollbarX:_,onScrollbarXChange:C,scrollbarXEnabled:I,onScrollbarXEnabledChange:k,scrollbarY:A,onScrollbarYChange:E,scrollbarYEnabled:F,onScrollbarYEnabledChange:V,onCornerWidthChange:D,onCornerHeightChange:z,children:a.jsx(St.div,{dir:$,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":R+"px",...e.style}})})});Y9.displayName=yA;var W9="ScrollAreaViewport",G9=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=Hi(W9,n),u=j.useRef(null),m=Zt(t,u,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(St.div,{"data-radix-scroll-area-viewport":"",...i,ref:m,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});G9.displayName=W9;var il="ScrollAreaScrollbar",K9=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hi(il,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,u=e.orientation==="horizontal";return j.useEffect(()=>(u?i(!0):o(!0),()=>{u?i(!1):o(!1)}),[u,i,o]),s.type==="hover"?a.jsx(Yce,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(Wce,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(X9,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(bA,{...r,ref:t}):null});K9.displayName=il;var Yce=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hi(il,e.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const u=s.scrollArea;let m=0;if(u){const f=()=>{window.clearTimeout(m),o(!0)},g=()=>{m=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(m),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(ms,{present:n||i,children:a.jsx(X9,{"data-state":i?"visible":"hidden",...r,ref:t})})}),Wce=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hi(il,e.__scopeScrollArea),i=e.orientation==="horizontal",o=a1(()=>m("SCROLL_END"),100),[u,m]=Hce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>m("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,s.scrollHideDelay,m]),j.useEffect(()=>{const f=s.viewport,g=i?"scrollLeft":"scrollTop";if(f){let x=f[g];const w=()=>{const _=f[g];x!==_&&(m("SCROLL"),o()),x=_};return f.addEventListener("scroll",w),()=>f.removeEventListener("scroll",w)}},[s.viewport,i,m,o]),a.jsx(ms,{present:n||u!=="hidden",children:a.jsx(bA,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:lt(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:lt(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),X9=j.forwardRef((e,t)=>{const n=Hi(il,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=j.useState(!1),u=e.orientation==="horizontal",m=a1(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;o(u?f:g)}},10);return Mh(n.viewport,m),Mh(n.content,m),a.jsx(ms,{present:r||i,children:a.jsx(bA,{"data-state":i?"visible":"hidden",...s,ref:t})})}),bA=j.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Hi(il,e.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[u,m]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=tF(u.viewport,u.content),g={...r,sizes:u,onSizesChange:m,hasThumb:f>0&&f<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:w=>o.current=w};function x(w,_){return Jce(w,o.current,u,_)}return n==="horizontal"?a.jsx(Gce,{...g,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,_=pP(w,u,s.dir);i.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=x(w,s.dir))}}):n==="vertical"?a.jsx(Kce,{...g,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,_=pP(w,u);i.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=x(w))}}):null}),Gce=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Hi(il,e.__scopeScrollArea),[o,u]=j.useState(),m=j.useRef(null),f=Zt(t,m,i.onScrollbarXChange);return j.useEffect(()=>{m.current&&u(getComputedStyle(m.current))},[m]),a.jsx(Z9,{"data-orientation":"horizontal",...s,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":r1(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,x)=>{if(i.viewport){const w=i.viewport.scrollLeft+g.deltaX;e.onWheelScroll(w),rF(w,x)&&g.preventDefault()}},onResize:()=>{m.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Bv(o.paddingLeft),paddingEnd:Bv(o.paddingRight)}})}})}),Kce=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Hi(il,e.__scopeScrollArea),[o,u]=j.useState(),m=j.useRef(null),f=Zt(t,m,i.onScrollbarYChange);return j.useEffect(()=>{m.current&&u(getComputedStyle(m.current))},[m]),a.jsx(Z9,{"data-orientation":"vertical",...s,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":r1(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,x)=>{if(i.viewport){const w=i.viewport.scrollTop+g.deltaY;e.onWheelScroll(w),rF(w,x)&&g.preventDefault()}},onResize:()=>{m.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Bv(o.paddingTop),paddingEnd:Bv(o.paddingBottom)}})}})}),[Xce,Q9]=q9(il),Z9=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:u,onThumbPositionChange:m,onDragScroll:f,onWheelScroll:g,onResize:x,...w}=e,_=Hi(il,n),[C,A]=j.useState(null),E=Zt(t,L=>A(L)),M=j.useRef(null),D=j.useRef(""),R=_.viewport,z=r.content-r.viewport,I=Oa(g),k=Oa(m),F=a1(x,10);function V(L){if(M.current){const $=L.clientX-M.current.left,W=L.clientY-M.current.top;f({x:$,y:W})}}return j.useEffect(()=>{const L=$=>{const W=$.target;(C==null?void 0:C.contains(W))&&I($,z)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[R,C,z,I]),j.useEffect(k,[r,k]),Mh(C,F),Mh(_.content,F),a.jsx(Xce,{scope:n,scrollbar:C,hasThumb:s,onThumbChange:Oa(i),onThumbPointerUp:Oa(o),onThumbPositionChange:k,onThumbPointerDown:Oa(u),children:a.jsx(St.div,{...w,ref:E,style:{position:"absolute",...w.style},onPointerDown:lt(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),M.current=C.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),V(L))}),onPointerMove:lt(e.onPointerMove,V),onPointerUp:lt(e.onPointerUp,L=>{const $=L.target;$.hasPointerCapture(L.pointerId)&&$.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=D.current,_.viewport&&(_.viewport.style.scrollBehavior=""),M.current=null})})})}),Lv="ScrollAreaThumb",J9=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Q9(Lv,e.__scopeScrollArea);return a.jsx(ms,{present:n||s.hasThumb,children:a.jsx(Qce,{ref:t,...r})})}),Qce=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Hi(Lv,n),o=Q9(Lv,n),{onThumbPositionChange:u}=o,m=Zt(t,x=>o.onThumbChange(x)),f=j.useRef(void 0),g=a1(()=>{f.current&&(f.current(),f.current=void 0)},100);return j.useEffect(()=>{const x=i.viewport;if(x){const w=()=>{if(g(),!f.current){const _=eue(x,u);f.current=_,u()}};return u(),x.addEventListener("scroll",w),()=>x.removeEventListener("scroll",w)}},[i.viewport,g,u]),a.jsx(St.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:lt(e.onPointerDownCapture,x=>{const _=x.target.getBoundingClientRect(),C=x.clientX-_.left,A=x.clientY-_.top;o.onThumbPointerDown({x:C,y:A})}),onPointerUp:lt(e.onPointerUp,o.onThumbPointerUp)})});J9.displayName=Lv;var wA="ScrollAreaCorner",eF=j.forwardRef((e,t)=>{const n=Hi(wA,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Zce,{...e,ref:t}):null});eF.displayName=wA;var Zce=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Hi(wA,n),[i,o]=j.useState(0),[u,m]=j.useState(0),f=!!(i&&u);return Mh(s.scrollbarX,()=>{var x;const g=((x=s.scrollbarX)==null?void 0:x.offsetHeight)||0;s.onCornerHeightChange(g),m(g)}),Mh(s.scrollbarY,()=>{var x;const g=((x=s.scrollbarY)==null?void 0:x.offsetWidth)||0;s.onCornerWidthChange(g),o(g)}),f?a.jsx(St.div,{...r,ref:t,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bv(e){return e?parseInt(e,10):0}function tF(e,t){const n=e/t;return isNaN(n)?0:n}function r1(e){const t=tF(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Jce(e,t,n,r="ltr"){const s=r1(n),i=s/2,o=t||i,u=s-o,m=n.scrollbar.paddingStart+o,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,g=n.content-n.viewport,x=r==="ltr"?[0,g]:[g*-1,0];return nF([m,f],x)(e)}function pP(e,t,n="ltr"){const r=r1(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,u=i-r,m=n==="ltr"?[0,o]:[o*-1,0],f=RS(e,m);return nF([0,o],[0,u])(f)}function nF(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function rF(e,t){return e>0&&e<t}var eue=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,u=n.top!==i.top;(o||u)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function a1(e,t){const n=Oa(e),r=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),j.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Mh(e,t){const n=Oa(t);ua(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var tue=Y9,nue=G9,rue=eF;function kd({className:e,children:t,...n}){return a.jsxs(tue,{"data-slot":"scroll-area",className:_t("relative",e),...n,children:[a.jsx(nue,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),a.jsx(aue,{}),a.jsx(rue,{})]})}function aue({className:e,orientation:t="vertical",...n}){return a.jsx(K9,{"data-slot":"scroll-area-scrollbar",orientation:t,className:_t("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:a.jsx(J9,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var s1="Popover",[aF,RTe]=$s(s1,[im]),qp=im(),[sue,ju]=aF(s1),sF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,u=qp(t),m=j.useRef(null),[f,g]=j.useState(!1),[x,w]=Yl({prop:r,defaultProp:s??!1,onChange:i,caller:s1});return a.jsx(aA,{...u,children:a.jsx(sue,{scope:t,contentId:uo(),triggerRef:m,open:x,onOpenChange:w,onOpenToggle:j.useCallback(()=>w(_=>!_),[w]),hasCustomAnchor:f,onCustomAnchorAdd:j.useCallback(()=>g(!0),[]),onCustomAnchorRemove:j.useCallback(()=>g(!1),[]),modal:o,children:n})})};sF.displayName=s1;var iF="PopoverAnchor",iue=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ju(iF,n),i=qp(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:u}=s;return j.useEffect(()=>(o(),()=>u()),[o,u]),a.jsx(Yy,{...i,...r,ref:t})});iue.displayName=iF;var oF="PopoverTrigger",lF=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ju(oF,n),i=qp(n),o=Zt(t,s.triggerRef),u=a.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hF(s.open),...r,ref:o,onClick:lt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:a.jsx(Yy,{asChild:!0,...i,children:u})});lF.displayName=oF;var jA="PopoverPortal",[oue,lue]=aF(jA,{forceMount:void 0}),cF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=ju(jA,t);return a.jsx(oue,{scope:t,forceMount:n,children:a.jsx(ms,{present:n||i.open,children:a.jsx(Up,{asChild:!0,container:s,children:r})})})};cF.displayName=jA;var Dh="PopoverContent",uF=j.forwardRef((e,t)=>{const n=lue(Dh,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=ju(Dh,e.__scopePopover);return a.jsx(ms,{present:r||i.open,children:i.modal?a.jsx(uue,{...s,ref:t}):a.jsx(due,{...s,ref:t})})});uF.displayName=Dh;var cue=ru("PopoverContent.RemoveScroll"),uue=j.forwardRef((e,t)=>{const n=ju(Dh,e.__scopePopover),r=j.useRef(null),s=Zt(t,r),i=j.useRef(!1);return j.useEffect(()=>{const o=r.current;if(o)return Wy(o)},[]),a.jsx(zp,{as:cue,allowPinchZoom:!0,children:a.jsx(dF,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(e.onCloseAutoFocus,o=>{var u;o.preventDefault(),i.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:lt(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,f=u.button===2||m;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:lt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),due=j.forwardRef((e,t)=>{const n=ju(Dh,e.__scopePopover),r=j.useRef(!1),s=j.useRef(!1);return a.jsx(dF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,u;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),dF=j.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,...x}=e,w=ju(Dh,n),_=qp(n);return Vy(),a.jsx(Bp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Lp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:g,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onDismiss:()=>w.onOpenChange(!1),children:a.jsx(sA,{"data-state":hF(w.open),role:"dialog",id:w.contentId,..._,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fF="PopoverClose",fue=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ju(fF,n);return a.jsx(St.button,{type:"button",...r,ref:t,onClick:lt(e.onClick,()=>s.onOpenChange(!1))})});fue.displayName=fF;var hue="PopoverArrow",mue=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=qp(n);return a.jsx(iA,{...s,...r,ref:t})});mue.displayName=hue;function hF(e){return e?"open":"closed"}var gue=sF,pue=lF,xue=cF,vue=uF;function yue({...e}){return a.jsx(gue,{"data-slot":"popover",...e})}function bue({...e}){return a.jsx(pue,{"data-slot":"popover-trigger",...e})}function wue({className:e,align:t="center",sideOffset:n=4,...r}){return a.jsx(xue,{children:a.jsx(vue,{"data-slot":"popover-content",align:t,sideOffset:n,className:_t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function cn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function mo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function mF(e,t){const n=cn(e);return isNaN(t)?mo(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function jue(e,t){const n=cn(e);if(isNaN(t))return mo(e,NaN);if(!t)return n;const r=n.getDate(),s=mo(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const gF=6048e5,Nue=864e5,pF=6e4,xF=36e5,Ux=43200,xP=1440;let Sue={};function Yp(){return Sue}function hp(e,t){var u,m,f,g;const n=Yp(),r=(t==null?void 0:t.weekStartsOn)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,s=cn(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Fv(e){return hp(e,{weekStartsOn:1})}function vF(e){const t=cn(e),n=t.getFullYear(),r=mo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Fv(r),i=mo(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Fv(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Uv(e){const t=cn(e);return t.setHours(0,0,0,0),t}function zv(e){const t=cn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function _ue(e,t){const n=Uv(e),r=Uv(t),s=+n-zv(n),i=+r-zv(r);return Math.round((s-i)/Nue)}function Eue(e){const t=vF(e),n=mo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Fv(n)}function pv(e,t){const n=cn(e),r=cn(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function yF(e){return mo(e,Date.now())}function Aue(e,t){const n=Uv(e),r=Uv(t);return+n==+r}function Cue(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Tue(e){if(!Cue(e)&&typeof e!="number")return!1;const t=cn(e);return!isNaN(Number(t))}function Oue(e,t){const n=cn(e),r=cn(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Mue(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Due(e,t){return+cn(e)-+cn(t)}function Pue(e){const t=cn(e);return t.setHours(23,59,59,999),t}function i1(e){const t=cn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Rue(e){const t=cn(e);return+Pue(t)==+i1(t)}function kue(e,t){const n=cn(e),r=cn(t),s=pv(n,r),i=Math.abs(Oue(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let u=pv(n,r)===-s;Rue(cn(e))&&i===1&&pv(e,r)===1&&(u=!1),o=s*(i-Number(u))}return o===0?0:o}function Iue(e,t,n){const r=Due(e,t)/1e3;return Mue(n==null?void 0:n.roundingMethod)(r)}function Lue(e,t){const n=cn(e.start),r=cn(e.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let u=1;const m=[];for(;+o<=i;)m.push(cn(o)),o.setDate(o.getDate()+u),o.setHours(0,0,0,0);return s?m.reverse():m}function Bue(e,t){const n=cn(e.start),r=cn(e.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let u=1;const m=[];for(;+o<=i;)m.push(cn(o)),o.setMonth(o.getMonth()+u);return s?m.reverse():m}function NA(e){const t=cn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Fue(e){const t=cn(e),n=mo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Uue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zue=(e,t,n)=>{let r;const s=Uue[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function bh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Vue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$ue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},que={date:bh({formats:Vue,defaultWidth:"full"}),time:bh({formats:$ue,defaultWidth:"full"}),dateTime:bh({formats:Hue,defaultWidth:"full"})},Yue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wue=(e,t,n,r)=>Yue[e];function Uo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):o;s=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Gue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Que={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ede=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tde={ordinalNumber:ede,era:Uo({values:Gue,defaultWidth:"wide"}),quarter:Uo({values:Kue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Uo({values:Xue,defaultWidth:"wide"}),day:Uo({values:Que,defaultWidth:"wide"}),dayPeriod:Uo({values:Zue,defaultWidth:"wide",formattingValues:Jue,defaultFormattingWidth:"wide"})};function zo(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(u)?rde(u,x=>x.test(o)):nde(u,x=>x.test(o));let f;f=e.valueCallback?e.valueCallback(m):m,f=n.valueCallback?n.valueCallback(f):f;const g=t.slice(o.length);return{value:f,rest:g}}}function nde(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function rde(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function bF(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=t.slice(s.length);return{value:o,rest:u}}}const ade=/^(\d+)(th|st|nd|rd)?/i,sde=/\d+/i,ide={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ode={any:[/^b/i,/^(a|c)/i]},lde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cde={any:[/1/i,/2/i,/3/i,/4/i]},ude={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pde={ordinalNumber:bF({matchPattern:ade,parsePattern:sde,valueCallback:e=>parseInt(e,10)}),era:zo({matchPatterns:ide,defaultMatchWidth:"wide",parsePatterns:ode,defaultParseWidth:"any"}),quarter:zo({matchPatterns:lde,defaultMatchWidth:"wide",parsePatterns:cde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zo({matchPatterns:ude,defaultMatchWidth:"wide",parsePatterns:dde,defaultParseWidth:"any"}),day:zo({matchPatterns:fde,defaultMatchWidth:"wide",parsePatterns:hde,defaultParseWidth:"any"}),dayPeriod:zo({matchPatterns:mde,defaultMatchWidth:"any",parsePatterns:gde,defaultParseWidth:"any"})},wF={code:"en-US",formatDistance:zue,formatLong:que,formatRelative:Wue,localize:tde,match:pde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xde(e){const t=cn(e);return _ue(t,Fue(t))+1}function vde(e){const t=cn(e),n=+Fv(t)-+Eue(t);return Math.round(n/gF)+1}function jF(e,t){var g,x,w,_;const n=cn(e),r=n.getFullYear(),s=Yp(),i=(t==null?void 0:t.firstWeekContainsDate)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(w=s.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,o=mo(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const u=hp(o,t),m=mo(e,0);m.setFullYear(r,0,i),m.setHours(0,0,0,0);const f=hp(m,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function yde(e,t){var u,m,f,g;const n=Yp(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,s=jF(e,t),i=mo(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),hp(i,t)}function bde(e,t){const n=cn(e),r=+hp(n,t)-+yde(n,t);return Math.round(r/gF)+1}function In(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Fc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return In(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):In(n+1,2)},d(e,t){return In(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return In(e.getHours()%12||12,t.length)},H(e,t){return In(e.getHours(),t.length)},m(e,t){return In(e.getMinutes(),t.length)},s(e,t){return In(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return In(s,t.length)}},eh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vP={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Fc.y(e,t)},Y:function(e,t,n,r){const s=jF(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return In(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):In(i,t.length)},R:function(e,t){const n=vF(e);return In(n,t.length)},u:function(e,t){const n=e.getFullYear();return In(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return In(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return In(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Fc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return In(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=bde(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):In(s,t.length)},I:function(e,t,n){const r=vde(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):In(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Fc.d(e,t)},D:function(e,t,n){const r=xde(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):In(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return In(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return In(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return In(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=eh.noon:r===0?s=eh.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=eh.evening:r>=12?s=eh.afternoon:r>=4?s=eh.morning:s=eh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Fc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):In(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):In(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Fc.s(e,t)},S:function(e,t){return Fc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return bP(r);case"XXXX":case"XX":return id(r);case"XXXXX":case"XXX":default:return id(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return bP(r);case"xxxx":case"xx":return id(r);case"xxxxx":case"xxx":default:return id(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yP(r,":");case"OOOO":default:return"GMT"+id(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yP(r,":");case"zzzz":default:return"GMT"+id(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return In(r,t.length)},T:function(e,t,n){const r=e.getTime();return In(r,t.length)}};function yP(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+In(i,2)}function bP(e,t){return e%60===0?(e>0?"-":"+")+In(Math.abs(e)/60,2):id(e,t)}function id(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=In(Math.trunc(r/60),2),i=In(r%60,2);return n+s+t+i}const wP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},NF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wde=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return wP(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",wP(r,t)).replace("{{time}}",NF(s,t))},jde={p:NF,P:wde},Nde=/^D+$/,Sde=/^Y+$/,_de=["D","DD","YY","YYYY"];function Ede(e){return Nde.test(e)}function Ade(e){return Sde.test(e)}function Cde(e,t,n){const r=Tde(e,t,n);if(console.warn(r),_de.includes(e))throw new RangeError(r)}function Tde(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ode=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dde=/^'([^]*?)'?$/,Pde=/''/g,Rde=/[a-zA-Z]/;function fr(e,t,n){var g,x,w,_,C,A,E,M;const r=Yp(),s=(n==null?void 0:n.locale)??r.locale??wF,i=(n==null?void 0:n.firstWeekContainsDate)??((x=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((A=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((M=(E=r.locale)==null?void 0:E.options)==null?void 0:M.weekStartsOn)??0,u=cn(e);if(!Tue(u))throw new RangeError("Invalid time value");let m=t.match(Mde).map(D=>{const R=D[0];if(R==="p"||R==="P"){const z=jde[R];return z(D,s.formatLong)}return D}).join("").match(Ode).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const R=D[0];if(R==="'")return{isToken:!1,value:kde(D)};if(vP[R])return{isToken:!0,value:D};if(R.match(Rde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:D}});s.localize.preprocessor&&(m=s.localize.preprocessor(u,m));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return m.map(D=>{if(!D.isToken)return D.value;const R=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ade(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ede(R))&&Cde(R,t,String(e));const z=vP[R[0]];return z(u,R,s.localize,f)}).join("")}function kde(e){const t=e.match(Dde);return t?t[1].replace(Pde,"'"):e}function Ide(e,t,n){const r=Yp(),s=(n==null?void 0:n.locale)??r.locale??wF,i=2520,o=pv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let m,f;o>0?(m=cn(t),f=cn(e)):(m=cn(e),f=cn(t));const g=Iue(f,m),x=(zv(f)-zv(m))/1e3,w=Math.round((g-x)/60);let _;if(w<2)return n!=null&&n.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,u):g<10?s.formatDistance("lessThanXSeconds",10,u):g<20?s.formatDistance("lessThanXSeconds",20,u):g<40?s.formatDistance("halfAMinute",0,u):g<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):w===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",w,u);if(w<45)return s.formatDistance("xMinutes",w,u);if(w<90)return s.formatDistance("aboutXHours",1,u);if(w<xP){const C=Math.round(w/60);return s.formatDistance("aboutXHours",C,u)}else{if(w<i)return s.formatDistance("xDays",1,u);if(w<Ux){const C=Math.round(w/xP);return s.formatDistance("xDays",C,u)}else if(w<Ux*2)return _=Math.round(w/Ux),s.formatDistance("aboutXMonths",_,u)}if(_=kue(f,m),_<12){const C=Math.round(w/Ux);return s.formatDistance("xMonths",C,u)}else{const C=_%12,A=Math.trunc(_/12);return C<3?s.formatDistance("aboutXYears",A,u):C<9?s.formatDistance("overXYears",A,u):s.formatDistance("almostXYears",A+1,u)}}function Ph(e,t){return Ide(e,yF(e),t)}function Vv(e){return Aue(e,yF(e))}function Vo(e,t){return mF(e,-t)}function sa(e,t){const r=Ude(e);let s;if(r.date){const m=zde(r.date,2);s=Vde(m.restDateString,m.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,u;if(r.time&&(o=$de(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(u=Hde(r.timezone),isNaN(u))return new Date(NaN)}else{const m=new Date(i+o),f=new Date(0);return f.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),f.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),f}return new Date(i+o+u)}const zx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Bde=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Fde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ude(e){const t={},n=e.split(zx.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],zx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(zx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=zx.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function zde(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function Vde(e,t){if(t===null)return new Date(NaN);const n=e.match(Lde);if(!n)return new Date(NaN);const r=!!n[4],s=yg(n[1]),i=yg(n[2])-1,o=yg(n[3]),u=yg(n[4]),m=yg(n[5])-1;if(r)return Kde(t,u,m)?qde(t,u,m):new Date(NaN);{const f=new Date(0);return!Wde(t,i,o)||!Gde(t,s)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(s,o)),f)}}function yg(e){return e?parseInt(e):1}function $de(e){const t=e.match(Bde);if(!t)return NaN;const n=I2(t[1]),r=I2(t[2]),s=I2(t[3]);return Xde(n,r,s)?n*xF+r*pF+s*1e3:NaN}function I2(e){return e&&parseFloat(e.replace(",","."))||0}function Hde(e){if(e==="Z")return 0;const t=e.match(Fde);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Qde(r,s)?n*(r*xF+s*pF):NaN}function qde(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const Yde=[31,null,31,30,31,30,31,31,30,31,30,31];function SF(e){return e%400===0||e%4===0&&e%100!==0}function Wde(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Yde[t]||(SF(e)?29:28))}function Gde(e,t){return t>=1&&t<=(SF(e)?366:365)}function Kde(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Xde(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Qde(e,t){return t>=0&&t<=59}function L2(e,t){return jue(e,-t)}const Zde=()=>{const{notifications:e,unreadCount:t,markAsRead:n,markAllAsRead:r,deleteNotification:s}=Q_(),{language:i}=Ut(),o=po(),[u,m]=j.useState(!1),f=e.slice(0,10),g=E=>{switch(E){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";case"ticket":return"🎫";case"payment":return"💳";case"refund":return"💰";case"event":return"📅";case"system":return"🔧";default:return"ℹ️"}},x=E=>{if(E.priority==="urgent")return"text-red-600 bg-red-50 border-red-200";if(E.priority==="high")return"text-orange-600 bg-orange-50 border-orange-200";switch(E.type){case"success":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"error":return"text-red-600 bg-red-50 border-red-200";default:return"text-blue-600 bg-blue-50 border-blue-200"}},w=E=>{E.is_read||n(E.id),E.action_url&&(o(E.action_url),m(!1))},_=()=>{r()},A={en:{notifications:"Notifications",markAllRead:"Mark all as read",noNotifications:"No notifications",noNotificationsDesc:"You're all caught up!",viewAll:"View all notifications",delete:"Delete",just_now:"just now"},ar:{notifications:"الإشعارات",markAllRead:"تحديد الكل كمقروء",noNotifications:"لا توجد إشعارات",noNotificationsDesc:"أنت محدث بالكامل!",viewAll:"عرض جميع الإشعارات",delete:"حذف",just_now:"الآن"}}[i];return a.jsxs(yue,{open:u,onOpenChange:m,children:[a.jsx(bue,{asChild:!0,children:a.jsxs(we,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-800",children:[a.jsx(Ah,{className:"h-5 w-5"}),a.jsx(Py,{children:t>0&&a.jsx(qe.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1",children:a.jsx(Je,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs",children:t>99?"99+":t})})})]})}),a.jsx(wue,{className:"w-80 p-0 shadow-lg border",align:"end",sideOffset:5,children:a.jsxs(ue,{className:"border-0 shadow-none",children:[a.jsx(Te,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg font-semibold",children:A.notifications}),t>0&&a.jsx(we,{variant:"ghost",size:"sm",onClick:_,className:"text-xs text-muted-foreground hover:text-foreground",children:A.markAllRead})]})}),a.jsxs(fe,{className:"p-0",children:[f.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(Ah,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"font-semibold text-muted-foreground",children:A.noNotifications}),a.jsx("p",{className:"text-sm text-muted-foreground",children:A.noNotificationsDesc})]}):a.jsx(kd,{className:"h-80",children:a.jsx("div",{className:"space-y-1",children:f.map((E,M)=>a.jsxs("div",{children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},className:`p-3 cursor-pointer transition-colors border-l-4 ${E.is_read?"border-l-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800":x(E)}`,onClick:()=>w(E),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-lg flex-shrink-0 mt-0.5",children:g(E.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("h4",{className:`text-sm font-medium leading-tight ${E.is_read?"text-muted-foreground":"text-foreground"}`,children:E.title}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[E.action_url&&a.jsx(nB,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(we,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 hover:text-red-600",onClick:D=>{D.stopPropagation(),s(E.id)},children:a.jsx(Av,{className:"h-3 w-3"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:E.message}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:Ph(new Date(E.created_at),{addSuffix:!0}).replace("about ","")}),!E.is_read&&a.jsx(Je,{variant:"secondary",className:"h-5 px-2 text-xs",children:"New"})]})]})]})}),M<f.length-1&&a.jsx(hi,{className:"mx-3"})]},E.id))})}),f.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(hi,{}),a.jsx("div",{className:"p-3",children:a.jsx(we,{variant:"ghost",className:"w-full text-sm",onClick:()=>{o("/notifications"),m(!1)},children:A.viewAll})})]})]})]})})]})},Jde=[{label:"nav.dashboard",href:"",icon:zne,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.wallet",href:"wallet",icon:lu,roles:["passenger","driver","merchant","event_admin"]},{label:"nav.scanner",href:"scanner",icon:ir,roles:["passenger"]},{label:"nav.transactions",href:"transactions",icon:ap,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.events",href:"events",icon:Ra,roles:["passenger","event_admin"]},{label:"nav.tickets",href:"tickets",icon:ca,roles:["passenger"]},{label:"nav.gifts",href:"gifts",icon:$o,roles:["passenger","driver","merchant"]},{label:"nav.earnings",href:"earnings",icon:Xn,roles:["driver"]},{label:"nav.trips",href:"trips",icon:ls,roles:["driver"]},{label:"nav.verification",href:"verification",icon:cs,roles:["driver"]},{label:"nav.qrcode",href:"qr-generator",icon:ir,roles:["driver","merchant"]},{label:"nav.business",href:"business",icon:iu,roles:["merchant"]},{label:"nav.management",href:"management",icon:Ra,roles:["event_admin"]},{label:"nav.promotions",href:"promotions",icon:AS,roles:["event_admin"]},{label:"nav.withdrawal",href:"withdrawal",icon:Pa,roles:["merchant","event_admin"]},{label:"nav.analytics",href:"analytics",icon:kp,roles:["admin"]},{label:"nav.users",href:"users",icon:ba,roles:["admin"]},{label:"nav.disputes",href:"disputes",icon:cs,roles:["admin"]},{label:"nav.verificationReview",href:"verification-review",icon:cs,roles:["admin"]},{label:"nav.notifications",href:"notifications",icon:Ah,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.chat",href:"chat",icon:Th,roles:["passenger","driver","merchant","event_admin"]},{label:"nav.chatManagement",href:"chat-management",icon:Th,roles:["admin"]},{label:"nav.broadcast",href:"broadcast",icon:AS,roles:["admin"]}];function Wp({children:e,userType:t}){var E;const[n,r]=j.useState(!1),{profile:s,signOut:i}=$t(),{t:o,language:u,setLanguage:m,isRTL:f}=Ut(),g=al(),x=po(),w=Jde.filter(M=>M.roles.includes(t)),_=async()=>{await i(),x("/login")},C=M=>{switch(M){case"passenger":return"bg-blue-500";case"driver":return"bg-green-500";case"merchant":return"bg-purple-500";case"event_admin":return"bg-orange-500";case"admin":return"bg-red-500";default:return"bg-gray-500"}},A=()=>{var M;return a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsxs("div",{className:"flex h-16 items-center gap-2 border-b px-6",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(ca,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-xl font-bold text-primary",children:o("app.name")})]}),a.jsx("div",{className:"border-b p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(lp,{className:"h-10 w-10",children:[a.jsx(cp,{src:s==null?void 0:s.avatar_url,alt:s==null?void 0:s.full_name}),a.jsx(up,{children:(M=s==null?void 0:s.full_name)==null?void 0:M.split(" ").map(D=>D[0]).join("").toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:s==null?void 0:s.full_name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{variant:"secondary",className:`text-xs text-white ${C(t)}`,children:o(`auth.${t}`)}),(s==null?void 0:s.is_verified)&&a.jsx(jd,{className:"h-3 w-3 text-yellow-500"})]})]})]})}),a.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:w.map(D=>{const R=g.pathname===`/${t}/${D.href}`||D.href===""&&g.pathname===`/${t}`;return a.jsxs(Qt,{to:`/${t}/${D.href}`,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${R?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>r(!1),children:[a.jsx(D.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"flex-1",children:o(D.label)}),D.badge&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:D.badge}),a.jsx(une,{className:"h-4 w-4"})]},D.href)})}),a.jsx(hi,{}),a.jsxs("div",{className:"space-y-1 p-3",children:[a.jsxs(Qt,{to:`/${t}/profile`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[a.jsx(ou,{className:"h-5 w-5"}),a.jsx("span",{children:o("nav.profile")})]}),a.jsxs(Qt,{to:`/${t}/settings`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[a.jsx(su,{className:"h-5 w-5"}),a.jsx("span",{children:o("nav.settings")})]})]})]})};return a.jsxs("div",{className:`flex h-screen bg-background ${f?"rtl":"ltr"}`,children:[a.jsx("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 lg:border-r",children:a.jsx(A,{})}),a.jsxs(Bce,{open:n,onOpenChange:r,children:[a.jsx(Fce,{asChild:!0,className:"lg:hidden",children:a.jsx(we,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50",children:a.jsx(ID,{className:"h-5 w-5"})})}),a.jsx(Vce,{side:f?"right":"left",className:"w-72 p-0",children:a.jsx(A,{})})]}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[a.jsxs("header",{className:"flex h-16 items-center justify-between border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 lg:px-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(we,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>r(!0),children:a.jsx(ID,{className:"h-5 w-5"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(we,{variant:"ghost",size:"sm",onClick:()=>m(u==="en"?"ar":"en"),children:[a.jsx(VE,{className:"h-4 w-4 mr-2"}),u==="en"?"العربية":"English"]}),a.jsx($ce,{}),a.jsx(Zde,{}),a.jsxs(b9,{children:[a.jsx(w9,{asChild:!0,children:a.jsx(we,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:a.jsxs(lp,{className:"h-8 w-8",children:[a.jsx(cp,{src:s==null?void 0:s.avatar_url,alt:s==null?void 0:s.full_name}),a.jsx(up,{children:(E=s==null?void 0:s.full_name)==null?void 0:E.split(" ").map(M=>M[0]).join("").toUpperCase()})]})})}),a.jsxs(j9,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(Ece,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium",children:s==null?void 0:s.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:s==null?void 0:s.email})]})}),a.jsx(gP,{}),a.jsx(yh,{asChild:!0,children:a.jsxs(Qt,{to:`/${t}/profile`,children:[a.jsx(ou,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("nav.profile")})]})}),a.jsx(yh,{asChild:!0,children:a.jsxs(Qt,{to:`/${t}/settings`,children:[a.jsx(su,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("nav.settings")})]})}),a.jsx(gP,{}),a.jsxs(yh,{onClick:_,children:[a.jsx(Hne,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("auth.logout")})]})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx(Py,{mode:"wait",children:a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:e},g.pathname)})})]})]})}function efe(){var z;const[e,t]=j.useState(null),[n,r]=j.useState([]),[s,i]=j.useState([]),[o,u]=j.useState([]),[m,f]=j.useState(!0),[g,x]=j.useState(!0),{profile:w}=$t(),{t:_,isRTL:C}=Ut();j.useEffect(()=>{w&&A()},[w]);const A=async()=>{try{const{data:I}=await $e.from("wallets").select("*").eq("user_id",w==null?void 0:w.id).single();I&&t(I);const{data:k}=await $e.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${w==null?void 0:w.id},to_user_id.eq.${w==null?void 0:w.id}`).order("created_at",{ascending:!1}).limit(5);if(k){const L=k.map($=>{var W,Y;return{...$,from_user_name:(W=$.from_profile)==null?void 0:W.full_name,to_user_name:(Y=$.to_profile)==null?void 0:Y.full_name}});r(L)}const{data:F}=await $e.from("events").select("*").eq("is_active",!0).gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0}).limit(3);F&&i(F);const{data:V}=await $e.from("user_tickets").select("*").eq("user_id",w==null?void 0:w.id).eq("status","active").order("purchased_at",{ascending:!1}).limit(3);V&&u(V)}catch(I){console.error("Error fetching dashboard data:",I)}finally{x(!1)}},E=I=>new Intl.NumberFormat(C?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(I),M=I=>new Date(I).toLocaleDateString(C?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=(I,k)=>I==="recharge"?a.jsx(Ss,{className:"h-4 w-4 text-green-600"}):k?a.jsx(ql,{className:"h-4 w-4 text-red-600"}):a.jsx(Xn,{className:"h-4 w-4 text-green-600"}),R=()=>a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Qt,{to:"/passenger/scanner",children:a.jsx(ue,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:a.jsxs(fe,{className:"flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"rounded-full bg-primary/10 p-3 mb-3",children:a.jsx(ir,{className:"h-6 w-6 text-primary"})}),a.jsx("h3",{className:"font-medium text-center",children:_("scanner.title")}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Pay with QR code"})]})})}),a.jsx(Qt,{to:"/passenger/wallet",children:a.jsx(ue,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:a.jsxs(fe,{className:"flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"rounded-full bg-green-500/10 p-3 mb-3",children:a.jsx(Ss,{className:"h-6 w-6 text-green-600"})}),a.jsx("h3",{className:"font-medium text-center",children:_("wallet.recharge")}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Add money to wallet"})]})})})]});return g?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:_("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold",children:[_("app.welcome"),", ",(z=w==null?void 0:w.full_name)==null?void 0:z.split(" ")[0],"!"]}),a.jsx("p",{className:"text-muted-foreground",children:new Date().toLocaleDateString(C?"ar-SY":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),a.jsx(Je,{variant:"outline",className:"hidden sm:flex",children:_("auth.passenger")})]})}),a.jsx(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.1},whileHover:{scale:1.02},className:"cursor-pointer",children:a.jsx(Qt,{to:"/passenger/wallet",children:a.jsx(ue,{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white border-0 shadow-xl overflow-hidden relative group",children:a.jsxs(fe,{className:"p-4 relative z-10",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10 group-hover:opacity-20 transition-opacity duration-300",children:[a.jsx(qe.div,{className:"absolute top-0 right-0 w-16 h-16 bg-white rounded-full",animate:{x:[8,12,8],y:[-8,-12,-8]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),a.jsx(qe.div,{className:"absolute bottom-0 left-0 w-12 h-12 bg-white rounded-full",animate:{x:[-6,-10,-6],y:[6,10,6]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:.5}})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(qe.div,{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",whileHover:{rotate:360},transition:{duration:.5},children:a.jsx(lu,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm opacity-90",children:_("wallet.title")}),a.jsx(qe.p,{className:"text-lg font-bold",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:m?E((e==null?void 0:e.balance)||0):"••••••"})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx(we,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-lg h-8 w-8 p-0",onClick:I=>{I.preventDefault(),f(!m)},children:m?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})}),(e==null?void 0:e.is_frozen)&&a.jsx(Je,{variant:"destructive",className:"text-xs px-2 py-0",children:"Frozen"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-white/20",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs opacity-75",children:[a.jsx(Xn,{className:"h-3 w-3"}),a.jsx("span",{children:"Tap to manage"})]}),a.jsx(hd,{className:"h-4 w-4 opacity-75"})]})]})})})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx(R,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:_("transactions.recent")}),a.jsx(Qt,{to:"/passenger/transactions",children:a.jsxs(we,{variant:"ghost",size:"sm",children:["View All",a.jsx(hd,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(fe,{className:"space-y-4",children:n.length>0?n.map(I=>{const k=I.from_user_id===(w==null?void 0:w.id),F=k?I.to_user_name:I.from_user_name;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[D(I.transaction_type,k),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:I.description||`${k?"Payment to":"Payment from"} ${F}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M(I.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium text-sm ${k?"text-red-600":"text-green-600"}`,children:[k?"-":"+",E(I.amount)]}),a.jsx(Je,{variant:I.status==="completed"?"default":"secondary",className:"text-xs",children:I.status})]})]},I.id)}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Pa,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No transactions yet"})]})})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:_("events.upcoming")}),a.jsx(Qt,{to:"/passenger/events",children:a.jsxs(we,{variant:"ghost",size:"sm",children:["View All",a.jsx(hd,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(fe,{className:"space-y-4",children:s.length>0?s.map(I=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:a.jsx(Ra,{className:"h-6 w-6 text-primary"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:I.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3"}),a.jsx("span",{children:M(I.start_date)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(Zo,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:I.location})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-sm",children:E(I.price||0)}),a.jsx(Qt,{to:"/passenger/events",children:a.jsx(we,{size:"sm",variant:"outline",className:"mt-1",children:"Buy"})})]})]},I.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ra,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No upcoming events"})]})})]})})]}),o.length>0&&a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:_("nav.tickets")}),a.jsx(Qt,{to:"/passenger/tickets",children:a.jsxs(we,{variant:"ghost",size:"sm",children:["View All",a.jsx(hd,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(fe,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(I=>{var k;return a.jsxs("div",{className:"p-4 rounded-lg border bg-gradient-to-br from-blue-50 to-purple-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ca,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"text-sm font-medium",children:["#",I.ticket_number.slice(-6)]})]}),a.jsx("h4",{className:"font-medium text-sm mb-1",children:(k=I.event_details_snapshot)==null?void 0:k.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M(I.purchased_at)}),a.jsx(Je,{variant:"secondary",className:"mt-2 text-xs",children:I.status})]},I.id)})})})]})})]})}function Wr({...e}){return a.jsx(F9,{"data-slot":"dialog",...e})}function ol({...e}){return a.jsx(U9,{"data-slot":"dialog-trigger",...e})}function tfe({...e}){return a.jsx(z9,{"data-slot":"dialog-portal",...e})}function nfe({className:e,...t}){return a.jsx(V9,{"data-slot":"dialog-overlay",className:_t("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Gr({className:e,children:t,...n}){return a.jsxs(tfe,{"data-slot":"dialog-portal",children:[a.jsx(nfe,{}),a.jsxs($9,{"data-slot":"dialog-content",className:_t("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,a.jsxs(H9,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Hd,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Kr({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:_t("flex flex-col gap-2 text-center sm:text-left",e),...t})}function rfe({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:_t("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Xr({className:e,...t}){return a.jsx(Ice,{"data-slot":"dialog-title",className:_t("text-lg leading-none font-semibold",e),...t})}function ka({className:e,...t}){return a.jsx(Lce,{"data-slot":"dialog-description",className:_t("text-muted-foreground text-sm",e),...t})}function afe({onCodeApplied:e,transactionAmount:t=0,showAsDialog:n=!1}){const[r,s]=j.useState(""),[i,o]=j.useState(!1),[u,m]=j.useState(!1),[f,g]=j.useState(null),{profile:x}=$t(),{t:w,language:_}=Ut(),C=async()=>{if(!r.trim()){_e.error("Please enter a promotion code");return}try{o(!0);const{data:D,error:R}=await $e.rpc("apply_promotion_code",{p_code:r.trim().toUpperCase(),p_user_id:x==null?void 0:x.id,p_transaction_amount:t});if(R)throw R;const z=D[0];if(z.success){const I=z.discount_amount;g({id:z.promotion_id,code:r.trim().toUpperCase(),discount:I}),_e.success(z.message),e&&e(I,z.promotion_id),n&&m(!1)}else _e.error(z.message)}catch(D){console.error("Error applying promotion code:",D),_e.error("Failed to apply promotion code")}finally{o(!1)}},A=()=>{g(null),s(""),e&&e(0,"")},E=D=>new Intl.NumberFormat(_==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(D),M=()=>a.jsx("div",{className:"space-y-4",children:f?a.jsx(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg p-4 bg-green-50 border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500 text-white rounded-lg",children:a.jsx(Ch,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-green-800",children:"Code Applied Successfully!"}),a.jsxs("p",{className:"text-sm text-green-600",children:["Code: ",a.jsx("span",{className:"font-mono font-bold",children:f.code})]}),a.jsxs("p",{className:"text-sm text-green-600",children:["Discount: ",a.jsx("span",{className:"font-bold",children:E(f.discount)})]})]})]}),a.jsx(we,{variant:"ghost",size:"sm",onClick:A,className:"text-green-600 hover:text-green-800",children:a.jsx(Hd,{className:"h-4 w-4"})})]})}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"promotion-code",children:"Promotion Code"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dt,{id:"promotion-code",placeholder:"Enter promotion code",value:r,onChange:D=>s(D.target.value.toUpperCase()),className:"flex-1",disabled:i}),a.jsx(we,{onClick:C,disabled:!r.trim()||i,className:"shrink-0",children:i?a.jsx(zs,{className:"h-4 w-4 animate-spin"}):"Apply"})]})]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsx("p",{children:"• Codes are case-insensitive and will be automatically converted to uppercase"}),a.jsx("p",{children:"• Each code can only be used once per user"}),a.jsx("p",{children:"• Check your notifications for available promotion codes"})]})]})});return n?a.jsxs(Wr,{open:u,onOpenChange:m,children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{variant:"outline",className:"gap-2",children:[a.jsx($o,{className:"h-4 w-4"}),"Apply Promotion Code"]})}),a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:"Apply Promotion Code"}),a.jsx(ka,{children:"Enter a promotion code to get discounts or bonuses"})]}),a.jsx(M,{})]})]}):a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx($o,{className:"h-5 w-5"}),"Promotion Code"]}),a.jsx(st,{children:"Have a promotion code? Apply it here to get discounts or bonuses"})]}),a.jsx(fe,{children:a.jsx(M,{})})]})}const Vx=[{id:"mtn_cash",name:"MTN Cash",icon:Yg,description:"Pay using MTN Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"syriatel_cash",name:"Syriatel Cash",icon:Yg,description:"Pay using Syriatel Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"sham_cash",name:"ShamCash",icon:Yg,description:"Pay using ShamCash mobile wallet",minAmount:1e3,maxAmount:3e5,fees:0,available:!0},{id:"fatora",name:"Fatora",icon:Pa,description:"Pay using Fatora payment gateway",minAmount:500,maxAmount:1e6,fees:25,available:!0},{id:"stripe",name:"Credit Card",icon:Pa,description:"International credit/debit cards via Stripe",minAmount:1e3,maxAmount:2e6,fees:50,available:!1}];function sfe(){const[e,t]=j.useState(null),[n,r]=j.useState([]),[s,i]=j.useState(!1),[o,u]=j.useState(""),[m,f]=j.useState(""),[g,x]=j.useState(!0),[w,_]=j.useState(!0),[C,A]=j.useState(!1),{profile:E}=$t(),{t:M,isRTL:D}=Ut();j.useEffect(()=>{E&&(R(),z())},[E]);const R=async()=>{try{const{data:$,error:W}=await $e.from("wallets").select("*").eq("user_id",E==null?void 0:E.id).single();if(W)throw W;t($)}catch($){console.error("Error fetching wallet data:",$),_e.error("Failed to load wallet data")}finally{_(!1)}},z=async()=>{try{const{data:$,error:W}=await $e.from("transactions").select("*").or(`from_user_id.eq.${E==null?void 0:E.id},to_user_id.eq.${E==null?void 0:E.id}`).in("transaction_type",["recharge","withdrawal"]).order("created_at",{ascending:!1}).limit(10);if(W)throw W;r($||[])}catch($){console.error("Error fetching transactions:",$)}},I=async()=>{if(!o||!m)return;const $=parseFloat(m),W=Vx.find(Y=>Y.id===o);if(W){if($<W.minAmount||$>W.maxAmount){_e.error(`Amount must be between ${k(W.minAmount)} and ${k(W.maxAmount)}`);return}A(!0);try{await new Promise(X=>setTimeout(X,2e3));const{data:Y,error:Q}=await $e.rpc("handle_recharge",{p_user_id:E==null?void 0:E.id,p_amount:$,p_provider_type:W.name});if(Q)throw Q;if(Y&&Y.length>0){const X=Y[0];X.error_message?_e.error(X.error_message):(_e.success(M("wallet.rechargeSuccess")),i(!1),f(""),u(""),R(),z())}}catch(Y){console.error("Error processing recharge:",Y),_e.error("Failed to process recharge")}finally{A(!1)}}},k=$=>new Intl.NumberFormat(D?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format($),F=$=>new Date($).toLocaleDateString(D?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=($,W)=>W==="pending"?a.jsx(Hn,{className:"h-4 w-4 text-yellow-500"}):W==="failed"?a.jsx(Hd,{className:"h-4 w-4 text-red-500"}):$==="recharge"?a.jsx(Xn,{className:"h-4 w-4 text-green-500"}):a.jsx(ql,{className:"h-4 w-4 text-red-500"}),L=$=>{switch($){case"completed":return a.jsx(Je,{className:"bg-green-500 text-white",children:M("transactions.completed")});case"pending":return a.jsx(Je,{variant:"secondary",children:M("transactions.pending")});case"failed":return a.jsx(Je,{variant:"destructive",children:M("transactions.failed")});default:return a.jsx(Je,{variant:"outline",children:$})}};return w?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:M("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:M("wallet.title")}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your digital wallet and transactions"})]}),a.jsxs(Wr,{open:s,onOpenChange:i,children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{className:"gap-2",children:[a.jsx(Ss,{className:"h-4 w-4"}),M("wallet.recharge")]})}),a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:M("wallet.recharge")}),a.jsx(ka,{children:"Add money to your wallet using various payment methods"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"amount",children:M("wallet.rechargeAmount")}),a.jsx(dt,{id:"amount",type:"number",placeholder:"Enter amount",value:m,onChange:$=>f($.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:M("wallet.paymentMethod")}),a.jsxs(kt,{value:o,onValueChange:u,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Select payment method"})}),a.jsx(Lt,{children:Vx.map($=>a.jsx(Ae,{value:$.id,disabled:!$.available,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($.icon,{className:"h-4 w-4"}),a.jsx("span",{children:$.name}),!$.available&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:"Soon"})]})},$.id))})]})]}),o&&a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:(()=>{const $=Vx.find(W=>W.id===o);return $?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:$.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:$.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Min: ",k($.minAmount)]}),a.jsxs("span",{children:["Max: ",k($.maxAmount)]})]}),$.fees>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Processing fee: ",k($.fees)]})]}):null})()})}),a.jsx(we,{onClick:I,disabled:!o||!m||C,className:"w-full",children:C?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Recharge ",m&&k(parseFloat(m))]})})]})]})]})]}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx("div",{className:"relative overflow-hidden",children:a.jsxs(ue,{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white border-0 shadow-2xl",children:[a.jsxs(fe,{className:"p-8 relative z-10",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full transform translate-x-16 -translate-y-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white rounded-full transform -translate-x-12 translate-y-12"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-white rounded-full transform -translate-x-8 -translate-y-8"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(lu,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:M("wallet.balance")}),a.jsx("p",{className:"text-sm opacity-75",children:"Main Wallet"})]})]}),a.jsx(we,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-xl transition-all duration-200",onClick:()=>x(!g),children:g?a.jsx(fs,{className:"h-5 w-5"}):a.jsx(Wn,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe.p,{className:"text-5xl font-bold tracking-tight",initial:{scale:.9},animate:{scale:1},transition:{duration:.3},children:g?k((e==null?void 0:e.balance)||0):"••••••"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm opacity-75",children:(e==null?void 0:e.currency)||"SYP"}),a.jsx("div",{className:"h-1 w-1 bg-white/50 rounded-full"}),a.jsx("span",{className:"text-sm opacity-75",children:"Syrian Pound"})]})]}),(e==null?void 0:e.is_frozen)&&a.jsx(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cs,{className:"h-4 w-4 text-red-400"}),a.jsx("span",{className:"text-sm text-red-200",children:"Your wallet is currently frozen. Contact support for assistance."})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full bg-green-400 animate-pulse"}),a.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),a.jsxs("span",{className:"text-xs opacity-75",children:["Updated ",F((e==null?void 0:e.updated_at)||"")]})]})]})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/20 via-blue-600/20 to-purple-600/20 animate-pulse"})]})})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[a.jsx(qe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(ue,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:border-green-300",onClick:()=>i(!0),children:a.jsxs(fe,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-green-500 text-white rounded-xl w-fit mx-auto",children:a.jsx(Ss,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-green-700",children:"Add Money"}),a.jsx("p",{className:"text-xs text-green-600",children:"Top up your wallet"})]})})}),a.jsx(qe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(ue,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(fe,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx(ql,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Withdraw"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})}),a.jsx(qe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(ue,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(fe,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx(jd,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Auto-reload"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})}),a.jsx(qe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(ue,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(fe,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx(cs,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Security"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(ap,{className:"h-5 w-5"}),M("transactions.recent")]}),a.jsx(st,{children:"Recent wallet recharges and withdrawals"})]}),a.jsx(fe,{children:n.length>0?a.jsx("div",{className:"space-y-4",children:n.map($=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[V($.transaction_type,$.status),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:$.description||`${$.transaction_type} transaction`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:F($.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium text-sm ${$.transaction_type==="recharge"?"text-green-600":"text-red-600"}`,children:[$.transaction_type==="recharge"?"+":"-",k($.amount)]}),L($.status)]})]},$.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Pa,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No wallet transactions yet"}),a.jsx("p",{className:"text-sm",children:"Recharge your wallet to get started"})]})})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsx(afe,{})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Available Payment Methods"}),a.jsx(st,{children:"Various ways to add money to your wallet"})]}),a.jsx(fe,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Vx.map($=>a.jsx(ue,{className:$.available?"":"opacity-50",children:a.jsxs(fe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx($.icon,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"font-medium",children:$.name}),!$.available&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:"Soon"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:$.description}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("p",{children:["Min: ",k($.minAmount)]}),a.jsxs("p",{children:["Max: ",k($.maxAmount)]}),$.fees>0&&a.jsxs("p",{children:["Fee: ",k($.fees)]})]})]})},$.id))})})]})})]})}var o1="Tabs",[ife,kTe]=$s(o1,[Zy]),_F=Zy(),[ofe,SA]=ife(o1),EF=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:u,activationMode:m="automatic",...f}=e,g=Ip(u),[x,w]=Yl({prop:r,onChange:s,defaultProp:i??"",caller:o1});return a.jsx(ofe,{scope:n,baseId:uo(),value:x,onValueChange:w,orientation:o,dir:g,activationMode:m,children:a.jsx(St.div,{dir:g,"data-orientation":o,...f,ref:t})})});EF.displayName=o1;var AF="TabsList",CF=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=SA(AF,n),o=_F(n);return a.jsx(F7,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(St.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});CF.displayName=AF;var TF="TabsTrigger",OF=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=SA(TF,n),u=_F(n),m=PF(o.baseId,r),f=RF(o.baseId,r),g=r===o.value;return a.jsx(U7,{asChild:!0,...u,focusable:!s,active:g,children:a.jsx(St.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:m,...i,ref:t,onMouseDown:lt(e.onMouseDown,x=>{!s&&x.button===0&&x.ctrlKey===!1?o.onValueChange(r):x.preventDefault()}),onKeyDown:lt(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&o.onValueChange(r)}),onFocus:lt(e.onFocus,()=>{const x=o.activationMode!=="manual";!g&&!s&&x&&o.onValueChange(r)})})})});OF.displayName=TF;var MF="TabsContent",DF=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,u=SA(MF,n),m=PF(u.baseId,r),f=RF(u.baseId,r),g=r===u.value,x=j.useRef(g);return j.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),a.jsx(ms,{present:s||g,children:({present:w})=>a.jsx(St.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!w,id:f,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:w&&i})})});DF.displayName=MF;function PF(e,t){return`${e}-trigger-${t}`}function RF(e,t){return`${e}-content-${t}`}var lfe=EF,kF=CF,IF=OF,LF=DF;const pi=lfe,Hs=j.forwardRef(({className:e,...t},n)=>a.jsx(kF,{ref:n,className:_t("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hs.displayName=kF.displayName;const At=j.forwardRef(({className:e,...t},n)=>a.jsx(IF,{ref:n,className:_t("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));At.displayName=IF.displayName;const Ot=j.forwardRef(({className:e,...t},n)=>a.jsx(LF,{ref:n,className:_t("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ot.displayName=LF.displayName;var ft;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ft||(ft={}));var jP=new Map([[ft.QR_CODE,"QR_CODE"],[ft.AZTEC,"AZTEC"],[ft.CODABAR,"CODABAR"],[ft.CODE_39,"CODE_39"],[ft.CODE_93,"CODE_93"],[ft.CODE_128,"CODE_128"],[ft.DATA_MATRIX,"DATA_MATRIX"],[ft.MAXICODE,"MAXICODE"],[ft.ITF,"ITF"],[ft.EAN_13,"EAN_13"],[ft.EAN_8,"EAN_8"],[ft.PDF_417,"PDF_417"],[ft.RSS_14,"RSS_14"],[ft.RSS_EXPANDED,"RSS_EXPANDED"],[ft.UPC_A,"UPC_A"],[ft.UPC_E,"UPC_E"],[ft.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),NP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(NP||(NP={}));function cfe(e){return Object.values(ft).includes(e)}var fu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(fu||(fu={}));var io=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[fu.SCAN_TYPE_CAMERA,fu.SCAN_TYPE_FILE],e}(),BF=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!jP.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,jP.get(t))},e}(),SP=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),WS;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(WS||(WS={}));var FF=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:WS.UNKWOWN_ERROR}},e}(),UF=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Bo(e){return typeof e>"u"||e===null}function ufe(e,t,n){return e>n?n:e<t?t:e}var fh=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ln=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),_P=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),zF=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(s),o=Object.keys(t),u=0,m=o;u<m.length;u++){var f=m[u];if(i.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e}(),Ig={exports:{}},dfe=Ig.exports,EP;function ffe(){return EP||(EP=1,function(e,t){(function(n,r){r(t)})(dfe,function(n){function r(ee){return ee==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,c){ee.__proto__=c}||function(ee,c){for(var h in c)c.hasOwnProperty(h)&&(ee[h]=c[h])};function i(ee,c){s(ee,c);function h(){this.constructor=ee}ee.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}function o(ee,c){var h=Object.setPrototypeOf;h?h(ee,c):ee.__proto__=c}function u(ee,c){c===void 0&&(c=ee.constructor);var h=Error.captureStackTrace;h&&h(ee,c)}var m=function(ee){i(c,ee);function c(h){var p=this.constructor,y=ee.call(this,h)||this;return Object.defineProperty(y,"name",{value:p.name,enumerable:!1}),o(y,p.prototype),u(y),y}return c}(Error);class f extends m{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}f.kind="Exception";class g extends f{}g.kind="ArgumentException";class x extends f{}x.kind="IllegalArgumentException";class w{constructor(c){if(this.binarizer=c,c===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,h){return this.binarizer.getBlackRow(c,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,h,p,y){const b=this.binarizer.getLuminanceSource().crop(c,h,p,y);return new w(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends f{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class C{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class A{static arraycopy(c,h,p,y,b){for(;b--;)p[y++]=c[h++]}static currentTimeMillis(){return Date.now()}}class E extends f{}E.kind="IndexOutOfBoundsException";class M extends E{constructor(c=void 0,h=void 0){super(h),this.index=c,this.message=h}}M.kind="ArrayIndexOutOfBoundsException";class D{static fill(c,h){for(let p=0,y=c.length;p<y;p++)c[p]=h}static fillWithin(c,h,p,y){D.rangeCheck(c.length,h,p);for(let b=h;b<p;b++)c[b]=y}static rangeCheck(c,h,p){if(h>p)throw new x("fromIndex("+h+") > toIndex("+p+")");if(h<0)throw new M(h);if(p>c)throw new M(p)}static asList(...c){return c}static create(c,h,p){return Array.from({length:c}).map(b=>Array.from({length:h}).fill(p))}static createInt32Array(c,h,p){return Array.from({length:c}).map(b=>Int32Array.from({length:h}).fill(p))}static equals(c,h){if(!c||!h||!c.length||!h.length||c.length!==h.length)return!1;for(let p=0,y=c.length;p<y;p++)if(c[p]!==h[p])return!1;return!0}static hashCode(c){if(c===null)return 0;let h=1;for(const p of c)h=31*h+p;return h}static fillUint8Array(c,h){for(let p=0;p!==c.length;p++)c[p]=h}static copyOf(c,h){return c.slice(0,h)}static copyOfUint8Array(c,h){if(c.length<=h){const p=new Uint8Array(h);return p.set(c),p}return c.slice(0,h)}static copyOfRange(c,h,p){const y=p-h,b=new Int32Array(y);return A.arraycopy(c,h,b,0,y),b}static binarySearch(c,h,p){p===void 0&&(p=D.numberComparator);let y=0,b=c.length-1;for(;y<=b;){const S=b+y>>1,T=p(h,c[S]);if(T>0)y=S+1;else if(T<0)b=S-1;else return S}return-y-1}static numberComparator(c,h){return c-h}}class R{static numberOfTrailingZeros(c){let h;if(c===0)return 32;let p=31;return h=c<<16,h!==0&&(p-=16,c=h),h=c<<8,h!==0&&(p-=8,c=h),h=c<<4,h!==0&&(p-=4,c=h),h=c<<2,h!==0&&(p-=2,c=h),p-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let h=1;return c>>>16||(h+=16,c<<=16),c>>>24||(h+=8,c<<=8),c>>>28||(h+=4,c<<=4),c>>>30||(h+=2,c<<=2),h-=c>>>31,h}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,h){return Math.trunc(c/h)}static parseInt(c,h=void 0){return parseInt(c,h)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(c,h){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,h==null?this.bits=z.makeArray(c):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const h=z.makeArray(c);A.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const h=this.size;if(c>=h)return h;const p=this.bits;let y=Math.floor(c/32),b=p[y];b&=~((1<<(c&31))-1);const S=p.length;for(;b===0;){if(++y===S)return h;b=p[y]}const T=y*32+R.numberOfTrailingZeros(b);return T>h?h:T}getNextUnset(c){const h=this.size;if(c>=h)return h;const p=this.bits;let y=Math.floor(c/32),b=~p[y];b&=~((1<<(c&31))-1);const S=p.length;for(;b===0;){if(++y===S)return h;b=~p[y]}const T=y*32+R.numberOfTrailingZeros(b);return T>h?h:T}setBulk(c,h){this.bits[Math.floor(c/32)]=h}setRange(c,h){if(h<c||c<0||h>this.size)throw new x;if(h===c)return;h--;const p=Math.floor(c/32),y=Math.floor(h/32),b=this.bits;for(let S=p;S<=y;S++){const T=S>p?0:c&31,U=(2<<(S<y?31:h&31))-(1<<T);b[S]|=U}}clear(){const c=this.bits.length,h=this.bits;for(let p=0;p<c;p++)h[p]=0}isRange(c,h,p){if(h<c||c<0||h>this.size)throw new x;if(h===c)return!0;h--;const y=Math.floor(c/32),b=Math.floor(h/32),S=this.bits;for(let T=y;T<=b;T++){const P=T>y?0:c&31,q=(2<<(T<b?31:h&31))-(1<<P)&4294967295;if((S[T]&q)!==(p?q:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,h){if(h<0||h>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let p=h;p>0;p--)this.appendBit((c>>p-1&1)===1)}appendBitArray(c){const h=c.size;this.ensureCapacity(this.size+h);for(let p=0;p<h;p++)this.appendBit(c.get(p))}xor(c){if(this.size!==c.size)throw new x("Sizes don't match");const h=this.bits;for(let p=0,y=h.length;p<y;p++)h[p]^=c.bits[p]}toBytes(c,h,p,y){for(let b=0;b<y;b++){let S=0;for(let T=0;T<8;T++)this.get(c)&&(S|=1<<7-T),c++;h[p+b]=S}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),p=h+1,y=this.bits;for(let b=0;b<p;b++){let S=y[b];S=S>>1&1431655765|(S&1431655765)<<1,S=S>>2&858993459|(S&858993459)<<2,S=S>>4&252645135|(S&252645135)<<4,S=S>>8&16711935|(S&16711935)<<8,S=S>>16&65535|(S&65535)<<16,c[h-b]=S}if(this.size!==p*32){const b=p*32-this.size;let S=c[0]>>>b;for(let T=1;T<p;T++){const P=c[T];S|=P<<32-b,c[T-1]=S,S=P>>>b}c[p-1]=S}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof z))return!1;const h=c;return this.size===h.size&&D.equals(this.bits,h.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let c="";for(let h=0,p=this.size;h<p;h++)(h&7)===0&&(c+=" "),c+=this.get(h)?"X":".";return c}clone(){return new z(this.size,this.bits.slice())}}var I;(function(ee){ee[ee.OTHER=0]="OTHER",ee[ee.PURE_BARCODE=1]="PURE_BARCODE",ee[ee.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ee[ee.TRY_HARDER=3]="TRY_HARDER",ee[ee.CHARACTER_SET=4]="CHARACTER_SET",ee[ee.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ee[ee.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ee[ee.ASSUME_GS1=7]="ASSUME_GS1",ee[ee.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ee[ee.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ee[ee.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(I||(I={}));var k=I;class F extends f{static getFormatInstance(){return new F}}F.kind="FormatException";var V;(function(ee){ee[ee.Cp437=0]="Cp437",ee[ee.ISO8859_1=1]="ISO8859_1",ee[ee.ISO8859_2=2]="ISO8859_2",ee[ee.ISO8859_3=3]="ISO8859_3",ee[ee.ISO8859_4=4]="ISO8859_4",ee[ee.ISO8859_5=5]="ISO8859_5",ee[ee.ISO8859_6=6]="ISO8859_6",ee[ee.ISO8859_7=7]="ISO8859_7",ee[ee.ISO8859_8=8]="ISO8859_8",ee[ee.ISO8859_9=9]="ISO8859_9",ee[ee.ISO8859_10=10]="ISO8859_10",ee[ee.ISO8859_11=11]="ISO8859_11",ee[ee.ISO8859_13=12]="ISO8859_13",ee[ee.ISO8859_14=13]="ISO8859_14",ee[ee.ISO8859_15=14]="ISO8859_15",ee[ee.ISO8859_16=15]="ISO8859_16",ee[ee.SJIS=16]="SJIS",ee[ee.Cp1250=17]="Cp1250",ee[ee.Cp1251=18]="Cp1251",ee[ee.Cp1252=19]="Cp1252",ee[ee.Cp1256=20]="Cp1256",ee[ee.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ee[ee.UTF8=22]="UTF8",ee[ee.ASCII=23]="ASCII",ee[ee.Big5=24]="Big5",ee[ee.GB18030=25]="GB18030",ee[ee.EUC_KR=26]="EUC_KR"})(V||(V={}));class L{constructor(c,h,p,...y){this.valueIdentifier=c,this.name=p,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=y,L.VALUE_IDENTIFIER_TO_ECI.set(c,this),L.NAME_TO_ECI.set(p,this);const b=this.values;for(let S=0,T=b.length;S!==T;S++){const P=b[S];L.VALUES_TO_ECI.set(P,this)}for(const S of y)L.NAME_TO_ECI.set(S,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new F("incorect value");const h=L.VALUES_TO_ECI.get(c);if(h===void 0)throw new F("incorect value");return h}static getCharacterSetECIByName(c){const h=L.NAME_TO_ECI.get(c);if(h===void 0)throw new F("incorect value");return h}equals(c){if(!(c instanceof L))return!1;const h=c;return this.getName()===h.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(V.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(V.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(V.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(V.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(V.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(V.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(V.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(V.Big5,28,"Big5"),L.GB18030=new L(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(V.EUC_KR,30,"EUC_KR","EUC-KR");class $ extends f{}$.kind="UnsupportedOperationException";class W{static decode(c,h){const p=this.encodingName(h);return this.customDecoder?this.customDecoder(c,p):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(p)?this.decodeFallback(c,p):new TextDecoder(p).decode(c)}static shouldDecodeOnFallback(c){return!W.isBrowser()&&c==="ISO-8859-1"}static encode(c,h){const p=this.encodingName(h);return this.customEncoder?this.customEncoder(c,p):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof L?c:L.getCharacterSetECIByName(c)}static decodeFallback(c,h){const p=this.encodingCharacterSet(h);if(W.isDecodeFallbackSupported(p)){let y="";for(let b=0,S=c.length;b<S;b++){let T=c[b].toString(16);T.length<2&&(T="0"+T),y+="%"+T}return decodeURIComponent(y)}if(p.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new $(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(L.UTF8)||c.equals(L.ISO8859_1)||c.equals(L.ASCII)}static encodeFallback(c){const p=btoa(unescape(encodeURIComponent(c))).split(""),y=[];for(let b=0;b<p.length;b++)y.push(p[b].charCodeAt(0));return new Uint8Array(y)}}class Y{static castAsNonUtf8Char(c,h=null){const p=h?h.getName():this.ISO88591;return W.decode(new Uint8Array([c]),p)}static guessEncoding(c,h){if(h!=null&&h.get(k.CHARACTER_SET)!==void 0)return h.get(k.CHARACTER_SET).toString();const p=c.length;let y=!0,b=!0,S=!0,T=0,P=0,U=0,q=0,te=0,ne=0,le=0,ge=0,ve=0,Ce=0,Le=0;const Ze=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let tt=0;tt<p&&(y||b||S);tt++){const Xe=c[tt]&255;S&&(T>0?(Xe&128)===0?S=!1:T--:(Xe&128)!==0&&((Xe&64)===0?S=!1:(T++,(Xe&32)===0?P++:(T++,(Xe&16)===0?U++:(T++,(Xe&8)===0?q++:S=!1))))),y&&(Xe>127&&Xe<160?y=!1:Xe>159&&(Xe<192||Xe===215||Xe===247)&&Le++),b&&(te>0?Xe<64||Xe===127||Xe>252?b=!1:te--:Xe===128||Xe===160||Xe>239?b=!1:Xe>160&&Xe<224?(ne++,ge=0,le++,le>ve&&(ve=le)):Xe>127?(te++,le=0,ge++,ge>Ce&&(Ce=ge)):(le=0,ge=0))}return S&&T>0&&(S=!1),b&&te>0&&(b=!1),S&&(Ze||P+U+q>0)?Y.UTF8:b&&(Y.ASSUME_SHIFT_JIS||ve>=3||Ce>=3)?Y.SHIFT_JIS:y&&b?ve===2&&ne===2||Le*10>=p?Y.SHIFT_JIS:Y.ISO88591:y?Y.ISO88591:b?Y.SHIFT_JIS:S?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(c,...h){let p=-1;function y(S,T,P,U,q,te){if(S==="%%")return"%";if(h[++p]===void 0)return;S=U?parseInt(U.substr(1)):void 0;let ne=q?parseInt(q.substr(1)):void 0,le;switch(te){case"s":le=h[p];break;case"c":le=h[p][0];break;case"f":le=parseFloat(h[p]).toFixed(S);break;case"p":le=parseFloat(h[p]).toPrecision(S);break;case"e":le=parseFloat(h[p]).toExponential(S);break;case"x":le=parseInt(h[p]).toString(ne||16);break;case"d":le=parseFloat(parseInt(h[p],ne||10).toPrecision(S)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(ne);let ge=parseInt(P),ve=P&&P[0]+""=="0"?"0":" ";for(;le.length<ge;)le=T!==void 0?le+ve:ve+le;return le}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(b,y)}static getBytes(c,h){return W.encode(c,h)}static getCharCode(c,h=0){return c.charCodeAt(h)}static getCharAt(c){return String.fromCharCode(c)}}Y.SHIFT_JIS=L.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=L.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=L.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class Q{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,h,p){for(let y=h;h<h+p;y++)this.append(c[y]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,h){this.value=this.value.substr(0,c)+h+this.value.substr(c+1)}substring(c,h){return this.value.substring(c,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,h){this.value=this.value.substr(0,c)+h+this.value.substr(c+h.length)}}class X{constructor(c,h,p,y){if(this.width=c,this.height=h,this.rowSize=p,this.bits=y,h==null&&(h=c),this.height=h,c<1||h<1)throw new x("Both dimensions must be greater than 0");p==null&&(p=Math.floor((c+31)/32)),this.rowSize=p,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const h=c.length,p=c[0].length,y=new X(p,h);for(let b=0;b<h;b++){const S=c[b];for(let T=0;T<p;T++)S[T]&&y.set(T,b)}return y}static parseFromString(c,h,p){if(c===null)throw new x("stringRepresentation cannot be null");const y=new Array(c.length);let b=0,S=0,T=-1,P=0,U=0;for(;U<c.length;)if(c.charAt(U)===`
`||c.charAt(U)==="\r"){if(b>S){if(T===-1)T=b-S;else if(b-S!==T)throw new x("row lengths do not match");S=b,P++}U++}else if(c.substring(U,U+h.length)===h)U+=h.length,y[b]=!0,b++;else if(c.substring(U,U+p.length)===p)U+=p.length,y[b]=!1,b++;else throw new x("illegal character encountered: "+c.substring(U));if(b>S){if(T===-1)T=b-S;else if(b-S!==T)throw new x("row lengths do not match");P++}const q=new X(T,P);for(let te=0;te<b;te++)y[te]&&q.set(Math.floor(te%T),Math.floor(te/T));return q}get(c,h){const p=h*this.rowSize+Math.floor(c/32);return(this.bits[p]>>>(c&31)&1)!==0}set(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]|=1<<(c&31)&4294967295}unset(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]&=~(1<<(c&31)&4294967295)}flip(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new x("input matrix dimensions do not match");const h=new z(Math.floor(this.width/32)+1),p=this.rowSize,y=this.bits;for(let b=0,S=this.height;b<S;b++){const T=b*p,P=c.getRow(b,h).getBitArray();for(let U=0;U<p;U++)y[T+U]^=P[U]}}clear(){const c=this.bits,h=c.length;for(let p=0;p<h;p++)c[p]=0}setRegion(c,h,p,y){if(h<0||c<0)throw new x("Left and top must be nonnegative");if(y<1||p<1)throw new x("Height and width must be at least 1");const b=c+p,S=h+y;if(S>this.height||b>this.width)throw new x("The region must fit inside the matrix");const T=this.rowSize,P=this.bits;for(let U=h;U<S;U++){const q=U*T;for(let te=c;te<b;te++)P[q+Math.floor(te/32)]|=1<<(te&31)&4294967295}}getRow(c,h){h==null||h.getSize()<this.width?h=new z(this.width):h.clear();const p=this.rowSize,y=this.bits,b=c*p;for(let S=0;S<p;S++)h.setBulk(S*32,y[b+S]);return h}setRow(c,h){A.arraycopy(h.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),h=this.getHeight();let p=new z(c),y=new z(c);for(let b=0,S=Math.floor((h+1)/2);b<S;b++)p=this.getRow(b,p),y=this.getRow(h-1-b,y),p.reverse(),y.reverse(),this.setRow(b,y),this.setRow(h-1-b,p)}getEnclosingRectangle(){const c=this.width,h=this.height,p=this.rowSize,y=this.bits;let b=c,S=h,T=-1,P=-1;for(let U=0;U<h;U++)for(let q=0;q<p;q++){const te=y[U*p+q];if(te!==0){if(U<S&&(S=U),U>P&&(P=U),q*32<b){let ne=0;for(;(te<<31-ne&4294967295)===0;)ne++;q*32+ne<b&&(b=q*32+ne)}if(q*32+31>T){let ne=31;for(;!(te>>>ne);)ne--;q*32+ne>T&&(T=q*32+ne)}}}return T<b||P<S?null:Int32Array.from([b,S,T-b+1,P-S+1])}getTopLeftOnBit(){const c=this.rowSize,h=this.bits;let p=0;for(;p<h.length&&h[p]===0;)p++;if(p===h.length)return null;const y=p/c;let b=p%c*32;const S=h[p];let T=0;for(;(S<<31-T&4294967295)===0;)T++;return b+=T,Int32Array.from([b,y])}getBottomRightOnBit(){const c=this.rowSize,h=this.bits;let p=h.length-1;for(;p>=0&&h[p]===0;)p--;if(p<0)return null;const y=Math.floor(p/c);let b=Math.floor(p%c)*32;const S=h[p];let T=31;for(;!(S>>>T);)T--;return b+=T,Int32Array.from([b,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof X))return!1;const h=c;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&D.equals(this.bits,h.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+D.hashCode(this.bits),c}toString(c="X ",h="  ",p=`
`){return this.buildToString(c,h,p)}buildToString(c,h,p){let y=new Q;for(let b=0,S=this.height;b<S;b++){for(let T=0,P=this.width;T<P;T++)y.append(this.get(T,b)?c:h);y.append(p)}return y.toString()}clone(){return new X(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends f{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class H extends C{constructor(c){super(c),this.luminances=H.EMPTY,this.buckets=new Int32Array(H.LUMINANCE_BUCKETS)}getBlackRow(c,h){const p=this.getLuminanceSource(),y=p.getWidth();h==null||h.getSize()<y?h=new z(y):h.clear(),this.initArrays(y);const b=p.getRow(c,this.luminances),S=this.buckets;for(let P=0;P<y;P++)S[(b[P]&255)>>H.LUMINANCE_SHIFT]++;const T=H.estimateBlackPoint(S);if(y<3)for(let P=0;P<y;P++)(b[P]&255)<T&&h.set(P);else{let P=b[0]&255,U=b[1]&255;for(let q=1;q<y-1;q++){const te=b[q+1]&255;(U*4-P-te)/2<T&&h.set(q),P=U,U=te}}return h}getBlackMatrix(){const c=this.getLuminanceSource(),h=c.getWidth(),p=c.getHeight(),y=new X(h,p);this.initArrays(h);const b=this.buckets;for(let P=1;P<5;P++){const U=Math.floor(p*P/5),q=c.getRow(U,this.luminances),te=Math.floor(h*4/5);for(let ne=Math.floor(h/5);ne<te;ne++){const le=q[ne]&255;b[le>>H.LUMINANCE_SHIFT]++}}const S=H.estimateBlackPoint(b),T=c.getMatrix();for(let P=0;P<p;P++){const U=P*h;for(let q=0;q<h;q++)(T[U+q]&255)<S&&y.set(q,P)}return y}createBinarizer(c){return new H(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const h=this.buckets;for(let p=0;p<H.LUMINANCE_BUCKETS;p++)h[p]=0}static estimateBlackPoint(c){const h=c.length;let p=0,y=0,b=0;for(let q=0;q<h;q++)c[q]>b&&(y=q,b=c[q]),c[q]>p&&(p=c[q]);let S=0,T=0;for(let q=0;q<h;q++){const te=q-y,ne=c[q]*te*te;ne>T&&(S=q,T=ne)}if(y>S){const q=y;y=S,S=q}if(S-y<=h/16)throw new G;let P=S-1,U=-1;for(let q=S-1;q>y;q--){const te=q-y,ne=te*te*(S-q)*(p-c[q]);ne>U&&(P=q,U=ne)}return P<<H.LUMINANCE_SHIFT}}H.LUMINANCE_BITS=5,H.LUMINANCE_SHIFT=8-H.LUMINANCE_BITS,H.LUMINANCE_BUCKETS=1<<H.LUMINANCE_BITS,H.EMPTY=Uint8ClampedArray.from([0]);class J extends H{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),h=c.getWidth(),p=c.getHeight();if(h>=J.MINIMUM_DIMENSION&&p>=J.MINIMUM_DIMENSION){const y=c.getMatrix();let b=h>>J.BLOCK_SIZE_POWER;(h&J.BLOCK_SIZE_MASK)!==0&&b++;let S=p>>J.BLOCK_SIZE_POWER;(p&J.BLOCK_SIZE_MASK)!==0&&S++;const T=J.calculateBlackPoints(y,b,S,h,p),P=new X(h,p);J.calculateThresholdForBlock(y,b,S,h,p,T,P),this.matrix=P}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new J(c)}static calculateThresholdForBlock(c,h,p,y,b,S,T){const P=b-J.BLOCK_SIZE,U=y-J.BLOCK_SIZE;for(let q=0;q<p;q++){let te=q<<J.BLOCK_SIZE_POWER;te>P&&(te=P);const ne=J.cap(q,2,p-3);for(let le=0;le<h;le++){let ge=le<<J.BLOCK_SIZE_POWER;ge>U&&(ge=U);const ve=J.cap(le,2,h-3);let Ce=0;for(let Ze=-2;Ze<=2;Ze++){const tt=S[ne+Ze];Ce+=tt[ve-2]+tt[ve-1]+tt[ve]+tt[ve+1]+tt[ve+2]}const Le=Ce/25;J.thresholdBlock(c,ge,te,Le,y,T)}}}static cap(c,h,p){return c<h?h:c>p?p:c}static thresholdBlock(c,h,p,y,b,S){for(let T=0,P=p*b+h;T<J.BLOCK_SIZE;T++,P+=b)for(let U=0;U<J.BLOCK_SIZE;U++)(c[P+U]&255)<=y&&S.set(h+U,p+T)}static calculateBlackPoints(c,h,p,y,b){const S=b-J.BLOCK_SIZE,T=y-J.BLOCK_SIZE,P=new Array(p);for(let U=0;U<p;U++){P[U]=new Int32Array(h);let q=U<<J.BLOCK_SIZE_POWER;q>S&&(q=S);for(let te=0;te<h;te++){let ne=te<<J.BLOCK_SIZE_POWER;ne>T&&(ne=T);let le=0,ge=255,ve=0;for(let Le=0,Ze=q*y+ne;Le<J.BLOCK_SIZE;Le++,Ze+=y){for(let tt=0;tt<J.BLOCK_SIZE;tt++){const Xe=c[Ze+tt]&255;le+=Xe,Xe<ge&&(ge=Xe),Xe>ve&&(ve=Xe)}if(ve-ge>J.MIN_DYNAMIC_RANGE)for(Le++,Ze+=y;Le<J.BLOCK_SIZE;Le++,Ze+=y)for(let tt=0;tt<J.BLOCK_SIZE;tt++)le+=c[Ze+tt]&255}let Ce=le>>J.BLOCK_SIZE_POWER*2;if(ve-ge<=J.MIN_DYNAMIC_RANGE&&(Ce=ge/2,U>0&&te>0)){const Le=(P[U-1][te]+2*P[U][te-1]+P[U-1][te-1])/4;ge<Le&&(Ce=Le)}P[U][te]=Ce}}return P}}J.BLOCK_SIZE_POWER=3,J.BLOCK_SIZE=1<<J.BLOCK_SIZE_POWER,J.BLOCK_SIZE_MASK=J.BLOCK_SIZE-1,J.MINIMUM_DIMENSION=J.BLOCK_SIZE*5,J.MIN_DYNAMIC_RANGE=24;class Z{constructor(c,h){this.width=c,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,h,p,y){throw new $("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new $("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new $("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let h=new Q;for(let p=0;p<this.height;p++){const y=this.getRow(p,c);for(let b=0;b<this.width;b++){const S=y[b]&255;let T;S<64?T="#":S<128?T="+":S<192?T=".":T=" ",h.append(T)}h.append(`
`)}return h.toString()}}class de extends Z{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,h){const p=this.delegate.getRow(c,h),y=this.getWidth();for(let b=0;b<y;b++)p[b]=255-(p[b]&255);return p}getMatrix(){const c=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(h);for(let y=0;y<h;y++)p[y]=255-(c[y]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(c,h,p,y){return new de(this.delegate.crop(c,h,p,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class re extends Z{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=re.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const h=c.getContext("2d").getImageData(0,0,c.width,c.height);return re.toGrayscaleBuffer(h.data,c.width,c.height)}static toGrayscaleBuffer(c,h,p){const y=new Uint8ClampedArray(h*p);for(let b=0,S=0,T=c.length;b<T;b+=4,S++){let P;if(c[b+3]===0)P=255;else{const q=c[b],te=c[b+1],ne=c[b+2];P=306*q+601*te+117*ne+512>>10}y[S]=P}return y}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth(),y=c*p;return h===null?h=this.buffer.slice(y,y+p):(h.length<p&&(h=new Uint8ClampedArray(p)),h.set(this.buffer.slice(y,y+p))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,h,p,y){return super.crop(c,h,p,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const h=this.getTempCanvasElement(),p=h.getContext("2d"),y=c*re.DEGREE_TO_RADIANS,b=this.canvas.width,S=this.canvas.height,T=Math.ceil(Math.abs(Math.cos(y))*b+Math.abs(Math.sin(y))*S),P=Math.ceil(Math.abs(Math.sin(y))*b+Math.abs(Math.cos(y))*S);return h.width=T,h.height=P,p.translate(T/2,P/2),p.rotate(y),p.drawImage(this.canvas,b/-2,S/-2),this.buffer=re.makeBufferFromCanvasImageData(h),this}invert(){return new de(this)}}re.DEGREE_TO_RADIANS=Math.PI/180;class pe{constructor(c,h,p){this.deviceId=c,this.label=h,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ne=(globalThis||wx||self||window||void 0)&&(globalThis||wx||self||window||void 0).__awaiter||function(ee,c,h,p){function y(b){return b instanceof h?b:new h(function(S){S(b)})}return new(h||(h=Promise))(function(b,S){function T(q){try{U(p.next(q))}catch(te){S(te)}}function P(q){try{U(p.throw(q))}catch(te){S(te)}}function U(q){q.done?b(q.value):y(q.value).then(T,P)}U((p=p.apply(ee,c||[])).next())})};class Se{constructor(c,h=500,p){this.reader=c,this.timeBetweenScansMillis=h,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return Ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const p of c){const y=p.kind==="video"?"videoinput":p.kind;if(y!=="videoinput")continue;const b=p.deviceId||p.id,S=p.label||`Video device ${h.length+1}`,T=p.groupId,P={deviceId:b,label:S,kind:y,groupId:T};h.push(P)}return h})}getVideoInputDevices(){return Ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new pe(h.deviceId,h.label))})}findDeviceById(c){return Ne(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(p=>p.deviceId===c):null})}decodeFromInputVideoDevice(c,h){return Ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,h)})}decodeOnceFromVideoDevice(c,h){return Ne(this,void 0,void 0,function*(){this.reset();let p;c?p={deviceId:{exact:c}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeOnceFromConstraints(y,h)})}decodeOnceFromConstraints(c,h){return Ne(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(p,h)})}decodeOnceFromStream(c,h){return Ne(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(c,h);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(c,h,p){return Ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,h,p)})}decodeFromVideoDevice(c,h,p){return Ne(this,void 0,void 0,function*(){let y;c?y={deviceId:{exact:c}}:y={facingMode:"environment"};const b={video:y};return yield this.decodeFromConstraints(b,h,p)})}decodeFromConstraints(c,h,p){return Ne(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(y,h,p)})}decodeFromStream(c,h,p){return Ne(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(c,h);return yield this.decodeContinuously(y,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,h){return Ne(this,void 0,void 0,function*(){const p=this.prepareVideoElement(h);return this.addVideoSource(p,c),this.videoElement=p,this.stream=c,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(c){return new Promise((h,p)=>this.playVideoOnLoad(c,()=>h()))}playVideoOnLoad(c,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",h),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return Ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,h){const p=document.getElementById(c);if(!p)throw new g(`element with id '${c}' not found`);if(p.nodeName.toLowerCase()!==h.toLowerCase())throw new g(`element with id '${c}' must be an ${h} element`);return p}decodeFromImage(c,h){if(!c&&!h)throw new g("either imageElement with a src set or an url must be provided");return h&&!c?this.decodeFromImageUrl(h):this.decodeFromImageElement(c)}decodeFromVideo(c,h){if(!c&&!h)throw new g("Either an element with a src set or an URL must be provided");return h&&!c?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,h,p){if(c===void 0&&h===void 0)throw new g("Either an element with a src set or an URL must be provided");return h&&!c?this.decodeFromVideoUrlContinuously(h,p):this.decodeFromVideoElementContinuously(c,p)}decodeFromImageElement(c){if(!c)throw new g("An image element must be provided.");this.reset();const h=this.prepareImageElement(c);this.imageElement=h;let p;return this.isImageLoaded(h)?p=this.decodeOnce(h,!1,!0):p=this._decodeOnLoadImage(h),p}decodeFromVideoElement(c){const h=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(c,h){const p=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(p,h)}_decodeFromVideoElementSetup(c){if(!c)throw new g("A video element must be provided.");this.reset();const h=this.prepareVideoElement(c);return this.videoElement=h,h}decodeFromImageUrl(c){if(!c)throw new g("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const p=this._decodeOnLoadImage(h);return h.src=c,p}decodeFromVideoUrl(c){if(!c)throw new g("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElement(h);return h.src=c,p}decodeFromVideoUrlContinuously(c,h){if(!c)throw new g("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(p,h);return p.src=c,y}_decodeOnLoadImage(c){return new Promise((h,p)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(h,p),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return Ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,h){return Ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,h)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let h;return typeof c>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof c=="string"&&(h=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(h=c),h}prepareVideoElement(c){let h;return!c&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof c=="string"&&(h=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(h=c),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(c,h=!0,p=!0){this._stopAsyncDecode=!1;const y=(b,S)=>{if(this._stopAsyncDecode){S(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const T=this.decode(c);b(T)}catch(T){const P=h&&T instanceof G,q=(T instanceof _||T instanceof F)&&p;if(P||q)return setTimeout(y,this._timeBetweenDecodingAttempts,b,S);S(T)}};return new Promise((b,S)=>y(b,S))}decodeContinuously(c,h){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(c);h(y,null),setTimeout(p,this.timeBetweenScansMillis)}catch(y){h(null,y);const b=y instanceof _||y instanceof F,S=y instanceof G;(b||S)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(c){const h=this.createBinaryBitmap(c);return this.decodeBitmap(h)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,h,p){h||(h={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(c,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(c,h,p=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(c,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const h=this.getCaptureCanvas(c),p=new re(h),y=new J(p);return new w(y)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const h=this.createCaptureCanvas(c);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let p,y;return typeof c<"u"&&(c instanceof HTMLVideoElement?(p=c.videoWidth,y=c.videoHeight):c instanceof HTMLImageElement&&(p=c.naturalWidth||c.width,y=c.naturalHeight||c.height)),h.style.width=p+"px",h.style.height=y+"px",h.width=p,h.height=y,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,h){try{c.srcObject=h}catch{c.src=URL.createObjectURL(h)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class xe{constructor(c,h,p=h==null?0:8*h.length,y,b,S=A.currentTimeMillis()){this.text=c,this.rawBytes=h,this.numBits=p,this.resultPoints=y,this.format=b,this.timestamp=S,this.text=c,this.rawBytes=h,p==null?this.numBits=h==null?0:8*h.length:this.numBits=p,this.resultPoints=y,this.format=b,this.resultMetadata=null,S==null?this.timestamp=A.currentTimeMillis():this.timestamp=S}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,h)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const h=this.resultPoints;if(h===null)this.resultPoints=c;else if(c!==null&&c.length>0){const p=new Array(h.length+c.length);A.arraycopy(h,0,p,0,h.length),A.arraycopy(c,0,p,h.length,c.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Pe;(function(ee){ee[ee.AZTEC=0]="AZTEC",ee[ee.CODABAR=1]="CODABAR",ee[ee.CODE_39=2]="CODE_39",ee[ee.CODE_93=3]="CODE_93",ee[ee.CODE_128=4]="CODE_128",ee[ee.DATA_MATRIX=5]="DATA_MATRIX",ee[ee.EAN_8=6]="EAN_8",ee[ee.EAN_13=7]="EAN_13",ee[ee.ITF=8]="ITF",ee[ee.MAXICODE=9]="MAXICODE",ee[ee.PDF_417=10]="PDF_417",ee[ee.QR_CODE=11]="QR_CODE",ee[ee.RSS_14=12]="RSS_14",ee[ee.RSS_EXPANDED=13]="RSS_EXPANDED",ee[ee.UPC_A=14]="UPC_A",ee[ee.UPC_E=15]="UPC_E",ee[ee.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var se=Pe,ce;(function(ee){ee[ee.OTHER=0]="OTHER",ee[ee.ORIENTATION=1]="ORIENTATION",ee[ee.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ee[ee.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ee[ee.ISSUE_NUMBER=4]="ISSUE_NUMBER",ee[ee.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ee[ee.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ee[ee.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ee[ee.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ee[ee.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ee[ee.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ce||(ce={}));var oe=ce;class he{constructor(c,h,p,y,b=-1,S=-1){this.rawBytes=c,this.text=h,this.byteSegments=p,this.ecLevel=y,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=S,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Re{exp(c){return this.expTable[c]}log(c){if(c===0)throw new x;return this.logTable[c]}static addOrSubtract(c,h){return c^h}}class be{constructor(c,h){if(h.length===0)throw new x;this.field=c;const p=h.length;if(p>1&&h[0]===0){let y=1;for(;y<p&&h[y]===0;)y++;y===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-y),A.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const h=this.coefficients;let p;if(c===1){p=0;for(let S=0,T=h.length;S!==T;S++){const P=h[S];p=Re.addOrSubtract(p,P)}return p}p=h[0];const y=h.length,b=this.field;for(let S=1;S<y;S++)p=Re.addOrSubtract(b.multiply(c,p),h[S]);return p}addOrSubtract(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let h=this.coefficients,p=c.coefficients;if(h.length>p.length){const S=h;h=p,p=S}let y=new Int32Array(p.length);const b=p.length-h.length;A.arraycopy(p,0,y,0,b);for(let S=b;S<p.length;S++)y[S]=Re.addOrSubtract(h[S-b],p[S]);return new be(this.field,y)}multiply(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const h=this.coefficients,p=h.length,y=c.coefficients,b=y.length,S=new Int32Array(p+b-1),T=this.field;for(let P=0;P<p;P++){const U=h[P];for(let q=0;q<b;q++)S[P+q]=Re.addOrSubtract(S[P+q],T.multiply(U,y[q]))}return new be(T,S)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const h=this.coefficients.length,p=this.field,y=new Int32Array(h),b=this.coefficients;for(let S=0;S<h;S++)y[S]=p.multiply(b[S],c);return new be(p,y)}multiplyByMonomial(c,h){if(c<0)throw new x;if(h===0)return this.field.getZero();const p=this.coefficients,y=p.length,b=new Int32Array(y+c),S=this.field;for(let T=0;T<y;T++)b[T]=S.multiply(p[T],h);return new be(S,b)}divide(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new x("Divide by 0");const h=this.field;let p=h.getZero(),y=this;const b=c.getCoefficient(c.getDegree()),S=h.inverse(b);for(;y.getDegree()>=c.getDegree()&&!y.isZero();){const T=y.getDegree()-c.getDegree(),P=h.multiply(y.getCoefficient(y.getDegree()),S),U=c.multiplyByMonomial(T,P),q=h.buildMonomial(T,P);p=p.addOrSubtract(q),y=y.addOrSubtract(U)}return[p,y]}toString(){let c="";for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);if(p!==0){if(p<0?(c+=" - ",p=-p):c.length>0&&(c+=" + "),h===0||p!==1){const y=this.field.log(p);y===0?c+="1":y===1?c+="a":(c+="a^",c+=y)}h!==0&&(h===1?c+="x":(c+="x^",c+=h))}}return c}}class ye extends f{}ye.kind="ArithmeticException";class Ke extends Re{constructor(c,h,p){super(),this.primitive=c,this.size=h,this.generatorBase=p;const y=new Int32Array(h);let b=1;for(let T=0;T<h;T++)y[T]=b,b*=2,b>=h&&(b^=c,b&=h-1);this.expTable=y;const S=new Int32Array(h);for(let T=0;T<h-1;T++)S[y[T]]=T;this.logTable=S,this.zero=new be(this,Int32Array.from([0])),this.one=new be(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,h){if(c<0)throw new x;if(h===0)return this.zero;const p=new Int32Array(c+1);return p[0]=h,new be(this,p)}inverse(c){if(c===0)throw new ye;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,h){return c===0||h===0?0:this.expTable[(this.logTable[c]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class Ve extends f{}Ve.kind="ReedSolomonException";class Qe extends f{}Qe.kind="IllegalStateException";class gt{constructor(c){this.field=c}decode(c,h){const p=this.field,y=new be(p,c),b=new Int32Array(h);let S=!0;for(let le=0;le<h;le++){const ge=y.evaluateAt(p.exp(le+p.getGeneratorBase()));b[b.length-1-le]=ge,ge!==0&&(S=!1)}if(S)return;const T=new be(p,b),P=this.runEuclideanAlgorithm(p.buildMonomial(h,1),T,h),U=P[0],q=P[1],te=this.findErrorLocations(U),ne=this.findErrorMagnitudes(q,te);for(let le=0;le<te.length;le++){const ge=c.length-1-p.log(te[le]);if(ge<0)throw new Ve("Bad error location");c[ge]=Ke.addOrSubtract(c[ge],ne[le])}}runEuclideanAlgorithm(c,h,p){if(c.getDegree()<h.getDegree()){const le=c;c=h,h=le}const y=this.field;let b=c,S=h,T=y.getZero(),P=y.getOne();for(;S.getDegree()>=(p/2|0);){let le=b,ge=T;if(b=S,T=P,b.isZero())throw new Ve("r_{i-1} was zero");S=le;let ve=y.getZero();const Ce=b.getCoefficient(b.getDegree()),Le=y.inverse(Ce);for(;S.getDegree()>=b.getDegree()&&!S.isZero();){const Ze=S.getDegree()-b.getDegree(),tt=y.multiply(S.getCoefficient(S.getDegree()),Le);ve=ve.addOrSubtract(y.buildMonomial(Ze,tt)),S=S.addOrSubtract(b.multiplyByMonomial(Ze,tt))}if(P=ve.multiply(T).addOrSubtract(ge),S.getDegree()>=b.getDegree())throw new Qe("Division algorithm failed to reduce polynomial?")}const U=P.getCoefficient(0);if(U===0)throw new Ve("sigmaTilde(0) was zero");const q=y.inverse(U),te=P.multiplyScalar(q),ne=S.multiplyScalar(q);return[te,ne]}findErrorLocations(c){const h=c.getDegree();if(h===1)return Int32Array.from([c.getCoefficient(1)]);const p=new Int32Array(h);let y=0;const b=this.field;for(let S=1;S<b.getSize()&&y<h;S++)c.evaluateAt(S)===0&&(p[y]=b.inverse(S),y++);if(y!==h)throw new Ve("Error locator degree does not match number of roots");return p}findErrorMagnitudes(c,h){const p=h.length,y=new Int32Array(p),b=this.field;for(let S=0;S<p;S++){const T=b.inverse(h[S]);let P=1;for(let U=0;U<p;U++)if(S!==U){const q=b.multiply(h[U],T),te=(q&1)===0?q|1:q&-2;P=b.multiply(P,te)}y[S]=b.multiply(c.evaluateAt(T),b.inverse(P)),b.getGeneratorBase()!==0&&(y[S]=b.multiply(y[S],T))}return y}}var et;(function(ee){ee[ee.UPPER=0]="UPPER",ee[ee.LOWER=1]="LOWER",ee[ee.MIXED=2]="MIXED",ee[ee.DIGIT=3]="DIGIT",ee[ee.PUNCT=4]="PUNCT",ee[ee.BINARY=5]="BINARY"})(et||(et={}));class bt{decode(c){this.ddata=c;let h=c.getBits(),p=this.extractBits(h),y=this.correctBits(p),b=bt.convertBoolArrayToByteArray(y),S=bt.getEncodedData(y),T=new he(b,S,null,null);return T.setNumBits(y.length),T}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let h=c.length,p=et.UPPER,y=et.UPPER,b="",S=0;for(;S<h;)if(y===et.BINARY){if(h-S<5)break;let T=bt.readCode(c,S,5);if(S+=5,T===0){if(h-S<11)break;T=bt.readCode(c,S,11)+31,S+=11}for(let P=0;P<T;P++){if(h-S<8){S=h;break}const U=bt.readCode(c,S,8);b+=Y.castAsNonUtf8Char(U),S+=8}y=p}else{let T=y===et.DIGIT?4:5;if(h-S<T)break;let P=bt.readCode(c,S,T);S+=T;let U=bt.getCharacter(y,P);U.startsWith("CTRL_")?(p=y,y=bt.getTable(U.charAt(5)),U.charAt(6)==="L"&&(p=y)):(b+=U,y=p)}return b}static getTable(c){switch(c){case"L":return et.LOWER;case"P":return et.PUNCT;case"M":return et.MIXED;case"D":return et.DIGIT;case"B":return et.BINARY;case"U":default:return et.UPPER}}static getCharacter(c,h){switch(c){case et.UPPER:return bt.UPPER_TABLE[h];case et.LOWER:return bt.LOWER_TABLE[h];case et.MIXED:return bt.MIXED_TABLE[h];case et.PUNCT:return bt.PUNCT_TABLE[h];case et.DIGIT:return bt.DIGIT_TABLE[h];default:throw new Qe("Bad table")}}correctBits(c){let h,p;this.ddata.getNbLayers()<=2?(p=6,h=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,h=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,h=Ke.AZTEC_DATA_10):(p=12,h=Ke.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),b=c.length/p;if(b<y)throw new F;let S=c.length%p,T=new Int32Array(b);for(let ne=0;ne<b;ne++,S+=p)T[ne]=bt.readCode(c,S,p);try{new gt(h).decode(T,b-y)}catch(ne){throw new F(ne)}let P=(1<<p)-1,U=0;for(let ne=0;ne<y;ne++){let le=T[ne];if(le===0||le===P)throw new F;(le===1||le===P-1)&&U++}let q=new Array(y*p-U),te=0;for(let ne=0;ne<y;ne++){let le=T[ne];if(le===1||le===P-1)q.fill(le>1,te,te+p-1),te+=p-1;else for(let ge=p-1;ge>=0;--ge)q[te++]=(le&1<<ge)!==0}return q}extractBits(c){let h=this.ddata.isCompact(),p=this.ddata.getNbLayers(),y=(h?11:14)+p*4,b=new Int32Array(y),S=new Array(this.totalBitsInLayer(p,h));if(h)for(let T=0;T<b.length;T++)b[T]=T;else{let T=y+1+2*R.truncDivision(R.truncDivision(y,2)-1,15),P=y/2,U=R.truncDivision(T,2);for(let q=0;q<P;q++){let te=q+R.truncDivision(q,15);b[P-q-1]=U-te-1,b[P+q]=U+te+1}}for(let T=0,P=0;T<p;T++){let U=(p-T)*4+(h?9:12),q=T*2,te=y-1-q;for(let ne=0;ne<U;ne++){let le=ne*2;for(let ge=0;ge<2;ge++)S[P+le+ge]=c.get(b[q+ge],b[q+ne]),S[P+2*U+le+ge]=c.get(b[q+ne],b[te-ge]),S[P+4*U+le+ge]=c.get(b[te-ge],b[te-ne]),S[P+6*U+le+ge]=c.get(b[te-ne],b[q+ge])}P+=U*8}return S}static readCode(c,h,p){let y=0;for(let b=h;b<h+p;b++)y<<=1,c[b]&&(y|=1);return y}static readByte(c,h){let p=c.length-h;return p>=8?bt.readCode(c,h,8):bt.readCode(c,h,p)<<8-p}static convertBoolArrayToByteArray(c){let h=new Uint8Array((c.length+7)/8);for(let p=0;p<h.length;p++)h[p]=bt.readByte(c,8*p);return h}totalBitsInLayer(c,h){return((h?88:112)+16*c)*c}}bt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],bt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],bt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],bt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],bt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,h,p,y){const b=c-p,S=h-y;return Math.sqrt(b*b+S*S)}static sum(c){let h=0;for(let p=0,y=c.length;p!==y;p++){const b=c[p];h+=b}return h}}class xr{static floatToIntBits(c){return c}}xr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ct{constructor(c,h){this.x=c,this.y=h}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof ct){const h=c;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*xr.floatToIntBits(this.x)+xr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const h=this.distance(c[0],c[1]),p=this.distance(c[1],c[2]),y=this.distance(c[0],c[2]);let b,S,T;if(p>=h&&p>=y?(S=c[0],b=c[1],T=c[2]):y>=p&&y>=h?(S=c[1],b=c[0],T=c[2]):(S=c[2],b=c[0],T=c[1]),this.crossProductZ(b,S,T)<0){const P=b;b=T,T=P}c[0]=b,c[1]=S,c[2]=T}static distance(c,h){return it.distance(c.x,c.y,h.x,h.y)}static crossProductZ(c,h,p){const y=h.x,b=h.y;return(p.x-y)*(c.y-b)-(p.y-b)*(c.x-y)}}class bn{constructor(c,h){this.bits=c,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Jr extends bn{constructor(c,h,p,y,b){super(c,h),this.compact=p,this.nbDatablocks=y,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class vr{constructor(c,h,p,y){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),h==null&&(h=vr.INIT_SIZE),p==null&&(p=c.getWidth()/2|0),y==null&&(y=c.getHeight()/2|0);const b=h/2|0;if(this.leftInit=p-b,this.rightInit=p+b,this.upInit=y-b,this.downInit=y+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let c=this.leftInit,h=this.rightInit,p=this.upInit,y=this.downInit,b=!1,S=!0,T=!1,P=!1,U=!1,q=!1,te=!1;const ne=this.width,le=this.height;for(;S;){S=!1;let ge=!0;for(;(ge||!P)&&h<ne;)ge=this.containsBlackPoint(p,y,h,!1),ge?(h++,S=!0,P=!0):P||h++;if(h>=ne){b=!0;break}let ve=!0;for(;(ve||!U)&&y<le;)ve=this.containsBlackPoint(c,h,y,!0),ve?(y++,S=!0,U=!0):U||y++;if(y>=le){b=!0;break}let Ce=!0;for(;(Ce||!q)&&c>=0;)Ce=this.containsBlackPoint(p,y,c,!1),Ce?(c--,S=!0,q=!0):q||c--;if(c<0){b=!0;break}let Le=!0;for(;(Le||!te)&&p>=0;)Le=this.containsBlackPoint(c,h,p,!0),Le?(p--,S=!0,te=!0):te||p--;if(p<0){b=!0;break}S&&(T=!0)}if(!b&&T){const ge=h-c;let ve=null;for(let tt=1;ve===null&&tt<ge;tt++)ve=this.getBlackPointOnSegment(c,y-tt,c+tt,y);if(ve==null)throw new G;let Ce=null;for(let tt=1;Ce===null&&tt<ge;tt++)Ce=this.getBlackPointOnSegment(c,p+tt,c+tt,p);if(Ce==null)throw new G;let Le=null;for(let tt=1;Le===null&&tt<ge;tt++)Le=this.getBlackPointOnSegment(h,p+tt,h-tt,p);if(Le==null)throw new G;let Ze=null;for(let tt=1;Ze===null&&tt<ge;tt++)Ze=this.getBlackPointOnSegment(h,y-tt,h-tt,y);if(Ze==null)throw new G;return this.centerEdges(Ze,ve,Le,Ce)}else throw new G}getBlackPointOnSegment(c,h,p,y){const b=it.round(it.distance(c,h,p,y)),S=(p-c)/b,T=(y-h)/b,P=this.image;for(let U=0;U<b;U++){const q=it.round(c+U*S),te=it.round(h+U*T);if(P.get(q,te))return new ct(q,te)}return null}centerEdges(c,h,p,y){const b=c.getX(),S=c.getY(),T=h.getX(),P=h.getY(),U=p.getX(),q=p.getY(),te=y.getX(),ne=y.getY(),le=vr.CORR;return b<this.width/2?[new ct(te-le,ne+le),new ct(T+le,P+le),new ct(U-le,q-le),new ct(b+le,S-le)]:[new ct(te+le,ne+le),new ct(T+le,P-le),new ct(U-le,q+le),new ct(b-le,S-le)]}containsBlackPoint(c,h,p,y){const b=this.image;if(y){for(let S=c;S<=h;S++)if(b.get(S,p))return!0}else for(let S=c;S<=h;S++)if(b.get(p,S))return!0;return!1}}vr.INIT_SIZE=10,vr.CORR=1;class Ga{static checkAndNudgePoints(c,h){const p=c.getWidth(),y=c.getHeight();let b=!0;for(let S=0;S<h.length&&b;S+=2){const T=Math.floor(h[S]),P=Math.floor(h[S+1]);if(T<-1||T>p||P<-1||P>y)throw new G;b=!1,T===-1?(h[S]=0,b=!0):T===p&&(h[S]=p-1,b=!0),P===-1?(h[S+1]=0,b=!0):P===y&&(h[S+1]=y-1,b=!0)}b=!0;for(let S=h.length-2;S>=0&&b;S-=2){const T=Math.floor(h[S]),P=Math.floor(h[S+1]);if(T<-1||T>p||P<-1||P>y)throw new G;b=!1,T===-1?(h[S]=0,b=!0):T===p&&(h[S]=p-1,b=!0),P===-1?(h[S+1]=0,b=!0):P===y&&(h[S+1]=y-1,b=!0)}}}class En{constructor(c,h,p,y,b,S,T,P,U){this.a11=c,this.a21=h,this.a31=p,this.a12=y,this.a22=b,this.a32=S,this.a13=T,this.a23=P,this.a33=U}static quadrilateralToQuadrilateral(c,h,p,y,b,S,T,P,U,q,te,ne,le,ge,ve,Ce){const Le=En.quadrilateralToSquare(c,h,p,y,b,S,T,P);return En.squareToQuadrilateral(U,q,te,ne,le,ge,ve,Ce).times(Le)}transformPoints(c){const h=c.length,p=this.a11,y=this.a12,b=this.a13,S=this.a21,T=this.a22,P=this.a23,U=this.a31,q=this.a32,te=this.a33;for(let ne=0;ne<h;ne+=2){const le=c[ne],ge=c[ne+1],ve=b*le+P*ge+te;c[ne]=(p*le+S*ge+U)/ve,c[ne+1]=(y*le+T*ge+q)/ve}}transformPointsWithValues(c,h){const p=this.a11,y=this.a12,b=this.a13,S=this.a21,T=this.a22,P=this.a23,U=this.a31,q=this.a32,te=this.a33,ne=c.length;for(let le=0;le<ne;le++){const ge=c[le],ve=h[le],Ce=b*ge+P*ve+te;c[le]=(p*ge+S*ve+U)/Ce,h[le]=(y*ge+T*ve+q)/Ce}}static squareToQuadrilateral(c,h,p,y,b,S,T,P){const U=c-p+b-T,q=h-y+S-P;if(U===0&&q===0)return new En(p-c,b-p,c,y-h,S-y,h,0,0,1);{const te=p-b,ne=T-b,le=y-S,ge=P-S,ve=te*ge-ne*le,Ce=(U*ge-ne*q)/ve,Le=(te*q-U*le)/ve;return new En(p-c+Ce*p,T-c+Le*T,c,y-h+Ce*y,P-h+Le*P,h,Ce,Le,1)}}static quadrilateralToSquare(c,h,p,y,b,S,T,P){return En.squareToQuadrilateral(c,h,p,y,b,S,T,P).buildAdjoint()}buildAdjoint(){return new En(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new En(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class Qn extends Ga{sampleGrid(c,h,p,y,b,S,T,P,U,q,te,ne,le,ge,ve,Ce,Le,Ze,tt){const Xe=En.quadrilateralToQuadrilateral(y,b,S,T,P,U,q,te,ne,le,ge,ve,Ce,Le,Ze,tt);return this.sampleGridWithTransform(c,h,p,Xe)}sampleGridWithTransform(c,h,p,y){if(h<=0||p<=0)throw new G;const b=new X(h,p),S=new Float32Array(2*h);for(let T=0;T<p;T++){const P=S.length,U=T+.5;for(let q=0;q<P;q+=2)S[q]=q/2+.5,S[q+1]=U;y.transformPoints(S),Ga.checkAndNudgePoints(c,S);try{for(let q=0;q<P;q+=2)c.get(Math.floor(S[q]),Math.floor(S[q+1]))&&b.set(q/2,T)}catch{throw new G}}return b}}class yr{static setGridSampler(c){yr.gridSampler=c}static getInstance(){return yr.gridSampler}}yr.gridSampler=new Qn;class sn{constructor(c,h){this.x=c,this.y=h}toResultPoint(){return new ct(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class qs{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let h=this.getMatrixCenter(),p=this.getBullsEyeCorners(h);if(c){let S=p[0];p[0]=p[2],p[2]=S}this.extractParameters(p);let y=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),b=this.getMatrixCornerPoints(p);return new Jr(y,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new G;let h=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(c[0],c[1],h),this.sampleLine(c[1],c[2],h),this.sampleLine(c[2],c[3],h),this.sampleLine(c[3],c[0],h)]);this.shift=this.getRotation(p,h);let y=0;for(let S=0;S<4;S++){let T=p[(this.shift+S)%4];this.compact?(y<<=7,y+=T>>1&127):(y<<=10,y+=(T>>2&992)+(T>>1&31))}let b=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(c,h){let p=0;c.forEach((y,b,S)=>{let T=(y>>h-2<<1)+(y&1);p=(p<<3)+T}),p=((p&1)<<11)+(p>>1);for(let y=0;y<4;y++)if(R.bitCount(p^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new G}getCorrectedParameterData(c,h){let p,y;h?(p=7,y=2):(p=10,y=4);let b=p-y,S=new Int32Array(p);for(let P=p-1;P>=0;--P)S[P]=c&15,c>>=4;try{new gt(Ke.AZTEC_PARAM).decode(S,b)}catch{throw new G}let T=0;for(let P=0;P<y;P++)T=(T<<4)+S[P];return T}getBullsEyeCorners(c){let h=c,p=c,y=c,b=c,S=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let te=this.getFirstDifferent(h,S,1,-1),ne=this.getFirstDifferent(p,S,1,1),le=this.getFirstDifferent(y,S,-1,1),ge=this.getFirstDifferent(b,S,-1,-1);if(this.nbCenterLayers>2){let ve=this.distancePoint(ge,te)*this.nbCenterLayers/(this.distancePoint(b,h)*(this.nbCenterLayers+2));if(ve<.75||ve>1.25||!this.isWhiteOrBlackRectangle(te,ne,le,ge))break}h=te,p=ne,y=le,b=ge,S=!S}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let T=new ct(h.getX()+.5,h.getY()-.5),P=new ct(p.getX()+.5,p.getY()+.5),U=new ct(y.getX()-.5,y.getY()+.5),q=new ct(b.getX()-.5,b.getY()-.5);return this.expandSquare([T,P,U,q],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,h,p,y;try{let T=new vr(this.image).detect();c=T[0],h=T[1],p=T[2],y=T[3]}catch{let P=this.image.getWidth()/2,U=this.image.getHeight()/2;c=this.getFirstDifferent(new sn(P+7,U-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new sn(P+7,U+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new sn(P-7,U+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new sn(P-7,U-7),!1,-1,-1).toResultPoint()}let b=it.round((c.getX()+y.getX()+h.getX()+p.getX())/4),S=it.round((c.getY()+y.getY()+h.getY()+p.getY())/4);try{let T=new vr(this.image,15,b,S).detect();c=T[0],h=T[1],p=T[2],y=T[3]}catch{c=this.getFirstDifferent(new sn(b+7,S-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new sn(b+7,S+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new sn(b-7,S+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new sn(b-7,S-7),!1,-1,-1).toResultPoint()}return b=it.round((c.getX()+y.getX()+h.getX()+p.getX())/4),S=it.round((c.getY()+y.getY()+h.getY()+p.getY())/4),new sn(b,S)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,h,p,y,b){let S=yr.getInstance(),T=this.getDimension(),P=T/2-this.nbCenterLayers,U=T/2+this.nbCenterLayers;return S.sampleGrid(c,T,T,P,P,U,P,U,U,P,U,h.getX(),h.getY(),p.getX(),p.getY(),y.getX(),y.getY(),b.getX(),b.getY())}sampleLine(c,h,p){let y=0,b=this.distanceResultPoint(c,h),S=b/p,T=c.getX(),P=c.getY(),U=S*(h.getX()-c.getX())/b,q=S*(h.getY()-c.getY())/b;for(let te=0;te<p;te++)this.image.get(it.round(T+te*U),it.round(P+te*q))&&(y|=1<<p-te-1);return y}isWhiteOrBlackRectangle(c,h,p,y){let b=3;c=new sn(c.getX()-b,c.getY()+b),h=new sn(h.getX()-b,h.getY()-b),p=new sn(p.getX()+b,p.getY()-b),y=new sn(y.getX()+b,y.getY()+b);let S=this.getColor(y,c);if(S===0)return!1;let T=this.getColor(c,h);return T!==S||(T=this.getColor(h,p),T!==S)?!1:(T=this.getColor(p,y),T===S)}getColor(c,h){let p=this.distancePoint(c,h),y=(h.getX()-c.getX())/p,b=(h.getY()-c.getY())/p,S=0,T=c.getX(),P=c.getY(),U=this.image.get(c.getX(),c.getY()),q=Math.ceil(p);for(let ne=0;ne<q;ne++)T+=y,P+=b,this.image.get(it.round(T),it.round(P))!==U&&S++;let te=S/p;return te>.1&&te<.9?0:te<=.1===U?1:-1}getFirstDifferent(c,h,p,y){let b=c.getX()+p,S=c.getY()+y;for(;this.isValid(b,S)&&this.image.get(b,S)===h;)b+=p,S+=y;for(b-=p,S-=y;this.isValid(b,S)&&this.image.get(b,S)===h;)b+=p;for(b-=p;this.isValid(b,S)&&this.image.get(b,S)===h;)S+=y;return S-=y,new sn(b,S)}expandSquare(c,h,p){let y=p/(2*h),b=c[0].getX()-c[2].getX(),S=c[0].getY()-c[2].getY(),T=(c[0].getX()+c[2].getX())/2,P=(c[0].getY()+c[2].getY())/2,U=new ct(T+y*b,P+y*S),q=new ct(T-y*b,P-y*S);b=c[1].getX()-c[3].getX(),S=c[1].getY()-c[3].getY(),T=(c[1].getX()+c[3].getX())/2,P=(c[1].getY()+c[3].getY())/2;let te=new ct(T+y*b,P+y*S),ne=new ct(T-y*b,P-y*S);return[U,te,q,ne]}isValid(c,h){return c>=0&&c<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(c){let h=it.round(c.getX()),p=it.round(c.getY());return this.isValid(h,p)}distancePoint(c,h){return it.distance(c.getX(),c.getY(),h.getX(),h.getY())}distanceResultPoint(c,h){return it.distance(c.getX(),c.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Wi{decode(c,h=null){let p=null,y=new qs(c.getBlackMatrix()),b=null,S=null;try{let q=y.detectMirror(!1);b=q.getPoints(),this.reportFoundResultPoints(h,b),S=new bt().decode(q)}catch(q){p=q}if(S==null)try{let q=y.detectMirror(!0);b=q.getPoints(),this.reportFoundResultPoints(h,b),S=new bt().decode(q)}catch(q){throw p??q}let T=new xe(S.getText(),S.getRawBytes(),S.getNumBits(),b,se.AZTEC,A.currentTimeMillis()),P=S.getByteSegments();P!=null&&T.putMetadata(oe.BYTE_SEGMENTS,P);let U=S.getECLevel();return U!=null&&T.putMetadata(oe.ERROR_CORRECTION_LEVEL,U),T}reportFoundResultPoints(c,h){if(c!=null){let p=c.get(k.NEED_RESULT_POINT_CALLBACK);p!=null&&h.forEach((y,b,S)=>{p.foundPossibleResultPoint(y)})}}reset(){}}class vi extends Se{constructor(c=500){super(new Wi,c)}}class un{decode(c,h){try{return this.doDecode(c,h)}catch{if(h&&h.get(k.TRY_HARDER)===!0&&c.isRotateSupported()){const b=c.rotateCounterClockwise(),S=this.doDecode(b,h),T=S.getResultMetadata();let P=270;T!==null&&T.get(oe.ORIENTATION)===!0&&(P=P+T.get(oe.ORIENTATION)%360),S.putMetadata(oe.ORIENTATION,P);const U=S.getResultPoints();if(U!==null){const q=b.getHeight();for(let te=0;te<U.length;te++)U[te]=new ct(q-U[te].getY()-1,U[te].getX())}return S}else throw new G}}reset(){}doDecode(c,h){const p=c.getWidth(),y=c.getHeight();let b=new z(p);const S=h&&h.get(k.TRY_HARDER)===!0,T=Math.max(1,y>>(S?8:5));let P;S?P=y:P=15;const U=Math.trunc(y/2);for(let q=0;q<P;q++){const te=Math.trunc((q+1)/2),ne=(q&1)===0,le=U+T*(ne?te:-te);if(le<0||le>=y)break;try{b=c.getBlackRow(le,b)}catch{continue}for(let ge=0;ge<2;ge++){if(ge===1&&(b.reverse(),h&&h.get(k.NEED_RESULT_POINT_CALLBACK)===!0)){const ve=new Map;h.forEach((Ce,Le)=>ve.set(Le,Ce)),ve.delete(k.NEED_RESULT_POINT_CALLBACK),h=ve}try{const ve=this.decodeRow(le,b,h);if(ge===1){ve.putMetadata(oe.ORIENTATION,180);const Ce=ve.getResultPoints();Ce!==null&&(Ce[0]=new ct(p-Ce[0].getX()-1,Ce[0].getY()),Ce[1]=new ct(p-Ce[1].getX()-1,Ce[1].getY()))}return ve}catch{}}}throw new G}static recordPattern(c,h,p){const y=p.length;for(let U=0;U<y;U++)p[U]=0;const b=c.getSize();if(h>=b)throw new G;let S=!c.get(h),T=0,P=h;for(;P<b;){if(c.get(P)!==S)p[T]++;else{if(++T===y)break;p[T]=1,S=!S}P++}if(!(T===y||T===y-1&&P===b))throw new G}static recordPatternInReverse(c,h,p){let y=p.length,b=c.get(h);for(;h>0&&y>=0;)c.get(--h)!==b&&(y--,b=!b);if(y>=0)throw new G;un.recordPattern(c,h+1,p)}static patternMatchVariance(c,h,p){const y=c.length;let b=0,S=0;for(let U=0;U<y;U++)b+=c[U],S+=h[U];if(b<S)return Number.POSITIVE_INFINITY;const T=b/S;p*=T;let P=0;for(let U=0;U<y;U++){const q=c[U],te=h[U]*T,ne=q>te?q-te:te-q;if(ne>p)return Number.POSITIVE_INFINITY;P+=ne}return P/b}}class rt extends un{static findStartPattern(c){const h=c.getSize(),p=c.getNextSet(0);let y=0,b=Int32Array.from([0,0,0,0,0,0]),S=p,T=!1;const P=6;for(let U=p;U<h;U++)if(c.get(U)!==T)b[y]++;else{if(y===P-1){let q=rt.MAX_AVG_VARIANCE,te=-1;for(let ne=rt.CODE_START_A;ne<=rt.CODE_START_C;ne++){const le=un.patternMatchVariance(b,rt.CODE_PATTERNS[ne],rt.MAX_INDIVIDUAL_VARIANCE);le<q&&(q=le,te=ne)}if(te>=0&&c.isRange(Math.max(0,S-(U-S)/2),S,!1))return Int32Array.from([S,U,te]);S+=b[0]+b[1],b=b.slice(2,b.length-1),b[y-1]=0,b[y]=0,y--}else y++;b[y]=1,T=!T}throw new G}static decodeCode(c,h,p){un.recordPattern(c,p,h);let y=rt.MAX_AVG_VARIANCE,b=-1;for(let S=0;S<rt.CODE_PATTERNS.length;S++){const T=rt.CODE_PATTERNS[S],P=this.patternMatchVariance(h,T,rt.MAX_INDIVIDUAL_VARIANCE);P<y&&(y=P,b=S)}if(b>=0)return b;throw new G}decodeRow(c,h,p){const y=p&&p.get(k.ASSUME_GS1)===!0,b=rt.findStartPattern(h),S=b[2];let T=0;const P=new Uint8Array(20);P[T++]=S;let U;switch(S){case rt.CODE_START_A:U=rt.CODE_CODE_A;break;case rt.CODE_START_B:U=rt.CODE_CODE_B;break;case rt.CODE_START_C:U=rt.CODE_CODE_C;break;default:throw new F}let q=!1,te=!1,ne="",le=b[0],ge=b[1];const ve=Int32Array.from([0,0,0,0,0,0]);let Ce=0,Le=0,Ze=S,tt=0,Xe=!0,Vt=!1,Ft=!1;for(;!q;){const Oo=te;switch(te=!1,Ce=Le,Le=rt.decodeCode(h,ve,ge),P[T++]=Le,Le!==rt.CODE_STOP&&(Xe=!0),Le!==rt.CODE_STOP&&(tt++,Ze+=tt*Le),le=ge,ge+=ve.reduce((Gs,w0)=>Gs+w0,0),Le){case rt.CODE_START_A:case rt.CODE_START_B:case rt.CODE_START_C:throw new F}switch(U){case rt.CODE_CODE_A:if(Le<64)Ft===Vt?ne+=String.fromCharCode(32+Le):ne+=String.fromCharCode(32+Le+128),Ft=!1;else if(Le<96)Ft===Vt?ne+=String.fromCharCode(Le-64):ne+=String.fromCharCode(Le+64),Ft=!1;else switch(Le!==rt.CODE_STOP&&(Xe=!1),Le){case rt.CODE_FNC_1:y&&(ne.length===0?ne+="]C1":ne+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_A:!Vt&&Ft?(Vt=!0,Ft=!1):Vt&&Ft?(Vt=!1,Ft=!1):Ft=!0;break;case rt.CODE_SHIFT:te=!0,U=rt.CODE_CODE_B;break;case rt.CODE_CODE_B:U=rt.CODE_CODE_B;break;case rt.CODE_CODE_C:U=rt.CODE_CODE_C;break;case rt.CODE_STOP:q=!0;break}break;case rt.CODE_CODE_B:if(Le<96)Ft===Vt?ne+=String.fromCharCode(32+Le):ne+=String.fromCharCode(32+Le+128),Ft=!1;else switch(Le!==rt.CODE_STOP&&(Xe=!1),Le){case rt.CODE_FNC_1:y&&(ne.length===0?ne+="]C1":ne+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_B:!Vt&&Ft?(Vt=!0,Ft=!1):Vt&&Ft?(Vt=!1,Ft=!1):Ft=!0;break;case rt.CODE_SHIFT:te=!0,U=rt.CODE_CODE_A;break;case rt.CODE_CODE_A:U=rt.CODE_CODE_A;break;case rt.CODE_CODE_C:U=rt.CODE_CODE_C;break;case rt.CODE_STOP:q=!0;break}break;case rt.CODE_CODE_C:if(Le<100)Le<10&&(ne+="0"),ne+=Le;else switch(Le!==rt.CODE_STOP&&(Xe=!1),Le){case rt.CODE_FNC_1:y&&(ne.length===0?ne+="]C1":ne+="");break;case rt.CODE_CODE_A:U=rt.CODE_CODE_A;break;case rt.CODE_CODE_B:U=rt.CODE_CODE_B;break;case rt.CODE_STOP:q=!0;break}break}Oo&&(U=U===rt.CODE_CODE_A?rt.CODE_CODE_B:rt.CODE_CODE_A)}const Fa=ge-le;if(ge=h.getNextUnset(ge),!h.isRange(ge,Math.min(h.getSize(),ge+(ge-le)/2),!1))throw new G;if(Ze-=tt*Ce,Ze%103!==Ce)throw new _;const Ds=ne.length;if(Ds===0)throw new G;Ds>0&&Xe&&(U===rt.CODE_CODE_C?ne=ne.substring(0,Ds-2):ne=ne.substring(0,Ds-1));const Ja=(b[1]+b[0])/2,Pn=le+Fa/2,ga=P.length,es=new Uint8Array(ga);for(let Oo=0;Oo<ga;Oo++)es[Oo]=P[Oo];const hl=[new ct(Ja,c),new ct(Pn,c)];return new xe(ne,es,0,hl,se.CODE_128,new Date().getTime())}}rt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],rt.MAX_AVG_VARIANCE=.25,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.CODE_SHIFT=98,rt.CODE_CODE_C=99,rt.CODE_CODE_B=100,rt.CODE_CODE_A=101,rt.CODE_FNC_1=102,rt.CODE_FNC_2=97,rt.CODE_FNC_3=96,rt.CODE_FNC_4_A=101,rt.CODE_FNC_4_B=100,rt.CODE_START_A=103,rt.CODE_START_B=104,rt.CODE_START_C=105,rt.CODE_STOP=106;class wn extends un{constructor(c=!1,h=!1){super(),this.usingCheckDigit=c,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,h,p){let y=this.counters;y.fill(0),this.decodeRowResult="";let b=wn.findAsteriskPattern(h,y),S=h.getNextSet(b[1]),T=h.getSize(),P,U;do{wn.recordPattern(h,S,y);let ve=wn.toNarrowWidePattern(y);if(ve<0)throw new G;P=wn.patternToChar(ve),this.decodeRowResult+=P,U=S;for(let Ce of y)S+=Ce;S=h.getNextSet(S)}while(P!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let q=0;for(let ve of y)q+=ve;let te=S-U-q;if(S!==T&&te*2<q)throw new G;if(this.usingCheckDigit){let ve=this.decodeRowResult.length-1,Ce=0;for(let Le=0;Le<ve;Le++)Ce+=wn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Le));if(this.decodeRowResult.charAt(ve)!==wn.ALPHABET_STRING.charAt(Ce%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ve)}if(this.decodeRowResult.length===0)throw new G;let ne;this.extendedMode?ne=wn.decodeExtended(this.decodeRowResult):ne=this.decodeRowResult;let le=(b[1]+b[0])/2,ge=U+q/2;return new xe(ne,null,0,[new ct(le,c),new ct(ge,c)],se.CODE_39,new Date().getTime())}static findAsteriskPattern(c,h){let p=c.getSize(),y=c.getNextSet(0),b=0,S=y,T=!1,P=h.length;for(let U=y;U<p;U++)if(c.get(U)!==T)h[b]++;else{if(b===P-1){if(this.toNarrowWidePattern(h)===wn.ASTERISK_ENCODING&&c.isRange(Math.max(0,S-Math.floor((U-S)/2)),S,!1))return[S,U];S+=h[0]+h[1],h.copyWithin(0,2,2+b-1),h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,T=!T}throw new G}static toNarrowWidePattern(c){let h=c.length,p=0,y;do{let b=2147483647;for(let P of c)P<b&&P>p&&(b=P);p=b,y=0;let S=0,T=0;for(let P=0;P<h;P++){let U=c[P];U>p&&(T|=1<<h-1-P,y++,S+=U)}if(y===3){for(let P=0;P<h&&y>0;P++){let U=c[P];if(U>p&&(y--,U*2>=S))return-1}return T}}while(y>3);return-1}static patternToChar(c){for(let h=0;h<wn.CHARACTER_ENCODINGS.length;h++)if(wn.CHARACTER_ENCODINGS[h]===c)return wn.ALPHABET_STRING.charAt(h);if(c===wn.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(c){let h=c.length,p="";for(let y=0;y<h;y++){let b=c.charAt(y);if(b==="+"||b==="$"||b==="%"||b==="/"){let S=c.charAt(y+1),T="\0";switch(b){case"+":if(S>="A"&&S<="Z")T=String.fromCharCode(S.charCodeAt(0)+32);else throw new F;break;case"$":if(S>="A"&&S<="Z")T=String.fromCharCode(S.charCodeAt(0)-64);else throw new F;break;case"%":if(S>="A"&&S<="E")T=String.fromCharCode(S.charCodeAt(0)-38);else if(S>="F"&&S<="J")T=String.fromCharCode(S.charCodeAt(0)-11);else if(S>="K"&&S<="O")T=String.fromCharCode(S.charCodeAt(0)+16);else if(S>="P"&&S<="T")T=String.fromCharCode(S.charCodeAt(0)+43);else if(S==="U")T="\0";else if(S==="V")T="@";else if(S==="W")T="`";else if(S==="X"||S==="Y"||S==="Z")T="";else throw new F;break;case"/":if(S>="A"&&S<="O")T=String.fromCharCode(S.charCodeAt(0)-32);else if(S==="Z")T=":";else throw new F;break}p+=T,y++}else p+=b}return p}}wn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",wn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],wn.ASTERISK_ENCODING=148;class dn extends un{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,h,p){let y=this.decodeStart(h),b=this.decodeEnd(h),S=new Q;dn.decodeMiddle(h,y[1],b[0],S);let T=S.toString(),P=null;p!=null&&(P=p.get(k.ALLOWED_LENGTHS)),P==null&&(P=dn.DEFAULT_ALLOWED_LENGTHS);let U=T.length,q=!1,te=0;for(let ge of P){if(U===ge){q=!0;break}ge>te&&(te=ge)}if(!q&&U>te&&(q=!0),!q)throw new F;const ne=[new ct(y[1],c),new ct(b[0],c)];return new xe(T,null,0,ne,se.ITF,new Date().getTime())}static decodeMiddle(c,h,p,y){let b=new Int32Array(10),S=new Int32Array(5),T=new Int32Array(5);for(b.fill(0),S.fill(0),T.fill(0);h<p;){un.recordPattern(c,h,b);for(let U=0;U<5;U++){let q=2*U;S[U]=b[q],T[U]=b[q+1]}let P=dn.decodeDigit(S);y.append(P.toString()),P=this.decodeDigit(T),y.append(P.toString()),b.forEach(function(U){h+=U})}}decodeStart(c){let h=dn.skipWhiteSpace(c),p=dn.findGuardPattern(c,h,dn.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(c,p[0]),p}validateQuietZone(c,h){let p=this.narrowLineWidth*10;p=p<h?p:h;for(let y=h-1;p>0&&y>=0&&!c.get(y);y--)p--;if(p!==0)throw new G}static skipWhiteSpace(c){const h=c.getSize(),p=c.getNextSet(0);if(p===h)throw new G;return p}decodeEnd(c){c.reverse();try{let h=dn.skipWhiteSpace(c),p;try{p=dn.findGuardPattern(c,h,dn.END_PATTERN_REVERSED[0])}catch(b){b instanceof G&&(p=dn.findGuardPattern(c,h,dn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,p[0]);let y=p[0];return p[0]=c.getSize()-p[1],p[1]=c.getSize()-y,p}finally{c.reverse()}}static findGuardPattern(c,h,p){let y=p.length,b=new Int32Array(y),S=c.getSize(),T=!1,P=0,U=h;b.fill(0);for(let q=h;q<S;q++)if(c.get(q)!==T)b[P]++;else{if(P===y-1){if(un.patternMatchVariance(b,p,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return[U,q];U+=b[0]+b[1],A.arraycopy(b,2,b,0,P-1),b[P-1]=0,b[P]=0,P--}else P++;b[P]=1,T=!T}throw new G}static decodeDigit(c){let h=dn.MAX_AVG_VARIANCE,p=-1,y=dn.PATTERNS.length;for(let b=0;b<y;b++){let S=dn.PATTERNS[b],T=un.patternMatchVariance(c,S,dn.MAX_INDIVIDUAL_VARIANCE);T<h?(h=T,p=b):T===h&&(p=-1)}if(p>=0)return p%10;throw new G}}dn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dn.MAX_AVG_VARIANCE=.38,dn.MAX_INDIVIDUAL_VARIANCE=.5,dn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dn.START_PATTERN=Int32Array.from([1,1,1,1]),dn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Cn extends un{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let h=!1,p,y=0,b=Int32Array.from([0,0,0]);for(;!h;){b=Int32Array.from([0,0,0]),p=Cn.findGuardPattern(c,y,!1,this.START_END_PATTERN,b);let S=p[0];y=p[1];let T=S-(y-S);T>=0&&(h=c.isRange(T,S,!1))}return p}static checkChecksum(c){return Cn.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let h=c.length;if(h===0)return!1;let p=parseInt(c.charAt(h-1),10);return Cn.getStandardUPCEANChecksum(c.substring(0,h-1))===p}static getStandardUPCEANChecksum(c){let h=c.length,p=0;for(let y=h-1;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;p+=b}p*=3;for(let y=h-2;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;p+=b}return(1e3-p)%10}static decodeEnd(c,h){return Cn.findGuardPattern(c,h,!1,Cn.START_END_PATTERN,new Int32Array(Cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,h,p,y){return this.findGuardPattern(c,h,p,y,new Int32Array(y.length))}static findGuardPattern(c,h,p,y,b){let S=c.getSize();h=p?c.getNextUnset(h):c.getNextSet(h);let T=0,P=h,U=y.length,q=p;for(let te=h;te<S;te++)if(c.get(te)!==q)b[T]++;else{if(T===U-1){if(un.patternMatchVariance(b,y,Cn.MAX_INDIVIDUAL_VARIANCE)<Cn.MAX_AVG_VARIANCE)return Int32Array.from([P,te]);P+=b[0]+b[1];let ne=b.slice(2,b.length-1);for(let le=0;le<T-1;le++)b[le]=ne[le];b[T-1]=0,b[T]=0,T--}else T++;b[T]=1,q=!q}throw new G}static decodeDigit(c,h,p,y){this.recordPattern(c,p,h);let b=this.MAX_AVG_VARIANCE,S=-1,T=y.length;for(let P=0;P<T;P++){let U=y[P],q=un.patternMatchVariance(h,U,Cn.MAX_INDIVIDUAL_VARIANCE);q<b&&(b=q,S=P)}if(S>=0)return S;throw new G}}Cn.MAX_AVG_VARIANCE=.48,Cn.MAX_INDIVIDUAL_VARIANCE=.7,Cn.START_END_PATTERN=Int32Array.from([1,1,1]),Cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,h,p){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(h,p,y),S=y.toString(),T=Gi.parseExtensionString(S),P=[new ct((p[0]+p[1])/2,c),new ct(b,c)],U=new xe(S,null,0,P,se.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&U.putAllMetadata(T),U}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],T=0;for(let U=0;U<5&&S<b;U++){let q=Cn.decodeDigit(c,y,S,Cn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let te of y)S+=te;q>=10&&(T|=1<<4-U),U!==4&&(S=c.getNextSet(S),S=c.getNextUnset(S))}if(p.length!==5)throw new G;let P=this.determineCheckDigit(T);if(Gi.extensionChecksum(p.toString())!==P)throw new G;return S}static extensionChecksum(c){let h=c.length,p=0;for(let y=h-2;y>=0;y-=2)p+=c.charAt(y).charCodeAt(0)-48;p*=3;for(let y=h-1;y>=0;y-=2)p+=c.charAt(y).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(c){for(let h=0;h<10;h++)if(c===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new G}static parseExtensionString(c){if(c.length!==5)return null;let h=Gi.parseExtension5String(c);return h==null?null:new Map([[oe.SUGGESTED_PRICE,h]])}static parseExtension5String(c){let h;switch(c.charAt(0)){case"0":h="£";break;case"5":h="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let p=parseInt(c.substring(1)),y=(p/100).toString(),b=p%100,S=b<10?"0"+b:b.toString();return h+y+"."+S}}class ps{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,h,p){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(h,p,y),S=y.toString(),T=ps.parseExtensionString(S),P=[new ct((p[0]+p[1])/2,c),new ct(b,c)],U=new xe(S,null,0,P,se.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&U.putAllMetadata(T),U}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],T=0;for(let P=0;P<2&&S<b;P++){let U=Cn.decodeDigit(c,y,S,Cn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+U%10);for(let q of y)S+=q;U>=10&&(T|=1<<1-P),P!==1&&(S=c.getNextSet(S),S=c.getNextUnset(S))}if(p.length!==2)throw new G;if(parseInt(p.toString())%4!==T)throw new G;return S}static parseExtensionString(c){return c.length!==2?null:new Map([[oe.ISSUE_NUMBER,parseInt(c)]])}}class Tu{static decodeRow(c,h,p){let y=Cn.findGuardPattern(h,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gi().decodeRow(c,h,y)}catch{return new ps().decodeRow(c,h,y)}}}Tu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class en extends Cn{constructor(){super(),this.decodeRowStringBuffer="",en.L_AND_G_PATTERNS=en.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let h=en.L_PATTERNS[c-10],p=new Int32Array(h.length);for(let y=0;y<h.length;y++)p[y]=h[h.length-y-1];en.L_AND_G_PATTERNS[c]=p}}decodeRow(c,h,p){let y=en.findStartGuardPattern(h),b=p==null?null:p.get(k.NEED_RESULT_POINT_CALLBACK);if(b!=null){const Xe=new ct((y[0]+y[1])/2,c);b.foundPossibleResultPoint(Xe)}let S=this.decodeMiddle(h,y,this.decodeRowStringBuffer),T=S.rowOffset,P=S.resultString;if(b!=null){const Xe=new ct(T,c);b.foundPossibleResultPoint(Xe)}let U=this.decodeEnd(h,T);if(b!=null){const Xe=new ct((U[0]+U[1])/2,c);b.foundPossibleResultPoint(Xe)}let q=U[1],te=q+(q-U[0]);if(te>=h.getSize()||!h.isRange(q,te,!1))throw new G;let ne=P.toString();if(ne.length<8)throw new F;if(!en.checkChecksum(ne))throw new _;let le=(y[1]+y[0])/2,ge=(U[1]+U[0])/2,ve=this.getBarcodeFormat(),Ce=[new ct(le,c),new ct(ge,c)],Le=new xe(ne,null,0,Ce,ve,new Date().getTime()),Ze=0;try{let Xe=Tu.decodeRow(c,h,U[1]);Le.putMetadata(oe.UPC_EAN_EXTENSION,Xe.getText()),Le.putAllMetadata(Xe.getResultMetadata()),Le.addResultPoints(Xe.getResultPoints()),Ze=Xe.getText().length}catch{}let tt=p==null?null:p.get(k.ALLOWED_EAN_EXTENSIONS);if(tt!=null){let Xe=!1;for(let Vt in tt)if(Ze.toString()===Vt){Xe=!0;break}if(!Xe)throw new G}return Le}decodeEnd(c,h){return en.findGuardPattern(c,h,!1,en.START_END_PATTERN,new Int32Array(en.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return en.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let h=c.length;if(h===0)return!1;let p=parseInt(c.charAt(h-1),10);return en.getStandardUPCEANChecksum(c.substring(0,h-1))===p}static getStandardUPCEANChecksum(c){let h=c.length,p=0;for(let y=h-1;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;p+=b}p*=3;for(let y=h-2;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;p+=b}return(1e3-p)%10}}class Ka extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],T=0;for(let U=0;U<6&&S<b;U++){let q=en.decodeDigit(c,y,S,en.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let te of y)S+=te;q>=10&&(T|=1<<5-U)}p=Ka.determineFirstDigit(p,T),S=en.findGuardPattern(c,S,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let U=0;U<6&&S<b;U++){let q=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+q);for(let te of y)S+=te}return{rowOffset:S,resultString:p}}getBarcodeFormat(){return se.EAN_13}static determineFirstDigit(c,h){for(let p=0;p<10;p++)if(h===this.FIRST_DIGIT_ENCODINGS[p])return c=String.fromCharCode(48+p)+c,c;throw new G}}Ka.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ou extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,h,p){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1];for(let P=0;P<4&&S<b;P++){let U=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+U);for(let q of y)S+=q}S=en.findGuardPattern(c,S,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<4&&S<b;P++){let U=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+U);for(let q of y)S+=q}return{rowOffset:S,resultString:p}}getBarcodeFormat(){return se.EAN_8}}class Rt extends en{constructor(){super(...arguments),this.ean13Reader=new Ka}getBarcodeFormat(){return se.UPC_A}decode(c,h){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,h,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,h,p))}decodeMiddle(c,h,p){return this.ean13Reader.decodeMiddle(c,h,p)}maybeReturnResult(c){let h=c.getText();if(h.charAt(0)==="0"){let p=new xe(h.substring(1),null,null,c.getResultPoints(),se.UPC_A);return c.getResultMetadata()!=null&&p.putAllMetadata(c.getResultMetadata()),p}else throw new G}reset(){this.ean13Reader.reset()}}class xn extends en{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,h,p){const y=this.decodeMiddleCounters.map(U=>U);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const b=c.getSize();let S=h[1],T=0;for(let U=0;U<6&&S<b;U++){const q=xn.decodeDigit(c,y,S,xn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let te of y)S+=te;q>=10&&(T|=1<<5-U)}let P=xn.determineNumSysAndCheckDigit(p,T);return{rowOffset:S,resultString:P}}decodeEnd(c,h){return xn.findGuardPatternWithoutCounters(c,h,!0,xn.MIDDLE_END_PATTERN)}checkChecksum(c){return en.checkChecksum(xn.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,h){for(let p=0;p<=1;p++)for(let y=0;y<10;y++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][y]){let b=String.fromCharCode(48+p),S=String.fromCharCode(48+y);return b+c+S}throw G.getNotFoundInstance()}getBarcodeFormat(){return se.UPC_E}static convertUPCEtoUPCA(c){const h=c.slice(1,7).split("").map(b=>b.charCodeAt(0)),p=new Q;p.append(c.charAt(0));let y=h[5];switch(y){case 0:case 1:case 2:p.appendChars(h,0,2),p.append(y),p.append("0000"),p.appendChars(h,2,3);break;case 3:p.appendChars(h,0,3),p.append("00000"),p.appendChars(h,3,2);break;case 4:p.appendChars(h,0,4),p.append("00000"),p.append(h[4]);break;default:p.appendChars(h,0,5),p.append("0000"),p.append(y);break}return c.length>=8&&p.append(c.charAt(7)),p.toString()}}xn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class or extends un{constructor(c){super();let h=c==null?null:c.get(k.POSSIBLE_FORMATS),p=[];r(h)?(p.push(new Ka),p.push(new Rt),p.push(new Ou),p.push(new xn)):(h.indexOf(se.EAN_13)>-1&&p.push(new Ka),h.indexOf(se.UPC_A)>-1&&p.push(new Rt),h.indexOf(se.EAN_8)>-1&&p.push(new Ou),h.indexOf(se.UPC_E)>-1&&p.push(new xn)),this.readers=p}decodeRow(c,h,p){for(let y of this.readers)try{const b=y.decodeRow(c,h,p),S=b.getBarcodeFormat()===se.EAN_13&&b.getText().charAt(0)==="0",T=p==null?null:p.get(k.POSSIBLE_FORMATS),P=T==null||T.includes(se.UPC_A);if(S&&P){const U=b.getRawBytes(),q=new xe(b.getText().substring(1),U,U?U.length:null,b.getResultPoints(),se.UPC_A);return q.putAllMetadata(b.getResultMetadata()),q}return b}catch{}throw new G}reset(){for(let c of this.readers)c.reset()}}class hn extends un{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,h){for(let p=0;p<h.length;p++)if(un.patternMatchVariance(c,h[p],hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return p;throw new G}static count(c){return it.sum(new Int32Array(c))}static increment(c,h){let p=0,y=h[0];for(let b=1;b<c.length;b++)h[b]>y&&(y=h[b],p=b);c[p]++}static decrement(c,h){let p=0,y=h[0];for(let b=1;b<c.length;b++)h[b]<y&&(y=h[b],p=b);c[p]--}static isFinderPattern(c){let h=c[0]+c[1],p=h+c[2]+c[3],y=h/p;if(y>=hn.MIN_FINDER_PATTERN_RATIO&&y<=hn.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;for(let T of c)T>S&&(S=T),T<b&&(b=T);return S<10*b}return!1}}hn.MAX_AVG_VARIANCE=.2,hn.MAX_INDIVIDUAL_VARIANCE=.45,hn.MIN_FINDER_PATTERN_RATIO=9.5/12,hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Os{constructor(c,h){this.value=c,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof Os))return!1;const h=c;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class lr{constructor(c,h,p,y,b){this.value=c,this.startEnd=h,this.value=c,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new ct(p,b)),this.resultPoints.push(new ct(y,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof lr))return!1;const h=c;return this.value===h.value}hashCode(){return this.value}}class jn{constructor(){}static getRSSvalue(c,h,p){let y=0;for(let P of c)y+=P;let b=0,S=0,T=c.length;for(let P=0;P<T-1;P++){let U;for(U=1,S|=1<<P;U<c[P];U++,S&=~(1<<P)){let q=jn.combins(y-U-1,T-P-2);if(p&&S===0&&y-U-(T-P-1)>=T-P-1&&(q-=jn.combins(y-U-(T-P),T-P-2)),T-P-1>1){let te=0;for(let ne=y-U-(T-P-2);ne>h;ne--)te+=jn.combins(y-U-ne-1,T-P-3);q-=te*(T-1-P)}else y-U>h&&q--;b+=q}y-=U}return b}static combins(c,h){let p,y;c-h>h?(y=h,p=c-h):(y=c-h,p=h);let b=1,S=1;for(let T=c;T>p;T--)b*=T,S<=y&&(b/=S,S++);for(;S<=y;)b/=S,S++;return b}}class br{static buildBitArray(c){let h=c.length*2-1;c[c.length-1].getRightChar()==null&&(h-=1);let p=12*h,y=new z(p),b=0,T=c[0].getRightChar().getValue();for(let P=11;P>=0;--P)(T&1<<P)!=0&&y.set(b),b++;for(let P=1;P<c.length;++P){let U=c[P],q=U.getLeftChar().getValue();for(let te=11;te>=0;--te)(q&1<<te)!=0&&y.set(b),b++;if(U.getRightChar()!=null){let te=U.getRightChar().getValue();for(let ne=11;ne>=0;--ne)(te&1<<ne)!=0&&y.set(b),b++}}return y}}class mn{constructor(c,h){h?this.decodedInformation=null:(this.finished=c,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Cr{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class Ir extends Cr{constructor(c,h){super(c),this.value=h}getValue(){return this.value}isFNC1(){return this.value===Ir.FNC1}}Ir.FNC1="$";class Ba extends Cr{constructor(c,h,p){super(c),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xs extends Cr{constructor(c,h,p){if(super(c),h<0||h>10||p<0||p>10)throw new F;this.firstDigit=h,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xs.FNC1}isSecondDigitFNC1(){return this.secondDigit===xs.FNC1}isAnyFNC1(){return this.firstDigit===xs.FNC1||this.secondDigit===xs.FNC1}}xs.FNC1=10;class ut{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new G;let h=c.substring(0,2);for(let b of ut.TWO_DIGIT_DATA_LENGTH)if(b[0]===h)return b[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(2,b[2],c):ut.processFixedAI(2,b[1],c);if(c.length<3)throw new G;let p=c.substring(0,3);for(let b of ut.THREE_DIGIT_DATA_LENGTH)if(b[0]===p)return b[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(3,b[2],c):ut.processFixedAI(3,b[1],c);for(let b of ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===p)return b[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(4,b[2],c):ut.processFixedAI(4,b[1],c);if(c.length<4)throw new G;let y=c.substring(0,4);for(let b of ut.FOUR_DIGIT_DATA_LENGTH)if(b[0]===y)return b[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(4,b[2],c):ut.processFixedAI(4,b[1],c);throw new G}static processFixedAI(c,h,p){if(p.length<c)throw new G;let y=p.substring(0,c);if(p.length<c+h)throw new G;let b=p.substring(c,c+h),S=p.substring(c+h),T="("+y+")"+b,P=ut.parseFieldsInGeneralPurpose(S);return P==null?T:T+P}static processVariableAI(c,h,p){let y=p.substring(0,c),b;p.length<c+h?b=p.length:b=c+h;let S=p.substring(c,b),T=p.substring(b),P="("+y+")"+S,U=ut.parseFieldsInGeneralPurpose(T);return U==null?P:P+U}}ut.VARIABLE_LENGTH=[],ut.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ut.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ut.VARIABLE_LENGTH,20],["22",ut.VARIABLE_LENGTH,29],["30",ut.VARIABLE_LENGTH,8],["37",ut.VARIABLE_LENGTH,8],["90",ut.VARIABLE_LENGTH,30],["91",ut.VARIABLE_LENGTH,30],["92",ut.VARIABLE_LENGTH,30],["93",ut.VARIABLE_LENGTH,30],["94",ut.VARIABLE_LENGTH,30],["95",ut.VARIABLE_LENGTH,30],["96",ut.VARIABLE_LENGTH,30],["97",ut.VARIABLE_LENGTH,3],["98",ut.VARIABLE_LENGTH,30],["99",ut.VARIABLE_LENGTH,30]],ut.THREE_DIGIT_DATA_LENGTH=[["240",ut.VARIABLE_LENGTH,30],["241",ut.VARIABLE_LENGTH,30],["242",ut.VARIABLE_LENGTH,6],["250",ut.VARIABLE_LENGTH,30],["251",ut.VARIABLE_LENGTH,30],["253",ut.VARIABLE_LENGTH,17],["254",ut.VARIABLE_LENGTH,20],["400",ut.VARIABLE_LENGTH,30],["401",ut.VARIABLE_LENGTH,30],["402",17],["403",ut.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ut.VARIABLE_LENGTH,20],["421",ut.VARIABLE_LENGTH,15],["422",3],["423",ut.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ut.VARIABLE_LENGTH,15],["391",ut.VARIABLE_LENGTH,18],["392",ut.VARIABLE_LENGTH,15],["393",ut.VARIABLE_LENGTH,18],["703",ut.VARIABLE_LENGTH,30]],ut.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ut.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ut.VARIABLE_LENGTH,20],["8003",ut.VARIABLE_LENGTH,30],["8004",ut.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ut.VARIABLE_LENGTH,30],["8008",ut.VARIABLE_LENGTH,12],["8018",18],["8020",ut.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ut.VARIABLE_LENGTH,70],["8200",ut.VARIABLE_LENGTH,70]];class yi{constructor(c){this.buffer=new Q,this.information=c}decodeAllCodes(c,h){let p=h,y=null;do{let b=this.decodeGeneralPurposeField(p,y),S=ut.parseFieldsInGeneralPurpose(b.getNewString());if(S!=null&&c.append(S),b.isRemaining()?y=""+b.getRemainingValue():y=null,p===b.getNewPosition())break;p=b.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let h=c;h<c+3;++h)if(this.information.get(h))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(c,4);return b===0?new xs(this.information.getSize(),xs.FNC1,xs.FNC1):new xs(this.information.getSize(),b-1,xs.FNC1)}let h=this.extractNumericValueFromBitArray(c,7),p=(h-8)/11,y=(h-8)%11;return new xs(c+7,p,y)}extractNumericValueFromBitArray(c,h){return yi.extractNumericValueFromBitArray(this.information,c,h)}static extractNumericValueFromBitArray(c,h,p){let y=0;for(let b=0;b<p;++b)c.get(h+b)&&(y|=1<<p-b-1);return y}decodeGeneralPurposeField(c,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(c);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new Ba(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new Ba(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,h;do{let p=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),c=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),c=h.isFinished()):(h=this.parseNumericBlock(),c=h.isFinished()),!(p!==this.current.getPosition())&&!c)break}while(!c);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let h;return c.isSecondDigitFNC1()?h=new Ba(this.current.getPosition(),this.buffer.toString()):h=new Ba(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new mn(!0,h)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let h=new Ba(this.current.getPosition(),this.buffer.toString());return new mn(!0,h)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let h=new Ba(this.current.getPosition(),this.buffer.toString());return new mn(!0,h)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let h=new Ba(this.current.getPosition(),this.buffer.toString());return new mn(!0,h)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mn(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,5);if(h>=5&&h<16)return!0;if(c+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,7);if(p>=64&&p<116)return!0;if(c+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(c,8);return y>=232&&y<253}decodeIsoIec646(c){let h=this.extractNumericValueFromBitArray(c,5);if(h===15)return new Ir(c+5,Ir.FNC1);if(h>=5&&h<15)return new Ir(c+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(c,7);if(p>=64&&p<90)return new Ir(c+7,""+(p+1));if(p>=90&&p<116)return new Ir(c+7,""+(p+7));let y=this.extractNumericValueFromBitArray(c,8),b;switch(y){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new F}return new Ir(c+8,b)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,5);if(h>=5&&h<16)return!0;if(c+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,6);return p>=16&&p<63}decodeAlphanumeric(c){let h=this.extractNumericValueFromBitArray(c,5);if(h===15)return new Ir(c+5,Ir.FNC1);if(h>=5&&h<15)return new Ir(c+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(c,6);if(p>=32&&p<58)return new Ir(c+6,""+(p+33));let y;switch(p){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Qe("Decoding invalid alphanumeric value: "+p)}return new Ir(c+6,y)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let h=0;h<5&&h+c<this.information.getSize();++h)if(h===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+h))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let h=c;h<c+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let h=0;h<4&&h+c<this.information.getSize();++h)if(this.information.get(c+h))return!1;return!0}}class Mu{constructor(c){this.information=c,this.generalDecoder=new yi(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Lr extends Mu{constructor(c){super(c)}encodeCompressedGtin(c,h){c.append("(01)");let p=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,h,p)}encodeCompressedGtinWithoutAI(c,h,p){for(let y=0;y<4;++y){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*y,10);b/100===0&&c.append("0"),b/10===0&&c.append("0"),c.append(b)}Lr.appendCheckDigit(c,p)}static appendCheckDigit(c,h){let p=0;for(let y=0;y<13;y++){let b=c.charAt(y+h).charCodeAt(0)-48;p+=(y&1)===0?3*b:b}p=10-p%10,p===10&&(p=0),c.append(p)}}Lr.GTIN_SIZE=40;class Ys extends Lr{constructor(c){super(c)}parseInformation(){let c=new Q;c.append("(01)");let h=c.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(Ys.HEADER_SIZE,4);return c.append(p),this.encodeCompressedGtinWithoutAI(c,Ys.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(c,Ys.HEADER_SIZE+44)}}Ys.HEADER_SIZE=4;class yo extends Mu{constructor(c){super(c)}parseInformation(){let c=new Q;return this.getGeneralDecoder().decodeAllCodes(c,yo.HEADER_SIZE)}}yo.HEADER_SIZE=5;class Ki extends Lr{constructor(c){super(c)}encodeCompressedWeight(c,h,p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(h,p);this.addWeightCode(c,y);let b=this.checkWeight(y),S=1e5;for(let T=0;T<5;++T)b/S===0&&c.append("0"),S/=10;c.append(b)}}class Mn extends Ki{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=Mn.HEADER_SIZE+Ki.GTIN_SIZE+Mn.WEIGHT_SIZE)throw new G;let c=new Q;return this.encodeCompressedGtin(c,Mn.HEADER_SIZE),this.encodeCompressedWeight(c,Mn.HEADER_SIZE+Ki.GTIN_SIZE,Mn.WEIGHT_SIZE),c.toString()}}Mn.HEADER_SIZE=5,Mn.WEIGHT_SIZE=15;class f0 extends Mn{constructor(c){super(c)}addWeightCode(c,h){c.append("(3103)")}checkWeight(c){return c}}class h0 extends Mn{constructor(c){super(c)}addWeightCode(c,h){h<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class Na extends Lr{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<Na.HEADER_SIZE+Lr.GTIN_SIZE)throw new G;let c=new Q;this.encodeCompressedGtin(c,Na.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Na.HEADER_SIZE+Lr.GTIN_SIZE,Na.LAST_DIGIT_SIZE);c.append("(392"),c.append(h),c.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(Na.HEADER_SIZE+Lr.GTIN_SIZE+Na.LAST_DIGIT_SIZE,null);return c.append(p.getNewString()),c.toString()}}Na.HEADER_SIZE=8,Na.LAST_DIGIT_SIZE=2;class Tr extends Lr{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<Tr.HEADER_SIZE+Lr.GTIN_SIZE)throw new G;let c=new Q;this.encodeCompressedGtin(c,Tr.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+Lr.GTIN_SIZE,Tr.LAST_DIGIT_SIZE);c.append("(393"),c.append(h),c.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+Lr.GTIN_SIZE+Tr.LAST_DIGIT_SIZE,Tr.FIRST_THREE_DIGITS_SIZE);p/100==0&&c.append("0"),p/10==0&&c.append("0"),c.append(p);let y=this.getGeneralDecoder().decodeGeneralPurposeField(Tr.HEADER_SIZE+Lr.GTIN_SIZE+Tr.LAST_DIGIT_SIZE+Tr.FIRST_THREE_DIGITS_SIZE,null);return c.append(y.getNewString()),c.toString()}}Tr.HEADER_SIZE=8,Tr.LAST_DIGIT_SIZE=2,Tr.FIRST_THREE_DIGITS_SIZE=10;class Zn extends Ki{constructor(c,h,p){super(c),this.dateCode=p,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=Zn.HEADER_SIZE+Zn.GTIN_SIZE+Zn.WEIGHT_SIZE+Zn.DATE_SIZE)throw new G;let c=new Q;return this.encodeCompressedGtin(c,Zn.HEADER_SIZE),this.encodeCompressedWeight(c,Zn.HEADER_SIZE+Zn.GTIN_SIZE,Zn.WEIGHT_SIZE),this.encodeCompressedDate(c,Zn.HEADER_SIZE+Zn.GTIN_SIZE+Zn.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(h,Zn.DATE_SIZE);if(p==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let y=p%32;p/=32;let b=p%12+1;p/=12;let S=p;S/10==0&&c.append("0"),c.append(S),b/10==0&&c.append("0"),c.append(b),y/10==0&&c.append("0"),c.append(y)}addWeightCode(c,h){c.append("("),c.append(this.firstAIdigits),c.append(h/1e5),c.append(")")}checkWeight(c){return c%1e5}}Zn.HEADER_SIZE=8,Zn.WEIGHT_SIZE=20,Zn.DATE_SIZE=16;function ym(ee){try{if(ee.get(1))return new Ys(ee);if(!ee.get(2))return new yo(ee);switch(yi.extractNumericValueFromBitArray(ee,1,4)){case 4:return new f0(ee);case 5:return new h0(ee)}switch(yi.extractNumericValueFromBitArray(ee,1,5)){case 12:return new Na(ee);case 13:return new Tr(ee)}switch(yi.extractNumericValueFromBitArray(ee,1,7)){case 56:return new Zn(ee,"310","11");case 57:return new Zn(ee,"320","11");case 58:return new Zn(ee,"310","13");case 59:return new Zn(ee,"320","13");case 60:return new Zn(ee,"310","15");case 61:return new Zn(ee,"320","15");case 62:return new Zn(ee,"310","17");case 63:return new Zn(ee,"320","17")}}catch(c){throw console.log(c),new Qe("unknown decoder: "+ee)}}class Xi{constructor(c,h,p,y){this.leftchar=c,this.rightchar=h,this.finderpattern=p,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,h){return c instanceof Xi?Xi.equalsOrNull(c.leftchar,h.leftchar)&&Xi.equalsOrNull(c.rightchar,h.rightchar)&&Xi.equalsOrNull(c.finderpattern,h.finderpattern):!1}static equalsOrNull(c,h){return c===null?h===null:Xi.equals(c,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class bm{constructor(c,h,p){this.pairs=c,this.rowNumber=h,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,h){return c instanceof bm?this.checkEqualitity(c,h)&&c.wasReversed===h.wasReversed:!1}checkEqualitity(c,h){if(!c||!h)return;let p;return c.forEach((y,b)=>{h.forEach(S=>{y.getLeftChar().getValue()===S.getLeftChar().getValue()&&y.getRightChar().getValue()===S.getRightChar().getValue()&&y.getFinderPatter().getValue()===S.getFinderPatter().getValue()&&(p=!0)})}),p}}class Ge extends hn{constructor(c){super(...arguments),this.pairs=new Array(Ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,h,p){this.pairs.length=0,this.startFromEven=!1;try{return Ge.constructResult(this.decodeRow2pairs(c,h))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Ge.constructResult(this.decodeRow2pairs(c,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,h){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,c))}catch(b){if(b instanceof G){if(!this.pairs.length)throw new G;p=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(c,!1),y){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new G}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return c&&(this.rows=this.rows.reverse()),h}checkRows(c,h){for(let p=h;p<this.rows.length;p++){let y=this.rows[p];this.pairs.length=0;for(let S of c)this.pairs.push(S.getPairs());if(this.pairs.push(y.getPairs()),!Ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(c);b.push(y);try{return this.checkRows(b,p+1)}catch(S){this.verbose&&console.log(S)}}throw new G}static isValidSequence(c){for(let h of Ge.FINDER_PATTERN_SEQUENCES){if(c.length>h.length)continue;let p=!0;for(let y=0;y<c.length;y++)if(c[y].getFinderPattern().getValue()!=h[y]){p=!1;break}if(p)return!0}return!1}storeRow(c,h){let p=0,y=!1,b=!1;for(;p<this.rows.length;){let S=this.rows[p];if(S.getRowNumber()>c){b=S.isEquivalent(this.pairs);break}y=S.isEquivalent(this.pairs),p++}b||y||Ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new bm(this.pairs,c,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,h){for(let p of h)if(p.getPairs().length!==c.length){for(let y of p.getPairs())for(let b of c)if(Xi.equals(y,b))break}}static isPartialRow(c,h){for(let p of h){let y=!0;for(let b of c){let S=!1;for(let T of p.getPairs())if(b.equals(T)){S=!0;break}if(!S){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(c){let h=br.buildBitArray(c),y=ym(h).parseInformation(),b=c[0].getFinderPattern().getResultPoints(),S=c[c.length-1].getFinderPattern().getResultPoints(),T=[b[0],b[1],S[0],S[1]];return new xe(y,null,null,T,se.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),h=c.getLeftChar(),p=c.getRightChar();if(p==null)return!1;let y=p.getChecksumPortion(),b=2;for(let T=1;T<this.pairs.size();++T){let P=this.pairs.get(T);y+=P.getLeftChar().getChecksumPortion(),b++;let U=P.getRightChar();U!=null&&(y+=U.getChecksumPortion(),b++)}return y%=211,211*(b-4)+y==h.getValue()}static getNextSecondBar(c,h){let p;return c.get(h)?(p=c.getNextUnset(h),p=c.getNextSet(p)):(p=c.getNextSet(h),p=c.getNextUnset(p)),p}retrieveNextPair(c,h,p){let y=h.length%2==0;this.startFromEven&&(y=!y);let b,S=!0,T=-1;do this.findNextPair(c,h,T),b=this.parseFoundFinderPattern(c,p,y),b==null?T=Ge.getNextSecondBar(c,this.startEnd[0]):S=!1;while(S);let P=this.decodeDataCharacter(c,b,y,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new G;let U;try{U=this.decodeDataCharacter(c,b,y,!1)}catch(q){U=null,this.verbose&&console.log(q)}return new Xi(P,U,b,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,h,p){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S;p>=0?S=p:this.isEmptyPair(h)?S=0:S=h[h.length-1].getFinderPattern().getStartEnd()[1];let T=h.length%2!=0;this.startFromEven&&(T=!T);let P=!1;for(;S<b&&(P=!c.get(S),!!P);)S++;let U=0,q=S;for(let te=S;te<b;te++)if(c.get(te)!=P)y[U]++;else{if(U==3){if(T&&Ge.reverseCounters(y),Ge.isFinderPattern(y)){this.startEnd[0]=q,this.startEnd[1]=te;return}T&&Ge.reverseCounters(y),q+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,U--}else U++;y[U]=1,P=!P}throw new G}static reverseCounters(c){let h=c.length;for(let p=0;p<h/2;++p){let y=c[p];c[p]=c[h-p-1],c[h-p-1]=y}}parseFoundFinderPattern(c,h,p){let y,b,S;if(p){let U=this.startEnd[0]-1;for(;U>=0&&!c.get(U);)U--;U++,y=this.startEnd[0]-U,b=U,S=this.startEnd[1]}else b=this.startEnd[0],S=c.getNextUnset(this.startEnd[1]+1),y=S-this.startEnd[1];let T=this.getDecodeFinderCounters();A.arraycopy(T,0,T,1,T.length-1),T[0]=y;let P;try{P=this.parseFinderValue(T,Ge.FINDER_PATTERNS)}catch{return null}return new lr(P,[b,S],b,S,h)}decodeDataCharacter(c,h,p,y){let b=this.getDataCharacterCounters();for(let Pn=0;Pn<b.length;Pn++)b[Pn]=0;if(y)Ge.recordPatternInReverse(c,h.getStartEnd()[0],b);else{Ge.recordPattern(c,h.getStartEnd()[1],b);for(let Pn=0,ga=b.length-1;Pn<ga;Pn++,ga--){let es=b[Pn];b[Pn]=b[ga],b[ga]=es}}let S=17,T=it.sum(new Int32Array(b))/S,P=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(T-P)/P>.3)throw new G;let U=this.getOddCounts(),q=this.getEvenCounts(),te=this.getOddRoundingErrors(),ne=this.getEvenRoundingErrors();for(let Pn=0;Pn<b.length;Pn++){let ga=1*b[Pn]/T,es=ga+.5;if(es<1){if(ga<.3)throw new G;es=1}else if(es>8){if(ga>8.7)throw new G;es=8}let hl=Pn/2;(Pn&1)==0?(U[hl]=es,te[hl]=ga-es):(q[hl]=es,ne[hl]=ga-es)}this.adjustOddEvenCounts(S);let le=4*h.getValue()+(p?0:2)+(y?0:1)-1,ge=0,ve=0;for(let Pn=U.length-1;Pn>=0;Pn--){if(Ge.isNotA1left(h,p,y)){let ga=Ge.WEIGHTS[le][2*Pn];ve+=U[Pn]*ga}ge+=U[Pn]}let Ce=0;for(let Pn=q.length-1;Pn>=0;Pn--)if(Ge.isNotA1left(h,p,y)){let ga=Ge.WEIGHTS[le][2*Pn+1];Ce+=q[Pn]*ga}let Le=ve+Ce;if((ge&1)!=0||ge>13||ge<4)throw new G;let Ze=(13-ge)/2,tt=Ge.SYMBOL_WIDEST[Ze],Xe=9-tt,Vt=jn.getRSSvalue(U,tt,!0),Ft=jn.getRSSvalue(q,Xe,!1),Fa=Ge.EVEN_TOTAL_SUBSET[Ze],Ds=Ge.GSUM[Ze],Ja=Vt*Fa+Ft+Ds;return new Os(Ja,Le)}static isNotA1left(c,h,p){return!(c.getValue()==0&&h&&p)}adjustOddEvenCounts(c){let h=it.sum(new Int32Array(this.getOddCounts())),p=it.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1;h>13?b=!0:h<4&&(y=!0);let S=!1,T=!1;p>13?T=!0:p<4&&(S=!0);let P=h+p-c,U=(h&1)==1,q=(p&1)==0;if(P==1)if(U){if(q)throw new G;b=!0}else{if(!q)throw new G;T=!0}else if(P==-1)if(U){if(q)throw new G;y=!0}else{if(!q)throw new G;S=!0}else if(P==0){if(U){if(!q)throw new G;h<p?(y=!0,T=!0):(b=!0,S=!0)}else if(q)throw new G}else throw new G;if(y){if(b)throw new G;Ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(T)throw new G;Ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ge.SYMBOL_WIDEST=[7,5,4,3,1],Ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ge.GSUM=[0,348,1388,2948,3988],Ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ge.FINDER_PAT_A=0,Ge.FINDER_PAT_B=1,Ge.FINDER_PAT_C=2,Ge.FINDER_PAT_D=3,Ge.FINDER_PAT_E=4,Ge.FINDER_PAT_F=5,Ge.FINDER_PATTERN_SEQUENCES=[[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_C,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_C],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_E],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F]],Ge.MAX_PAIRS=11;class ef extends Os{constructor(c,h,p){super(c,h),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Nn extends hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,h,p){const y=this.decodePair(h,!1,c,p);Nn.addOrTally(this.possibleLeftPairs,y),h.reverse();let b=this.decodePair(h,!0,c,p);Nn.addOrTally(this.possibleRightPairs,b),h.reverse();for(let S of this.possibleLeftPairs)if(S.getCount()>1){for(let T of this.possibleRightPairs)if(T.getCount()>1&&Nn.checkChecksum(S,T))return Nn.constructResult(S,T)}throw new G}static addOrTally(c,h){if(h==null)return;let p=!1;for(let y of c)if(y.getValue()===h.getValue()){y.incrementCount(),p=!0;break}p||c.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,h){let p=4537077*c.getValue()+h.getValue(),y=new String(p).toString(),b=new Q;for(let U=13-y.length;U>0;U--)b.append("0");b.append(y);let S=0;for(let U=0;U<13;U++){let q=b.charAt(U).charCodeAt(0)-48;S+=(U&1)===0?3*q:q}S=10-S%10,S===10&&(S=0),b.append(S.toString());let T=c.getFinderPattern().getResultPoints(),P=h.getFinderPattern().getResultPoints();return new xe(b.toString(),null,0,[T[0],T[1],P[0],P[1]],se.RSS_14,new Date().getTime())}static checkChecksum(c,h){let p=(c.getChecksumPortion()+16*h.getChecksumPortion())%79,y=9*c.getFinderPattern().getValue()+h.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,p===y}decodePair(c,h,p,y){try{let b=this.findFinderPattern(c,h),S=this.parseFoundFinderPattern(c,p,h,b),T=y==null?null:y.get(k.NEED_RESULT_POINT_CALLBACK);if(T!=null){let q=(b[0]+b[1])/2;h&&(q=c.getSize()-1-q),T.foundPossibleResultPoint(new ct(q,p))}let P=this.decodeDataCharacter(c,S,!0),U=this.decodeDataCharacter(c,S,!1);return new ef(1597*P.getValue()+U.getValue(),P.getChecksumPortion()+4*U.getChecksumPortion(),S)}catch{return null}}decodeDataCharacter(c,h,p){let y=this.getDataCharacterCounters();for(let Ce=0;Ce<y.length;Ce++)y[Ce]=0;if(p)un.recordPatternInReverse(c,h.getStartEnd()[0],y);else{un.recordPattern(c,h.getStartEnd()[1]+1,y);for(let Ce=0,Le=y.length-1;Ce<Le;Ce++,Le--){let Ze=y[Ce];y[Ce]=y[Le],y[Le]=Ze}}let b=p?16:15,S=it.sum(new Int32Array(y))/b,T=this.getOddCounts(),P=this.getEvenCounts(),U=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let Ce=0;Ce<y.length;Ce++){let Le=y[Ce]/S,Ze=Math.floor(Le+.5);Ze<1?Ze=1:Ze>8&&(Ze=8);let tt=Math.floor(Ce/2);(Ce&1)===0?(T[tt]=Ze,U[tt]=Le-Ze):(P[tt]=Ze,q[tt]=Le-Ze)}this.adjustOddEvenCounts(p,b);let te=0,ne=0;for(let Ce=T.length-1;Ce>=0;Ce--)ne*=9,ne+=T[Ce],te+=T[Ce];let le=0,ge=0;for(let Ce=P.length-1;Ce>=0;Ce--)le*=9,le+=P[Ce],ge+=P[Ce];let ve=ne+3*le;if(p){if((te&1)!==0||te>12||te<4)throw new G;let Ce=(12-te)/2,Le=Nn.OUTSIDE_ODD_WIDEST[Ce],Ze=9-Le,tt=jn.getRSSvalue(T,Le,!1),Xe=jn.getRSSvalue(P,Ze,!0),Vt=Nn.OUTSIDE_EVEN_TOTAL_SUBSET[Ce],Ft=Nn.OUTSIDE_GSUM[Ce];return new Os(tt*Vt+Xe+Ft,ve)}else{if((ge&1)!==0||ge>10||ge<4)throw new G;let Ce=(10-ge)/2,Le=Nn.INSIDE_ODD_WIDEST[Ce],Ze=9-Le,tt=jn.getRSSvalue(T,Le,!0),Xe=jn.getRSSvalue(P,Ze,!1),Vt=Nn.INSIDE_ODD_TOTAL_SUBSET[Ce],Ft=Nn.INSIDE_GSUM[Ce];return new Os(Xe*Vt+tt+Ft,ve)}}findFinderPattern(c,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=c.getSize(),b=!1,S=0;for(;S<y&&(b=!c.get(S),h!==b);)S++;let T=0,P=S;for(let U=S;U<y;U++)if(c.get(U)!==b)p[T]++;else{if(T===3){if(hn.isFinderPattern(p))return[P,U];P+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,T--}else T++;p[T]=1,b=!b}throw new G}parseFoundFinderPattern(c,h,p,y){let b=c.get(y[0]),S=y[0]-1;for(;S>=0&&b!==c.get(S);)S--;S++;const T=y[0]-S,P=this.getDecodeFinderCounters(),U=new Int32Array(P.length);A.arraycopy(P,0,U,1,P.length-1),U[0]=T;const q=this.parseFinderValue(U,Nn.FINDER_PATTERNS);let te=S,ne=y[1];return p&&(te=c.getSize()-1-te,ne=c.getSize()-1-ne),new lr(q,[S,y[1]],te,ne,h)}adjustOddEvenCounts(c,h){let p=it.sum(new Int32Array(this.getOddCounts())),y=it.sum(new Int32Array(this.getEvenCounts())),b=!1,S=!1,T=!1,P=!1;c?(p>12?S=!0:p<4&&(b=!0),y>12?P=!0:y<4&&(T=!0)):(p>11?S=!0:p<5&&(b=!0),y>10?P=!0:y<4&&(T=!0));let U=p+y-h,q=(p&1)===(c?1:0),te=(y&1)===1;if(U===1)if(q){if(te)throw new G;S=!0}else{if(!te)throw new G;P=!0}else if(U===-1)if(q){if(te)throw new G;b=!0}else{if(!te)throw new G;T=!0}else if(U===0){if(q){if(!te)throw new G;p<y?(b=!0,P=!0):(S=!0,T=!0)}else if(te)throw new G}else throw new G;if(b){if(S)throw new G;hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(S&&hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),T){if(P)throw new G;hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}P&&hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Nn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Nn.OUTSIDE_GSUM=[0,161,961,2015,2715],Nn.INSIDE_GSUM=[0,336,1036,1516],Nn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Nn.INSIDE_ODD_WIDEST=[2,4,6,8],Nn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class bo extends un{constructor(c,h){super(),this.readers=[],this.verbose=h===!0;const p=c?c.get(k.POSSIBLE_FORMATS):null,y=c&&c.get(k.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(se.EAN_13)||p.includes(se.UPC_A)||p.includes(se.EAN_8)||p.includes(se.UPC_E))&&this.readers.push(new or(c)),p.includes(se.CODE_39)&&this.readers.push(new wn(y)),p.includes(se.CODE_128)&&this.readers.push(new rt),p.includes(se.ITF)&&this.readers.push(new dn),p.includes(se.RSS_14)&&this.readers.push(new Nn),p.includes(se.RSS_EXPANDED)&&this.readers.push(new Ge(this.verbose))):(this.readers.push(new or(c)),this.readers.push(new wn),this.readers.push(new or(c)),this.readers.push(new rt),this.readers.push(new dn),this.readers.push(new Nn),this.readers.push(new Ge(this.verbose)))}decodeRow(c,h,p){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(c,h,p)}catch{}throw new G}reset(){this.readers.forEach(c=>c.reset())}}class m0 extends Se{constructor(c=500,h){super(new bo(h),c,h)}}class tn{constructor(c,h,p){this.ecCodewords=c,this.ecBlocks=[h],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class fn{constructor(c,h){this.count=c,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Gt{constructor(c,h,p,y,b,S){this.versionNumber=c,this.symbolSizeRows=h,this.symbolSizeColumns=p,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=b,this.ecBlocks=S;let T=0;const P=S.getECCodewords(),U=S.getECBlocks();for(let q of U)T+=q.getCount()*(q.getDataCodewords()+P);this.totalCodewords=T}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,h){if((c&1)!==0||(h&1)!==0)throw new F;for(let p of Gt.VERSIONS)if(p.symbolSizeRows===c&&p.symbolSizeColumns===h)return p;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Gt(1,10,10,8,8,new tn(5,new fn(1,3))),new Gt(2,12,12,10,10,new tn(7,new fn(1,5))),new Gt(3,14,14,12,12,new tn(10,new fn(1,8))),new Gt(4,16,16,14,14,new tn(12,new fn(1,12))),new Gt(5,18,18,16,16,new tn(14,new fn(1,18))),new Gt(6,20,20,18,18,new tn(18,new fn(1,22))),new Gt(7,22,22,20,20,new tn(20,new fn(1,30))),new Gt(8,24,24,22,22,new tn(24,new fn(1,36))),new Gt(9,26,26,24,24,new tn(28,new fn(1,44))),new Gt(10,32,32,14,14,new tn(36,new fn(1,62))),new Gt(11,36,36,16,16,new tn(42,new fn(1,86))),new Gt(12,40,40,18,18,new tn(48,new fn(1,114))),new Gt(13,44,44,20,20,new tn(56,new fn(1,144))),new Gt(14,48,48,22,22,new tn(68,new fn(1,174))),new Gt(15,52,52,24,24,new tn(42,new fn(2,102))),new Gt(16,64,64,14,14,new tn(56,new fn(2,140))),new Gt(17,72,72,16,16,new tn(36,new fn(4,92))),new Gt(18,80,80,18,18,new tn(48,new fn(4,114))),new Gt(19,88,88,20,20,new tn(56,new fn(4,144))),new Gt(20,96,96,22,22,new tn(68,new fn(4,174))),new Gt(21,104,104,24,24,new tn(56,new fn(6,136))),new Gt(22,120,120,18,18,new tn(68,new fn(6,175))),new Gt(23,132,132,20,20,new tn(62,new fn(8,163))),new Gt(24,144,144,22,22,new tn(62,new fn(8,156),new fn(2,155))),new Gt(25,8,18,6,16,new tn(7,new fn(1,5))),new Gt(26,8,32,6,14,new tn(11,new fn(1,10))),new Gt(27,12,26,10,24,new tn(14,new fn(1,16))),new Gt(28,12,36,10,16,new tn(18,new fn(1,22))),new Gt(29,16,36,14,16,new tn(24,new fn(1,32))),new Gt(30,16,48,14,22,new tn(28,new fn(1,49)))]}}Gt.VERSIONS=Gt.buildVersions();class wm{constructor(c){const h=c.getHeight();if(h<8||h>144||(h&1)!==0)throw new F;this.version=wm.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new X(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const h=c.getHeight(),p=c.getWidth();return Gt.getVersionForDimensions(h,p)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let h=0,p=4,y=0;const b=this.mappingBitMatrix.getHeight(),S=this.mappingBitMatrix.getWidth();let T=!1,P=!1,U=!1,q=!1;do if(p===b&&y===0&&!T)c[h++]=this.readCorner1(b,S)&255,p-=2,y+=2,T=!0;else if(p===b-2&&y===0&&(S&3)!==0&&!P)c[h++]=this.readCorner2(b,S)&255,p-=2,y+=2,P=!0;else if(p===b+4&&y===2&&(S&7)===0&&!U)c[h++]=this.readCorner3(b,S)&255,p-=2,y+=2,U=!0;else if(p===b-2&&y===0&&(S&7)===4&&!q)c[h++]=this.readCorner4(b,S)&255,p-=2,y+=2,q=!0;else{do p<b&&y>=0&&!this.readMappingMatrix.get(y,p)&&(c[h++]=this.readUtah(p,y,b,S)&255),p-=2,y+=2;while(p>=0&&y<S);p+=1,y+=3;do p>=0&&y<S&&!this.readMappingMatrix.get(y,p)&&(c[h++]=this.readUtah(p,y,b,S)&255),p+=2,y-=2;while(p<b&&y>=0);p+=3,y+=1}while(p<b||y<S);if(h!==this.version.getTotalCodewords())throw new F;return c}readModule(c,h,p,y){return c<0&&(c+=p,h+=4-(p+4&7)),h<0&&(h+=y,c+=4-(y+4&7)),this.readMappingMatrix.set(h,c),this.mappingBitMatrix.get(h,c)}readUtah(c,h,p,y){let b=0;return this.readModule(c-2,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c-2,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h,p,y)&&(b|=1),b<<=1,this.readModule(c,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c,h,p,y)&&(b|=1),b}readCorner1(c,h){let p=0;return this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,1,c,h)&&(p|=1),p<<=1,this.readModule(c-1,2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(2,h-1,c,h)&&(p|=1),p<<=1,this.readModule(3,h-1,c,h)&&(p|=1),p}readCorner2(c,h){let p=0;return this.readModule(c-3,0,c,h)&&(p|=1),p<<=1,this.readModule(c-2,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(0,h-4,c,h)&&(p|=1),p<<=1,this.readModule(0,h-3,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p}readCorner3(c,h){let p=0;return this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(0,h-3,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-3,c,h)&&(p|=1),p<<=1,this.readModule(1,h-2,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p}readCorner4(c,h){let p=0;return this.readModule(c-3,0,c,h)&&(p|=1),p<<=1,this.readModule(c-2,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(2,h-1,c,h)&&(p|=1),p<<=1,this.readModule(3,h-1,c,h)&&(p|=1),p}extractDataRegion(c){const h=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(c.getHeight()!==h)throw new x("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),S=h/y|0,T=p/b|0,P=S*y,U=T*b,q=new X(U,P);for(let te=0;te<S;++te){const ne=te*y;for(let le=0;le<T;++le){const ge=le*b;for(let ve=0;ve<y;++ve){const Ce=te*(y+2)+1+ve,Le=ne+ve;for(let Ze=0;Ze<b;++Ze){const tt=le*(b+2)+1+Ze;if(c.get(tt,Ce)){const Xe=ge+Ze;q.set(Xe,Le)}}}}}return q}}class tf{constructor(c,h){this.numDataCodewords=c,this.codewords=h}static getDataBlocks(c,h){const p=h.getECBlocks();let y=0;const b=p.getECBlocks();for(let ve of b)y+=ve.getCount();const S=new Array(y);let T=0;for(let ve of b)for(let Ce=0;Ce<ve.getCount();Ce++){const Le=ve.getDataCodewords(),Ze=p.getECCodewords()+Le;S[T++]=new tf(Le,new Uint8Array(Ze))}const U=S[0].codewords.length-p.getECCodewords(),q=U-1;let te=0;for(let ve=0;ve<q;ve++)for(let Ce=0;Ce<T;Ce++)S[Ce].codewords[ve]=c[te++];const ne=h.getVersionNumber()===24,le=ne?8:T;for(let ve=0;ve<le;ve++)S[ve].codewords[U-1]=c[te++];const ge=S[0].codewords.length;for(let ve=U;ve<ge;ve++)for(let Ce=0;Ce<T;Ce++){const Le=ne?(Ce+8)%T:Ce,Ze=ne&&Le>7?ve-1:ve;S[Le].codewords[Ze]=c[te++]}if(te!==c.length)throw new x;return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xa{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new x(""+c);let h=0,p=this.bitOffset,y=this.byteOffset;const b=this.bytes;if(p>0){const S=8-p,T=c<S?c:S,P=S-T,U=255>>8-T<<P;h=(b[y]&U)>>P,c-=T,p+=T,p===8&&(p=0,y++)}if(c>0){for(;c>=8;)h=h<<8|b[y]&255,y++,c-=8;if(c>0){const S=8-c,T=255>>S<<S;h=h<<c|(b[y]&T)>>S,p+=c}}return this.bitOffset=p,this.byteOffset=y,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Or;(function(ee){ee[ee.PAD_ENCODE=0]="PAD_ENCODE",ee[ee.ASCII_ENCODE=1]="ASCII_ENCODE",ee[ee.C40_ENCODE=2]="C40_ENCODE",ee[ee.TEXT_ENCODE=3]="TEXT_ENCODE",ee[ee.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ee[ee.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ee[ee.BASE256_ENCODE=6]="BASE256_ENCODE"})(Or||(Or={}));class wo{static decode(c){const h=new Xa(c),p=new Q,y=new Q,b=new Array;let S=Or.ASCII_ENCODE;do if(S===Or.ASCII_ENCODE)S=this.decodeAsciiSegment(h,p,y);else{switch(S){case Or.C40_ENCODE:this.decodeC40Segment(h,p);break;case Or.TEXT_ENCODE:this.decodeTextSegment(h,p);break;case Or.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,p);break;case Or.EDIFACT_ENCODE:this.decodeEdifactSegment(h,p);break;case Or.BASE256_ENCODE:this.decodeBase256Segment(h,p,b);break;default:throw new F}S=Or.ASCII_ENCODE}while(S!==Or.PAD_ENCODE&&h.available()>0);return y.length()>0&&p.append(y.toString()),new he(c,p.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(c,h,p){let y=!1;do{let b=c.readBits(8);if(b===0)throw new F;if(b<=128)return y&&(b+=128),h.append(String.fromCharCode(b-1)),Or.ASCII_ENCODE;if(b===129)return Or.PAD_ENCODE;if(b<=229){const S=b-130;S<10&&h.append("0"),h.append(""+S)}else switch(b){case 230:return Or.C40_ENCODE;case 231:return Or.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:h.append("[)>05"),p.insert(0,"");break;case 237:h.append("[)>06"),p.insert(0,"");break;case 238:return Or.ANSIX12_ENCODE;case 239:return Or.TEXT_ENCODE;case 240:return Or.EDIFACT_ENCODE;case 241:break;default:if(b!==254||c.available()!==0)throw new F;break}}while(c.available()>0);return Or.ASCII_ENCODE}static decodeC40Segment(c,h){let p=!1;const y=[];let b=0;do{if(c.available()===8)return;const S=c.readBits(8);if(S===254)return;this.parseTwoBytes(S,c.readBits(8),y);for(let T=0;T<3;T++){const P=y[T];switch(b){case 0:if(P<3)b=P+1;else if(P<this.C40_BASIC_SET_CHARS.length){const U=this.C40_BASIC_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U)}else throw new F;break;case 1:p?(h.append(String.fromCharCode(P+128)),p=!1):h.append(String.fromCharCode(P)),b=0;break;case 2:if(P<this.C40_SHIFT2_SET_CHARS.length){const U=this.C40_SHIFT2_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U)}else switch(P){case 27:h.append("");break;case 30:p=!0;break;default:throw new F}b=0;break;case 3:p?(h.append(String.fromCharCode(P+224)),p=!1):h.append(String.fromCharCode(P+96)),b=0;break;default:throw new F}}}while(c.available()>0)}static decodeTextSegment(c,h){let p=!1,y=[],b=0;do{if(c.available()===8)return;const S=c.readBits(8);if(S===254)return;this.parseTwoBytes(S,c.readBits(8),y);for(let T=0;T<3;T++){const P=y[T];switch(b){case 0:if(P<3)b=P+1;else if(P<this.TEXT_BASIC_SET_CHARS.length){const U=this.TEXT_BASIC_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U)}else throw new F;break;case 1:p?(h.append(String.fromCharCode(P+128)),p=!1):h.append(String.fromCharCode(P)),b=0;break;case 2:if(P<this.TEXT_SHIFT2_SET_CHARS.length){const U=this.TEXT_SHIFT2_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U)}else switch(P){case 27:h.append("");break;case 30:p=!0;break;default:throw new F}b=0;break;case 3:if(P<this.TEXT_SHIFT3_SET_CHARS.length){const U=this.TEXT_SHIFT3_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U),b=0}else throw new F;break;default:throw new F}}}while(c.available()>0)}static decodeAnsiX12Segment(c,h){const p=[];do{if(c.available()===8)return;const y=c.readBits(8);if(y===254)return;this.parseTwoBytes(y,c.readBits(8),p);for(let b=0;b<3;b++){const S=p[b];switch(S){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(S<14)h.append(String.fromCharCode(S+44));else if(S<40)h.append(String.fromCharCode(S+51));else throw new F;break}}}while(c.available()>0)}static parseTwoBytes(c,h,p){let y=(c<<8)+h-1,b=Math.floor(y/1600);p[0]=b,y-=b*1600,b=Math.floor(y/40),p[1]=b,p[2]=y-b*40}static decodeEdifactSegment(c,h){do{if(c.available()<=16)return;for(let p=0;p<4;p++){let y=c.readBits(6);if(y===31){const b=8-c.getBitOffset();b!==8&&c.readBits(b);return}(y&32)===0&&(y|=64),h.append(String.fromCharCode(y))}}while(c.available()>0)}static decodeBase256Segment(c,h,p){let y=1+c.getByteOffset();const b=this.unrandomize255State(c.readBits(8),y++);let S;if(b===0?S=c.available()/8|0:b<250?S=b:S=250*(b-249)+this.unrandomize255State(c.readBits(8),y++),S<0)throw new F;const T=new Uint8Array(S);for(let P=0;P<S;P++){if(c.available()<8)throw new F;T[P]=this.unrandomize255State(c.readBits(8),y++)}p.push(T);try{h.append(W.decode(T,Y.ISO88591))}catch(P){throw new Qe("Platform does not support required encoding: "+P.message)}}static unrandomize255State(c,h){const p=149*h%255+1,y=c-p;return y>=0?y:y+256}}wo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],wo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wo.TEXT_SHIFT2_SET_CHARS=wo.C40_SHIFT2_SET_CHARS,wo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class nf{constructor(){this.rsDecoder=new gt(Ke.DATA_MATRIX_FIELD_256)}decode(c){const h=new wm(c),p=h.getVersion(),y=h.readCodewords(),b=tf.getDataBlocks(y,p);let S=0;for(let U of b)S+=U.getNumDataCodewords();const T=new Uint8Array(S),P=b.length;for(let U=0;U<P;U++){const q=b[U],te=q.getCodewords(),ne=q.getNumDataCodewords();this.correctErrors(te,ne);for(let le=0;le<ne;le++)T[le*P+U]=te[le]}return wo.decode(T)}correctErrors(c,h){const p=new Int32Array(c);try{this.rsDecoder.decode(p,c.length-h)}catch{throw new _}for(let y=0;y<h;y++)c[y]=p[y]}}class cr{constructor(c){this.image=c,this.rectangleDetector=new vr(this.image)}detect(){const c=this.rectangleDetector.detect();let h=this.detectSolid1(c);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new G;h=this.shiftToModuleCenter(h);const p=h[0],y=h[1],b=h[2],S=h[3];let T=this.transitionsBetween(p,S)+1,P=this.transitionsBetween(b,S)+1;(T&1)===1&&(T+=1),(P&1)===1&&(P+=1),4*T<7*P&&4*P<7*T&&(T=P=Math.max(T,P));let U=cr.sampleGrid(this.image,p,y,b,S,T,P);return new bn(U,[p,y,b,S])}static shiftPoint(c,h,p){let y=(h.getX()-c.getX())/(p+1),b=(h.getY()-c.getY())/(p+1);return new ct(c.getX()+y,c.getY()+b)}static moveAway(c,h,p){let y=c.getX(),b=c.getY();return y<h?y-=1:y+=1,b<p?b-=1:b+=1,new ct(y,b)}detectSolid1(c){let h=c[0],p=c[1],y=c[3],b=c[2],S=this.transitionsBetween(h,p),T=this.transitionsBetween(p,y),P=this.transitionsBetween(y,b),U=this.transitionsBetween(b,h),q=S,te=[b,h,p,y];return q>T&&(q=T,te[0]=h,te[1]=p,te[2]=y,te[3]=b),q>P&&(q=P,te[0]=p,te[1]=y,te[2]=b,te[3]=h),q>U&&(te[0]=y,te[1]=b,te[2]=h,te[3]=p),te}detectSolid2(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b),T=cr.shiftPoint(p,y,(S+1)*4),P=cr.shiftPoint(y,p,(S+1)*4),U=this.transitionsBetween(T,h),q=this.transitionsBetween(P,b);return U<q?(c[0]=h,c[1]=p,c[2]=y,c[3]=b):(c[0]=p,c[1]=y,c[2]=b,c[3]=h),c}correctTopRight(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b),T=this.transitionsBetween(p,b),P=cr.shiftPoint(h,p,(T+1)*4),U=cr.shiftPoint(y,p,(S+1)*4);S=this.transitionsBetween(P,b),T=this.transitionsBetween(U,b);let q=new ct(b.getX()+(y.getX()-p.getX())/(S+1),b.getY()+(y.getY()-p.getY())/(S+1)),te=new ct(b.getX()+(h.getX()-p.getX())/(T+1),b.getY()+(h.getY()-p.getY())/(T+1));if(!this.isValid(q))return this.isValid(te)?te:null;if(!this.isValid(te))return q;let ne=this.transitionsBetween(P,q)+this.transitionsBetween(U,q),le=this.transitionsBetween(P,te)+this.transitionsBetween(U,te);return ne>le?q:te}shiftToModuleCenter(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b)+1,T=this.transitionsBetween(y,b)+1,P=cr.shiftPoint(h,p,T*4),U=cr.shiftPoint(y,p,S*4);S=this.transitionsBetween(P,b)+1,T=this.transitionsBetween(U,b)+1,(S&1)===1&&(S+=1),(T&1)===1&&(T+=1);let q=(h.getX()+p.getX()+y.getX()+b.getX())/4,te=(h.getY()+p.getY()+y.getY()+b.getY())/4;h=cr.moveAway(h,q,te),p=cr.moveAway(p,q,te),y=cr.moveAway(y,q,te),b=cr.moveAway(b,q,te);let ne,le;return P=cr.shiftPoint(h,p,T*4),P=cr.shiftPoint(P,b,S*4),ne=cr.shiftPoint(p,h,T*4),ne=cr.shiftPoint(ne,y,S*4),U=cr.shiftPoint(y,b,T*4),U=cr.shiftPoint(U,p,S*4),le=cr.shiftPoint(b,y,T*4),le=cr.shiftPoint(le,h,S*4),[P,ne,U,le]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,h,p,y,b,S,T){return yr.getInstance().sampleGrid(c,S,T,.5,.5,S-.5,.5,S-.5,T-.5,.5,T-.5,h.getX(),h.getY(),b.getX(),b.getY(),y.getX(),y.getY(),p.getX(),p.getY())}transitionsBetween(c,h){let p=Math.trunc(c.getX()),y=Math.trunc(c.getY()),b=Math.trunc(h.getX()),S=Math.trunc(h.getY()),T=Math.abs(S-y)>Math.abs(b-p);if(T){let ve=p;p=y,y=ve,ve=b,b=S,S=ve}let P=Math.abs(b-p),U=Math.abs(S-y),q=-P/2,te=y<S?1:-1,ne=p<b?1:-1,le=0,ge=this.image.get(T?y:p,T?p:y);for(let ve=p,Ce=y;ve!==b;ve+=ne){let Le=this.image.get(T?Ce:ve,T?ve:Ce);if(Le!==ge&&(le++,ge=Le),q+=U,q>0){if(Ce===S)break;Ce+=te,q-=P}}return le}}class Ws{constructor(){this.decoder=new nf}decode(c,h=null){let p,y;if(h!=null&&h.has(k.PURE_BARCODE)){const U=Ws.extractPureBits(c.getBlackMatrix());p=this.decoder.decode(U),y=Ws.NO_POINTS}else{const U=new cr(c.getBlackMatrix()).detect();p=this.decoder.decode(U.getBits()),y=U.getPoints()}const b=p.getRawBytes(),S=new xe(p.getText(),b,8*b.length,y,se.DATA_MATRIX,A.currentTimeMillis()),T=p.getByteSegments();T!=null&&S.putMetadata(oe.BYTE_SEGMENTS,T);const P=p.getECLevel();return P!=null&&S.putMetadata(oe.ERROR_CORRECTION_LEVEL,P),S}reset(){}static extractPureBits(c){const h=c.getTopLeftOnBit(),p=c.getBottomRightOnBit();if(h==null||p==null)throw new G;const y=this.moduleSize(h,c);let b=h[1];const S=p[1];let T=h[0];const U=(p[0]-T+1)/y,q=(S-b+1)/y;if(U<=0||q<=0)throw new G;const te=y/2;b+=te,T+=te;const ne=new X(U,q);for(let le=0;le<q;le++){const ge=b+le*y;for(let ve=0;ve<U;ve++)c.get(T+ve*y,ge)&&ne.set(ve,le)}return ne}static moduleSize(c,h){const p=h.getWidth();let y=c[0];const b=c[1];for(;y<p&&h.get(y,b);)y++;if(y===p)throw new G;const S=y-c[0];if(S===0)throw new G;return S}}Ws.NO_POINTS=[];class Q1 extends Se{constructor(c=500){super(new Ws,c)}}var da;(function(ee){ee[ee.L=0]="L",ee[ee.M=1]="M",ee[ee.Q=2]="Q",ee[ee.H=3]="H"})(da||(da={}));class Tn{constructor(c,h,p){this.value=c,this.stringValue=h,this.bits=p,Tn.FOR_BITS.set(p,this),Tn.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return Tn.L;case"M":return Tn.M;case"Q":return Tn.Q;case"H":return Tn.H;default:throw new g(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof Tn))return!1;const h=c;return this.value===h.value}static forBits(c){if(c<0||c>=Tn.FOR_BITS.size)throw new x;return Tn.FOR_BITS.get(c)}}Tn.FOR_BITS=new Map,Tn.FOR_VALUE=new Map,Tn.L=new Tn(da.L,"L",1),Tn.M=new Tn(da.M,"M",0),Tn.Q=new Tn(da.Q,"Q",3),Tn.H=new Tn(da.H,"H",2);class fa{constructor(c){this.errorCorrectionLevel=Tn.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,h){return R.bitCount(c^h)}static decodeFormatInformation(c,h){const p=fa.doDecodeFormatInformation(c,h);return p!==null?p:fa.doDecodeFormatInformation(c^fa.FORMAT_INFO_MASK_QR,h^fa.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,h){let p=Number.MAX_SAFE_INTEGER,y=0;for(const b of fa.FORMAT_INFO_DECODE_LOOKUP){const S=b[0];if(S===c||S===h)return new fa(b[1]);let T=fa.numBitsDiffering(c,S);T<p&&(y=b[1],p=T),c!==h&&(T=fa.numBitsDiffering(h,S),T<p&&(y=b[1],p=T))}return p<=3?new fa(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof fa))return!1;const h=c;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}fa.FORMAT_INFO_MASK_QR=21522,fa.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Me{constructor(c,...h){this.ecCodewordsPerBlock=c,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const h=this.ecBlocks;for(const p of h)c+=p.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ie{constructor(c,h){this.count=c,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(c,h,...p){this.versionNumber=c,this.alignmentPatternCenters=h,this.ecBlocks=p;let y=0;const b=p[0].getECCodewordsPerBlock(),S=p[0].getECBlocks();for(const T of S)y+=T.getCount()*(T.getDataCodewords()+b);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new F;try{return this.getVersionForNumber((c-17)/4)}catch{throw new F}}static getVersionForNumber(c){if(c<1||c>40)throw new x;return wt.VERSIONS[c-1]}static decodeVersionInformation(c){let h=Number.MAX_SAFE_INTEGER,p=0;for(let y=0;y<wt.VERSION_DECODE_INFO.length;y++){const b=wt.VERSION_DECODE_INFO[y];if(b===c)return wt.getVersionForNumber(y+7);const S=fa.numBitsDiffering(c,b);S<h&&(p=y+7,h=S)}return h<=3?wt.getVersionForNumber(p):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),h=new X(c);h.setRegion(0,0,9,9),h.setRegion(c-8,0,8,9),h.setRegion(0,c-8,9,8);const p=this.alignmentPatternCenters.length;for(let y=0;y<p;y++){const b=this.alignmentPatternCenters[y]-2;for(let S=0;S<p;S++)y===0&&(S===0||S===p-1)||y===p-1&&S===0||h.setRegion(this.alignmentPatternCenters[S]-2,b,5,5)}return h.setRegion(6,9,1,c-17),h.setRegion(9,6,c-17,1),this.versionNumber>6&&(h.setRegion(c-11,0,3,6),h.setRegion(0,c-11,6,3)),h}toString(){return""+this.versionNumber}}wt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),wt.VERSIONS=[new wt(1,new Int32Array(0),new Me(7,new ie(1,19)),new Me(10,new ie(1,16)),new Me(13,new ie(1,13)),new Me(17,new ie(1,9))),new wt(2,Int32Array.from([6,18]),new Me(10,new ie(1,34)),new Me(16,new ie(1,28)),new Me(22,new ie(1,22)),new Me(28,new ie(1,16))),new wt(3,Int32Array.from([6,22]),new Me(15,new ie(1,55)),new Me(26,new ie(1,44)),new Me(18,new ie(2,17)),new Me(22,new ie(2,13))),new wt(4,Int32Array.from([6,26]),new Me(20,new ie(1,80)),new Me(18,new ie(2,32)),new Me(26,new ie(2,24)),new Me(16,new ie(4,9))),new wt(5,Int32Array.from([6,30]),new Me(26,new ie(1,108)),new Me(24,new ie(2,43)),new Me(18,new ie(2,15),new ie(2,16)),new Me(22,new ie(2,11),new ie(2,12))),new wt(6,Int32Array.from([6,34]),new Me(18,new ie(2,68)),new Me(16,new ie(4,27)),new Me(24,new ie(4,19)),new Me(28,new ie(4,15))),new wt(7,Int32Array.from([6,22,38]),new Me(20,new ie(2,78)),new Me(18,new ie(4,31)),new Me(18,new ie(2,14),new ie(4,15)),new Me(26,new ie(4,13),new ie(1,14))),new wt(8,Int32Array.from([6,24,42]),new Me(24,new ie(2,97)),new Me(22,new ie(2,38),new ie(2,39)),new Me(22,new ie(4,18),new ie(2,19)),new Me(26,new ie(4,14),new ie(2,15))),new wt(9,Int32Array.from([6,26,46]),new Me(30,new ie(2,116)),new Me(22,new ie(3,36),new ie(2,37)),new Me(20,new ie(4,16),new ie(4,17)),new Me(24,new ie(4,12),new ie(4,13))),new wt(10,Int32Array.from([6,28,50]),new Me(18,new ie(2,68),new ie(2,69)),new Me(26,new ie(4,43),new ie(1,44)),new Me(24,new ie(6,19),new ie(2,20)),new Me(28,new ie(6,15),new ie(2,16))),new wt(11,Int32Array.from([6,30,54]),new Me(20,new ie(4,81)),new Me(30,new ie(1,50),new ie(4,51)),new Me(28,new ie(4,22),new ie(4,23)),new Me(24,new ie(3,12),new ie(8,13))),new wt(12,Int32Array.from([6,32,58]),new Me(24,new ie(2,92),new ie(2,93)),new Me(22,new ie(6,36),new ie(2,37)),new Me(26,new ie(4,20),new ie(6,21)),new Me(28,new ie(7,14),new ie(4,15))),new wt(13,Int32Array.from([6,34,62]),new Me(26,new ie(4,107)),new Me(22,new ie(8,37),new ie(1,38)),new Me(24,new ie(8,20),new ie(4,21)),new Me(22,new ie(12,11),new ie(4,12))),new wt(14,Int32Array.from([6,26,46,66]),new Me(30,new ie(3,115),new ie(1,116)),new Me(24,new ie(4,40),new ie(5,41)),new Me(20,new ie(11,16),new ie(5,17)),new Me(24,new ie(11,12),new ie(5,13))),new wt(15,Int32Array.from([6,26,48,70]),new Me(22,new ie(5,87),new ie(1,88)),new Me(24,new ie(5,41),new ie(5,42)),new Me(30,new ie(5,24),new ie(7,25)),new Me(24,new ie(11,12),new ie(7,13))),new wt(16,Int32Array.from([6,26,50,74]),new Me(24,new ie(5,98),new ie(1,99)),new Me(28,new ie(7,45),new ie(3,46)),new Me(24,new ie(15,19),new ie(2,20)),new Me(30,new ie(3,15),new ie(13,16))),new wt(17,Int32Array.from([6,30,54,78]),new Me(28,new ie(1,107),new ie(5,108)),new Me(28,new ie(10,46),new ie(1,47)),new Me(28,new ie(1,22),new ie(15,23)),new Me(28,new ie(2,14),new ie(17,15))),new wt(18,Int32Array.from([6,30,56,82]),new Me(30,new ie(5,120),new ie(1,121)),new Me(26,new ie(9,43),new ie(4,44)),new Me(28,new ie(17,22),new ie(1,23)),new Me(28,new ie(2,14),new ie(19,15))),new wt(19,Int32Array.from([6,30,58,86]),new Me(28,new ie(3,113),new ie(4,114)),new Me(26,new ie(3,44),new ie(11,45)),new Me(26,new ie(17,21),new ie(4,22)),new Me(26,new ie(9,13),new ie(16,14))),new wt(20,Int32Array.from([6,34,62,90]),new Me(28,new ie(3,107),new ie(5,108)),new Me(26,new ie(3,41),new ie(13,42)),new Me(30,new ie(15,24),new ie(5,25)),new Me(28,new ie(15,15),new ie(10,16))),new wt(21,Int32Array.from([6,28,50,72,94]),new Me(28,new ie(4,116),new ie(4,117)),new Me(26,new ie(17,42)),new Me(28,new ie(17,22),new ie(6,23)),new Me(30,new ie(19,16),new ie(6,17))),new wt(22,Int32Array.from([6,26,50,74,98]),new Me(28,new ie(2,111),new ie(7,112)),new Me(28,new ie(17,46)),new Me(30,new ie(7,24),new ie(16,25)),new Me(24,new ie(34,13))),new wt(23,Int32Array.from([6,30,54,78,102]),new Me(30,new ie(4,121),new ie(5,122)),new Me(28,new ie(4,47),new ie(14,48)),new Me(30,new ie(11,24),new ie(14,25)),new Me(30,new ie(16,15),new ie(14,16))),new wt(24,Int32Array.from([6,28,54,80,106]),new Me(30,new ie(6,117),new ie(4,118)),new Me(28,new ie(6,45),new ie(14,46)),new Me(30,new ie(11,24),new ie(16,25)),new Me(30,new ie(30,16),new ie(2,17))),new wt(25,Int32Array.from([6,32,58,84,110]),new Me(26,new ie(8,106),new ie(4,107)),new Me(28,new ie(8,47),new ie(13,48)),new Me(30,new ie(7,24),new ie(22,25)),new Me(30,new ie(22,15),new ie(13,16))),new wt(26,Int32Array.from([6,30,58,86,114]),new Me(28,new ie(10,114),new ie(2,115)),new Me(28,new ie(19,46),new ie(4,47)),new Me(28,new ie(28,22),new ie(6,23)),new Me(30,new ie(33,16),new ie(4,17))),new wt(27,Int32Array.from([6,34,62,90,118]),new Me(30,new ie(8,122),new ie(4,123)),new Me(28,new ie(22,45),new ie(3,46)),new Me(30,new ie(8,23),new ie(26,24)),new Me(30,new ie(12,15),new ie(28,16))),new wt(28,Int32Array.from([6,26,50,74,98,122]),new Me(30,new ie(3,117),new ie(10,118)),new Me(28,new ie(3,45),new ie(23,46)),new Me(30,new ie(4,24),new ie(31,25)),new Me(30,new ie(11,15),new ie(31,16))),new wt(29,Int32Array.from([6,30,54,78,102,126]),new Me(30,new ie(7,116),new ie(7,117)),new Me(28,new ie(21,45),new ie(7,46)),new Me(30,new ie(1,23),new ie(37,24)),new Me(30,new ie(19,15),new ie(26,16))),new wt(30,Int32Array.from([6,26,52,78,104,130]),new Me(30,new ie(5,115),new ie(10,116)),new Me(28,new ie(19,47),new ie(10,48)),new Me(30,new ie(15,24),new ie(25,25)),new Me(30,new ie(23,15),new ie(25,16))),new wt(31,Int32Array.from([6,30,56,82,108,134]),new Me(30,new ie(13,115),new ie(3,116)),new Me(28,new ie(2,46),new ie(29,47)),new Me(30,new ie(42,24),new ie(1,25)),new Me(30,new ie(23,15),new ie(28,16))),new wt(32,Int32Array.from([6,34,60,86,112,138]),new Me(30,new ie(17,115)),new Me(28,new ie(10,46),new ie(23,47)),new Me(30,new ie(10,24),new ie(35,25)),new Me(30,new ie(19,15),new ie(35,16))),new wt(33,Int32Array.from([6,30,58,86,114,142]),new Me(30,new ie(17,115),new ie(1,116)),new Me(28,new ie(14,46),new ie(21,47)),new Me(30,new ie(29,24),new ie(19,25)),new Me(30,new ie(11,15),new ie(46,16))),new wt(34,Int32Array.from([6,34,62,90,118,146]),new Me(30,new ie(13,115),new ie(6,116)),new Me(28,new ie(14,46),new ie(23,47)),new Me(30,new ie(44,24),new ie(7,25)),new Me(30,new ie(59,16),new ie(1,17))),new wt(35,Int32Array.from([6,30,54,78,102,126,150]),new Me(30,new ie(12,121),new ie(7,122)),new Me(28,new ie(12,47),new ie(26,48)),new Me(30,new ie(39,24),new ie(14,25)),new Me(30,new ie(22,15),new ie(41,16))),new wt(36,Int32Array.from([6,24,50,76,102,128,154]),new Me(30,new ie(6,121),new ie(14,122)),new Me(28,new ie(6,47),new ie(34,48)),new Me(30,new ie(46,24),new ie(10,25)),new Me(30,new ie(2,15),new ie(64,16))),new wt(37,Int32Array.from([6,28,54,80,106,132,158]),new Me(30,new ie(17,122),new ie(4,123)),new Me(28,new ie(29,46),new ie(14,47)),new Me(30,new ie(49,24),new ie(10,25)),new Me(30,new ie(24,15),new ie(46,16))),new wt(38,Int32Array.from([6,32,58,84,110,136,162]),new Me(30,new ie(4,122),new ie(18,123)),new Me(28,new ie(13,46),new ie(32,47)),new Me(30,new ie(48,24),new ie(14,25)),new Me(30,new ie(42,15),new ie(32,16))),new wt(39,Int32Array.from([6,26,54,82,110,138,166]),new Me(30,new ie(20,117),new ie(4,118)),new Me(28,new ie(40,47),new ie(7,48)),new Me(30,new ie(43,24),new ie(22,25)),new Me(30,new ie(10,15),new ie(67,16))),new wt(40,Int32Array.from([6,30,58,86,114,142,170]),new Me(30,new ie(19,118),new ie(6,119)),new Me(28,new ie(18,47),new ie(31,48)),new Me(30,new ie(34,24),new ie(34,25)),new Me(30,new ie(20,15),new ie(61,16)))];var Br;(function(ee){ee[ee.DATA_MASK_000=0]="DATA_MASK_000",ee[ee.DATA_MASK_001=1]="DATA_MASK_001",ee[ee.DATA_MASK_010=2]="DATA_MASK_010",ee[ee.DATA_MASK_011=3]="DATA_MASK_011",ee[ee.DATA_MASK_100=4]="DATA_MASK_100",ee[ee.DATA_MASK_101=5]="DATA_MASK_101",ee[ee.DATA_MASK_110=6]="DATA_MASK_110",ee[ee.DATA_MASK_111=7]="DATA_MASK_111"})(Br||(Br={}));class ha{constructor(c,h){this.value=c,this.isMasked=h}unmaskBitMatrix(c,h){for(let p=0;p<h;p++)for(let y=0;y<h;y++)this.isMasked(p,y)&&c.flip(y,p)}}ha.values=new Map([[Br.DATA_MASK_000,new ha(Br.DATA_MASK_000,(ee,c)=>(ee+c&1)===0)],[Br.DATA_MASK_001,new ha(Br.DATA_MASK_001,(ee,c)=>(ee&1)===0)],[Br.DATA_MASK_010,new ha(Br.DATA_MASK_010,(ee,c)=>c%3===0)],[Br.DATA_MASK_011,new ha(Br.DATA_MASK_011,(ee,c)=>(ee+c)%3===0)],[Br.DATA_MASK_100,new ha(Br.DATA_MASK_100,(ee,c)=>(Math.floor(ee/2)+Math.floor(c/3)&1)===0)],[Br.DATA_MASK_101,new ha(Br.DATA_MASK_101,(ee,c)=>ee*c%6===0)],[Br.DATA_MASK_110,new ha(Br.DATA_MASK_110,(ee,c)=>ee*c%6<3)],[Br.DATA_MASK_111,new ha(Br.DATA_MASK_111,(ee,c)=>(ee+c+ee*c%3&1)===0)]]);class Z1{constructor(c){const h=c.getHeight();if(h<21||(h&3)!==1)throw new F;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let b=0;b<6;b++)c=this.copyBit(b,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let b=5;b>=0;b--)c=this.copyBit(8,b,c);const h=this.bitMatrix.getHeight();let p=0;const y=h-7;for(let b=h-1;b>=y;b--)p=this.copyBit(8,b,p);for(let b=h-8;b<h;b++)p=this.copyBit(b,8,p);if(this.parsedFormatInfo=fa.decodeFormatInformation(c,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),h=Math.floor((c-17)/4);if(h<=6)return wt.getVersionForNumber(h);let p=0;const y=c-11;for(let S=5;S>=0;S--)for(let T=c-9;T>=y;T--)p=this.copyBit(T,S,p);let b=wt.decodeVersionInformation(p);if(b!==null&&b.getDimensionForVersion()===c)return this.parsedVersion=b,b;p=0;for(let S=5;S>=0;S--)for(let T=c-9;T>=y;T--)p=this.copyBit(S,T,p);if(b=wt.decodeVersionInformation(p),b!==null&&b.getDimensionForVersion()===c)return this.parsedVersion=b,b;throw new F}copyBit(c,h,p){return(this.isMirror?this.bitMatrix.get(h,c):this.bitMatrix.get(c,h))?p<<1|1:p<<1}readCodewords(){const c=this.readFormatInformation(),h=this.readVersion(),p=ha.values.get(c.getDataMask()),y=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,y);const b=h.buildFunctionPattern();let S=!0;const T=new Uint8Array(h.getTotalCodewords());let P=0,U=0,q=0;for(let te=y-1;te>0;te-=2){te===6&&te--;for(let ne=0;ne<y;ne++){const le=S?y-1-ne:ne;for(let ge=0;ge<2;ge++)b.get(te-ge,le)||(q++,U<<=1,this.bitMatrix.get(te-ge,le)&&(U|=1),q===8&&(T[P++]=U,q=0,U=0))}S=!S}if(P!==h.getTotalCodewords())throw new F;return T}remask(){if(this.parsedFormatInfo===null)return;const c=ha.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let h=0,p=c.getWidth();h<p;h++)for(let y=h+1,b=c.getHeight();y<b;y++)c.get(h,y)!==c.get(y,h)&&(c.flip(y,h),c.flip(h,y))}}class rf{constructor(c,h){this.numDataCodewords=c,this.codewords=h}static getDataBlocks(c,h,p){if(c.length!==h.getTotalCodewords())throw new x;const y=h.getECBlocksForLevel(p);let b=0;const S=y.getECBlocks();for(const ge of S)b+=ge.getCount();const T=new Array(b);let P=0;for(const ge of S)for(let ve=0;ve<ge.getCount();ve++){const Ce=ge.getDataCodewords(),Le=y.getECCodewordsPerBlock()+Ce;T[P++]=new rf(Ce,new Uint8Array(Le))}const U=T[0].codewords.length;let q=T.length-1;for(;q>=0&&T[q].codewords.length!==U;)q--;q++;const te=U-y.getECCodewordsPerBlock();let ne=0;for(let ge=0;ge<te;ge++)for(let ve=0;ve<P;ve++)T[ve].codewords[ge]=c[ne++];for(let ge=q;ge<P;ge++)T[ge].codewords[te]=c[ne++];const le=T[0].codewords.length;for(let ge=te;ge<le;ge++)for(let ve=0;ve<P;ve++){const Ce=ve<q?ge:ge+1;T[ve].codewords[Ce]=c[ne++]}return T}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var vs;(function(ee){ee[ee.TERMINATOR=0]="TERMINATOR",ee[ee.NUMERIC=1]="NUMERIC",ee[ee.ALPHANUMERIC=2]="ALPHANUMERIC",ee[ee.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ee[ee.BYTE=4]="BYTE",ee[ee.ECI=5]="ECI",ee[ee.KANJI=6]="KANJI",ee[ee.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ee[ee.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ee[ee.HANZI=9]="HANZI"})(vs||(vs={}));class jt{constructor(c,h,p,y){this.value=c,this.stringValue=h,this.characterCountBitsForVersions=p,this.bits=y,jt.FOR_BITS.set(y,this),jt.FOR_VALUE.set(c,this)}static forBits(c){const h=jt.FOR_BITS.get(c);if(h===void 0)throw new x;return h}getCharacterCountBits(c){const h=c.getVersionNumber();let p;return h<=9?p=0:h<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof jt))return!1;const h=c;return this.value===h.value}toString(){return this.stringValue}}jt.FOR_BITS=new Map,jt.FOR_VALUE=new Map,jt.TERMINATOR=new jt(vs.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),jt.NUMERIC=new jt(vs.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),jt.ALPHANUMERIC=new jt(vs.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),jt.STRUCTURED_APPEND=new jt(vs.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),jt.BYTE=new jt(vs.BYTE,"BYTE",Int32Array.from([8,16,16]),4),jt.ECI=new jt(vs.ECI,"ECI",Int32Array.from([0,0,0]),7),jt.KANJI=new jt(vs.KANJI,"KANJI",Int32Array.from([8,10,12]),8),jt.FNC1_FIRST_POSITION=new jt(vs.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),jt.FNC1_SECOND_POSITION=new jt(vs.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),jt.HANZI=new jt(vs.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nr{static decode(c,h,p,y){const b=new Xa(c);let S=new Q;const T=new Array;let P=-1,U=-1;try{let q=null,te=!1,ne;do{if(b.available()<4)ne=jt.TERMINATOR;else{const le=b.readBits(4);ne=jt.forBits(le)}switch(ne){case jt.TERMINATOR:break;case jt.FNC1_FIRST_POSITION:case jt.FNC1_SECOND_POSITION:te=!0;break;case jt.STRUCTURED_APPEND:if(b.available()<16)throw new F;P=b.readBits(8),U=b.readBits(8);break;case jt.ECI:const le=nr.parseECIValue(b);if(q=L.getCharacterSetECIByValue(le),q===null)throw new F;break;case jt.HANZI:const ge=b.readBits(4),ve=b.readBits(ne.getCharacterCountBits(h));ge===nr.GB2312_SUBSET&&nr.decodeHanziSegment(b,S,ve);break;default:const Ce=b.readBits(ne.getCharacterCountBits(h));switch(ne){case jt.NUMERIC:nr.decodeNumericSegment(b,S,Ce);break;case jt.ALPHANUMERIC:nr.decodeAlphanumericSegment(b,S,Ce,te);break;case jt.BYTE:nr.decodeByteSegment(b,S,Ce,q,T,y);break;case jt.KANJI:nr.decodeKanjiSegment(b,S,Ce);break;default:throw new F}break}}while(ne!==jt.TERMINATOR)}catch{throw new F}return new he(c,S.toString(),T.length===0?null:T,p===null?null:p.toString(),P,U)}static decodeHanziSegment(c,h,p){if(p*13>c.available())throw new F;const y=new Uint8Array(2*p);let b=0;for(;p>0;){const S=c.readBits(13);let T=S/96<<8&4294967295|S%96;T<959?T+=41377:T+=42657,y[b]=T>>8&255,y[b+1]=T&255,b+=2,p--}try{h.append(W.decode(y,Y.GB2312))}catch(S){throw new F(S)}}static decodeKanjiSegment(c,h,p){if(p*13>c.available())throw new F;const y=new Uint8Array(2*p);let b=0;for(;p>0;){const S=c.readBits(13);let T=S/192<<8&4294967295|S%192;T<7936?T+=33088:T+=49472,y[b]=T>>8,y[b+1]=T,b+=2,p--}try{h.append(W.decode(y,Y.SHIFT_JIS))}catch(S){throw new F(S)}}static decodeByteSegment(c,h,p,y,b,S){if(8*p>c.available())throw new F;const T=new Uint8Array(p);for(let U=0;U<p;U++)T[U]=c.readBits(8);let P;y===null?P=Y.guessEncoding(T,S):P=y.getName();try{h.append(W.decode(T,P))}catch(U){throw new F(U)}b.push(T)}static toAlphaNumericChar(c){if(c>=nr.ALPHANUMERIC_CHARS.length)throw new F;return nr.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,h,p,y){const b=h.length();for(;p>1;){if(c.available()<11)throw new F;const S=c.readBits(11);h.append(nr.toAlphaNumericChar(Math.floor(S/45))),h.append(nr.toAlphaNumericChar(S%45)),p-=2}if(p===1){if(c.available()<6)throw new F;h.append(nr.toAlphaNumericChar(c.readBits(6)))}if(y)for(let S=b;S<h.length();S++)h.charAt(S)==="%"&&(S<h.length()-1&&h.charAt(S+1)==="%"?h.deleteCharAt(S+1):h.setCharAt(S,""))}static decodeNumericSegment(c,h,p){for(;p>=3;){if(c.available()<10)throw new F;const y=c.readBits(10);if(y>=1e3)throw new F;h.append(nr.toAlphaNumericChar(Math.floor(y/100))),h.append(nr.toAlphaNumericChar(Math.floor(y/10)%10)),h.append(nr.toAlphaNumericChar(y%10)),p-=3}if(p===2){if(c.available()<7)throw new F;const y=c.readBits(7);if(y>=100)throw new F;h.append(nr.toAlphaNumericChar(Math.floor(y/10))),h.append(nr.toAlphaNumericChar(y%10))}else if(p===1){if(c.available()<4)throw new F;const y=c.readBits(4);if(y>=10)throw new F;h.append(nr.toAlphaNumericChar(y))}}static parseECIValue(c){const h=c.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const p=c.readBits(8);return(h&63)<<8&4294967295|p}if((h&224)===192){const p=c.readBits(16);return(h&31)<<16&4294967295|p}throw new F}}nr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nr.GB2312_SUBSET=1;class g0{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const h=c[0];c[0]=c[2],c[2]=h}}class af{constructor(){this.rsDecoder=new gt(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(c,h){return this.decodeBitMatrix(X.parseFromBooleanArray(c),h)}decodeBitMatrix(c,h){const p=new Z1(c);let y=null;try{return this.decodeBitMatrixParser(p,h)}catch(b){y=b}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const b=this.decodeBitMatrixParser(p,h);return b.setOther(new g0(!0)),b}catch(b){throw y!==null?y:b}}decodeBitMatrixParser(c,h){const p=c.readVersion(),y=c.readFormatInformation().getErrorCorrectionLevel(),b=c.readCodewords(),S=rf.getDataBlocks(b,p,y);let T=0;for(const q of S)T+=q.getNumDataCodewords();const P=new Uint8Array(T);let U=0;for(const q of S){const te=q.getCodewords(),ne=q.getNumDataCodewords();this.correctErrors(te,ne);for(let le=0;le<ne;le++)P[U++]=te[le]}return nr.decode(P,p,y,h)}correctErrors(c,h){const p=new Int32Array(c);try{this.rsDecoder.decode(p,c.length-h)}catch{throw new _}for(let y=0;y<h;y++)c[y]=p[y]}}class Du extends ct{constructor(c,h,p){super(c,h),this.estimatedModuleSize=p}aboutEquals(c,h,p){if(Math.abs(h-this.getY())<=c&&Math.abs(p-this.getX())<=c){const y=Math.abs(c-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(c,h,p){const y=(this.getX()+h)/2,b=(this.getY()+c)/2,S=(this.estimatedModuleSize+p)/2;return new Du(y,b,S)}}class sc{constructor(c,h,p,y,b,S,T){this.image=c,this.startX=h,this.startY=p,this.width=y,this.height=b,this.moduleSize=S,this.resultPointCallback=T,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,h=this.height,p=this.width,y=c+p,b=this.startY+h/2,S=new Int32Array(3),T=this.image;for(let P=0;P<h;P++){const U=b+((P&1)===0?Math.floor((P+1)/2):-Math.floor((P+1)/2));S[0]=0,S[1]=0,S[2]=0;let q=c;for(;q<y&&!T.get(q,U);)q++;let te=0;for(;q<y;){if(T.get(q,U))if(te===1)S[1]++;else if(te===2){if(this.foundPatternCross(S)){const ne=this.handlePossibleCenter(S,U,q);if(ne!==null)return ne}S[0]=S[2],S[1]=1,S[2]=0,te=1}else S[++te]++;else te===1&&te++,S[te]++;q++}if(this.foundPatternCross(S)){const ne=this.handlePossibleCenter(S,U,y);if(ne!==null)return ne}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(c,h){return h-c[2]-c[1]/2}foundPatternCross(c){const h=this.moduleSize,p=h/2;for(let y=0;y<3;y++)if(Math.abs(h-c[y])>=p)return!1;return!0}crossCheckVertical(c,h,p,y){const b=this.image,S=b.getHeight(),T=this.crossCheckStateCount;T[0]=0,T[1]=0,T[2]=0;let P=c;for(;P>=0&&b.get(h,P)&&T[1]<=p;)T[1]++,P--;if(P<0||T[1]>p)return NaN;for(;P>=0&&!b.get(h,P)&&T[0]<=p;)T[0]++,P--;if(T[0]>p)return NaN;for(P=c+1;P<S&&b.get(h,P)&&T[1]<=p;)T[1]++,P++;if(P===S||T[1]>p)return NaN;for(;P<S&&!b.get(h,P)&&T[2]<=p;)T[2]++,P++;if(T[2]>p)return NaN;const U=T[0]+T[1]+T[2];return 5*Math.abs(U-y)>=2*y?NaN:this.foundPatternCross(T)?sc.centerFromEnd(T,P):NaN}handlePossibleCenter(c,h,p){const y=c[0]+c[1]+c[2],b=sc.centerFromEnd(c,p),S=this.crossCheckVertical(h,b,2*c[1],y);if(!isNaN(S)){const T=(c[0]+c[1]+c[2])/3;for(const U of this.possibleCenters)if(U.aboutEquals(T,S,b))return U.combineEstimate(S,b,T);const P=new Du(b,S,T);this.possibleCenters.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return null}}class jo extends ct{constructor(c,h,p,y){super(c,h),this.estimatedModuleSize=p,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,h,p){if(Math.abs(h-this.getY())<=c&&Math.abs(p-this.getX())<=c){const y=Math.abs(c-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(c,h,p){const y=this.count+1,b=(this.count*this.getX()+h)/y,S=(this.count*this.getY()+c)/y,T=(this.count*this.estimatedModuleSize+p)/y;return new jo(b,S,T,y)}}class ic{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Fr{constructor(c,h){this.image=c,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const h=c!=null&&c.get(k.TRY_HARDER)!==void 0,p=c!=null&&c.get(k.PURE_BARCODE)!==void 0,y=this.image,b=y.getHeight(),S=y.getWidth();let T=Math.floor(3*b/(4*Fr.MAX_MODULES));(T<Fr.MIN_SKIP||h)&&(T=Fr.MIN_SKIP);let P=!1;const U=new Int32Array(5);for(let te=T-1;te<b&&!P;te+=T){U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0;let ne=0;for(let le=0;le<S;le++)if(y.get(le,te))(ne&1)===1&&ne++,U[ne]++;else if((ne&1)===0)if(ne===4)if(Fr.foundPatternCross(U)){if(this.handlePossibleCenter(U,te,le,p)===!0)if(T=2,this.hasSkipped===!0)P=this.haveMultiplyConfirmedCenters();else{const ve=this.findRowSkip();ve>U[2]&&(te+=ve-U[2]-T,le=S-1)}else{U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,ne=3;continue}ne=0,U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0}else U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,ne=3;else U[++ne]++;else U[ne]++;Fr.foundPatternCross(U)&&this.handlePossibleCenter(U,te,S,p)===!0&&(T=U[0],this.hasSkipped&&(P=this.haveMultiplyConfirmedCenters()))}const q=this.selectBestPatterns();return ct.orderBestPatterns(q),new ic(q)}static centerFromEnd(c,h){return h-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let h=0;for(let b=0;b<5;b++){const S=c[b];if(S===0)return!1;h+=S}if(h<7)return!1;const p=h/7,y=p/2;return Math.abs(p-c[0])<y&&Math.abs(p-c[1])<y&&Math.abs(3*p-c[2])<3*y&&Math.abs(p-c[3])<y&&Math.abs(p-c[4])<y}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,h,p,y){const b=this.getCrossCheckStateCount();let S=0;const T=this.image;for(;c>=S&&h>=S&&T.get(h-S,c-S);)b[2]++,S++;if(c<S||h<S)return!1;for(;c>=S&&h>=S&&!T.get(h-S,c-S)&&b[1]<=p;)b[1]++,S++;if(c<S||h<S||b[1]>p)return!1;for(;c>=S&&h>=S&&T.get(h-S,c-S)&&b[0]<=p;)b[0]++,S++;if(b[0]>p)return!1;const P=T.getHeight(),U=T.getWidth();for(S=1;c+S<P&&h+S<U&&T.get(h+S,c+S);)b[2]++,S++;if(c+S>=P||h+S>=U)return!1;for(;c+S<P&&h+S<U&&!T.get(h+S,c+S)&&b[3]<p;)b[3]++,S++;if(c+S>=P||h+S>=U||b[3]>=p)return!1;for(;c+S<P&&h+S<U&&T.get(h+S,c+S)&&b[4]<p;)b[4]++,S++;if(b[4]>=p)return!1;const q=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs(q-y)<2*y&&Fr.foundPatternCross(b)}crossCheckVertical(c,h,p,y){const b=this.image,S=b.getHeight(),T=this.getCrossCheckStateCount();let P=c;for(;P>=0&&b.get(h,P);)T[2]++,P--;if(P<0)return NaN;for(;P>=0&&!b.get(h,P)&&T[1]<=p;)T[1]++,P--;if(P<0||T[1]>p)return NaN;for(;P>=0&&b.get(h,P)&&T[0]<=p;)T[0]++,P--;if(T[0]>p)return NaN;for(P=c+1;P<S&&b.get(h,P);)T[2]++,P++;if(P===S)return NaN;for(;P<S&&!b.get(h,P)&&T[3]<p;)T[3]++,P++;if(P===S||T[3]>=p)return NaN;for(;P<S&&b.get(h,P)&&T[4]<p;)T[4]++,P++;if(T[4]>=p)return NaN;const U=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(U-y)>=2*y?NaN:Fr.foundPatternCross(T)?Fr.centerFromEnd(T,P):NaN}crossCheckHorizontal(c,h,p,y){const b=this.image,S=b.getWidth(),T=this.getCrossCheckStateCount();let P=c;for(;P>=0&&b.get(P,h);)T[2]++,P--;if(P<0)return NaN;for(;P>=0&&!b.get(P,h)&&T[1]<=p;)T[1]++,P--;if(P<0||T[1]>p)return NaN;for(;P>=0&&b.get(P,h)&&T[0]<=p;)T[0]++,P--;if(T[0]>p)return NaN;for(P=c+1;P<S&&b.get(P,h);)T[2]++,P++;if(P===S)return NaN;for(;P<S&&!b.get(P,h)&&T[3]<p;)T[3]++,P++;if(P===S||T[3]>=p)return NaN;for(;P<S&&b.get(P,h)&&T[4]<p;)T[4]++,P++;if(T[4]>=p)return NaN;const U=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(U-y)>=y?NaN:Fr.foundPatternCross(T)?Fr.centerFromEnd(T,P):NaN}handlePossibleCenter(c,h,p,y){const b=c[0]+c[1]+c[2]+c[3]+c[4];let S=Fr.centerFromEnd(c,p),T=this.crossCheckVertical(h,Math.floor(S),c[2],b);if(!isNaN(T)&&(S=this.crossCheckHorizontal(Math.floor(S),Math.floor(T),c[2],b),!isNaN(S)&&(!y||this.crossCheckDiagonal(Math.floor(T),Math.floor(S),c[2],b)))){const P=b/7;let U=!1;const q=this.possibleCenters;for(let te=0,ne=q.length;te<ne;te++){const le=q[te];if(le.aboutEquals(P,T,S)){q[te]=le.combineEstimate(T,S,P),U=!0;break}}if(!U){const te=new jo(S,T,P);q.push(te),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(te)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const p of this.possibleCenters)if(p.getCount()>=Fr.CENTER_QUORUM)if(h==null)h=p;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-p.getX())-Math.abs(h.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,h=0;const p=this.possibleCenters.length;for(const S of this.possibleCenters)S.getCount()>=Fr.CENTER_QUORUM&&(c++,h+=S.getEstimatedModuleSize());if(c<3)return!1;const y=h/p;let b=0;for(const S of this.possibleCenters)b+=Math.abs(S.getEstimatedModuleSize()-y);return b<=.05*h}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new G;const h=this.possibleCenters;let p;if(c>3){let y=0,b=0;for(const P of this.possibleCenters){const U=P.getEstimatedModuleSize();y+=U,b+=U*U}p=y/c;let S=Math.sqrt(b/c-p*p);h.sort((P,U)=>{const q=Math.abs(U.getEstimatedModuleSize()-p),te=Math.abs(P.getEstimatedModuleSize()-p);return q<te?-1:q>te?1:0});const T=Math.max(.2*p,S);for(let P=0;P<h.length&&h.length>3;P++){const U=h[P];Math.abs(U.getEstimatedModuleSize()-p)>T&&(h.splice(P,1),P--)}}if(h.length>3){let y=0;for(const b of h)y+=b.getEstimatedModuleSize();p=y/h.length,h.sort((b,S)=>{if(S.getCount()===b.getCount()){const T=Math.abs(S.getEstimatedModuleSize()-p),P=Math.abs(b.getEstimatedModuleSize()-p);return T<P?1:T>P?-1:0}else return S.getCount()-b.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}Fr.CENTER_QUORUM=2,Fr.MIN_SKIP=3,Fr.MAX_MODULES=57;class cl{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(k.NEED_RESULT_POINT_CALLBACK);const p=new Fr(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(p)}processFinderPatternInfo(c){const h=c.getTopLeft(),p=c.getTopRight(),y=c.getBottomLeft(),b=this.calculateModuleSize(h,p,y);if(b<1)throw new G("No pattern found in proccess finder.");const S=cl.computeDimension(h,p,y,b),T=wt.getProvisionalVersionForDimension(S),P=T.getDimensionForVersion()-7;let U=null;if(T.getAlignmentPatternCenters().length>0){const le=p.getX()-h.getX()+y.getX(),ge=p.getY()-h.getY()+y.getY(),ve=1-3/P,Ce=Math.floor(h.getX()+ve*(le-h.getX())),Le=Math.floor(h.getY()+ve*(ge-h.getY()));for(let Ze=4;Ze<=16;Ze<<=1)try{U=this.findAlignmentInRegion(b,Ce,Le,Ze);break}catch(tt){if(!(tt instanceof G))throw tt}}const q=cl.createTransform(h,p,y,U,S),te=cl.sampleGrid(this.image,q,S);let ne;return U===null?ne=[y,h,p]:ne=[y,h,p,U],new bn(te,ne)}static createTransform(c,h,p,y,b){const S=b-3.5;let T,P,U,q;return y!==null?(T=y.getX(),P=y.getY(),U=S-3,q=U):(T=h.getX()-c.getX()+p.getX(),P=h.getY()-c.getY()+p.getY(),U=S,q=S),En.quadrilateralToQuadrilateral(3.5,3.5,S,3.5,U,q,3.5,S,c.getX(),c.getY(),h.getX(),h.getY(),T,P,p.getX(),p.getY())}static sampleGrid(c,h,p){return yr.getInstance().sampleGridWithTransform(c,p,p,h)}static computeDimension(c,h,p,y){const b=it.round(ct.distance(c,h)/y),S=it.round(ct.distance(c,p)/y);let T=Math.floor((b+S)/2)+7;switch(T&3){case 0:T++;break;case 2:T--;break;case 3:throw new G("Dimensions could be not found.")}return T}calculateModuleSize(c,h,p){return(this.calculateModuleSizeOneWay(c,h)+this.calculateModuleSizeOneWay(c,p))/2}calculateModuleSizeOneWay(c,h){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(h.getX()),Math.floor(h.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(p)?y/7:isNaN(y)?p/7:(p+y)/14}sizeOfBlackWhiteBlackRunBothWays(c,h,p,y){let b=this.sizeOfBlackWhiteBlackRun(c,h,p,y),S=1,T=c-(p-c);T<0?(S=c/(c-T),T=0):T>=this.image.getWidth()&&(S=(this.image.getWidth()-1-c)/(T-c),T=this.image.getWidth()-1);let P=Math.floor(h-(y-h)*S);return S=1,P<0?(S=h/(h-P),P=0):P>=this.image.getHeight()&&(S=(this.image.getHeight()-1-h)/(P-h),P=this.image.getHeight()-1),T=Math.floor(c+(T-c)*S),b+=this.sizeOfBlackWhiteBlackRun(c,h,T,P),b-1}sizeOfBlackWhiteBlackRun(c,h,p,y){const b=Math.abs(y-h)>Math.abs(p-c);if(b){let le=c;c=h,h=le,le=p,p=y,y=le}const S=Math.abs(p-c),T=Math.abs(y-h);let P=-S/2;const U=c<p?1:-1,q=h<y?1:-1;let te=0;const ne=p+U;for(let le=c,ge=h;le!==ne;le+=U){const ve=b?ge:le,Ce=b?le:ge;if(te===1===this.image.get(ve,Ce)){if(te===2)return it.distance(le,ge,c,h);te++}if(P+=T,P>0){if(ge===y)break;ge+=q,P-=S}}return te===2?it.distance(p+U,y,c,h):NaN}findAlignmentInRegion(c,h,p,y){const b=Math.floor(y*c),S=Math.max(0,h-b),T=Math.min(this.image.getWidth()-1,h+b);if(T-S<c*3)throw new G("Alignment top exceeds estimated module size.");const P=Math.max(0,p-b),U=Math.min(this.image.getHeight()-1,p+b);if(U-P<c*3)throw new G("Alignment bottom exceeds estimated module size.");return new sc(this.image,S,P,T-S,U-P,c,this.resultPointCallback).find()}}class Qi{constructor(){this.decoder=new af}getDecoder(){return this.decoder}decode(c,h){let p,y;if(h!=null&&h.get(k.PURE_BARCODE)!==void 0){const P=Qi.extractPureBits(c.getBlackMatrix());p=this.decoder.decodeBitMatrix(P,h),y=Qi.NO_POINTS}else{const P=new cl(c.getBlackMatrix()).detect(h);p=this.decoder.decodeBitMatrix(P.getBits(),h),y=P.getPoints()}p.getOther()instanceof g0&&p.getOther().applyMirroredCorrection(y);const b=new xe(p.getText(),p.getRawBytes(),void 0,y,se.QR_CODE,void 0),S=p.getByteSegments();S!==null&&b.putMetadata(oe.BYTE_SEGMENTS,S);const T=p.getECLevel();return T!==null&&b.putMetadata(oe.ERROR_CORRECTION_LEVEL,T),p.hasStructuredAppend()&&(b.putMetadata(oe.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),b.putMetadata(oe.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),b}reset(){}static extractPureBits(c){const h=c.getTopLeftOnBit(),p=c.getBottomRightOnBit();if(h===null||p===null)throw new G;const y=this.moduleSize(h,c);let b=h[1],S=p[1],T=h[0],P=p[0];if(T>=P||b>=S)throw new G;if(S-b!==P-T&&(P=T+(S-b),P>=c.getWidth()))throw new G;const U=Math.round((P-T+1)/y),q=Math.round((S-b+1)/y);if(U<=0||q<=0)throw new G;if(q!==U)throw new G;const te=Math.floor(y/2);b+=te,T+=te;const ne=T+Math.floor((U-1)*y)-P;if(ne>0){if(ne>te)throw new G;T-=ne}const le=b+Math.floor((q-1)*y)-S;if(le>0){if(le>te)throw new G;b-=le}const ge=new X(U,q);for(let ve=0;ve<q;ve++){const Ce=b+Math.floor(ve*y);for(let Le=0;Le<U;Le++)c.get(T+Math.floor(Le*y),Ce)&&ge.set(Le,ve)}return ge}static moduleSize(c,h){const p=h.getHeight(),y=h.getWidth();let b=c[0],S=c[1],T=!0,P=0;for(;b<y&&S<p;){if(T!==h.get(b,S)){if(++P===5)break;T=!T}b++,S++}if(b===y||S===p)throw new G;return(b-c[0])/7}}Qi.NO_POINTS=new Array;class Et{PDF417Common(){}static getBitCountSum(c){return it.sum(c)}static toIntArray(c){if(c==null||!c.length)return Et.EMPTY_INT_ARRAY;const h=new Int32Array(c.length);let p=0;for(const y of c)h[p++]=y;return h}static getCodeword(c){const h=D.binarySearch(Et.SYMBOL_TABLE,c&262143);return h<0?-1:(Et.CODEWORD_TABLE[h]-1)%Et.NUMBER_OF_CODEWORDS}}Et.NUMBER_OF_CODEWORDS=929,Et.MAX_CODEWORDS_IN_BARCODE=Et.NUMBER_OF_CODEWORDS-1,Et.MIN_ROWS_IN_BARCODE=3,Et.MAX_ROWS_IN_BARCODE=90,Et.MODULES_IN_CODEWORD=17,Et.MODULES_IN_STOP_PATTERN=18,Et.BARS_IN_MODULE=8,Et.EMPTY_INT_ARRAY=new Int32Array([]),Et.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Et.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Zi{constructor(c,h){this.bits=c,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class zt{static detectMultiple(c,h,p){let y=c.getBlackMatrix(),b=zt.detect(p,y);return b.length||(y=y.clone(),y.rotate180(),b=zt.detect(p,y)),new Zi(y,b)}static detect(c,h){const p=new Array;let y=0,b=0,S=!1;for(;y<h.getHeight();){const T=zt.findVertices(h,y,b);if(T[0]==null&&T[3]==null){if(!S)break;S=!1,b=0;for(const P of p)P[1]!=null&&(y=Math.trunc(Math.max(y,P[1].getY()))),P[3]!=null&&(y=Math.max(y,Math.trunc(P[3].getY())));y+=zt.ROW_STEP;continue}if(S=!0,p.push(T),!c)break;T[2]!=null?(b=Math.trunc(T[2].getX()),y=Math.trunc(T[2].getY())):(b=Math.trunc(T[4].getX()),y=Math.trunc(T[4].getY()))}return p}static findVertices(c,h,p){const y=c.getHeight(),b=c.getWidth(),S=new Array(8);return zt.copyToResult(S,zt.findRowsWithPattern(c,y,b,h,p,zt.START_PATTERN),zt.INDEXES_START_PATTERN),S[4]!=null&&(p=Math.trunc(S[4].getX()),h=Math.trunc(S[4].getY())),zt.copyToResult(S,zt.findRowsWithPattern(c,y,b,h,p,zt.STOP_PATTERN),zt.INDEXES_STOP_PATTERN),S}static copyToResult(c,h,p){for(let y=0;y<p.length;y++)c[p[y]]=h[y]}static findRowsWithPattern(c,h,p,y,b,S){const T=new Array(4);let P=!1;const U=new Int32Array(S.length);for(;y<h;y+=zt.ROW_STEP){let te=zt.findGuardPattern(c,b,y,p,!1,S,U);if(te!=null){for(;y>0;){const ne=zt.findGuardPattern(c,b,--y,p,!1,S,U);if(ne!=null)te=ne;else{y++;break}}T[0]=new ct(te[0],y),T[1]=new ct(te[1],y),P=!0;break}}let q=y+1;if(P){let te=0,ne=Int32Array.from([Math.trunc(T[0].getX()),Math.trunc(T[1].getX())]);for(;q<h;q++){const le=zt.findGuardPattern(c,ne[0],q,p,!1,S,U);if(le!=null&&Math.abs(ne[0]-le[0])<zt.MAX_PATTERN_DRIFT&&Math.abs(ne[1]-le[1])<zt.MAX_PATTERN_DRIFT)ne=le,te=0;else{if(te>zt.SKIPPED_ROW_COUNT_MAX)break;te++}}q-=te+1,T[2]=new ct(ne[0],q),T[3]=new ct(ne[1],q)}return q-y<zt.BARCODE_MIN_HEIGHT&&D.fill(T,null),T}static findGuardPattern(c,h,p,y,b,S,T){D.fillWithin(T,0,T.length,0);let P=h,U=0;for(;c.get(P,p)&&P>0&&U++<zt.MAX_PIXEL_DRIFT;)P--;let q=P,te=0,ne=S.length;for(let le=b;q<y;q++)if(c.get(q,p)!==le)T[te]++;else{if(te===ne-1){if(zt.patternMatchVariance(T,S,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE)return new Int32Array([P,q]);P+=T[0]+T[1],A.arraycopy(T,2,T,0,te-1),T[te-1]=0,T[te]=0,te--}else te++;T[te]=1,le=!le}return te===ne-1&&zt.patternMatchVariance(T,S,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE?new Int32Array([P,q-1]):null}static patternMatchVariance(c,h,p){let y=c.length,b=0,S=0;for(let U=0;U<y;U++)b+=c[U],S+=h[U];if(b<S)return 1/0;let T=b/S;p*=T;let P=0;for(let U=0;U<y;U++){let q=c[U],te=h[U]*T,ne=q>te?q-te:te-q;if(ne>p)return 1/0;P+=ne}return P/b}}zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),zt.MAX_AVG_VARIANCE=.42,zt.MAX_INDIVIDUAL_VARIANCE=.8,zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),zt.MAX_PIXEL_DRIFT=3,zt.MAX_PATTERN_DRIFT=5,zt.SKIPPED_ROW_COUNT_MAX=25,zt.ROW_STEP=5,zt.BARCODE_MIN_HEIGHT=10;class wr{constructor(c,h){if(h.length===0)throw new x;this.field=c;let p=h.length;if(p>1&&h[0]===0){let y=1;for(;y<p&&h[y]===0;)y++;y===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-y),A.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let y=0;for(let b of this.coefficients)y=this.field.add(y,b);return y}let h=this.coefficients[0],p=this.coefficients.length;for(let y=1;y<p;y++)h=this.field.add(this.field.multiply(c,h),this.coefficients[y]);return h}add(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let h=this.coefficients,p=c.coefficients;if(h.length>p.length){let S=h;h=p,p=S}let y=new Int32Array(p.length),b=p.length-h.length;A.arraycopy(p,0,y,0,b);for(let S=b;S<p.length;S++)y[S]=this.field.add(h[S-b],p[S]);return new wr(this.field,y)}subtract(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof wr?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new wr(this.field,new Int32Array([0]));let h=this.coefficients,p=h.length,y=c.coefficients,b=y.length,S=new Int32Array(p+b-1);for(let T=0;T<p;T++){let P=h[T];for(let U=0;U<b;U++)S[T+U]=this.field.add(S[T+U],this.field.multiply(P,y[U]))}return new wr(this.field,S)}negative(){let c=this.coefficients.length,h=new Int32Array(c);for(let p=0;p<c;p++)h[p]=this.field.subtract(0,this.coefficients[p]);return new wr(this.field,h)}multiplyScalar(c){if(c===0)return new wr(this.field,new Int32Array([0]));if(c===1)return this;let h=this.coefficients.length,p=new Int32Array(h);for(let y=0;y<h;y++)p[y]=this.field.multiply(this.coefficients[y],c);return new wr(this.field,p)}multiplyByMonomial(c,h){if(c<0)throw new x;if(h===0)return new wr(this.field,new Int32Array([0]));let p=this.coefficients.length,y=new Int32Array(p+c);for(let b=0;b<p;b++)y[b]=this.field.multiply(this.coefficients[b],h);return new wr(this.field,y)}toString(){let c=new Q;for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);p!==0&&(p<0?(c.append(" - "),p=-p):c.length()>0&&c.append(" + "),(h===0||p!==1)&&c.append(p),h!==0&&(h===1?c.append("x"):(c.append("x^"),c.append(h))))}return c.toString()}}class No{add(c,h){return(c+h)%this.modulus}subtract(c,h){return(this.modulus+c-h)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new x;return this.logTable[c]}inverse(c){if(c===0)throw new ye;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,h){return c===0||h===0?0:this.expTable[(this.logTable[c]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class Pu extends No{constructor(c,h){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let p=1;for(let y=0;y<c;y++)this.expTable[y]=p,p=p*h%c;for(let y=0;y<c-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new wr(this,new Int32Array([0])),this.one=new wr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,h){if(c<0)throw new x;if(h===0)return this.zero;let p=new Int32Array(c+1);return p[0]=h,new wr(this,p)}}Pu.PDF417_GF=new Pu(Et.NUMBER_OF_CODEWORDS,3);class Ru{constructor(){this.field=Pu.PDF417_GF}decode(c,h,p){let y=new wr(this.field,c),b=new Int32Array(h),S=!1;for(let ge=h;ge>0;ge--){let ve=y.evaluateAt(this.field.exp(ge));b[h-ge]=ve,ve!==0&&(S=!0)}if(!S)return 0;let T=this.field.getOne();if(p!=null)for(const ge of p){let ve=this.field.exp(c.length-1-ge),Ce=new wr(this.field,new Int32Array([this.field.subtract(0,ve),1]));T=T.multiply(Ce)}let P=new wr(this.field,b),U=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),P,h),q=U[0],te=U[1],ne=this.findErrorLocations(q),le=this.findErrorMagnitudes(te,q,ne);for(let ge=0;ge<ne.length;ge++){let ve=c.length-1-this.field.log(ne[ge]);if(ve<0)throw _.getChecksumInstance();c[ve]=this.field.subtract(c[ve],le[ge])}return ne.length}runEuclideanAlgorithm(c,h,p){if(c.getDegree()<h.getDegree()){let ne=c;c=h,h=ne}let y=c,b=h,S=this.field.getZero(),T=this.field.getOne();for(;b.getDegree()>=Math.round(p/2);){let ne=y,le=S;if(y=b,S=T,y.isZero())throw _.getChecksumInstance();b=ne;let ge=this.field.getZero(),ve=y.getCoefficient(y.getDegree()),Ce=this.field.inverse(ve);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){let Le=b.getDegree()-y.getDegree(),Ze=this.field.multiply(b.getCoefficient(b.getDegree()),Ce);ge=ge.add(this.field.buildMonomial(Le,Ze)),b=b.subtract(y.multiplyByMonomial(Le,Ze))}T=ge.multiply(S).subtract(le).negative()}let P=T.getCoefficient(0);if(P===0)throw _.getChecksumInstance();let U=this.field.inverse(P),q=T.multiply(U),te=b.multiply(U);return[q,te]}findErrorLocations(c){let h=c.getDegree(),p=new Int32Array(h),y=0;for(let b=1;b<this.field.getSize()&&y<h;b++)c.evaluateAt(b)===0&&(p[y]=this.field.inverse(b),y++);if(y!==h)throw _.getChecksumInstance();return p}findErrorMagnitudes(c,h,p){let y=h.getDegree(),b=new Int32Array(y);for(let U=1;U<=y;U++)b[y-U]=this.field.multiply(U,h.getCoefficient(U));let S=new wr(this.field,b),T=p.length,P=new Int32Array(T);for(let U=0;U<T;U++){let q=this.field.inverse(p[U]),te=this.field.subtract(0,c.evaluateAt(q)),ne=this.field.inverse(S.evaluateAt(q));P[U]=this.field.multiply(te,ne)}return P}}class So{constructor(c,h,p,y,b){c instanceof So?this.constructor_2(c):this.constructor_1(c,h,p,y,b)}constructor_1(c,h,p,y,b){const S=h==null||p==null,T=y==null||b==null;if(S&&T)throw new G;S?(h=new ct(0,y.getY()),p=new ct(0,b.getY())):T&&(y=new ct(c.getWidth()-1,h.getY()),b=new ct(c.getWidth()-1,p.getY())),this.image=c,this.topLeft=h,this.bottomLeft=p,this.topRight=y,this.bottomRight=b,this.minX=Math.trunc(Math.min(h.getX(),p.getX())),this.maxX=Math.trunc(Math.max(y.getX(),b.getX())),this.minY=Math.trunc(Math.min(h.getY(),y.getY())),this.maxY=Math.trunc(Math.max(p.getY(),b.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,h){return c==null?h:h==null?c:new So(c.image,c.topLeft,c.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(c,h,p){let y=this.topLeft,b=this.bottomLeft,S=this.topRight,T=this.bottomRight;if(c>0){let P=p?this.topLeft:this.topRight,U=Math.trunc(P.getY()-c);U<0&&(U=0);let q=new ct(P.getX(),U);p?y=q:S=q}if(h>0){let P=p?this.bottomLeft:this.bottomRight,U=Math.trunc(P.getY()+h);U>=this.image.getHeight()&&(U=this.image.getHeight()-1);let q=new ct(P.getX(),U);p?b=q:T=q}return new So(this.image,y,b,S,T)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class sf{constructor(c,h,p,y){this.columnCount=c,this.errorCorrectionLevel=y,this.rowCountUpperPart=h,this.rowCountLowerPart=p,this.rowCount=h+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class _o{constructor(){this.buffer=""}static form(c,h){let p=-1;function y(S,T,P,U,q,te){if(S==="%%")return"%";if(h[++p]===void 0)return;S=U?parseInt(U.substr(1)):void 0;let ne=q?parseInt(q.substr(1)):void 0,le;switch(te){case"s":le=h[p];break;case"c":le=h[p][0];break;case"f":le=parseFloat(h[p]).toFixed(S);break;case"p":le=parseFloat(h[p]).toPrecision(S);break;case"e":le=parseFloat(h[p]).toExponential(S);break;case"x":le=parseInt(h[p]).toString(ne||16);break;case"d":le=parseFloat(parseInt(h[p],ne||10).toPrecision(S)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(ne);let ge=parseInt(P),ve=P&&P[0]+""=="0"?"0":" ";for(;le.length<ge;)le=T!==void 0?le+ve:ve+le;return le}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(b,y)}format(c,...h){this.buffer+=_o.form(c,h)}toString(){return this.buffer}}class oc{constructor(c){this.boundingBox=new So(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let h=this.getCodeword(c);if(h!=null)return h;for(let p=1;p<oc.MAX_NEARBY_DISTANCE;p++){let y=this.imageRowToCodewordIndex(c)-p;if(y>=0&&(h=this.codewords[y],h!=null)||(y=this.imageRowToCodewordIndex(c)+p,y<this.codewords.length&&(h=this.codewords[y],h!=null)))return h}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,h){this.codewords[this.imageRowToCodewordIndex(c)]=h}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new _o;let h=0;for(const p of this.codewords){if(p==null){c.format("%3d:    |   %n",h++);continue}c.format("%3d: %3d|%3d%n",h++,p.getRowNumber(),p.getValue())}return c.toString()}}oc.MAX_NEARBY_DISTANCE=5;class ea{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let h=this.values.get(c);h==null&&(h=0),h++,this.values.set(c,h)}getValue(){let c=-1,h=new Array;for(const[p,y]of this.values.entries()){const b={getKey:()=>p,getValue:()=>y};b.getValue()>c?(c=b.getValue(),h=[],h.push(b.getKey())):b.getValue()===c&&h.push(b.getKey())}return Et.toIntArray(h)}getConfidence(c){return this.values.get(c)}}class Eo extends oc{constructor(c,h){super(c),this._isLeft=h}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,c);let p=this.getBoundingBox(),y=this._isLeft?p.getTopLeft():p.getTopRight(),b=this._isLeft?p.getBottomLeft():p.getBottomRight(),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.imageRowToCodewordIndex(Math.trunc(b.getY())),P=-1,U=1,q=0;for(let te=S;te<T;te++){if(h[te]==null)continue;let ne=h[te],le=ne.getRowNumber()-P;if(le===0)q++;else if(le===1)U=Math.max(U,q),q=1,P=ne.getRowNumber();else if(le<0||ne.getRowNumber()>=c.getRowCount()||le>te)h[te]=null;else{let ge;U>2?ge=(U-2)*le:ge=le;let ve=ge>=te;for(let Ce=1;Ce<=ge&&!ve;Ce++)ve=h[te-Ce]!=null;ve?h[te]=null:(P=ne.getRowNumber(),q=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let h=new Int32Array(c.getRowCount());for(let p of this.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=h.length)continue;h[y]++}return h}adjustIncompleteIndicatorColumnRowNumbers(c){let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.getCodewords(),P=-1;for(let U=b;U<S;U++){if(T[U]==null)continue;let q=T[U];q.setRowNumberAsRowIndicatorColumn();let te=q.getRowNumber()-P;te===0||(te===1?P=q.getRowNumber():q.getRowNumber()>=c.getRowCount()?T[U]=null:P=q.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),h=new ea,p=new ea,y=new ea,b=new ea;for(let T of c){if(T==null)continue;T.setRowNumberAsRowIndicatorColumn();let P=T.getValue()%30,U=T.getRowNumber();switch(this._isLeft||(U+=2),U%3){case 0:p.setValue(P*3+1);break;case 1:b.setValue(P/3),y.setValue(P%3);break;case 2:h.setValue(P+1);break}}if(h.getValue().length===0||p.getValue().length===0||y.getValue().length===0||b.getValue().length===0||h.getValue()[0]<1||p.getValue()[0]+y.getValue()[0]<Et.MIN_ROWS_IN_BARCODE||p.getValue()[0]+y.getValue()[0]>Et.MAX_ROWS_IN_BARCODE)return null;let S=new sf(h.getValue()[0],p.getValue()[0],y.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(c,S),S}removeIncorrectCodewords(c,h){for(let p=0;p<c.length;p++){let y=c[p];if(c[p]==null)continue;let b=y.getValue()%30,S=y.getRowNumber();if(S>h.getRowCount()){c[p]=null;continue}switch(this._isLeft||(S+=2),S%3){case 0:b*3+1!==h.getRowCountUpperPart()&&(c[p]=null);break;case 1:(Math.trunc(b/3)!==h.getErrorCorrectionLevel()||b%3!==h.getRowCountLowerPart())&&(c[p]=null);break;case 2:b+1!==h.getColumnCount()&&(c[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ao{constructor(c,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=Et.MAX_CODEWORDS_IN_BARCODE,h;do h=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let p=this.detectionResultColumns[h].getCodewords();for(let y=0;y<p.length;y++)p[y]!=null&&(p[y].hasValidRowNumber()||this.adjustRowNumbers(h,y,p))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<c.length;p++)if(c[p]!=null&&h[p]!=null&&c[p].getRowNumber()===h[p].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let b=this.detectionResultColumns[y].getCodewords()[p];b!=null&&(b.setRowNumber(c[p].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let y=h[p].getRowNumber(),b=0;for(let S=this.barcodeColumnCount+1;S>0&&b<this.ADJUST_ROW_NUMBER_SKIP;S--){let T=this.detectionResultColumns[S].getCodewords()[p];T!=null&&(b=Ao.adjustRowNumberIfValid(y,b,T),T.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,h=this.detectionResultColumns[0].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let y=h[p].getRowNumber(),b=0;for(let S=1;S<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;S++){let T=this.detectionResultColumns[S].getCodewords()[p];T!=null&&(b=Ao.adjustRowNumberIfValid(y,b,T),T.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,h,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(c)?(p.setRowNumber(c),h=0):++h),h}adjustRowNumbers(c,h,p){if(!this.detectionResultColumns[c-1])return;let y=p[h],b=this.detectionResultColumns[c-1].getCodewords(),S=b;this.detectionResultColumns[c+1]!=null&&(S=this.detectionResultColumns[c+1].getCodewords());let T=new Array(14);T[2]=b[h],T[3]=S[h],h>0&&(T[0]=p[h-1],T[4]=b[h-1],T[5]=S[h-1]),h>1&&(T[8]=p[h-2],T[10]=b[h-2],T[11]=S[h-2]),h<p.length-1&&(T[1]=p[h+1],T[6]=b[h+1],T[7]=S[h+1]),h<p.length-2&&(T[9]=p[h+2],T[12]=b[h+2],T[13]=S[h+2]);for(let P of T)if(Ao.adjustRowNumber(y,P))return}static adjustRowNumber(c,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===c.getBucket()?(c.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,h){this.detectionResultColumns[c]=h}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new _o;for(let p=0;p<c.getCodewords().length;p++){h.format("CW %3d:",p);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){h.format("    |   ");continue}let b=this.detectionResultColumns[y].getCodewords()[p];if(b==null){h.format("    |   ");continue}h.format(" %3d|%3d",b.getRowNumber(),b.getValue())}h.format("%n")}return h.toString()}}class Ji{constructor(c,h,p,y){this.rowNumber=Ji.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(h),this.bucket=Math.trunc(p),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==Ji.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}Ji.BARCODE_ROW_UNKNOWN=-1;class Qa{static initialize(){for(let c=0;c<Et.SYMBOL_TABLE.length;c++){let h=Et.SYMBOL_TABLE[c],p=h&1;for(let y=0;y<Et.BARS_IN_MODULE;y++){let b=0;for(;(h&1)===p;)b+=1,h>>=1;p=h&1,Qa.RATIOS_TABLE[c]||(Qa.RATIOS_TABLE[c]=new Array(Et.BARS_IN_MODULE)),Qa.RATIOS_TABLE[c][Et.BARS_IN_MODULE-y-1]=Math.fround(b/Et.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let h=Qa.getDecodedCodewordValue(Qa.sampleBitCounts(c));return h!==-1?h:Qa.getClosestDecodedValue(c)}static sampleBitCounts(c){let h=it.sum(c),p=new Int32Array(Et.BARS_IN_MODULE),y=0,b=0;for(let S=0;S<Et.MODULES_IN_CODEWORD;S++){let T=h/(2*Et.MODULES_IN_CODEWORD)+S*h/Et.MODULES_IN_CODEWORD;b+c[y]<=T&&(b+=c[y],y++),p[y]++}return p}static getDecodedCodewordValue(c){let h=Qa.getBitValue(c);return Et.getCodeword(h)===-1?-1:h}static getBitValue(c){let h=0;for(let p=0;p<c.length;p++)for(let y=0;y<c[p];y++)h=h<<1|(p%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(c){let h=it.sum(c),p=new Array(Et.BARS_IN_MODULE);if(h>1)for(let S=0;S<p.length;S++)p[S]=Math.fround(c[S]/h);let y=xr.MAX_VALUE,b=-1;this.bSymbolTableReady||Qa.initialize();for(let S=0;S<Qa.RATIOS_TABLE.length;S++){let T=0,P=Qa.RATIOS_TABLE[S];for(let U=0;U<Et.BARS_IN_MODULE;U++){let q=Math.fround(P[U]-p[U]);if(T+=Math.fround(q*q),T>=y)break}T<y&&(y=T,b=Et.SYMBOL_TABLE[S])}return b}}Qa.bSymbolTableReady=!1,Qa.RATIOS_TABLE=new Array(Et.SYMBOL_TABLE.length).map(ee=>new Array(Et.BARS_IN_MODULE));class of{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class lf{static parseLong(c,h=void 0){return parseInt(c,h)}}class lc extends f{}lc.kind="NullPointerException";class cf{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,h,p){if(c==null)throw new lc;if(h<0||h>c.length||p<0||h+p>c.length||h+p<0)throw new E;if(p===0)return;for(let y=0;y<p;y++)this.write(c[h+y])}flush(){}close(){}}class p0 extends f{}class J1 extends cf{constructor(c=32){if(super(),this.count=0,c<0)throw new x("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let p=this.buf.length<<1;if(p-c<0&&(p=c),p<0){if(c<0)throw new p0;p=R.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,p)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,h,p){if(h<0||h>c.length||p<0||h+p-c.length>0)throw new E;this.ensureCapacity(this.count+p),A.arraycopy(c,h,this.buf,this.count,p),this.count+=p}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var On;(function(ee){ee[ee.ALPHA=0]="ALPHA",ee[ee.LOWER=1]="LOWER",ee[ee.MIXED=2]="MIXED",ee[ee.PUNCT=3]="PUNCT",ee[ee.ALPHA_SHIFT=4]="ALPHA_SHIFT",ee[ee.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(On||(On={}));function x0(){if(typeof window<"u")return window.BigInt||null;if(typeof wx<"u")return wx.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let cc;function Co(ee){if(typeof cc>"u"&&(cc=x0()),cc===null)throw new Error("BigInt is not supported!");return cc(ee)}function eb(){let ee=[];ee[0]=Co(1);let c=Co(900);ee[1]=c;for(let h=2;h<16;h++)ee[h]=ee[h-1]*c;return ee}class Fe{static decode(c,h){let p=new Q(""),y=L.ISO8859_1;p.enableDecoding(y);let b=1,S=c[b++],T=new of;for(;b<c[0];){switch(S){case Fe.TEXT_COMPACTION_MODE_LATCH:b=Fe.textCompaction(c,b,p);break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:b=Fe.byteCompaction(S,c,y,b,p);break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[b++]);break;case Fe.NUMERIC_COMPACTION_MODE_LATCH:b=Fe.numericCompaction(c,b,p);break;case Fe.ECI_CHARSET:L.getCharacterSetECIByValue(c[b++]);break;case Fe.ECI_GENERAL_PURPOSE:b+=2;break;case Fe.ECI_USER_DEFINED:b++;break;case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=Fe.decodeMacroBlock(c,b,T);break;case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:throw new F;default:b--,b=Fe.textCompaction(c,b,p);break}if(b<c.length)S=c[b++];else throw F.getFormatInstance()}if(p.length()===0)throw F.getFormatInstance();let P=new he(null,p.toString(),null,h);return P.setOther(T),P}static decodeMacroBlock(c,h,p){if(h+Fe.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw F.getFormatInstance();let y=new Int32Array(Fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let T=0;T<Fe.NUMBER_OF_SEQUENCE_CODEWORDS;T++,h++)y[T]=c[h];p.setSegmentIndex(R.parseInt(Fe.decodeBase900toBase10(y,Fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new Q;h=Fe.textCompaction(c,h,b),p.setFileId(b.toString());let S=-1;for(c[h]===Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(S=h+1);h<c[0];)switch(c[h]){case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,c[h]){case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let T=new Q;h=Fe.textCompaction(c,h+1,T),p.setFileName(T.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let P=new Q;h=Fe.textCompaction(c,h+1,P),p.setSender(P.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let U=new Q;h=Fe.textCompaction(c,h+1,U),p.setAddressee(U.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let q=new Q;h=Fe.numericCompaction(c,h+1,q),p.setSegmentCount(R.parseInt(q.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let te=new Q;h=Fe.numericCompaction(c,h+1,te),p.setTimestamp(lf.parseLong(te.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ne=new Q;h=Fe.numericCompaction(c,h+1,ne),p.setChecksum(R.parseInt(ne.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let le=new Q;h=Fe.numericCompaction(c,h+1,le),p.setFileSize(lf.parseLong(le.toString()));break;default:throw F.getFormatInstance()}break;case Fe.MACRO_PDF417_TERMINATOR:h++,p.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(S!==-1){let T=h-S;p.isLastSegment()&&T--,p.setOptionalData(D.copyOfRange(c,S,S+T))}return h}static textCompaction(c,h,p){let y=new Int32Array((c[0]-h)*2),b=new Int32Array((c[0]-h)*2),S=0,T=!1;for(;h<c[0]&&!T;){let P=c[h++];if(P<Fe.TEXT_COMPACTION_MODE_LATCH)y[S]=P/30,y[S+1]=P%30,S+=2;else switch(P){case Fe.TEXT_COMPACTION_MODE_LATCH:y[S++]=Fe.TEXT_COMPACTION_MODE_LATCH;break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:h--,T=!0;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[S]=Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,P=c[h++],b[S]=P,S++;break}}return Fe.decodeTextCompaction(y,b,S,p),h}static decodeTextCompaction(c,h,p,y){let b=On.ALPHA,S=On.ALPHA,T=0;for(;T<p;){let P=c[T],U="";switch(b){case On.ALPHA:if(P<26)U=String.fromCharCode(65+P);else switch(P){case 26:U=" ";break;case Fe.LL:b=On.LOWER;break;case Fe.ML:b=On.MIXED;break;case Fe.PS:S=b,b=On.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.LOWER:if(P<26)U=String.fromCharCode(97+P);else switch(P){case 26:U=" ";break;case Fe.AS:S=b,b=On.ALPHA_SHIFT;break;case Fe.ML:b=On.MIXED;break;case Fe.PS:S=b,b=On.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.MIXED:if(P<Fe.PL)U=Fe.MIXED_CHARS[P];else switch(P){case Fe.PL:b=On.PUNCT;break;case 26:U=" ";break;case Fe.LL:b=On.LOWER;break;case Fe.AL:b=On.ALPHA;break;case Fe.PS:S=b,b=On.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.PUNCT:if(P<Fe.PAL)U=Fe.PUNCT_CHARS[P];else switch(P){case Fe.PAL:b=On.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.ALPHA_SHIFT:if(b=S,P<26)U=String.fromCharCode(65+P);else switch(P){case 26:U=" ";break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.PUNCT_SHIFT:if(b=S,P<Fe.PAL)U=Fe.PUNCT_CHARS[P];else switch(P){case Fe.PAL:b=On.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break}U!==""&&y.append(U),T++}}static byteCompaction(c,h,p,y,b){let S=new J1,T=0,P=0,U=!1;switch(c){case Fe.BYTE_COMPACTION_MODE_LATCH:let q=new Int32Array(6),te=h[y++];for(;y<h[0]&&!U;)switch(q[T++]=te,P=900*P+te,te=h[y++],te){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:y--,U=!0;break;default:if(T%5===0&&T>0){for(let ne=0;ne<6;++ne)S.write(Number(Co(P)>>Co(8*(5-ne))));P=0,T=0}break}y===h[0]&&te<Fe.TEXT_COMPACTION_MODE_LATCH&&(q[T++]=te);for(let ne=0;ne<T;ne++)S.write(q[ne]);break;case Fe.BYTE_COMPACTION_MODE_LATCH_6:for(;y<h[0]&&!U;){let ne=h[y++];if(ne<Fe.TEXT_COMPACTION_MODE_LATCH)T++,P=900*P+ne;else switch(ne){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:y--,U=!0;break}if(T%5===0&&T>0){for(let le=0;le<6;++le)S.write(Number(Co(P)>>Co(8*(5-le))));P=0,T=0}}break}return b.append(W.decode(S.toByteArray(),p)),y}static numericCompaction(c,h,p){let y=0,b=!1,S=new Int32Array(Fe.MAX_NUMERIC_CODEWORDS);for(;h<c[0]&&!b;){let T=c[h++];if(h===c[0]&&(b=!0),T<Fe.TEXT_COMPACTION_MODE_LATCH)S[y]=T,y++;else switch(T){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:h--,b=!0;break}(y%Fe.MAX_NUMERIC_CODEWORDS===0||T===Fe.NUMERIC_COMPACTION_MODE_LATCH||b)&&y>0&&(p.append(Fe.decodeBase900toBase10(S,y)),y=0)}return h}static decodeBase900toBase10(c,h){let p=Co(0);for(let b=0;b<h;b++)p+=Fe.EXP900[h-b-1]*Co(c[b]);let y=p.toString();if(y.charAt(0)!=="1")throw new F;return y.substring(1)}}Fe.TEXT_COMPACTION_MODE_LATCH=900,Fe.BYTE_COMPACTION_MODE_LATCH=901,Fe.NUMERIC_COMPACTION_MODE_LATCH=902,Fe.BYTE_COMPACTION_MODE_LATCH_6=924,Fe.ECI_USER_DEFINED=925,Fe.ECI_GENERAL_PURPOSE=926,Fe.ECI_CHARSET=927,Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Fe.MACRO_PDF417_TERMINATOR=922,Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Fe.MAX_NUMERIC_CODEWORDS=15,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Fe.PL=25,Fe.LL=27,Fe.AS=27,Fe.ML=28,Fe.AL=28,Fe.PS=29,Fe.PAL=29,Fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Fe.EXP900=x0()?eb():[],Fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qt{constructor(){}static decode(c,h,p,y,b,S,T){let P=new So(c,h,p,y,b),U=null,q=null,te;for(let ge=!0;;ge=!1){if(h!=null&&(U=qt.getRowIndicatorColumn(c,P,h,!0,S,T)),y!=null&&(q=qt.getRowIndicatorColumn(c,P,y,!1,S,T)),te=qt.merge(U,q),te==null)throw G.getNotFoundInstance();let ve=te.getBoundingBox();if(ge&&ve!=null&&(ve.getMinY()<P.getMinY()||ve.getMaxY()>P.getMaxY()))P=ve;else break}te.setBoundingBox(P);let ne=te.getBarcodeColumnCount()+1;te.setDetectionResultColumn(0,U),te.setDetectionResultColumn(ne,q);let le=U!=null;for(let ge=1;ge<=ne;ge++){let ve=le?ge:ne-ge;if(te.getDetectionResultColumn(ve)!==void 0)continue;let Ce;ve===0||ve===ne?Ce=new Eo(P,ve===0):Ce=new oc(P),te.setDetectionResultColumn(ve,Ce);let Le=-1,Ze=Le;for(let tt=P.getMinY();tt<=P.getMaxY();tt++){if(Le=qt.getStartColumn(te,ve,tt,le),Le<0||Le>P.getMaxX()){if(Ze===-1)continue;Le=Ze}let Xe=qt.detectCodeword(c,P.getMinX(),P.getMaxX(),le,Le,tt,S,T);Xe!=null&&(Ce.setCodeword(tt,Xe),Ze=Le,S=Math.min(S,Xe.getWidth()),T=Math.max(T,Xe.getWidth()))}}return qt.createDecoderResult(te)}static merge(c,h){if(c==null&&h==null)return null;let p=qt.getBarcodeMetadata(c,h);if(p==null)return null;let y=So.merge(qt.adjustBoundingBox(c),qt.adjustBoundingBox(h));return new Ao(p,y)}static adjustBoundingBox(c){if(c==null)return null;let h=c.getRowHeights();if(h==null)return null;let p=qt.getMax(h),y=0;for(let T of h)if(y+=p-T,T>0)break;let b=c.getCodewords();for(let T=0;y>0&&b[T]==null;T++)y--;let S=0;for(let T=h.length-1;T>=0&&(S+=p-h[T],!(h[T]>0));T--);for(let T=b.length-1;S>0&&b[T]==null;T--)S--;return c.getBoundingBox().addMissingRows(y,S,c.isLeft())}static getMax(c){let h=-1;for(let p of c)h=Math.max(h,p);return h}static getBarcodeMetadata(c,h){let p;if(c==null||(p=c.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let y;return h==null||(y=h.getBarcodeMetadata())==null?p:p.getColumnCount()!==y.getColumnCount()&&p.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&p.getRowCount()!==y.getRowCount()?null:p}static getRowIndicatorColumn(c,h,p,y,b,S){let T=new Eo(h,y);for(let P=0;P<2;P++){let U=P===0?1:-1,q=Math.trunc(Math.trunc(p.getX()));for(let te=Math.trunc(Math.trunc(p.getY()));te<=h.getMaxY()&&te>=h.getMinY();te+=U){let ne=qt.detectCodeword(c,0,c.getWidth(),y,q,te,b,S);ne!=null&&(T.setCodeword(te,ne),y?q=ne.getStartX():q=ne.getEndX())}}return T}static adjustCodewordCount(c,h){let p=h[0][1],y=p.getValue(),b=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-qt.getNumberOfECCodeWords(c.getBarcodeECLevel());if(y.length===0){if(b<1||b>Et.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();p.setValue(b)}else y[0]!==b&&p.setValue(b)}static createDecoderResult(c){let h=qt.createBarcodeMatrix(c);qt.adjustCodewordCount(c,h);let p=new Array,y=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),b=[],S=new Array;for(let P=0;P<c.getBarcodeRowCount();P++)for(let U=0;U<c.getBarcodeColumnCount();U++){let q=h[P][U+1].getValue(),te=P*c.getBarcodeColumnCount()+U;q.length===0?p.push(te):q.length===1?y[te]=q[0]:(S.push(te),b.push(q))}let T=new Array(b.length);for(let P=0;P<T.length;P++)T[P]=b[P];return qt.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),y,Et.toIntArray(p),Et.toIntArray(S),T)}static createDecoderResultFromAmbiguousValues(c,h,p,y,b){let S=new Int32Array(y.length),T=100;for(;T-- >0;){for(let P=0;P<S.length;P++)h[y[P]]=b[P][S[P]];try{return qt.decodeCodewords(h,c,p)}catch(P){if(!(P instanceof _))throw P}if(S.length===0)throw _.getChecksumInstance();for(let P=0;P<S.length;P++)if(S[P]<b[P].length-1){S[P]++;break}else if(S[P]=0,P===S.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(c){let h=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let y=0;y<h.length;y++)for(let b=0;b<h[y].length;b++)h[y][b]=new ea;let p=0;for(let y of c.getDetectionResultColumns()){if(y!=null){for(let b of y.getCodewords())if(b!=null){let S=b.getRowNumber();if(S>=0){if(S>=h.length)continue;h[S][p].setValue(b.getValue())}}}p++}return h}static isValidBarcodeColumn(c,h){return h>=0&&h<=c.getBarcodeColumnCount()+1}static getStartColumn(c,h,p,y){let b=y?1:-1,S=null;if(qt.isValidBarcodeColumn(c,h-b)&&(S=c.getDetectionResultColumn(h-b).getCodeword(p)),S!=null)return y?S.getEndX():S.getStartX();if(S=c.getDetectionResultColumn(h).getCodewordNearby(p),S!=null)return y?S.getStartX():S.getEndX();if(qt.isValidBarcodeColumn(c,h-b)&&(S=c.getDetectionResultColumn(h-b).getCodewordNearby(p)),S!=null)return y?S.getEndX():S.getStartX();let T=0;for(;qt.isValidBarcodeColumn(c,h-b);){h-=b;for(let P of c.getDetectionResultColumn(h).getCodewords())if(P!=null)return(y?P.getEndX():P.getStartX())+b*T*(P.getEndX()-P.getStartX());T++}return y?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,h,p,y,b,S,T,P){b=qt.adjustCodewordStartColumn(c,h,p,y,b,S);let U=qt.getModuleBitCount(c,h,p,y,b,S);if(U==null)return null;let q,te=it.sum(U);if(y)q=b+te;else{for(let ge=0;ge<U.length/2;ge++){let ve=U[ge];U[ge]=U[U.length-1-ge],U[U.length-1-ge]=ve}q=b,b=q-te}if(!qt.checkCodewordSkew(te,T,P))return null;let ne=Qa.getDecodedValue(U),le=Et.getCodeword(ne);return le===-1?null:new Ji(b,q,qt.getCodewordBucketNumber(ne),le)}static getModuleBitCount(c,h,p,y,b,S){let T=b,P=new Int32Array(8),U=0,q=y?1:-1,te=y;for(;(y?T<p:T>=h)&&U<P.length;)c.get(T,S)===te?(P[U]++,T+=q):(U++,te=!te);return U===P.length||T===(y?p:h)&&U===P.length-1?P:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,h,p,y,b,S){let T=b,P=y?-1:1;for(let U=0;U<2;U++){for(;(y?T>=h:T<p)&&y===c.get(T,S);){if(Math.abs(b-T)>qt.CODEWORD_SKEW_SIZE)return b;T+=P}P=-P,y=!y}return T}static checkCodewordSkew(c,h,p){return h-qt.CODEWORD_SKEW_SIZE<=c&&c<=p+qt.CODEWORD_SKEW_SIZE}static decodeCodewords(c,h,p){if(c.length===0)throw F.getFormatInstance();let y=1<<h+1,b=qt.correctErrors(c,p,y);qt.verifyCodewordCount(c,y);let S=Fe.decode(c,""+h);return S.setErrorsCorrected(b),S.setErasures(p.length),S}static correctErrors(c,h,p){if(h!=null&&h.length>p/2+qt.MAX_ERRORS||p<0||p>qt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return qt.errorCorrection.decode(c,p,h)}static verifyCodewordCount(c,h){if(c.length<4)throw F.getFormatInstance();let p=c[0];if(p>c.length)throw F.getFormatInstance();if(p===0)if(h<c.length)c[0]=c.length-h;else throw F.getFormatInstance()}static getBitCountForCodeword(c){let h=new Int32Array(8),p=0,y=h.length-1;for(;!((c&1)!==p&&(p=c&1,y--,y<0));)h[y]++,c>>=1;return h}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return qt.getCodewordBucketNumber(qt.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let h=new _o;for(let p=0;p<c.length;p++){h.format("Row %2d: ",p);for(let y=0;y<c[p].length;y++){let b=c[p][y];b.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}h.format("%n")}return h.toString()}}qt.CODEWORD_SKEW_SIZE=2,qt.MAX_ERRORS=3,qt.MAX_EC_CODEWORDS=512,qt.errorCorrection=new Ru;class ma{decode(c,h=null){let p=ma.decode(c,h,!1);if(p==null||p.length===0||p[0]==null)throw G.getNotFoundInstance();return p[0]}decodeMultiple(c,h=null){try{return ma.decode(c,h,!0)}catch(p){throw p instanceof F||p instanceof _?G.getNotFoundInstance():p}}static decode(c,h,p){const y=new Array,b=zt.detectMultiple(c,h,p);for(const S of b.getPoints()){const T=qt.decode(b.getBits(),S[4],S[5],S[6],S[7],ma.getMinCodewordWidth(S),ma.getMaxCodewordWidth(S)),P=new xe(T.getText(),T.getRawBytes(),void 0,S,se.PDF_417);P.putMetadata(oe.ERROR_CORRECTION_LEVEL,T.getECLevel());const U=T.getOther();U!=null&&P.putMetadata(oe.PDF417_EXTRA_METADATA,U),y.push(P)}return y.map(S=>S)}static getMaxWidth(c,h){return c==null||h==null?0:Math.trunc(Math.abs(c.getX()-h.getX()))}static getMinWidth(c,h){return c==null||h==null?R.MAX_VALUE:Math.trunc(Math.abs(c.getX()-h.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(ma.getMaxWidth(c[0],c[4]),ma.getMaxWidth(c[6],c[2])*Et.MODULES_IN_CODEWORD/Et.MODULES_IN_STOP_PATTERN),Math.max(ma.getMaxWidth(c[1],c[5]),ma.getMaxWidth(c[7],c[3])*Et.MODULES_IN_CODEWORD/Et.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(ma.getMinWidth(c[0],c[4]),ma.getMinWidth(c[6],c[2])*Et.MODULES_IN_CODEWORD/Et.MODULES_IN_STOP_PATTERN),Math.min(ma.getMinWidth(c[1],c[5]),ma.getMinWidth(c[7],c[3])*Et.MODULES_IN_CODEWORD/Et.MODULES_IN_STOP_PATTERN)))}reset(){}}class ku extends f{}ku.kind="ReaderException";class v0{constructor(c,h){this.verbose=c===!0,h&&this.setHints(h)}decode(c,h){return h&&this.setHints(h),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const h=!r(c)&&c.get(k.TRY_HARDER)===!0,p=r(c)?null:c.get(k.POSSIBLE_FORMATS),y=new Array;if(!r(p)){const b=p.some(S=>S===se.UPC_A||S===se.UPC_E||S===se.EAN_13||S===se.EAN_8||S===se.CODABAR||S===se.CODE_39||S===se.CODE_93||S===se.CODE_128||S===se.ITF||S===se.RSS_14||S===se.RSS_EXPANDED);b&&!h&&y.push(new bo(c,this.verbose)),p.includes(se.QR_CODE)&&y.push(new Qi),p.includes(se.DATA_MATRIX)&&y.push(new Ws),p.includes(se.AZTEC)&&y.push(new Wi),p.includes(se.PDF_417)&&y.push(new ma),b&&h&&y.push(new bo(c,this.verbose))}y.length===0&&(h||y.push(new bo(c,this.verbose)),y.push(new Qi),y.push(new Ws),y.push(new Wi),y.push(new ma),h&&y.push(new bo(c,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new ku("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(c,this.hints)}catch(p){if(p instanceof ku)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class tb extends Se{constructor(c=null,h=500){const p=new v0;p.setHints(c),super(p,h)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class nb extends Se{constructor(c=500){super(new ma,c)}}class rb extends Se{constructor(c=500){super(new Qi,c)}}var Iu;(function(ee){ee[ee.ERROR_CORRECTION=0]="ERROR_CORRECTION",ee[ee.CHARACTER_SET=1]="CHARACTER_SET",ee[ee.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ee[ee.MIN_SIZE=3]="MIN_SIZE",ee[ee.MAX_SIZE=4]="MAX_SIZE",ee[ee.MARGIN=5]="MARGIN",ee[ee.PDF417_COMPACT=6]="PDF417_COMPACT",ee[ee.PDF417_COMPACTION=7]="PDF417_COMPACTION",ee[ee.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ee[ee.AZTEC_LAYERS=9]="AZTEC_LAYERS",ee[ee.QR_VERSION=10]="QR_VERSION"})(Iu||(Iu={}));var Ur=Iu;class jm{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new be(c,Int32Array.from([1])))}buildGenerator(c){const h=this.cachedGenerators;if(c>=h.length){let p=h[h.length-1];const y=this.field;for(let b=h.length;b<=c;b++){const S=p.multiply(new be(y,Int32Array.from([1,y.exp(b-1+y.getGeneratorBase())])));h.push(S),p=S}}return h[c]}encode(c,h){if(h===0)throw new x("No error correction bytes");const p=c.length-h;if(p<=0)throw new x("No data bytes provided");const y=this.buildGenerator(h),b=new Int32Array(p);A.arraycopy(c,0,b,0,p);let S=new be(this.field,b);S=S.multiplyByMonomial(h,1);const P=S.divide(y)[1].getCoefficients(),U=h-P.length;for(let q=0;q<U;q++)c[p+q]=0;A.arraycopy(P,0,c,p+U,P.length)}}class ur{constructor(){}static applyMaskPenaltyRule1(c){return ur.applyMaskPenaltyRule1Internal(c,!0)+ur.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let S=0;S<b-1;S++){const T=p[S];for(let P=0;P<y-1;P++){const U=T[P];U===T[P+1]&&U===p[S+1][P]&&U===p[S+1][P+1]&&h++}}return ur.N2*h}static applyMaskPenaltyRule3(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let S=0;S<b;S++)for(let T=0;T<y;T++){const P=p[S];T+6<y&&P[T]===1&&P[T+1]===0&&P[T+2]===1&&P[T+3]===1&&P[T+4]===1&&P[T+5]===0&&P[T+6]===1&&(ur.isWhiteHorizontal(P,T-4,T)||ur.isWhiteHorizontal(P,T+7,T+11))&&h++,S+6<b&&p[S][T]===1&&p[S+1][T]===0&&p[S+2][T]===1&&p[S+3][T]===1&&p[S+4][T]===1&&p[S+5][T]===0&&p[S+6][T]===1&&(ur.isWhiteVertical(p,T,S-4,S)||ur.isWhiteVertical(p,T,S+7,S+11))&&h++}return h*ur.N3}static isWhiteHorizontal(c,h,p){h=Math.max(h,0),p=Math.min(p,c.length);for(let y=h;y<p;y++)if(c[y]===1)return!1;return!0}static isWhiteVertical(c,h,p,y){p=Math.max(p,0),y=Math.min(y,c.length);for(let b=p;b<y;b++)if(c[b][h]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let P=0;P<b;P++){const U=p[P];for(let q=0;q<y;q++)U[q]===1&&h++}const S=c.getHeight()*c.getWidth();return Math.floor(Math.abs(h*2-S)*10/S)*ur.N4}static getDataMaskBit(c,h,p){let y,b;switch(c){case 0:y=p+h&1;break;case 1:y=p&1;break;case 2:y=h%3;break;case 3:y=(p+h)%3;break;case 4:y=Math.floor(p/2)+Math.floor(h/3)&1;break;case 5:b=p*h,y=(b&1)+b%3;break;case 6:b=p*h,y=(b&1)+b%3&1;break;case 7:b=p*h,y=b%3+(p+h&1)&1;break;default:throw new x("Invalid mask pattern: "+c)}return y===0}static applyMaskPenaltyRule1Internal(c,h){let p=0;const y=h?c.getHeight():c.getWidth(),b=h?c.getWidth():c.getHeight(),S=c.getArray();for(let T=0;T<y;T++){let P=0,U=-1;for(let q=0;q<b;q++){const te=h?S[T][q]:S[q][T];te===U?P++:(P>=5&&(p+=ur.N1+(P-5)),P=1,U=te)}P>=5&&(p+=ur.N1+(P-5))}return p}}ur.N1=3,ur.N2=3,ur.N3=40,ur.N4=10;class Lu{constructor(c,h){this.width=c,this.height=h;const p=new Array(h);for(let y=0;y!==h;y++)p[y]=new Uint8Array(c);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(c,h){return this.bytes[h][c]}getArray(){return this.bytes}setNumber(c,h,p){this.bytes[h][c]=p}setBoolean(c,h,p){this.bytes[h][c]=p?1:0}clear(c){for(const h of this.bytes)D.fill(h,c)}equals(c){if(!(c instanceof Lu))return!1;const h=c;if(this.width!==h.width||this.height!==h.height)return!1;for(let p=0,y=this.height;p<y;++p){const b=this.bytes[p],S=h.bytes[p];for(let T=0,P=this.width;T<P;++T)if(b[T]!==S[T])return!1}return!0}toString(){const c=new Q;for(let h=0,p=this.height;h<p;++h){const y=this.bytes[h];for(let b=0,S=this.width;b<S;++b)switch(y[b]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class ul{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new Q;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<ul.NUM_MASK_PATTERNS}}ul.NUM_MASK_PATTERNS=8;class Dn extends f{}Dn.kind="WriterException";class Ct{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,h,p,y,b){Ct.clearMatrix(b),Ct.embedBasicPatterns(p,b),Ct.embedTypeInfo(h,y,b),Ct.maybeEmbedVersionInfo(p,b),Ct.embedDataBits(c,y,b)}static embedBasicPatterns(c,h){Ct.embedPositionDetectionPatternsAndSeparators(h),Ct.embedDarkDotAtLeftBottomCorner(h),Ct.maybeEmbedPositionAdjustmentPatterns(c,h),Ct.embedTimingPatterns(h)}static embedTypeInfo(c,h,p){const y=new z;Ct.makeTypeInfoBits(c,h,y);for(let b=0,S=y.getSize();b<S;++b){const T=y.get(y.getSize()-1-b),P=Ct.TYPE_INFO_COORDINATES[b],U=P[0],q=P[1];if(p.setBoolean(U,q,T),b<8){const te=p.getWidth()-b-1;p.setBoolean(te,8,T)}else{const ne=p.getHeight()-7+(b-8);p.setBoolean(8,ne,T)}}}static maybeEmbedVersionInfo(c,h){if(c.getVersionNumber()<7)return;const p=new z;Ct.makeVersionInfoBits(c,p);let y=17;for(let b=0;b<6;++b)for(let S=0;S<3;++S){const T=p.get(y);y--,h.setBoolean(b,h.getHeight()-11+S,T),h.setBoolean(h.getHeight()-11+S,b,T)}}static embedDataBits(c,h,p){let y=0,b=-1,S=p.getWidth()-1,T=p.getHeight()-1;for(;S>0;){for(S===6&&(S-=1);T>=0&&T<p.getHeight();){for(let P=0;P<2;++P){const U=S-P;if(!Ct.isEmpty(p.get(U,T)))continue;let q;y<c.getSize()?(q=c.get(y),++y):q=!1,h!==255&&ur.getDataMaskBit(h,U,T)&&(q=!q),p.setBoolean(U,T,q)}T+=b}b=-b,T+=b,S-=2}if(y!==c.getSize())throw new Dn("Not all bits consumed: "+y+"/"+c.getSize())}static findMSBSet(c){return 32-R.numberOfLeadingZeros(c)}static calculateBCHCode(c,h){if(h===0)throw new x("0 polynomial");const p=Ct.findMSBSet(h);for(c<<=p-1;Ct.findMSBSet(c)>=p;)c^=h<<Ct.findMSBSet(c)-p;return c}static makeTypeInfoBits(c,h,p){if(!ul.isValidMaskPattern(h))throw new Dn("Invalid mask pattern");const y=c.getBits()<<3|h;p.appendBits(y,5);const b=Ct.calculateBCHCode(y,Ct.TYPE_INFO_POLY);p.appendBits(b,10);const S=new z;if(S.appendBits(Ct.TYPE_INFO_MASK_PATTERN,15),p.xor(S),p.getSize()!==15)throw new Dn("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(c,h){h.appendBits(c.getVersionNumber(),6);const p=Ct.calculateBCHCode(c.getVersionNumber(),Ct.VERSION_INFO_POLY);if(h.appendBits(p,12),h.getSize()!==18)throw new Dn("should not happen but we got: "+h.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let h=8;h<c.getWidth()-8;++h){const p=(h+1)%2;Ct.isEmpty(c.get(h,6))&&c.setNumber(h,6,p),Ct.isEmpty(c.get(6,h))&&c.setNumber(6,h,p)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new Dn;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,h,p){for(let y=0;y<8;++y){if(!Ct.isEmpty(p.get(c+y,h)))throw new Dn;p.setNumber(c+y,h,0)}}static embedVerticalSeparationPattern(c,h,p){for(let y=0;y<7;++y){if(!Ct.isEmpty(p.get(c,h+y)))throw new Dn;p.setNumber(c,h+y,0)}}static embedPositionAdjustmentPattern(c,h,p){for(let y=0;y<5;++y){const b=Ct.POSITION_ADJUSTMENT_PATTERN[y];for(let S=0;S<5;++S)p.setNumber(c+S,h+y,b[S])}}static embedPositionDetectionPattern(c,h,p){for(let y=0;y<7;++y){const b=Ct.POSITION_DETECTION_PATTERN[y];for(let S=0;S<7;++S)p.setNumber(c+S,h+y,b[S])}}static embedPositionDetectionPatternsAndSeparators(c){const h=Ct.POSITION_DETECTION_PATTERN[0].length;Ct.embedPositionDetectionPattern(0,0,c),Ct.embedPositionDetectionPattern(c.getWidth()-h,0,c),Ct.embedPositionDetectionPattern(0,c.getWidth()-h,c);const p=8;Ct.embedHorizontalSeparationPattern(0,p-1,c),Ct.embedHorizontalSeparationPattern(c.getWidth()-p,p-1,c),Ct.embedHorizontalSeparationPattern(0,c.getWidth()-p,c);const y=7;Ct.embedVerticalSeparationPattern(y,0,c),Ct.embedVerticalSeparationPattern(c.getHeight()-y-1,0,c),Ct.embedVerticalSeparationPattern(y,c.getHeight()-y,c)}static maybeEmbedPositionAdjustmentPatterns(c,h){if(c.getVersionNumber()<2)return;const p=c.getVersionNumber()-1,y=Ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let b=0,S=y.length;b!==S;b++){const T=y[b];if(T>=0)for(let P=0;P!==S;P++){const U=y[P];U>=0&&Ct.isEmpty(h.get(U,T))&&Ct.embedPositionAdjustmentPattern(U-2,T-2,h)}}}}Ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ct.VERSION_INFO_POLY=7973,Ct.TYPE_INFO_POLY=1335,Ct.TYPE_INFO_MASK_PATTERN=21522;class ab{constructor(c,h){this.dataBytes=c,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class qn{constructor(){}static calculateMaskPenalty(c){return ur.applyMaskPenaltyRule1(c)+ur.applyMaskPenaltyRule2(c)+ur.applyMaskPenaltyRule3(c)+ur.applyMaskPenaltyRule4(c)}static encode(c,h,p=null){let y=qn.DEFAULT_BYTE_MODE_ENCODING;const b=p!==null&&p.get(Ur.CHARACTER_SET)!==void 0;b&&(y=p.get(Ur.CHARACTER_SET).toString());const S=this.chooseMode(c,y),T=new z;if(S===jt.BYTE&&(b||qn.DEFAULT_BYTE_MODE_ENCODING!==y)){const tt=L.getCharacterSetECIByName(y);tt!==void 0&&this.appendECI(tt,T)}this.appendModeInfo(S,T);const P=new z;this.appendBytes(c,S,P,y);let U;if(p!==null&&p.get(Ur.QR_VERSION)!==void 0){const tt=Number.parseInt(p.get(Ur.QR_VERSION).toString(),10);U=wt.getVersionForNumber(tt);const Xe=this.calculateBitsNeeded(S,T,P,U);if(!this.willFit(Xe,U,h))throw new Dn("Data too big for requested version")}else U=this.recommendVersion(h,S,T,P);const q=new z;q.appendBitArray(T);const te=S===jt.BYTE?P.getSizeInBytes():c.length;this.appendLengthInfo(te,U,S,q),q.appendBitArray(P);const ne=U.getECBlocksForLevel(h),le=U.getTotalCodewords()-ne.getTotalECCodewords();this.terminateBits(le,q);const ge=this.interleaveWithECBytes(q,U.getTotalCodewords(),le,ne.getNumBlocks()),ve=new ul;ve.setECLevel(h),ve.setMode(S),ve.setVersion(U);const Ce=U.getDimensionForVersion(),Le=new Lu(Ce,Ce),Ze=this.chooseMaskPattern(ge,h,U,Le);return ve.setMaskPattern(Ze),Ct.buildMatrix(ge,h,U,Ze,Le),ve.setMatrix(Le),ve}static recommendVersion(c,h,p,y){const b=this.calculateBitsNeeded(h,p,y,wt.getVersionForNumber(1)),S=this.chooseVersion(b,c),T=this.calculateBitsNeeded(h,p,y,S);return this.chooseVersion(T,c)}static calculateBitsNeeded(c,h,p,y){return h.getSize()+c.getCharacterCountBits(y)+p.getSize()}static getAlphanumericCode(c){return c<qn.ALPHANUMERIC_TABLE.length?qn.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,h=null){if(L.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(c))return jt.KANJI;let p=!1,y=!1;for(let b=0,S=c.length;b<S;++b){const T=c.charAt(b);if(qn.isDigit(T))p=!0;else if(this.getAlphanumericCode(T.charCodeAt(0))!==-1)y=!0;else return jt.BYTE}return y?jt.ALPHANUMERIC:p?jt.NUMERIC:jt.BYTE}static isOnlyDoubleByteKanji(c){let h;try{h=W.encode(c,L.SJIS)}catch{return!1}const p=h.length;if(p%2!==0)return!1;for(let y=0;y<p;y+=2){const b=h[y]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(c,h,p,y){let b=Number.MAX_SAFE_INTEGER,S=-1;for(let T=0;T<ul.NUM_MASK_PATTERNS;T++){Ct.buildMatrix(c,h,p,T,y);let P=this.calculateMaskPenalty(y);P<b&&(b=P,S=T)}return S}static chooseVersion(c,h){for(let p=1;p<=40;p++){const y=wt.getVersionForNumber(p);if(qn.willFit(c,y,h))return y}throw new Dn("Data too big")}static willFit(c,h,p){const y=h.getTotalCodewords(),S=h.getECBlocksForLevel(p).getTotalECCodewords(),T=y-S,P=(c+7)/8;return T>=P}static terminateBits(c,h){const p=c*8;if(h.getSize()>p)throw new Dn("data bits cannot fit in the QR Code"+h.getSize()+" > "+p);for(let S=0;S<4&&h.getSize()<p;++S)h.appendBit(!1);const y=h.getSize()&7;if(y>0)for(let S=y;S<8;S++)h.appendBit(!1);const b=c-h.getSizeInBytes();for(let S=0;S<b;++S)h.appendBits((S&1)===0?236:17,8);if(h.getSize()!==p)throw new Dn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,h,p,y,b,S){if(y>=p)throw new Dn("Block ID too large");const T=c%p,P=p-T,U=Math.floor(c/p),q=U+1,te=Math.floor(h/p),ne=te+1,le=U-te,ge=q-ne;if(le!==ge)throw new Dn("EC bytes mismatch");if(p!==P+T)throw new Dn("RS blocks mismatch");if(c!==(te+le)*P+(ne+ge)*T)throw new Dn("Total bytes mismatch");y<P?(b[0]=te,S[0]=le):(b[0]=ne,S[0]=ge)}static interleaveWithECBytes(c,h,p,y){if(c.getSizeInBytes()!==p)throw new Dn("Number of bits and data bytes does not match");let b=0,S=0,T=0;const P=new Array;for(let q=0;q<y;++q){const te=new Int32Array(1),ne=new Int32Array(1);qn.getNumDataBytesAndNumECBytesForBlockID(h,p,y,q,te,ne);const le=te[0],ge=new Uint8Array(le);c.toBytes(8*b,ge,0,le);const ve=qn.generateECBytes(ge,ne[0]);P.push(new ab(ge,ve)),S=Math.max(S,le),T=Math.max(T,ve.length),b+=te[0]}if(p!==b)throw new Dn("Data bytes does not match offset");const U=new z;for(let q=0;q<S;++q)for(const te of P){const ne=te.getDataBytes();q<ne.length&&U.appendBits(ne[q],8)}for(let q=0;q<T;++q)for(const te of P){const ne=te.getErrorCorrectionBytes();q<ne.length&&U.appendBits(ne[q],8)}if(h!==U.getSizeInBytes())throw new Dn("Interleaving error: "+h+" and "+U.getSizeInBytes()+" differ.");return U}static generateECBytes(c,h){const p=c.length,y=new Int32Array(p+h);for(let S=0;S<p;S++)y[S]=c[S]&255;new jm(Ke.QR_CODE_FIELD_256).encode(y,h);const b=new Uint8Array(h);for(let S=0;S<h;S++)b[S]=y[p+S];return b}static appendModeInfo(c,h){h.appendBits(c.getBits(),4)}static appendLengthInfo(c,h,p,y){const b=p.getCharacterCountBits(h);if(c>=1<<b)throw new Dn(c+" is bigger than "+((1<<b)-1));y.appendBits(c,b)}static appendBytes(c,h,p,y){switch(h){case jt.NUMERIC:qn.appendNumericBytes(c,p);break;case jt.ALPHANUMERIC:qn.appendAlphanumericBytes(c,p);break;case jt.BYTE:qn.append8BitBytes(c,p,y);break;case jt.KANJI:qn.appendKanjiBytes(c,p);break;default:throw new Dn("Invalid mode: "+h)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const h=qn.getDigit(c);return h>=0&&h<=9}static appendNumericBytes(c,h){const p=c.length;let y=0;for(;y<p;){const b=qn.getDigit(c.charAt(y));if(y+2<p){const S=qn.getDigit(c.charAt(y+1)),T=qn.getDigit(c.charAt(y+2));h.appendBits(b*100+S*10+T,10),y+=3}else if(y+1<p){const S=qn.getDigit(c.charAt(y+1));h.appendBits(b*10+S,7),y+=2}else h.appendBits(b,4),y++}}static appendAlphanumericBytes(c,h){const p=c.length;let y=0;for(;y<p;){const b=qn.getAlphanumericCode(c.charCodeAt(y));if(b===-1)throw new Dn;if(y+1<p){const S=qn.getAlphanumericCode(c.charCodeAt(y+1));if(S===-1)throw new Dn;h.appendBits(b*45+S,11),y+=2}else h.appendBits(b,6),y++}}static append8BitBytes(c,h,p){let y;try{y=W.encode(c,p)}catch(b){throw new Dn(b)}for(let b=0,S=y.length;b!==S;b++){const T=y[b];h.appendBits(T,8)}}static appendKanjiBytes(c,h){let p;try{p=W.encode(c,L.SJIS)}catch(b){throw new Dn(b)}const y=p.length;for(let b=0;b<y;b+=2){const S=p[b]&255,T=p[b+1]&255,P=S<<8&4294967295|T;let U=-1;if(P>=33088&&P<=40956?U=P-33088:P>=57408&&P<=60351&&(U=P-49472),U===-1)throw new Dn("Invalid byte sequence");const q=(U>>8)*192+(U&255);h.appendBits(q,13)}}static appendECI(c,h){h.appendBits(jt.ECI.getBits(),4),h.appendBits(c.getValue(),8)}}qn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),qn.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class dl{write(c,h,p,y=null){if(c.length===0)throw new x("Found empty contents");if(h<0||p<0)throw new x("Requested dimensions are too small: "+h+"x"+p);let b=Tn.L,S=dl.QUIET_ZONE_SIZE;y!==null&&(y.get(Ur.ERROR_CORRECTION)!==void 0&&(b=Tn.fromString(y.get(Ur.ERROR_CORRECTION).toString())),y.get(Ur.MARGIN)!==void 0&&(S=Number.parseInt(y.get(Ur.MARGIN).toString(),10)));const T=qn.encode(c,b,y);return this.renderResult(T,h,p,S)}writeToDom(c,h,p,y,b=null){typeof c=="string"&&(c=document.querySelector(c));const S=this.write(h,p,y,b);c&&c.appendChild(S)}renderResult(c,h,p,y){const b=c.getMatrix();if(b===null)throw new Qe;const S=b.getWidth(),T=b.getHeight(),P=S+y*2,U=T+y*2,q=Math.max(h,P),te=Math.max(p,U),ne=Math.min(Math.floor(q/P),Math.floor(te/U)),le=Math.floor((q-S*ne)/2),ge=Math.floor((te-T*ne)/2),ve=this.createSVGElement(q,te);for(let Ce=0,Le=ge;Ce<T;Ce++,Le+=ne)for(let Ze=0,tt=le;Ze<S;Ze++,tt+=ne)if(b.get(Ze,Ce)===1){const Xe=this.createSvgRectElement(tt,Le,ne,ne);ve.appendChild(Xe)}return ve}createSVGElement(c,h){const p=document.createElementNS(dl.SVG_NS,"svg");return p.setAttributeNS(null,"height",c.toString()),p.setAttributeNS(null,"width",h.toString()),p}createSvgRectElement(c,h,p,y){const b=document.createElementNS(dl.SVG_NS,"rect");return b.setAttributeNS(null,"x",c.toString()),b.setAttributeNS(null,"y",h.toString()),b.setAttributeNS(null,"height",p.toString()),b.setAttributeNS(null,"width",y.toString()),b.setAttributeNS(null,"fill","#000000"),b}}dl.QUIET_ZONE_SIZE=4,dl.SVG_NS="http://www.w3.org/2000/svg";class uc{encode(c,h,p,y,b){if(c.length===0)throw new x("Found empty contents");if(h!==se.QR_CODE)throw new x("Can only encode QR_CODE, but got "+h);if(p<0||y<0)throw new x(`Requested dimensions are too small: ${p}x${y}`);let S=Tn.L,T=uc.QUIET_ZONE_SIZE;b!==null&&(b.get(Ur.ERROR_CORRECTION)!==void 0&&(S=Tn.fromString(b.get(Ur.ERROR_CORRECTION).toString())),b.get(Ur.MARGIN)!==void 0&&(T=Number.parseInt(b.get(Ur.MARGIN).toString(),10)));const P=qn.encode(c,S,b);return uc.renderResult(P,p,y,T)}static renderResult(c,h,p,y){const b=c.getMatrix();if(b===null)throw new Qe;const S=b.getWidth(),T=b.getHeight(),P=S+y*2,U=T+y*2,q=Math.max(h,P),te=Math.max(p,U),ne=Math.min(Math.floor(q/P),Math.floor(te/U)),le=Math.floor((q-S*ne)/2),ge=Math.floor((te-T*ne)/2),ve=new X(q,te);for(let Ce=0,Le=ge;Ce<T;Ce++,Le+=ne)for(let Ze=0,tt=le;Ze<S;Ze++,tt+=ne)b.get(Ze,Ce)===1&&ve.setRegion(tt,Le,ne,ne);return ve}}uc.QUIET_ZONE_SIZE=4;class sb{encode(c,h,p,y,b){let S;switch(h){case se.QR_CODE:S=new uc;break;default:throw new x("No encoder available for format "+h)}return S.encode(c,h,p,y,b)}}class bi extends Z{constructor(c,h,p,y,b,S,T,P){if(super(S,T),this.yuvData=c,this.dataWidth=h,this.dataHeight=p,this.left=y,this.top=b,y+S>h||b+T>p)throw new x("Crop rectangle does not fit within image data.");P&&this.reverseHorizontal(S,T)}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const y=(c+this.top)*this.dataWidth+this.left;return A.arraycopy(this.yuvData,y,h,0,p),h}getMatrix(){const c=this.getWidth(),h=this.getHeight();if(c===this.dataWidth&&h===this.dataHeight)return this.yuvData;const p=c*h,y=new Uint8ClampedArray(p);let b=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return A.arraycopy(this.yuvData,b,y,0,p),y;for(let S=0;S<h;S++){const T=S*c;A.arraycopy(this.yuvData,b,y,T,c),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(c,h,p,y){return new bi(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+h,p,y,!1)}renderThumbnail(){const c=this.getWidth()/bi.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/bi.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(c*h),y=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let S=0;S<h;S++){const T=S*c;for(let P=0;P<c;P++){const U=y[b+P*bi.THUMBNAIL_SCALE_FACTOR]&255;p[T+P]=4278190080|U*65793}b+=this.dataWidth*bi.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/bi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/bi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,h){const p=this.yuvData;for(let y=0,b=this.top*this.dataWidth+this.left;y<h;y++,b+=this.dataWidth){const S=b+c/2;for(let T=b,P=b+c-1;T<S;T++,P--){const U=p[T];p[T]=p[P],p[P]=U}}}invert(){return new de(this)}}bi.THUMBNAIL_SCALE_FACTOR=2;class Bu extends Z{constructor(c,h,p,y,b,S,T){if(super(h,p),this.dataWidth=y,this.dataHeight=b,this.left=S,this.top=T,c.BYTES_PER_ELEMENT===4){const P=h*p,U=new Uint8ClampedArray(P);for(let q=0;q<P;q++){const te=c[q],ne=te>>16&255,le=te>>7&510,ge=te&255;U[q]=(ne+le+ge)/4&255}this.luminances=U}else this.luminances=c;if(y===void 0&&(this.dataWidth=h),b===void 0&&(this.dataHeight=p),S===void 0&&(this.left=0),T===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+p>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const y=(c+this.top)*this.dataWidth+this.left;return A.arraycopy(this.luminances,y,h,0,p),h}getMatrix(){const c=this.getWidth(),h=this.getHeight();if(c===this.dataWidth&&h===this.dataHeight)return this.luminances;const p=c*h,y=new Uint8ClampedArray(p);let b=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return A.arraycopy(this.luminances,b,y,0,p),y;for(let S=0;S<h;S++){const T=S*c;A.arraycopy(this.luminances,b,y,T,c),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(c,h,p,y){return new Bu(this.luminances,p,y,this.dataWidth,this.dataHeight,this.left+c,this.top+h)}invert(){return new de(this)}}class dc extends L{static forName(c){return this.getCharacterSetECIByName(c)}}class Nm{}Nm.ISO_8859_1=L.ISO8859_1;class Sm{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class _m{static singletonList(c){return[c]}static min(c,h){return c.sort(h)[0]}}class y0{constructor(c){this.previous=c}getPrevious(){return this.previous}}class fl extends y0{constructor(c,h,p){super(c),this.value=h,this.bitCount=p}appendTo(c,h){c.appendBits(this.value,this.bitCount)}add(c,h){return new fl(this,c,h)}addBinaryShift(c,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new fl(this,c,h)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+R.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class uf extends fl{constructor(c,h,p){super(c,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=p}appendTo(c,h){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):p===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(h[this.binaryShiftStart+p],8)}addBinaryShift(c,h){return new uf(this,c,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function fc(ee,c,h){return new uf(ee,c,h)}function Fu(ee,c,h){return new fl(ee,c,h)}const ib=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],To=0,Uu=1,ys=2,hc=3,Za=4,ob=new fl(null,0,0),mc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function b0(ee){for(let c of ee)D.fill(c,-1);return ee[To][Za]=0,ee[Uu][Za]=0,ee[Uu][To]=28,ee[hc][Za]=0,ee[ys][Za]=0,ee[ys][To]=15,ee}const Em=b0(D.createInt32Array(6,6));class Ms{constructor(c,h,p,y){this.token=c,this.mode=h,this.binaryShiftByteCount=p,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,h){let p=this.bitCount,y=this.token;if(c!==this.mode){let S=mc[this.mode][c];y=Fu(y,S&65535,S>>16),p+=S>>16}let b=c===ys?4:5;return y=Fu(y,h,b),new Ms(y,c,0,p+b)}shiftAndAppend(c,h){let p=this.token,y=this.mode===ys?4:5;return p=Fu(p,Em[this.mode][c],y),p=Fu(p,h,5),new Ms(p,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(c){let h=this.token,p=this.mode,y=this.bitCount;if(this.mode===Za||this.mode===ys){let T=mc[p][To];h=Fu(h,T&65535,T>>16),y+=T>>16,p=To}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,S=new Ms(h,p,this.binaryShiftByteCount+1,y+b);return S.binaryShiftByteCount===2078&&(S=S.endBinaryShift(c+1)),S}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=fc(h,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ms(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let h=this.bitCount+(mc[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?h+=Ms.calculateBinaryShiftCost(c)-Ms.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(h+=10),h<=c.bitCount}toBitArray(c){let h=[];for(let y=this.endBinaryShift(c.length).token;y!==null;y=y.getPrevious())h.unshift(y);let p=new z;for(const y of h)y.appendTo(p,c);return p}toString(){return Y.format("%s bits=%d bytes=%d",ib[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}Ms.INITIAL_STATE=new Ms(ob,To,0,0);function Am(ee){const c=Y.getCharCode(" "),h=Y.getCharCode("."),p=Y.getCharCode(",");ee[To][c]=1;const y=Y.getCharCode("Z"),b=Y.getCharCode("A");for(let ne=b;ne<=y;ne++)ee[To][ne]=ne-b+2;ee[Uu][c]=1;const S=Y.getCharCode("z"),T=Y.getCharCode("a");for(let ne=T;ne<=S;ne++)ee[Uu][ne]=ne-T+2;ee[ys][c]=1;const P=Y.getCharCode("9"),U=Y.getCharCode("0");for(let ne=U;ne<=P;ne++)ee[ys][ne]=ne-U+2;ee[ys][p]=12,ee[ys][h]=13;const q=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ne=0;ne<q.length;ne++)ee[hc][Y.getCharCode(q[ne])]=ne;const te=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ne=0;ne<te.length;ne++)Y.getCharCode(te[ne])>0&&(ee[Za][Y.getCharCode(te[ne])]=ne);return ee}const df=Am(D.createInt32Array(5,256));class gc{constructor(c){this.text=c}encode(){const c=Y.getCharCode(" "),h=Y.getCharCode(`
`);let p=_m.singletonList(Ms.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let S,T=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case Y.getCharCode("\r"):S=T===h?2:0;break;case Y.getCharCode("."):S=T===c?3:0;break;case Y.getCharCode(","):S=T===c?4:0;break;case Y.getCharCode(":"):S=T===c?5:0;break;default:S=0}S>0?(p=gc.updateStateListForPair(p,b,S),b++):p=this.updateStateListForChar(p,b)}return _m.min(p,(b,S)=>b.getBitCount()-S.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,h){const p=[];for(let y of c)this.updateStateForChar(y,h,p);return gc.simplifyStates(p)}updateStateForChar(c,h,p){let y=this.text[h]&255,b=df[c.getMode()][y]>0,S=null;for(let T=0;T<=Za;T++){let P=df[T][y];if(P>0){if(S==null&&(S=c.endBinaryShift(h)),!b||T===c.getMode()||T===ys){const U=S.latchAndAppend(T,P);p.push(U)}if(!b&&Em[c.getMode()][T]>=0){const U=S.shiftAndAppend(T,P);p.push(U)}}}if(c.getBinaryShiftByteCount()>0||df[c.getMode()][y]===0){let T=c.addBinaryShiftChar(h);p.push(T)}}static updateStateListForPair(c,h,p){const y=[];for(let b of c)this.updateStateForPair(b,h,p,y);return this.simplifyStates(y)}static updateStateForPair(c,h,p,y){let b=c.endBinaryShift(h);if(y.push(b.latchAndAppend(Za,p)),c.getMode()!==Za&&y.push(b.shiftAndAppend(Za,p)),p===3||p===4){let S=b.latchAndAppend(ys,16-p).latchAndAppend(ys,1);y.push(S)}if(c.getBinaryShiftByteCount()>0){let S=c.addBinaryShiftChar(h).addBinaryShiftChar(h+1);y.push(S)}}static simplifyStates(c){let h=[];for(const p of c){let y=!0;for(const b of h){if(b.isBetterThanOrEqualTo(p)){y=!1;break}p.isBetterThanOrEqualTo(b)&&(h=h.filter(S=>S!==b))}y&&h.push(p)}return h}}class on{constructor(){}static encodeBytes(c){return on.encode(c,on.DEFAULT_EC_PERCENT,on.DEFAULT_AZTEC_LAYERS)}static encode(c,h,p){let y=new gc(c).encode(),b=R.truncDivision(y.getSize()*h,100)+11,S=y.getSize()+b,T,P,U,q,te;if(p!==on.DEFAULT_AZTEC_LAYERS){if(T=p<0,P=Math.abs(p),P>(T?on.MAX_NB_BITS_COMPACT:on.MAX_NB_BITS))throw new x(Y.format("Illegal value %s for layers",p));U=on.totalBitsInLayer(P,T),q=on.WORD_SIZE[P];let Xe=U-U%q;if(te=on.stuffBits(y,q),te.getSize()+b>Xe)throw new x("Data to large for user specified layer");if(T&&te.getSize()>q*64)throw new x("Data to large for user specified layer")}else{q=0,te=null;for(let Xe=0;;Xe++){if(Xe>on.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(T=Xe<=3,P=T?Xe+1:Xe,U=on.totalBitsInLayer(P,T),S>U)continue;(te==null||q!==on.WORD_SIZE[P])&&(q=on.WORD_SIZE[P],te=on.stuffBits(y,q));let Vt=U-U%q;if(!(T&&te.getSize()>q*64)&&te.getSize()+b<=Vt)break}}let ne=on.generateCheckWords(te,U,q),le=te.getSize()/q,ge=on.generateModeMessage(T,P,le),ve=(T?11:14)+P*4,Ce=new Int32Array(ve),Le;if(T){Le=ve;for(let Xe=0;Xe<Ce.length;Xe++)Ce[Xe]=Xe}else{Le=ve+1+2*R.truncDivision(R.truncDivision(ve,2)-1,15);let Xe=R.truncDivision(ve,2),Vt=R.truncDivision(Le,2);for(let Ft=0;Ft<Xe;Ft++){let Fa=Ft+R.truncDivision(Ft,15);Ce[Xe-Ft-1]=Vt-Fa-1,Ce[Xe+Ft]=Vt+Fa+1}}let Ze=new X(Le);for(let Xe=0,Vt=0;Xe<P;Xe++){let Ft=(P-Xe)*4+(T?9:12);for(let Fa=0;Fa<Ft;Fa++){let Ds=Fa*2;for(let Ja=0;Ja<2;Ja++)ne.get(Vt+Ds+Ja)&&Ze.set(Ce[Xe*2+Ja],Ce[Xe*2+Fa]),ne.get(Vt+Ft*2+Ds+Ja)&&Ze.set(Ce[Xe*2+Fa],Ce[ve-1-Xe*2-Ja]),ne.get(Vt+Ft*4+Ds+Ja)&&Ze.set(Ce[ve-1-Xe*2-Ja],Ce[ve-1-Xe*2-Fa]),ne.get(Vt+Ft*6+Ds+Ja)&&Ze.set(Ce[ve-1-Xe*2-Fa],Ce[Xe*2+Ja])}Vt+=Ft*8}if(on.drawModeMessage(Ze,T,Le,ge),T)on.drawBullsEye(Ze,R.truncDivision(Le,2),5);else{on.drawBullsEye(Ze,R.truncDivision(Le,2),7);for(let Xe=0,Vt=0;Xe<R.truncDivision(ve,2)-1;Xe+=15,Vt+=16)for(let Ft=R.truncDivision(Le,2)&1;Ft<Le;Ft+=2)Ze.set(R.truncDivision(Le,2)-Vt,Ft),Ze.set(R.truncDivision(Le,2)+Vt,Ft),Ze.set(Ft,R.truncDivision(Le,2)-Vt),Ze.set(Ft,R.truncDivision(Le,2)+Vt)}let tt=new Sm;return tt.setCompact(T),tt.setSize(Le),tt.setLayers(P),tt.setCodeWords(le),tt.setMatrix(Ze),tt}static drawBullsEye(c,h,p){for(let y=0;y<p;y+=2)for(let b=h-y;b<=h+y;b++)c.set(b,h-y),c.set(b,h+y),c.set(h-y,b),c.set(h+y,b);c.set(h-p,h-p),c.set(h-p+1,h-p),c.set(h-p,h-p+1),c.set(h+p,h-p),c.set(h+p,h-p+1),c.set(h+p,h+p-1)}static generateModeMessage(c,h,p){let y=new z;return c?(y.appendBits(h-1,2),y.appendBits(p-1,6),y=on.generateCheckWords(y,28,4)):(y.appendBits(h-1,5),y.appendBits(p-1,11),y=on.generateCheckWords(y,40,4)),y}static drawModeMessage(c,h,p,y){let b=R.truncDivision(p,2);if(h)for(let S=0;S<7;S++){let T=b-3+S;y.get(S)&&c.set(T,b-5),y.get(S+7)&&c.set(b+5,T),y.get(20-S)&&c.set(T,b+5),y.get(27-S)&&c.set(b-5,T)}else for(let S=0;S<10;S++){let T=b-5+S+R.truncDivision(S,5);y.get(S)&&c.set(T,b-7),y.get(S+10)&&c.set(b+7,T),y.get(29-S)&&c.set(T,b+7),y.get(39-S)&&c.set(b-7,T)}}static generateCheckWords(c,h,p){let y=c.getSize()/p,b=new jm(on.getGF(p)),S=R.truncDivision(h,p),T=on.bitsToWords(c,p,S);b.encode(T,S-y);let P=h%p,U=new z;U.appendBits(0,P);for(const q of Array.from(T))U.appendBits(q,p);return U}static bitsToWords(c,h,p){let y=new Int32Array(p),b,S;for(b=0,S=c.getSize()/h;b<S;b++){let T=0;for(let P=0;P<h;P++)T|=c.get(b*h+P)?1<<h-P-1:0;y[b]=T}return y}static getGF(c){switch(c){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new x("Unsupported word size "+c)}}static stuffBits(c,h){let p=new z,y=c.getSize(),b=(1<<h)-2;for(let S=0;S<y;S+=h){let T=0;for(let P=0;P<h;P++)(S+P>=y||c.get(S+P))&&(T|=1<<h-1-P);(T&b)===b?(p.appendBits(T&b,h),S--):(T&b)===0?(p.appendBits(T|1,h),S--):p.appendBits(T,h)}return p}static totalBitsInLayer(c,h){return((h?88:112)+16*c)*c}}on.DEFAULT_EC_PERCENT=33,on.DEFAULT_AZTEC_LAYERS=0,on.MAX_NB_BITS=32,on.MAX_NB_BITS_COMPACT=4,on.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ff{encode(c,h,p,y){return this.encodeWithHints(c,h,p,y,null)}encodeWithHints(c,h,p,y,b){let S=Nm.ISO_8859_1,T=on.DEFAULT_EC_PERCENT,P=on.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has(Ur.CHARACTER_SET)&&(S=dc.forName(b.get(Ur.CHARACTER_SET).toString())),b.has(Ur.ERROR_CORRECTION)&&(T=R.parseInt(b.get(Ur.ERROR_CORRECTION).toString())),b.has(Ur.AZTEC_LAYERS)&&(P=R.parseInt(b.get(Ur.AZTEC_LAYERS).toString()))),ff.encodeLayers(c,h,p,y,S,T,P)}static encodeLayers(c,h,p,y,b,S,T){if(h!==se.AZTEC)throw new x("Can only encode AZTEC, but got "+h);let P=on.encode(Y.getBytes(c,b),S,T);return ff.renderResult(P,p,y)}static renderResult(c,h,p){let y=c.getMatrix();if(y==null)throw new Qe;let b=y.getWidth(),S=y.getHeight(),T=Math.max(h,b),P=Math.max(p,S),U=Math.min(T/b,P/S),q=(T-b*U)/2,te=(P-S*U)/2,ne=new X(T,P);for(let le=0,ge=te;le<S;le++,ge+=U)for(let ve=0,Ce=q;ve<b;ve++,Ce+=U)y.get(ve,le)&&ne.setRegion(Ce,ge,U,U);return ne}}n.AbstractExpandedDecoder=Mu,n.ArgumentException=g,n.ArithmeticException=ye,n.AztecCode=Sm,n.AztecCodeReader=Wi,n.AztecCodeWriter=ff,n.AztecDecoder=bt,n.AztecDetector=qs,n.AztecDetectorResult=Jr,n.AztecEncoder=on,n.AztecHighLevelEncoder=gc,n.AztecPoint=sn,n.BarcodeFormat=se,n.Binarizer=C,n.BinaryBitmap=w,n.BitArray=z,n.BitMatrix=X,n.BitSource=Xa,n.BrowserAztecCodeReader=vi,n.BrowserBarcodeReader=m0,n.BrowserCodeReader=Se,n.BrowserDatamatrixCodeReader=Q1,n.BrowserMultiFormatReader=tb,n.BrowserPDF417Reader=nb,n.BrowserQRCodeReader=rb,n.BrowserQRCodeSvgWriter=dl,n.CharacterSetECI=L,n.ChecksumException=_,n.Code128Reader=rt,n.Code39Reader=wn,n.DataMatrixDecodedBitStreamParser=wo,n.DataMatrixReader=Ws,n.DecodeHintType=k,n.DecoderResult=he,n.DefaultGridSampler=Qn,n.DetectorResult=bn,n.EAN13Reader=Ka,n.EncodeHintType=Ur,n.Exception=f,n.FormatException=F,n.GenericGF=Ke,n.GenericGFPoly=be,n.GlobalHistogramBinarizer=H,n.GridSampler=Ga,n.GridSamplerInstance=yr,n.HTMLCanvasElementLuminanceSource=re,n.HybridBinarizer=J,n.ITFReader=dn,n.IllegalArgumentException=x,n.IllegalStateException=Qe,n.InvertedLuminanceSource=de,n.LuminanceSource=Z,n.MathUtils=it,n.MultiFormatOneDReader=bo,n.MultiFormatReader=v0,n.MultiFormatWriter=sb,n.NotFoundException=G,n.OneDReader=un,n.PDF417DecodedBitStreamParser=Fe,n.PDF417DecoderErrorCorrection=Ru,n.PDF417Reader=ma,n.PDF417ResultMetadata=of,n.PerspectiveTransform=En,n.PlanarYUVLuminanceSource=bi,n.QRCodeByteMatrix=Lu,n.QRCodeDataMask=ha,n.QRCodeDecodedBitStreamParser=nr,n.QRCodeDecoderErrorCorrectionLevel=Tn,n.QRCodeDecoderFormatInformation=fa,n.QRCodeEncoder=qn,n.QRCodeEncoderQRCode=ul,n.QRCodeMaskUtil=ur,n.QRCodeMatrixUtil=Ct,n.QRCodeMode=jt,n.QRCodeReader=Qi,n.QRCodeVersion=wt,n.QRCodeWriter=uc,n.RGBLuminanceSource=Bu,n.RSS14Reader=Nn,n.RSSExpandedReader=Ge,n.ReaderException=ku,n.ReedSolomonDecoder=gt,n.ReedSolomonEncoder=jm,n.ReedSolomonException=Ve,n.Result=xe,n.ResultMetadataType=oe,n.ResultPoint=ct,n.StringUtils=Y,n.UnsupportedOperationException=$,n.VideoInputDevice=pe,n.WhiteRectangleDetector=vr,n.WriterException=Dn,n.ZXingArrays=D,n.ZXingCharset=dc,n.ZXingInteger=R,n.ZXingStandardCharsets=Nm,n.ZXingStringBuilder=Q,n.ZXingStringEncoding=W,n.ZXingSystem=A,n.createAbstractExpandedDecoder=ym,Object.defineProperty(n,"__esModule",{value:!0})})}(Ig,Ig.exports)),Ig.exports}var rr=ffe();const hfe=Cs(rr),mfe=g6({__proto__:null,default:hfe},[rr]);var AP=function(){function e(t,n,r){if(this.formatMap=new Map([[ft.QR_CODE,rr.BarcodeFormat.QR_CODE],[ft.AZTEC,rr.BarcodeFormat.AZTEC],[ft.CODABAR,rr.BarcodeFormat.CODABAR],[ft.CODE_39,rr.BarcodeFormat.CODE_39],[ft.CODE_93,rr.BarcodeFormat.CODE_93],[ft.CODE_128,rr.BarcodeFormat.CODE_128],[ft.DATA_MATRIX,rr.BarcodeFormat.DATA_MATRIX],[ft.MAXICODE,rr.BarcodeFormat.MAXICODE],[ft.ITF,rr.BarcodeFormat.ITF],[ft.EAN_13,rr.BarcodeFormat.EAN_13],[ft.EAN_8,rr.BarcodeFormat.EAN_8],[ft.PDF_417,rr.BarcodeFormat.PDF_417],[ft.RSS_14,rr.BarcodeFormat.RSS_14],[ft.RSS_EXPANDED,rr.BarcodeFormat.RSS_EXPANDED],[ft.UPC_A,rr.BarcodeFormat.UPC_A],[ft.UPC_E,rr.BarcodeFormat.UPC_E],[ft.UPC_EAN_EXTENSION,rr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!mfe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),i=new Map;i.set(rr.DecodeHintType.POSSIBLE_FORMATS,s),i.set(rr.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(i){s(i)}})},e.prototype.decode=function(t){var n=new rr.MultiFormatReader(this.verbose,this.hints),r=new rr.HTMLCanvasElementLuminanceSource(t),s=new rr.BinaryBitmap(new rr.HybridBinarizer(r)),i=n.decode(s);return{text:i.text,format:BF.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var i=s[r];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),gfe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},pfe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},CP=function(){function e(t,n,r){if(this.formatMap=new Map([[ft.QR_CODE,"qr_code"],[ft.AZTEC,"aztec"],[ft.CODABAR,"codabar"],[ft.CODE_39,"code_39"],[ft.CODE_93,"code_93"],[ft.CODE_128,"code_128"],[ft.DATA_MATRIX,"data_matrix"],[ft.ITF,"itf"],[ft.EAN_13,"ean_13"],[ft.EAN_8,"ean_8"],[ft.PDF_417,"pdf417"],[ft.UPC_A,"upc_a"],[ft.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return gfe(this,void 0,void 0,function(){var n,r;return pfe(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:BF.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,i=t;s<i.length;s++){var o=i[s],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var i=s[r];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),TP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},OP=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},xfe=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&CP.isSupported()?(this.primaryDecoder=new CP(t,r,s),this.secondaryDecoder=new AP(t,r,s)):this.primaryDecoder=new AP(t,r,s)}return e.prototype.decodeAsync=function(t){return TP(this,void 0,void 0,function(){var n;return OP(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return TP(this,void 0,void 0,function(){var n,r;return OP(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),_A=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$v=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},Hv=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},VF=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),vfe=function(e){_A(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(VF),yfe=function(e){_A(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(vfe),bfe=function(e){_A(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(VF),wfe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new yfe(this.track)},e.prototype.torchFeature=function(){return new bfe(this.track)},e}(),jfe=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return $v(this,void 0,void 0,function(){var i,o;return Hv(this,function(u){switch(u.label){case 0:return i=new e(t,n,s),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return $v(this,void 0,void 0,function(){return Hv(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),i=s.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new wfe(this.getFirstTrackOrFail())},e}(),Nfe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return $v(this,void 0,void 0,function(){return Hv(this,function(s){return[2,jfe.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return $v(this,void 0,void 0,function(){var n,r;return Hv(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),MP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},DP=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Sfe=function(){function e(){}return e.failIfNotSupported=function(){return MP(this,void 0,void 0,function(){return DP(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return MP(this,void 0,void 0,function(){return DP(this,function(n){return[2,Nfe.create(t)]})})},e}(),_fe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},Efe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Afe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=fh.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=fh.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return _fe(this,void 0,void 0,function(){var t,n,r,s,i,o,u;return Efe(this,function(m){switch(m.label){case 0:return t=function(f){for(var g=f.getVideoTracks(),x=0,w=g;x<w.length;x++){var _=w[x];_.enabled=!1,_.stop(),f.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),s=[],i=0,o=r;i<o.length;i++)u=o[i],u.kind==="videoinput"&&s.push({id:u.deviceId,label:u.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(i){for(var o=[],u=0,m=i;u<m.length;u++){var f=m[u];f.kind==="video"&&o.push({id:f.id,label:f.label})}t(o)},s=MediaStreamTrack;s.getSources(r)})},e}(),Pr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Pr||(Pr={}));var Cfe=function(){function e(){this.state=Pr.NOT_STARTED,this.onGoingTransactionNewState=Pr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Pr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Pr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Pr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Pr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Pr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Pr.UNKNOWN:throw"Transition from unknown is not allowed";case Pr.NOT_STARTED:this.failIfNewStateIs(t,[Pr.PAUSED]);break;case Pr.SCANNING:break;case Pr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var i=s[r];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Tfe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Pr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Pr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Pr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Pr.PAUSED},e}(),Ofe=function(){function e(){}return e.create=function(){return new Tfe(new Cfe)},e}(),Mfe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ti=function(e){Mfe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(io),Dfe=function(){function e(t,n){this.logger=n,this.fps=ti.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ti.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?zF.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Bo(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),PP=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new UF(this.verbose),this.qrcode=new xfe(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Ofe.create()}return e.prototype.start=function(t,n,r,s){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;s?o=s:o=this.verbose?this.logger.log:function(){};var u=Dfe.create(n,this.logger);this.clearElement();var m=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=m,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:ti.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var x=this,w=this.stateManagerProxy.startTransition(Pr.SCANNING);return new Promise(function(_,C){var A=f?u.videoConstraints:x.createVideoConstraints(t);if(!A){w.cancel(),C("videoConstraints should be defined");return}var E={};(!f||u.aspectRatio)&&(E.aspectRatio=u.aspectRatio);var M={onRenderSurfaceReady:function(D,R){x.setupUi(D,R,u),x.isScanning=!0,x.foreverScan(u,r,o)}};Sfe.failIfNotSupported().then(function(D){D.create(A).then(function(R){return R.render(i.element,E,M).then(function(z){x.renderedCamera=z,w.execute(),_(null)}).catch(function(z){w.cancel(),C(z)})}).catch(function(R){w.cancel(),C(fh.errorGettingUserMedia(R))})}).catch(function(D){w.cancel(),C(fh.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Pr.PAUSED),this.showPausedState(),(Bo(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Pr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Pr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var i=document.getElementById(ti.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Bo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,i){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,m=o.height,f=document.getElementById(r.elementId),g=f.clientWidth?f.clientWidth:ti.DEFAULT_WIDTH,x=Math.max(f.clientHeight?f.clientHeight:m,ti.FILE_SCAN_MIN_HEIGHT),w=r.computeCanvasDrawConfig(u,m,g,x);if(n){var _=r.createCanvasElement(g,x,"qr-canvas-visible");_.style.display="inline-block",f.appendChild(_);var C=_.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=g,C.canvas.height=x,C.drawImage(o,0,0,u,m,w.x,w.y,w.width,w.height)}var A=ti.FILE_SCAN_HIDDEN_CANVAS_PADDING,E=Math.max(o.width,w.width),M=Math.max(o.height,w.height),D=E+2*A,R=M+2*A,z=r.createCanvasElement(D,R);f.appendChild(z);var I=z.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=D,I.canvas.height=R,I.drawImage(o,0,0,u,m,A,A,E,M);try{r.qrcode.decodeRobustlyAsync(z).then(function(k){s(SP.createFromQrcodeResult(k))}).catch(i)}catch(k){i("QR code parse error, error = ".concat(k))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Afe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!zF.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ft.QR_CODE,ft.AZTEC,ft.CODABAR,ft.CODE_39,ft.CODE_93,ft.CODE_128,ft.DATA_MATRIX,ft.MAXICODE,ft.ITF,ft.EAN_13,ft.EAN_8,ft.PDF_417,ft.RSS_14,ft.RSS_EXPANDED,ft.UPC_A,ft.UPC_E,ft.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,i=t.formatsToSupport;s<i.length;s++){var o=i[s];cfe(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Bo(t))return!0;if(!Bo(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Bo(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Bo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,i=r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i),u=function(f){if(f<ti.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ti.MIN_QR_BOX_SIZE,"px.")},m=function(f){return f>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};u(o.width),u(o.height),o.width=m(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=Bo(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var i=this.toQrdimensions(t,n,s);i.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&i.height<=n,u={x:0,y:0,width:t,height:n},m=o?this.getShadedRegionBounds(t,n,i):u,f=this.createCanvasElement(m.width,m.height),g={willReadFrequently:!0},x=f.getContext("2d",g);x.canvas.width=m.width,x.canvas.height=m.height,this.element.append(f),o&&this.possiblyInsertShadingElement(this.element,t,n,i),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=x,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=fh.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,SP.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var i=fh.codeParseError(s);return n(i,FF.createFrom(i)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,u=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*o,f=this.qrRegion.height*u,g=this.qrRegion.x*o,x=this.qrRegion.y*u;this.context.drawImage(i,g,x,m,f,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(_){!_&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){w()})):w()}).catch(function(_){s.logger.logError("Error happend while scanning context",_),w()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},i="exact",o=function(C){if(C in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var f=t.facingMode;if(typeof f=="string"){if(o(f))return{facingMode:f}}else if(typeof f=="object")if(i in f){if(o(f["".concat(i)]))return{facingMode:{exact:f["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var g=typeof f;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var x=t.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(i in x)return{deviceId:{exact:x["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var w=typeof x;throw"Invalid type of 'deviceId' = ".concat(w)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var i=(r-t)/2,o=(s-n)/2;return{x:i,y:o,width:t,height:n}}else{var u=t,m=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ti.BORDER_SHADER_MATCH_COLOR:ti.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,i=n,o=document.createElement("canvas");return o.style.width="".concat(s,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=Bo(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(n-s.width)/2,u=(r-s.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(ti.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var m=5,f=40;this.insertShaderBorders(i,f,m,-m,null,0,!0),this.insertShaderBorders(i,f,m,-m,null,0,!1),this.insertShaderBorders(i,f,m,null,-m,0,!0),this.insertShaderBorders(i,f,m,null,-m,0,!1),this.insertShaderBorders(i,m,f+m,-m,null,-m,!0),this.insertShaderBorders(i,m,f+m,null,-m,-m,!0),this.insertShaderBorders(i,m,f+m,-m,null,-m,!1),this.insertShaderBorders(i,m,f+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,n,r,s,i,o,u){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=ti.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),s!==null&&(m.style.top="".concat(s,"px")),i!==null&&(m.style.bottom="".concat(i,"px")),u?m.style.left="".concat(o,"px"):m.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),EA="data:image/svg+xml;base64,",Pfe=EA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Rfe=EA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",RP=EA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",kfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",kP=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Ife=function(){function e(){this.data=kP.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=kP.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Lfe=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=_P.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var i=document.createElement("a");i.innerText=_P.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Bfe=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=RP,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=kfe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=RP,this.infoIcon.style.opacity="0.6")},e}(),Ffe=function(){function e(){var t=this;this.infoDiv=new Lfe,this.infoIcon=new Bfe(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),Ufe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},zfe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},IP=function(){function e(){}return e.hasPermissions=function(){return Ufe(this,void 0,void 0,function(){var t,n,r,s;return zfe(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=i.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),Uc=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===fu.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===fu.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return io.DEFAULT_SUPPORTED_SCAN_TYPE;var n=io.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var i=s[r];if(!io.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return t},e}(),ci=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Rl=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(ci.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),$F=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},HF=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},LP=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return $F(this,void 0,void 0,function(){var t,n;return HF(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ln.torchOffButton():Ln.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Ln.torchOnFailedMessage():Ln.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Vfe=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Rl.createElement("button",ci.TORCH_BUTTON_ID),this.torchController=new LP(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Ln.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(i){return $F(r,void 0,void 0,function(){return HF(this,function(o){switch(o.label){case 0:return[4,s.torchController.flipState()];case 1:return o.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(ci.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(ci.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(ci.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(ci.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new LP(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ln.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var i=new e(n,s);return i.render(t,r),i},e}(),$fe=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Rl.createElement("button",ci.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Rl.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var m=u.target;if(!(m.files&&m.files.length===0)){var f=m.files,g=f[0],x=g.name;i.setImageNameToButton(x),r(g)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var m=u.dataTransfer;if(m){var f=m.files;if(!f||f.length===0)return;for(var g=!1,x=0;x<f.length;++x){var w=f.item(x);if(w){var _=/image.*/;if(w.type.match(_)){g=!0;var C=w.name;i.setImageNameToButton(C),r(w),o.innerText=Ln.dragAndDropMessage();break}}}g||(o.innerText=Ln.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ln.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,i=t.substring(s-8,s);t="".concat(r,"....").concat(i)}var o=Ln.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=Ln.fileSelectionChooseImage()+" - "+Ln.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),Hfe=function(){function e(t){this.selectElement=Rl.createElement("select",ci.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=Ln.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var i=1,o=0,u=this.cameras;o<u.length;o++){var m=u[o],f=m.id,g=m.label==null?f:m.label;(!g||g==="")&&(g=[Ln.anonymousCameraPrefix(),i++].join(" "));var x=document.createElement("option");x.value=f,x.innerText=g,this.options.push(x),this.selectElement.appendChild(x)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),qfe=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Rl.createElement("input",ci.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ln.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ln.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),ni;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ni||(ni={}));function Yfe(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Wfe(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Gfe=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Uc(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new UF(this.verbose),this.persistedDataManager=new Ife,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(i,o){if(t)t(i,o);else{if(r.lastMatchFound===i)return;r.lastMatchFound=i,r.setHeaderMessage(Ln.lastMatch(i),ni.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(i,o){n&&n(i,o)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new PP(this.getScanRegionId(),Wfe(this.config,this.verbose))},e.prototype.pause=function(t){(Bo(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(i){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(i){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",i),s(i)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=io.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!io.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=io.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=io.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:io.SCAN_DEFAULT_FPS,rememberLastUsedCamera:io.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:io.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Uc.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),i=this.getDashboardId();s.id=i,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new Ffe;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Ln.cameraPermissionRequesting());var i=function(){r||s.createPermissionButton(t,n)};PP.getCameras().then(function(o){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),o&&o.length>0?(t.removeChild(n),s.renderCameraSelection(o)):(s.setHeaderMessage(Ln.noCameraFound(),ni.STATUS_WARNING),i())}).catch(function(o){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:i(),s.setHeaderMessage(o,ni.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Rl.createElement("button",this.getCameraPermissionButtonId());s.innerText=Ln.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Uc.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){IP.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Uc.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Uc.isFileScanType(this.currentScanType),r=this,s=function(i){if(!r.html5Qrcode)throw"html5Qrcode not defined";Uc.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ln.loadingImage()),r.html5Qrcode.scanFileV2(i,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,ni.STATUS_WARNING),r.qrCodeErrorCallback(o,FF.createFrom(o))}))};this.fileSelectionUi=$fe.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var i=qfe.create(s,!1),o=function(A){var E=A.zoomFeature();if(E.isSupported()){i.setOnCameraZoomValueChangeCallback(function(D){E.apply(D)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=ufe(M,E.min(),E.max()),i.setValues(E.min(),E.max(),M,E.step()),i.show()}},u=Hfe.create(s,t),m=document.createElement("span"),f=Rl.createElement("button",ci.CAMERA_START_BUTTON_ID);f.innerText=Ln.scanButtonStartScanningText(),m.appendChild(f);var g=Rl.createElement("button",ci.CAMERA_STOP_BUTTON_ID);g.innerText=Ln.scanButtonStopScanningText(),g.style.display="none",g.disabled=!0,m.appendChild(g);var x,w=function(A){if(!A.torchFeature().isSupported()){x&&x.hide();return}x?x.updateTorchCapability(A.torchFeature()):x=Vfe.create(m,A.torchFeature(),{display:"none",marginLeft:"5px"},function(E){r.setHeaderMessage(E,ni.STATUS_WARNING)}),x.show()};s.appendChild(m);var _=function(A){A||(f.style.display="none"),f.innerText=Ln.scanButtonStartScanningText(),f.style.opacity="1",f.disabled=!1,A&&(f.style.display="inline-block")};if(f.addEventListener("click",function(A){f.innerText=Ln.scanButtonScanningStarting(),u.disable(),f.disabled=!0,f.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var E=u.getValue();r.persistedDataManager.setLastUsedCameraId(E),r.html5Qrcode.start(E,Yfe(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){g.disabled=!1,g.style.display="inline-block",_(!1);var D=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&w(D),n.config.showZoomSliderIfSupported===!0&&o(D)}).catch(function(M){r.showHideScanTypeSwapLink(!0),u.enable(),_(!0),r.setHeaderMessage(M,ni.STATUS_WARNING)})}),u.hasSingleItem()&&f.click(),g.addEventListener("click",function(A){if(!r.html5Qrcode)throw"html5Qrcode not defined";g.disabled=!0,r.html5Qrcode.stop().then(function(E){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),f.disabled=!1,g.style.display="none",f.style.display="inline-block",x&&(x.reset(),x.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(E){g.disabled=!1,r.setHeaderMessage(E,ni.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var C=r.persistedDataManager.getLastUsedCameraId();u.hasValue(C)?(u.setValue(C),f.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ln.textIfCameraScanSelected(),r=Ln.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var o=Rl.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Uc.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Uc.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=r,t.currentScanType=fu.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=n,t.currentScanType=fu.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),i.appendChild(o),s.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){IP.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=ni.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case ni.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ni.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ni.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Pfe,this.cameraScanImage.alt=Ln.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Rfe,this.fileScanImage.alt=Ln.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ci.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ci.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function Kfe(){var Se,xe,Pe;const[e,t]=j.useState(!1),[n,r]=j.useState(null),[s,i]=j.useState(""),[o,u]=j.useState(null),[m,f]=j.useState(""),[g,x]=j.useState(1),[w,_]=j.useState(!1),[C,A]=j.useState(null),[E,M]=j.useState([]),[D,R]=j.useState(""),[z,I]=j.useState(!1),[k,F]=j.useState(!1),[V,L]=j.useState(!0),$=j.useRef(null),{profile:W}=$t(),{t:Y,isRTL:Q}=Ut();j.useEffect(()=>(W&&G(),X(),()=>{J()}),[W]);const X=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){L(!1);return}(await navigator.mediaDevices.enumerateDevices()).filter(oe=>oe.kind==="videoinput").length===0&&L(!1)}catch(se){console.error("Error checking camera support:",se),L(!1)}},G=async()=>{try{const{data:se,error:ce}=await $e.from("wallets").select("*").eq("user_id",W==null?void 0:W.id).single();if(ce)throw ce;A(se)}catch(se){console.error("Error fetching wallet data:",se)}},H=async()=>{if(!e){I(!0),R("");try{if(!V)throw new Error("Camera not supported on this device");(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}})).getTracks().forEach(oe=>oe.stop()),t(!0),r(null);const ce={fps:10,qrbox:{width:280,height:280},rememberLastUsedCamera:!0,aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:2,supportedScanTypes:[0],videoConstraints:{facingMode:"environment"}};$.current=new Gfe("qr-reader",ce,!1),$.current.render(oe=>{Z(oe)},oe=>{console.debug("QR scan error (normal):",oe)}),_e.success("Camera started successfully! Point at a QR code to scan.")}catch(se){console.error("Camera initialization error:",se),t(!1),se.name==="NotAllowedError"?(R("Camera permission denied. Please allow camera access and try again."),_e.error("Camera permission denied. Please allow camera access to scan QR codes.")):se.name==="NotFoundError"?(R("No camera found on this device."),_e.error("No camera found on this device. Please use manual entry.")):se.name==="NotSupportedError"?(R("Camera not supported on this browser."),_e.error("Camera not supported. Please try a different browser or use manual entry.")):(R("Camera initialization failed. Please try again or use manual entry."),_e.error("Failed to start camera. Please try again or use manual entry."))}finally{I(!1)}}},J=()=>{$.current&&e&&$.current.clear().then(()=>{t(!1)}).catch(se=>{console.error("Error stopping scanner:",se),t(!1)})},Z=se=>{J(),de(se)},de=async se=>{var ce;try{let oe;try{oe=JSON.parse(se)}catch{oe={raw:se}}let he;if(oe.type==="driver"||oe.driver_id){he={type:"driver",data:oe,rawData:se};const{data:Re}=await $e.from("qr_codes").select(`
            *,
            driver_profile:driver_profiles!qr_codes_driver_id_fkey(
              ticket_fee,
              route_name,
              vehicle_type
            ),
            profile:profiles!qr_codes_driver_id_fkey(full_name)
          `).eq("qr_data",se).eq("is_active",!0).single();if(Re)he.data={...he.data,...Re},u({qrData:he.data,amount:((ce=Re.driver_profile)==null?void 0:ce.ticket_fee)||500,quantity:1,type:"driver"});else throw new Error("Invalid or inactive driver QR code")}else oe.type==="merchant"||oe.merchant_id?(he={type:"merchant",data:oe,rawData:se},u({qrData:he.data,amount:oe.amount,type:"merchant"})):(he={type:"unknown",data:oe,rawData:se},_e.error("Unrecognized QR code format"));r(he),M(Re=>[he,...Re.slice(0,4)])}catch(oe){console.error("Error processing QR code:",oe),_e.error("Invalid QR code or service unavailable")}},re=()=>{s.trim()&&(de(s.trim()),i(""))},pe=async()=>{if(!(!o||!W)){_(!0);try{if(o.type==="driver"){const{data:se,error:ce}=await $e.rpc("process_transport_payment",{p_passenger_id:W.id,p_driver_id:o.qrData.driver_id,p_amount:(o.amount||500)*g,p_qr_code_id:o.qrData.id,p_quantity:g});if(ce)throw ce;if(se&&se.length>0){const oe=se[0];oe.error_message?_e.error(oe.error_message):(_e.success(Y("scanner.paymentSuccess")),u(null),G())}}else if(o.type==="merchant"){const se=parseFloat(m)||o.amount||0;if(se<=0){_e.error("Please enter a valid amount");return}const{data:ce,error:oe}=await $e.rpc("process_merchant_payment",{p_passenger_id:W.id,p_merchant_id:o.qrData.merchant_id||o.qrData.user_id,p_amount:se});if(oe)throw oe;if(ce&&ce.length>0){const he=ce[0];he.error_message?_e.error(he.error_message):(_e.success(Y("scanner.paymentSuccess")),u(null),G())}}}catch(se){console.error("Error processing payment:",se),_e.error(Y("scanner.paymentFailed"))}finally{_(!1)}}},Ne=se=>new Intl.NumberFormat(Q?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(se);return a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:Y("scanner.title")}),a.jsx("p",{className:"text-muted-foreground",children:"Scan QR codes to make instant payments"})]}),C&&a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lu,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:Ne(C.balance)})]})})]}),(C==null?void 0:C.is_frozen)&&a.jsxs(us,{variant:"destructive",children:[a.jsx(rp,{className:"h-4 w-4"}),a.jsx(ds,{children:"Your wallet is frozen. You cannot make payments at this time."})]}),a.jsxs(pi,{defaultValue:"scan",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2",children:[a.jsxs(At,{value:"scan",className:"flex items-center gap-2",children:[a.jsx(ph,{className:"h-4 w-4"}),"Scan QR Code"]}),a.jsxs(At,{value:"manual",className:"flex items-center gap-2",children:[a.jsx(ir,{className:"h-4 w-4"}),"Manual Entry"]})]}),a.jsx(Ot,{value:"scan",className:"space-y-6",children:a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"h-5 w-5"}),"QR Code Scanner"]}),a.jsx(st,{children:"Point your camera at a QR code to scan"})]}),a.jsx(fe,{children:e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{id:"qr-reader",className:"mx-auto max-w-sm"}),a.jsx(qe.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center",children:[a.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(jd,{className:"h-3 w-3"}),"Scanning..."]}),a.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(Qc,{className:"h-3 w-3"}),"Secure"]})]})})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs(we,{onClick:J,variant:"outline",className:"gap-2",children:[a.jsx(ES,{className:"h-4 w-4"}),"Stop Scanning"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold your device steady and ensure the QR code is clearly visible"})]})]}):a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"mx-auto w-64 h-64 border-2 border-dashed border-primary/30 rounded-xl flex items-center justify-center bg-primary/5 relative overflow-hidden",children:[a.jsx("div",{className:"text-center z-10",children:D?a.jsxs(a.Fragment,{children:[a.jsx(ES,{className:"h-16 w-16 mx-auto text-red-500 mb-3"}),a.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Camera Error"}),a.jsx("p",{className:"text-xs text-muted-foreground px-4",children:D})]}):z?a.jsxs(a.Fragment,{children:[a.jsx(zs,{className:"h-16 w-16 mx-auto text-primary mb-3 animate-spin"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Starting camera..."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Please allow camera access"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ph,{className:"h-16 w-16 mx-auto text-primary mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ready to scan QR codes"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Make sure to allow camera access"})]})}),!D&&!z&&a.jsx(qe.div,{className:"absolute inset-0 border-2 border-primary/20",animate:{opacity:[.3,.7,.3],scale:[.9,1,.9]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),a.jsxs("div",{className:"space-y-3",children:[V?a.jsx(we,{onClick:H,disabled:z,className:"gap-2 px-8 py-3 text-base",children:z?a.jsxs(a.Fragment,{children:[a.jsx(zs,{className:"h-5 w-5 animate-spin"}),"Starting Camera..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ph,{className:"h-5 w-5"}),"Start Camera Scanner"]})}):a.jsx("div",{className:"space-y-2",children:a.jsxs(us,{variant:"destructive",children:[a.jsx(rp,{className:"h-4 w-4"}),a.jsx(ds,{children:"Camera not available on this device. Please use manual entry below."})]})}),a.jsxs(we,{variant:"outline",onClick:()=>F(!0),className:"gap-2",children:[a.jsx(kD,{className:"h-4 w-4"}),"How to Scan"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto",children:"Point your camera at a QR code to scan. Works with driver transport QR codes and merchant payment QR codes."})]})})]})})}),a.jsx(Ot,{value:"manual",className:"space-y-6",children:a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Manual QR Code Entry"}),a.jsx(st,{children:"Enter QR code data manually if scanning doesn't work"})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"qr-input",children:"QR Code Data"}),a.jsx(dt,{id:"qr-input",placeholder:"Paste or type QR code data here",value:s,onChange:se=>i(se.target.value)})]}),a.jsxs(we,{onClick:re,disabled:!s.trim(),className:"w-full gap-2",children:[a.jsx(ir,{className:"h-4 w-4"}),"Process QR Code"]})]})]})})})]}),E.length>0&&a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(ap,{className:"h-5 w-5"}),"Recent Scans"]}),a.jsx(st,{children:"Previously scanned QR codes"})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-3",children:E.map((se,ce)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[se.type==="driver"?a.jsx(ls,{className:"h-5 w-5 text-blue-500"}):se.type==="merchant"?a.jsx(iu,{className:"h-5 w-5 text-green-500"}):a.jsx(ir,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:se.type==="driver"?"Transport Payment":se.type==="merchant"?"Merchant Payment":"Unknown QR"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-40",children:se.rawData})]})]}),a.jsx(Je,{variant:se.type==="unknown"?"destructive":"secondary",children:se.type})]},ce))})})]})}),a.jsx(Wr,{open:!!o,onOpenChange:se=>!se&&u(null),children:a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsxs(Xr,{className:"flex items-center gap-2",children:[(o==null?void 0:o.type)==="driver"?a.jsx(ls,{className:"h-5 w-5 text-blue-500"}):a.jsx(iu,{className:"h-5 w-5 text-green-500"}),"Confirm Payment"]}),a.jsx(ka,{children:(o==null?void 0:o.type)==="driver"?"Confirm your transport payment":"Confirm your merchant payment"})]}),o&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(ue,{children:a.jsxs(fe,{className:"p-4 space-y-3",children:[o.type==="driver"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Driver:"}),a.jsx("span",{className:"text-sm font-medium",children:((Se=o.qrData.profile)==null?void 0:Se.full_name)||"Unknown Driver"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Route:"}),a.jsx("span",{className:"text-sm font-medium",children:((xe=o.qrData.driver_profile)==null?void 0:xe.route_name)||"City Route"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Vehicle:"}),a.jsx("span",{className:"text-sm font-medium",children:((Pe=o.qrData.driver_profile)==null?void 0:Pe.vehicle_type)||"Bus"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ticket Price:"}),a.jsx("span",{className:"text-sm font-medium",children:Ne(o.amount||500)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[Y("scanner.quantity"),":"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(we,{size:"sm",variant:"outline",onClick:()=>x(Math.max(1,g-1)),children:a.jsx(rB,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-8 text-center",children:g}),a.jsx(we,{size:"sm",variant:"outline",onClick:()=>x(g+1),children:a.jsx(Ss,{className:"h-3 w-3"})})]})]})]}),o.type==="merchant"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Merchant:"}),a.jsx("span",{className:"text-sm font-medium",children:o.qrData.business_name||"Local Store"})]}),!o.amount&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"payment-amount",children:"Payment Amount"}),a.jsx(dt,{id:"payment-amount",type:"number",placeholder:"Enter amount",value:m,onChange:se=>f(se.target.value)})]})]}),a.jsx(hi,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:o.type==="driver"?Ne((o.amount||500)*g):Ne(parseFloat(m)||o.amount||0)})]})]})}),C&&a.jsxs(us,{children:[a.jsx(lu,{className:"h-4 w-4"}),a.jsxs(ds,{children:["Current balance: ",Ne(C.balance)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{variant:"outline",className:"flex-1",onClick:()=>u(null),disabled:w,children:"Cancel"}),a.jsx(we,{className:"flex-1 gap-2",onClick:pe,disabled:w||(C==null?void 0:C.is_frozen),children:w?a.jsxs(a.Fragment,{children:[a.jsx(zs,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"h-4 w-4"}),"Pay Now"]})})]})]})]})}),a.jsx(Wr,{open:k,onOpenChange:F,children:a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsxs(Xr,{className:"flex items-center gap-2",children:[a.jsx(kD,{className:"h-5 w-5 text-primary"}),"How to Scan QR Codes"]}),a.jsx(ka,{children:"Follow these simple steps to scan QR codes successfully"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Allow Camera Access"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When prompted, allow the website to access your camera. This is needed to scan QR codes."})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Position Your Device"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hold your device steady and point the camera at the QR code. Keep it about 6-12 inches away."})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Wait for Recognition"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The scanner will automatically detect and process the QR code. No need to take a photo!"})]})]})})})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Supported QR Codes"}),a.jsx("p",{className:"text-sm text-blue-700",children:"You can scan driver transport QR codes for ticket payments and merchant QR codes for purchases."})]})]})}),a.jsx(we,{onClick:()=>F(!1),className:"w-full",children:"Got it!"})]})]})})]})}function Xfe({transaction:e,open:t,onOpenChange:n,userProfile:r}){const s=j.useRef(null),{t:i,isRTL:o}=Ut();if(!e)return null;const u=M=>new Intl.NumberFormat(o?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(M),m=M=>new Date(M).toLocaleDateString(o?"ar-SY":"en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=()=>{const M=e.from_user_id===(r==null?void 0:r.id);switch(e.transaction_type){case"recharge":return a.jsx(Pa,{className:"h-8 w-8 text-green-600"});case"payment":return e.qr_code_id?a.jsx(ls,{className:"h-8 w-8 text-blue-600"}):M?a.jsx(iu,{className:"h-8 w-8 text-purple-600"}):a.jsx(Pa,{className:"h-8 w-8 text-green-600"});case"refund":return a.jsx(fv,{className:"h-8 w-8 text-blue-600"});case"withdrawal":return a.jsx(Pa,{className:"h-8 w-8 text-red-600"});default:return a.jsx(fv,{className:"h-8 w-8 text-gray-600"})}},g=()=>{switch(e.status){case"completed":return a.jsx(_r,{className:"h-5 w-5 text-green-600"});case"pending":return a.jsx(Hn,{className:"h-5 w-5 text-yellow-600"});case"failed":return a.jsx(Hd,{className:"h-5 w-5 text-red-600"});case"cancelled":return a.jsx(Er,{className:"h-5 w-5 text-gray-600"});default:return a.jsx(Hn,{className:"h-5 w-5 text-gray-600"})}},x=()=>{switch(e.status){case"completed":return a.jsxs(Je,{className:"bg-green-500 text-white",children:["✓ ",i("transactions.completed")]});case"pending":return a.jsxs(Je,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:["⏳ ",i("transactions.pending")]});case"failed":return a.jsxs(Je,{variant:"destructive",children:["✗ ",i("transactions.failed")]});case"cancelled":return a.jsxs(Je,{variant:"outline",className:"border-gray-400 text-gray-600",children:["⊗ ",i("transactions.cancelled")]});default:return a.jsx(Je,{variant:"outline",children:e.status})}},w=()=>{const M=e.from_user_id===(r==null?void 0:r.id);if(e.description)return e.description;switch(e.transaction_type){case"recharge":return i("receipt.walletTopUp");case"payment":return e.qr_code_id?i(M?"receipt.busTicketPayment":"receipt.busFareCollection"):i(M?"receipt.paymentSent":"receipt.paymentReceived");case"refund":return i("receipt.transactionRefund");case"withdrawal":return i("receipt.walletWithdrawal");default:return i("receipt.transaction")}},_=()=>e.from_user_id===(r==null?void 0:r.id)?"outgoing":"incoming",C=()=>{navigator.clipboard.writeText(e.id),_e.success(i("receipt.transactionIdCopied"))},A=async()=>{try{const M=(await Cd(async()=>{const{default:R}=await import("./html2canvas.esm-CBrSDip1.js");return{default:R}},[])).default,D=(await Cd(async()=>{const{default:R}=await import("./jspdf.es.min-yZGwiywC.js").then(z=>z.j);return{default:R}},[])).default;if(s.current){const R=await M(s.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0}),z=R.toDataURL("image/png"),I=new D("portrait","mm","a4"),k=190,F=297,V=R.height*k/R.width;let L=V,$=10;for(I.addImage(z,"PNG",10,$,k,V),L-=F;L>=0;)$=L-V+10,I.addPage(),I.addImage(z,"PNG",10,$,k,V),L-=F;I.save(`receipt-${e.id.slice(0,8)}.pdf`),_e.success("Receipt downloaded successfully!")}}catch(M){console.error("Error generating PDF:",M),_e.error("Failed to generate PDF. Please try again.")}},E=async()=>{if(navigator.share)try{await navigator.share({title:"Transaction Receipt",text:`Receipt for ${w()} - ${u(e.amount)}`,url:window.location.href})}catch(M){console.error("Error sharing:",M)}else navigator.clipboard.writeText(window.location.href),_e.success("Receipt link copied to clipboard")};return a.jsx(Wr,{open:t,onOpenChange:n,children:a.jsxs(Gr,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Kr,{children:[a.jsxs(Xr,{className:"flex items-center gap-2",children:[a.jsx(fv,{className:"h-5 w-5 text-primary"}),i("receipt.title")]}),a.jsx(ka,{children:i("receipt.description")})]}),a.jsxs("div",{ref:s,className:"bg-white p-8 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:f()}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:w()}),a.jsxs("p",{className:"text-gray-700",children:[i("app.name")," ",i("app.subtitle")]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[g(),a.jsx("span",{className:"font-medium text-lg",children:e.status==="completed"?i("receipt.transactionSuccessful"):e.status==="pending"?i("receipt.transactionPending"):e.status==="failed"?i("receipt.transactionFailed"):i("receipt.transactionCancelled")})]}),x()]}),a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-700 mb-1",children:i("common.amount")}),a.jsxs("p",{className:`text-4xl font-bold ${_()==="incoming"?"text-green-600":"text-blue-600"}`,children:[_()==="incoming"?"+":"",u(e.amount)]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.currency})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:i("receipt.transactionDetails")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.transactionId")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:[e.id.slice(0,8),"...",e.id.slice(-4)]}),a.jsx(we,{variant:"ghost",size:"sm",onClick:C,className:"h-8 w-8 p-0",children:a.jsx(By,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.dateTime")}),a.jsx("p",{className:"font-medium",children:m(e.created_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.type")}),a.jsx("p",{className:"font-medium capitalize",children:e.transaction_type})]})]}),a.jsxs("div",{className:"space-y-3",children:[e.reference_id&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.reference")}),a.jsx("p",{className:"font-mono text-sm",children:e.reference_id})]}),e.completed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.completed")}),a.jsx("p",{className:"font-medium",children:m(e.completed_at)})]}),(e.from_user_name||e.to_user_name)&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:_()==="outgoing"?i("receipt.recipient"):i("receipt.sender")}),a.jsx("p",{className:"font-medium",children:_()==="outgoing"?e.to_user_name||"Unknown":e.from_user_name||"Unknown"})]})]})]})]}),a.jsxs("div",{className:"text-center py-4 border-t",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:i("receipt.scanToVerify")})]}),a.jsx("div",{className:"mt-2 w-16 h-16 bg-gray-100 rounded-lg mx-auto flex items-center justify-center",children:a.jsx(ir,{className:"h-8 w-8 text-gray-500"})})]}),a.jsxs("div",{className:"text-center text-xs text-gray-600 border-t pt-4",children:[a.jsx("p",{children:i("receipt.officialReceipt")}),a.jsxs("p",{children:[i("receipt.supportContact"),": support@tickets-ewallet.com"]}),a.jsxs("p",{className:"mt-2",children:[i("receipt.generatedOn"),": ",new Date().toLocaleDateString(o?"ar-SY":"en-US")," ",i("receipt.at")," ",new Date().toLocaleTimeString(o?"ar-SY":"en-US")]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsxs(we,{onClick:A,className:"flex-1 gap-2",children:[a.jsx(As,{className:"h-4 w-4"}),i("receipt.downloadPdf")]}),a.jsxs(we,{variant:"outline",onClick:E,className:"gap-2",children:[a.jsx(MS,{className:"h-4 w-4"}),i("receipt.share")]}),a.jsxs(we,{variant:"outline",onClick:()=>window.print(),className:"gap-2",children:[a.jsx(OS,{className:"h-4 w-4"}),i("receipt.print")]})]})]})})}function Qfe(){const[e,t]=j.useState([]),[n,r]=j.useState([]),[s,i]=j.useState(null),[o,u]=j.useState(""),[m,f]=j.useState("all"),[g,x]=j.useState("all"),[w,_]=j.useState("date"),[C,A]=j.useState("desc"),[E,M]=j.useState(),[D,R]=j.useState(null),[z,I]=j.useState(!0),[k,F]=j.useState(1),[V,L]=j.useState(!0),[$,W]=j.useState(null),[Y,Q]=j.useState(!1),[X,G]=j.useState(!1),{profile:H}=$t(),{t:J,isRTL:Z}=Ut(),de=20;j.useEffect(()=>{H&&(re(),pe())},[H]),j.useEffect(()=>{Ne()},[e,o,m,g,E,w,C]);const re=async(be=1,ye=!1)=>{try{I(be===1);let Ke=$e.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${H==null?void 0:H.id},to_user_id.eq.${H==null?void 0:H.id}`).order("created_at",{ascending:!1}).range((be-1)*de,be*de-1);const{data:Ve,error:Qe}=await Ke;if(Qe)throw Qe;if(Ve){const gt=Ve.map(et=>{var bt,it;return{...et,from_user_name:(bt=et.from_profile)==null?void 0:bt.full_name,to_user_name:(it=et.to_profile)==null?void 0:it.full_name}});t(ye?et=>[...et,...gt]:gt),L(Ve.length===de),F(be)}}catch(Ke){console.error("Error fetching transactions:",Ke)}finally{I(!1)}},pe=async()=>{try{const{data:be}=await $e.from("transactions").select("*").or(`from_user_id.eq.${H==null?void 0:H.id},to_user_id.eq.${H==null?void 0:H.id}`);if(be){const ye=be.filter(et=>et.to_user_id===(H==null?void 0:H.id)&&et.status==="completed").reduce((et,bt)=>et+bt.amount,0),Ke=be.filter(et=>et.from_user_id===(H==null?void 0:H.id)&&et.status==="completed").reduce((et,bt)=>et+bt.amount,0),Ve=be.filter(et=>et.status==="pending").length,Qe=new Date;Qe.setDate(1);const gt=be.filter(et=>new Date(et.created_at)>=Qe&&et.status==="completed").reduce((et,bt)=>et+(bt.to_user_id===(H==null?void 0:H.id)?bt.amount:-bt.amount),0);R({totalIncoming:ye,totalOutgoing:Ke,totalTransactions:be.length,pendingCount:Ve,thisMonthTotal:gt})}}catch(be){console.error("Error calculating stats:",be)}},Ne=()=>{let be=[...e];if(o){const ye=o.toLowerCase();be=be.filter(Ke=>{var Ve,Qe,gt;return((Ve=Ke.description)==null?void 0:Ve.toLowerCase().includes(ye))||((Qe=Ke.from_user_name)==null?void 0:Qe.toLowerCase().includes(ye))||((gt=Ke.to_user_name)==null?void 0:gt.toLowerCase().includes(ye))||Ke.id.toLowerCase().includes(ye)})}m!=="all"&&(be=be.filter(ye=>ye.transaction_type===m)),g!=="all"&&(be=be.filter(ye=>ye.status===g)),E!=null&&E.from&&(E!=null&&E.to)&&(be=be.filter(ye=>{const Ke=new Date(ye.created_at);return Ke>=E.from&&Ke<=E.to})),be.sort((ye,Ke)=>{if(w==="date"){const Ve=new Date(ye.created_at).getTime(),Qe=new Date(Ke.created_at).getTime();return C==="desc"?Qe-Ve:Ve-Qe}else return C==="desc"?Ke.amount-ye.amount:ye.amount-Ke.amount}),r(be)},Se=()=>{V&&!z&&re(k+1,!0)},xe=be=>new Intl.NumberFormat(Z?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(be),Pe=be=>new Date(be).toLocaleDateString(Z?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),se=be=>{const ye=be.from_user_id===(H==null?void 0:H.id);switch(be.transaction_type){case"recharge":return a.jsx(Ss,{className:"h-4 w-4 text-green-600"});case"payment":return be.qr_code_id?a.jsx(ls,{className:"h-4 w-4 text-blue-600"}):ye?a.jsx(ql,{className:"h-4 w-4 text-red-600"}):a.jsx(Xn,{className:"h-4 w-4 text-green-600"});case"refund":return a.jsx(Td,{className:"h-4 w-4 text-blue-600"});case"withdrawal":return a.jsx(rB,{className:"h-4 w-4 text-red-600"});default:return a.jsx(Pa,{className:"h-4 w-4 text-gray-600"})}},ce=be=>{switch(be){case"completed":return a.jsx(Je,{className:"bg-green-500 text-white",children:"Completed"});case"pending":return a.jsx(Je,{variant:"secondary",children:"Pending"});case"failed":return a.jsx(Je,{variant:"destructive",children:"Failed"});case"cancelled":return a.jsx(Je,{variant:"outline",children:"Cancelled"});default:return a.jsx(Je,{variant:"outline",children:be})}},oe=be=>be.from_user_id===(H==null?void 0:H.id)?"outgoing":"incoming",he=be=>{const ye=be.from_user_id===(H==null?void 0:H.id);if(be.description)return be.description;switch(be.transaction_type){case"recharge":return"Wallet Recharge";case"payment":return be.qr_code_id?ye?"Transport Payment":"Transport Fare Received":ye?"Payment Sent":"Payment Received";case"refund":return"Refund";case"withdrawal":return"Withdrawal";default:return"Transaction"}},Re=()=>{const be=["Date","Type","Description","Amount","Status","Reference"],ye=n.map(et=>[Pe(et.created_at),et.transaction_type,he(et),`${oe(et)==="incoming"?"+":"-"}${et.amount}`,et.status,et.id]),Ke=[be,...ye].map(et=>et.join(",")).join(`
`),Ve=new Blob([Ke],{type:"text/csv"}),Qe=window.URL.createObjectURL(Ve),gt=document.createElement("a");gt.href=Qe,gt.download=`transactions-${new Date().toISOString().split("T")[0]}.csv`,gt.click(),window.URL.revokeObjectURL(Qe)};return z&&k===1?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:J("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:J("transactions.title")}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage your transaction history"})]}),a.jsxs(we,{onClick:Re,variant:"outline",className:"gap-2",children:[a.jsx(As,{className:"h-4 w-4"}),"Export"]})]}),D&&a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(ue,{children:a.jsxs(fe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xn,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Incoming"})]}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:xe(D.totalIncoming)})]})}),a.jsx(ue,{children:a.jsxs(fe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ql,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Outgoing"})]}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:xe(D.totalOutgoing)})]})}),a.jsx(ue,{children:a.jsxs(fe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ap,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]}),a.jsx("p",{className:"text-xl font-bold",children:D.totalTransactions})]})}),a.jsx(ue,{children:a.jsxs(fe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"This Month"})]}),a.jsx("p",{className:`text-xl font-bold ${D.thisMonthTotal>=0?"text-green-600":"text-red-600"}`,children:xe(Math.abs(D.thisMonthTotal))})]})})]}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"search",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"search",placeholder:"Search transactions...",value:o,onChange:be=>u(be.target.value),className:"pl-8"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Type"}),a.jsxs(kt,{value:m,onValueChange:f,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:"All Types"}),a.jsx(Ae,{value:"payment",children:"Payments"}),a.jsx(Ae,{value:"recharge",children:"Recharges"}),a.jsx(Ae,{value:"refund",children:"Refunds"}),a.jsx(Ae,{value:"withdrawal",children:"Withdrawals"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Status"}),a.jsxs(kt,{value:g,onValueChange:x,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:"All Status"}),a.jsx(Ae,{value:"completed",children:"Completed"}),a.jsx(Ae,{value:"pending",children:"Pending"}),a.jsx(Ae,{value:"failed",children:"Failed"}),a.jsx(Ae,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Sort By"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(kt,{value:w,onValueChange:be=>_(be),children:[a.jsx(It,{className:"flex-1",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"date",children:"Date"}),a.jsx(Ae,{value:"amount",children:"Amount"})]})]}),a.jsx(we,{variant:"outline",size:"icon",onClick:()=>A(C==="asc"?"desc":"asc"),children:a.jsx(qte,{className:"h-4 w-4"})})]})]})]})})})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(ap,{className:"h-5 w-5"}),"Transactions (",n.length,")"]})}),a.jsx(fe,{children:n.length>0?a.jsxs("div",{className:"space-y-4",children:[n.map(be=>{const ye=oe(be)==="outgoing",Ke=ye?be.to_user_name:be.from_user_name;return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>i(be),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[se(be),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:he(be)}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:Pe(be.created_at)}),Ke&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[ye?"To":"From",": ",Ke]})]})]})]})]}),a.jsxs("div",{className:"text-right space-y-2",children:[a.jsxs("p",{className:`font-medium text-sm ${ye?"text-red-600":"text-green-600"}`,children:[ye?"-":"+",xe(be.amount)]}),ce(be.status)]})]},be.id)}),V&&a.jsx("div",{className:"text-center pt-4",children:a.jsx(we,{variant:"outline",onClick:Se,disabled:z,className:"gap-2",children:z?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Loading..."]}):"Load More"})})]}):a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Pa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or make your first transaction"})]})})]})}),a.jsx(Wr,{open:!!s,onOpenChange:be=>!be&&i(null),children:a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:"Transaction Details"}),a.jsx(ka,{children:"Complete information about this transaction"})]}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[se(s),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:he(s)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Pe(s.created_at)})]})]}),a.jsx(hi,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),a.jsxs("span",{className:`font-medium ${oe(s)==="outgoing"?"text-red-600":"text-green-600"}`,children:[oe(s)==="outgoing"?"-":"+",xe(s.amount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),ce(s.status)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"font-medium capitalize",children:s.transaction_type})]}),s.reference_id&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Reference:"}),a.jsx("span",{className:"font-mono text-sm",children:s.reference_id})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Transaction ID:"}),a.jsx("span",{className:"font-mono text-xs",children:s.id})]}),s.completed_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed:"}),a.jsx("span",{className:"text-sm",children:Pe(s.completed_at)})]})]}),a.jsx(hi,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(we,{onClick:()=>{W(s),Q(!0)},className:"w-full gap-2",children:[a.jsx(fv,{className:"h-4 w-4"}),"View Receipt"]}),s.status==="completed"&&a.jsxs(we,{variant:"outline",onClick:()=>G(!0),className:"w-full gap-2 text-red-600 hover:text-red-700",children:[a.jsx(Er,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}),a.jsx(Xfe,{transaction:$,open:Y,onOpenChange:Q,userProfile:H||void 0}),a.jsx(Wr,{open:X,onOpenChange:G,children:a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsxs(Xr,{className:"flex items-center gap-2",children:[a.jsx(Er,{className:"h-5 w-5 text-red-500"}),"Report Transaction Issue"]}),a.jsx(ka,{children:"Describe the issue you're experiencing with this transaction"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"issue-type",children:"Issue Type"}),a.jsxs(kt,{children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Select issue type"})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"unauthorized",children:"Unauthorized Transaction"}),a.jsx(Ae,{value:"wrong-amount",children:"Wrong Amount Charged"}),a.jsx(Ae,{value:"service-not-received",children:"Service Not Received"}),a.jsx(Ae,{value:"duplicate",children:"Duplicate Charge"}),a.jsx(Ae,{value:"technical",children:"Technical Issue"}),a.jsx(Ae,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",className:"w-full p-3 border rounded-lg resize-none h-24",placeholder:"Please describe the issue in detail..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{variant:"outline",className:"flex-1",onClick:()=>G(!1),children:"Cancel"}),a.jsx(we,{className:"flex-1",onClick:()=>{_e.success("Issue reported successfully. Our support team will contact you soon."),G(!1)},children:"Submit Report"})]})]})]})})]})}function hs({size:e="md",text:t}){const{t:n}=Ut(),r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(zs,{className:`animate-spin ${r[e]} text-primary`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t||n("common.loading")})]})})}function Zfe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState([]),[u,m]=j.useState(!0),[f,g]=j.useState(""),[x,w]=j.useState("all"),[_,C]=j.useState("date"),[A,E]=j.useState(null),[M,D]=j.useState(1),[R,z]=j.useState(!1);j.useEffect(()=>{I()},[]),j.useEffect(()=>{k()},[r,f,x,_]);const I=async()=>{try{const{data:W,error:Y}=await $e.from("events").select(`
          *,
          sold_tickets:user_tickets(count),
          available_tickets:max_tickets
        `).eq("is_active",!0).gte("end_date",new Date().toISOString());if(Y)throw Y;const Q=(W==null?void 0:W.map(X=>{var G,H,J,Z;return{...X,sold_tickets:((H=(G=X.sold_tickets)==null?void 0:G[0])==null?void 0:H.count)||0,available_tickets:X.max_tickets-(((Z=(J=X.sold_tickets)==null?void 0:J[0])==null?void 0:Z.count)||0)}}))||[];s(Q)}catch(W){console.error("Error fetching events:",W),_e.error(t("error_fetch_events"))}finally{m(!1)}},k=()=>{let W=r.filter(Y=>{const Q=Y.title.toLowerCase().includes(f.toLowerCase())||(Y.description||"").toLowerCase().includes(f.toLowerCase())||(Y.location||"").toLowerCase().includes(f.toLowerCase()),X=x==="all"||Y.category===x;return Q&&X});W.sort((Y,Q)=>{switch(_){case"date":return new Date(Y.start_date||"").getTime()-new Date(Q.start_date||"").getTime();case"price_low":return(Y.price||0)-(Q.price||0);case"price_high":return(Q.price||0)-(Y.price||0);case"popularity":return Q.sold_tickets-Y.sold_tickets;default:return 0}}),o(W)},F=async()=>{if(!(!A||!e)){if(A.available_tickets<M){_e.error(t("insufficient_tickets"));return}z(!0);try{const{data:W,error:Y}=await $e.from("wallets").select("balance").eq("user_id",e.id).single();if(Y)throw Y;const Q=(A.price||0)*M;if(W.balance<Q){_e.error(t("insufficient_balance"));return}const{data:X,error:G}=await $e.rpc("purchase_event_tickets",{p_event_id:A.id,p_user_id:e.id,p_quantity:M});if(G)throw G;_e.success(t("tickets_purchased_success",{quantity:M.toString()})),E(null),D(1),I()}catch(W){console.error("Error purchasing tickets:",W),_e.error(t("error_purchase_tickets"))}finally{z(!1)}}},V=W=>new Date(W).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=W=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(W),$=[{value:"all",label:t("all_categories")},{value:"concert",label:t("concert")},{value:"sports",label:t("sports")},{value:"theater",label:t("theater")},{value:"conference",label:t("conference")},{value:"workshop",label:t("workshop")},{value:"other",label:t("other")}];return u?a.jsx(hs,{text:t("loading_events")}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("events")}),a.jsx("p",{className:"text-muted-foreground",children:t("events_description")})]}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(dt,{placeholder:t("search_events"),value:f,onChange:W=>g(W.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(kt,{value:x,onValueChange:w,children:[a.jsxs(It,{className:"w-[150px]",children:[a.jsx(nm,{className:"h-4 w-4 mr-2"}),a.jsx(Bt,{})]}),a.jsx(Lt,{children:$.map(W=>a.jsx(Ae,{value:W.value,children:W.label},W.value))})]}),a.jsxs(kt,{value:_,onValueChange:C,children:[a.jsx(It,{className:"w-[150px]",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"date",children:t("sort_by_date")}),a.jsx(Ae,{value:"price_low",children:t("sort_by_price_low")}),a.jsx(Ae,{value:"price_high",children:t("sort_by_price_high")}),a.jsx(Ae,{value:"popularity",children:t("sort_by_popularity")})]})]})]})]})})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((W,Y)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.1},children:a.jsxs(ue,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsx(Te,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Oe,{className:"line-clamp-2",children:W.title}),a.jsx(st,{className:"line-clamp-2 mt-2",children:W.description})]}),a.jsx(Je,{variant:"secondary",className:"ml-2",children:t(W.category||"other")})]})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),V(W.start_date||"")]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),W.location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(ba,{className:"h-4 w-4 mr-2"}),W.available_tickets," ",t("tickets_available")]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-lg font-bold",children:L(W.price||0)}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(sp,{className:"h-4 w-4 mr-1 fill-yellow-400 text-yellow-400"}),W.sold_tickets," ",t("sold")]})]}),a.jsxs(Wr,{children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{className:"w-full",disabled:W.available_tickets===0,onClick:()=>E(W),children:[a.jsx(ca,{className:"h-4 w-4 mr-2"}),W.available_tickets===0?t("sold_out"):t("buy_tickets")]})}),a.jsxs(Gr,{children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:W.title}),a.jsx(ka,{children:W.description})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[t("start_date"),":"]}),a.jsx("p",{children:V(W.start_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("end_date"),":"]}),a.jsx("p",{children:V(W.end_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("location"),":"]}),a.jsx("p",{children:W.location})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("price"),":"]}),a.jsx("p",{children:L(W.price||0)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("quantity")}),a.jsxs(kt,{value:M.toString(),onValueChange:Q=>D(parseInt(Q)),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsx(Lt,{children:Array.from({length:Math.min(W.available_tickets,10)},(Q,X)=>a.jsxs(Ae,{value:(X+1).toString(),children:[X+1," ",t("tickets")]},X+1))})]})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"font-medium",children:[t("total"),":"]}),a.jsx("span",{className:"text-lg font-bold",children:L((W.price||0)*M)})]})}),a.jsx(we,{onClick:F,disabled:R,className:"w-full",children:R?a.jsx(hs,{text:t("processing")}):t("purchase_tickets")})]})]})]})]})]})},W.id))}),i.length===0&&a.jsx(ue,{children:a.jsxs(fe,{className:"text-center py-12",children:[a.jsx(ca,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_events_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_events_description")})]})})]})}function Jfe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState([]),[u,m]=j.useState(!0),[f,g]=j.useState(""),[x,w]=j.useState("all"),[_,C]=j.useState(null);j.useEffect(()=>{e&&A()},[e]),j.useEffect(()=>{E()},[r,f,x]);const A=async()=>{if(e)try{const{data:Y,error:Q}=await $e.from("user_tickets").select(`
          *,
          event:events (*)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(Q)throw Q;s(Y||[])}catch(Y){console.error("Error fetching tickets:",Y),_e.error(t("error_fetch_tickets"))}finally{m(!1)}},E=()=>{let Y=r.filter(Q=>{const X=Q.event.title.toLowerCase().includes(f.toLowerCase())||(Q.event.description||"").toLowerCase().includes(f.toLowerCase())||(Q.event.location||"").toLowerCase().includes(f.toLowerCase()),G=x==="all"||Q.status===x;return X&&G});o(Y)},M=Y=>{const Q={pending:{variant:"outline",label:t("pending")},confirmed:{variant:"default",label:t("confirmed")},used:{variant:"secondary",label:t("used")},cancelled:{variant:"destructive",label:t("cancelled")}},X=Q[Y]||Q.pending;return a.jsx(Je,{variant:X.variant,children:X.label})},D=Y=>i.filter(Q=>Q.status===Y),R=Y=>new Date(Y).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=Y=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(Y),I=Y=>{var Z;const Q={ticketId:Y.id,eventTitle:Y.event.title,eventDate:Y.event.start_date,eventLocation:Y.event.location,userName:((Z=e==null?void 0:e.user_metadata)==null?void 0:Z.full_name)||(e==null?void 0:e.email),purchaseDate:Y.created_at,status:Y.status},X=JSON.stringify(Q,null,2),G=new Blob([X],{type:"application/json"}),H=URL.createObjectURL(G),J=document.createElement("a");J.href=H,J.download=`ticket-${Y.id}.json`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(H),_e.success(t("ticket_downloaded"))},k=Y=>{const Q=`TICKET:${Y.id}:${Y.event.id}:${e==null?void 0:e.id}`;return _e.info(t("qr_code_generated")),Q};if(u)return a.jsx(hs,{text:t("loading_tickets")});const F=D("confirmed"),V=D("used"),L=D("pending"),$=D("cancelled");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("my_tickets")}),a.jsx("p",{className:"text-muted-foreground",children:t("tickets_description")})]}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(dt,{placeholder:t("search_tickets"),value:f,onChange:Y=>g(Y.target.value),className:"pl-10"})]})}),a.jsxs(kt,{value:x,onValueChange:w,children:[a.jsx(It,{className:"w-[150px]",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("all_statuses")}),a.jsx(Ae,{value:"confirmed",children:t("confirmed")}),a.jsx(Ae,{value:"used",children:t("used")}),a.jsx(Ae,{value:"pending",children:t("pending")}),a.jsx(Ae,{value:"cancelled",children:t("cancelled")})]})]})]})})})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs(pi,{defaultValue:"active",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-4",children:[a.jsxs(At,{value:"active",children:[t("active")," (",F.length,")"]}),a.jsxs(At,{value:"used",children:[t("used")," (",V.length,")"]}),a.jsxs(At,{value:"pending",children:[t("pending")," (",L.length,")"]}),a.jsxs(At,{value:"cancelled",children:[t("cancelled")," (",$.length,")"]})]}),a.jsx(Ot,{value:"active",className:"space-y-4",children:a.jsx(W,{tickets:F})}),a.jsx(Ot,{value:"used",className:"space-y-4",children:a.jsx(W,{tickets:V})}),a.jsx(Ot,{value:"pending",className:"space-y-4",children:a.jsx(W,{tickets:L})}),a.jsx(Ot,{value:"cancelled",className:"space-y-4",children:a.jsx(W,{tickets:$})})]})})]});function W({tickets:Y}){return Y.length===0?a.jsx(ue,{children:a.jsxs(fe,{className:"text-center py-12",children:[a.jsx(ca,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_tickets_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_tickets_description")})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map((Q,X)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},children:a.jsxs(ue,{className:"h-full hover:shadow-lg transition-shadow",children:[a.jsx(Te,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Oe,{className:"line-clamp-2",children:Q.event.title}),a.jsx(st,{className:"line-clamp-1 mt-2",children:Q.event.description})]}),M(Q.status)]})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),R(Q.event.start_date||"")]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),Q.event.location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(ca,{className:"h-4 w-4 mr-2"}),t("ticket_id"),": ",Q.id.slice(0,8),"..."]})]}),a.jsx("div",{className:"text-lg font-bold",children:z(Q.event.price||0)}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Wr,{children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>C(Q),children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),t("view")]})}),a.jsxs(Gr,{children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:Q.event.title}),a.jsx(ka,{children:t("ticket_details")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[t("ticket_id"),":"]}),a.jsx("p",{className:"font-mono",children:Q.id})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("status"),":"]}),a.jsx("div",{className:"mt-1",children:M(Q.status)})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("event_date"),":"]}),a.jsx("p",{children:R(Q.event.start_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("purchase_date"),":"]}),a.jsx("p",{children:R(Q.created_at||"")})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsxs("strong",{children:[t("location"),":"]}),a.jsx("p",{children:Q.event.location})]}),Q.event.description&&a.jsxs("div",{className:"col-span-2",children:[a.jsxs("strong",{children:[t("description"),":"]}),a.jsx("p",{children:Q.event.description})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(we,{onClick:()=>k(Q),className:"flex-1",disabled:Q.status!=="confirmed",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),t("show_qr_code")]}),a.jsxs(we,{variant:"outline",onClick:()=>I(Q),className:"flex-1",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),t("download")]})]})]})]})]})})]})]})},Q.id))})}}var B2={},F2={},BP;function ehe(){return BP||(BP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(F2)),F2}var U2={},FP;function qF(){return FP||(FP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(U2)),U2}var z2={},UP;function YF(){return UP||(UP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(z2)),z2}var V2={},zP;function AA(){return zP||(zP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],s=n.length;if(s===0)return r;let i=0,o="",u="",m=!1;for(n.charCodeAt(0)===46&&(r.push(""),i++);i<s;){const f=n[i];u?f==="\\"&&i+1<s?(i++,o+=n[i]):f===u?u="":o+=f:m?f==='"'||f==="'"?u=f:f==="]"?(m=!1,r.push(o),o=""):o+=f:f==="["?(m=!0,o&&(r.push(o),o="")):f==="."?o&&(r.push(o),o=""):o+=f,i++}return o&&r.push(o),r}e.toPath=t}(V2)),V2}var VP;function CA(){return VP||(VP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ehe(),n=qF(),r=YF(),s=AA();function i(u,m,f){if(u==null)return f;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return f;const g=u[m];return g===void 0?n.isDeepKey(m)?i(u,s.toPath(m),f):f:g}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const g=u[m];return g===void 0?f:g}default:{if(Array.isArray(m))return o(u,m,f);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return f;const g=u[m];return g===void 0?f:g}}}function o(u,m,f){if(m.length===0)return f;let g=u;for(let x=0;x<m.length;x++){if(g==null||t.isUnsafeProperty(m[x]))return f;g=g[m[x]]}return g===void 0?f:g}e.get=i}(B2)),B2}var $2,$P;function the(){return $P||($P=1,$2=CA().get),$2}var nhe=the();const hu=Cs(nhe);var H2={exports:{}},$n={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP;function rhe(){if(HP)return $n;HP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function C(A){if(typeof A=="object"&&A!==null){var E=A.$$typeof;switch(E){case e:switch(A=A.type,A){case n:case s:case r:case m:case f:case w:return A;default:switch(A=A&&A.$$typeof,A){case o:case u:case x:case g:return A;case i:return A;default:return E}}case t:return E}}}return $n.ContextConsumer=i,$n.ContextProvider=o,$n.Element=e,$n.ForwardRef=u,$n.Fragment=n,$n.Lazy=x,$n.Memo=g,$n.Portal=t,$n.Profiler=s,$n.StrictMode=r,$n.Suspense=m,$n.SuspenseList=f,$n.isContextConsumer=function(A){return C(A)===i},$n.isContextProvider=function(A){return C(A)===o},$n.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},$n.isForwardRef=function(A){return C(A)===u},$n.isFragment=function(A){return C(A)===n},$n.isLazy=function(A){return C(A)===x},$n.isMemo=function(A){return C(A)===g},$n.isPortal=function(A){return C(A)===t},$n.isProfiler=function(A){return C(A)===s},$n.isStrictMode=function(A){return C(A)===r},$n.isSuspense=function(A){return C(A)===m},$n.isSuspenseList=function(A){return C(A)===f},$n.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===s||A===r||A===m||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===x||A.$$typeof===g||A.$$typeof===o||A.$$typeof===i||A.$$typeof===u||A.$$typeof===_||A.getModuleId!==void 0)},$n.typeOf=C,$n}var qP;function ahe(){return qP||(qP=1,H2.exports=rhe()),H2.exports}var she=ahe(),Da=e=>e===0?0:e>0?1:-1,Vs=e=>typeof e=="number"&&e!=+e,md=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ot=e=>(typeof e=="number"||e instanceof Number)&&!Vs(e),el=e=>ot(e)||typeof e=="string",ihe=0,mu=e=>{var t=++ihe;return"".concat(e||"").concat(t)},_s=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ot(t)&&typeof t!="string")return r;var i;if(md(t)){if(n==null)return r;var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Vs(i)&&(i=r),s&&n!=null&&i>n&&(i=n),i},WF=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},oi=(e,t)=>ot(e)&&ot(t)?n=>e+n*(t-e):()=>t;function th(e,t,n){return ot(e)&&ot(t)?e+n*(t-e):t}function GF(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):hu(r,t))===n)}var Fn=e=>e===null||typeof e>"u",Gp=e=>Fn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),ohe=["viewBox","children"],lhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YP=["points","pathLength"],q2={svg:ohe,polygon:YP,polyline:YP},TA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],OA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{TA.includes(s)&&(r[s]=i=>n[s](n,i))}),r},che=(e,t,n)=>r=>(e(t,n,r),null),Kp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var i=e[s];TA.includes(s)&&typeof i=="function"&&(r||(r={}),r[s]=che(i,t,n))}),r},WP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",GP=null,Y2=null,KF=e=>{if(e===GP&&Array.isArray(Y2))return Y2;var t=[];return j.Children.forEach(e,n=>{Fn(n)||(she.isFragment(n)?t=t.concat(KF(n.props.children)):t.push(n))}),Y2=t,GP=e,t};function Xp(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(s=>WP(s)):r=[WP(t)],KF(e).forEach(s=>{var i=hu(s,"type.displayName")||hu(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}var l1=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,uhe=(e,t,n,r)=>{var s,i=(s=r&&(q2==null?void 0:q2[r]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(r&&i.includes(t)||lhe.includes(t))||n&&TA.includes(t)},Wt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(i=>{var o;uhe((o=r)===null||o===void 0?void 0:o[i],i,t,n)&&(s[i]=r[i])}),s},dhe=["children","width","height","viewBox","className","style","title","desc"];function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GS.apply(null,arguments)}function fhe(e,t){if(e==null)return{};var n,r,s=hhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function hhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MA=j.forwardRef((e,t)=>{var{children:n,width:r,height:s,viewBox:i,className:o,style:u,title:m,desc:f}=e,g=fhe(e,dhe),x=i||{width:r,height:s,x:0,y:0},w=ln("recharts-surface",o);return j.createElement("svg",GS({},Wt(g,!0,"svg"),{className:w,width:r,height:s,style:u,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),j.createElement("title",null,m),j.createElement("desc",null,f),n)}),mhe=["children","className"];function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KS.apply(null,arguments)}function ghe(e,t){if(e==null)return{};var n,r,s=phe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function phe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ar=j.forwardRef((e,t)=>{var{children:n,className:r}=e,s=ghe(e,mhe),i=ln("recharts-layer",r);return j.createElement("g",KS({className:i},Wt(s,!0),{ref:t}),n)}),XF=j.createContext(null),xhe=()=>j.useContext(XF);function tr(e){return function(){return e}}const QF=Math.cos,qv=Math.sin,vo=Math.sqrt,Yv=Math.PI,c1=2*Yv,XS=Math.PI,QS=2*XS,od=1e-6,vhe=QS-od;function ZF(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function yhe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZF;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class bhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZF:yhe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,m=r-t,f=s-n,g=o-t,x=u-n,w=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(w>od)if(!(Math.abs(x*m-f*g)>od)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-o,C=s-u,A=m*m+f*f,E=_*_+C*C,M=Math.sqrt(A),D=Math.sqrt(w),R=i*Math.tan((XS-Math.acos((A+w-E)/(2*M*D)))/2),z=R/D,I=R/M;Math.abs(z-1)>od&&this._append`L${t+z*g},${n+z*x}`,this._append`A${i},${i},0,0,${+(x*_>g*C)},${this._x1=t+I*m},${this._y1=n+I*f}`}}arc(t,n,r,s,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(s),m=r*Math.sin(s),f=t+u,g=n+m,x=1^o,w=o?s-i:i-s;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>od||Math.abs(this._y1-g)>od)&&this._append`L${f},${g}`,r&&(w<0&&(w=w%QS+QS),w>vhe?this._append`A${r},${r},0,1,${x},${t-u},${n-m}A${r},${r},0,1,${x},${this._x1=f},${this._y1=g}`:w>od&&this._append`A${r},${r},0,${+(w>=XS)},${x},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function DA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new bhe(t)}function PA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JF(e){this._context=e}JF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function u1(e){return new JF(e)}function eU(e){return e[0]}function tU(e){return e[1]}function nU(e,t){var n=tr(!0),r=null,s=u1,i=null,o=DA(u);e=typeof e=="function"?e:e===void 0?eU:tr(e),t=typeof t=="function"?t:t===void 0?tU:tr(t);function u(m){var f,g=(m=PA(m)).length,x,w=!1,_;for(r==null&&(i=s(_=o())),f=0;f<=g;++f)!(f<g&&n(x=m[f],f,m))===w&&((w=!w)?i.lineStart():i.lineEnd()),w&&i.point(+e(x,f,m),+t(x,f,m));if(_)return i=null,_+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:tr(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:tr(+m),u):t},u.defined=function(m){return arguments.length?(n=typeof m=="function"?m:tr(!!m),u):n},u.curve=function(m){return arguments.length?(s=m,r!=null&&(i=s(r)),u):s},u.context=function(m){return arguments.length?(m==null?r=i=null:i=s(r=m),u):r},u}function $x(e,t,n){var r=null,s=tr(!0),i=null,o=u1,u=null,m=DA(f);e=typeof e=="function"?e:e===void 0?eU:tr(+e),t=typeof t=="function"?t:tr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tU:tr(+n);function f(x){var w,_,C,A=(x=PA(x)).length,E,M=!1,D,R=new Array(A),z=new Array(A);for(i==null&&(u=o(D=m())),w=0;w<=A;++w){if(!(w<A&&s(E=x[w],w,x))===M)if(M=!M)_=w,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),C=w-1;C>=_;--C)u.point(R[C],z[C]);u.lineEnd(),u.areaEnd()}M&&(R[w]=+e(E,w,x),z[w]=+t(E,w,x),u.point(r?+r(E,w,x):R[w],n?+n(E,w,x):z[w]))}if(D)return u=null,D+""||null}function g(){return nU().defined(s).curve(o).context(i)}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:tr(+x),r=null,f):e},f.x0=function(x){return arguments.length?(e=typeof x=="function"?x:tr(+x),f):e},f.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:tr(+x),f):r},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:tr(+x),n=null,f):t},f.y0=function(x){return arguments.length?(t=typeof x=="function"?x:tr(+x),f):t},f.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:tr(+x),f):n},f.lineX0=f.lineY0=function(){return g().x(e).y(t)},f.lineY1=function(){return g().x(e).y(n)},f.lineX1=function(){return g().x(r).y(t)},f.defined=function(x){return arguments.length?(s=typeof x=="function"?x:tr(!!x),f):s},f.curve=function(x){return arguments.length?(o=x,i!=null&&(u=o(i)),f):o},f.context=function(x){return arguments.length?(x==null?i=u=null:u=o(i=x),f):i},f}class rU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function whe(e){return new rU(e,!0)}function jhe(e){return new rU(e,!1)}const RA={draw(e,t){const n=vo(t/Yv);e.moveTo(n,0),e.arc(0,0,n,0,c1)}},Nhe={draw(e,t){const n=vo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},aU=vo(1/3),She=aU*2,_he={draw(e,t){const n=vo(t/She),r=n*aU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ehe={draw(e,t){const n=vo(t),r=-n/2;e.rect(r,r,n,n)}},Ahe=.8908130915292852,sU=qv(Yv/10)/qv(7*Yv/10),Che=qv(c1/10)*sU,The=-QF(c1/10)*sU,Ohe={draw(e,t){const n=vo(t*Ahe),r=Che*n,s=The*n;e.moveTo(0,-n),e.lineTo(r,s);for(let i=1;i<5;++i){const o=c1*i/5,u=QF(o),m=qv(o);e.lineTo(m*n,-u*n),e.lineTo(u*r-m*s,m*r+u*s)}e.closePath()}},W2=vo(3),Mhe={draw(e,t){const n=-vo(t/(W2*3));e.moveTo(0,n*2),e.lineTo(-W2*n,-n),e.lineTo(W2*n,-n),e.closePath()}},Ti=-.5,Oi=vo(3)/2,ZS=1/vo(12),Dhe=(ZS/2+1)*3,Phe={draw(e,t){const n=vo(t/Dhe),r=n/2,s=n*ZS,i=r,o=n*ZS+n,u=-i,m=o;e.moveTo(r,s),e.lineTo(i,o),e.lineTo(u,m),e.lineTo(Ti*r-Oi*s,Oi*r+Ti*s),e.lineTo(Ti*i-Oi*o,Oi*i+Ti*o),e.lineTo(Ti*u-Oi*m,Oi*u+Ti*m),e.lineTo(Ti*r+Oi*s,Ti*s-Oi*r),e.lineTo(Ti*i+Oi*o,Ti*o-Oi*i),e.lineTo(Ti*u+Oi*m,Ti*m-Oi*u),e.closePath()}};function Rhe(e,t){let n=null,r=DA(s);e=typeof e=="function"?e:tr(e||RA),t=typeof t=="function"?t:tr(t===void 0?64:+t);function s(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:tr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:tr(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Wv(){}function Gv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function iU(e){this._context=e}iU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function khe(e){return new iU(e)}function oU(e){this._context=e}oU.prototype={areaStart:Wv,areaEnd:Wv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ihe(e){return new oU(e)}function lU(e){this._context=e}lU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lhe(e){return new lU(e)}function cU(e){this._context=e}cU.prototype={areaStart:Wv,areaEnd:Wv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bhe(e){return new cU(e)}function KP(e){return e<0?-1:1}function XP(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),u=(i*s+o*r)/(r+s);return(KP(i)+KP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function QP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function G2(e,t,n){var r=e._x0,s=e._y0,i=e._x1,o=e._y1,u=(i-r)/3;e._context.bezierCurveTo(r+u,s+u*t,i-u,o-u*n,i,o)}function Kv(e){this._context=e}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:G2(this,this._t0,QP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,G2(this,QP(this,n=XP(this,e,t)),n);break;default:G2(this,this._t0,n=XP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function uU(e){this._context=new dU(e)}(uU.prototype=Object.create(Kv.prototype)).point=function(e,t){Kv.prototype.point.call(this,t,e)};function dU(e){this._context=e}dU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,i){this._context.bezierCurveTo(t,e,r,n,i,s)}};function Fhe(e){return new Kv(e)}function Uhe(e){return new uU(e)}function fU(e){this._context=e}fU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=ZP(e),s=ZP(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ZP(e){var t,n=e.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function zhe(e){return new fU(e)}function d1(e,t){this._context=e,this._t=t}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Vhe(e){return new d1(e,.5)}function $he(e){return new d1(e,0)}function Hhe(e){return new d1(e,1)}function Rh(e,t){if((o=e.length)>1)for(var n=1,r,s,i=e[t[0]],o,u=i.length;n<o;++n)for(s=i,i=e[t[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function JS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function qhe(e,t){return e[t]}function Yhe(e){const t=[];return t.key=e,t}function Whe(){var e=tr([]),t=JS,n=Rh,r=qhe;function s(i){var o=Array.from(e.apply(this,arguments),Yhe),u,m=o.length,f=-1,g;for(const x of i)for(u=0,++f;u<m;++u)(o[u][f]=[0,+r(x,o[u].key,f,i)]).data=x;for(u=0,g=PA(t(o));u<m;++u)o[g[u]].index=u;return n(o,g),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:tr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:tr(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?JS:typeof i=="function"?i:tr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Rh,s):n},s}function Ghe(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}Rh(e,t)}}function Khe(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,i=r.length;n<i;++n){for(var o=0,u=0;o<s;++o)u+=e[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Rh(e,t)}}function Xhe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var u=0,m=0,f=0;u<o;++u){for(var g=e[t[u]],x=g[r][1]||0,w=g[r-1][1]||0,_=(x-w)/2,C=0;C<u;++C){var A=e[t[C]],E=A[r][1]||0,M=A[r-1][1]||0;_+=E-M}m+=x,f+=_*x}s[r-1][1]+=s[r-1][0]=n,m&&(n-=f/m)}s[r-1][1]+=s[r-1][0]=n,Rh(e,t)}}var Qhe=["type","size","sizeType"];function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e_.apply(null,arguments)}function JP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(n),!0).forEach(function(r){Zhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zhe(e,t,n){return(t=Jhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jhe(e){var t=eme(e,"string");return typeof t=="symbol"?t:t+""}function eme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tme(e,t){if(e==null)return{};var n,r,s=nme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hU={symbolCircle:RA,symbolCross:Nhe,symbolDiamond:_he,symbolSquare:Ehe,symbolStar:Ohe,symbolTriangle:Mhe,symbolWye:Phe},rme=Math.PI/180,ame=e=>{var t="symbol".concat(Gp(e));return hU[t]||RA},sme=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*rme;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ime=(e,t)=>{hU["symbol".concat(Gp(e))]=t},kA=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,s=tme(e,Qhe),i=eR(eR({},s),{},{type:t,size:n,sizeType:r}),o=()=>{var x=ame(t),w=Rhe().type(x).size(sme(n,r,t));return w()},{className:u,cx:m,cy:f}=i,g=Wt(i,!0);return m===+m&&f===+f&&n===+n?j.createElement("path",e_({},g,{className:ln("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(f,")"),d:o()})):null};kA.registerSymbol=ime;function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t_.apply(null,arguments)}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ome(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(r){IA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IA(e,t,n){return(t=lme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lme(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mi=32;class LA extends j.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,s=Mi/2,i=Mi/6,o=Mi/3,u=t.inactive?r:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Mi,y2:s,className:"recharts-legend-icon"});if(m==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Mi,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(m==="rect")return j.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Mi/8,"h").concat(Mi,"v").concat(Mi*3/4,"h").concat(-Mi,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var f=ome({},t);return delete f.legendIcon,j.cloneElement(t.legendIcon,f)}return j.createElement(kA,{fill:u,cx:s,cy:s,size:Mi,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:s,inactiveColor:i,iconType:o}=this.props,u={x:0,y:0,width:Mi,height:Mi},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,x)=>{var w=g.formatter||s,_=ln({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:g.inactive});if(g.type==="none")return null;var C=g.inactive?i:g.color,A=w?w(g.value,g,x):g.value;return j.createElement("li",t_({className:_,style:m,key:"legend-item-".concat(x)},Kp(this.props,g,x)),j.createElement(MA,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(A," legend icon")},this.renderIcon(g,o)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},A))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}IA(LA,"displayName","Legend");IA(LA,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var K2={},X2={},nR;function ume(){return nR||(nR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const s=new Map;for(let i=0;i<n.length;i++){const o=n[i],u=r(o);s.has(u)||s.set(u,o)}return Array.from(s.values())}e.uniqBy=t}(X2)),X2}var Q2={},rR;function mU(){return rR||(rR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(Q2)),Q2}var Z2={},J2={},ej={},aR;function dme(){return aR||(aR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(ej)),ej}var sR;function BA(){return sR||(sR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dme();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(J2)),J2}var tj={},iR;function fme(){return iR||(iR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(tj)),tj}var oR;function hme(){return oR||(oR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA(),n=fme();function r(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r}(Z2)),Z2}var nj={},rj={},lR;function mme(){return lR||(lR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CA();function n(r){return function(s){return t.get(s,r)}}e.property=n}(rj)),rj}var aj={},sj={},ij={},oj={},cR;function gU(){return cR||(cR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(oj)),oj}var lj={},uR;function pU(){return uR||(uR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(lj)),lj}var cj={},dR;function FA(){return dR||(dR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(cj)),cj}var fR;function gme(){return fR||(fR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA(),n=gU(),r=pU(),s=FA();function i(x,w,_){return typeof _!="function"?t.isMatch(x,w):o(x,w,function C(A,E,M,D,R,z){const I=_(A,E,M,D,R,z);return I!==void 0?!!I:o(A,E,C,z)},new Map)}function o(x,w,_,C){if(w===x)return!0;switch(typeof w){case"object":return u(x,w,_,C);case"function":return Object.keys(w).length>0?o(x,{...w},_,C):s.eq(x,w);default:return n.isObject(x)?typeof w=="string"?w==="":!0:s.eq(x,w)}}function u(x,w,_,C){if(w==null)return!0;if(Array.isArray(w))return f(x,w,_,C);if(w instanceof Map)return m(x,w,_,C);if(w instanceof Set)return g(x,w,_,C);const A=Object.keys(w);if(x==null)return A.length===0;if(A.length===0)return!0;if(C&&C.has(w))return C.get(w)===x;C&&C.set(w,x);try{for(let E=0;E<A.length;E++){const M=A[E];if(!r.isPrimitive(x)&&!(M in x)||w[M]===void 0&&x[M]!==void 0||w[M]===null&&x[M]!==null||!_(x[M],w[M],M,x,w,C))return!1}return!0}finally{C&&C.delete(w)}}function m(x,w,_,C){if(w.size===0)return!0;if(!(x instanceof Map))return!1;for(const[A,E]of w.entries()){const M=x.get(A);if(_(M,E,A,x,w,C)===!1)return!1}return!0}function f(x,w,_,C){if(w.length===0)return!0;if(!Array.isArray(x))return!1;const A=new Set;for(let E=0;E<w.length;E++){const M=w[E];let D=!1;for(let R=0;R<x.length;R++){if(A.has(R))continue;const z=x[R];let I=!1;if(_(z,M,E,x,w,C)&&(I=!0),I){A.add(R),D=!0;break}}if(!D)return!1}return!0}function g(x,w,_,C){return w.size===0?!0:x instanceof Set?f([...x],[...w],_,C):!1}e.isMatchWith=i,e.isSetMatch=g}(ij)),ij}var hR;function UA(){return hR||(hR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gme();function n(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=n}(sj)),sj}var uj={},dj={},fj={},mR;function xU(){return mR||(mR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(fj)),fj}var hj={},gR;function zA(){return gR||(gR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(hj)),hj}var mj={},pR;function VA(){return pR||(pR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",u="[object Date]",m="[object Map]",f="[object Set]",g="[object Array]",x="[object Function]",w="[object ArrayBuffer]",_="[object Object]",C="[object Error]",A="[object DataView]",E="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]",z="[object BigUint64Array]",I="[object Int8Array]",k="[object Int16Array]",F="[object Int32Array]",V="[object BigInt64Array]",L="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=w,e.arrayTag=g,e.bigInt64ArrayTag=V,e.bigUint64ArrayTag=z,e.booleanTag=s,e.dataViewTag=A,e.dateTag=u,e.errorTag=C,e.float32ArrayTag=L,e.float64ArrayTag=$,e.functionTag=x,e.int16ArrayTag=k,e.int32ArrayTag=F,e.int8ArrayTag=I,e.mapTag=m,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=D,e.uint32ArrayTag=R,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=M}(mj)),mj}var gj={},xR;function pme(){return xR||(xR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(gj)),gj}var vR;function vU(){return vR||(vR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xU(),n=zA(),r=VA(),s=pU(),i=pme();function o(g,x){return u(g,void 0,g,new Map,x)}function u(g,x,w,_=new Map,C=void 0){const A=C==null?void 0:C(g,x,w,_);if(A!=null)return A;if(s.isPrimitive(g))return g;if(_.has(g))return _.get(g);if(Array.isArray(g)){const E=new Array(g.length);_.set(g,E);for(let M=0;M<g.length;M++)E[M]=u(g[M],M,w,_,C);return Object.hasOwn(g,"index")&&(E.index=g.index),Object.hasOwn(g,"input")&&(E.input=g.input),E}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const E=new RegExp(g.source,g.flags);return E.lastIndex=g.lastIndex,E}if(g instanceof Map){const E=new Map;_.set(g,E);for(const[M,D]of g)E.set(M,u(D,M,w,_,C));return E}if(g instanceof Set){const E=new Set;_.set(g,E);for(const M of g)E.add(u(M,void 0,w,_,C));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(i.isTypedArray(g)){const E=new(Object.getPrototypeOf(g)).constructor(g.length);_.set(g,E);for(let M=0;M<g.length;M++)E[M]=u(g[M],M,w,_,C);return E}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const E=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return _.set(g,E),m(E,g,w,_,C),E}if(typeof File<"u"&&g instanceof File){const E=new File([g],g.name,{type:g.type});return _.set(g,E),m(E,g,w,_,C),E}if(g instanceof Blob){const E=new Blob([g],{type:g.type});return _.set(g,E),m(E,g,w,_,C),E}if(g instanceof Error){const E=new g.constructor;return _.set(g,E),E.message=g.message,E.name=g.name,E.stack=g.stack,E.cause=g.cause,m(E,g,w,_,C),E}if(typeof g=="object"&&f(g)){const E=Object.create(Object.getPrototypeOf(g));return _.set(g,E),m(E,g,w,_,C),E}return g}function m(g,x,w=g,_,C){const A=[...Object.keys(x),...t.getSymbols(x)];for(let E=0;E<A.length;E++){const M=A[E],D=Object.getOwnPropertyDescriptor(g,M);(D==null||D.writable)&&(g[M]=u(x[M],M,w,_,C))}}function f(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=m}(dj)),dj}var yR;function xme(){return yR||(yR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vU();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(uj)),uj}var bR;function vme(){return bR||(bR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA(),n=xme();function r(s){return s=n.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=r}(aj)),aj}var pj={},xj={},vj={},wR;function yme(){return wR||(wR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vU(),n=VA();function r(s,i){return t.cloneDeepWith(s,(o,u,m,f)=>{const g=i==null?void 0:i(o,u,m,f);if(g!=null)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r}(vj)),vj}var jR;function bme(){return jR||(jR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yme();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(xj)),xj}var yj={},bj={},NR;function yU(){return NR||(NR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(bj)),bj}var wj={},SR;function wme(){return SR||(SR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(wj)),wj}var _R;function jme(){return _R||(_R=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qF(),n=yU(),r=wme(),s=AA();function i(o,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&(o==null?void 0:o[u])==null?m=s.toPath(u):m=[u],m.length===0)return!1;let f=o;for(let g=0;g<m.length;g++){const x=m[g];if((f==null||!Object.hasOwn(f,x))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(x)&&x<f.length))return!1;f=f[x]}return!0}e.has=i}(yj)),yj}var ER;function Nme(){return ER||(ER=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA(),n=YF(),r=bme(),s=CA(),i=jme();function o(u,m){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return m=r.cloneDeep(m),function(f){const g=s.get(f,u);return g===void 0?i.has(f,u):m===void 0?g===void 0:t.isMatch(g,m)}}e.matchesProperty=o}(pj)),pj}var AR;function Sme(){return AR||(AR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mU(),n=mme(),r=vme(),s=Nme();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i}(nj)),nj}var CR;function _me(){return CR||(CR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ume(),n=mU(),r=hme(),s=Sme();function i(o,u=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(u)):[]}e.uniqBy=i}(K2)),K2}var jj,TR;function Eme(){return TR||(TR=1,jj=_me().uniqBy),jj}var Ame=Eme();const OR=Cs(Ame);function bU(e,t,n){return t===!0?OR(e,n):typeof t=="function"?OR(e,t):e}var Nj={exports:{}},Sj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR;function Cme(){if(MR)return Sj;MR=1;var e=Hh(),t=E7();function n(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,u=e.useMemo,m=e.useDebugValue;return Sj.useSyncExternalStoreWithSelector=function(f,g,x,w,_){var C=i(null);if(C.current===null){var A={hasValue:!1,value:null};C.current=A}else A=C.current;C=u(function(){function M(k){if(!D){if(D=!0,R=k,k=w(k),_!==void 0&&A.hasValue){var F=A.value;if(_(F,k))return z=F}return z=k}if(F=z,r(R,k))return F;var V=w(k);return _!==void 0&&_(F,V)?(R=k,F):(R=k,z=V)}var D=!1,R,z,I=x===void 0?null:x;return[function(){return M(g())},I===null?void 0:function(){return M(I())}]},[g,x,w,_]);var E=s(f,C[0],C[1]);return o(function(){A.hasValue=!0,A.value=E},[E]),m(E),E},Sj}var DR;function Tme(){return DR||(DR=1,Nj.exports=Cme()),Nj.exports}var Ome=Tme(),$A=j.createContext(null),Mme=e=>e,pr=()=>{var e=j.useContext($A);return e?e.store.dispatch:Mme},xv=()=>{},Dme=()=>xv,Pme=(e,t)=>e===t;function yt(e){var t=j.useContext($A);return Ome.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Dme,t?t.store.getState:xv,t?t.store.getState:xv,t?e:xv,Pme)}function Rme(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function kme(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Ime(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var PR=e=>Array.isArray(e)?e:[e];function Lme(e){const t=Array.isArray(e[0])?e[0]:e;return Ime(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Bme(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var Fme=class{constructor(e){this.value=e}deref(){return this.value}},Ume=typeof WeakRef<"u"?WeakRef:Fme,zme=0,RR=1;function Hx(){return{s:zme,v:void 0,o:null,p:null}}function wU(e,t={}){let n=Hx();const{resultEqualityCheck:r}=t;let s,i=0;function o(){var x;let u=n;const{length:m}=arguments;for(let w=0,_=m;w<_;w++){const C=arguments[w];if(typeof C=="function"||typeof C=="object"&&C!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const E=A.get(C);E===void 0?(u=Hx(),A.set(C,u)):u=E}else{let A=u.p;A===null&&(u.p=A=new Map);const E=A.get(C);E===void 0?(u=Hx(),A.set(C,u)):u=E}}const f=u;let g;if(u.s===RR)g=u.v;else if(g=e.apply(null,arguments),i++,r){const w=((x=s==null?void 0:s.deref)==null?void 0:x.call(s))??s;w!=null&&r(w,g)&&(g=w,i!==0&&i--),s=typeof g=="object"&&g!==null||typeof g=="function"?new Ume(g):g}return f.s=RR,f.v=g,g}return o.clearCache=()=>{n=Hx(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Vme(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let i=0,o=0,u,m={},f=s.pop();typeof f=="object"&&(m=f,f=s.pop()),Rme(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const g={...n,...m},{memoize:x,memoizeOptions:w=[],argsMemoize:_=wU,argsMemoizeOptions:C=[]}=g,A=PR(w),E=PR(C),M=Lme(s),D=x(function(){return i++,f.apply(null,arguments)},...A),R=_(function(){o++;const I=Bme(M,arguments);return u=D.apply(null,I),u},...E);return Object.assign(R,{resultFunc:f,memoizedResultFunc:D,dependencies:M,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:x,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var Ue=Vme(wU),$me=Object.assign((e,t=Ue)=>{kme(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((o,u,m)=>(o[n[m]]=u,o),{}))},{withTypes:()=>$me}),_j={},Ej={},Aj={},kR;function Hme(){return kR||(kR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,i)=>{if(r!==s){const o=t(r),u=t(s);if(o===u&&o===0){if(r<s)return i==="desc"?1:-1;if(r>s)return i==="desc"?-1:1}return i==="desc"?u-o:o-u}return 0};e.compareValues=n}(Aj)),Aj}var Cj={},Tj={},IR;function jU(){return IR||(IR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(Tj)),Tj}var LR;function qme(){return LR||(LR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s}(Cj)),Cj}var BR;function Yme(){return BR||(BR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hme(),n=qme(),r=AA();function s(i,o,u,m){if(i==null)return[];u=m?void 0:u,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const f=(_,C)=>{let A=_;for(let E=0;E<C.length&&A!=null;++E)A=A[C[E]];return A},g=(_,C)=>C==null||_==null?C:typeof _=="object"&&"key"in _?Object.hasOwn(C,_.key)?C[_.key]:f(C,_.path):typeof _=="function"?_(C):Array.isArray(_)?f(C,_):typeof C=="object"?C[_]:C,x=o.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return i.map(_=>({original:_,criteria:x.map(C=>g(C,_))})).slice().sort((_,C)=>{for(let A=0;A<x.length;A++){const E=t.compareValues(_.criteria[A],C.criteria[A],u[A]);if(E!==0)return E}return 0}).map(_=>_.original)}e.orderBy=s}(Ej)),Ej}var Oj={},FR;function Wme(){return FR||(FR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const s=[],i=Math.floor(r),o=(u,m)=>{for(let f=0;f<u.length;f++){const g=u[f];Array.isArray(g)&&m<i?o(g,m+1):s.push(g)}};return o(n,0),s}e.flatten=t}(Oj)),Oj}var Mj={},UR;function NU(){return UR||(UR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yU(),n=BA(),r=gU(),s=FA();function i(o,u,m){return r.isObject(m)&&(typeof u=="number"&&n.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?s.eq(m[u],o):!1}e.isIterateeCall=i}(Mj)),Mj}var zR;function Gme(){return zR||(zR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yme(),n=Wme(),r=NU();function s(i,...o){const u=o.length;return u>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=s}(_j)),_j}var Dj,VR;function Kme(){return VR||(VR=1,Dj=Gme().sortBy),Dj}var Xme=Kme();const f1=Cs(Xme);var SU=e=>e.legend.settings,Qme=e=>e.legend.size,Zme=e=>e.legend.payload,Jme=Ue([Zme,SU],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?f1(r,n):r});function ege(){return yt(Jme)}var qx=1;function _U(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>qx||Math.abs(o.left-t.left)>qx||Math.abs(o.top-t.top)>qx||Math.abs(o.width-t.width)>qx)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function $a(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tge=typeof Symbol=="function"&&Symbol.observable||"@@observable",$R=tge,Pj=()=>Math.random().toString(36).substring(7).split("").join("."),nge={INIT:`@@redux/INIT${Pj()}`,REPLACE:`@@redux/REPLACE${Pj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pj()}`},Xv=nge;function HA(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EU(e,t,n){if(typeof e!="function")throw new Error($a(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($a(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($a(1));return n(EU)(e,t)}let r=e,s=t,i=new Map,o=i,u=0,m=!1;function f(){o===i&&(o=new Map,i.forEach((E,M)=>{o.set(M,E)}))}function g(){if(m)throw new Error($a(3));return s}function x(E){if(typeof E!="function")throw new Error($a(4));if(m)throw new Error($a(5));let M=!0;f();const D=u++;return o.set(D,E),function(){if(M){if(m)throw new Error($a(6));M=!1,f(),o.delete(D),i=null}}}function w(E){if(!HA(E))throw new Error($a(7));if(typeof E.type>"u")throw new Error($a(8));if(typeof E.type!="string")throw new Error($a(17));if(m)throw new Error($a(9));try{m=!0,s=r(s,E)}finally{m=!1}return(i=o).forEach(D=>{D()}),E}function _(E){if(typeof E!="function")throw new Error($a(10));r=E,w({type:Xv.REPLACE})}function C(){const E=x;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error($a(11));function D(){const z=M;z.next&&z.next(g())}return D(),{unsubscribe:E(D)}},[$R](){return this}}}return w({type:Xv.INIT}),{dispatch:w,subscribe:x,getState:g,replaceReducer:_,[$R]:C}}function rge(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Xv.INIT})>"u")throw new Error($a(12));if(typeof n(void 0,{type:Xv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($a(13))})}function AU(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let s;try{rge(n)}catch(i){s=i}return function(o={},u){if(s)throw s;let m=!1;const f={};for(let g=0;g<r.length;g++){const x=r[g],w=n[x],_=o[x],C=w(_,u);if(typeof C>"u")throw u&&u.type,new Error($a(14));f[x]=C,m=m||C!==_}return m=m||r.length!==Object.keys(o).length,m?f:o}}function Qv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function age(...e){return t=>(n,r)=>{const s=t(n,r);let i=()=>{throw new Error($a(15))};const o={getState:s.getState,dispatch:(m,...f)=>i(m,...f)},u=e.map(m=>m(o));return i=Qv(...u)(s.dispatch),{...s,dispatch:i}}}function CU(e){return HA(e)&&"type"in e&&typeof e.type=="string"}var TU=Symbol.for("immer-nothing"),HR=Symbol.for("immer-draftable"),mi=Symbol.for("immer-state");function lo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kh=Object.getPrototypeOf;function Id(e){return!!e&&!!e[mi]}function Kl(e){var t;return e?OU(e)||Array.isArray(e)||!!e[HR]||!!((t=e.constructor)!=null&&t[HR])||m1(e)||g1(e):!1}var sge=Object.prototype.constructor.toString();function OU(e){if(!e||typeof e!="object")return!1;const t=kh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===sge}function Zv(e,t){h1(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function h1(e){const t=e[mi];return t?t.type_:Array.isArray(e)?1:m1(e)?2:g1(e)?3:0}function n_(e,t){return h1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function MU(e,t,n){const r=h1(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ige(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function m1(e){return e instanceof Map}function g1(e){return e instanceof Set}function ld(e){return e.copy_||e.base_}function r_(e,t){if(m1(e))return new Map(e);if(g1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=OU(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[mi];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(kh(e),r)}else{const r=kh(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function qA(e,t=!1){return p1(e)||Id(e)||!Kl(e)||(h1(e)>1&&(e.set=e.add=e.clear=e.delete=oge),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>qA(r,!0))),e}function oge(){lo(2)}function p1(e){return Object.isFrozen(e)}var lge={};function Ld(e){const t=lge[e];return t||lo(0,e),t}var mp;function DU(){return mp}function cge(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qR(e,t){t&&(Ld("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function a_(e){s_(e),e.drafts_.forEach(uge),e.drafts_=null}function s_(e){e===mp&&(mp=e.parent_)}function YR(e){return mp=cge(mp,e)}function uge(e){const t=e[mi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function WR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[mi].modified_&&(a_(t),lo(4)),Kl(e)&&(e=Jv(t,e),t.parent_||ey(t,e)),t.patches_&&Ld("Patches").generateReplacementPatches_(n[mi].base_,e,t.patches_,t.inversePatches_)):e=Jv(t,n,[]),a_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TU?e:void 0}function Jv(e,t,n){if(p1(t))return t;const r=t[mi];if(!r)return Zv(t,(s,i)=>GR(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ey(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),Zv(i,(u,m)=>GR(e,r,s,u,m,n,o)),ey(e,s,!1),n&&e.patches_&&Ld("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function GR(e,t,n,r,s,i,o){if(Id(s)){const u=i&&t&&t.type_!==3&&!n_(t.assigned_,r)?i.concat(r):void 0,m=Jv(e,s,u);if(MU(n,r,m),Id(m))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Kl(s)&&!p1(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Jv(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ey(e,s)}}function ey(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qA(t,n)}function dge(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:DU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=YA;n&&(s=[r],i=gp);const{revoke:o,proxy:u}=Proxy.revocable(s,i);return r.draft_=u,r.revoke_=o,u}var YA={get(e,t){if(t===mi)return e;const n=ld(e);if(!n_(n,t))return fge(e,n,t);const r=n[t];return e.finalized_||!Kl(r)?r:r===Rj(e.base_,t)?(kj(e),e.copy_[t]=o_(r,e)):r},has(e,t){return t in ld(e)},ownKeys(e){return Reflect.ownKeys(ld(e))},set(e,t,n){const r=PU(ld(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Rj(ld(e),t),i=s==null?void 0:s[mi];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(ige(n,s)&&(n!==void 0||n_(e.base_,t)))return!0;kj(e),i_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Rj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kj(e),i_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ld(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){lo(11)},getPrototypeOf(e){return kh(e.base_)},setPrototypeOf(){lo(12)}},gp={};Zv(YA,(e,t)=>{gp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gp.deleteProperty=function(e,t){return gp.set.call(this,e,t,void 0)};gp.set=function(e,t,n){return YA.set.call(this,e[0],t,n,e[0])};function Rj(e,t){const n=e[mi];return(n?ld(n):e)[t]}function fge(e,t,n){var s;const r=PU(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function PU(e,t){if(!(t in e))return;let n=kh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=kh(n)}}function i_(e){e.modified_||(e.modified_=!0,e.parent_&&i_(e.parent_))}function kj(e){e.copy_||(e.copy_=r_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hge=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(m=i,...f){return o.produce(m,g=>n.call(this,g,...f))}}typeof n!="function"&&lo(6),r!==void 0&&typeof r!="function"&&lo(7);let s;if(Kl(t)){const i=YR(this),o=o_(t,void 0);let u=!0;try{s=n(o),u=!1}finally{u?a_(i):s_(i)}return qR(i,r),WR(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===TU&&(s=void 0),this.autoFreeze_&&qA(s,!0),r){const i=[],o=[];Ld("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else lo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,m=>t(m,...u));let r,s;return[this.produce(t,n,(o,u)=>{r=o,s=u}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Kl(e)||lo(8),Id(e)&&(e=Bl(e));const t=YR(this),n=o_(e,void 0);return n[mi].isManual_=!0,s_(t),n}finishDraft(e,t){const n=e&&e[mi];(!n||!n.isManual_)&&lo(9);const{scope_:r}=n;return qR(r,t),WR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Ld("Patches").applyPatches_;return Id(e)?r(e,t):this.produce(e,s=>r(s,t))}};function o_(e,t){const n=m1(e)?Ld("MapSet").proxyMap_(e,t):g1(e)?Ld("MapSet").proxySet_(e,t):dge(e,t);return(t?t.scope_:DU()).drafts_.push(n),n}function Bl(e){return Id(e)||lo(10,e),RU(e)}function RU(e){if(!Kl(e)||p1(e))return e;const t=e[mi];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=r_(e,t.scope_.immer_.useStrictShallowCopy_)}else n=r_(e,!0);return Zv(n,(r,s)=>{MU(n,r,RU(s))}),t&&(t.finalized_=!1),n}var gi=new hge,kU=gi.produce;gi.produceWithPatches.bind(gi);gi.setAutoFreeze.bind(gi);gi.setUseStrictShallowCopy.bind(gi);gi.applyPatches.bind(gi);gi.createDraft.bind(gi);gi.finishDraft.bind(gi);function IU(e){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,e):s(i)}var mge=IU(),gge=IU,pge=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qv:Qv.apply(null,arguments)};function Ui(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(fi(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>CU(r)&&r.type===e,n}var LU=class Lg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Lg.prototype)}static get[Symbol.species](){return Lg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Lg(...t[0].concat(this)):new Lg(...t.concat(this))}};function KR(e){return Kl(e)?kU(e,()=>{}):e}function Yx(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function xge(e){return typeof e=="boolean"}var vge=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new LU;return n&&(xge(n)?o.push(mge):o.push(gge(n.extraArgument))),o},yge="RTK_autoBatch",XR=e=>t=>{setTimeout(t,e)},bge=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,i=!1,o=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:XR(10):e.type==="callback"?e.queueNotification:XR(e.timeout),f=()=>{o=!1,i&&(i=!1,u.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const x=()=>s&&g(),w=r.subscribe(x);return u.add(g),()=>{w(),u.delete(g)}},dispatch(g){var x;try{return s=!((x=g==null?void 0:g.meta)!=null&&x[yge]),i=!s,i&&(o||(o=!0,m(f))),r.dispatch(g)}finally{s=!0}}})},wge=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new LU(e);return r&&s.push(bge(typeof r=="object"?r:void 0)),s};function jge(e){const t=vge(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(HA(n))u=AU(n);else throw new Error(fi(1));let m;typeof r=="function"?m=r(t):m=t();let f=Qv;s&&(f=pge({trace:!1,...typeof s=="object"&&s}));const g=age(...m),x=wge(g);let w=typeof o=="function"?o(x):x();const _=f(...w);return EU(u,i,_)}function BU(e){const t={},n=[];let r;const s={addCase(i,o){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(fi(28));if(u in t)throw new Error(fi(29));return t[u]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return e(s),[t,n,r]}function Nge(e){return typeof e=="function"}function Sge(e,t){let[n,r,s]=BU(t),i;if(Nge(e))i=()=>KR(e());else{const u=KR(e);i=()=>u}function o(u=i(),m){let f=[n[m.type],...r.filter(({matcher:g})=>g(m)).map(({reducer:g})=>g)];return f.filter(g=>!!g).length===0&&(f=[s]),f.reduce((g,x)=>{if(x)if(Id(g)){const _=x(g,m);return _===void 0?g:_}else{if(Kl(g))return kU(g,w=>x(w,m));{const w=x(g,m);if(w===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return g},u)}return o.getInitialState=i,o}var _ge="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ege=(e=21)=>{let t="",n=e;for(;n--;)t+=_ge[Math.random()*64|0];return t},Age=Symbol.for("rtk-slice-createasyncthunk");function Cge(e,t){return`${e}/${t}`}function Tge({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Age];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(fi(11));const u=(typeof s.reducers=="function"?s.reducers(Mge()):s.reducers)||{},m=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(z,I){const k=typeof z=="string"?z:z.type;if(!k)throw new Error(fi(12));if(k in f.sliceCaseReducersByType)throw new Error(fi(13));return f.sliceCaseReducersByType[k]=I,g},addMatcher(z,I){return f.sliceMatchers.push({matcher:z,reducer:I}),g},exposeAction(z,I){return f.actionCreators[z]=I,g},exposeCaseReducer(z,I){return f.sliceCaseReducersByName[z]=I,g}};m.forEach(z=>{const I=u[z],k={reducerName:z,type:Cge(i,z),createNotation:typeof s.reducers=="function"};Pge(I)?kge(k,I,g,t):Dge(k,I,g)});function x(){const[z={},I=[],k=void 0]=typeof s.extraReducers=="function"?BU(s.extraReducers):[s.extraReducers],F={...z,...f.sliceCaseReducersByType};return Sge(s.initialState,V=>{for(let L in F)V.addCase(L,F[L]);for(let L of f.sliceMatchers)V.addMatcher(L.matcher,L.reducer);for(let L of I)V.addMatcher(L.matcher,L.reducer);k&&V.addDefaultCase(k)})}const w=z=>z,_=new Map,C=new WeakMap;let A;function E(z,I){return A||(A=x()),A(z,I)}function M(){return A||(A=x()),A.getInitialState()}function D(z,I=!1){function k(V){let L=V[z];return typeof L>"u"&&I&&(L=Yx(C,k,M)),L}function F(V=w){const L=Yx(_,I,()=>new WeakMap);return Yx(L,V,()=>{const $={};for(const[W,Y]of Object.entries(s.selectors??{}))$[W]=Oge(Y,V,()=>Yx(C,V,M),I);return $})}return{reducerPath:z,getSelectors:F,get selectors(){return F(k)},selectSlice:k}}const R={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:M,...D(o),injectInto(z,{reducerPath:I,...k}={}){const F=I??o;return z.inject({reducerPath:F,reducer:E},k),{...R,...D(F,!0)}}};return R}}function Oge(e,t,n,r){function s(i,...o){let u=t(i);return typeof u>"u"&&r&&(u=n()),e(u,...o)}return s.unwrapped=e,s}var qi=Tge();function Mge(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Dge({type:e,reducerName:t,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!Rge(r))throw new Error(fi(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ui(e,o):Ui(e))}function Pge(e){return e._reducerDefinitionType==="asyncThunk"}function Rge(e){return e._reducerDefinitionType==="reducerWithPrepare"}function kge({type:e,reducerName:t},n,r,s){if(!s)throw new Error(fi(18));const{payloadCreator:i,fulfilled:o,pending:u,rejected:m,settled:f,options:g}=n,x=s(e,i,g);r.exposeAction(t,x),o&&r.addCase(x.fulfilled,o),u&&r.addCase(x.pending,u),m&&r.addCase(x.rejected,m),f&&r.addMatcher(x.settled,f),r.exposeCaseReducer(t,{fulfilled:o||Wx,pending:u||Wx,rejected:m||Wx,settled:f||Wx})}function Wx(){}var Ige="task",FU="listener",UU="completed",WA="cancelled",Lge=`task-${WA}`,Bge=`task-${UU}`,l_=`${FU}-${WA}`,Fge=`${FU}-${UU}`,x1=class{constructor(e){qw(this,"name","TaskAbortError");qw(this,"message");this.code=e,this.message=`${Ige} ${WA} (reason: ${e})`}},GA=(e,t)=>{if(typeof e!="function")throw new TypeError(fi(32))},ty=()=>{},zU=(e,t=ty)=>(e.catch(t),e),VU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Nd=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Sd=e=>{if(e.aborted){const{reason:t}=e;throw new x1(t)}};function $U(e,t){let n=ty;return new Promise((r,s)=>{const i=()=>s(new x1(e.reason));if(e.aborted){i();return}n=VU(e,i),t.finally(()=>n()).then(r,s)}).finally(()=>{n=ty})}var Uge=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof x1?"cancelled":"rejected",error:n}}finally{t==null||t()}},ny=e=>t=>zU($U(e,t).then(n=>(Sd(e),n))),HU=e=>{const t=ny(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:wh}=Object,QR={},v1="listenerMiddleware",zge=(e,t)=>{const n=r=>VU(e,()=>Nd(r,e.reason));return(r,s)=>{GA(r);const i=new AbortController;n(i);const o=Uge(async()=>{Sd(e),Sd(i.signal);const u=await r({pause:ny(i.signal),delay:HU(i.signal),signal:i.signal});return Sd(i.signal),u},()=>Nd(i,Bge));return s!=null&&s.autoJoin&&t.push(o.catch(ty)),{result:ny(e)(o),cancel(){Nd(i,Lge)}}}},Vge=(e,t)=>{const n=async(r,s)=>{Sd(t);let i=()=>{};const u=[new Promise((m,f)=>{let g=e({predicate:r,effect:(x,w)=>{w.unsubscribe(),m([x,w.getState(),w.getOriginalState()])}});i=()=>{g(),f()}})];s!=null&&u.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await $U(t,Promise.race(u));return Sd(t),m}finally{i()}};return(r,s)=>zU(n(r,s))},qU=e=>{let{type:t,actionCreator:n,matcher:r,predicate:s,effect:i}=e;if(t)s=Ui(t).match;else if(n)t=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(fi(21));return GA(i),{predicate:s,type:t,effect:i}},YU=wh(e=>{const{type:t,predicate:n,effect:r}=qU(e);return{id:Ege(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fi(22))}}},{withTypes:()=>YU}),ZR=(e,t)=>{const{type:n,effect:r,predicate:s}=qU(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===s)&&i.effect===r)},c_=e=>{e.pending.forEach(t=>{Nd(t,l_)})},$ge=e=>()=>{e.forEach(c_),e.clear()},JR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},WU=wh(Ui(`${v1}/add`),{withTypes:()=>WU}),Hge=Ui(`${v1}/removeAll`),GU=wh(Ui(`${v1}/remove`),{withTypes:()=>GU}),qge=(...e)=>{console.error(`${v1}/error`,...e)},Qp=(e={})=>{const t=new Map,{extra:n,onError:r=qge}=e;GA(r);const s=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x!=null&&x.cancelActive&&c_(g)}),i=g=>{const x=ZR(t,g)??YU(g);return s(x)};wh(i,{withTypes:()=>i});const o=g=>{const x=ZR(t,g);return x&&(x.unsubscribe(),g.cancelActive&&c_(x)),!!x};wh(o,{withTypes:()=>o});const u=async(g,x,w,_)=>{const C=new AbortController,A=Vge(i,C.signal),E=[];try{g.pending.add(C),await Promise.resolve(g.effect(x,wh({},w,{getOriginalState:_,condition:(M,D)=>A(M,D).then(Boolean),take:A,delay:HU(C.signal),pause:ny(C.signal),extra:n,signal:C.signal,fork:zge(C.signal,E),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,D,R)=>{M!==C&&(Nd(M,l_),R.delete(M))})},cancel:()=>{Nd(C,l_),g.pending.delete(C)},throwIfCancelled:()=>{Sd(C.signal)}})))}catch(M){M instanceof x1||JR(r,M,{raisedBy:"effect"})}finally{await Promise.all(E),Nd(C,Fge),g.pending.delete(C)}},m=$ge(t);return{middleware:g=>x=>w=>{if(!CU(w))return x(w);if(WU.match(w))return i(w.payload);if(Hge.match(w)){m();return}if(GU.match(w))return o(w.payload);let _=g.getState();const C=()=>{if(_===QR)throw new Error(fi(23));return _};let A;try{if(A=x(w),t.size>0){const E=g.getState(),M=Array.from(t.values());for(const D of M){let R=!1;try{R=D.predicate(w,E,_)}catch(z){R=!1,JR(r,z,{raisedBy:"predicate"})}R&&u(D,w,g,C)}}}finally{_=QR}return A},startListening:i,stopListening:o,clearListeners:m}};function fi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Yge={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KU=qi({name:"chartLayout",initialState:Yge,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Wge,setLayout:Gge,setChartSize:Kge,setScale:Xge}=KU.actions,Qge=KU.reducer;function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(r){Zge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zge(e,t,n){return(t=Jge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jge(e){var t=epe(e,"string");return typeof t=="symbol"?t:t+""}function epe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ry=Math.PI/180,tpe=e=>e*180/Math.PI,oa=(e,t,n,r)=>({x:e+Math.cos(-ry*r)*n,y:t+Math.sin(-ry*r)*n}),XU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},npe=(e,t)=>{var{x:n,y:r}=e,{x:s,y:i}=t;return Math.sqrt((n-s)**2+(r-i)**2)},rpe=(e,t)=>{var{x:n,y:r}=e,{cx:s,cy:i}=t,o=npe({x:n,y:r},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var u=(n-s)/o,m=Math.acos(u);return r>i&&(m=2*Math.PI-m),{radius:o,angle:tpe(m),angleInRadian:m}},ape=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),s=Math.floor(n/360),i=Math.min(r,s);return{startAngle:t-i*360,endAngle:n-i*360}},spe=(e,t)=>{var{startAngle:n,endAngle:r}=t,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return e+o*360},ipe=(e,t)=>{var{x:n,y:r}=e,{radius:s,angle:i}=rpe({x:n,y:r},t),{innerRadius:o,outerRadius:u}=t;if(s<o||s>u||s===0)return null;var{startAngle:m,endAngle:f}=ape(t),g=i,x;if(m<=f){for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}else{for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}return x?tk(tk({},t),{},{radius:s,angle:spe(g,t)}):null};function nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(n),!0).forEach(function(r){ope(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ope(e,t,n){return(t=lpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lpe(e){var t=cpe(e,"string");return typeof t=="symbol"?t:t+""}function cpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e,t,n){return Fn(e)||Fn(t)?n:el(t)?hu(e,t,n):typeof t=="function"?t(e):n}var upe=(e,t,n,r,s)=>{var i,o=-1,u=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<u;m++){var f=m>0?n[m-1].coordinate:n[u-1].coordinate,g=n[m].coordinate,x=m>=u-1?n[0].coordinate:n[m+1].coordinate,w=void 0;if(Da(g-f)!==Da(x-g)){var _=[];if(Da(x-g)===Da(s[1]-s[0])){w=x;var C=g+s[1]-s[0];_[0]=Math.min(C,(C+f)/2),_[1]=Math.max(C,(C+f)/2)}else{w=f;var A=x+s[1]-s[0];_[0]=Math.min(g,(A+g)/2),_[1]=Math.max(g,(A+g)/2)}var E=[Math.min(g,(w+g)/2),Math.max(g,(w+g)/2)];if(e>E[0]&&e<=E[1]||e>=_[0]&&e<=_[1]){({index:o}=n[m]);break}}else{var M=Math.min(f,x),D=Math.max(f,x);if(e>(M+g)/2&&e<=(D+g)/2){({index:o}=n[m]);break}}}else if(t){for(var R=0;R<u;R++)if(R===0&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R>0&&R<u-1&&e>(t[R].coordinate+t[R-1].coordinate)/2&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R===u-1&&e>(t[R].coordinate+t[R-1].coordinate)/2){({index:o}=t[R]);break}}return o},dpe=(e,t,n)=>{if(t&&n){var{width:r,height:s}=n,{align:i,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&i!=="center"&&ot(e[i]))return Ri(Ri({},e),{},{[i]:e[i]+(r||0)});if((u==="horizontal"||u==="vertical"&&i==="center")&&o!=="middle"&&ot(e[o]))return Ri(Ri({},e),{},{[o]:e[o]+(s||0)})}return e},ll=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",QU=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var s,i,o=e.map(u=>(u.coordinate===t&&(s=!0),u.coordinate===n&&(i=!0),u.coordinate));return s||o.push(t),i||o.push(n),o},ZU=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:i,scale:o,realScaleType:u,isCategorical:m,categoricalDomain:f,tickCount:g,ticks:x,niceTicks:w,axisType:_}=e;if(!o)return null;var C=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,A=s==="category"&&o.bandwidth?o.bandwidth()/C:0;if(A=_==="angleAxis"&&i&&i.length>=2?Da(i[0]-i[1])*2*A:A,x||w){var E=(x||w||[]).map((M,D)=>{var R=r?r.indexOf(M):M;return{coordinate:o(R)+A,value:M,offset:A,index:D}});return E.filter(M=>!Vs(M.coordinate))}return m&&f?f.map((M,D)=>({coordinate:o(M)+A,value:M,index:D,offset:A})):o.ticks&&g!=null?o.ticks(g).map((M,D)=>({coordinate:o(M)+A,value:M,offset:A,index:D})):o.domain().map((M,D)=>({coordinate:o(M)+A,value:r?r[M]:M,index:D,offset:A}))},rk=1e-4,fpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),s=Math.min(r[0],r[1])-rk,i=Math.max(r[0],r[1])+rk,o=e(t[0]),u=e(t[n-1]);(o<s||o>i||u<s||u>i)&&e.domain([t[0],t[n-1]])}},hpe=(e,t)=>{if(!t||t.length!==2||!ot(t[0])||!ot(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!ot(e[0])||e[0]<n)&&(s[0]=n),(!ot(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},mpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,i=0,o=0;o<t;++o){var u=Vs(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1])}},gpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,i=0;i<t;++i){var o=Vs(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=s,e[i][n][1]=s+o,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},ppe={sign:mpe,expand:Ghe,none:Rh,silhouette:Khe,wiggle:Xhe,positive:gpe},xpe=(e,t,n)=>{var r=ppe[n],s=Whe().keys(t).value((i,o)=>+Gn(i,o,0)).order(JS).offset(r);return s(e)};function KA(e){return e==null?void 0:String(e)}function ay(e){var{axis:t,ticks:n,bandSize:r,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fn(s[t.dataKey])){var u=GF(n,"value",s[t.dataKey]);if(u)return u.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var m=Gn(s,Fn(o)?t.dataKey:o);return Fn(m)?null:t.scale(m)}var ak=e=>{var{axis:t,ticks:n,offset:r,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var u=Gn(i,t.dataKey,t.scale.domain()[o]);return Fn(u)?null:t.scale(u)-s/2+r},vpe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},ype=e=>{var t=e.flat(2).filter(ot);return[Math.min(...t),Math.max(...t)]},bpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wpe=(e,t,n)=>{if(e!=null)return bpe(Object.keys(e).reduce((r,s)=>{var i=e[s],{stackedData:o}=i,u=o.reduce((m,f)=>{var g=ype(f.slice(t,n+1));return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},sk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ik=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var s=f1(t,g=>g.coordinate),i=1/0,o=1,u=s.length;o<u;o++){var m=s[o],f=s[o-1];i=Math.min((m.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function ok(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:s,name:i}=e;return Ri(Ri({},t),{},{dataKey:n,payload:r,value:s,name:i})}function Nu(e,t){if(e)return String(e);if(typeof t=="string")return t}function jpe(e,t,n,r,s){if(n==="horizontal"||n==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return r?ipe({x:e,y:t},r):null}var Npe=(e,t,n,r)=>{var s=t.find(f=>f&&f.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=r;return Ri(Ri(Ri({},r),oa(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var u=s.coordinate,{angle:m}=r;return Ri(Ri(Ri({},r),oa(r.cx,r.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},Spe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ec=e=>e.layout.width,tc=e=>e.layout.height,_pe=e=>e.layout.scale,JU=e=>e.layout.margin,XA=Ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),QA=Ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ez="data-recharts-item-index",tz="data-recharts-item-data-key",y1=60;function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(n),!0).forEach(function(r){Epe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Epe(e,t,n){return(t=Ape(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ape(e){var t=Cpe(e,"string");return typeof t=="symbol"?t:t+""}function Cpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tpe=e=>e.brush.height,wa=Ue([ec,tc,JU,Tpe,XA,QA,SU,Qme],(e,t,n,r,s,i,o,u)=>{var m=i.reduce((C,A)=>{var{orientation:E}=A;if(!A.mirror&&!A.hide){var M=typeof A.width=="number"?A.width:y1;return zc(zc({},C),{},{[E]:C[E]+M})}return C},{left:n.left||0,right:n.right||0}),f=s.reduce((C,A)=>{var{orientation:E}=A;return!A.mirror&&!A.hide?zc(zc({},C),{},{[E]:hu(C,"".concat(E))+A.height}):C},{top:n.top||0,bottom:n.bottom||0}),g=zc(zc({},f),m),x=g.bottom;g.bottom+=r,g=dpe(g,o,u);var w=e-g.left-g.right,_=t-g.top-g.bottom;return zc(zc({brushBottom:x},g),{},{width:Math.max(w,0),height:Math.max(_,0)})}),Ope=Ue(wa,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),nz=Ue(ec,tc,(e,t)=>({x:0,y:0,width:e,height:t})),Mpe=j.createContext(null),gs=()=>j.useContext(Mpe)!=null,b1=e=>e.brush,w1=Ue([b1,wa,JU],(e,t,n)=>({height:e.height,x:ot(e.x)?e.x:t.left,y:ot(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ot(e.width)?e.width:t.width})),ZA=()=>{var e,t=gs(),n=yt(Ope),r=yt(w1),s=(e=yt(b1))===null||e===void 0?void 0:e.padding;return!t||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},Dpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},rz=()=>{var e;return(e=yt(wa))!==null&&e!==void 0?e:Dpe},JA=()=>yt(ec),eC=()=>yt(tc),Ppe={top:0,right:0,bottom:0,left:0},Rpe=()=>{var e;return(e=yt(t=>t.layout.margin))!==null&&e!==void 0?e:Ppe},pn=e=>e.layout.layoutType,Zp=()=>yt(pn),kpe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},az=qi({name:"legend",initialState:kpe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Bl(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:ck,setLegendSettings:Ipe,addLegendPayload:sz,removeLegendPayload:iz}=az.actions,Lpe=az.reducer,Bpe=["contextPayload"];function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u_.apply(null,arguments)}function uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(n),!0).forEach(function(r){tC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tC(e,t,n){return(t=Fpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fpe(e){var t=Upe(e,"string");return typeof t=="symbol"?t:t+""}function Upe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zpe(e,t){if(e==null)return{};var n,r,s=Vpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Vpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $pe(e){return e.value}function Hpe(e){var{contextPayload:t}=e,n=zpe(e,Bpe),r=bU(t,e.payloadUniqBy,$pe),s=Ih(Ih({},n),{},{payload:r});return j.isValidElement(e.content)?j.cloneElement(e.content,s):typeof e.content=="function"?j.createElement(e.content,s):j.createElement(LA,s)}function qpe(e,t,n,r,s,i){var{layout:o,align:u,verticalAlign:m}=t,f,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?f={left:((r||0)-i.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?g={top:((s||0)-i.height)/2}:g=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ih(Ih({},f),g)}function Ype(e){var t=pr();return j.useEffect(()=>{t(Ipe(e))},[t,e]),null}function Wpe(e){var t=pr();return j.useEffect(()=>(t(ck(e)),()=>{t(ck({width:0,height:0}))}),[t,e]),null}function Gpe(e){var t=ege(),n=xhe(),r=Rpe(),{width:s,height:i,wrapperStyle:o,portal:u}=e,[m,f]=_U([t]),g=JA(),x=eC(),w=g-(r.left||0)-(r.right||0),_=Ma.getWidthOrHeight(e.layout,i,s,w),C=u?o:Ih(Ih({position:"absolute",width:(_==null?void 0:_.width)||s||"auto",height:(_==null?void 0:_.height)||i||"auto"},qpe(o,e,r,g,x,m)),o),A=u??n;if(A==null)return null;var E=j.createElement("div",{className:"recharts-legend-wrapper",style:C,ref:f},j.createElement(Ype,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(Wpe,{width:m.width,height:m.height}),j.createElement(Hpe,u_({},e,_,{margin:r,chartWidth:g,chartHeight:x,contextPayload:t})));return $d.createPortal(E,A)}class Ma extends j.PureComponent{static getWidthOrHeight(t,n,r,s){return t==="vertical"&&ot(n)?{height:n}:t==="horizontal"?{width:r||s}:null}render(){return j.createElement(Gpe,this.props)}}tC(Ma,"displayName","Legend");tC(Ma,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d_.apply(null,arguments)}function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(n),!0).forEach(function(r){Kpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kpe(e,t,n){return(t=Xpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xpe(e){var t=Qpe(e,"string");return typeof t=="symbol"?t:t+""}function Qpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zpe(e){return Array.isArray(e)&&el(e[0])&&el(e[1])?e.join(" ~ "):e}var Jpe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:i,formatter:o,itemSorter:u,wrapperClassName:m,labelClassName:f,label:g,labelFormatter:x,accessibilityLayer:w=!1}=e,_=()=>{if(i&&i.length){var I={padding:0,margin:0},k=(u?f1(i,u):i).map((F,V)=>{if(F.type==="none")return null;var L=F.formatter||o||Zpe,{value:$,name:W}=F,Y=$,Q=W;if(L){var X=L($,W,F,V,i);if(Array.isArray(X))[Y,Q]=X;else if(X!=null)Y=X;else return null}var G=Ij({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:G},el(Q)?j.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,el(Q)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},Y),j.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:I},k)}return null},C=Ij({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=Ij({margin:0},s),E=!Fn(g),M=E?g:"",D=ln("recharts-default-tooltip",m),R=ln("recharts-tooltip-label",f);E&&x&&i!==void 0&&i!==null&&(M=x(g,i));var z=w?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",d_({className:D,style:C},z),j.createElement("p",{className:R,style:A},j.isValidElement(M)?M:"".concat(M)),_())},bg="recharts-tooltip-wrapper",e0e={visibility:"hidden"};function t0e(e){var{coordinate:t,translateX:n,translateY:r}=e;return ln(bg,{["".concat(bg,"-right")]:ot(n)&&t&&ot(t.x)&&n>=t.x,["".concat(bg,"-left")]:ot(n)&&t&&ot(t.x)&&n<t.x,["".concat(bg,"-bottom")]:ot(r)&&t&&ot(t.y)&&r>=t.y,["".concat(bg,"-top")]:ot(r)&&t&&ot(t.y)&&r<t.y})}function fk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:u,viewBox:m,viewBoxDimension:f}=e;if(i&&ot(i[r]))return i[r];var g=n[r]-u-(s>0?s:0),x=n[r]+s;if(t[r])return o[r]?g:x;var w=m[r];if(w==null)return 0;if(o[r]){var _=g,C=w;return _<C?Math.max(x,w):Math.max(g,w)}if(f==null)return 0;var A=x+u,E=w+f;return A>E?Math.max(g,w):Math.max(x,w)}function n0e(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function r0e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:u,viewBox:m}=e,f,g,x;return o.height>0&&o.width>0&&n?(g=fk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:m,viewBoxDimension:m.width}),x=fk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:m,viewBoxDimension:m.height}),f=n0e({translateX:g,translateY:x,useTranslate3d:u})):f=e0e,{cssProperties:f,cssClasses:t0e({translateX:g,translateY:x,coordinate:n})}}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Gx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(n),!0).forEach(function(r){f_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f_(e,t,n){return(t=a0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a0e(e){var t=s0e(e,"string");return typeof t=="symbol"?t:t+""}function s0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class i0e extends j.PureComponent{constructor(){super(...arguments),f_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),f_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:i,coordinate:o,hasPayload:u,isAnimationActive:m,offset:f,position:g,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:C,lastBoundingBox:A,innerRef:E,hasPortalFromProps:M}=this.props,{cssClasses:D,cssProperties:R}=r0e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:g,reverseDirection:x,tooltipBox:{height:A.height,width:A.width},useTranslate3d:w,viewBox:_}),z=M?{}:Gx(Gx({transition:m&&t?"transform ".concat(r,"ms ").concat(s):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),I=Gx(Gx({},z),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},C);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:I,ref:E},i)}}var o0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Su={isSsr:o0e()},oz=()=>yt(e=>e.rootProps.accessibilityLayer);function Ya(e){return Number.isFinite(e)}function Lh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h_.apply(null,arguments)}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){l0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l0e(e,t,n){return(t=c0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c0e(e){var t=u0e(e,"string");return typeof t=="symbol"?t:t+""}function u0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pk={curveBasisClosed:Ihe,curveBasisOpen:Lhe,curveBasis:khe,curveBumpX:whe,curveBumpY:jhe,curveLinearClosed:Bhe,curveLinear:u1,curveMonotoneX:Fhe,curveMonotoneY:Uhe,curveNatural:zhe,curveStep:Vhe,curveStepAfter:Hhe,curveStepBefore:$he},Kx=e=>Ya(e.x)&&Ya(e.y),wg=e=>e.x,jg=e=>e.y,d0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Gp(e));return(n==="curveMonotone"||n==="curveBump")&&t?pk["".concat(n).concat(t==="vertical"?"Y":"X")]:pk[n]||u1},f0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:s,connectNulls:i=!1}=e,o=d0e(t,s),u=i?n.filter(Kx):n,m;if(Array.isArray(r)){var f=i?r.filter(x=>Kx(x)):r,g=u.map((x,w)=>gk(gk({},x),{},{base:f[w]}));return s==="vertical"?m=$x().y(jg).x1(wg).x0(x=>x.base.x):m=$x().x(wg).y1(jg).y0(x=>x.base.y),m.defined(Kx).curve(o),m(g)}return s==="vertical"&&ot(r)?m=$x().y(jg).x1(wg).x0(r):ot(r)?m=$x().x(wg).y1(jg).y0(r):m=nU().x(wg).y(jg),m.defined(Kx).curve(o),m(u)},jh=e=>{var{className:t,points:n,path:r,pathRef:s}=e;if((!n||!n.length)&&!r)return null;var i=n&&n.length?f0e(e):r;return j.createElement("path",h_({},Wt(e,!1),OA(e),{className:ln("recharts-curve",t),d:i===null?void 0:i,ref:s}))},h0e=["x","y","top","left","width","height","className"];function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m_.apply(null,arguments)}function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function m0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(r){g0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g0e(e,t,n){return(t=p0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p0e(e){var t=x0e(e,"string");return typeof t=="symbol"?t:t+""}function x0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v0e(e,t){if(e==null)return{};var n,r,s=y0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function y0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var b0e=(e,t,n,r,s,i)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),w0e=e=>{var{x:t=0,y:n=0,top:r=0,left:s=0,width:i=0,height:o=0,className:u}=e,m=v0e(e,h0e),f=m0e({x:t,y:n,top:r,left:s,width:i,height:o},m);return!ot(t)||!ot(n)||!ot(i)||!ot(o)||!ot(r)||!ot(s)?null:j.createElement("path",m_({},Wt(f,!0),{className:ln("recharts-cross",u),d:b0e(t,n,i,o,r,s)}))};function j0e(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function N0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(r){S0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S0e(e,t,n){return(t=_0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _0e(e){var t=E0e(e,"string");return typeof t=="symbol"?t:t+""}function E0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xi(e,t){var n=N0e({},e),r=t,s=Object.keys(t),i=s.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return i}var Lj={},Bj={},Fj={},yk;function A0e(){return yk||(yk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(Fj)),Fj}var bk;function C0e(){return bk||(bk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0e(),n=xU(),r=zA(),s=VA(),i=FA();function o(f,g,x){return u(f,g,void 0,void 0,void 0,void 0,x)}function u(f,g,x,w,_,C,A){const E=A(f,g,x,w,_,C);if(E!==void 0)return E;if(typeof f==typeof g)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===g;case"number":return f===g||Object.is(f,g);case"function":return f===g;case"object":return m(f,g,C,A)}return m(f,g,C,A)}function m(f,g,x,w){if(Object.is(f,g))return!0;let _=r.getTag(f),C=r.getTag(g);if(_===s.argumentsTag&&(_=s.objectTag),C===s.argumentsTag&&(C=s.objectTag),_!==C)return!1;switch(_){case s.stringTag:return f.toString()===g.toString();case s.numberTag:{const M=f.valueOf(),D=g.valueOf();return i.eq(M,D)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(f.valueOf(),g.valueOf());case s.regexpTag:return f.source===g.source&&f.flags===g.flags;case s.functionTag:return f===g}x=x??new Map;const A=x.get(f),E=x.get(g);if(A!=null&&E!=null)return A===g;x.set(f,g),x.set(g,f);try{switch(_){case s.mapTag:{if(f.size!==g.size)return!1;for(const[M,D]of f.entries())if(!g.has(M)||!u(D,g.get(M),M,f,g,x,w))return!1;return!0}case s.setTag:{if(f.size!==g.size)return!1;const M=Array.from(f.values()),D=Array.from(g.values());for(let R=0;R<M.length;R++){const z=M[R],I=D.findIndex(k=>u(z,k,void 0,f,g,x,w));if(I===-1)return!1;D.splice(I,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(g)||f.length!==g.length)return!1;for(let M=0;M<f.length;M++)if(!u(f[M],g[M],M,f,g,x,w))return!1;return!0}case s.arrayBufferTag:return f.byteLength!==g.byteLength?!1:m(new Uint8Array(f),new Uint8Array(g),x,w);case s.dataViewTag:return f.byteLength!==g.byteLength||f.byteOffset!==g.byteOffset?!1:m(new Uint8Array(f),new Uint8Array(g),x,w);case s.errorTag:return f.name===g.name&&f.message===g.message;case s.objectTag:{if(!(m(f.constructor,g.constructor,x,w)||t.isPlainObject(f)&&t.isPlainObject(g)))return!1;const D=[...Object.keys(f),...n.getSymbols(f)],R=[...Object.keys(g),...n.getSymbols(g)];if(D.length!==R.length)return!1;for(let z=0;z<D.length;z++){const I=D[z],k=f[I];if(!Object.hasOwn(g,I))return!1;const F=g[I];if(!u(k,F,I,f,g,x,w))return!1}return!0}default:return!1}}finally{x.delete(f),x.delete(g)}}e.isEqualWith=o}(Bj)),Bj}var Uj={},wk;function T0e(){return wk||(wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Uj)),Uj}var jk;function O0e(){return jk||(jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C0e(),n=T0e();function r(s,i){return t.isEqualWith(s,i,n.noop)}e.isEqual=r}(Lj)),Lj}var zj,Nk;function M0e(){return Nk||(Nk=1,zj=O0e().isEqual),zj}var D0e=M0e();const P0e=Cs(D0e);function R0e(e){var t={},n=()=>null,r=!1,s=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[m,...f]=u;if(typeof m=="number"){s=e.setTimeout(i.bind(null,f),m);return}i(m),s=e.setTimeout(i.bind(null,f));return}typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,s&&(s(),s=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}var sy=1e-4,lz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],cz=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Sk=(e,t)=>n=>{var r=lz(e,t);return cz(r,n)},k0e=(e,t)=>n=>{var r=lz(e,t),s=[...r.map((i,o)=>i*o).slice(1),0];return cz(s,n)},_k=function(){for(var t,n,r,s,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[t,r,n,s]=[0,0,1,1];break;case"ease":[t,r,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,s]=[.42,0,1,1];break;case"ease-out":[t,r,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,s]=[0,0,.58,1];break;default:{var m=o[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,n,s]=m[1].split(")")[0].split(",").map(C=>parseFloat(C)))}}else o.length===4&&([t,r,n,s]=o);var f=Sk(t,n),g=Sk(r,s),x=k0e(t,n),w=C=>C>1?1:C<0?0:C,_=C=>{for(var A=C>1?1:C,E=A,M=0;M<8;++M){var D=f(E)-A,R=x(E);if(Math.abs(D-A)<sy||R<sy)return g(E);E=w(E-D/R)}return g(E)};return _.isStepper=!1,_},I0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=t,i=(o,u,m)=>{var f=-(o-u)*n,g=m*r,x=m+(f-g)*s/1e3,w=m*s/1e3+o;return Math.abs(w-u)<sy&&Math.abs(x)<sy?[u,0]:[w,x]};return i.isStepper=!0,i.dt=s,i},L0e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _k(e);case"spring":return I0e();default:if(e.split("(")[0]==="cubic-bezier")return _k(e)}return typeof e=="function"?e:null};function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(r){B0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B0e(e,t,n){return(t=F0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F0e(e){var t=U0e(e,"string");return typeof t=="symbol"?t:t+""}function U0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z0e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),V0e=(e,t,n)=>e.map(r=>"".concat(z0e(r)," ").concat(t,"ms ").concat(n)).join(","),$0e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(s=>r.includes(s))),pp=(e,t)=>Object.keys(t).reduce((n,r)=>Ak(Ak({},n),{},{[r]:e(r,t[r])}),{});function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(r){H0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H0e(e,t,n){return(t=q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q0e(e){var t=Y0e(e,"string");return typeof t=="symbol"?t:t+""}function Y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iy=(e,t,n)=>e+(t-e)*n,g_=e=>{var{from:t,to:n}=e;return t!==n},uz=(e,t,n)=>{var r=pp((s,i)=>{if(g_(i)){var[o,u]=e(i.from,i.to,i.velocity);return qa(qa({},i),{},{from:o,velocity:u})}return i},t);return n<1?pp((s,i)=>g_(i)?qa(qa({},i),{},{velocity:iy(i.velocity,r[s].velocity,n),from:iy(i.from,r[s].from,n)}):i,t):uz(e,r,n-1)};function W0e(e,t,n,r,s,i){var o,u=r.reduce((w,_)=>qa(qa({},w),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),m=()=>pp((w,_)=>_.from,u),f=()=>!Object.values(u).filter(g_).length,g=null,x=w=>{o||(o=w);var _=w-o,C=_/n.dt;u=uz(n,u,C),s(qa(qa(qa({},e),t),m())),o=w,f()||(g=i.setTimeout(x))};return()=>(g=i.setTimeout(x),()=>{g()})}function G0e(e,t,n,r,s,i,o){var u=null,m=s.reduce((x,w)=>qa(qa({},x),{},{[w]:[e[w],t[w]]}),{}),f,g=x=>{f||(f=x);var w=(x-f)/r,_=pp((A,E)=>iy(...E,n(w)),m);if(i(qa(qa(qa({},e),t),_)),w<1)u=o.setTimeout(g);else{var C=pp((A,E)=>iy(...E,n(1)),m);i(qa(qa(qa({},e),t),C))}};return()=>(u=o.setTimeout(g),()=>{u()})}const K0e=(e,t,n,r,s,i)=>{var o=$0e(e,t);return n.isStepper===!0?W0e(e,t,n,o,s,i):G0e(e,t,n,r,o,s,i)};class X0e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}var Q0e=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p_.apply(null,arguments)}function Z0e(e,t){if(e==null)return{};var n,r,s=J0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function J0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){gd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gd(e,t,n){return(t=exe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function exe(e){var t=txe(e,"string");return typeof t=="symbol"?t:t+""}function txe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nxe(){return R0e(new X0e)}class nC extends j.PureComponent{constructor(t,n){super(t,n),gd(this,"mounted",!1),gd(this,"manager",null),gd(this,"stopJSAnimation",null),gd(this,"unSubscribe",null);var{isActive:r,attributeName:s,from:i,to:o,children:u,duration:m,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||m<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:o});return}if(i){if(typeof u=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:s,shouldReAnimate:i,to:o,from:u}=this.props,{style:m}=this.state;if(r){if(!n){var f={style:s?{[s]:o}:o};this.state&&m&&(s&&m[s]!==o||!s&&m!==o)&&this.setState(f);return}if(!(P0e(t.to,o)&&t.canBegin&&t.isActive)){var g=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||i?u:t.to;if(this.state&&m){var w={style:s?{[s]:x}:x};(s&&m[s]!==x||!s&&m!==x)&&this.setState(w)}this.runAnimation(Vc(Vc({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:s,easing:i,begin:o,onAnimationEnd:u,onAnimationStart:m}=t,f=K0e(n,r,L0e(i),s,this.changeStyle,this.manager.getTimeoutController()),g=()=>{this.stopJSAnimation=f()};this.manager.start([m,o,g,s,u])}runAnimation(t){var{begin:n,duration:r,attributeName:s,to:i,easing:o,onAnimationStart:u,onAnimationEnd:m,children:f}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof f=="function"||o==="spring"){this.runJSAnimation(t);return}var g=s?{[s]:i}:i,x=V0e(Object.keys(g),r,o);this.manager.start([u,n,Vc(Vc({},g),{},{transition:x}),r,m])}render(){var t=this.props,{children:n,begin:r,duration:s,attributeName:i,easing:o,isActive:u,from:m,to:f,canBegin:g,onAnimationEnd:x,shouldReAnimate:w,onAnimationReStart:_,animationManager:C}=t,A=Z0e(t,Q0e),E=j.Children.count(n),M=this.state.style;if(typeof n=="function")return n(M);if(!u||E===0||s<=0)return n;var D=R=>{var{style:z={},className:I}=R.props,k=j.cloneElement(R,Vc(Vc({},A),{},{style:Vc(Vc({},z),M),className:I}));return k};return E===1?D(j.Children.only(n)):j.createElement("div",null,j.Children.map(n,R=>D(R)))}}gd(nC,"displayName","Animate");gd(nC,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var rxe=j.createContext(null);function Xl(e){var t,n,r=j.useContext(rxe);return j.createElement(nC,p_({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:r)!==null&&t!==void 0?t:nxe()}))}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oy.apply(null,arguments)}var Ok=(e,t,n,r,s)=>{var i=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,f;if(i>0&&s instanceof Array){for(var g=[0,0,0,0],x=0,w=4;x<w;x++)g[x]=s[x]>i?i:s[x];f="M".concat(e,",").concat(t+o*g[0]),g[0]>0&&(f+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(m,",").concat(e+u*g[0],",").concat(t)),f+="L ".concat(e+n-u*g[1],",").concat(t),g[1]>0&&(f+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+o*g[1])),f+="L ".concat(e+n,",").concat(t+r-o*g[2]),g[2]>0&&(f+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(m,`,
        `).concat(e+n-u*g[2],",").concat(t+r)),f+="L ".concat(e+u*g[3],",").concat(t+r),g[3]>0&&(f+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-o*g[3])),f+="Z"}else if(i>0&&s===+s&&s>0){var _=Math.min(i,s);f="M ".concat(e,",").concat(t+o*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+n-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+n,",").concat(t+o*_,`
            L `).concat(e+n,",").concat(t+r-o*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+n-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e,",").concat(t+r-o*_," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},axe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dz=e=>{var t=xi(e,axe),n=j.useRef(null),[r,s]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&s(M)}catch{}},[]);var{x:i,y:o,width:u,height:m,radius:f,className:g}=t,{animationEasing:x,animationDuration:w,animationBegin:_,isAnimationActive:C,isUpdateAnimationActive:A}=t;if(i!==+i||o!==+o||u!==+u||m!==+m||u===0||m===0)return null;var E=ln("recharts-rectangle",g);return A?j.createElement(Xl,{canBegin:r>0,from:{width:u,height:m,x:i,y:o},to:{width:u,height:m,x:i,y:o},duration:w,animationEasing:x,isActive:A},M=>{var{width:D,height:R,x:z,y:I}=M;return j.createElement(Xl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,isActive:C,easing:x},j.createElement("path",oy({},Wt(t,!0),{className:E,d:Ok(z,I,D,R,f),ref:n})))}):j.createElement("path",oy({},Wt(t,!0),{className:E,d:Ok(i,o,u,m,f)}))};function fz(e){var{cx:t,cy:n,radius:r,startAngle:s,endAngle:i}=e,o=oa(t,n,r,s),u=oa(t,n,r,i);return{points:[o,u],cx:t,cy:n,radius:r,startAngle:s,endAngle:i}}function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x_.apply(null,arguments)}var sxe=(e,t)=>{var n=Da(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Xx=e=>{var{cx:t,cy:n,radius:r,angle:s,sign:i,isExternal:o,cornerRadius:u,cornerIsExternal:m}=e,f=u*(o?1:-1)+r,g=Math.asin(u/f)/ry,x=m?s:s+i*g,w=oa(t,n,f,x),_=oa(t,n,r,x),C=m?s-i*g:s,A=oa(t,n,f*Math.cos(g*ry),C);return{center:w,circleTangency:_,lineTangency:A,theta:g}},hz=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:i,endAngle:o}=e,u=sxe(i,o),m=i+u,f=oa(t,n,s,i),g=oa(t,n,s,m),x="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(i>m),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var w=oa(t,n,r,i),_=oa(t,n,r,m);x+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(i<=m),`,
            `).concat(w.x,",").concat(w.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},ixe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:u,startAngle:m,endAngle:f}=e,g=Da(f-m),{circleTangency:x,lineTangency:w,theta:_}=Xx({cx:t,cy:n,radius:s,angle:m,sign:g,cornerRadius:i,cornerIsExternal:u}),{circleTangency:C,lineTangency:A,theta:E}=Xx({cx:t,cy:n,radius:s,angle:f,sign:-g,cornerRadius:i,cornerIsExternal:u}),M=u?Math.abs(m-f):Math.abs(m-f)-_-E;if(M<0)return o?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):hz({cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:m,endAngle:f});var D="M ".concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:z,theta:I}=Xx({cx:t,cy:n,radius:r,angle:m,sign:g,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),{circleTangency:k,lineTangency:F,theta:V}=Xx({cx:t,cy:n,radius:r,angle:f,sign:-g,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),L=u?Math.abs(m-f):Math.abs(m-f)-I-V;if(L<0&&i===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+="L".concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(g>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(z.x,",").concat(z.y,"Z")}else D+="L".concat(t,",").concat(n,"Z");return D},oxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mz=e=>{var t=xi(e,oxe),{cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:g,className:x}=t;if(i<s||f===g)return null;var w=ln("recharts-sector",x),_=i-s,C=_s(o,_,0,!0),A;return C>0&&Math.abs(f-g)<360?A=ixe({cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:Math.min(C,_/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:g}):A=hz({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:f,endAngle:g}),j.createElement("path",x_({},Wt(t,!0),{className:w,d:A}))};function lxe(e,t,n){var r,s,i,o;if(e==="horizontal")r=t.x,i=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:f,outerRadius:g,angle:x}=t,w=oa(u,m,f,x),_=oa(u,m,g,x);r=w.x,s=w.y,i=_.x,o=_.y}else return fz(t);return[{x:r,y:s},{x:i,y:o}]}var Vj={},$j={},Hj={},Mk;function cxe(){return Mk||(Mk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(Hj)),Hj}var Dk;function uxe(){return Dk||(Dk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cxe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}($j)),$j}var Pk;function dxe(){return Pk||(Pk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NU(),n=uxe();function r(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=n.toFinite(s),i===void 0?(i=s,s=0):i=n.toFinite(i),o=o===void 0?s<i?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((i-s)/(o||1)),0),m=new Array(u);for(let f=0;f<u;f++)m[f]=s,s+=o;return m}e.range=r}(Vj)),Vj}var qj,Rk;function fxe(){return Rk||(Rk=1,qj=dxe().range),qj}var hxe=fxe();const gz=Cs(hxe);function Jc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mxe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rC(e){let t,n,r;e.length!==2?(t=Jc,n=(u,m)=>Jc(e(u),m),r=(u,m)=>e(u)-m):(t=e===Jc||e===mxe?e:gxe,n=e,r=e);function s(u,m,f=0,g=u.length){if(f<g){if(t(m,m)!==0)return g;do{const x=f+g>>>1;n(u[x],m)<0?f=x+1:g=x}while(f<g)}return f}function i(u,m,f=0,g=u.length){if(f<g){if(t(m,m)!==0)return g;do{const x=f+g>>>1;n(u[x],m)<=0?f=x+1:g=x}while(f<g)}return f}function o(u,m,f=0,g=u.length){const x=s(u,m,f,g-1);return x>f&&r(u[x-1],m)>-r(u[x],m)?x-1:x}return{left:s,center:o,right:i}}function gxe(){return 0}function pz(e){return e===null?NaN:+e}function*pxe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const xxe=rC(Jc),Jp=xxe.right;rC(pz).center;class kk extends Map{constructor(t,n=bxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(Ik(this,t))}has(t){return super.has(Ik(this,t))}set(t,n){return super.set(vxe(this,t),n)}delete(t){return super.delete(yxe(this,t))}}function Ik({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function vxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function yxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bxe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function wxe(e=Jc){if(e===Jc)return xz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function xz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const jxe=Math.sqrt(50),Nxe=Math.sqrt(10),Sxe=Math.sqrt(2);function ly(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=jxe?10:i>=Nxe?5:i>=Sxe?2:1;let u,m,f;return s<0?(f=Math.pow(10,-s)/o,u=Math.round(e*f),m=Math.round(t*f),u/f<e&&++u,m/f>t&&--m,f=-f):(f=Math.pow(10,s)*o,u=Math.round(e/f),m=Math.round(t/f),u*f<e&&++u,m*f>t&&--m),m<u&&.5<=n&&n<2?ly(e,t,n*2):[u,m,f]}function v_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,o]=r?ly(t,e,n):ly(e,t,n);if(!(i>=s))return[];const u=i-s+1,m=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)m[f]=(i-f)/-o;else for(let f=0;f<u;++f)m[f]=(i-f)*o;else if(o<0)for(let f=0;f<u;++f)m[f]=(s+f)/-o;else for(let f=0;f<u;++f)m[f]=(s+f)*o;return m}function y_(e,t,n){return t=+t,e=+e,n=+n,ly(e,t,n)[2]}function b_(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?y_(t,e,n):y_(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function Lk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Bk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vz(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?xz:wxe(s);r>n;){if(r-n>600){const m=r-n+1,f=t-n+1,g=Math.log(m),x=.5*Math.exp(2*g/3),w=.5*Math.sqrt(g*x*(m-x)/m)*(f-m/2<0?-1:1),_=Math.max(n,Math.floor(t-f*x/m+w)),C=Math.min(r,Math.floor(t+(m-f)*x/m+w));vz(e,t,_,C,s)}const i=e[t];let o=n,u=r;for(Ng(e,n,t),s(e[r],i)>0&&Ng(e,n,r);o<u;){for(Ng(e,o,u),++o,--u;s(e[o],i)<0;)++o;for(;s(e[u],i)>0;)--u}s(e[n],i)===0?Ng(e,n,u):(++u,Ng(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Ng(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _xe(e,t,n){if(e=Float64Array.from(pxe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Bk(e);if(t>=1)return Lk(e);var r,s=(r-1)*t,i=Math.floor(s),o=Lk(vz(e,i).subarray(0,i+1)),u=Bk(e.subarray(i+1));return o+(u-o)*(s-i)}}function Exe(e,t,n=pz){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,i=Math.floor(s),o=+n(e[i],i,e),u=+n(e[i+1],i+1,e);return o+(u-o)*(s-i)}}function Axe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function Yi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const w_=Symbol("implicit");function aC(){var e=new kk,t=[],n=[],r=w_;function s(i){let o=e.get(i);if(o===void 0){if(r!==w_)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new kk;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return aC(t,n).unknown(r)},Yi.apply(s,arguments),s}function sC(){var e=aC().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,o,u=!1,m=0,f=0,g=.5;delete e.unknown;function x(){var w=t().length,_=s<r,C=_?s:r,A=_?r:s;i=(A-C)/Math.max(1,w-m+f*2),u&&(i=Math.floor(i)),C+=(A-C-i*(w-m))*g,o=i*(1-m),u&&(C=Math.round(C),o=Math.round(o));var E=Axe(w).map(function(M){return C+i*M});return n(_?E.reverse():E)}return e.domain=function(w){return arguments.length?(t(w),x()):t()},e.range=function(w){return arguments.length?([r,s]=w,r=+r,s=+s,x()):[r,s]},e.rangeRound=function(w){return[r,s]=w,r=+r,s=+s,u=!0,x()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(w){return arguments.length?(u=!!w,x()):u},e.padding=function(w){return arguments.length?(m=Math.min(1,f=+w),x()):m},e.paddingInner=function(w){return arguments.length?(m=Math.min(1,w),x()):m},e.paddingOuter=function(w){return arguments.length?(f=+w,x()):f},e.align=function(w){return arguments.length?(g=Math.max(0,Math.min(1,w)),x()):g},e.copy=function(){return sC(t(),[r,s]).round(u).paddingInner(m).paddingOuter(f).align(g)},Yi.apply(x(),arguments)}function yz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yz(t())},e}function Cxe(){return yz(sC.apply(null,arguments).paddingInner(1))}function iC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bz(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function e0(){}var xp=.7,cy=1/xp,Nh="\\s*([+-]?\\d+)\\s*",vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Txe=/^#([0-9a-f]{3,8})$/,Oxe=new RegExp(`^rgb\\(${Nh},${Nh},${Nh}\\)$`),Mxe=new RegExp(`^rgb\\(${Xo},${Xo},${Xo}\\)$`),Dxe=new RegExp(`^rgba\\(${Nh},${Nh},${Nh},${vp}\\)$`),Pxe=new RegExp(`^rgba\\(${Xo},${Xo},${Xo},${vp}\\)$`),Rxe=new RegExp(`^hsl\\(${vp},${Xo},${Xo}\\)$`),kxe=new RegExp(`^hsla\\(${vp},${Xo},${Xo},${vp}\\)$`),Fk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iC(e0,yp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uk,formatHex:Uk,formatHex8:Ixe,formatHsl:Lxe,formatRgb:zk,toString:zk});function Uk(){return this.rgb().formatHex()}function Ixe(){return this.rgb().formatHex8()}function Lxe(){return wz(this).formatHsl()}function zk(){return this.rgb().formatRgb()}function yp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Txe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vk(t):n===3?new Us(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Qx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Qx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Oxe.exec(e))?new Us(t[1],t[2],t[3],1):(t=Mxe.exec(e))?new Us(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dxe.exec(e))?Qx(t[1],t[2],t[3],t[4]):(t=Pxe.exec(e))?Qx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rxe.exec(e))?qk(t[1],t[2]/100,t[3]/100,1):(t=kxe.exec(e))?qk(t[1],t[2]/100,t[3]/100,t[4]):Fk.hasOwnProperty(e)?Vk(Fk[e]):e==="transparent"?new Us(NaN,NaN,NaN,0):null}function Vk(e){return new Us(e>>16&255,e>>8&255,e&255,1)}function Qx(e,t,n,r){return r<=0&&(e=t=n=NaN),new Us(e,t,n,r)}function Bxe(e){return e instanceof e0||(e=yp(e)),e?(e=e.rgb(),new Us(e.r,e.g,e.b,e.opacity)):new Us}function j_(e,t,n,r){return arguments.length===1?Bxe(e):new Us(e,t,n,r??1)}function Us(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}iC(Us,j_,bz(e0,{brighter(e){return e=e==null?cy:Math.pow(cy,e),new Us(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xp:Math.pow(xp,e),new Us(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Us(_d(this.r),_d(this.g),_d(this.b),uy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$k,formatHex:$k,formatHex8:Fxe,formatRgb:Hk,toString:Hk}));function $k(){return`#${pd(this.r)}${pd(this.g)}${pd(this.b)}`}function Fxe(){return`#${pd(this.r)}${pd(this.g)}${pd(this.b)}${pd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hk(){const e=uy(this.opacity);return`${e===1?"rgb(":"rgba("}${_d(this.r)}, ${_d(this.g)}, ${_d(this.b)}${e===1?")":`, ${e})`}`}function uy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _d(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pd(e){return e=_d(e),(e<16?"0":"")+e.toString(16)}function qk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new co(e,t,n,r)}function wz(e){if(e instanceof co)return new co(e.h,e.s,e.l,e.opacity);if(e instanceof e0||(e=yp(e)),!e)return new co;if(e instanceof co)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,u=i-s,m=(i+s)/2;return u?(t===i?o=(n-r)/u+(n<r)*6:n===i?o=(r-t)/u+2:o=(t-n)/u+4,u/=m<.5?i+s:2-i-s,o*=60):u=m>0&&m<1?0:o,new co(o,u,m,e.opacity)}function Uxe(e,t,n,r){return arguments.length===1?wz(e):new co(e,t,n,r??1)}function co(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}iC(co,Uxe,bz(e0,{brighter(e){return e=e==null?cy:Math.pow(cy,e),new co(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xp:Math.pow(xp,e),new co(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Us(Yj(e>=240?e-240:e+120,s,r),Yj(e,s,r),Yj(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new co(Yk(this.h),Zx(this.s),Zx(this.l),uy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uy(this.opacity);return`${e===1?"hsl(":"hsla("}${Yk(this.h)}, ${Zx(this.s)*100}%, ${Zx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yk(e){return e=(e||0)%360,e<0?e+360:e}function Zx(e){return Math.max(0,Math.min(1,e||0))}function Yj(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const oC=e=>()=>e;function zxe(e,t){return function(n){return e+n*t}}function Vxe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function $xe(e){return(e=+e)==1?jz:function(t,n){return n-t?Vxe(t,n,e):oC(isNaN(t)?n:t)}}function jz(e,t){var n=t-e;return n?zxe(e,n):oC(isNaN(e)?t:e)}const Wk=function e(t){var n=$xe(t);function r(s,i){var o=n((s=j_(s)).r,(i=j_(i)).r),u=n(s.g,i.g),m=n(s.b,i.b),f=jz(s.opacity,i.opacity);return function(g){return s.r=o(g),s.g=u(g),s.b=m(g),s.opacity=f(g),s+""}}return r.gamma=e,r}(1);function Hxe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function qxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yxe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=lm(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(u){for(o=0;o<r;++o)i[o]=s[o](u);return i}}function Wxe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gxe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=lm(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var N_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wj=new RegExp(N_.source,"g");function Kxe(e){return function(){return e}}function Xxe(e){return function(t){return e(t)+""}}function Qxe(e,t){var n=N_.lastIndex=Wj.lastIndex=0,r,s,i,o=-1,u=[],m=[];for(e=e+"",t=t+"";(r=N_.exec(e))&&(s=Wj.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),u[o]?u[o]+=i:u[++o]=i),(r=r[0])===(s=s[0])?u[o]?u[o]+=s:u[++o]=s:(u[++o]=null,m.push({i:o,x:dy(r,s)})),n=Wj.lastIndex;return n<t.length&&(i=t.slice(n),u[o]?u[o]+=i:u[++o]=i),u.length<2?m[0]?Xxe(m[0].x):Kxe(t):(t=m.length,function(f){for(var g=0,x;g<t;++g)u[(x=m[g]).i]=x.x(f);return u.join("")})}function lm(e,t){var n=typeof t,r;return t==null||n==="boolean"?oC(t):(n==="number"?dy:n==="string"?(r=yp(t))?(t=r,Wk):Qxe:t instanceof yp?Wk:t instanceof Date?Wxe:qxe(t)?Hxe:Array.isArray(t)?Yxe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gxe:dy)(e,t)}function lC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Zxe(e,t){t===void 0&&(t=e,e=lm);for(var n=0,r=t.length-1,s=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(s,s=t[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[u](o-u)}}function Jxe(e){return function(){return e}}function fy(e){return+e}var Gk=[0,1];function Ns(e){return e}function S_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jxe(isNaN(t)?NaN:.5)}function eve(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function tve(e,t,n){var r=e[0],s=e[1],i=t[0],o=t[1];return s<r?(r=S_(s,r),i=n(o,i)):(r=S_(r,s),i=n(i,o)),function(u){return i(r(u))}}function nve(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=S_(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(u){var m=Jp(e,u,1,r)-1;return i[m](s[m](u))}}function t0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function j1(){var e=Gk,t=Gk,n=lm,r,s,i,o=Ns,u,m,f;function g(){var w=Math.min(e.length,t.length);return o!==Ns&&(o=eve(e[0],e[w-1])),u=w>2?nve:tve,m=f=null,x}function x(w){return w==null||isNaN(w=+w)?i:(m||(m=u(e.map(r),t,n)))(r(o(w)))}return x.invert=function(w){return o(s((f||(f=u(t,e.map(r),dy)))(w)))},x.domain=function(w){return arguments.length?(e=Array.from(w,fy),g()):e.slice()},x.range=function(w){return arguments.length?(t=Array.from(w),g()):t.slice()},x.rangeRound=function(w){return t=Array.from(w),n=lC,g()},x.clamp=function(w){return arguments.length?(o=w?!0:Ns,g()):o!==Ns},x.interpolate=function(w){return arguments.length?(n=w,g()):n},x.unknown=function(w){return arguments.length?(i=w,x):i},function(w,_){return r=w,s=_,g()}}function cC(){return j1()(Ns,Ns)}function rve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bh(e){return e=hy(Math.abs(e)),e?e[1]:NaN}function ave(e,t){return function(n,r){for(var s=n.length,i=[],o=0,u=e[0],m=0;s>0&&u>0&&(m+u+1>r&&(u=Math.max(1,r-m)),i.push(n.substring(s-=u,s+u)),!((m+=u+1)>r));)u=e[o=(o+1)%e.length];return i.reverse().join(t)}}function sve(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ive=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bp(e){if(!(t=ive.exec(e)))throw new Error("invalid format: "+e);var t;return new uC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bp.prototype=uC.prototype;function uC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ove(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var Nz;function lve(e,t){var n=hy(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(Nz=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+hy(e,Math.max(0,t+i-1))[0]}function Kk(e,t){var n=hy(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Xk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Kk(e*100,t),r:Kk,s:lve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qk(e){return e}var Zk=Array.prototype.map,Jk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cve(e){var t=e.grouping===void 0||e.thousands===void 0?Qk:ave(Zk.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Qk:sve(Zk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(x){x=bp(x);var w=x.fill,_=x.align,C=x.sign,A=x.symbol,E=x.zero,M=x.width,D=x.comma,R=x.precision,z=x.trim,I=x.type;I==="n"?(D=!0,I="g"):Xk[I]||(R===void 0&&(R=12),z=!0,I="g"),(E||w==="0"&&_==="=")&&(E=!0,w="0",_="=");var k=A==="$"?n:A==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",F=A==="$"?r:/[%p]/.test(I)?o:"",V=Xk[I],L=/[defgprs%]/.test(I);R=R===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function $(W){var Y=k,Q=F,X,G,H;if(I==="c")Q=V(W)+Q,W="";else{W=+W;var J=W<0||1/W<0;if(W=isNaN(W)?m:V(Math.abs(W),R),z&&(W=ove(W)),J&&+W==0&&C!=="+"&&(J=!1),Y=(J?C==="("?C:u:C==="-"||C==="("?"":C)+Y,Q=(I==="s"?Jk[8+Nz/3]:"")+Q+(J&&C==="("?")":""),L){for(X=-1,G=W.length;++X<G;)if(H=W.charCodeAt(X),48>H||H>57){Q=(H===46?s+W.slice(X+1):W.slice(X))+Q,W=W.slice(0,X);break}}}D&&!E&&(W=t(W,1/0));var Z=Y.length+W.length+Q.length,de=Z<M?new Array(M-Z+1).join(w):"";switch(D&&E&&(W=t(de+W,de.length?M-Q.length:1/0),de=""),_){case"<":W=Y+W+Q+de;break;case"=":W=Y+de+W+Q;break;case"^":W=de.slice(0,Z=de.length>>1)+Y+W+Q+de.slice(Z);break;default:W=de+Y+W+Q;break}return i(W)}return $.toString=function(){return x+""},$}function g(x,w){var _=f((x=bp(x),x.type="f",x)),C=Math.max(-8,Math.min(8,Math.floor(Bh(w)/3)))*3,A=Math.pow(10,-C),E=Jk[8+C/3];return function(M){return _(A*M)+E}}return{format:f,formatPrefix:g}}var Jx,dC,Sz;uve({thousands:",",grouping:[3],currency:["$",""]});function uve(e){return Jx=cve(e),dC=Jx.format,Sz=Jx.formatPrefix,Jx}function dve(e){return Math.max(0,-Bh(Math.abs(e)))}function fve(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bh(t)/3)))*3-Bh(Math.abs(e)))}function hve(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bh(t)-Bh(e))+1}function _z(e,t,n,r){var s=b_(e,t,n),i;switch(r=bp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=fve(s,o))&&(r.precision=i),Sz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=hve(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=dve(s))&&(r.precision=i-(r.type==="%")*2);break}}return dC(r)}function _u(e){var t=e.domain;return e.ticks=function(n){var r=t();return v_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return _z(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,o=r[s],u=r[i],m,f,g=10;for(u<o&&(f=o,o=u,u=f,f=s,s=i,i=f);g-- >0;){if(f=y_(o,u,n),f===m)return r[s]=o,r[i]=u,t(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;m=f}return e},e}function Ez(){var e=cC();return e.copy=function(){return t0(e,Ez())},Yi.apply(e,arguments),_u(e)}function Az(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Az(e).unknown(t)},e=arguments.length?Array.from(e,fy):[0,1],_u(n)}function Cz(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),e[n]=t.floor(s),e[r]=t.ceil(i),e}function eI(e){return Math.log(e)}function tI(e){return Math.exp(e)}function mve(e){return-Math.log(-e)}function gve(e){return-Math.exp(-e)}function pve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xve(e){return e===10?pve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nI(e){return(t,n)=>-e(-t,n)}function fC(e){const t=e(eI,tI),n=t.domain;let r=10,s,i;function o(){return s=vve(r),i=xve(r),n()[0]<0?(s=nI(s),i=nI(i),e(mve,gve)):e(eI,tI),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=u=>{const m=n();let f=m[0],g=m[m.length-1];const x=g<f;x&&([f,g]=[g,f]);let w=s(f),_=s(g),C,A;const E=u==null?10:+u;let M=[];if(!(r%1)&&_-w<E){if(w=Math.floor(w),_=Math.ceil(_),f>0){for(;w<=_;++w)for(C=1;C<r;++C)if(A=w<0?C/i(-w):C*i(w),!(A<f)){if(A>g)break;M.push(A)}}else for(;w<=_;++w)for(C=r-1;C>=1;--C)if(A=w>0?C/i(-w):C*i(w),!(A<f)){if(A>g)break;M.push(A)}M.length*2<E&&(M=v_(f,g,E))}else M=v_(w,_,Math.min(_-w,E)).map(i);return x?M.reverse():M},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=bp(m)).precision==null&&(m.trim=!0),m=dC(m)),u===1/0)return m;const f=Math.max(1,r*u/t.ticks().length);return g=>{let x=g/i(Math.round(s(g)));return x*r<r-.5&&(x*=r),x<=f?m(g):""}},t.nice=()=>n(Cz(n(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function Tz(){const e=fC(j1()).domain([1,10]);return e.copy=()=>t0(e,Tz()).base(e.base()),Yi.apply(e,arguments),e}function rI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hC(e){var t=1,n=e(rI(t),aI(t));return n.constant=function(r){return arguments.length?e(rI(t=+r),aI(t)):t},_u(n)}function Oz(){var e=hC(j1());return e.copy=function(){return t0(e,Oz()).constant(e.constant())},Yi.apply(e,arguments)}function sI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bve(e){return e<0?-e*e:e*e}function mC(e){var t=e(Ns,Ns),n=1;function r(){return n===1?e(Ns,Ns):n===.5?e(yve,bve):e(sI(n),sI(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},_u(t)}function gC(){var e=mC(j1());return e.copy=function(){return t0(e,gC()).exponent(e.exponent())},Yi.apply(e,arguments),e}function wve(){return gC.apply(null,arguments).exponent(.5)}function iI(e){return Math.sign(e)*e*e}function jve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Mz(){var e=cC(),t=[0,1],n=!1,r;function s(i){var o=jve(e(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return e.invert(iI(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,fy)).map(iI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Mz(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Yi.apply(s,arguments),_u(s)}function Dz(){var e=[],t=[],n=[],r;function s(){var o=0,u=Math.max(1,t.length);for(n=new Array(u-1);++o<u;)n[o-1]=Exe(e,o/u);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Jp(n,o)]}return i.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Jc),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Dz().domain(e).range(t).unknown(r)},Yi.apply(i,arguments)}function Pz(){var e=0,t=1,n=1,r=[.5],s=[0,1],i;function o(m){return m!=null&&m<=m?s[Jp(r,m,0,n)]:i}function u(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*t-(m-n)*e)/(n+1);return o}return o.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},o.range=function(m){return arguments.length?(n=(s=Array.from(m)).length-1,u()):s.slice()},o.invertExtent=function(m){var f=s.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(m){return arguments.length&&(i=m),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Pz().domain([e,t]).range(s).unknown(i)},Yi.apply(_u(o),arguments)}function Rz(){var e=[.5],t=[0,1],n,r=1;function s(i){return i!=null&&i<=i?t[Jp(e,i,0,r)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Rz().domain(e).range(t).unknown(n)},Yi.apply(s,arguments)}const Gj=new Date,Kj=new Date;function ja(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),u=s.ceil(i);return i-o<u-i?o:u},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,u)=>{const m=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return m;let f;do m.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<o);return m},s.filter=i=>ja(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!i(o););else for(;--u>=0;)for(;t(o,1),!i(o););}),n&&(s.count=(i,o)=>(Gj.setTime(+i),Kj.setTime(+o),e(Gj),e(Kj),Math.floor(n(Gj,Kj))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const my=ja(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);my.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ja(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):my);my.range;const kl=1e3,ki=kl*60,Il=ki*60,Ql=Il*24,pC=Ql*7,oI=Ql*30,Xj=Ql*365,xd=ja(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getUTCSeconds());xd.range;const xC=ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kl)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getMinutes());xC.range;const vC=ja(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCMinutes());vC.range;const yC=ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kl-e.getMinutes()*ki)},(e,t)=>{e.setTime(+e+t*Il)},(e,t)=>(t-e)/Il,e=>e.getHours());yC.range;const bC=ja(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Il)},(e,t)=>(t-e)/Il,e=>e.getUTCHours());bC.range;const n0=ja(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ki)/Ql,e=>e.getDate()-1);n0.range;const N1=ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ql,e=>e.getUTCDate()-1);N1.range;const kz=ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ql,e=>Math.floor(e/Ql));kz.range;function Wd(e){return ja(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ki)/pC)}const S1=Wd(0),gy=Wd(1),Nve=Wd(2),Sve=Wd(3),Fh=Wd(4),_ve=Wd(5),Eve=Wd(6);S1.range;gy.range;Nve.range;Sve.range;Fh.range;_ve.range;Eve.range;function Gd(e){return ja(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/pC)}const _1=Gd(0),py=Gd(1),Ave=Gd(2),Cve=Gd(3),Uh=Gd(4),Tve=Gd(5),Ove=Gd(6);_1.range;py.range;Ave.range;Cve.range;Uh.range;Tve.range;Ove.range;const wC=ja(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wC.range;const jC=ja(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jC.range;const Zl=ja(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ja(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zl.range;const Jl=ja(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Jl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ja(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Jl.range;function Iz(e,t,n,r,s,i){const o=[[xd,1,kl],[xd,5,5*kl],[xd,15,15*kl],[xd,30,30*kl],[i,1,ki],[i,5,5*ki],[i,15,15*ki],[i,30,30*ki],[s,1,Il],[s,3,3*Il],[s,6,6*Il],[s,12,12*Il],[r,1,Ql],[r,2,2*Ql],[n,1,pC],[t,1,oI],[t,3,3*oI],[e,1,Xj]];function u(f,g,x){const w=g<f;w&&([f,g]=[g,f]);const _=x&&typeof x.range=="function"?x:m(f,g,x),C=_?_.range(f,+g+1):[];return w?C.reverse():C}function m(f,g,x){const w=Math.abs(g-f)/x,_=rC(([,,E])=>E).right(o,w);if(_===o.length)return e.every(b_(f/Xj,g/Xj,x));if(_===0)return my.every(Math.max(b_(f,g,x),1));const[C,A]=o[w/o[_-1][2]<o[_][2]/w?_-1:_];return C.every(A)}return[u,m]}const[Mve,Dve]=Iz(Jl,jC,_1,kz,bC,vC),[Pve,Rve]=Iz(Zl,wC,S1,n0,yC,xC);function Qj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kve(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,o=e.shortDays,u=e.months,m=e.shortMonths,f=_g(s),g=Eg(s),x=_g(i),w=Eg(i),_=_g(o),C=Eg(o),A=_g(u),E=Eg(u),M=_g(m),D=Eg(m),R={a:J,A:Z,b:de,B:re,c:null,d:hI,e:hI,f:aye,g:mye,G:pye,H:tye,I:nye,j:rye,L:Lz,m:sye,M:iye,p:pe,q:Ne,Q:pI,s:xI,S:oye,u:lye,U:cye,V:uye,w:dye,W:fye,x:null,X:null,y:hye,Y:gye,Z:xye,"%":gI},z={a:Se,A:xe,b:Pe,B:se,c:null,d:mI,e:mI,f:wye,g:Mye,G:Pye,H:vye,I:yye,j:bye,L:Fz,m:jye,M:Nye,p:ce,q:oe,Q:pI,s:xI,S:Sye,u:_ye,U:Eye,V:Aye,w:Cye,W:Tye,x:null,X:null,y:Oye,Y:Dye,Z:Rye,"%":gI},I={a:$,A:W,b:Y,B:Q,c:X,d:dI,e:dI,f:Qve,g:uI,G:cI,H:fI,I:fI,j:Wve,L:Xve,m:Yve,M:Gve,p:L,q:qve,Q:Jve,s:eye,S:Kve,u:Uve,U:zve,V:Vve,w:Fve,W:$ve,x:G,X:H,y:uI,Y:cI,Z:Hve,"%":Zve};R.x=k(n,R),R.X=k(r,R),R.c=k(t,R),z.x=k(n,z),z.X=k(r,z),z.c=k(t,z);function k(he,Re){return function(be){var ye=[],Ke=-1,Ve=0,Qe=he.length,gt,et,bt;for(be instanceof Date||(be=new Date(+be));++Ke<Qe;)he.charCodeAt(Ke)===37&&(ye.push(he.slice(Ve,Ke)),(et=lI[gt=he.charAt(++Ke)])!=null?gt=he.charAt(++Ke):et=gt==="e"?" ":"0",(bt=Re[gt])&&(gt=bt(be,et)),ye.push(gt),Ve=Ke+1);return ye.push(he.slice(Ve,Ke)),ye.join("")}}function F(he,Re){return function(be){var ye=Sg(1900,void 0,1),Ke=V(ye,he,be+="",0),Ve,Qe;if(Ke!=be.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Re&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Ve=Zj(Sg(ye.y,0,1)),Qe=Ve.getUTCDay(),Ve=Qe>4||Qe===0?py.ceil(Ve):py(Ve),Ve=N1.offset(Ve,(ye.V-1)*7),ye.y=Ve.getUTCFullYear(),ye.m=Ve.getUTCMonth(),ye.d=Ve.getUTCDate()+(ye.w+6)%7):(Ve=Qj(Sg(ye.y,0,1)),Qe=Ve.getDay(),Ve=Qe>4||Qe===0?gy.ceil(Ve):gy(Ve),Ve=n0.offset(Ve,(ye.V-1)*7),ye.y=Ve.getFullYear(),ye.m=Ve.getMonth(),ye.d=Ve.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Qe="Z"in ye?Zj(Sg(ye.y,0,1)).getUTCDay():Qj(Sg(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Qe+5)%7:ye.w+ye.U*7-(Qe+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Zj(ye)):Qj(ye)}}function V(he,Re,be,ye){for(var Ke=0,Ve=Re.length,Qe=be.length,gt,et;Ke<Ve;){if(ye>=Qe)return-1;if(gt=Re.charCodeAt(Ke++),gt===37){if(gt=Re.charAt(Ke++),et=I[gt in lI?Re.charAt(Ke++):gt],!et||(ye=et(he,be,ye))<0)return-1}else if(gt!=be.charCodeAt(ye++))return-1}return ye}function L(he,Re,be){var ye=f.exec(Re.slice(be));return ye?(he.p=g.get(ye[0].toLowerCase()),be+ye[0].length):-1}function $(he,Re,be){var ye=_.exec(Re.slice(be));return ye?(he.w=C.get(ye[0].toLowerCase()),be+ye[0].length):-1}function W(he,Re,be){var ye=x.exec(Re.slice(be));return ye?(he.w=w.get(ye[0].toLowerCase()),be+ye[0].length):-1}function Y(he,Re,be){var ye=M.exec(Re.slice(be));return ye?(he.m=D.get(ye[0].toLowerCase()),be+ye[0].length):-1}function Q(he,Re,be){var ye=A.exec(Re.slice(be));return ye?(he.m=E.get(ye[0].toLowerCase()),be+ye[0].length):-1}function X(he,Re,be){return V(he,t,Re,be)}function G(he,Re,be){return V(he,n,Re,be)}function H(he,Re,be){return V(he,r,Re,be)}function J(he){return o[he.getDay()]}function Z(he){return i[he.getDay()]}function de(he){return m[he.getMonth()]}function re(he){return u[he.getMonth()]}function pe(he){return s[+(he.getHours()>=12)]}function Ne(he){return 1+~~(he.getMonth()/3)}function Se(he){return o[he.getUTCDay()]}function xe(he){return i[he.getUTCDay()]}function Pe(he){return m[he.getUTCMonth()]}function se(he){return u[he.getUTCMonth()]}function ce(he){return s[+(he.getUTCHours()>=12)]}function oe(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Re=k(he+="",R);return Re.toString=function(){return he},Re},parse:function(he){var Re=F(he+="",!1);return Re.toString=function(){return he},Re},utcFormat:function(he){var Re=k(he+="",z);return Re.toString=function(){return he},Re},utcParse:function(he){var Re=F(he+="",!0);return Re.toString=function(){return he},Re}}}var lI={"-":"",_:" ",0:"0"},Ia=/^\s*\d+/,Ive=/^%/,Lve=/[\\^$*+?|[\]().{}]/g;function _n(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function Bve(e){return e.replace(Lve,"\\$&")}function _g(e){return new RegExp("^(?:"+e.map(Bve).join("|")+")","i")}function Eg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Fve(e,t,n){var r=Ia.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Uve(e,t,n){var r=Ia.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zve(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Vve(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $ve(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function cI(e,t,n){var r=Ia.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function uI(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Hve(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qve(e,t,n){var r=Ia.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Yve(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dI(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Wve(e,t,n){var r=Ia.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fI(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Gve(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Kve(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Xve(e,t,n){var r=Ia.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Qve(e,t,n){var r=Ia.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zve(e,t,n){var r=Ive.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Jve(e,t,n){var r=Ia.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function eye(e,t,n){var r=Ia.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hI(e,t){return _n(e.getDate(),t,2)}function tye(e,t){return _n(e.getHours(),t,2)}function nye(e,t){return _n(e.getHours()%12||12,t,2)}function rye(e,t){return _n(1+n0.count(Zl(e),e),t,3)}function Lz(e,t){return _n(e.getMilliseconds(),t,3)}function aye(e,t){return Lz(e,t)+"000"}function sye(e,t){return _n(e.getMonth()+1,t,2)}function iye(e,t){return _n(e.getMinutes(),t,2)}function oye(e,t){return _n(e.getSeconds(),t,2)}function lye(e){var t=e.getDay();return t===0?7:t}function cye(e,t){return _n(S1.count(Zl(e)-1,e),t,2)}function Bz(e){var t=e.getDay();return t>=4||t===0?Fh(e):Fh.ceil(e)}function uye(e,t){return e=Bz(e),_n(Fh.count(Zl(e),e)+(Zl(e).getDay()===4),t,2)}function dye(e){return e.getDay()}function fye(e,t){return _n(gy.count(Zl(e)-1,e),t,2)}function hye(e,t){return _n(e.getFullYear()%100,t,2)}function mye(e,t){return e=Bz(e),_n(e.getFullYear()%100,t,2)}function gye(e,t){return _n(e.getFullYear()%1e4,t,4)}function pye(e,t){var n=e.getDay();return e=n>=4||n===0?Fh(e):Fh.ceil(e),_n(e.getFullYear()%1e4,t,4)}function xye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_n(t/60|0,"0",2)+_n(t%60,"0",2)}function mI(e,t){return _n(e.getUTCDate(),t,2)}function vye(e,t){return _n(e.getUTCHours(),t,2)}function yye(e,t){return _n(e.getUTCHours()%12||12,t,2)}function bye(e,t){return _n(1+N1.count(Jl(e),e),t,3)}function Fz(e,t){return _n(e.getUTCMilliseconds(),t,3)}function wye(e,t){return Fz(e,t)+"000"}function jye(e,t){return _n(e.getUTCMonth()+1,t,2)}function Nye(e,t){return _n(e.getUTCMinutes(),t,2)}function Sye(e,t){return _n(e.getUTCSeconds(),t,2)}function _ye(e){var t=e.getUTCDay();return t===0?7:t}function Eye(e,t){return _n(_1.count(Jl(e)-1,e),t,2)}function Uz(e){var t=e.getUTCDay();return t>=4||t===0?Uh(e):Uh.ceil(e)}function Aye(e,t){return e=Uz(e),_n(Uh.count(Jl(e),e)+(Jl(e).getUTCDay()===4),t,2)}function Cye(e){return e.getUTCDay()}function Tye(e,t){return _n(py.count(Jl(e)-1,e),t,2)}function Oye(e,t){return _n(e.getUTCFullYear()%100,t,2)}function Mye(e,t){return e=Uz(e),_n(e.getUTCFullYear()%100,t,2)}function Dye(e,t){return _n(e.getUTCFullYear()%1e4,t,4)}function Pye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Uh(e):Uh.ceil(e),_n(e.getUTCFullYear()%1e4,t,4)}function Rye(){return"+0000"}function gI(){return"%"}function pI(e){return+e}function xI(e){return Math.floor(+e/1e3)}var nh,zz,Vz;kye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kye(e){return nh=kve(e),zz=nh.format,nh.parse,Vz=nh.utcFormat,nh.utcParse,nh}function Iye(e){return new Date(e)}function Lye(e){return e instanceof Date?+e:+new Date(+e)}function NC(e,t,n,r,s,i,o,u,m,f){var g=cC(),x=g.invert,w=g.domain,_=f(".%L"),C=f(":%S"),A=f("%I:%M"),E=f("%I %p"),M=f("%a %d"),D=f("%b %d"),R=f("%B"),z=f("%Y");function I(k){return(m(k)<k?_:u(k)<k?C:o(k)<k?A:i(k)<k?E:r(k)<k?s(k)<k?M:D:n(k)<k?R:z)(k)}return g.invert=function(k){return new Date(x(k))},g.domain=function(k){return arguments.length?w(Array.from(k,Lye)):w().map(Iye)},g.ticks=function(k){var F=w();return e(F[0],F[F.length-1],k??10)},g.tickFormat=function(k,F){return F==null?I:f(F)},g.nice=function(k){var F=w();return(!k||typeof k.range!="function")&&(k=t(F[0],F[F.length-1],k??10)),k?w(Cz(F,k)):g},g.copy=function(){return t0(g,NC(e,t,n,r,s,i,o,u,m,f))},g}function Bye(){return Yi.apply(NC(Pve,Rve,Zl,wC,S1,n0,yC,xC,xd,zz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fye(){return Yi.apply(NC(Mve,Dve,Jl,jC,_1,N1,bC,vC,xd,Vz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E1(){var e=0,t=1,n,r,s,i,o=Ns,u=!1,m;function f(x){return x==null||isNaN(x=+x)?m:o(s===0?.5:(x=(i(x)-n)*s,u?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([e,t]=x,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(x){return arguments.length?(u=!!x,f):u},f.interpolator=function(x){return arguments.length?(o=x,f):o};function g(x){return function(w){var _,C;return arguments.length?([_,C]=w,o=x(_,C),f):[o(0),o(1)]}}return f.range=g(lm),f.rangeRound=g(lC),f.unknown=function(x){return arguments.length?(m=x,f):m},function(x){return i=x,n=x(e),r=x(t),s=n===r?0:1/(r-n),f}}function Eu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $z(){var e=_u(E1()(Ns));return e.copy=function(){return Eu(e,$z())},nc.apply(e,arguments)}function Hz(){var e=fC(E1()).domain([1,10]);return e.copy=function(){return Eu(e,Hz()).base(e.base())},nc.apply(e,arguments)}function qz(){var e=hC(E1());return e.copy=function(){return Eu(e,qz()).constant(e.constant())},nc.apply(e,arguments)}function SC(){var e=mC(E1());return e.copy=function(){return Eu(e,SC()).exponent(e.exponent())},nc.apply(e,arguments)}function Uye(){return SC.apply(null,arguments).exponent(.5)}function Yz(){var e=[],t=Ns;function n(r){if(r!=null&&!isNaN(r=+r))return t((Jp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Jc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>_xe(e,i/r))},n.copy=function(){return Yz(t).domain(e)},nc.apply(n,arguments)}function A1(){var e=0,t=.5,n=1,r=1,s,i,o,u,m,f=Ns,g,x=!1,w;function _(A){return isNaN(A=+A)?w:(A=.5+((A=+g(A))-i)*(r*A<r*i?u:m),f(x?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([e,t,n]=A,s=g(e=+e),i=g(t=+t),o=g(n=+n),u=s===i?0:.5/(i-s),m=i===o?0:.5/(o-i),r=i<s?-1:1,_):[e,t,n]},_.clamp=function(A){return arguments.length?(x=!!A,_):x},_.interpolator=function(A){return arguments.length?(f=A,_):f};function C(A){return function(E){var M,D,R;return arguments.length?([M,D,R]=E,f=Zxe(A,[M,D,R]),_):[f(0),f(.5),f(1)]}}return _.range=C(lm),_.rangeRound=C(lC),_.unknown=function(A){return arguments.length?(w=A,_):w},function(A){return g=A,s=A(e),i=A(t),o=A(n),u=s===i?0:.5/(i-s),m=i===o?0:.5/(o-i),r=i<s?-1:1,_}}function Wz(){var e=_u(A1()(Ns));return e.copy=function(){return Eu(e,Wz())},nc.apply(e,arguments)}function Gz(){var e=fC(A1()).domain([.1,1,10]);return e.copy=function(){return Eu(e,Gz()).base(e.base())},nc.apply(e,arguments)}function Kz(){var e=hC(A1());return e.copy=function(){return Eu(e,Kz()).constant(e.constant())},nc.apply(e,arguments)}function _C(){var e=mC(A1());return e.copy=function(){return Eu(e,_C()).exponent(e.exponent())},nc.apply(e,arguments)}function zye(){return _C.apply(null,arguments).exponent(.5)}const Bg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sC,scaleDiverging:Wz,scaleDivergingLog:Gz,scaleDivergingPow:_C,scaleDivergingSqrt:zye,scaleDivergingSymlog:Kz,scaleIdentity:Az,scaleImplicit:w_,scaleLinear:Ez,scaleLog:Tz,scaleOrdinal:aC,scalePoint:Cxe,scalePow:gC,scaleQuantile:Dz,scaleQuantize:Pz,scaleRadial:Mz,scaleSequential:$z,scaleSequentialLog:Hz,scaleSequentialPow:SC,scaleSequentialQuantile:Yz,scaleSequentialSqrt:Uye,scaleSequentialSymlog:qz,scaleSqrt:wve,scaleSymlog:Oz,scaleThreshold:Rz,scaleTime:Bye,scaleUtc:Fye,tickFormat:_z},Symbol.toStringTag,{value:"Module"}));var Kd=e=>e.chartData,EC=Ue([Kd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),C1=(e,t,n,r)=>r?EC(e):Kd(e);function zh(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ya(t)&&Ya(n))return!0}return!1}function vI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Vye(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,s,i;if(Ya(n))s=n;else if(typeof n=="function")return;if(Ya(r))i=r;else if(typeof r=="function")return;var o=[s,i];if(zh(o))return o}}function $ye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(zh(r))return vI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,u;if(s==="auto")t!=null&&(o=Math.min(...t));else if(ot(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&sk.test(s)){var m=sk.exec(s);if(m==null||t==null)o=void 0;else{var f=+m[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(u=Math.max(...t));else if(ot(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&ik.test(i)){var g=ik.exec(i);if(g==null||t==null)u=void 0;else{var x=+g[1];u=t[1]+x}}else u=t==null?void 0:t[1];var w=[o,u];if(zh(w))return t==null?w:vI(w,t,n)}}}var cm=1e9,Hye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CC,mr=!0,zi="[DecimalError] ",Ed=zi+"Invalid argument: ",AC=zi+"Exponent out of range: ",um=Math.floor,cd=Math.pow,qye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ui,Ta=1e7,ar=7,Xz=9007199254740991,xy=um(Xz/ar),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,n,r,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ar;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};mt.dividedBy=mt.div=function(e){return Fl(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,n=t.constructor;return Kn(Fl(t,new n(e),0,1),n.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return la(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ui))throw Error(zi+"NaN");if(n.s<1)throw Error(zi+(n.s?"NaN":"-Infinity"));return n.eq(ui)?new r(0):(mr=!1,t=Fl(wp(n,i),wp(e,i),i),mr=!0,Kn(t,s))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jz(t,e):Qz(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(zi+"NaN");return n.s?(mr=!1,t=Fl(n,e,0,1).times(e),mr=!0,n.minus(t)):Kn(new r(n),s)};mt.naturalExponential=mt.exp=function(){return Zz(this)};mt.naturalLogarithm=mt.ln=function(){return wp(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Qz(t,e):Jz(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ed+e);if(t=la(s)+1,r=s.d.length-1,n=r*ar+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};mt.squareRoot=mt.sqrt=function(){var e,t,n,r,s,i,o,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(zi+"NaN")}for(e=la(u),mr=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=qo(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=um((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(s.toString()),n=m.precision,s=o=n+3;;)if(i=r,r=i.plus(Fl(u,i,o+2)).times(.5),qo(i.d).slice(0,o)===(t=qo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Kn(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(t!="9999")break;o+=4}return mr=!0,Kn(r,n)};mt.times=mt.mul=function(e){var t,n,r,s,i,o,u,m,f,g=this,x=g.constructor,w=g.d,_=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,n=g.e+e.e,m=w.length,f=_.length,m<f&&(i=w,w=_,_=i,o=m,m=f,f=o),i=[],o=m+f,r=o;r--;)i.push(0);for(r=f;--r>=0;){for(t=0,s=m+r;s>r;)u=i[s]+_[r]*w[s-r-1]+t,i[s--]=u%Ta|0,t=u/Ta|0;i[s]=(i[s]+t)%Ta|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,mr?Kn(e,x.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(tl(e,0,cm),t===void 0?t=r.rounding:tl(t,0,8),Kn(n,e+la(n)+1,t))};mt.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Fd(r,!0):(tl(e,0,cm),t===void 0?t=s.rounding:tl(t,0,8),r=Kn(new s(r),e+1,t),n=Fd(r,!0,e+1)),n};mt.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?Fd(s):(tl(e,0,cm),t===void 0?t=i.rounding:tl(t,0,8),r=Kn(new i(s),e+la(s)+1,t),n=Fd(r.abs(),!1,e+la(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return Kn(new t(e),la(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,n,r,s,i,o,u=this,m=u.constructor,f=12,g=+(e=new m(e));if(!e.s)return new m(ui);if(u=new m(u),!u.s){if(e.s<1)throw Error(zi+"Infinity");return u}if(u.eq(ui))return u;if(r=m.precision,e.eq(ui))return Kn(u,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=u.s,o){if((n=g<0?-g:g)<=Xz){for(s=new m(ui),t=Math.ceil(r/ar+4),mr=!1;n%2&&(s=s.times(u),bI(s.d,t)),n=um(n/2),n!==0;)u=u.times(u),bI(u.d,t);return mr=!0,e.s<0?new m(ui).div(s):Kn(s,r)}}else if(i<0)throw Error(zi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,mr=!1,s=e.times(wp(u,r+f)),mr=!0,s=Zz(s),s.s=i,s};mt.toPrecision=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?(n=la(s),r=Fd(s,n<=i.toExpNeg||n>=i.toExpPos)):(tl(e,1,cm),t===void 0?t=i.rounding:tl(t,0,8),s=Kn(new i(s),e,t),n=la(s),r=Fd(s,e<=n||n<=i.toExpNeg,e)),r};mt.toSignificantDigits=mt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(tl(e,1,cm),t===void 0?t=r.rounding:tl(t,0,8)),Kn(new r(n),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=la(e),n=e.constructor;return Fd(e,t<=n.toExpNeg||t>=n.toExpPos)};function Qz(e,t){var n,r,s,i,o,u,m,f,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),mr?Kn(t,x):t;if(m=e.d,f=t.d,o=e.e,s=t.e,m=m.slice(),i=o-s,i){for(i<0?(r=m,i=-i,u=f.length):(r=f,s=o,u=m.length),o=Math.ceil(x/ar),u=o>u?o+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=m.length,i=f.length,u-i<0&&(i=u,r=f,f=m,m=r),n=0;i;)n=(m[--i]=m[i]+f[i]+n)/Ta|0,m[i]%=Ta;for(n&&(m.unshift(n),++s),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=s,mr?Kn(t,x):t}function tl(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ed+e)}function qo(e){var t,n,r,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)r=e[t]+"",n=ar-r.length,n&&(i+=Gc(n)),i+=r;o=e[t],r=o+"",n=ar-r.length,n&&(i+=Gc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fl=function(){function e(r,s){var i,o=0,u=r.length;for(r=r.slice();u--;)i=r[u]*s+o,r[u]=i%Ta|0,o=i/Ta|0;return o&&r.unshift(o),r}function t(r,s,i,o){var u,m;if(i!=o)m=i>o?1:-1;else for(u=m=0;u<i;u++)if(r[u]!=s[u]){m=r[u]>s[u]?1:-1;break}return m}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*Ta+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var u,m,f,g,x,w,_,C,A,E,M,D,R,z,I,k,F,V,L=r.constructor,$=r.s==s.s?1:-1,W=r.d,Y=s.d;if(!r.s)return new L(r);if(!s.s)throw Error(zi+"Division by zero");for(m=r.e-s.e,F=Y.length,I=W.length,_=new L($),C=_.d=[],f=0;Y[f]==(W[f]||0);)++f;if(Y[f]>(W[f]||0)&&--m,i==null?D=i=L.precision:o?D=i+(la(r)-la(s))+1:D=i,D<0)return new L(0);if(D=D/ar+2|0,f=0,F==1)for(g=0,Y=Y[0],D++;(f<I||g)&&D--;f++)R=g*Ta+(W[f]||0),C[f]=R/Y|0,g=R%Y|0;else{for(g=Ta/(Y[0]+1)|0,g>1&&(Y=e(Y,g),W=e(W,g),F=Y.length,I=W.length),z=F,A=W.slice(0,F),E=A.length;E<F;)A[E++]=0;V=Y.slice(),V.unshift(0),k=Y[0],Y[1]>=Ta/2&&++k;do g=0,u=t(Y,A,F,E),u<0?(M=A[0],F!=E&&(M=M*Ta+(A[1]||0)),g=M/k|0,g>1?(g>=Ta&&(g=Ta-1),x=e(Y,g),w=x.length,E=A.length,u=t(x,A,w,E),u==1&&(g--,n(x,F<w?V:Y,w))):(g==0&&(u=g=1),x=Y.slice()),w=x.length,w<E&&x.unshift(0),n(A,x,E),u==-1&&(E=A.length,u=t(Y,A,F,E),u<1&&(g++,n(A,F<E?V:Y,E))),E=A.length):u===0&&(g++,A=[0]),C[f++]=g,u&&A[0]?A[E++]=W[z]||0:(A=[W[z]],E=1);while((z++<I||A[0]!==void 0)&&D--)}return C[0]||C.shift(),_.e=m,Kn(_,o?i+la(_)+1:i)}}();function Zz(e,t){var n,r,s,i,o,u,m=0,f=0,g=e.constructor,x=g.precision;if(la(e)>16)throw Error(AC+la(e));if(!e.s)return new g(ui);for(mr=!1,u=x,o=new g(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(cd(2,f))/Math.LN10*2+5|0,u+=r,n=s=i=new g(ui),g.precision=u;;){if(s=Kn(s.times(e),u),n=n.times(++m),o=i.plus(Fl(s,n,u)),qo(o.d).slice(0,u)===qo(i.d).slice(0,u)){for(;f--;)i=Kn(i.times(i),u);return g.precision=x,t==null?(mr=!0,Kn(i,x)):i}i=o}}function la(e){for(var t=e.e*ar,n=e.d[0];n>=10;n/=10)t++;return t}function Jj(e,t,n){if(t>e.LN10.sd())throw mr=!0,n&&(e.precision=n),Error(zi+"LN10 precision limit exceeded");return Kn(new e(e.LN10),t)}function Gc(e){for(var t="";e--;)t+="0";return t}function wp(e,t){var n,r,s,i,o,u,m,f,g,x=1,w=10,_=e,C=_.d,A=_.constructor,E=A.precision;if(_.s<1)throw Error(zi+(_.s?"NaN":"-Infinity"));if(_.eq(ui))return new A(0);if(t==null?(mr=!1,f=E):f=t,_.eq(10))return t==null&&(mr=!0),Jj(A,f);if(f+=w,A.precision=f,n=qo(C),r=n.charAt(0),i=la(_),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=qo(_.d),r=n.charAt(0),x++;i=la(_),r>1?(_=new A("0."+n),i++):_=new A(r+"."+n.slice(1))}else return m=Jj(A,f+2,E).times(i+""),_=wp(new A(r+"."+n.slice(1)),f-w).plus(m),A.precision=E,t==null?(mr=!0,Kn(_,E)):_;for(u=o=_=Fl(_.minus(ui),_.plus(ui),f),g=Kn(_.times(_),f),s=3;;){if(o=Kn(o.times(g),f),m=u.plus(Fl(o,new A(s),f)),qo(m.d).slice(0,f)===qo(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(Jj(A,f+2,E).times(i+""))),u=Fl(u,new A(x),f),A.precision=E,t==null?(mr=!0,Kn(u,E)):u;u=m,s+=2}}function yI(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=um(n/ar),e.d=[],r=(n+1)%ar,n<0&&(r+=ar),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=ar;r<s;)e.d.push(+t.slice(r,r+=ar));t=t.slice(r),r=ar-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),mr&&(e.e>xy||e.e<-xy))throw Error(AC+n)}else e.s=0,e.e=0,e.d=[0];return e}function Kn(e,t,n){var r,s,i,o,u,m,f,g,x=e.d;for(o=1,i=x[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=ar,s=t,f=x[g=0];else{if(g=Math.ceil((r+1)/ar),i=x.length,g>=i)return e;for(f=i=x[g],o=1;i>=10;i/=10)o++;r%=ar,s=r-ar+o}if(n!==void 0&&(i=cd(10,o-s-1),u=f/i%10|0,m=t<0||x[g+1]!==void 0||f%i,m=n<4?(u||m)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||m||n==6&&(r>0?s>0?f/cd(10,o-s):0:x[g-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return m?(i=la(e),x.length=1,t=t-i-1,x[0]=cd(10,(ar-t%ar)%ar),e.e=um(-t/ar)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=g,i=1,g--):(x.length=g+1,i=cd(10,ar-r),x[g]=s>0?(f/cd(10,o-s)%cd(10,s)|0)*i:0),m)for(;;)if(g==0){(x[0]+=i)==Ta&&(x[0]=1,++e.e);break}else{if(x[g]+=i,x[g]!=Ta)break;x[g--]=0,i=1}for(r=x.length;x[--r]===0;)x.pop();if(mr&&(e.e>xy||e.e<-xy))throw Error(AC+la(e));return e}function Jz(e,t){var n,r,s,i,o,u,m,f,g,x,w=e.constructor,_=w.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new w(e),mr?Kn(t,_):t;if(m=e.d,x=t.d,r=t.e,f=e.e,m=m.slice(),o=f-r,o){for(g=o<0,g?(n=m,o=-o,u=x.length):(n=x,r=f,u=m.length),s=Math.max(Math.ceil(_/ar),u)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=m.length,u=x.length,g=s<u,g&&(u=s),s=0;s<u;s++)if(m[s]!=x[s]){g=m[s]<x[s];break}o=0}for(g&&(n=m,m=x,x=n,t.s=-t.s),u=m.length,s=x.length-u;s>0;--s)m[u++]=0;for(s=x.length;s>o;){if(m[--s]<x[s]){for(i=s;i&&m[--i]===0;)m[i]=Ta-1;--m[i],m[s]+=Ta}m[s]-=x[s]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,mr?Kn(t,_):t):new w(0)}function Fd(e,t,n){var r,s=la(e),i=qo(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Gc(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Gc(-s-1)+i,n&&(r=n-o)>0&&(i+=Gc(r))):s>=o?(i+=Gc(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+Gc(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=Gc(r))),e.s<0?"-"+i:i}function bI(e,t){if(e.length>t)return e.length=t,!0}function eV(e){var t,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ed+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return yI(o,i.toString())}else if(typeof i!="string")throw Error(Ed+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,qye.test(i))yI(o,i);else throw Error(Ed+i)}if(s.prototype=mt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=eV,s.config=s.set=Yye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function Yye(e){if(!e||typeof e!="object")throw Error(zi+"Object expected");var t,n,r,s=["precision",1,cm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(um(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Ed+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ed+n+": "+r);return this}var CC=eV(Hye);ui=new CC(1);const Bn=CC;var Wye=e=>e,tV={},nV=e=>e===tV,wI=e=>function t(){return arguments.length===0||arguments.length===1&&nV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},rV=(e,t)=>e===1?t:wI(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var i=r.filter(o=>o!==tV).length;return i>=e?t(...r):rV(e-i,wI(function(){for(var o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];var f=r.map(g=>nV(g)?u.shift():g);return t(...f,...u)}))}),T1=e=>rV(e.length,e),__=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Gye=T1((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Kye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Wye;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((u,m)=>m(u),i(...arguments))}},E_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),aV=e=>{var t=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t&&s.every((o,u)=>{var m;return o===((m=t)===null||m===void 0?void 0:m[u])})||(t=s,n=e(...s)),n}};function sV(e){var t;return e===0?t=1:t=Math.floor(new Bn(e).abs().log(10).toNumber())+1,t}function iV(e,t,n){for(var r=new Bn(e),s=0,i=[];r.lt(t)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}T1((e,t,n)=>{var r=+e,s=+t;return r+n*(s-r)});T1((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});T1((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var oV=e=>{var[t,n]=e,[r,s]=[t,n];return t>n&&([r,s]=[n,t]),[r,s]},lV=(e,t,n)=>{if(e.lte(0))return new Bn(0);var r=sV(e.toNumber()),s=new Bn(10).pow(r),i=e.div(s),o=r!==1?.05:.1,u=new Bn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),m=u.mul(s);return t?new Bn(m.toNumber()):new Bn(Math.ceil(m.toNumber()))},Xye=(e,t,n)=>{var r=new Bn(1),s=new Bn(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(r=new Bn(10).pow(sV(e)-1),s=new Bn(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new Bn(Math.floor(e)))}else e===0?s=new Bn(Math.floor((t-1)/2)):n||(s=new Bn(Math.floor(e)));var o=Math.floor((t-1)/2),u=Kye(Gye(m=>s.add(new Bn(m-o).mul(r)).toNumber()),__);return u(0,t)},cV=function(t,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Bn(0),tickMin:new Bn(0),tickMax:new Bn(0)};var o=lV(new Bn(n).sub(t).div(r-1),s,i),u;t<=0&&n>=0?u=new Bn(0):(u=new Bn(t).add(n).div(2),u=u.sub(new Bn(u).mod(o)));var m=Math.ceil(u.sub(t).div(o).toNumber()),f=Math.ceil(new Bn(n).sub(u).div(o).toNumber()),g=m+f+1;return g>r?cV(t,n,r,s,i+1):(g<r&&(f=n>0?f+(r-g):f,m=n>0?m:m+(r-g)),{step:o,tickMin:u.sub(new Bn(m).mul(o)),tickMax:u.add(new Bn(f).mul(o))})};function Qye(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,u]=oV([t,n]);if(o===-1/0||u===1/0){var m=u===1/0?[o,...__(0,r-1).map(()=>1/0)]:[...__(0,r-1).map(()=>-1/0),u];return t>n?E_(m):m}if(o===u)return Xye(o,r,s);var{step:f,tickMin:g,tickMax:x}=cV(o,u,i,s,0),w=iV(g,x.add(new Bn(.1).mul(f)),f);return t>n?E_(w):w}function Zye(e,t){var[n,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=oV([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var u=Math.max(t,2),m=lV(new Bn(o).sub(i).div(u-1),s,0),f=[...iV(new Bn(i),new Bn(o),m),o];return s===!1&&(f=f.map(g=>Math.round(g))),n>r?E_(f):f}var Jye=aV(Qye),e1e=aV(Zye),uV=e=>e.rootProps.maxBarSize,t1e=e=>e.rootProps.barGap,dV=e=>e.rootProps.barCategoryGap,n1e=e=>e.rootProps.barSize,r0=e=>e.rootProps.stackOffset,TC=e=>e.options.chartName,OC=e=>e.rootProps.syncId,fV=e=>e.rootProps.syncMethod,MC=e=>e.options.eventEmitter,Dl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},si={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},O1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},r1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Dl.angleAxisId,includeHidden:!1,name:void 0,reversed:Dl.reversed,scale:Dl.scale,tick:Dl.tick,tickCount:void 0,ticks:void 0,type:Dl.type,unit:void 0},a1e={allowDataOverflow:si.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:si.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:si.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:si.scale,tick:si.tick,tickCount:si.tickCount,ticks:void 0,type:si.type,unit:void 0},s1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Dl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dl.scale,tick:Dl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},i1e={allowDataOverflow:si.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:si.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:si.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:si.scale,tick:si.tick,tickCount:si.tickCount,ticks:void 0,type:"category",unit:void 0},DC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?s1e:r1e,PC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?i1e:a1e,M1=e=>e.polarOptions,RC=Ue([ec,tc,wa],XU),hV=Ue([M1,RC],(e,t)=>{if(e!=null)return _s(e.innerRadius,t,0)}),mV=Ue([M1,RC],(e,t)=>{if(e!=null)return _s(e.outerRadius,t,t*.8)}),o1e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},gV=Ue([M1],o1e);Ue([DC,gV],O1);var pV=Ue([RC,hV,mV],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ue([PC,pV],O1);var l1e=Ue([pn,M1,hV,mV,ec,tc],(e,t,n,r,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:u,startAngle:m,endAngle:f}=t;return{cx:_s(o,s,s/2),cy:_s(u,i,i/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:f,clockWise:!1}}}),Qr=(e,t)=>t,a0=(e,t,n)=>n;function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){c1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c1e(e,t,n){return(t=u1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u1e(e){var t=d1e(e,"string");return typeof t=="symbol"?t:t+""}function d1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A_=[0,"auto"],ri={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rc=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??ri},ai={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:A_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:y1},Au=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??ai},f1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kC=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??f1e},Zr=(e,t,n)=>{switch(t){case"xAxis":return rc(e,n);case"yAxis":return Au(e,n);case"zAxis":return kC(e,n);case"angleAxis":return DC(e,n);case"radiusAxis":return PC(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},h1e=(e,t,n)=>{switch(t){case"xAxis":return rc(e,n);case"yAxis":return Au(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},s0=(e,t,n)=>{switch(t){case"xAxis":return rc(e,n);case"yAxis":return Au(e,n);case"angleAxis":return DC(e,n);case"radiusAxis":return PC(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xV=e=>e.graphicalItems.countOfBars>0;function IC(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var i0=e=>e.graphicalItems.cartesianItems,m1e=Ue([Qr,a0],IC),LC=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),o0=Ue([i0,Zr,m1e],LC),vV=e=>e.filter(t=>t.stackId===void 0),g1e=Ue([o0],vV),BC=e=>e.map(t=>t.data).filter(Boolean).flat(1),p1e=Ue([o0],BC),FC=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:n.slice(r,s+1)},D1=Ue([p1e,C1],FC),UC=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Gn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Gn(s,r)}))):e.map(r=>({value:r})),P1=Ue([D1,Zr,o0],UC);function yV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xd(e){return e.filter(t=>el(t)||t instanceof Date).map(Number).filter(t=>Vs(t)===!1)}function x1e(e,t,n){return!n||typeof t!="number"||Vs(t)?[]:n.length?Xd(n.flatMap(r=>{var s=Gn(e,r.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!Ya(i)||!Ya(o)))return[t-i,t+o]})):[]}var bV=(e,t,n)=>{var r={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),r);return Object.fromEntries(Object.entries(s).map(i=>{var[o,u]=i,m=u.map(f=>f.dataKey);return[o,{stackedData:xpe(e,m,n),graphicalItems:u}]}))},jp=Ue([D1,o0,r0],bV),wV=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(n!=="zAxis"){var i=wpe(e,r,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},v1e=Ue([jp,Kd,Qr],wV),jV=(e,t,n,r)=>n.length>0?e.flatMap(s=>n.flatMap(i=>{var o,u,m=(o=i.errorBars)===null||o===void 0?void 0:o.filter(g=>yV(r,g)),f=Gn(s,(u=t.dataKey)!==null&&u!==void 0?u:i.dataKey);return{value:f,errorDomain:x1e(s,f,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Gn(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),y1e=Ue(D1,Zr,g1e,Qr,jV);function b1e(e){var{value:t}=e;if(el(t)||t instanceof Date)return t}var w1e=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Xd(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},j1e=(e,t,n)=>{var r=e.map(b1e).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&WF(r))?gz(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},zC=e=>{var t;if(e==null||!("domain"in e))return A_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Xd(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:A_},VC=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),u=Math.max(...i);return[o,u]}},NV=e=>e.referenceElements.dots,dm=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),N1e=Ue([NV,Qr,a0],dm),SV=e=>e.referenceElements.areas,S1e=Ue([SV,Qr,a0],dm),_V=e=>e.referenceElements.lines,_1e=Ue([_V,Qr,a0],dm),EV=(e,t)=>{var n=Xd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},E1e=Ue(N1e,Qr,EV),AV=(e,t)=>{var n=Xd(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},A1e=Ue([S1e,Qr],AV),CV=(e,t)=>{var n=Xd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},C1e=Ue(_1e,Qr,CV),T1e=Ue(E1e,C1e,A1e,(e,t,n)=>VC(e,n,t)),TV=Ue([Zr],zC),$C=(e,t,n,r,s)=>{var i=Vye(t,e.allowDataOverflow);return i??$ye(t,VC(n,s,w1e(r)),e.allowDataOverflow)},O1e=Ue([Zr,TV,v1e,y1e,T1e],$C),M1e=[0,1],HC=(e,t,n,r,s,i,o)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:u,type:m}=e,f=ll(t,i);return f&&u==null?gz(0,n.length):m==="category"?j1e(r,e,f):s==="expand"?M1e:o}},qC=Ue([Zr,pn,D1,P1,r0,Qr,O1e],HC),OV=(e,t,n,r,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var u="scale".concat(Gp(i));return u in Bg?u:"point"}}},fm=Ue([Zr,pn,xV,TC,Qr],OV);function D1e(e){if(e!=null){if(e in Bg)return Bg[e]();var t="scale".concat(Gp(e));if(t in Bg)return Bg[t]()}}function YC(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var s=D1e(t);if(s!=null){var i=s.domain(n).range(r);return fpe(i),i}}}var WC=(e,t,n)=>{var r=zC(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&zh(e))return Jye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&zh(e))return e1e(e,t.tickCount,t.allowDecimals)}},GC=Ue([qC,s0,fm],WC),KC=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&zh(t)&&Array.isArray(n)&&n.length>0){var s=t[0],i=n[0],o=t[1],u=n[n.length-1];return[Math.min(s,i),Math.max(o,u)]}return t},P1e=Ue([Zr,qC,GC,Qr],KC),R1e=Ue(P1,Zr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Xd(e.map(u=>u.value))).sort((u,m)=>u-m);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/s}}),MV=Ue(R1e,pn,dV,wa,(e,t,n,r)=>r,(e,t,n,r,s)=>{if(!Ya(e))return 0;var i=t==="vertical"?r.height:r.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=_s(n,e*i),u=e*i/2;return u-o-(u-o)/i*o}return 0}),k1e=(e,t)=>{var n=rc(e,t);return n==null||typeof n.padding!="string"?0:MV(e,"xAxis",t,n.padding)},I1e=(e,t)=>{var n=Au(e,t);return n==null||typeof n.padding!="string"?0:MV(e,"yAxis",t,n.padding)},L1e=Ue(rc,k1e,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),B1e=Ue(Au,I1e,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),F1e=Ue([wa,L1e,w1,b1,(e,t,n)=>n],(e,t,n,r,s)=>{var{padding:i}=r;return s?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),U1e=Ue([wa,pn,B1e,w1,b1,(e,t,n)=>n],(e,t,n,r,s,i)=>{var{padding:o}=s;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),l0=(e,t,n,r)=>{var s;switch(t){case"xAxis":return F1e(e,n,r);case"yAxis":return U1e(e,n,r);case"zAxis":return(s=kC(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return gV(e);case"radiusAxis":return pV(e,n);default:return}},DV=Ue([Zr,l0],O1),hm=Ue([Zr,fm,P1e,DV],YC);Ue(o0,Qr,(e,t)=>e.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>yV(t,n)));function PV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var R1=(e,t)=>t,k1=(e,t,n)=>n,z1e=Ue(XA,R1,k1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(PV)),V1e=Ue(QA,R1,k1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(PV)),RV=(e,t)=>({width:e.width,height:t.height}),$1e=(e,t)=>{var n=typeof t.width=="number"?t.width:y1;return{width:n,height:e.height}},kV=Ue(wa,rc,RV),H1e=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},q1e=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Y1e=Ue(tc,wa,z1e,R1,k1,(e,t,n,r,s)=>{var i={},o;return n.forEach(u=>{var m=RV(t,u);o==null&&(o=H1e(t,r,e));var f=r==="top"&&!s||r==="bottom"&&s;i[u.id]=o-Number(f)*m.height,o+=(f?-1:1)*m.height}),i}),W1e=Ue(ec,wa,V1e,R1,k1,(e,t,n,r,s)=>{var i={},o;return n.forEach(u=>{var m=$1e(t,u);o==null&&(o=q1e(t,r,e));var f=r==="left"&&!s||r==="right"&&s;i[u.id]=o-Number(f)*m.width,o+=(f?-1:1)*m.width}),i}),G1e=(e,t)=>{var n=wa(e),r=rc(e,t);if(r!=null){var s=Y1e(e,r.orientation,r.mirror),i=s[t];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}},K1e=(e,t)=>{var n=wa(e),r=Au(e,t);if(r!=null){var s=W1e(e,r.orientation,r.mirror),i=s[t];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}},IV=Ue(wa,Au,(e,t)=>{var n=typeof t.width=="number"?t.width:y1;return{width:n,height:e.height}}),NI=(e,t,n)=>{switch(t){case"xAxis":return kV(e,n).width;case"yAxis":return IV(e,n).height;default:return}},LV=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=n,u=ll(e,r),m=t.map(f=>f.value);if(o&&u&&i==="category"&&s&&WF(m))return m}},XC=Ue([pn,P1,Zr,Qr],LV),BV=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:i}=n,o=ll(e,r);if(o&&(s==="number"||i!=="auto"))return t.map(u=>u.value)}},QC=Ue([pn,P1,s0,Qr],BV),SI=Ue([pn,h1e,fm,hm,XC,QC,l0,GC,Qr],(e,t,n,r,s,i,o,u,m)=>{if(t==null)return null;var f=ll(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:i,duplicateDomain:s,isCategorical:f,niceTicks:u,range:o,realScaleType:n,scale:r}}),X1e=(e,t,n,r,s,i,o,u,m)=>{if(!(t==null||r==null)){var f=ll(e,m),{type:g,ticks:x,tickCount:w}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,C=g==="category"&&r.bandwidth?r.bandwidth()/_:0;C=m==="angleAxis"&&i!=null&&i.length>=2?Da(i[0]-i[1])*2*C:C;var A=x||s;if(A){var E=A.map((M,D)=>{var R=o?o.indexOf(M):M;return{index:D,coordinate:r(R)+C,value:M,offset:C}});return E.filter(M=>!Vs(M.coordinate))}return f&&u?u.map((M,D)=>({coordinate:r(M)+C,value:M,index:D,offset:C})):r.ticks?r.ticks(w).map(M=>({coordinate:r(M)+C,value:M,offset:C})):r.domain().map((M,D)=>({coordinate:r(M)+C,value:o?o[M]:M,index:D,offset:C}))}},FV=Ue([pn,s0,fm,hm,GC,l0,XC,QC,Qr],X1e),Q1e=(e,t,n,r,s,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ll(e,o),{tickCount:m}=t,f=0;return f=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Da(r[0]-r[1])*2*f:f,u&&i?i.map((g,x)=>({coordinate:n(g)+f,value:g,index:x,offset:f})):n.ticks?n.ticks(m).map(g=>({coordinate:n(g)+f,value:g,offset:f})):n.domain().map((g,x)=>({coordinate:n(g)+f,value:s?s[g]:g,index:x,offset:f}))}},nl=Ue([pn,s0,hm,l0,XC,QC,Qr],Q1e),Vi=Ue(Zr,hm,(e,t)=>{if(!(e==null||t==null))return vy(vy({},e),{},{scale:t})}),Z1e=Ue([Zr,fm,qC,DV],YC);Ue((e,t,n)=>kC(e,n),Z1e,(e,t)=>{if(!(e==null||t==null))return vy(vy({},e),{},{scale:t})});var J1e=Ue([pn,XA,QA],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),UV=e=>e.options.defaultTooltipEventType,zV=e=>e.options.validateTooltipEventTypes;function VV(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function ZC(e,t){var n=UV(e),r=zV(e);return VV(t,n,r)}function ebe(e){return yt(t=>ZC(t,e))}var $V=(e,t)=>{var n,r=Number(t);if(!(Vs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},tbe=e=>e.tooltip.settings,Xc={active:!1,index:null,dataKey:void 0,coordinate:void 0},nbe={itemInteraction:{click:Xc,hover:Xc},axisInteraction:{click:Xc,hover:Xc},keyboardInteraction:Xc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},HV=qi({name:"tooltip",initialState:nbe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Bl(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:rbe,removeTooltipEntrySettings:abe,setTooltipSettingsState:sbe,setActiveMouseOverItemIndex:qV,mouseLeaveItem:ibe,mouseLeaveChart:YV,setActiveClickItemIndex:obe,setMouseOverAxisIndex:WV,setMouseClickAxisIndex:lbe,setSyncInteraction:C_,setKeyboardInteraction:T_}=HV.actions,cbe=HV.reducer;function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){ube(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ube(e,t,n){return(t=dbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dbe(e){var t=fbe(e,"string");return typeof t=="symbol"?t:t+""}function fbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hbe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mbe(e){return e.index!=null}var GV=(e,t,n,r)=>{if(t==null)return Xc;var s=hbe(e,t,n);if(s==null)return Xc;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(mbe(s)){if(i)return ev(ev({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ev(ev({},Xc),{},{coordinate:s.coordinate})},JC=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Ya(r))return n;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(r,i)))},KV=(e,t,n,r,s,i,o,u)=>{if(!(i==null||u==null)){var m=o[0],f=m==null?void 0:u(m.positions,i);if(f!=null)return f;var g=s==null?void 0:s[Number(i)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},XV=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},c0=e=>e.options.tooltipPayloadSearcher,mm=e=>e.tooltip;function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){gbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gbe(e,t,n){return(t=pbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pbe(e){var t=xbe(e,"string");return typeof t=="symbol"?t:t+""}function xbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vbe(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ybe(e,t){return e??t}var QV=(e,t,n,r,s,i,o)=>{if(!(t==null||i==null)){var{chartData:u,computedData:m,dataStartIndex:f,dataEndIndex:g}=n,x=[];return e.reduce((w,_)=>{var C,{dataDefinedOnItem:A,settings:E}=_,M=ybe(A,u),D=vbe(M,f,g),R=(C=E==null?void 0:E.dataKey)!==null&&C!==void 0?C:r==null?void 0:r.dataKey,z=E==null?void 0:E.nameKey,I;if(r!=null&&r.dataKey&&Array.isArray(D)&&!Array.isArray(D[0])&&o==="axis"?I=GF(D,r.dataKey,s):I=i(D,t,m,z),Array.isArray(I))I.forEach(F=>{var V=AI(AI({},E),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});w.push(ok({tooltipEntrySettings:V,dataKey:F.dataKey,payload:F.payload,value:Gn(F.payload,F.dataKey),name:F.name}))});else{var k;w.push(ok({tooltipEntrySettings:E,dataKey:R,payload:I,value:Gn(I,R),name:(k=Gn(I,z))!==null&&k!==void 0?k:E==null?void 0:E.name}))}return w},x)}},La=e=>{var t=pn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gm=e=>e.tooltip.settings.axisId,Wa=e=>{var t=La(e),n=gm(e);return s0(e,t,n)},eT=Ue([Wa,pn,xV,TC,La],OV),bbe=Ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),wbe=Ue([La,gm],IC),I1=Ue([bbe,Wa,wbe],LC),jbe=Ue([I1],BC),Qd=Ue([jbe,Kd],FC),tT=Ue([Qd,Wa,I1],UC),Nbe=Ue([Wa],zC),Sbe=Ue([Qd,I1,r0],bV),_be=Ue([Sbe,Kd,La],wV),Ebe=Ue([I1],vV),Abe=Ue([Qd,Wa,Ebe,La],jV),Cbe=Ue([NV,La,gm],dm),Tbe=Ue([Cbe,La],EV),Obe=Ue([SV,La,gm],dm),Mbe=Ue([Obe,La],AV),Dbe=Ue([_V,La,gm],dm),Pbe=Ue([Dbe,La],CV),Rbe=Ue([Tbe,Pbe,Mbe],VC),kbe=Ue([Wa,Nbe,_be,Abe,Rbe],$C),ZV=Ue([Wa,pn,Qd,tT,r0,La,kbe],HC),Ibe=Ue([ZV,Wa,eT],WC),Lbe=Ue([Wa,ZV,Ibe,La],KC),JV=e=>{var t=La(e),n=gm(e),r=!1;return l0(e,t,n,r)},e$=Ue([Wa,JV],O1),t$=Ue([Wa,eT,Lbe,e$],YC),Bbe=Ue([pn,tT,Wa,La],LV),Fbe=Ue([pn,tT,Wa,La],BV),Ube=(e,t,n,r,s,i,o,u)=>{if(t){var{type:m}=t,f=ll(e,u);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=m==="category"&&r.bandwidth?r.bandwidth()/g:0;return x=u==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Da(s[0]-s[1])*2*x:x,f&&o?o.map((w,_)=>({coordinate:r(w)+x,value:w,index:_,offset:x})):r.domain().map((w,_)=>({coordinate:r(w)+x,value:i?i[w]:w,index:_,offset:x}))}}},ac=Ue([pn,Wa,eT,t$,JV,Bbe,Fbe,La],Ube),nT=Ue([UV,zV,tbe],(e,t,n)=>VV(n.shared,e,t)),n$=e=>e.tooltip.settings.trigger,rT=e=>e.tooltip.settings.defaultIndex,L1=Ue([mm,nT,n$,rT],GV),gu=Ue([L1,Qd],JC),r$=Ue([ac,gu],$V),a$=Ue([L1],e=>{if(e)return e.dataKey}),s$=Ue([mm,nT,n$,rT],XV),zbe=Ue([ec,tc,pn,wa,ac,rT,s$,c0],KV),Vbe=Ue([L1,zbe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),$be=Ue([L1],e=>e.active),Hbe=Ue([s$,gu,Kd,Wa,r$,c0,nT],QV),qbe=Ue([Hbe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){Ybe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ybe(e,t,n){return(t=Wbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wbe(e){var t=Gbe(e,"string");return typeof t=="symbol"?t:t+""}function Gbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kbe=()=>yt(Wa),Xbe=()=>{var e=Kbe(),t=yt(ac),n=yt(t$);return Bd(TI(TI({},e),{},{scale:n}),t)},i$=()=>yt(TC),aT=(e,t)=>t,o$=(e,t,n)=>n,sT=(e,t,n,r)=>r,Qbe=Ue(ac,e=>f1(e,t=>t.coordinate)),iT=Ue([mm,aT,o$,sT],GV),l$=Ue([iT,Qd],JC),Zbe=(e,t,n)=>{if(t!=null){var r=mm(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},c$=Ue([mm,aT,o$,sT],XV),yy=Ue([ec,tc,pn,wa,ac,sT,c$,c0],KV),Jbe=Ue([iT,yy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),u$=Ue(ac,l$,$V),ewe=Ue([c$,l$,Kd,Wa,u$,c0,aT],QV),twe=Ue([iT],e=>({isActive:e.active,activeIndex:e.index})),nwe=(e,t,n,r,s,i,o,u)=>{if(!(!e||!t||!r||!s||!i)){var m=jpe(e.chartX,e.chartY,t,n,u);if(m){var f=Spe(m,t),g=upe(f,o,i,r,s),x=Npe(t,i,g,m);return{activeIndex:String(g),activeCoordinate:x}}}};function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O_.apply(null,arguments)}function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(n),!0).forEach(function(r){rwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rwe(e,t,n){return(t=awe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function awe(e){var t=swe(e,"string");return typeof t=="symbol"?t:t+""}function swe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iwe(e){var{coordinate:t,payload:n,index:r,offset:s,tooltipAxisBandSize:i,layout:o,cursor:u,tooltipEventType:m,chartName:f}=e,g=t,x=n,w=r;if(!u||!g||f!=="ScatterChart"&&m!=="axis")return null;var _,C;if(f==="ScatterChart")_=g,C=w0e;else if(f==="BarChart")_=j0e(o,g,s,i),C=dz;else if(o==="radial"){var{cx:A,cy:E,radius:M,startAngle:D,endAngle:R}=fz(g);_={cx:A,cy:E,startAngle:D,endAngle:R,innerRadius:M,outerRadius:M},C=mz}else _={points:lxe(o,g,s)},C=jh;var z=typeof u=="object"&&"className"in u?u.className:void 0,I=tv(tv(tv(tv({stroke:"#ccc",pointerEvents:"none"},s),_),Wt(u,!1)),{},{payload:x,payloadIndex:w,className:ln("recharts-tooltip-cursor",z)});return j.isValidElement(u)?j.cloneElement(u,I):j.createElement(C,I)}function owe(e){var t=Xbe(),n=rz(),r=Zp(),s=i$();return j.createElement(iwe,O_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:s}))}var d$=j.createContext(null),lwe=()=>j.useContext(d$),eN={exports:{}},MI;function cwe(){return MI||(MI=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(m,f,g){this.fn=m,this.context=f,this.once=g||!1}function i(m,f,g,x,w){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new s(g,x||m,w),C=n?n+f:f;return m._events[C]?m._events[C].fn?m._events[C]=[m._events[C],_]:m._events[C].push(_):(m._events[C]=_,m._eventsCount++),m}function o(m,f){--m._eventsCount===0?m._events=new r:delete m._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],g,x;if(this._eventsCount===0)return f;for(x in g=this._events)t.call(g,x)&&f.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},u.prototype.listeners=function(f){var g=n?n+f:f,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var w=0,_=x.length,C=new Array(_);w<_;w++)C[w]=x[w].fn;return C},u.prototype.listenerCount=function(f){var g=n?n+f:f,x=this._events[g];return x?x.fn?1:x.length:0},u.prototype.emit=function(f,g,x,w,_,C){var A=n?n+f:f;if(!this._events[A])return!1;var E=this._events[A],M=arguments.length,D,R;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),M){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,x),!0;case 4:return E.fn.call(E.context,g,x,w),!0;case 5:return E.fn.call(E.context,g,x,w,_),!0;case 6:return E.fn.call(E.context,g,x,w,_,C),!0}for(R=1,D=new Array(M-1);R<M;R++)D[R-1]=arguments[R];E.fn.apply(E.context,D)}else{var z=E.length,I;for(R=0;R<z;R++)switch(E[R].once&&this.removeListener(f,E[R].fn,void 0,!0),M){case 1:E[R].fn.call(E[R].context);break;case 2:E[R].fn.call(E[R].context,g);break;case 3:E[R].fn.call(E[R].context,g,x);break;case 4:E[R].fn.call(E[R].context,g,x,w);break;default:if(!D)for(I=1,D=new Array(M-1);I<M;I++)D[I-1]=arguments[I];E[R].fn.apply(E[R].context,D)}}return!0},u.prototype.on=function(f,g,x){return i(this,f,g,x,!1)},u.prototype.once=function(f,g,x){return i(this,f,g,x,!0)},u.prototype.removeListener=function(f,g,x,w){var _=n?n+f:f;if(!this._events[_])return this;if(!g)return o(this,_),this;var C=this._events[_];if(C.fn)C.fn===g&&(!w||C.once)&&(!x||C.context===x)&&o(this,_);else{for(var A=0,E=[],M=C.length;A<M;A++)(C[A].fn!==g||w&&!C[A].once||x&&C[A].context!==x)&&E.push(C[A]);E.length?this._events[_]=E.length===1?E[0]:E:o(this,_)}return this},u.prototype.removeAllListeners=function(f){var g;return f?(g=n?n+f:f,this._events[g]&&o(this,g)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u}(eN)),eN.exports}var uwe=cwe();const dwe=Cs(uwe);var Np=new dwe,M_="recharts.syncEvent.tooltip",DI="recharts.syncEvent.brush";function B1(e,t){if(t){var n=Number.parseInt(t,10);if(!Vs(n))return e==null?void 0:e[n]}}var fwe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},f$=qi({name:"options",initialState:fwe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hwe=f$.reducer,{createEventEmitter:mwe}=f$.actions;function gwe(e){return e.tooltip.syncInteraction}var pwe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},h$=qi({name:"chartData",initialState:pwe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:PI,setDataStartEndIndexes:xwe,setComputedData:ITe}=h$.actions,vwe=h$.reducer,m$=()=>{};function ywe(){var e=yt(OC),t=yt(MC),n=pr(),r=yt(fV),s=yt(ac),i=Zp(),o=ZA(),u=yt(m=>m.rootProps.className);j.useEffect(()=>{if(e==null)return m$;var m=(f,g,x)=>{if(t!==x&&e===f){if(r==="index"){n(g);return}if(s!=null){var w;if(typeof r=="function"){var _={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},C=r(s,_);w=s[C]}else r==="value"&&(w=s.find(k=>String(k.value)===g.payload.label));var{coordinate:A}=g.payload;if(w==null||g.payload.active===!1||A==null||o==null){n(C_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y:M}=A,D=Math.min(E,o.x+o.width),R=Math.min(M,o.y+o.height),z={x:i==="horizontal"?w.coordinate:D,y:i==="horizontal"?R:w.coordinate},I=C_({active:g.payload.active,coordinate:z,dataKey:g.payload.dataKey,index:String(w.index),label:g.payload.label});n(I)}}};return Np.on(M_,m),()=>{Np.off(M_,m)}},[u,n,t,e,r,s,i,o])}function bwe(){var e=yt(OC),t=yt(MC),n=pr();j.useEffect(()=>{if(e==null)return m$;var r=(s,i,o)=>{t!==o&&e===s&&n(xwe(i))};return Np.on(DI,r),()=>{Np.off(DI,r)}},[n,t,e])}function wwe(){var e=pr();j.useEffect(()=>{e(mwe())},[e]),ywe(),bwe()}function jwe(e,t,n,r,s,i){var o=yt(w=>Zbe(w,e,t)),u=yt(MC),m=yt(OC),f=yt(fV),g=yt(gwe),x=g==null?void 0:g.active;j.useEffect(()=>{if(!x&&m!=null&&u!=null){var w=C_({active:i,coordinate:n,dataKey:o,index:s,label:typeof r=="number"?String(r):r});Np.emit(M_,m,w,u)}},[x,n,o,s,r,u,m,f,i])}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){Nwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nwe(e,t,n){return(t=Swe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Swe(e){var t=_we(e,"string");return typeof t=="symbol"?t:t+""}function _we(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ewe(e){return e.dataKey}function Awe(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(Jpe,t)}var II=[],Cwe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Su.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Nr(e){var t=xi(e,Cwe),{active:n,allowEscapeViewBox:r,animationDuration:s,animationEasing:i,content:o,filterNull:u,isAnimationActive:m,offset:f,payloadUniqBy:g,position:x,reverseDirection:w,useTranslate3d:_,wrapperStyle:C,cursor:A,shared:E,trigger:M,defaultIndex:D,portal:R,axisId:z}=t,I=pr(),k=typeof D=="number"?String(D):D;j.useEffect(()=>{I(sbe({shared:E,trigger:M,axisId:z,active:n,defaultIndex:k}))},[I,E,M,z,n,k]);var F=ZA(),V=oz(),L=ebe(E),{activeIndex:$,isActive:W}=yt(Pe=>twe(Pe,L,M,k)),Y=yt(Pe=>ewe(Pe,L,M,k)),Q=yt(Pe=>u$(Pe,L,M,k)),X=yt(Pe=>Jbe(Pe,L,M,k)),G=Y,H=lwe(),J=n??W,[Z,de]=_U([G,J]),re=L==="axis"?Q:void 0;jwe(L,M,X,re,$,J);var pe=R??H;if(pe==null)return null;var Ne=G??II;J||(Ne=II),u&&Ne.length&&(Ne=bU(G.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||t.includeHidden)),g,Ewe));var Se=Ne.length>0,xe=j.createElement(i0e,{allowEscapeViewBox:r,animationDuration:s,animationEasing:i,isAnimationActive:m,active:J,coordinate:X,hasPayload:Se,offset:f,position:x,reverseDirection:w,useTranslate3d:_,viewBox:F,wrapperStyle:C,lastBoundingBox:Z,innerRef:de,hasPortalFromProps:!!R},Awe(o,kI(kI({},t),{},{payload:Ne,label:re,active:J,coordinate:X,accessibilityLayer:V})));return j.createElement(j.Fragment,null,$d.createPortal(xe,pe),J&&j.createElement(owe,{cursor:A,tooltipEventType:L,coordinate:X,payload:G,index:$}))}var tN={},nN={},rN={},LI;function Twe(){return LI||(LI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:s,edges:i}={}){let o,u=null;const m=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),g=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},x=()=>{f&&g(),A()};let w=null;const _=()=>{w!=null&&clearTimeout(w),w=setTimeout(()=>{w=null,x()},r)},C=()=>{w!==null&&(clearTimeout(w),w=null)},A=()=>{C(),o=void 0,u=null},E=()=>{g()},M=function(...D){if(s!=null&&s.aborted)return;o=this,u=D;const R=w==null;_(),m&&R&&g()};return M.schedule=_,M.cancel=A,M.flush=E,s==null||s.addEventListener("abort",A,{once:!0}),M}e.debounce=t}(rN)),rN}var BI;function Owe(){return BI||(BI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Twe();function n(r,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:u=!0,maxWait:m}=i,f=Array(2);o&&(f[0]="leading"),u&&(f[1]="trailing");let g,x=null;const w=t.debounce(function(...A){g=r.apply(this,A),x=null},s,{edges:f}),_=function(...A){return m!=null&&(x===null&&(x=Date.now()),Date.now()-x>=m)?(g=r.apply(this,A),x=Date.now(),w.cancel(),w.schedule(),g):(w.apply(this,A),g)},C=()=>(w.flush(),g);return _.cancel=w.cancel,_.flush=C,_}e.debounce=n}(nN)),nN}var FI;function Mwe(){return FI||(FI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Owe();function n(r,s=0,i={}){const{leading:o=!0,trailing:u=!0}=i;return t.debounce(r,s,{leading:o,maxWait:s,trailing:u})}e.throttle=n}(tN)),tN}var aN,UI;function Dwe(){return UI||(UI=1,aN=Mwe().throttle),aN}var Pwe=Dwe();const Rwe=Cs(Pwe);var Wg=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){kwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kwe(e,t,n){return(t=Iwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iwe(e){var t=Lwe(e,"string");return typeof t=="symbol"?t:t+""}function Lwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ws=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:u,maxHeight:m,children:f,debounce:g=0,id:x,className:w,onResize:_,style:C={}}=e,A=j.useRef(null),E=j.useRef();E.current=_,j.useImperativeHandle(t,()=>A.current);var[M,D]=j.useState({containerWidth:r.width,containerHeight:r.height}),R=j.useCallback((I,k)=>{D(F=>{var V=Math.round(I),L=Math.round(k);return F.containerWidth===V&&F.containerHeight===L?F:{containerWidth:V,containerHeight:L}})},[]);j.useEffect(()=>{var I=L=>{var $,{width:W,height:Y}=L[0].contentRect;R(W,Y),($=E.current)===null||$===void 0||$.call(E,W,Y)};g>0&&(I=Rwe(I,g,{trailing:!0,leading:!1}));var k=new ResizeObserver(I),{width:F,height:V}=A.current.getBoundingClientRect();return R(F,V),k.observe(A.current),()=>{k.disconnect()}},[R,g]);var z=j.useMemo(()=>{var{containerWidth:I,containerHeight:k}=M;if(I<0||k<0)return null;Wg(md(s)||md(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Wg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=md(s)?I:s,V=md(i)?k:i;return n&&n>0&&(F?V=F/n:V&&(F=V*n),m&&V>m&&(V=m)),Wg(F>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,V,s,i,o,u,n),j.Children.map(f,L=>j.cloneElement(L,{width:F,height:V,style:sN({width:F,height:V},L.props.style)}))},[n,f,i,m,u,o,M,s]);return j.createElement("div",{id:x?"".concat(x):void 0,className:ln("recharts-responsive-container",w),style:sN(sN({},C),{},{width:s,height:i,minWidth:o,minHeight:u,maxHeight:m}),ref:A},j.createElement("div",{style:{width:0,height:0,overflow:"visible"}},z))}),pu=e=>null;pu.displayName="Cell";function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function D_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){Bwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bwe(e,t,n){return(t=Fwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fwe(e){var t=Uwe(e,"string");return typeof t=="symbol"?t:t+""}function Uwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh={widthCache:{},cacheCount:0},zwe=2e3,Vwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$I="recharts_measurement_span";function $we(e){var t=D_({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var Gg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Su.isSsr)return{width:0,height:0};var r=$we(n),s=JSON.stringify({text:t,copyStyle:r});if(rh.widthCache[s])return rh.widthCache[s];try{var i=document.getElementById($I);i||(i=document.createElement("span"),i.setAttribute("id",$I),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=D_(D_({},Vwe),r);Object.assign(i.style,o),i.textContent="".concat(t);var u=i.getBoundingClientRect(),m={width:u.width,height:u.height};return rh.widthCache[s]=m,++rh.cacheCount>zwe&&(rh.cacheCount=0,rh.widthCache={}),m}catch{return{width:0,height:0}}},HI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,g$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ywe=Object.keys(g$),hh="NaN";function Wwe(e,t){return e*g$[t]}class Bs{static parse(t){var n,[,r,s]=(n=qwe.exec(t))!==null&&n!==void 0?n:[];return new Bs(parseFloat(r),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Vs(t)&&(this.unit=""),n!==""&&!Hwe.test(n)&&(this.num=NaN,this.unit=""),Ywe.includes(n)&&(this.num=Wwe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Bs(NaN,""):new Bs(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Bs(NaN,""):new Bs(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bs(NaN,""):new Bs(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bs(NaN,""):new Bs(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vs(this.num)}}function p$(e){if(e.includes(hh))return hh;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,s,i]=(n=HI.exec(t))!==null&&n!==void 0?n:[],o=Bs.parse(r??""),u=Bs.parse(i??""),m=s==="*"?o.multiply(u):o.divide(u);if(m.isNaN())return hh;t=t.replace(HI,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,g,x,w]=(f=qI.exec(t))!==null&&f!==void 0?f:[],_=Bs.parse(g??""),C=Bs.parse(w??""),A=x==="+"?_.add(C):_.subtract(C);if(A.isNaN())return hh;t=t.replace(qI,A.toString())}return t}var YI=/\(([^()]*)\)/;function Gwe(e){for(var t=e,n;(n=YI.exec(t))!=null;){var[,r]=n;t=t.replace(YI,p$(r))}return t}function Kwe(e){var t=e.replace(/\s+/g,"");return t=Gwe(t),t=p$(t),t}function Xwe(e){try{return Kwe(e)}catch{return hh}}function iN(e){var t=Xwe(e.slice(5,-1));return t===hh?"":t}var Qwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zwe=["dx","dy","angle","className","breakAll"];function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P_.apply(null,arguments)}function WI(e,t){if(e==null)return{};var n,r,s=Jwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Jwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x$=/[ \f\n\r\t\v\u2028\u2029]+/,v$=e=>{var{children:t,breakAll:n,style:r}=e;try{var s=[];Fn(t)||(n?s=t.toString().split(""):s=t.toString().split(x$));var i=s.map(u=>({word:u,width:Gg(u,r).width})),o=n?0:Gg(" ",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},e2e=(e,t,n,r,s)=>{var{maxLines:i,children:o,style:u,breakAll:m}=e,f=ot(i),g=o,x=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((Y,Q)=>{var{word:X,width:G}=Q,H=Y[Y.length-1];if(H&&(r==null||s||H.width+G+n<Number(r)))H.words.push(X),H.width+=G+n;else{var J={words:[X],width:G};Y.push(J)}return Y},[])},w=x(t),_=$=>$.reduce((W,Y)=>W.width>Y.width?W:Y);if(!f||s)return w;var C=w.length>i||_(w).width>Number(r);if(!C)return w;for(var A="…",E=$=>{var W=g.slice(0,$),Y=v$({breakAll:m,style:u,children:W+A}).wordsWithComputedWidth,Q=x(Y),X=Q.length>i||_(Q).width>Number(r);return[X,Q]},M=0,D=g.length-1,R=0,z;M<=D&&R<=g.length-1;){var I=Math.floor((M+D)/2),k=I-1,[F,V]=E(k),[L]=E(I);if(!F&&!L&&(M=I+1),F&&L&&(D=I-1),!F&&L){z=V;break}R++}return z||w},GI=e=>{var t=Fn(e)?[]:e.toString().split(x$);return[{words:t}]},t2e=e=>{var{width:t,scaleToFit:n,children:r,style:s,breakAll:i,maxLines:o}=e;if((t||n)&&!Su.isSsr){var u,m,f=v$({breakAll:i,children:r,style:s});if(f){var{wordsWithComputedWidth:g,spaceWidth:x}=f;u=g,m=x}else return GI(r);return e2e({breakAll:i,children:r,maxLines:o,style:s},u,m,t,n)}return GI(r)},KI="#808080",F1=j.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:m="end",fill:f=KI}=e,g=WI(e,Qwe),x=j.useMemo(()=>t2e({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:o,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,o,g.style,g.width]),{dx:w,dy:_,angle:C,className:A,breakAll:E}=g,M=WI(g,Zwe);if(!el(n)||!el(r))return null;var D=n+(ot(w)?w:0),R=r+(ot(_)?_:0),z;switch(m){case"start":z=iN("calc(".concat(i,")"));break;case"middle":z=iN("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:z=iN("calc(".concat(x.length-1," * -").concat(s,")"));break}var I=[];if(o){var k=x[0].width,{width:F}=g;I.push("scale(".concat(ot(F)?F/k:1,")"))}return C&&I.push("rotate(".concat(C,", ").concat(D,", ").concat(R,")")),I.length&&(M.transform=I.join(" ")),j.createElement("text",P_({},Wt(M,!0),{ref:t,x:D,y:R,className:ln("recharts-text",A),textAnchor:u,fill:f.includes("url")?KI:f}),x.map((V,L)=>{var $=V.words.join(E?"":" ");return j.createElement("tspan",{x:D,dy:L===0?z:s,key:"".concat($,"-").concat(L)},$)}))});F1.displayName="Text";var n2e=["offset"],r2e=["labelRef"];function XI(e,t){if(e==null)return{};var n,r,s=a2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function a2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){s2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s2e(e,t,n){return(t=i2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i2e(e){var t=o2e(e,"string");return typeof t=="symbol"?t:t+""}function o2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(null,arguments)}var l2e=e=>{var{value:t,formatter:n}=e,r=Fn(e.children)?t:e.children;return typeof n=="function"?n(r):r},oT=e=>e!=null&&typeof e=="function",c2e=(e,t)=>{var n=Da(t-e),r=Math.min(Math.abs(t-e),360);return n*r},u2e=(e,t,n)=>{var{position:r,viewBox:s,offset:i,className:o}=e,{cx:u,cy:m,innerRadius:f,outerRadius:g,startAngle:x,endAngle:w,clockWise:_}=s,C=(f+g)/2,A=c2e(x,w),E=A>=0?1:-1,M,D;r==="insideStart"?(M=x+E*i,D=_):r==="insideEnd"?(M=w-E*i,D=!_):r==="end"&&(M=w+E*i,D=_),D=A<=0?D:!D;var R=oa(u,m,C,M),z=oa(u,m,C,M+(D?1:-1)*359),I="M".concat(R.x,",").concat(R.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(D?0:1,`,
    `).concat(z.x,",").concat(z.y),k=Fn(e.id)?mu("recharts-radial-line-"):e.id;return j.createElement("text",Pl({},n,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",o)}),j.createElement("defs",null,j.createElement("path",{id:k,d:I})),j.createElement("textPath",{xlinkHref:"#".concat(k)},t))},d2e=e=>{var{viewBox:t,offset:n,position:r}=e,{cx:s,cy:i,innerRadius:o,outerRadius:u,startAngle:m,endAngle:f}=t,g=(m+f)/2;if(r==="outside"){var{x,y:w}=oa(s,i,u+n,g);return{x,y:w,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(o+u)/2,{x:C,y:A}=oa(s,i,_,g);return{x:C,y:A,textAnchor:"middle",verticalAnchor:"middle"}},f2e=(e,t)=>{var{parentViewBox:n,offset:r,position:s}=e,{x:i,y:o,width:u,height:m}=t,f=m>=0?1:-1,g=f*r,x=f>0?"end":"start",w=f>0?"start":"end",_=u>=0?1:-1,C=_*r,A=_>0?"end":"start",E=_>0?"start":"end";if(s==="top"){var M={x:i+u/2,y:o-f*r,textAnchor:"middle",verticalAnchor:x};return ra(ra({},M),n?{height:Math.max(o-n.y,0),width:u}:{})}if(s==="bottom"){var D={x:i+u/2,y:o+m+g,textAnchor:"middle",verticalAnchor:w};return ra(ra({},D),n?{height:Math.max(n.y+n.height-(o+m),0),width:u}:{})}if(s==="left"){var R={x:i-C,y:o+m/2,textAnchor:A,verticalAnchor:"middle"};return ra(ra({},R),n?{width:Math.max(R.x-n.x,0),height:m}:{})}if(s==="right"){var z={x:i+u+C,y:o+m/2,textAnchor:E,verticalAnchor:"middle"};return ra(ra({},z),n?{width:Math.max(n.x+n.width-z.x,0),height:m}:{})}var I=n?{width:u,height:m}:{};return s==="insideLeft"?ra({x:i+C,y:o+m/2,textAnchor:E,verticalAnchor:"middle"},I):s==="insideRight"?ra({x:i+u-C,y:o+m/2,textAnchor:A,verticalAnchor:"middle"},I):s==="insideTop"?ra({x:i+u/2,y:o+g,textAnchor:"middle",verticalAnchor:w},I):s==="insideBottom"?ra({x:i+u/2,y:o+m-g,textAnchor:"middle",verticalAnchor:x},I):s==="insideTopLeft"?ra({x:i+C,y:o+g,textAnchor:E,verticalAnchor:w},I):s==="insideTopRight"?ra({x:i+u-C,y:o+g,textAnchor:A,verticalAnchor:w},I):s==="insideBottomLeft"?ra({x:i+C,y:o+m-g,textAnchor:E,verticalAnchor:x},I):s==="insideBottomRight"?ra({x:i+u-C,y:o+m-g,textAnchor:A,verticalAnchor:x},I):s&&typeof s=="object"&&(ot(s.x)||md(s.x))&&(ot(s.y)||md(s.y))?ra({x:i+_s(s.x,u),y:o+_s(s.y,m),textAnchor:"end",verticalAnchor:"end"},I):ra({x:i+u/2,y:o+m/2,textAnchor:"middle",verticalAnchor:"middle"},I)},h2e=e=>"cx"in e&&ot(e.cx);function li(e){var{offset:t=5}=e,n=XI(e,n2e),r=ra({offset:t},n),{viewBox:s,position:i,value:o,children:u,content:m,className:f="",textBreakAll:g,labelRef:x}=r,w=ZA(),_=s||w;if(!_||Fn(o)&&Fn(u)&&!j.isValidElement(m)&&typeof m!="function")return null;if(j.isValidElement(m)){var{labelRef:C}=r,A=XI(r,r2e);return j.cloneElement(m,A)}var E;if(typeof m=="function"){if(E=j.createElement(m,r),j.isValidElement(E))return E}else E=l2e(r);var M=h2e(_),D=Wt(r,!0);if(M&&(i==="insideStart"||i==="insideEnd"||i==="end"))return u2e(r,E,D);var R=M?d2e(r):f2e(r,_);return j.createElement(F1,Pl({ref:x,className:ln("recharts-label",f)},D,R,{breakAll:g}),E)}li.displayName="Label";var y$=e=>{var{cx:t,cy:n,angle:r,startAngle:s,endAngle:i,r:o,radius:u,innerRadius:m,outerRadius:f,x:g,y:x,top:w,left:_,width:C,height:A,clockWise:E,labelViewBox:M}=e;if(M)return M;if(ot(C)&&ot(A)){if(ot(g)&&ot(x))return{x:g,y:x,width:C,height:A};if(ot(w)&&ot(_))return{x:w,y:_,width:C,height:A}}if(ot(g)&&ot(x))return{x:g,y:x,width:0,height:0};if(ot(t)&&ot(n))return{cx:t,cy:n,startAngle:s||r||0,endAngle:i||r||0,innerRadius:m||0,outerRadius:f||u||o||0,clockWise:E};if(e.viewBox)return e.viewBox},m2e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?j.createElement(li,Pl({key:"label-implicit"},r)):el(e)?j.createElement(li,Pl({key:"label-implicit",value:e},r)):j.isValidElement(e)?e.type===li?j.cloneElement(e,ra({key:"label-implicit"},r)):j.createElement(li,Pl({key:"label-implicit",content:e},r)):oT(e)?j.createElement(li,Pl({key:"label-implicit",content:e},r)):e&&typeof e=="object"?j.createElement(li,Pl({},e,{key:"label-implicit"},r)):null},g2e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:s,labelRef:i}=t,o=y$(t),u=Xp(s,li).map((f,g)=>j.cloneElement(f,{viewBox:n||o,key:"label-".concat(g)}));if(!r)return u;var m=m2e(t.label,n||o,i);return[m,...u]};li.parseViewBox=y$;li.renderCallByParent=g2e;var oN={},lN={},ZI;function p2e(){return ZI||(ZI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(lN)),lN}var cN={},JI;function x2e(){return JI||(JI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(cN)),cN}var e8;function v2e(){return e8||(e8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2e(),n=x2e(),r=BA();function s(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=s}(oN)),oN}var uN,t8;function y2e(){return t8||(t8=1,uN=v2e().last),uN}var b2e=y2e();const w2e=Cs(b2e);var j2e=["valueAccessor"],N2e=["data","dataKey","clockWise","id","textBreakAll"];function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(null,arguments)}function n8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function r8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(n),!0).forEach(function(r){S2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S2e(e,t,n){return(t=_2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _2e(e){var t=E2e(e,"string");return typeof t=="symbol"?t:t+""}function E2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a8(e,t){if(e==null)return{};var n,r,s=A2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function A2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var C2e=e=>Array.isArray(e.value)?w2e(e.value):e.value;function Ul(e){var{valueAccessor:t=C2e}=e,n=a8(e,j2e),{data:r,dataKey:s,clockWise:i,id:o,textBreakAll:u}=n,m=a8(n,N2e);return!r||!r.length?null:j.createElement(Ar,{className:"recharts-label-list"},r.map((f,g)=>{var x=Fn(s)?t(f,g):Gn(f&&f.payload,s),w=Fn(o)?{}:{id:"".concat(o,"-").concat(g)};return j.createElement(li,by({},Wt(f,!0),m,w,{parentViewBox:f.parentViewBox,value:x,textBreakAll:u,viewBox:li.parseViewBox(Fn(i)?f:r8(r8({},f),{},{clockWise:i})),key:"label-".concat(g),index:g}))}))}Ul.displayName="LabelList";function T2e(e,t){return e?e===!0?j.createElement(Ul,{key:"labelList-implicit",data:t}):j.isValidElement(e)||oT(e)?j.createElement(Ul,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?j.createElement(Ul,by({data:t},e,{key:"labelList-implicit"})):null:null}function O2e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,s=Xp(r,Ul).map((o,u)=>j.cloneElement(o,{data:t,key:"labelList-".concat(u)}));if(!n)return s;var i=T2e(e.label,t);return[i,...s]}Ul.renderCallByParent=O2e;function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R_.apply(null,arguments)}var lT=e=>{var{cx:t,cy:n,r,className:s}=e,i=ln("recharts-dot",s);return t===+t&&n===+n&&r===+r?j.createElement("circle",R_({},Wt(e,!1),OA(e),{className:i,cx:t,cy:n,r})):null},b$=e=>e.graphicalItems.polarItems,M2e=Ue([Qr,a0],IC),cT=Ue([b$,Zr,M2e],LC),D2e=Ue([cT],BC),uT=Ue([D2e,EC],FC),P2e=Ue([uT,Zr,cT],UC),R2e=Ue([uT,Zr,cT],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(s=>{var i,o=Gn(r,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Gn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),s8=()=>{},k2e=Ue([Zr,TV,s8,R2e,s8],$C),w$=Ue([Zr,pn,uT,P2e,r0,Qr,k2e],HC),I2e=Ue([w$,Zr,fm],WC);Ue([Zr,w$,I2e,Qr],KC);var L2e={radiusAxis:{},angleAxis:{}},j$=qi({name:"polarAxis",initialState:L2e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:LTe,removeRadiusAxis:BTe,addAngleAxis:FTe,removeAngleAxis:UTe}=j$.actions,B2e=j$.reducer;function i8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function o8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(n),!0).forEach(function(r){F2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F2e(e,t,n){return(t=U2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U2e(e){var t=z2e(e,"string");return typeof t=="symbol"?t:t+""}function z2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dT=(e,t)=>t,V2e=[],fT=(e,t,n)=>(n==null?void 0:n.length)===0?V2e:n,N$=Ue([EC,dT,fT],(e,t,n)=>{var{chartData:r}=e,s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(i=>o8(o8({},t.presentationProps),i.props))),s!=null)return s}),$2e=Ue([N$,dT,fT],(e,t,n)=>{if(e!=null)return e.map((r,s)=>{var i,o=Gn(r,t.nameKey,t.name),u;return n!=null&&(i=n[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?u=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Nu(o,t.dataKey),color:u,payload:r,type:t.legendType}})}),H2e=Ue([b$,dT],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),q2e=Ue([N$,H2e,fT,wa],(e,t,n,r)=>{if(!(t==null||e==null))return Ije({offset:r,pieSettings:t,displayedData:e,cells:n})}),Y2e={countOfBars:0,cartesianItems:[],polarItems:[]},S$=qi({name:"graphicalItems",initialState:Y2e,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,s=Bl(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=r)},removeCartesianGraphicalItem(e,t){var n=Bl(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Bl(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:W2e,removeBar:G2e,addCartesianGraphicalItem:K2e,replaceCartesianGraphicalItem:X2e,removeCartesianGraphicalItem:Q2e,addPolarGraphicalItem:Z2e,removePolarGraphicalItem:J2e}=S$.actions,eje=S$.reducer;function l8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function c8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(n),!0).forEach(function(r){tje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tje(e,t,n){return(t=nje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nje(e){var t=rje(e,"string");return typeof t=="symbol"?t:t+""}function rje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aje(e){var t=pr(),n=j.useRef(null);return j.useEffect(()=>{var r=c8(c8({},e),{},{stackId:KA(e.stackId)});n.current===null?t(K2e(r)):n.current!==r&&t(X2e({prev:n.current,next:r})),n.current=r},[t,e]),j.useEffect(()=>()=>{n.current&&(t(Q2e(n.current)),n.current=null)},[t]),null}function sje(e){var t=pr();return j.useEffect(()=>(t(Z2e(e)),()=>{t(J2e(e))}),[t,e]),null}var dN={},u8;function ije(){return u8||(u8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(dN)),dN}var fN,d8;function oje(){return d8||(d8=1,fN=ije().isPlainObject),fN}var lje=oje();const cje=Cs(lje);function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}var f8=(e,t,n,r,s)=>{var i=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+s),o+="L ".concat(e+n-i/2-r,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},uje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dje=e=>{var t=xi(e,uje),n=j.useRef(),[r,s]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&s(E)}catch{}},[]);var{x:i,y:o,upperWidth:u,lowerWidth:m,height:f,className:g}=t,{animationEasing:x,animationDuration:w,animationBegin:_,isUpdateAnimationActive:C}=t;if(i!==+i||o!==+o||u!==+u||m!==+m||f!==+f||u===0&&m===0||f===0)return null;var A=ln("recharts-trapezoid",g);return C?j.createElement(Xl,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:i,y:o},to:{upperWidth:u,lowerWidth:m,height:f,x:i,y:o},duration:w,animationEasing:x,isActive:C},E=>{var{upperWidth:M,lowerWidth:D,height:R,x:z,y:I}=E;return j.createElement(Xl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,easing:x},j.createElement("path",wy({},Wt(t,!0),{className:A,d:f8(z,I,M,D,R),ref:n})))}):j.createElement("g",null,j.createElement("path",wy({},Wt(t,!0),{className:A,d:f8(i,o,u,m,f)})))},fje=["option","shapeType","propTransformer","activeClassName","isActive"];function hje(e,t){if(e==null)return{};var n,r,s=mje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function mje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function h8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(n),!0).forEach(function(r){gje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gje(e,t,n){return(t=pje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pje(e){var t=xje(e,"string");return typeof t=="symbol"?t:t+""}function xje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vje(e,t){return jy(jy({},t),e)}function yje(e,t){return e==="symbols"}function m8(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(dz,n);case"trapezoid":return j.createElement(dje,n);case"sector":return j.createElement(mz,n);case"symbols":if(yje(t))return j.createElement(kA,n);break;default:return null}}function bje(e){return j.isValidElement(e)?e.props:e}function _$(e){var{option:t,shapeType:n,propTransformer:r=vje,activeClassName:s="recharts-active-shape",isActive:i}=e,o=hje(e,fje),u;if(j.isValidElement(t))u=j.cloneElement(t,jy(jy({},o),bje(t)));else if(typeof t=="function")u=t(o);else if(cje(t)&&typeof t!="boolean"){var m=r(t,o);u=j.createElement(m8,{shapeType:n,elementProps:m})}else{var f=o;u=j.createElement(m8,{shapeType:n,elementProps:f})}return i?j.createElement(Ar,{className:s},u):u}var hT=(e,t)=>{var n=pr();return(r,s)=>i=>{e==null||e(r,s,i),n(qV({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},mT=e=>{var t=pr();return(n,r)=>s=>{e==null||e(n,r,s),t(ibe())}},gT=(e,t)=>{var n=pr();return(r,s)=>i=>{e==null||e(r,s,i),n(obe({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function U1(e){var{fn:t,args:n}=e,r=pr(),s=gs();return j.useEffect(()=>{if(!s){var i=t(n);return r(rbe(i)),()=>{r(abe(i))}}},[t,n,r,s]),null}var E$=()=>{};function pT(e){var{legendPayload:t}=e,n=pr(),r=gs();return j.useEffect(()=>r?E$:(n(sz(t)),()=>{n(iz(t))}),[n,r,t]),null}function wje(e){var{legendPayload:t}=e,n=pr(),r=yt(pn);return j.useEffect(()=>r!=="centric"&&r!=="radial"?E$:(n(sz(t)),()=>{n(iz(t))}),[n,r,t]),null}function z1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(mu(t)),r=j.useRef(e);return r.current!==e&&(n.current=mu(t),r.current=e),n.current}var jje=["onMouseEnter","onClick","onMouseLeave"];function Nje(e,t){if(e==null)return{};var n,r,s=Sje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Sje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(n),!0).forEach(function(r){V1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V1(e,t,n){return(t=_je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _je(e){var t=Eje(e,"string");return typeof t=="symbol"?t:t+""}function Eje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(null,arguments)}function Aje(e){var t=j.useMemo(()=>Wt(e,!1),[e]),n=j.useMemo(()=>Xp(e.children,pu),[e.children]),r=j.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),s=yt(i=>$2e(i,r,n));return j.createElement(wje,{legendPayload:s})}function Cje(e){var{dataKey:t,nameKey:n,sectors:r,stroke:s,strokeWidth:i,fill:o,name:u,hide:m,tooltipType:f}=e;return{dataDefinedOnItem:r==null?void 0:r.map(g=>g.tooltipPayload),positions:r==null?void 0:r.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:Nu(u,t),hide:m,type:f,color:o,unit:""}}}var Tje=(e,t)=>e>t?"start":e<t?"end":"middle",Oje=(e,t,n)=>typeof t=="function"?t(e):_s(t,n,n*.8),Mje=(e,t,n)=>{var{top:r,left:s,width:i,height:o}=t,u=XU(i,o),m=s+_s(e.cx,i,i/2),f=r+_s(e.cy,o,o/2),g=_s(e.innerRadius,u,0),x=Oje(n,e.outerRadius,u),w=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:m,cy:f,innerRadius:g,outerRadius:x,maxRadius:w}},Dje=(e,t)=>{var n=Da(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Pje=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ln("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(jh,Ud({},t,{type:"linear",className:n}))},Rje=(e,t,n)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),j.isValidElement(r)))return r;var s=ln("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return j.createElement(F1,Ud({},t,{alignmentBaseline:"middle",className:s}),r)};function kje(e){var{sectors:t,props:n,showLabels:r}=e,{label:s,labelLine:i,dataKey:o}=n;if(!r||!s||!t)return null;var u=Wt(n,!1),m=Wt(s,!1),f=Wt(i,!1),g=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,x=t.map((w,_)=>{var C=(w.startAngle+w.endAngle)/2,A=oa(w.cx,w.cy,w.outerRadius+g,C),E=kr(kr(kr(kr({},u),w),{},{stroke:"none"},m),{},{index:_,textAnchor:Tje(A.x,w.cx)},A),M=kr(kr(kr(kr({},u),w),{},{fill:"none",stroke:w.fill},f),{},{index:_,points:[oa(w.cx,w.cy,w.outerRadius,C),A],key:"line"});return j.createElement(Ar,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(_)},i&&Pje(i,M),Rje(s,E,Gn(w,o)))});return j.createElement(Ar,{className:"recharts-pie-labels"},x)}function A$(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:s,showLabels:i}=e,o=yt(gu),{onMouseEnter:u,onClick:m,onMouseLeave:f}=s,g=Nje(s,jje),x=hT(u,s.dataKey),w=mT(f),_=gT(m,s.dataKey);return t==null?null:j.createElement(j.Fragment,null,t.map((C,A)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&t.length!==1)return null;var E=n&&String(A)===o,M=o?r:null,D=E?n:M,R=kr(kr({},C),{},{stroke:C.stroke,tabIndex:-1,[ez]:A,[tz]:s.dataKey});return j.createElement(Ar,Ud({tabIndex:-1,className:"recharts-pie-sector"},Kp(g,C,A),{onMouseEnter:x(C,A),onMouseLeave:w(C,A),onClick:_(C,A),key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(A)}),j.createElement(_$,Ud({option:D,isActive:E,shapeType:"sector"},R)))}),j.createElement(kje,{sectors:t,props:s,showLabels:i}))}function Ije(e){var t,{pieSettings:n,displayedData:r,cells:s,offset:i}=e,{cornerRadius:o,startAngle:u,endAngle:m,dataKey:f,nameKey:g,tooltipType:x}=n,w=Math.abs(n.minAngle),_=Dje(u,m),C=Math.abs(_),A=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,E=r.filter(k=>Gn(k,f,0)!==0).length,M=(C>=360?E:E-1)*A,D=C-E*w-M,R=r.reduce((k,F)=>{var V=Gn(F,f,0);return k+(ot(V)?V:0)},0),z;if(R>0){var I;z=r.map((k,F)=>{var V=Gn(k,f,0),L=Gn(k,g,F),$=Mje(n,i,k),W=(ot(V)?V:0)/R,Y,Q=kr(kr({},k),s&&s[F]&&s[F].props);F?Y=I.endAngle+Da(_)*A*(V!==0?1:0):Y=u;var X=Y+Da(_)*((V!==0?w:0)+W*D),G=(Y+X)/2,H=($.innerRadius+$.outerRadius)/2,J=[{name:L,value:V,payload:Q,dataKey:f,type:x}],Z=oa($.cx,$.cy,H,G);return I=kr(kr(kr(kr({},n.presentationProps),{},{percent:W,cornerRadius:o,name:L,tooltipPayload:J,midAngle:G,middleRadius:H,tooltipPosition:Z},Q),$),{},{value:Gn(k,f),startAngle:Y,endAngle:X,payload:Q,paddingAngle:Da(_)*A}),I})}return z}function Lje(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:u,activeShape:m,inactiveShape:f,onAnimationStart:g,onAnimationEnd:x}=t,w=z1(t,"recharts-pie-"),_=n.current,[C,A]=j.useState(!0),E=j.useCallback(()=>{typeof x=="function"&&x(),A(!1)},[x]),M=j.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return j.createElement(Xl,{begin:i,duration:o,isActive:s,easing:u,from:{t:0},to:{t:1},onAnimationStart:M,onAnimationEnd:E,key:w},D=>{var{t:R}=D,z=[],I=r&&r[0],k=I.startAngle;return r.forEach((F,V)=>{var L=_&&_[V],$=V>0?hu(F,"paddingAngle",0):0;if(L){var W=oi(L.endAngle-L.startAngle,F.endAngle-F.startAngle),Y=kr(kr({},F),{},{startAngle:k+$,endAngle:k+W(R)+$});z.push(Y),k=Y.endAngle}else{var{endAngle:Q,startAngle:X}=F,G=oi(0,Q-X),H=G(R),J=kr(kr({},F),{},{startAngle:k+$,endAngle:k+H+$});z.push(J),k=J.endAngle}}),n.current=z,j.createElement(Ar,null,j.createElement(A$,{sectors:z,activeShape:m,inactiveShape:f,allOtherPieProps:t,showLabels:!C}))})}function Bje(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:s}=e,i=j.useRef(null),o=i.current;return n&&t&&t.length&&(!o||o!==t)?j.createElement(Lje,{props:e,previousSectorsRef:i}):j.createElement(A$,{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function Fje(e){var{hide:t,className:n,rootTabIndex:r}=e,s=ln("recharts-pie",n);return t?null:j.createElement(Ar,{tabIndex:r,className:s},j.createElement(Bje,e))}var C$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Su.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Uje(e){var t=xi(e,C$),n=j.useMemo(()=>Xp(e.children,pu),[e.children]),r=Wt(t,!1),s=j.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),i=yt(o=>q2e(o,s,n));return j.createElement(j.Fragment,null,j.createElement(U1,{fn:Cje,args:kr(kr({},t),{},{sectors:i})}),j.createElement(Fje,Ud({},t,{sectors:i})))}class Vh extends j.PureComponent{constructor(){super(...arguments),V1(this,"id",mu("recharts-pie-"))}render(){return j.createElement(j.Fragment,null,j.createElement(sje,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),j.createElement(Aje,this.props),j.createElement(Uje,this.props),this.props.children)}}V1(Vh,"displayName","Pie");V1(Vh,"defaultProps",C$);var zje=Ue([wa],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Vje=Ue([zje,ec,tc],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),$je=e=>{var t=gs();return yt(n=>Vi(n,"xAxis",e,t))},Hje=e=>{var t=gs();return yt(n=>Vi(n,"yAxis",e,t))},$1=()=>yt(Vje),qje=()=>yt(qbe);function p8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function x8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(n),!0).forEach(function(r){Yje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yje(e,t,n){return(t=Wje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wje(e){var t=Gje(e,"string");return typeof t=="symbol"?t:t+""}function Gje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kje=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=x8(x8({index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Wt(s,!1)),OA(s)),u;return j.isValidElement(s)?u=j.cloneElement(s,o):typeof s=="function"?u=s(o):u=j.createElement(lT,o),j.createElement(Ar,{className:"recharts-active-dot"},u)};function k_(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:s}=e,i=yt(gu),o=qje();if(t==null||o==null)return null;var u=t.find(m=>o.includes(m.payload));return Fn(u)?null:Kje({point:u,childIndex:Number(i),mainColor:n,dataKey:s,activeDot:r})}var Xje=()=>{var e=pr();return j.useEffect(()=>(e(W2e()),()=>{e(G2e())})),null},Qje=["children"];function Zje(e,t){if(e==null)return{};var n,r,s=Jje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Jje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var v8=()=>{},T$=j.createContext({addErrorBar:v8,removeErrorBar:v8}),eNe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},O$=j.createContext(eNe);function M$(e){var{children:t}=e,n=Zje(e,Qje);return j.createElement(O$.Provider,{value:n},t)}var tNe=()=>j.useContext(O$),xT=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:s,dataKey:i,data:o,stackId:u,hide:m,type:f,barSize:g}=e,[x,w]=j.useState([]),_=j.useCallback(E=>{w(M=>[...M,E])},[w]),C=j.useCallback(E=>{w(M=>M.filter(D=>D!==E))},[w]),A=gs();return j.createElement(T$.Provider,{value:{addErrorBar:_,removeErrorBar:C}},j.createElement(aje,{type:f,data:o,xAxisId:n,yAxisId:r,zAxisId:s,dataKey:i,errorBars:x,stackId:u,hide:m,barSize:g,isPanorama:A}),t)};function nNe(e){var{addErrorBar:t,removeErrorBar:n}=j.useContext(T$);return j.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var rNe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function D$(e,t,n){return(t=aNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aNe(e){var t=sNe(e,"string");return typeof t=="symbol"?t:t+""}function sNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(null,arguments)}function iNe(e,t){if(e==null)return{};var n,r,s=oNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function oNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lNe(e){var{direction:t,width:n,dataKey:r,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:u}=e,m=iNe(e,rNe),f=Wt(m,!1),{data:g,dataPointFormatter:x,xAxisId:w,yAxisId:_,errorBarOffset:C}=tNe(),A=$je(w),E=Hje(_);if((A==null?void 0:A.scale)==null||(E==null?void 0:E.scale)==null||g==null||t==="x"&&A.type!=="number")return null;var M=g.map(D=>{var{x:R,y:z,value:I,errorVal:k}=x(D,r,t);if(!k)return null;var F=[],V,L;if(Array.isArray(k)?[V,L]=k:V=L=k,t==="x"){var{scale:$}=A,W=z+C,Y=W+n,Q=W-n,X=$(I-V),G=$(I+L);F.push({x1:G,y1:Y,x2:G,y2:Q}),F.push({x1:X,y1:W,x2:G,y2:W}),F.push({x1:X,y1:Y,x2:X,y2:Q})}else if(t==="y"){var{scale:H}=E,J=R+C,Z=J-n,de=J+n,re=H(I-V),pe=H(I+L);F.push({x1:Z,y1:pe,x2:de,y2:pe}),F.push({x1:J,y1:re,x2:J,y2:pe}),F.push({x1:Z,y1:re,x2:de,y2:re})}var Ne="".concat(R+C,"px ").concat(z+C,"px");return j.createElement(Ar,Sp({className:"recharts-errorBar",key:"bar-".concat(F.map(Se=>"".concat(Se.x1,"-").concat(Se.x2,"-").concat(Se.y1,"-").concat(Se.y2)))},f),F.map(Se=>{var xe=s?{transformOrigin:"".concat(Se.x1-5,"px")}:void 0;return j.createElement(Xl,{from:{transform:"scaleY(0)",transformOrigin:Ne},to:{transform:"scaleY(1)",transformOrigin:Ne},begin:i,easing:u,isActive:s,duration:o,key:"line-".concat(Se.x1,"-").concat(Se.x2,"-").concat(Se.y1,"-").concat(Se.y2),style:{transformOrigin:Ne}},j.createElement("line",Sp({},Se,{style:xe})))}))});return j.createElement(Ar,{className:"recharts-errorBars"},M)}var P$=j.createContext(void 0);function cNe(e){var t=j.useContext(P$);return e??t??"x"}function R$(e){var{direction:t,children:n}=e;return j.createElement(P$.Provider,{value:t},n)}var k$={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function uNe(e){var t=cNe(e.direction),{width:n,isAnimationActive:r,animationBegin:s,animationDuration:i,animationEasing:o}=xi(e,k$);return j.createElement(j.Fragment,null,j.createElement(nNe,{dataKey:e.dataKey,direction:t}),j.createElement(lNe,Sp({},e,{direction:t,width:n,isAnimationActive:r,animationBegin:s,animationDuration:i,animationEasing:o})))}class I$ extends j.Component{render(){return j.createElement(uNe,this.props)}}D$(I$,"defaultProps",k$);D$(I$,"displayName","ErrorBar");var dNe="Invariant failed";function fNe(e,t){throw new Error(dNe)}var hNe=["x","y"];function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I_.apply(null,arguments)}function y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ag(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(n),!0).forEach(function(r){mNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mNe(e,t,n){return(t=gNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gNe(e){var t=pNe(e,"string");return typeof t=="symbol"?t:t+""}function pNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xNe(e,t){if(e==null)return{};var n,r,s=vNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function vNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yNe(e,t){var{x:n,y:r}=e,s=xNe(e,hNe),i="".concat(n),o=parseInt(i,10),u="".concat(r),m=parseInt(u,10),f="".concat(t.height||s.height),g=parseInt(f,10),x="".concat(t.width||s.width),w=parseInt(x,10);return Ag(Ag(Ag(Ag(Ag({},t),s),o?{x:o}:{}),m?{y:m}:{}),{},{height:g,width:w,name:t.name,radius:t.radius})}function L$(e){return j.createElement(_$,I_({shapeType:"rectangle",propTransformer:yNe,activeClassName:"recharts-active-bar"},e))}var bNe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(ot(t))return t;var i=ot(r)||Fn(r);return i?t(r,s):(i||fNe(),n)}};function H1(e,t){var n,r,s=yt(f=>rc(f,e)),i=yt(f=>Au(f,t)),o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:ri.allowDataOverflow,u=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ai.allowDataOverflow,m=o||u;return{needClip:m,needClipX:o,needClipY:u}}function vT(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,s=$1(),{needClipX:i,needClipY:o,needClip:u}=H1(t,n);if(!u)return null;var{x:m,y:f,width:g,height:x}=s;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:i?m:m-g/2,y:o?f:f-x/2,width:i?g:g*2,height:o?x:x*2}))}var wNe=["onMouseEnter","onMouseLeave","onClick"],jNe=["value","background","tooltipPosition"],NNe=["onMouseEnter","onClick","onMouseLeave"];function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_p.apply(null,arguments)}function b8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(n),!0).forEach(function(r){q1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q1(e,t,n){return(t=SNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SNe(e){var t=_Ne(e,"string");return typeof t=="symbol"?t:t+""}function _Ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L_(e,t){if(e==null)return{};var n,r,s=ENe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ENe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ANe=e=>{var{dataKey:t,name:n,fill:r,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:r,value:Nu(n,t),payload:e}]};function CNe(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:s,name:i,hide:o,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:Nu(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:u}}}function TNe(e){var t=yt(gu),{data:n,dataKey:r,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:u,onClick:m}=i,f=L_(i,wNe),g=hT(o,r),x=mT(u),w=gT(m,r);if(!s||n==null)return null;var _=Wt(s,!1);return j.createElement(j.Fragment,null,n.map((C,A)=>{var{value:E,background:M,tooltipPosition:D}=C,R=L_(C,jNe);if(!M)return null;var z=g(C,A),I=x(C,A),k=w(C,A),F=ss(ss(ss(ss(ss({option:s,isActive:String(A)===t},R),{},{fill:"#eee"},M),_),Kp(f,C,A)),{},{onMouseEnter:z,onMouseLeave:I,onClick:k,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return j.createElement(L$,_p({key:"background-bar-".concat(A)},F))}))}function B$(e){var{data:t,props:n,showLabels:r}=e,s=Wt(n,!1),{shape:i,dataKey:o,activeBar:u}=n,m=yt(gu),f=yt(a$),{onMouseEnter:g,onClick:x,onMouseLeave:w}=n,_=L_(n,NNe),C=hT(g,o),A=mT(w),E=gT(x,o);return t?j.createElement(j.Fragment,null,t.map((M,D)=>{var R=u&&String(D)===m&&(f==null||o===f),z=R?u:i,I=ss(ss(ss({},s),M),{},{isActive:R,option:z,index:D,dataKey:o});return j.createElement(Ar,_p({className:"recharts-bar-rectangle"},Kp(_,M,D),{onMouseEnter:C(M,D),onMouseLeave:A(M,D),onClick:E(M,D),key:"rectangle-".concat(M==null?void 0:M.x,"-").concat(M==null?void 0:M.y,"-").concat(M==null?void 0:M.value,"-").concat(D)}),j.createElement(L$,I))}),r&&Ul.renderCallByParent(n,t)):null}function ONe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:m,onAnimationEnd:f,onAnimationStart:g}=t,x=n.current,w=z1(t,"recharts-bar-"),[_,C]=j.useState(!1),A=j.useCallback(()=>{typeof f=="function"&&f(),C(!1)},[f]),E=j.useCallback(()=>{typeof g=="function"&&g(),C(!0)},[g]);return j.createElement(Xl,{begin:o,duration:u,isActive:i,easing:m,from:{t:0},to:{t:1},onAnimationEnd:A,onAnimationStart:E,key:w},M=>{var{t:D}=M,R=D===1?r:r.map((z,I)=>{var k=x&&x[I];if(k){var F=oi(k.x,z.x),V=oi(k.y,z.y),L=oi(k.width,z.width),$=oi(k.height,z.height);return ss(ss({},z),{},{x:F(D),y:V(D),width:L(D),height:$(D)})}if(s==="horizontal"){var W=oi(0,z.height),Y=W(D);return ss(ss({},z),{},{y:z.y+z.height-Y,height:Y})}var Q=oi(0,z.width),X=Q(D);return ss(ss({},z),{},{width:X})});return D>0&&(n.current=R),j.createElement(Ar,null,j.createElement(B$,{props:t,data:R,showLabels:!_}))})}function MNe(e){var{data:t,isAnimationActive:n}=e,r=j.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?j.createElement(ONe,{previousRectanglesRef:r,props:e}):j.createElement(B$,{props:e,data:t,showLabels:!0})}var F$=0,DNe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Gn(e,t)}};class PNe extends j.PureComponent{constructor(){super(...arguments),q1(this,"id",mu("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:r,className:s,xAxisId:i,yAxisId:o,needClip:u,background:m,id:f,layout:g}=this.props;if(t)return null;var x=ln("recharts-bar",s),w=Fn(f)?this.id:f;return j.createElement(Ar,{className:x},u&&j.createElement("defs",null,j.createElement(vT,{clipPathId:w,xAxisId:i,yAxisId:o})),j.createElement(Ar,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(w,")"):null},j.createElement(TNe,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),j.createElement(MNe,this.props)),j.createElement(R$,{direction:g==="horizontal"?"y":"x"},this.props.children))}}var U$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Su.isSsr,legendType:"rect",minPointSize:F$,xAxisId:0,yAxisId:0};function RNe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:g}=xi(e,U$),{needClip:x}=H1(t,n),w=Zp(),_=gs(),C=j.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:KA(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),A=Xp(e.children,pu),E=yt(R=>lSe(R,t,n,_,C,A));if(w!=="vertical"&&w!=="horizontal")return null;var M,D=E==null?void 0:E[0];return D==null||D.height==null||D.width==null?M=0:M=w==="vertical"?D.height/2:D.width/2,j.createElement(M$,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:DNe,errorBarOffset:M},j.createElement(PNe,_p({},e,{layout:w,needClip:x,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:g})))}function kNe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:i,xAxis:o,yAxis:u,xAxisTicks:m,yAxisTicks:f,stackedData:g,displayedData:x,offset:w,cells:_}=e,C=t==="horizontal"?u:o,A=g?C.scale.domain():null,E=vpe({numericAxis:C});return x.map((M,D)=>{var R,z,I,k,F,V;g?R=hpe(g[D],A):(R=Gn(M,n),Array.isArray(R)||(R=[E,R]));var L=bNe(r,F$)(R[1],D);if(t==="horizontal"){var $,[W,Y]=[u.scale(R[0]),u.scale(R[1])];z=ak({axis:o,ticks:m,bandSize:i,offset:s.offset,entry:M,index:D}),I=($=Y??W)!==null&&$!==void 0?$:void 0,k=s.size;var Q=W-Y;if(F=Vs(Q)?0:Q,V={x:z,y:w.top,width:k,height:w.height},Math.abs(L)>0&&Math.abs(F)<Math.abs(L)){var X=Da(F||L)*(Math.abs(L)-Math.abs(F));I-=X,F+=X}}else{var[G,H]=[o.scale(R[0]),o.scale(R[1])];if(z=G,I=ak({axis:u,ticks:f,bandSize:i,offset:s.offset,entry:M,index:D}),k=H-G,F=s.size,V={x:w.left,y:I,width:w.width,height:F},Math.abs(L)>0&&Math.abs(k)<Math.abs(L)){var J=Da(k||L)*(Math.abs(L)-Math.abs(k));k+=J}}var Z=ss(ss({},M),{},{x:z,y:I,width:k,height:F,value:g?R:R[1],payload:M,background:V,tooltipPosition:{x:z+k/2,y:I+F/2}},_&&_[D]&&_[D].props);return Z})}class Hr extends j.PureComponent{render(){return j.createElement(xT,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},j.createElement(Xje,null),j.createElement(pT,{legendPayload:ANe(this.props)}),j.createElement(U1,{fn:CNe,args:this.props}),j.createElement(RNe,this.props))}}q1(Hr,"displayName","Bar");q1(Hr,"defaultProps",U$);function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(n),!0).forEach(function(r){INe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function INe(e,t,n){return(t=LNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LNe(e){var t=BNe(e,"string");return typeof t=="symbol"?t:t+""}function BNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FNe=(e,t)=>t,UNe=(e,t,n)=>n,zNe=(e,t,n,r)=>r,yT=(e,t,n,r,s)=>s,VNe=(e,t,n,r,s)=>s.maxBarSize,$Ne=(e,t,n,r,s,i)=>i,j8=(e,t,n)=>{var r=n??e;if(!Fn(r))return _s(r,t,0)},HNe=Ue([pn,i0,FNe,UNe,zNe],(e,t,n,r,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),qNe=(e,t,n,r)=>{var s=pn(e);return s==="horizontal"?jp(e,"yAxis",n,r):jp(e,"xAxis",t,r)},YNe=(e,t,n)=>{var r=pn(e);return r==="horizontal"?NI(e,"xAxis",t):NI(e,"yAxis",n)};function WNe(e){return e.stackId!=null&&e.dataKey!=null}var GNe=(e,t,n)=>{var r={},s=e.filter(WNe),i=e.filter(f=>f.stackId==null),o=s.reduce((f,g)=>(f[g.stackId]||(f[g.stackId]=[]),f[g.stackId].push(g),f),r),u=Object.entries(o).map(f=>{var[g,x]=f,w=x.map(C=>C.dataKey),_=j8(t,n,x[0].barSize);return{stackId:g,dataKeys:w,barSize:_}}),m=i.map(f=>{var g=[f.dataKey].filter(w=>w!=null),x=j8(t,n,f.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...u,...m]},KNe=Ue([HNe,n1e,YNe],GNe),XNe=(e,t,n,r,s)=>{var i,o,u=pn(e),m=uV(e),{maxBarSize:f}=s,g=Fn(f)?m:f,x,w;return u==="horizontal"?(x=Vi(e,"xAxis",t,r),w=nl(e,"xAxis",t,r)):(x=Vi(e,"yAxis",n,r),w=nl(e,"yAxis",n,r)),(i=(o=Bd(x,w,!0))!==null&&o!==void 0?o:g)!==null&&i!==void 0?i:0},z$=(e,t,n,r)=>{var s=pn(e),i,o;return s==="horizontal"?(i=Vi(e,"xAxis",t,r),o=nl(e,"xAxis",t,r)):(i=Vi(e,"yAxis",n,r),o=nl(e,"yAxis",n,r)),Bd(i,o)};function QNe(e,t,n,r,s){var i=r.length;if(!(i<1)){var o=_s(e,n,0,!0),u,m=[];if(Ya(r[0].barSize)){var f=!1,g=n/i,x=r.reduce((M,D)=>M+(D.barSize||0),0);x+=(i-1)*o,x>=n&&(x-=(i-1)*o,o=0),x>=n&&g>0&&(f=!0,g*=.9,x=i*g);var w=(n-x)/2>>0,_={offset:w-o,size:0};u=r.reduce((M,D)=>{var R,z={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:_.offset+_.size+o,size:f?g:(R=D.barSize)!==null&&R!==void 0?R:0}},I=[...M,z];return _=I[I.length-1].position,I},m)}else{var C=_s(t,n,0,!0);n-2*C-(i-1)*o<=0&&(o=0);var A=(n-2*C-(i-1)*o)/i;A>1&&(A>>=0);var E=Ya(s)?Math.min(A,s):A;u=r.reduce((M,D,R)=>[...M,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:C+(A+o)*R+(A-E)/2,size:E}}],m)}return u}}var ZNe=(e,t,n,r,s,i,o)=>{var u=Fn(o)?t:o,m=QNe(n,r,s!==i?s:i,e,u);return s!==i&&m!=null&&(m=m.map(f=>nv(nv({},f),{},{position:nv(nv({},f.position),{},{offset:f.position.offset-s/2})}))),m},JNe=Ue([KNe,uV,t1e,dV,XNe,z$,VNe],ZNe),eSe=(e,t,n,r)=>Vi(e,"xAxis",t,r),tSe=(e,t,n,r)=>Vi(e,"yAxis",n,r),nSe=(e,t,n,r)=>nl(e,"xAxis",t,r),rSe=(e,t,n,r)=>nl(e,"yAxis",n,r),aSe=Ue([JNe,yT],(e,t)=>{if(e!=null){var n=e.find(r=>r.stackId===t.stackId&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),sSe=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:n}=t;if(n!=null){var r=e[n];if(r){var{stackedData:s}=r;if(s){var i=s.find(o=>o.key===t.dataKey);return i}}}}},iSe=Ue([i0,yT],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),oSe=Ue([qNe,yT],sSe),lSe=Ue([wa,eSe,tSe,nSe,rSe,aSe,pn,C1,z$,oSe,iSe,$Ne],(e,t,n,r,s,i,o,u,m,f,g,x)=>{var{chartData:w,dataStartIndex:_,dataEndIndex:C}=u;if(!(g==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||n==null||r==null||s==null||m==null)){var{data:A}=g,E;if(A!=null&&A.length>0?E=A:E=w==null?void 0:w.slice(_,C+1),E!=null)return kNe({layout:o,barSettings:g,pos:i,bandSize:m,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,stackedData:f,displayedData:E,offset:e,cells:x})}}),V$=e=>{var{chartData:t}=e,n=pr(),r=gs();return j.useEffect(()=>r?()=>{}:(n(PI(t)),()=>{n(PI(void 0))}),[t,n,r]),null},N8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$$=qi({name:"brush",initialState:N8,reducers:{setBrushSettings(e,t){return t.payload==null?N8:t.payload}}}),{setBrushSettings:zTe}=$$.actions,cSe=$$.reducer;function uSe(e,t,n){return(t=dSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dSe(e){var t=fSe(e,"string");return typeof t=="symbol"?t:t+""}function fSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bT{static create(t){return new bT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}uSe(bT,"EPS",1e-4);function hSe(e){return(e%180+180)%180}var mSe=function(t){var{width:n,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=hSe(s),o=i*Math.PI/180,u=Math.atan(r/n),m=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(m)},gSe={dots:[],areas:[],lines:[]},H$=qi({name:"referenceElements",initialState:gSe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Bl(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Bl(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Bl(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:VTe,removeDot:$Te,addArea:HTe,removeArea:qTe,addLine:YTe,removeLine:WTe}=H$.actions,pSe=H$.reducer,xSe=j.createContext(void 0),vSe=e=>{var{children:t}=e,[n]=j.useState("".concat(mu("recharts"),"-clip")),r=$1();if(r==null)return null;var{x:s,y:i,width:o,height:u}=r;return j.createElement(xSe.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:s,y:i,height:u,width:o}))),t)};function hN(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function q$(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function ySe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return mSe(r,n)}function bSe(e,t,n){var r=n==="width",{x:s,y:i,width:o,height:u}=e;return t===1?{start:r?s:i,end:r?s+o:i+u}:{start:r?s+o:i+u,end:r?s:i}}function Ny(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-s)<=0}function wSe(e,t){return q$(e,t+1)}function jSe(e,t,n,r,s){for(var i=(r||[]).slice(),{start:o,end:u}=t,m=0,f=1,g=o,x=function(){var C=r==null?void 0:r[m];if(C===void 0)return{v:q$(r,f)};var A=m,E,M=()=>(E===void 0&&(E=n(C,A)),E),D=C.coordinate,R=m===0||Ny(e,D,M,g,u);R||(m=0,g=o,f+=1),R&&(g=D+e*(M()/2+s),m+=f)},w;f<=i.length;)if(w=x(),w)return w.v;return[]}function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(r){NSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NSe(e,t,n){return(t=SSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SSe(e){var t=_Se(e,"string");return typeof t=="symbol"?t:t+""}function _Se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ESe(e,t,n,r,s){for(var i=(r||[]).slice(),o=i.length,{start:u}=t,{end:m}=t,f=function(w){var _=i[w],C,A=()=>(C===void 0&&(C=n(_,w)),C);if(w===o-1){var E=e*(_.coordinate+e*A()/2-m);i[w]=_=as(as({},_),{},{tickCoord:E>0?_.coordinate-E*e:_.coordinate})}else i[w]=_=as(as({},_),{},{tickCoord:_.coordinate});var M=Ny(e,_.tickCoord,A,u,m);M&&(m=_.tickCoord-e*(A()/2+s),i[w]=as(as({},_),{},{isShow:!0}))},g=o-1;g>=0;g--)f(g);return i}function ASe(e,t,n,r,s,i){var o=(r||[]).slice(),u=o.length,{start:m,end:f}=t;if(i){var g=r[u-1],x=n(g,u-1),w=e*(g.coordinate+e*x/2-f);o[u-1]=g=as(as({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate});var _=Ny(e,g.tickCoord,()=>x,m,f);_&&(f=g.tickCoord-e*(x/2+s),o[u-1]=as(as({},g),{},{isShow:!0}))}for(var C=i?u-1:u,A=function(D){var R=o[D],z,I=()=>(z===void 0&&(z=n(R,D)),z);if(D===0){var k=e*(R.coordinate-e*I()/2-m);o[D]=R=as(as({},R),{},{tickCoord:k<0?R.coordinate-k*e:R.coordinate})}else o[D]=R=as(as({},R),{},{tickCoord:R.coordinate});var F=Ny(e,R.tickCoord,I,m,f);F&&(m=R.tickCoord+e*(I()/2+s),o[D]=as(as({},R),{},{isShow:!0}))},E=0;E<C;E++)A(E);return o}function wT(e,t,n){var{tick:r,ticks:s,viewBox:i,minTickGap:o,orientation:u,interval:m,tickFormatter:f,unit:g,angle:x}=e;if(!s||!s.length||!r)return[];if(ot(m)||Su.isSsr){var w;return(w=wSe(s,ot(m)?m:0))!==null&&w!==void 0?w:[]}var _=[],C=u==="top"||u==="bottom"?"width":"height",A=g&&C==="width"?Gg(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(R,z)=>{var I=typeof f=="function"?f(R.value,z):R.value;return C==="width"?ySe(Gg(I,{fontSize:t,letterSpacing:n}),A,x):Gg(I,{fontSize:t,letterSpacing:n})[C]},M=s.length>=2?Da(s[1].coordinate-s[0].coordinate):1,D=bSe(i,M,C);return m==="equidistantPreserveStart"?jSe(M,D,E,s,o):(m==="preserveStart"||m==="preserveStartEnd"?_=ASe(M,D,E,s,o,m==="preserveStartEnd"):_=ESe(M,D,E,s,o),_.filter(R=>R.isShow))}var CSe=["viewBox"],TSe=["viewBox"];function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(null,arguments)}function _8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(r){jT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E8(e,t){if(e==null)return{};var n,r,s=OSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function OSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jT(e,t,n){return(t=MSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MSe(e){var t=DSe(e,"string");return typeof t=="symbol"?t:t+""}function DSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cu extends j.Component{constructor(t){super(t),this.tickRefs=j.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,s=E8(t,CSe),i=this.props,{viewBox:o}=i,u=E8(i,TSe);return!hN(r,o)||!hN(s,u)||!hN(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:s,height:i,orientation:o,tickSize:u,mirror:m,tickMargin:f}=this.props,g,x,w,_,C,A,E=m?-1:1,M=t.tickSize||u,D=ot(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":g=x=t.coordinate,_=r+ +!m*i,w=_-E*M,A=w-E*f,C=D;break;case"left":w=_=t.coordinate,x=n+ +!m*s,g=x-E*M,C=g-E*f,A=D;break;case"right":w=_=t.coordinate,x=n+ +m*s,g=x+E*M,C=g+E*f,A=D;break;default:g=x=t.coordinate,_=r+ +m*i,w=_+E*M,A=w+E*f,C=D;break}return{line:{x1:g,y1:w,x2:x,y2:_},tick:{x:C,y:A}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:s,orientation:i,mirror:o,axisLine:u}=this.props,m=ya(ya(ya({},Wt(this.props,!1)),Wt(u,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);m=ya(ya({},m),{},{x1:t,y1:n+f*s,x2:t+r,y2:n+f*s})}else{var g=+(i==="left"&&!o||i==="right"&&o);m=ya(ya({},m),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+s})}return j.createElement("line",mh({},m,{className:ln("recharts-cartesian-axis-line",hu(u,"className"))}))}static renderTickItem(t,n,r){var s,i=ln(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))s=j.cloneElement(t,ya(ya({},n),{},{className:i}));else if(typeof t=="function")s=t(ya(ya({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ln(o,t.className)),s=j.createElement(F1,mh({},n,{className:o}),r)}return s}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:u,unit:m}=this.props,f=wT(ya(ya({},this.props),{},{ticks:r}),t,n),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=Wt(this.props,!1),_=Wt(o,!1),C=ya(ya({},w),{},{fill:"none"},Wt(s,!1)),A=f.map((E,M)=>{var{line:D,tick:R}=this.getTickLineCoord(E),z=ya(ya(ya(ya({textAnchor:g,verticalAnchor:x},w),{},{stroke:"none",fill:i},_),R),{},{index:M,payload:E,visibleTicksCount:f.length,tickFormatter:u});return j.createElement(Ar,mh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Kp(this.props,E,M)),s&&j.createElement("line",mh({},C,D,{className:ln("recharts-cartesian-axis-tick-line",hu(s,"className"))})),o&&Cu.renderTickItem(o,z,"".concat(typeof u=="function"?u(E.value,M):E.value).concat(m||"")))});return A.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},A):null}render(){var{axisLine:t,width:n,height:r,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:j.createElement(Ar,{className:ln("recharts-cartesian-axis",s),ref:u=>{if(u){var m=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var f=m[0];if(f){var g=window.getComputedStyle(f).fontSize,x=window.getComputedStyle(f).letterSpacing;(g!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),li.renderCallByParent(this.props))}}jT(Cu,"displayName","CartesianAxis");jT(Cu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var PSe=["x1","y1","x2","y2","key"],RSe=["offset"],kSe=["xAxisId","yAxisId"],ISe=["xAxisId","yAxisId"];function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){LSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LSe(e,t,n){return(t=BSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BSe(e){var t=FSe(e,"string");return typeof t=="symbol"?t:t+""}function FSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vd.apply(null,arguments)}function Sy(e,t){if(e==null)return{};var n,r,s=USe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function USe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:s,width:i,height:o,ry:u}=e;return j.createElement("rect",{x:r,y:s,ry:u,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Y$(e,t){var n;if(j.isValidElement(e))n=j.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:s,x2:i,y2:o,key:u}=t,m=Sy(t,PSe),f=Wt(m,!1),{offset:g}=f,x=Sy(f,RSe);n=j.createElement("line",vd({},x,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:u}))}return n}function VSe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,u=Sy(e,kSe),m=s.map((f,g)=>{var x=is(is({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(g),index:g});return Y$(r,x)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function $Se(e){var{y:t,height:n,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,u=Sy(e,ISe),m=s.map((f,g)=>{var x=is(is({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(g),index:g});return Y$(r,x)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function HSe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:s,width:i,height:o,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var f=u.map(x=>Math.round(x+s-s)).sort((x,w)=>x-w);s!==f[0]&&f.unshift(0);var g=f.map((x,w)=>{var _=!f[w+1],C=_?s+o-x:f[w+1]-x;if(C<=0)return null;var A=w%t.length;return j.createElement("rect",{key:"react-".concat(w),y:x,x:r,height:C,width:i,stroke:"none",fill:t[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function qSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:s,y:i,width:o,height:u,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var f=m.map(x=>Math.round(x+s-s)).sort((x,w)=>x-w);s!==f[0]&&f.unshift(0);var g=f.map((x,w)=>{var _=!f[w+1],C=_?s+o-x:f[w+1]-x;if(C<=0)return null;var A=w%n.length;return j.createElement("rect",{key:"react-".concat(w),x,y:i,width:C,height:u,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var YSe=(e,t)=>{var{xAxis:n,width:r,height:s,offset:i}=e;return QU(wT(is(is(is({},Cu.defaultProps),n),{},{ticks:ZU(n),viewBox:{x:0,y:0,width:r,height:s}})),i.left,i.left+i.width,t)},WSe=(e,t)=>{var{yAxis:n,width:r,height:s,offset:i}=e;return QU(wT(is(is(is({},Cu.defaultProps),n),{},{ticks:ZU(n),viewBox:{x:0,y:0,width:r,height:s}})),i.top,i.top+i.height,t)},GSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ia(e){var t=JA(),n=eC(),r=rz(),s=is(is({},xi(e,GSe)),{},{x:ot(e.x)?e.x:r.left,y:ot(e.y)?e.y:r.top,width:ot(e.width)?e.width:r.width,height:ot(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:u,y:m,width:f,height:g,syncWithTicks:x,horizontalValues:w,verticalValues:_}=s,C=gs(),A=yt(L=>SI(L,"xAxis",i,C)),E=yt(L=>SI(L,"yAxis",o,C));if(!ot(f)||f<=0||!ot(g)||g<=0||!ot(u)||u!==+u||!ot(m)||m!==+m)return null;var M=s.verticalCoordinatesGenerator||YSe,D=s.horizontalCoordinatesGenerator||WSe,{horizontalPoints:R,verticalPoints:z}=s;if((!R||!R.length)&&typeof D=="function"){var I=w&&w.length,k=D({yAxis:E?is(is({},E),{},{ticks:I?w:E.ticks}):void 0,width:t,height:n,offset:r},I?!0:x);Wg(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(R=k)}if((!z||!z.length)&&typeof M=="function"){var F=_&&_.length,V=M({xAxis:A?is(is({},A),{},{ticks:F?_:A.ticks}):void 0,width:t,height:n,offset:r},F?!0:x);Wg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(z=V)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(zSe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),j.createElement(HSe,vd({},s,{horizontalPoints:R})),j.createElement(qSe,vd({},s,{verticalPoints:z})),j.createElement(VSe,vd({},s,{offset:r,horizontalPoints:R,xAxis:A,yAxis:E})),j.createElement($Se,vd({},s,{offset:r,verticalPoints:z,xAxis:A,yAxis:E})))}ia.displayName="CartesianGrid";var W$=(e,t,n,r)=>Vi(e,"xAxis",t,r),G$=(e,t,n,r)=>nl(e,"xAxis",t,r),K$=(e,t,n,r)=>Vi(e,"yAxis",n,r),X$=(e,t,n,r)=>nl(e,"yAxis",n,r),KSe=Ue([pn,W$,K$,G$,X$],(e,t,n,r,s)=>ll(e,"xAxis")?Bd(t,r,!1):Bd(n,s,!1)),XSe=(e,t,n,r,s)=>s,QSe=Ue([i0,XSe],(e,t)=>{if(e.some(n=>n.type==="line"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),ZSe=Ue([pn,W$,K$,G$,X$,QSe,KSe,C1],(e,t,n,r,s,i,o,u)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:g}=u;if(!(i==null||t==null||n==null||r==null||s==null||r.length===0||s.length===0||o==null)){var{dataKey:x,data:w}=i,_;if(w!=null&&w.length>0?_=w:_=m==null?void 0:m.slice(f,g+1),_!=null)return x_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:x,bandSize:o,displayedData:_})}}),JSe=["type","layout","connectNulls","needClip"],e_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function Q$(e,t){if(e==null)return{};var n,r,s=t_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function t_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function C8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(n),!0).forEach(function(r){Y1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y1(e,t,n){return(t=n_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n_e(e){var t=r_e(e,"string");return typeof t=="symbol"?t:t+""}function r_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(null,arguments)}var a_e=e=>{var{dataKey:t,name:n,stroke:r,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:r,value:Nu(n,t),payload:e}]};function s_e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:i,name:o,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Nu(o,t),hide:u,type:e.tooltipType,color:e.stroke,unit:m}}}var Z$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function i_e(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...n];return r}var o_e=(e,t,n)=>{var r=n.reduce((x,w)=>x+w);if(!r)return Z$(t,e);for(var s=Math.floor(e/r),i=e%r,o=t-e,u=[],m=0,f=0;m<n.length;f+=n[m],++m)if(f+n[m]>i){u=[...n.slice(0,m),i-f];break}var g=u.length%2===0?[0,o]:[o];return[...i_e(n,s),...u,...g].map(x=>"".concat(x,"px")).join(", ")};function l_e(e,t){var n;if(j.isValidElement(e))n=j.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ln("recharts-line-dot",typeof e!="boolean"?e.className:"");n=j.createElement(lT,$h({},t,{className:r}))}return n}function c_e(e,t){return e==null?!1:t?!0:e.length===1}function u_e(e){var{clipPathId:t,points:n,props:r}=e,{dot:s,dataKey:i,needClip:o}=r;if(!c_e(n,s))return null;var u=l1(s),m=Wt(r,!1),f=Wt(s,!0),g=n.map((w,_)=>{var C=oo(oo(oo({key:"dot-".concat(_),r:3},m),f),{},{index:_,cx:w.x,cy:w.y,dataKey:i,value:w.value,payload:w.payload,points:n});return l_e(s,C)}),x={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):null};return j.createElement(Ar,$h({className:"recharts-line-dots",key:"dots"},x),g)}function B_(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:s,props:i,showLabels:o}=e,{type:u,layout:m,connectNulls:f,needClip:g}=i,x=Q$(i,JSe),w=oo(oo({},Wt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(t,")"):null,points:r,type:u,layout:m,connectNulls:f,strokeDasharray:s??i.strokeDasharray});return j.createElement(j.Fragment,null,(r==null?void 0:r.length)>1&&j.createElement(jh,$h({},w,{pathRef:n})),j.createElement(u_e,{points:r,clipPathId:t,props:i}),o&&Ul.renderCallByParent(i,r))}function d_e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function f_e(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:u,isAnimationActive:m,animationBegin:f,animationDuration:g,animationEasing:x,animateNewValues:w,width:_,height:C,onAnimationEnd:A,onAnimationStart:E}=n,M=s.current,D=z1(n,"recharts-line-"),[R,z]=j.useState(!1),I=j.useCallback(()=>{typeof A=="function"&&A(),z(!1)},[A]),k=j.useCallback(()=>{typeof E=="function"&&E(),z(!0)},[E]),F=d_e(r.current),V=i.current;return j.createElement(Xl,{begin:f,duration:g,isActive:m,easing:x,from:{t:0},to:{t:1},onAnimationEnd:I,onAnimationStart:k,key:D},L=>{var{t:$}=L,W=oi(V,F+V),Y=Math.min(W($),F),Q;if(u){var X="".concat(u).split(/[,\s]+/gim).map(J=>parseFloat(J));Q=o_e(Y,F,X)}else Q=Z$(F,Y);if(M){var G=M.length/o.length,H=$===1?o:o.map((J,Z)=>{var de=Math.floor(Z*G);if(M[de]){var re=M[de],pe=oi(re.x,J.x),Ne=oi(re.y,J.y);return oo(oo({},J),{},{x:pe($),y:Ne($)})}if(w){var Se=oi(_*2,J.x),xe=oi(C/2,J.y);return oo(oo({},J),{},{x:Se($),y:xe($)})}return oo(oo({},J),{},{x:J.x,y:J.y})});return s.current=H,j.createElement(B_,{props:n,points:H,clipPathId:t,pathRef:r,showLabels:!R,strokeDasharray:Q})}return $>0&&F>0&&(s.current=o,i.current=Y),j.createElement(B_,{props:n,points:o,clipPathId:t,pathRef:r,showLabels:!R,strokeDasharray:Q})})}function h_e(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:s}=n,i=j.useRef(null),o=j.useRef(0),u=j.useRef(null),m=i.current;return s&&r&&r.length&&m!==r?j.createElement(f_e,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:u}):j.createElement(B_,{props:n,points:r,clipPathId:t,pathRef:u,showLabels:!0})}var m_e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Gn(e.payload,t)});class g_e extends j.Component{constructor(){super(...arguments),Y1(this,"id",mu("recharts-line-"))}render(){var t,{hide:n,dot:r,points:s,className:i,xAxisId:o,yAxisId:u,top:m,left:f,width:g,height:x,id:w,needClip:_,layout:C}=this.props;if(n)return null;var A=ln("recharts-line",i),E=Fn(w)?this.id:w,{r:M=3,strokeWidth:D=2}=(t=Wt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=l1(r),z=M*2+D;return j.createElement(j.Fragment,null,j.createElement(Ar,{className:A},_&&j.createElement("defs",null,j.createElement(vT,{clipPathId:E,xAxisId:o,yAxisId:u}),!R&&j.createElement("clipPath",{id:"clipPath-dots-".concat(E)},j.createElement("rect",{x:f-z/2,y:m-z/2,width:g+z,height:x+z}))),j.createElement(h_e,{props:this.props,clipPathId:E}),j.createElement(R$,{direction:C==="horizontal"?"y":"x"},j.createElement(M$,{xAxisId:o,yAxisId:u,data:s,dataPointFormatter:m_e,errorBarOffset:0},this.props.children))),j.createElement(k_,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var J$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Su.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function p_e(e){var t=xi(e,J$),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:u,dot:m,hide:f,isAnimationActive:g,label:x,legendType:w,xAxisId:_,yAxisId:C}=t,A=Q$(t,e_e),{needClip:E}=H1(_,C),{height:M,width:D,x:R,y:z}=$1(),I=Zp(),k=gs(),F=j.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),V=yt(L=>ZSe(L,_,C,k,F));return I!=="horizontal"&&I!=="vertical"?null:j.createElement(g_e,$h({},A,{connectNulls:u,dot:m,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:g,hide:f,label:x,legendType:w,xAxisId:_,yAxisId:C,points:V,layout:I,height:M,width:D,left:R,top:z,needClip:E}))}function x_e(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:u,displayedData:m}=e;return m.map((f,g)=>{var x=Gn(f,o);return t==="horizontal"?{x:ay({axis:n,ticks:s,bandSize:u,entry:f,index:g}),y:Fn(x)?null:r.scale(x),value:x,payload:f}:{x:Fn(x)?null:n.scale(x),y:ay({axis:r,ticks:i,bandSize:u,entry:f,index:g}),value:x,payload:f}})}class Bi extends j.PureComponent{render(){return j.createElement(xT,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},j.createElement(pT,{legendPayload:a_e(this.props)}),j.createElement(U1,{fn:s_e,args:this.props}),j.createElement(p_e,this.props))}}Y1(Bi,"displayName","Line");Y1(Bi,"defaultProps",J$);var eH=(e,t,n,r)=>Vi(e,"xAxis",t,r),tH=(e,t,n,r)=>nl(e,"xAxis",t,r),nH=(e,t,n,r)=>Vi(e,"yAxis",n,r),rH=(e,t,n,r)=>nl(e,"yAxis",n,r),v_e=Ue([pn,eH,nH,tH,rH],(e,t,n,r,s)=>ll(e,"xAxis")?Bd(t,r,!1):Bd(n,s,!1)),y_e=(e,t,n,r,s)=>{var i,o=pn(e),u=ll(o,"xAxis"),m;if(u?m=jp(e,"yAxis",n,r):m=jp(e,"xAxis",t,r),m!=null){var{dataKey:f,stackId:g}=s;if(g!=null){var x=(i=m[g])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(w=>w.key===f)}}},b_e=(e,t,n,r,s)=>s,w_e=Ue([i0,b_e],(e,t)=>{if(e.some(n=>n.type==="area"&&t.dataKey===n.dataKey&&KA(t.stackId)===n.stackId&&t.data===n.data))return t}),j_e=Ue([pn,eH,nH,tH,rH,y_e,C1,v_e,w_e],(e,t,n,r,s,i,o,u,m)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:x}=o;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||s==null||r.length===0||s.length===0||u==null)){var{data:w}=m,_;if(w&&w.length>0?_=w:_=f==null?void 0:f.slice(g,x+1),_!=null){var C=void 0;return z_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataStartIndex:g,areaSettings:m,stackedData:i,displayedData:_,chartBaseValue:C,bandSize:u})}}}),N_e=["layout","type","stroke","connectNulls","isRange"],S_e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function aH(e,t){if(e==null)return{};var n,r,s=__e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function __e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function T8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(n),!0).forEach(function(r){W1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W1(e,t,n){return(t=E_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_e(e){var t=A_e(e,"string");return typeof t=="symbol"?t:t+""}function A_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eu.apply(null,arguments)}function _y(e,t){return e&&e!=="none"?e:t}var C_e=e=>{var{dataKey:t,name:n,stroke:r,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:_y(r,s),value:Nu(n,t),payload:e}]};function T_e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:i,name:o,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Nu(o,t),hide:u,type:e.tooltipType,color:_y(r,i),unit:m}}}var O_e=(e,t)=>{var n;if(j.isValidElement(e))n=j.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ln("recharts-area-dot",typeof e!="boolean"?e.className:"");n=j.createElement(lT,eu({},t,{className:r}))}return n};function M_e(e,t){return e==null?!1:t?!0:e.length===1}function D_e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:s,dot:i,dataKey:o}=r;if(!M_e(n,i))return null;var u=l1(i),m=Wt(r,!1),f=Wt(i,!0),g=n.map((w,_)=>{var C=yd(yd(yd({key:"dot-".concat(_),r:3},m),f),{},{index:_,cx:w.x,cy:w.y,dataKey:o,value:w.value,payload:w.payload,points:n});return O_e(i,C)}),x={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return j.createElement(Ar,eu({className:"recharts-area-dots"},x),g)}function F_(e){var{points:t,baseLine:n,needClip:r,clipPathId:s,props:i,showLabels:o}=e,{layout:u,type:m,stroke:f,connectNulls:g,isRange:x}=i,w=aH(i,N_e);return j.createElement(j.Fragment,null,(t==null?void 0:t.length)>1&&j.createElement(Ar,{clipPath:r?"url(#clipPath-".concat(s,")"):void 0},j.createElement(jh,eu({},Wt(w,!0),{points:t,connectNulls:g,type:m,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&j.createElement(jh,eu({},Wt(i,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:g,fill:"none",points:t})),f!=="none"&&x&&j.createElement(jh,eu({},Wt(i,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:g,fill:"none",points:n}))),j.createElement(D_e,{points:t,props:i,clipPathId:s}),o&&Ul.renderCallByParent(i,t))}function P_e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:s}=e,i=r[0].y,o=r[r.length-1].y;if(!Ya(i)||!Ya(o))return null;var u=t*Math.abs(i-o),m=Math.max(...r.map(f=>f.x||0));return ot(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(f=>f.x||0),m)),ot(m)?j.createElement("rect",{x:0,y:i<o?i:i-u,width:m+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function R_e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:s}=e,i=r[0].x,o=r[r.length-1].x;if(!Ya(i)||!Ya(o))return null;var u=t*Math.abs(i-o),m=Math.max(...r.map(f=>f.y||0));return ot(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(f=>f.y||0),m)),ot(m)?j.createElement("rect",{x:i<o?i:i-u,y:0,width:u,height:Math.floor(m+(s?parseInt("".concat(s),10):1))}):null}function k_e(e){var{alpha:t,layout:n,points:r,baseLine:s,strokeWidth:i}=e;return n==="vertical"?j.createElement(P_e,{alpha:t,points:r,baseLine:s,strokeWidth:i}):j.createElement(R_e,{alpha:t,points:r,baseLine:s,strokeWidth:i})}function I_e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:u,isAnimationActive:m,animationBegin:f,animationDuration:g,animationEasing:x,onAnimationStart:w,onAnimationEnd:_}=r,C=z1(r,"recharts-area-"),[A,E]=j.useState(!0),M=j.useCallback(()=>{typeof _=="function"&&_(),E(!1)},[_]),D=j.useCallback(()=>{typeof w=="function"&&w(),E(!0)},[w]),R=s.current,z=i.current;return j.createElement(Xl,{begin:f,duration:g,isActive:m,easing:x,from:{t:0},to:{t:1},onAnimationEnd:M,onAnimationStart:D,key:C},I=>{var{t:k}=I;if(R){var F=R.length/o.length,V=k===1?o:o.map(($,W)=>{var Y=Math.floor(W*F);if(R[Y]){var Q=R[Y];return yd(yd({},$),{},{x:th(Q.x,$.x,k),y:th(Q.y,$.y,k)})}return $}),L;return ot(u)?L=th(z,u,k):Fn(u)||Vs(u)?L=th(z,0,k):L=u.map(($,W)=>{var Y=Math.floor(W*F);if(Array.isArray(z)&&z[Y]){var Q=z[Y];return yd(yd({},$),{},{x:th(Q.x,$.x,k),y:th(Q.y,$.y,k)})}return $}),k>0&&(s.current=V,i.current=L),j.createElement(F_,{points:V,baseLine:L,needClip:t,clipPathId:n,props:r,showLabels:!A})}return k>0&&(s.current=o,i.current=u),j.createElement(Ar,null,j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(n)},j.createElement(k_e,{alpha:k,points:o,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),j.createElement(Ar,{clipPath:"url(#animationClipPath-".concat(n,")")},j.createElement(F_,{points:o,baseLine:u,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function L_e(e){var{needClip:t,clipPathId:n,props:r}=e,{points:s,baseLine:i,isAnimationActive:o}=r,u=j.useRef(null),m=j.useRef(),f=u.current,g=m.current;return o&&s&&s.length&&(f!==s||g!==i)?j.createElement(I_e,{needClip:t,clipPathId:n,props:r,previousPointsRef:u,previousBaselineRef:m}):j.createElement(F_,{points:s,baseLine:i,needClip:t,clipPathId:n,props:r,showLabels:!0})}class B_e extends j.PureComponent{constructor(){super(...arguments),W1(this,"id",mu("recharts-area-"))}render(){var t,{hide:n,dot:r,points:s,className:i,top:o,left:u,needClip:m,xAxisId:f,yAxisId:g,width:x,height:w,id:_,baseLine:C}=this.props;if(n)return null;var A=ln("recharts-area",i),E=Fn(_)?this.id:_,{r:M=3,strokeWidth:D=2}=(t=Wt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=l1(r),z=M*2+D;return j.createElement(j.Fragment,null,j.createElement(Ar,{className:A},m&&j.createElement("defs",null,j.createElement(vT,{clipPathId:E,xAxisId:f,yAxisId:g}),!R&&j.createElement("clipPath",{id:"clipPath-dots-".concat(E)},j.createElement("rect",{x:u-z/2,y:o-z/2,width:x+z,height:w+z}))),j.createElement(L_e,{needClip:m,clipPathId:E,props:this.props})),j.createElement(k_,{points:s,mainColor:_y(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(C)&&j.createElement(k_,{points:C,mainColor:_y(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var sH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Su.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function F_e(e){var t,n=xi(e,sH),{activeDot:r,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:u,dot:m,fill:f,fillOpacity:g,hide:x,isAnimationActive:w,legendType:_,stroke:C,xAxisId:A,yAxisId:E}=n,M=aH(n,S_e),D=Zp(),R=i$(),{needClip:z}=H1(A,E),I=gs(),k=j.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:u,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,u,e.data,e.dataKey]),{points:F,isRange:V,baseLine:L}=(t=yt(X=>j_e(X,A,E,I,k)))!==null&&t!==void 0?t:{},{height:$,width:W,x:Y,y:Q}=$1();return D!=="horizontal"&&D!=="vertical"||R!=="AreaChart"&&R!=="ComposedChart"?null:j.createElement(B_e,eu({},M,{activeDot:r,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:L,connectNulls:u,dot:m,fill:f,fillOpacity:g,height:$,hide:x,layout:D,isAnimationActive:w,isRange:V,legendType:_,needClip:z,points:F,stroke:C,width:W,left:Y,top:Q,xAxisId:A,yAxisId:E}))}var U_e=(e,t,n,r,s)=>{var i=n??t;if(ot(i))return i;var o=e==="horizontal"?s:r,u=o.scale.domain();if(o.type==="number"){var m=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return i==="dataMin"?f:i==="dataMax"||m<0?m:Math.max(Math.min(u[0],u[1]),0)}return i==="dataMin"?u[0]:i==="dataMax"?u[1]:u[0]};function z_e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:s,layout:i,chartBaseValue:o,xAxis:u,yAxis:m,displayedData:f,dataStartIndex:g,xAxisTicks:x,yAxisTicks:w,bandSize:_}=e,C=s&&s.length,A=U_e(i,o,n,u,m),E=i==="horizontal",M=!1,D=f.map((z,I)=>{var k;C?k=s[g+I]:(k=Gn(z,r),Array.isArray(k)?M=!0:k=[A,k]);var F=k[1]==null||C&&!t&&Gn(z,r)==null;return E?{x:ay({axis:u,ticks:x,bandSize:_,entry:z,index:I}),y:F?null:m.scale(k[1]),value:k,payload:z}:{x:F?null:u.scale(k[1]),y:ay({axis:m,ticks:w,bandSize:_,entry:z,index:I}),value:k,payload:z}}),R;return C||M?R=D.map(z=>{var I=Array.isArray(z.value)?z.value[0]:null;return E?{x:z.x,y:I!=null&&z.y!=null?m.scale(I):null}:{x:I!=null?u.scale(I):null,y:z.y}}):R=E?m.scale(A):u.scale(A),{points:D,baseLine:R,isRange:M}}class zd extends j.PureComponent{render(){return j.createElement(xT,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},j.createElement(pT,{legendPayload:C_e(this.props)}),j.createElement(U1,{fn:T_e,args:this.props}),j.createElement(F_e,this.props))}}W1(zd,"displayName","Area");W1(zd,"defaultProps",sH);function O8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function M8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(n),!0).forEach(function(r){V_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V_e(e,t,n){return(t=$_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $_e(e){var t=H_e(e,"string");return typeof t=="symbol"?t:t+""}function H_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q_e={xAxis:{},yAxis:{},zAxis:{}},iH=qi({name:"cartesianAxis",initialState:q_e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=M8(M8({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Y_e,removeXAxis:W_e,addYAxis:G_e,removeYAxis:K_e,addZAxis:GTe,removeZAxis:KTe,updateYAxisWidth:X_e}=iH.actions,Q_e=iH.reducer,Z_e=["children"],J_e=["dangerouslySetInnerHTML","ticks"];function oH(e,t,n){return(t=eEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eEe(e){var t=tEe(e,"string");return typeof t=="symbol"?t:t+""}function tEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U_.apply(null,arguments)}function lH(e,t){if(e==null)return{};var n,r,s=nEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rEe(e){var t=pr(),n=j.useMemo(()=>{var{children:i}=e,o=lH(e,Z_e);return o},[e]),r=yt(i=>rc(i,n.id)),s=n===r;return j.useEffect(()=>(t(Y_e(n)),()=>{t(W_e(n))}),[n,t]),s?e.children:null}var aEe=e=>{var{xAxisId:t,className:n}=e,r=yt(nz),s=gs(),i="xAxis",o=yt(_=>hm(_,i,t,s)),u=yt(_=>FV(_,i,t,s)),m=yt(_=>kV(_,t)),f=yt(_=>G1e(_,t));if(m==null||f==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,w=lH(e,J_e);return j.createElement(Cu,U_({},w,{scale:o,x:f.x,y:f.y,width:m.width,height:m.height,className:ln("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:u}))},sEe=e=>{var t,n,r,s,i;return j.createElement(rEe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},j.createElement(aEe,e))};class qr extends j.Component{render(){return j.createElement(sEe,this.props)}}oH(qr,"displayName","XAxis");oH(qr,"defaultProps",{allowDataOverflow:ri.allowDataOverflow,allowDecimals:ri.allowDecimals,allowDuplicatedCategory:ri.allowDuplicatedCategory,height:ri.height,hide:!1,mirror:ri.mirror,orientation:ri.orientation,padding:ri.padding,reversed:ri.reversed,scale:ri.scale,tickCount:ri.tickCount,type:ri.type,xAxisId:0});var iEe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>o&&(o=x.width)}});var u=n?n.getBoundingClientRect().width:0,m=s+i,f=o+m+u+(n?r:0);return Math.round(f)}return 0},oEe=["dangerouslySetInnerHTML","ticks"];function cH(e,t,n){return(t=lEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lEe(e){var t=cEe(e,"string");return typeof t=="symbol"?t:t+""}function cEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z_.apply(null,arguments)}function uEe(e,t){if(e==null)return{};var n,r,s=dEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fEe(e){var t=pr();return j.useEffect(()=>(t(G_e(e)),()=>{t(K_e(e))}),[e,t]),null}var hEe=e=>{var t,{yAxisId:n,className:r,width:s,label:i}=e,o=j.useRef(null),u=j.useRef(null),m=yt(nz),f=gs(),g=pr(),x="yAxis",w=yt(R=>hm(R,x,n,f)),_=yt(R=>IV(R,n)),C=yt(R=>K1e(R,n)),A=yt(R=>FV(R,x,n,f));if(j.useLayoutEffect(()=>{var R;if(!(s!=="auto"||!_||oT(i)||j.isValidElement(i))){var z=o.current,I=z==null||(R=z.tickRefs)===null||R===void 0?void 0:R.current,{tickSize:k,tickMargin:F}=z.props,V=iEe({ticks:I,label:u.current,labelGapWithTick:5,tickSize:k,tickMargin:F});Math.round(_.width)!==Math.round(V)&&g(X_e({id:n,width:V}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,_==null?void 0:_.width,_,g,i,n,s]),_==null||C==null)return null;var{dangerouslySetInnerHTML:E,ticks:M}=e,D=uEe(e,oEe);return j.createElement(Cu,z_({},D,{ref:o,labelRef:u,scale:w,x:C.x,y:C.y,width:_.width,height:_.height,className:ln("recharts-".concat(x," ").concat(x),r),viewBox:m,ticks:A}))},mEe=e=>{var t,n,r,s,i;return j.createElement(j.Fragment,null,j.createElement(fEe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),j.createElement(hEe,e))},gEe={allowDataOverflow:ai.allowDataOverflow,allowDecimals:ai.allowDecimals,allowDuplicatedCategory:ai.allowDuplicatedCategory,hide:!1,mirror:ai.mirror,orientation:ai.orientation,padding:ai.padding,reversed:ai.reversed,scale:ai.scale,tickCount:ai.tickCount,type:ai.type,width:ai.width,yAxisId:0};class Yr extends j.Component{render(){return j.createElement(mEe,this.props)}}cH(Yr,"displayName","YAxis");cH(Yr,"defaultProps",gEe);var mN={exports:{}},gN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D8;function pEe(){if(D8)return gN;D8=1;var e=Hh();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,u=e.useDebugValue;return gN.useSyncExternalStoreWithSelector=function(m,f,g,x,w){var _=s(null);if(_.current===null){var C={hasValue:!1,value:null};_.current=C}else C=_.current;_=o(function(){function E(I){if(!M){if(M=!0,D=I,I=x(I),w!==void 0&&C.hasValue){var k=C.value;if(w(k,I))return R=k}return R=I}if(k=R,n(D,I))return k;var F=x(I);return w!==void 0&&w(k,F)?(D=I,k):(D=I,R=F)}var M=!1,D,R,z=g===void 0?null:g;return[function(){return E(f())},z===null?void 0:function(){return E(z())}]},[f,g,x,w]);var A=r(m,_[0],_[1]);return i(function(){C.hasValue=!0,C.value=A},[A]),u(A),A},gN}var P8;function xEe(){return P8||(P8=1,mN.exports=pEe()),mN.exports}xEe();function vEe(e){e()}function yEe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vEe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var R8={notify(){},get:()=>[]};function bEe(e,t){let n,r=R8,s=0,i=!1;function o(A){g();const E=r.subscribe(A);let M=!1;return()=>{M||(M=!0,E(),x())}}function u(){r.notify()}function m(){C.onStateChange&&C.onStateChange()}function f(){return i}function g(){s++,n||(n=e.subscribe(m),r=yEe())}function x(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=R8)}function w(){i||(i=!0,g())}function _(){i&&(i=!1,x())}const C={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:f,trySubscribe:w,tryUnsubscribe:_,getListeners:()=>r};return C}var wEe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jEe=wEe(),NEe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",SEe=NEe(),_Ee=()=>jEe||SEe?j.useLayoutEffect:j.useEffect,EEe=_Ee(),pN=Symbol.for("react-redux-context"),xN=typeof globalThis<"u"?globalThis:{};function AEe(){if(!j.createContext)return{};const e=xN[pN]??(xN[pN]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var CEe=AEe();function TEe(e){const{children:t,context:n,serverState:r,store:s}=e,i=j.useMemo(()=>{const m=bEe(s);return{store:s,subscription:m,getServerState:r?()=>r:void 0}},[s,r]),o=j.useMemo(()=>s.getState(),[s]);EEe(()=>{const{subscription:m}=i;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),o!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[i,o]);const u=n||CEe;return j.createElement(u.Provider,{value:i},t)}var OEe=TEe,MEe=(e,t)=>t,NT=Ue([MEe,pn,l1e,La,e$,ac,Qbe,wa],nwe),ST=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},uH=Ui("mouseClick"),dH=Qp();dH.startListening({actionCreator:uH,effect:(e,t)=>{var n=e.payload,r=NT(t.getState(),ST(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(lbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var V_=Ui("mouseMove"),fH=Qp();fH.startListening({actionCreator:V_,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=ZC(r,r.tooltip.settings.shared),i=NT(r,ST(n));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(WV({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(YV()))}});function DEe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var k8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},hH=qi({name:"rootProps",initialState:k8,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:k8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),PEe=hH.reducer,{updateOptions:REe}=hH.actions,mH=qi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:kEe}=mH.actions,IEe=mH.reducer,gH=Ui("keyDown"),pH=Ui("focus"),_T=Qp();_T.startListening({actionCreator:gH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(JC(s,Qd(n))),u=ac(n);if(i==="Enter"){var m=yy(n,"axis","hover",String(s.index));t.dispatch(T_({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var f=J1e(n),g=f==="left-to-right"?1:-1,x=i==="ArrowRight"?1:-1,w=o+x*g;if(!(u==null||w>=u.length||w<0)){var _=yy(n,"axis","hover",String(w));t.dispatch(T_({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});_T.startListening({actionCreator:pH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var i="0",o=yy(n,"axis","hover",String(i));t.dispatch(T_({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Di=Ui("externalEvent"),xH=Qp();xH.startListening({actionCreator:Di,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Vbe(n),activeDataKey:a$(n),activeIndex:gu(n),activeLabel:r$(n),activeTooltipIndex:gu(n),isTooltipActive:$be(n)};e.payload.handler(r,e.payload.reactEvent)}}});var LEe=Ue([mm],e=>e.tooltipItemPayloads),BEe=Ue([LEe,c0,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var s=e.find(u=>u.settings.dataKey===r);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,n);return o}}}),vH=Ui("touchMove"),yH=Qp();yH.startListening({actionCreator:vH,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=ZC(r,r.tooltip.settings.shared);if(s==="axis"){var i=NT(r,ST({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(WV({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,u=n.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(ez),g=(o=m.getAttribute(tz))!==null&&o!==void 0?o:void 0,x=BEe(t.getState(),f,g);t.dispatch(qV({activeDataKey:g,activeIndex:f,activeCoordinate:x}))}}});var FEe=AU({brush:cSe,cartesianAxis:Q_e,chartData:vwe,graphicalItems:eje,layout:Qge,legend:Lpe,options:hwe,polarAxis:B2e,polarOptions:IEe,referenceElements:pSe,rootProps:PEe,tooltip:cbe}),UEe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return jge({reducer:FEe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([dH.middleware,fH.middleware,_T.middleware,xH.middleware,yH.middleware]),devTools:{serialize:{replacer:DEe},name:"recharts-".concat(n)}})};function bH(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,s=gs(),i=j.useRef(null);if(s)return n;i.current==null&&(i.current=UEe(t,r));var o=$A;return j.createElement(OEe,{context:o,store:i.current},n)}function wH(e){var{layout:t,width:n,height:r,margin:s}=e,i=pr(),o=gs();return j.useEffect(()=>{o||(i(Gge(t)),i(Kge({width:n,height:r})),i(Wge(s)))},[i,o,t,n,r,s]),null}function jH(e){var t=pr();return j.useEffect(()=>{t(REe(e))},[t,e]),null}var zEe=["children"];function VEe(e,t){if(e==null)return{};var n,r,s=$Ee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function $Ee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}var HEe={width:"100%",height:"100%"},qEe=j.forwardRef((e,t)=>{var n=JA(),r=eC(),s=oz();if(!Lh(n)||!Lh(r))return null;var{children:i,otherAttributes:o,title:u,desc:m}=e,f,g;return typeof o.tabIndex=="number"?f=o.tabIndex:f=s?0:void 0,typeof o.role=="string"?g=o.role:g=s?"application":void 0,j.createElement(MA,Ey({},o,{title:u,desc:m,role:g,tabIndex:f,width:n,height:r,style:HEe,ref:t}),i)}),YEe=e=>{var{children:t}=e,n=yt(w1);if(!n)return null;var{width:r,height:s,y:i,x:o}=n;return j.createElement(MA,{width:r,height:s,x:o,y:i},t)},I8=j.forwardRef((e,t)=>{var{children:n}=e,r=VEe(e,zEe),s=gs();return s?j.createElement(YEe,null,n):j.createElement(qEe,Ey({ref:t},r),n)});function WEe(){var e=pr(),[t,n]=j.useState(null),r=yt(_pe);return j.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;Ya(i)&&i!==r&&e(Xge(i))}},[t,e,r]),n}function L8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function GEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(n),!0).forEach(function(r){KEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KEe(e,t,n){return(t=XEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XEe(e){var t=QEe(e,"string");return typeof t=="symbol"?t:t+""}function QEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZEe=j.forwardRef((e,t)=>{var{children:n,className:r,height:s,onClick:i,onContextMenu:o,onDoubleClick:u,onMouseDown:m,onMouseEnter:f,onMouseLeave:g,onMouseMove:x,onMouseUp:w,onTouchEnd:_,onTouchMove:C,onTouchStart:A,style:E,width:M}=e,D=pr(),[R,z]=j.useState(null),[I,k]=j.useState(null);wwe();var F=WEe(),V=j.useCallback(Ne=>{F(Ne),typeof t=="function"&&t(Ne),z(Ne),k(Ne)},[F,t,z,k]),L=j.useCallback(Ne=>{D(uH(Ne)),D(Di({handler:i,reactEvent:Ne}))},[D,i]),$=j.useCallback(Ne=>{D(V_(Ne)),D(Di({handler:f,reactEvent:Ne}))},[D,f]),W=j.useCallback(Ne=>{D(YV()),D(Di({handler:g,reactEvent:Ne}))},[D,g]),Y=j.useCallback(Ne=>{D(V_(Ne)),D(Di({handler:x,reactEvent:Ne}))},[D,x]),Q=j.useCallback(()=>{D(pH())},[D]),X=j.useCallback(Ne=>{D(gH(Ne.key))},[D]),G=j.useCallback(Ne=>{D(Di({handler:o,reactEvent:Ne}))},[D,o]),H=j.useCallback(Ne=>{D(Di({handler:u,reactEvent:Ne}))},[D,u]),J=j.useCallback(Ne=>{D(Di({handler:m,reactEvent:Ne}))},[D,m]),Z=j.useCallback(Ne=>{D(Di({handler:w,reactEvent:Ne}))},[D,w]),de=j.useCallback(Ne=>{D(Di({handler:A,reactEvent:Ne}))},[D,A]),re=j.useCallback(Ne=>{D(vH(Ne)),D(Di({handler:C,reactEvent:Ne}))},[D,C]),pe=j.useCallback(Ne=>{D(Di({handler:_,reactEvent:Ne}))},[D,_]);return j.createElement(d$.Provider,{value:R},j.createElement(XF.Provider,{value:I},j.createElement("div",{className:ln("recharts-wrapper",r),style:GEe({position:"relative",cursor:"default",width:M,height:s},E),onClick:L,onContextMenu:G,onDoubleClick:H,onFocus:Q,onKeyDown:X,onMouseDown:J,onMouseEnter:$,onMouseLeave:W,onMouseMove:Y,onMouseUp:Z,onTouchEnd:pe,onTouchMove:re,onTouchStart:de,ref:V},n)))}),JEe=["children","className","width","height","style","compact","title","desc"];function eAe(e,t){if(e==null)return{};var n,r,s=tAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function tAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var NH=j.forwardRef((e,t)=>{var{children:n,className:r,width:s,height:i,style:o,compact:u,title:m,desc:f}=e,g=eAe(e,JEe),x=Wt(g,!1);return u?j.createElement(I8,{otherAttributes:x,title:m,desc:f},n):j.createElement(ZEe,{className:r,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(I8,{otherAttributes:x,title:m,desc:f,ref:t},j.createElement(vSe,null,n)))}),nAe=["width","height"];function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$_.apply(null,arguments)}function rAe(e,t){if(e==null)return{};var n,r,s=aAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function aAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sAe={top:5,right:5,bottom:5,left:5},iAe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sAe,reverseStackOrder:!1,syncMethod:"index"},ET=j.forwardRef(function(t,n){var r,s=xi(t.categoricalChartProps,iAe),{width:i,height:o}=s,u=rAe(s,nAe);if(!Lh(i)||!Lh(o))return null;var{chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,categoricalChartProps:w}=t,_={chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return j.createElement(bH,{preloadedState:{options:_},reduxStoreName:(r=w.id)!==null&&r!==void 0?r:m},j.createElement(V$,{chartData:w.data}),j.createElement(wH,{width:i,height:o,layout:s.layout,margin:s.margin}),j.createElement(jH,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),j.createElement(NH,$_({},u,{width:i,height:o,ref:n})))}),oAe=["axis"],Ep=j.forwardRef((e,t)=>j.createElement(ET,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oAe,tooltipPayloadSearcher:B1,categoricalChartProps:e,ref:t})),lAe=["axis","item"],Qo=j.forwardRef((e,t)=>j.createElement(ET,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lAe,tooltipPayloadSearcher:B1,categoricalChartProps:e,ref:t}));function cAe(e){var t=pr();return j.useEffect(()=>{t(kEe(e))},[t,e]),null}var uAe=["width","height","layout"];function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H_.apply(null,arguments)}function dAe(e,t){if(e==null)return{};var n,r,s=fAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function fAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hAe={top:5,right:5,bottom:5,left:5},mAe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hAe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},gAe=j.forwardRef(function(t,n){var r,s=xi(t.categoricalChartProps,mAe),{width:i,height:o,layout:u}=s,m=dAe(s,uAe);if(!Lh(i)||!Lh(o))return null;var{chartName:f,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:w}=t,_={chartName:f,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:w,eventEmitter:void 0};return j.createElement(bH,{preloadedState:{options:_},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:f},j.createElement(V$,{chartData:s.data}),j.createElement(wH,{width:i,height:o,layout:u,margin:s.margin}),j.createElement(jH,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),j.createElement(cAe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),j.createElement(NH,H_({width:i,height:o},m,{ref:n})))}),pAe=["item"],xAe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ay=j.forwardRef((e,t)=>{var n=xi(e,xAe);return j.createElement(gAe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pAe,tooltipPayloadSearcher:B1,categoricalChartProps:n,ref:t})}),vAe=["axis"],G1=j.forwardRef((e,t)=>j.createElement(ET,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vAe,tooltipPayloadSearcher:B1,categoricalChartProps:e,ref:t}));const $c=["#8884d8","#82ca9d","#ffc658","#ff7300","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function yAe(){var C;const{profile:e}=$t(),{t,language:n}=Ut(),[r,s]=j.useState({spendingTrend:[],categoryBreakdown:[],monthlyComparison:[],topMerchants:[],paymentMethods:[],weeklyPattern:[],hourlyPattern:[],budgetAnalysis:{monthlyAverage:0,currentMonth:0,projection:0,variance:0},kpis:{totalSpent:0,averageTransaction:0,transactionCount:0,topCategory:"",savingsRate:0,spendingGrowth:0}}),[i,o]=j.useState(!0),[u,m]=j.useState("last_30_days"),[f,g]=j.useState("line");j.useEffect(()=>{e&&x()},[e,u]);const x=async()=>{var A,E,M,D;if(e)try{o(!0);const R=new Date;let z=new Date;switch(u){case"last_7_days":z=Vo(R,7);break;case"last_30_days":z=Vo(R,30);break;case"last_90_days":z=Vo(R,90);break;case"last_year":z=Vo(R,365);break;default:z=Vo(R,30)}const{data:I,error:k}=await $e.from("transactions").select(`
          *,
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name,
            user_type
          )
        `).eq("from_user_id",e.id).gte("created_at",z.toISOString()).lte("created_at",R.toISOString()).order("created_at",{ascending:!0});if(k)throw k;const F=I||[],V=Lue({start:z,end:R}).map(se=>{const ce=F.filter(oe=>fr(new Date(oe.created_at),"yyyy-MM-dd")===fr(se,"yyyy-MM-dd"));return{date:fr(se,"MMM dd"),amount:ce.reduce((oe,he)=>oe+he.amount,0),transactions:ce.length}}),L=new Map;F.forEach(se=>{const ce=se.transaction_type;if(L.has(ce)){const oe=L.get(ce);L.set(ce,{amount:oe.amount+se.amount,count:oe.count+1})}else L.set(ce,{amount:se.amount,count:1})});const $=F.reduce((se,ce)=>se+ce.amount,0),W=Array.from(L.entries()).map(([se,ce],oe)=>({category:se,amount:ce.amount,count:ce.count,percentage:$>0?ce.amount/$*100:0,color:$c[oe%$c.length]})).sort((se,ce)=>ce.amount-se.amount),Y=Bue({start:L2(R,11),end:R}).map(se=>{const ce=NA(se),oe=i1(se),he=F.filter(Ke=>{const Ve=new Date(Ke.created_at);return Ve>=ce&&Ve<=oe}),Re=L2(ce,12),be=L2(oe,12),ye=he.reduce((Ke,Ve)=>Ke+Ve.amount,0)*.8;return{month:fr(se,"MMM"),currentYear:he.reduce((Ke,Ve)=>Ke+Ve.amount,0),previousYear:ye}}),Q=new Map;F.forEach(se=>{var oe;const ce=((oe=se.to_profile)==null?void 0:oe.full_name)||"Unknown";if(Q.has(ce)){const he=Q.get(ce);Q.set(ce,{amount:he.amount+se.amount,transactions:he.transactions+1})}else Q.set(ce,{amount:se.amount,transactions:1})});const X=Array.from(Q.entries()).map(([se,ce])=>({name:se,amount:ce.amount,transactions:ce.transactions})).sort((se,ce)=>ce.amount-se.amount).slice(0,5),G=new Map;F.forEach(se=>{const ce=se.payment_method||"wallet";if(G.has(ce)){const oe=G.get(ce);G.set(ce,{amount:oe.amount+se.amount,count:oe.count+1})}else G.set(ce,{amount:se.amount,count:1})});const H=Array.from(G.entries()).map(([se,ce])=>({method:se,amount:ce.amount,count:ce.count,percentage:$>0?ce.amount/$*100:0})),Z=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(se=>{const ce=F.filter(oe=>fr(new Date(oe.created_at),"EEE")===se);return{day:se,amount:ce.reduce((oe,he)=>oe+he.amount,0),transactions:ce.length}}),de=Array.from({length:24},(se,ce)=>{const oe=F.filter(he=>new Date(he.created_at).getHours()===ce);return{hour:`${ce.toString().padStart(2,"0")}:00`,amount:oe.reduce((he,Re)=>he+Re.amount,0),transactions:oe.length}}),re=F.filter(se=>{const ce=new Date(se.created_at),oe=new Date;return ce.getMonth()===oe.getMonth()&&ce.getFullYear()===oe.getFullYear()}).reduce((se,ce)=>se+ce.amount,0),pe=$/Math.max(1,Math.ceil((R.getTime()-z.getTime())/(720*60*60*1e3))),Ne=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),Se=new Date().getDate(),xe=re/Se*Ne,Pe={totalSpent:$,averageTransaction:F.length>0?$/F.length:0,transactionCount:F.length,topCategory:((A=W[0])==null?void 0:A.category)||"",savingsRate:Math.max(0,(pe-re)/Math.max(pe,1)*100),spendingGrowth:Y.length>=2?((((E=Y[Y.length-1])==null?void 0:E.currentYear)||0)-(((M=Y[Y.length-2])==null?void 0:M.currentYear)||0))/Math.max(((D=Y[Y.length-2])==null?void 0:D.currentYear)||1,1)*100:0};s({spendingTrend:V,categoryBreakdown:W,monthlyComparison:Y,topMerchants:X,paymentMethods:H,weeklyPattern:Z,hourlyPattern:de,budgetAnalysis:{monthlyAverage:pe,currentMonth:re,projection:xe,variance:(xe-pe)/Math.max(pe,1)*100},kpis:Pe})}catch(R){console.error("Error fetching analytics:",R)}finally{o(!1)}},w=A=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(A),_=()=>{const A={generatedAt:new Date().toISOString(),period:u,...r},E=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),M=URL.createObjectURL(E),D=document.createElement("a");D.href=M,D.download=`spending-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,D.click(),URL.revokeObjectURL(M)};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("spendingAnalytics")}),a.jsx("p",{className:"text-muted-foreground",children:t("detailedInsightsIntoYourSpending")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(kt,{value:u,onValueChange:m,children:[a.jsx(It,{className:"w-[160px]",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"last_7_days",children:t("last7Days")}),a.jsx(Ae,{value:"last_30_days",children:t("last30Days")}),a.jsx(Ae,{value:"last_90_days",children:t("last90Days")}),a.jsx(Ae,{value:"last_year",children:t("lastYear")})]})]}),a.jsxs(we,{variant:"outline",onClick:_,children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),t("exportReport")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalSpent")}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w(r.kpis.totalSpent)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[r.kpis.spendingGrowth>=0?a.jsx(Xn,{className:"h-4 w-4 text-red-500"}):a.jsx(ql,{className:"h-4 w-4 text-green-500"}),a.jsxs("p",{className:`text-xs ${r.kpis.spendingGrowth>=0?"text-red-500":"text-green-500"}`,children:[r.kpis.spendingGrowth>=0?"+":"",r.kpis.spendingGrowth.toFixed(1),"% ",t("fromLastMonth")]})]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("avgTransaction")}),a.jsx(Pa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w(r.kpis.averageTransaction)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.kpis.transactionCount," ",t("transactions")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("monthlyBudget")}),a.jsx(rm,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w(r.budgetAnalysis.projection)}),a.jsxs("p",{className:`text-xs ${r.budgetAnalysis.variance>=0?"text-red-500":"text-green-500"}`,children:[r.budgetAnalysis.variance>=0?"+":"",r.budgetAnalysis.variance.toFixed(1),"% ",t("projected")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("topCategory")}),a.jsx(kp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t(r.kpis.topCategory)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(C=r.categoryBreakdown[0])==null?void 0:C.percentage.toFixed(1),"% ",t("ofSpending")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("savingsRate")}),a.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[r.kpis.savingsRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("comparedToAverage")})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("frequency")}),a.jsx(zE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r.kpis.transactionCount/Math.max(1,parseInt(u.split("_")[1]))).toFixed(1)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("transactionsPerDay")})]})]})})]}),a.jsxs(pi,{defaultValue:"trend",className:"space-y-4",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-6",children:[a.jsx(At,{value:"trend",children:t("spendingTrend")}),a.jsx(At,{value:"category",children:t("categories")}),a.jsx(At,{value:"comparison",children:t("comparison")}),a.jsx(At,{value:"patterns",children:t("patterns")}),a.jsx(At,{value:"merchants",children:t("merchants")}),a.jsx(At,{value:"methods",children:t("paymentMethods")})]}),a.jsx(Ot,{value:"trend",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:t("spendingTrend")}),a.jsx(st,{children:t("dailySpendingPattern")})]}),a.jsxs(kt,{value:f,onValueChange:g,children:[a.jsx(It,{className:"w-[120px]",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"line",children:t("line")}),a.jsx(Ae,{value:"area",children:t("area")}),a.jsx(Ae,{value:"bar",children:t("bar")})]})]})]}),a.jsx(fe,{children:a.jsx(ws,{width:"100%",height:400,children:f==="line"?a.jsxs(Ep,{data:r.spendingTrend,children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:A=>[w(Number(A)),t("amount")]}),a.jsx(Ma,{}),a.jsx(Bi,{type:"monotone",dataKey:"amount",stroke:"#8884d8",strokeWidth:2})]}):f==="area"?a.jsxs(G1,{data:r.spendingTrend,children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:A=>[w(Number(A)),t("amount")]}),a.jsx(zd,{type:"monotone",dataKey:"amount",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Qo,{data:r.spendingTrend,children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:A=>[w(Number(A)),t("amount")]}),a.jsx(Hr,{dataKey:"amount",fill:"#8884d8"})]})})})]})}),a.jsx(Ot,{value:"category",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("spendingByCategory")}),a.jsx(st,{children:t("categoryDistribution")})]}),a.jsx(fe,{children:a.jsx(ws,{width:"100%",height:300,children:a.jsxs(Ay,{children:[a.jsx(Vh,{data:r.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percentage:E})=>`${t(A)} ${E.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.categoryBreakdown.map((A,E)=>a.jsx(pu,{fill:A.color},`cell-${E}`))}),a.jsx(Nr,{formatter:A=>[w(Number(A)),t("amount")]})]})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("categoryBreakdown")}),a.jsx(st,{children:t("detailedCategoryAnalysis")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:r.categoryBreakdown.map((A,E)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:A.color}}),a.jsx("span",{className:"font-medium",children:t(A.category)})]}),a.jsx("span",{className:"text-sm font-medium",children:w(A.amount)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[A.count," ",t("transactions")]}),a.jsxs("span",{children:[A.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${A.percentage}%`,backgroundColor:A.color}})})]},A.category))})})]})]})}),a.jsx(Ot,{value:"comparison",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("monthlyComparison")}),a.jsx(st,{children:t("currentVsPreviousYear")})]}),a.jsx(fe,{children:a.jsx(ws,{width:"100%",height:400,children:a.jsxs(Qo,{data:r.monthlyComparison,children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"month"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:A=>[w(Number(A)),""]}),a.jsx(Ma,{}),a.jsx(Hr,{dataKey:"currentYear",fill:"#8884d8",name:t("currentYear")}),a.jsx(Hr,{dataKey:"previousYear",fill:"#82ca9d",name:t("previousYear")})]})})})]})}),a.jsx(Ot,{value:"patterns",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("weeklyPattern")}),a.jsx(st,{children:t("spendingByDayOfWeek")})]}),a.jsx(fe,{children:a.jsx(ws,{width:"100%",height:300,children:a.jsxs(Qo,{data:r.weeklyPattern,children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"day"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:A=>[w(Number(A)),t("amount")]}),a.jsx(Hr,{dataKey:"amount",fill:"#8884d8"})]})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("hourlyPattern")}),a.jsx(st,{children:t("spendingByHourOfDay")})]}),a.jsx(fe,{children:a.jsx(ws,{width:"100%",height:300,children:a.jsxs(Ep,{data:r.hourlyPattern,children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"hour"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:A=>[w(Number(A)),t("amount")]}),a.jsx(Bi,{type:"monotone",dataKey:"amount",stroke:"#82ca9d",strokeWidth:2})]})})})]})]})}),a.jsx(Ot,{value:"merchants",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("topMerchants")}),a.jsx(st,{children:t("merchantsBySpending")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:r.topMerchants.map((A,E)=>a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-2xl font-bold text-muted-foreground",children:["#",E+1]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:A.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.transactions," ",t("transactions")]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold",children:w(A.amount)}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[w(A.amount/A.transactions)," ",t("avg")]})]})]},A.name))})})]})}),a.jsx(Ot,{value:"methods",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("paymentMethods")}),a.jsx(st,{children:t("methodDistribution")})]}),a.jsx(fe,{children:a.jsx(ws,{width:"100%",height:300,children:a.jsxs(Ay,{children:[a.jsx(Vh,{data:r.paymentMethods,cx:"50%",cy:"50%",labelLine:!1,label:({method:A,percentage:E})=>`${t(A)} ${E.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.paymentMethods.map((A,E)=>a.jsx(pu,{fill:$c[E%$c.length]},`cell-${E}`))}),a.jsx(Nr,{formatter:A=>[w(Number(A)),t("amount")]})]})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("methodBreakdown")}),a.jsx(st,{children:t("detailedMethodAnalysis")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:r.paymentMethods.map((A,E)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:$c[E%$c.length]}}),a.jsx("span",{className:"font-medium",children:t(A.method)})]}),a.jsx("span",{className:"text-sm font-medium",children:w(A.amount)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[A.count," ",t("transactions")]}),a.jsxs("span",{children:[A.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${A.percentage}%`,backgroundColor:$c[E%$c.length]}})})]},A.method))})})]})]})})]}),r.budgetAnalysis.variance>20&&a.jsx(ue,{className:"border-orange-200 bg-orange-50",children:a.jsxs(fe,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rp,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"font-medium text-orange-800",children:t("budgetWarning")}),a.jsxs(Je,{variant:"outline",className:"bg-orange-100 text-orange-800",children:["+",r.budgetAnalysis.variance.toFixed(1),"% ",t("overBudget")]})]}),a.jsxs("p",{className:"text-sm text-orange-700 mt-2",children:[t("yourProjectedSpendingIs")," ",w(r.budgetAnalysis.projection)," ",t("comparedToYourAverage")," ",w(r.budgetAnalysis.monthlyAverage)]})]})})]})}const Es=j.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:_t("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Es.displayName="Textarea";const pm=j.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:_t("w-full caption-bottom text-sm",e),...t})}));pm.displayName="Table";const xm=j.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:_t("[&_tr]:border-b",e),...t}));xm.displayName="TableHeader";const vm=j.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:_t("[&_tr:last-child]:border-0",e),...t}));vm.displayName="TableBody";const bAe=j.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:_t("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));bAe.displayName="TableFooter";const xu=j.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:_t("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));xu.displayName="TableRow";const vn=j.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:_t("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));vn.displayName="TableHead";const yn=j.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:_t("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));yn.displayName="TableCell";const wAe=j.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:_t("mt-4 text-sm text-muted-foreground",e),...t}));wAe.displayName="TableCaption";function jAe(){const[e,t]=j.useState([]),[n,r]=j.useState(0),[s,i]=j.useState(!1),[o,u]=j.useState(!0),[m,f]=j.useState(!1),[g,x]=j.useState(!1),[w,_]=j.useState(null),[C,A]=j.useState({recipientEmail:"",amount:0,message:""}),{profile:E}=$t(),{t:M,language:D}=Ut();j.useEffect(()=>{E&&(R(),z())},[E]),j.useEffect(()=>{C.recipientEmail&&C.recipientEmail.includes("@")?I():_(null)},[C.recipientEmail]);const R=async()=>{try{const{data:L,error:$}=await $e.from("wallets").select("balance").eq("user_id",E==null?void 0:E.id).single();if($)throw $;r((L==null?void 0:L.balance)||0)}catch(L){console.error("Error fetching wallet balance:",L)}},z=async()=>{try{u(!0);const{data:L,error:$}=await $e.from("transactions").select(`
          id,
          amount,
          description,
          status,
          created_at,
          from_user:profiles!transactions_from_user_id_fkey(full_name, email),
          to_user:profiles!transactions_to_user_id_fkey(full_name, email)
        `).or(`from_user_id.eq.${E==null?void 0:E.id},to_user_id.eq.${E==null?void 0:E.id}`).eq("transaction_type","gift").order("created_at",{ascending:!1}).limit(20);if($)throw $;t(L||[])}catch(L){console.error("Error fetching gift history:",L)}finally{u(!1)}},I=async()=>{try{x(!0);const{data:L,error:$}=await $e.from("profiles").select("id, full_name, email").eq("email",C.recipientEmail.toLowerCase()).single();if($){_(null);return}if(L.email===(E==null?void 0:E.email)){_({error:"Cannot send gift to yourself"});return}_(L)}catch{_(null)}finally{x(!1)}},k=async()=>{if(!w||w.error){_e.error("Please enter a valid recipient email");return}if(C.amount<=0){_e.error("Please enter a valid amount");return}if(C.amount>n){_e.error("Insufficient wallet balance");return}try{f(!0);const{data:L,error:$}=await $e.rpc("send_gift",{p_from_user_id:E==null?void 0:E.id,p_to_user_id:w.id,p_amount:C.amount,p_message:C.message||`Gift from ${E==null?void 0:E.full_name}`});if($)throw $;const W=L[0];W.success?(_e.success(`Gift sent successfully to ${w.full_name}!`),i(!1),A({recipientEmail:"",amount:0,message:""}),_(null),R(),z()):_e.error(W.error_message||"Failed to send gift")}catch(L){console.error("Error sending gift:",L),_e.error("Failed to send gift")}finally{f(!1)}},F=L=>new Intl.NumberFormat(D==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(L),V=L=>new Date(L).toLocaleDateString(D==="ar"?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gift System"}),a.jsx("p",{className:"text-muted-foreground",children:"Send credits to friends and family"})]}),a.jsxs(Wr,{open:s,onOpenChange:i,children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{className:"gap-2",children:[a.jsx($o,{className:"h-4 w-4"}),"Send Gift"]})}),a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:"Send Gift"}),a.jsx(ka,{children:"Send credits from your wallet to another user"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Current Balance"}),a.jsx("span",{className:"font-bold text-blue-900",children:F(n)})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Recipient Email"}),a.jsx(dt,{type:"email",placeholder:"Enter recipient's email address",value:C.recipientEmail,onChange:L=>A($=>({...$,recipientEmail:L.target.value}))}),g&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(zs,{className:"h-3 w-3 animate-spin"}),"Validating recipient..."]}),w&&!g&&a.jsx("div",{className:"flex items-center gap-2 text-sm",children:w.error?a.jsxs(a.Fragment,{children:[a.jsx(rp,{className:"h-3 w-3 text-red-500"}),a.jsx("span",{className:"text-red-600",children:w.error})]}):a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{className:"text-green-600",children:["Recipient found: ",w.full_name]})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Gift Amount"}),a.jsx(dt,{type:"number",placeholder:"Enter amount to send",value:C.amount||"",onChange:L=>A($=>({...$,amount:parseFloat(L.target.value)||0}))}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Minimum: ",F(1e3)]}),a.jsxs("span",{children:["Maximum: ",F(n)]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Personal Message (Optional)"}),a.jsx(Es,{placeholder:"Add a personal message with your gift",value:C.message,onChange:L=>A($=>({...$,message:L.target.value})),rows:3})]}),a.jsx(we,{onClick:k,disabled:m||!w||w.error||C.amount<=0||C.amount>n,className:"w-full",children:m?a.jsxs(a.Fragment,{children:[a.jsx(zs,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Gift..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Od,{className:"mr-2 h-4 w-4"}),"Send Gift (",F(C.amount),")"]})})]})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Sent"}),a.jsx(Od,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:F(e.filter(L=>{var $;return(($=L.from_user)==null?void 0:$.email)===(E==null?void 0:E.email)}).reduce((L,$)=>L+$.amount,0))}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(L=>{var $;return(($=L.from_user)==null?void 0:$.email)===(E==null?void 0:E.email)}).length," gifts sent"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Received"}),a.jsx($o,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:F(e.filter(L=>{var $;return(($=L.to_user)==null?void 0:$.email)===(E==null?void 0:E.email)}).reduce((L,$)=>L+$.amount,0))}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(L=>{var $;return(($=L.to_user)==null?void 0:$.email)===(E==null?void 0:E.email)}).length," gifts received"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Current Balance"}),a.jsx(kne,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:F(n)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Available to send"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Gift History"}),a.jsx(st,{children:"Your sent and received gifts"})]}),a.jsx(fe,{children:o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(zs,{className:"h-6 w-6 animate-spin"})}):e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx($o,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No gifts yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Start spreading joy by sending your first gift!"}),a.jsxs(we,{onClick:()=>i(!0),children:[a.jsx($o,{className:"h-4 w-4 mr-2"}),"Send Your First Gift"]})]}):a.jsxs(pm,{children:[a.jsx(xm,{children:a.jsxs(xu,{children:[a.jsx(vn,{children:"Type"}),a.jsx(vn,{children:"Amount"}),a.jsx(vn,{children:"From/To"}),a.jsx(vn,{children:"Message"}),a.jsx(vn,{children:"Date"}),a.jsx(vn,{children:"Status"})]})}),a.jsx(vm,{children:e.map(L=>{var W,Y,Q,X,G;const $=((W=L.from_user)==null?void 0:W.email)===(E==null?void 0:E.email);return a.jsxs(xu,{children:[a.jsx(yn,{children:a.jsx("div",{className:"flex items-center gap-2",children:$?a.jsxs(a.Fragment,{children:[a.jsx(hd,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Sent"})]}):a.jsxs(a.Fragment,{children:[a.jsx(tm,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Received"})]})})}),a.jsxs(yn,{className:$?"text-red-600":"text-green-600",children:[$?"-":"+",F(L.amount)]}),a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:$?(Y=L.to_user)==null?void 0:Y.full_name:(Q=L.from_user)==null?void 0:Q.full_name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:$?(X=L.to_user)==null?void 0:X.email:(G=L.from_user)==null?void 0:G.email})]})}),a.jsx(yn,{children:a.jsx("div",{className:"max-w-xs truncate",title:L.description,children:L.description})}),a.jsx(yn,{children:V(L.created_at)}),a.jsx(yn,{children:a.jsx(Je,{variant:L.status==="completed"?"default":"secondary",children:L.status})})]},L.id)})})]})})]})]})}function u0(){const{profile:e,user:t,refreshProfile:n}=$t(),{t:r,language:s,setLanguage:i}=Ut(),[o,u]=j.useState(!1),[m,f]=j.useState(!1),[g,x]=j.useState({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),w=(k,F)=>{x(V=>({...V,[k]:F}))},_=async()=>{if(e){f(!0);try{const{error:k}=await $e.from("profiles").update({full_name:g.full_name,phone_number:g.phone_number,language_preference:g.language_preference,updated_at:new Date().toISOString()}).eq("id",e.id);if(k)throw k;g.language_preference!==s&&i(g.language_preference),await n(),u(!1),_e.success(r("profileUpdated"))}catch(k){console.error("Error updating profile:",k),_e.error(r("errorUpdatingProfile"))}finally{f(!1)}}},C=()=>{x({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),u(!1)},A=()=>{_e.info(r("featureComingSoon"))},E=()=>{_e.info(r("redirectingToPasswordChange"))},M=async()=>{try{_e.info(r("preparingDataDownload"))}catch{_e.error(r("errorDownloadingData"))}},D=()=>{_e.info(r("twoFactorAuthDisabled"))},R=()=>{_e.error(r("deleteAccountNotImplemented"))},z=k=>({passenger:r("passenger"),driver:r("driver"),merchant:r("merchant"),event_admin:r("eventAdmin"),admin:r("systemAdmin")})[k]||k,I=k=>k.split(" ").map(F=>F[0]).join("").toUpperCase();return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r("profile")}),a.jsx("p",{className:"text-muted-foreground",children:r("manageYourAccountInformation")})]}),!o&&a.jsxs(we,{onClick:()=>u(!0),variant:"outline",children:[a.jsx(sB,{className:"h-4 w-4 mr-2"}),r("editProfile")]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{className:"text-lg",children:r("profilePicture")})}),a.jsxs(fe,{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(lp,{className:"h-24 w-24",children:[a.jsx(cp,{src:e.avatar_url}),a.jsx(up,{className:"text-lg",children:I(e.full_name)})]}),a.jsx(we,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",onClick:A,children:a.jsx(ph,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:r("clickToUploadNewPicture")})]})]}),a.jsxs(ue,{className:"md:col-span-2",children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(Oe,{className:"text-lg",children:r("personalInformation")}),a.jsx(st,{children:r("updateYourPersonalDetails")})]}),o&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(we,{size:"sm",onClick:_,disabled:m,children:[a.jsx(aB,{className:"h-4 w-4 mr-2"}),r("save")]}),a.jsxs(we,{size:"sm",variant:"outline",onClick:C,children:[a.jsx(Hd,{className:"h-4 w-4 mr-2"}),r("cancel")]})]})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"full_name",children:r("fullName")}),o?a.jsx(dt,{id:"full_name",value:g.full_name,onChange:k=>w("full_name",k.target.value)}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ou,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.full_name})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"phone_number",children:r("phoneNumber")}),o?a.jsx(dt,{id:"phone_number",value:g.phone_number,onChange:k=>w("phone_number",k.target.value)}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(TS,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.phone_number||r("notProvided")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:r("email")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Uy,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.email})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:r("language")}),o?a.jsxs(kt,{value:g.language_preference,onValueChange:k=>w("language_preference",k),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"en",children:"English"}),a.jsx(Ae,{value:"ar",children:"العربية"})]})]}):a.jsx("span",{children:e.language_preference==="ar"?"العربية":"English"})]})]}),a.jsx(hi,{}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:r("accountType")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(Je,{variant:"secondary",children:z(e.user_type)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:r("memberSince")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString(s==="ar"?"ar-SY":"en-US")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:r("verificationStatus")}),a.jsx(Je,{variant:e.is_verified?"default":"secondary",children:e.is_verified?r("verified"):r("unverified")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:r("accountStatus")}),a.jsx(Je,{variant:e.is_active?"default":"destructive",children:e.is_active?r("active"):r("inactive")})]})]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:r("accountActions")}),a.jsx(st,{children:r("manageYourAccountSecurity")})]}),a.jsx(fe,{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(we,{variant:"outline",onClick:E,children:r("changePassword")}),a.jsx(we,{variant:"outline",onClick:M,children:r("downloadData")}),a.jsx(we,{variant:"outline",onClick:D,disabled:!0,children:r("twoFactorAuth")}),a.jsx(we,{variant:"destructive",onClick:R,children:r("deleteAccount")})]})})]})]}):null}var K1="Switch",[NAe,XTe]=$s(K1),[SAe,_Ae]=NAe(K1),SH=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:u,value:m="on",onCheckedChange:f,form:g,...x}=e,[w,_]=j.useState(null),C=Zt(t,R=>_(R)),A=j.useRef(!1),E=w?g||!!w.closest("form"):!0,[M,D]=Yl({prop:s,defaultProp:i??!1,onChange:f,caller:K1});return a.jsxs(SAe,{scope:n,checked:M,disabled:u,children:[a.jsx(St.button,{type:"button",role:"switch","aria-checked":M,"aria-required":o,"data-state":CH(M),"data-disabled":u?"":void 0,disabled:u,value:m,...x,ref:C,onClick:lt(e.onClick,R=>{D(z=>!z),E&&(A.current=R.isPropagationStopped(),A.current||R.stopPropagation())})}),E&&a.jsx(AH,{control:w,bubbles:!A.current,name:r,value:m,checked:M,required:o,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});SH.displayName=K1;var _H="SwitchThumb",EH=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=_Ae(_H,n);return a.jsx(St.span,{"data-state":CH(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});EH.displayName=_H;var EAe="SwitchBubbleInput",AH=j.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=j.useRef(null),u=Zt(o,i),m=qE(n),f=YE(t);return j.useEffect(()=>{const g=o.current;if(!g)return;const x=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(x,"checked").set;if(m!==n&&_){const C=new Event("click",{bubbles:r});_.call(g,n),g.dispatchEvent(C)}},[m,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AH.displayName=EAe;function CH(e){return e?"checked":"unchecked"}var AAe=SH,CAe=EH;function Tl({className:e,...t}){return a.jsx(AAe,{"data-slot":"switch",className:_t("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(CAe,{"data-slot":"switch-thumb",className:_t("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function d0(){const{profile:e}=$t(),{t,language:n,setLanguage:r}=Ut(),[s,i]=j.useState(!1),[o,u]=j.useState(!0),[m,f]=j.useState(!1),[g,x]=j.useState({email:!0,push:!0,sms:!1,transactions:!0,marketing:!1,security:!0}),w=(E,M)=>{x(D=>({...D,[E]:M})),_e.success(t("settingUpdated"))},_=E=>{r(E),_e.success(t("languageChanged"))},C=()=>{_e.info(t("privacyPolicyComingSoon"))},A=()=>{_e.info(t("companyInfoComingSoon"))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("settings")}),a.jsx("p",{className:"text-muted-foreground",children:t("manageYourAppPreferences")})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(VE,{className:"h-5 w-5"}),a.jsx("span",{children:t("languageAndAppearance")})]}),a.jsx(st,{children:t("customizeYourAppExperience")})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:t("language")}),a.jsxs(kt,{value:n,onValueChange:_,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"en",children:"English"}),a.jsx(Ae,{value:"ar",children:"العربية"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ze,{children:t("darkMode")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("toggleDarkMode")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(DS,{className:"h-4 w-4"}),a.jsx(Tl,{checked:m,onCheckedChange:f}),a.jsx(CS,{className:"h-4 w-4"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ze,{children:t("showWalletBalance")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("displayBalanceInDashboard")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fs,{className:"h-4 w-4"}),a.jsx(Tl,{checked:o,onCheckedChange:u}),a.jsx(Wn,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(Ah,{className:"h-5 w-5"}),a.jsx("span",{children:t("notifications")})]}),a.jsx(st,{children:t("controlWhenAndHowYouReceiveNotifications")})]}),a.jsx(fe,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(ze,{className:"flex items-center space-x-2",children:[a.jsx(Uy,{className:"h-4 w-4"}),a.jsx("span",{children:t("emailNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveEmailUpdates")})]}),a.jsx(Tl,{checked:g.email,onCheckedChange:E=>w("email",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(ze,{className:"flex items-center space-x-2",children:[a.jsx(Yg,{className:"h-4 w-4"}),a.jsx("span",{children:t("pushNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePushNotifications")})]}),a.jsx(Tl,{checked:g.push,onCheckedChange:E=>w("push",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ze,{children:t("smsNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveSmsUpdates")})]}),a.jsx(Tl,{checked:g.sms,onCheckedChange:E=>w("sms",E)})]}),a.jsx(hi,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(ze,{className:"flex items-center space-x-2",children:[a.jsx(Pa,{className:"h-4 w-4"}),a.jsx("span",{children:t("transactionNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnTransactions")})]}),a.jsx(Tl,{checked:g.transactions,onCheckedChange:E=>w("transactions",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ze,{children:t("marketingNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePromotionalEmails")})]}),a.jsx(Tl,{checked:g.marketing,onCheckedChange:E=>w("marketing",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(ze,{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4"}),a.jsx("span",{children:t("securityNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnSecurityEvents")})]}),a.jsx(Tl,{checked:g.security,onCheckedChange:E=>w("security",E)})]})]})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-5 w-5"}),a.jsx("span",{children:t("legalAndCompany")})]}),a.jsx(st,{children:t("importantLegalInformation")})]}),a.jsx(fe,{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(we,{variant:"outline",onClick:C,children:t("privacyPolicy")}),a.jsx(we,{variant:"outline",onClick:A,children:t("aboutCompany")})]})})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:t("appInformation")})}),a.jsxs(fe,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("version")}),a.jsx("span",{children:"1.0.0"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("lastUpdate")}),a.jsx("span",{children:new Date().toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("buildNumber")}),a.jsx("span",{children:"1.0.0-beta"})]})]})]})]})]})}const TH=()=>{var H,J;const{notifications:e,unreadCount:t,loading:n,stats:r,fetchNotifications:s,markAsRead:i,markAllAsRead:o,deleteNotification:u}=Q_(),{language:m}=Ut(),f=po(),[g,x]=j.useState({}),[w,_]=j.useState(""),[C,A]=j.useState([]),[E,M]=j.useState("desc"),[D,R]=j.useState(!1),z=e.filter(Z=>{if(w){const de=w.toLowerCase();if(!(Z.title.toLowerCase().includes(de)||Z.message.toLowerCase().includes(de)))return!1}return!(g.type&&g.type.length>0&&!g.type.includes(Z.type)||g.priority&&g.priority.length>0&&!g.priority.includes(Z.priority)||g.is_read!==void 0&&Z.is_read!==g.is_read||g.date_from&&new Date(Z.created_at)<new Date(g.date_from)||g.date_to&&new Date(Z.created_at)>new Date(g.date_to))}),I=[...z].sort((Z,de)=>{const re=new Date(Z.created_at).getTime(),pe=new Date(de.created_at).getTime();return E==="asc"?re-pe:pe-re}),k=Z=>{switch(Z){case"success":return a.jsx(_r,{className:"h-5 w-5 text-green-600"});case"warning":return a.jsx(Er,{className:"h-5 w-5 text-yellow-600"});case"error":return a.jsx(au,{className:"h-5 w-5 text-red-600"});case"ticket":return a.jsx(ca,{className:"h-5 w-5 text-blue-600"});case"payment":return a.jsx(Pa,{className:"h-5 w-5 text-green-600"});case"refund":return a.jsx(sr,{className:"h-5 w-5 text-orange-600"});case"event":return a.jsx(Jte,{className:"h-5 w-5 text-purple-600"});case"system":return a.jsx(su,{className:"h-5 w-5 text-gray-600"});default:return a.jsx(Ev,{className:"h-5 w-5 text-blue-600"})}},F=Z=>{const de={low:"bg-gray-100 text-gray-800",normal:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"};return a.jsx(Je,{variant:"secondary",className:de[Z],children:Z.toUpperCase()})},V=Z=>{Z.is_read||i(Z.id),Z.action_url&&f(Z.action_url)},L=()=>{C.forEach(Z=>{const de=e.find(re=>re.id===Z);de&&!de.is_read&&i(Z)}),A([])},$=()=>{C.forEach(Z=>{u(Z)}),A([])},W=()=>{C.length===I.length?A([]):A(I.map(Z=>Z.id))},Y=(Z,de)=>{const re={...g,[Z]:de};x(re),s(re)},Q=()=>{x({}),_(""),s()};j.useEffect(()=>{const Z=setTimeout(()=>{w!==g.search&&Y("search",w||void 0)},500);return()=>clearTimeout(Z)},[w]);const G={en:{title:"Notifications",description:"Stay updated with your latest notifications",search:"Search notifications...",filters:"Filters",showFilters:"Show Filters",hideFilters:"Hide Filters",type:"Type",priority:"Priority",status:"Status",dateFrom:"From Date",dateTo:"To Date",clearFilters:"Clear Filters",markAllRead:"Mark All Read",markSelectedRead:"Mark Selected Read",deleteSelected:"Delete Selected",selectAll:"Select All",sortNewest:"Newest First",sortOldest:"Oldest First",noNotifications:"No notifications found",noNotificationsDesc:"Try adjusting your filters or check back later",all:"All",read:"Read",unread:"Unread",selected:"selected"},ar:{title:"الإشعارات",description:"ابق محدثاً بأحدث إشعاراتك",search:"البحث في الإشعارات...",filters:"المرشحات",showFilters:"إظهار المرشحات",hideFilters:"إخفاء المرشحات",type:"النوع",priority:"الأولوية",status:"الحالة",dateFrom:"من تاريخ",dateTo:"إلى تاريخ",clearFilters:"مسح المرشحات",markAllRead:"تحديد الكل كمقروء",markSelectedRead:"تحديد المحدد كمقروء",deleteSelected:"حذف المحدد",selectAll:"تحديد الكل",sortNewest:"الأحدث أولاً",sortOldest:"الأقدم أولاً",noNotifications:"لم يتم العثور على إشعارات",noNotificationsDesc:"جرب تعديل المرشحات أو تحقق لاحقاً",all:"الكل",read:"مقروء",unread:"غير مقروء",selected:"محدد"}}[m];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:G.title}),a.jsx("p",{className:"text-muted-foreground",children:G.description})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ah,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center",children:r.unread}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread"}),a.jsx("p",{className:"text-2xl font-bold",children:r.unread})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Er,{className:"h-5 w-5 text-orange-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"}),a.jsx("p",{className:"text-2xl font-bold",children:r.by_priority.high+r.by_priority.urgent})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Read"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total-r.unread})]})]})})})]}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{placeholder:G.search,value:w,onChange:Z=>_(Z.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>R(!D),children:[a.jsx(nm,{className:"h-4 w-4 mr-2"}),D?G.hideFilters:G.showFilters]}),a.jsx(we,{variant:"outline",size:"sm",onClick:()=>M(E==="asc"?"desc":"asc"),children:E==="desc"?a.jsxs(a.Fragment,{children:[a.jsx(zte,{className:"h-4 w-4 mr-2"}),G.sortNewest]}):a.jsxs(a.Fragment,{children:[a.jsx(Wte,{className:"h-4 w-4 mr-2"}),G.sortOldest]})})]})]}),a.jsx(Py,{children:D&&a.jsxs(qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[a.jsx(hi,{className:"mb-4"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(ze,{children:G.type}),a.jsxs(kt,{value:((H=g.type)==null?void 0:H[0])||"all",onValueChange:Z=>Y("type",Z==="all"?void 0:[Z]),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:G.all}),a.jsx(Ae,{value:"info",children:"Info"}),a.jsx(Ae,{value:"success",children:"Success"}),a.jsx(Ae,{value:"warning",children:"Warning"}),a.jsx(Ae,{value:"error",children:"Error"}),a.jsx(Ae,{value:"system",children:"System"}),a.jsx(Ae,{value:"ticket",children:"Ticket"}),a.jsx(Ae,{value:"payment",children:"Payment"}),a.jsx(Ae,{value:"refund",children:"Refund"}),a.jsx(Ae,{value:"event",children:"Event"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{children:G.priority}),a.jsxs(kt,{value:((J=g.priority)==null?void 0:J[0])||"all",onValueChange:Z=>Y("priority",Z==="all"?void 0:[Z]),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:G.all}),a.jsx(Ae,{value:"low",children:"Low"}),a.jsx(Ae,{value:"normal",children:"Normal"}),a.jsx(Ae,{value:"high",children:"High"}),a.jsx(Ae,{value:"urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{children:G.status}),a.jsxs(kt,{value:g.is_read===void 0?"all":g.is_read?"read":"unread",onValueChange:Z=>Y("is_read",Z==="all"?void 0:Z==="read"),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:G.all}),a.jsx(Ae,{value:"read",children:G.read}),a.jsx(Ae,{value:"unread",children:G.unread})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{children:G.dateFrom}),a.jsx(dt,{type:"date",value:g.date_from||"",onChange:Z=>Y("date_from",Z.target.value||void 0)})]}),a.jsxs("div",{children:[a.jsx(ze,{children:G.dateTo}),a.jsx(dt,{type:"date",value:g.date_to||"",onChange:Z=>Y("date_to",Z.target.value||void 0)})]})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx(we,{variant:"outline",size:"sm",onClick:Q,children:G.clearFilters})})]})}),C.length>0&&a.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-3 bg-blue-50 rounded-lg border",children:[a.jsxs("span",{className:"text-sm font-medium",children:[C.length," ",G.selected]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(we,{size:"sm",variant:"outline",onClick:L,children:[a.jsx(Ch,{className:"h-4 w-4 mr-2"}),G.markSelectedRead]}),a.jsxs(we,{size:"sm",variant:"outline",onClick:$,children:[a.jsx(Av,{className:"h-4 w-4 mr-2"}),G.deleteSelected]})]})]})]})})}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Oe,{children:["Notifications (",z.length,")"]}),t>0&&a.jsxs(st,{children:[t," unread notifications"]})]}),a.jsxs("div",{className:"flex gap-2",children:[I.length>0&&a.jsxs(we,{variant:"outline",size:"sm",onClick:W,children:[a.jsx(cu,{checked:C.length===I.length,className:"mr-2"}),G.selectAll]}),t>0&&a.jsxs(we,{size:"sm",onClick:o,children:[a.jsx(ine,{className:"h-4 w-4 mr-2"}),G.markAllRead]})]})]})}),a.jsx(fe,{className:"p-0",children:n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):I.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Ah,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"font-semibold text-muted-foreground mb-2",children:G.noNotifications}),a.jsx("p",{className:"text-sm text-muted-foreground",children:G.noNotificationsDesc})]}):a.jsx(kd,{className:"h-96",children:a.jsx("div",{className:"space-y-1",children:I.map((Z,de)=>a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:de*.05},className:`flex items-start gap-4 p-4 border-l-4 cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-800 ${Z.is_read?"border-l-gray-200":"border-l-blue-500 bg-blue-50 dark:bg-blue-950"} ${C.includes(Z.id)?"bg-blue-100 dark:bg-blue-900":""}`,onClick:()=>V(Z),children:[a.jsx(cu,{checked:C.includes(Z.id),onCheckedChange:re=>{A(re?pe=>[...pe,Z.id]:pe=>pe.filter(Ne=>Ne!==Z.id))},onClick:re=>re.stopPropagation()}),a.jsx("div",{className:"flex-shrink-0 mt-1",children:k(Z.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-medium ${Z.is_read?"text-muted-foreground":"text-foreground"}`,children:Z.title}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Z.message})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[F(Z.priority),!Z.is_read&&a.jsx(Je,{variant:"destructive",className:"h-2 w-2 p-0 rounded-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:fr(new Date(Z.created_at),"MMM dd, yyyy • HH:mm")}),a.jsxs("div",{className:"flex items-center gap-2",children:[Z.action_url&&a.jsxs(we,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:re=>{re.stopPropagation(),V(Z)},children:[a.jsx(nB,{className:"h-3 w-3 mr-1"}),Z.action_label||"View"]}),a.jsx(we,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 hover:text-red-600",onClick:re=>{re.stopPropagation(),u(Z.id)},children:a.jsx(Av,{className:"h-3 w-3"})})]})]})]})]},Z.id))})})})]})]})},X1=()=>{const{user:e}=$t(),{conversations:t,activeConversation:n,messages:r,loading:s,fetchConversations:i,createConversation:o,sendMessage:u,setActiveConversation:m}=G6(),[f,g]=j.useState(""),[x,w]=j.useState(!1),[_,C]=j.useState({subject:"",initial_message:"",category:"general",priority:"normal"}),A=j.useRef(null);j.useEffect(()=>{var I;(I=A.current)==null||I.scrollIntoView({behavior:"smooth"})},[r]);const E=async()=>{if(!_.subject.trim()||!_.initial_message.trim()){_e.error("Please fill in all required fields");return}const I=await o(_);I&&(w(!1),C({subject:"",initial_message:"",category:"general",priority:"normal"}),setTimeout(()=>{const k=t.find(F=>F.id===I);k&&m(k)},1e3))},M=async()=>{!f.trim()||!n||(await u({conversation_id:n.id,content:f.trim(),message_type:"text"}),g(""))},D=I=>{switch(I){case"open":return"bg-blue-500";case"assigned":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},R=I=>{switch(I){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"normal":return"bg-blue-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},z=I=>Ph(new Date(I),{addSuffix:!0});return e?a.jsxs("div",{className:"flex h-[600px] gap-4",children:[a.jsxs("div",{className:"w-1/3 border-r",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Support Conversations"}),a.jsxs(Wr,{open:x,onOpenChange:w,children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{size:"sm",children:[a.jsx(Ss,{className:"h-4 w-4 mr-2"}),"New Chat"]})}),a.jsxs(Gr,{children:[a.jsx(Kr,{children:a.jsx(Xr,{children:"Start New Support Conversation"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"subject",children:"Subject *"}),a.jsx(dt,{id:"subject",placeholder:"Brief description of your issue",value:_.subject,onChange:I=>C(k=>({...k,subject:I.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"category",children:"Category"}),a.jsxs(kt,{value:_.category,onValueChange:I=>C(k=>({...k,category:I})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"general",children:"General Support"}),a.jsx(Ae,{value:"technical",children:"Technical Issue"}),a.jsx(Ae,{value:"billing",children:"Billing & Payments"}),a.jsx(Ae,{value:"account",children:"Account Management"}),a.jsx(Ae,{value:"refund",children:"Refund Request"}),a.jsx(Ae,{value:"feedback",children:"Feedback"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"priority",children:"Priority"}),a.jsxs(kt,{value:_.priority,onValueChange:I=>C(k=>({...k,priority:I})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"low",children:"Low"}),a.jsx(Ae,{value:"normal",children:"Normal"}),a.jsx(Ae,{value:"high",children:"High"}),a.jsx(Ae,{value:"urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"message",children:"Initial Message *"}),a.jsx(Es,{id:"message",placeholder:"Describe your issue in detail...",rows:4,value:_.initial_message,onChange:I=>C(k=>({...k,initial_message:I.target.value}))})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(we,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(we,{onClick:E,disabled:s,children:s?"Creating...":"Start Conversation"})]})]})]})]})]})}),a.jsx(kd,{className:"h-[calc(100%-120px)]",children:a.jsx("div",{className:"p-4 space-y-2",children:t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Th,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No conversations yet"}),a.jsx(we,{onClick:()=>w(!0),size:"sm",children:"Start your first conversation"})]}):t.map(I=>a.jsx(ue,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${(n==null?void 0:n.id)===I.id?"ring-2 ring-primary":""}`,onClick:()=>m(I),children:a.jsxs(fe,{className:"p-3",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate flex-1",children:I.subject}),I.unread_count&&I.unread_count>0&&a.jsx(Je,{variant:"destructive",className:"text-xs",children:I.unread_count})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Je,{variant:"outline",className:`text-xs ${D(I.status)}`,children:I.status}),a.jsx(Je,{variant:"outline",className:`text-xs ${R(I.priority)}`,children:I.priority}),I.category&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:I.category})]}),I.last_message&&a.jsx("p",{className:"text-xs text-muted-foreground truncate mb-1",children:I.last_message.content}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),z(I.updated_at)]})]})},I.id))})})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:n.subject}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Je,{variant:"outline",className:D(n.status),children:n.status}),a.jsx(Je,{variant:"outline",className:R(n.priority),children:n.priority}),n.category&&a.jsx(Je,{variant:"secondary",children:n.category})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ra,{className:"h-4 w-4"}),"Created ",z(n.created_at)]}),n.assigned_admin&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(ou,{className:"h-4 w-4"}),"Assigned to ",n.assigned_admin.full_name]})]})]})}),a.jsx(kd,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(I=>{var k,F,V,L,$;return a.jsx("div",{className:`flex ${I.sender_id===e.id?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${I.sender_id===e.id?"flex-row-reverse":"flex-row"}`,children:[a.jsxs(lp,{className:"h-8 w-8",children:[a.jsx(cp,{src:(k=I.sender)==null?void 0:k.avatar_url}),a.jsx(up,{children:((V=(F=I.sender)==null?void 0:F.full_name)==null?void 0:V.charAt(0))||"U"})]}),a.jsxs("div",{className:`rounded-lg p-3 ${I.sender_id===e.id?"bg-primary text-primary-foreground":"bg-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:((L=I.sender)==null?void 0:L.full_name)||"Unknown User"}),(($=I.sender)==null?void 0:$.role)==="admin"&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:"Support"})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:I.content}),a.jsx("p",{className:`text-xs mt-1 ${I.sender_id===e.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:z(I.created_at)})]})]})},I.id)}),a.jsx("div",{ref:A})]})}),a.jsx("div",{className:"p-4 border-t",children:n.status==="closed"?a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"This conversation has been closed"})}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dt,{placeholder:"Type your message...",value:f,onChange:I=>g(I.target.value),onKeyPress:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),M())},disabled:s}),a.jsx(we,{onClick:M,disabled:s||!f.trim(),children:a.jsx(Od,{className:"h-4 w-4"})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Th,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Choose a conversation from the sidebar to start chatting"}),a.jsxs(we,{onClick:()=>w(!0),children:[a.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Start New Conversation"]})]})})})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Please log in to access support chat"})})};function TAe(){return a.jsx(Wp,{userType:"passenger",children:a.jsxs(Kh,{children:[a.jsx(ht,{index:!0,element:a.jsx(efe,{})}),a.jsx(ht,{path:"wallet",element:a.jsx(sfe,{})}),a.jsx(ht,{path:"scanner",element:a.jsx(Kfe,{})}),a.jsx(ht,{path:"transactions",element:a.jsx(Qfe,{})}),a.jsx(ht,{path:"events",element:a.jsx(Zfe,{})}),a.jsx(ht,{path:"tickets",element:a.jsx(Jfe,{})}),a.jsx(ht,{path:"gifts",element:a.jsx(jAe,{})}),a.jsx(ht,{path:"analytics",element:a.jsx(yAe,{})}),a.jsx(ht,{path:"notifications",element:a.jsx(TH,{})}),a.jsx(ht,{path:"chat",element:a.jsx(X1,{})}),a.jsx(ht,{path:"profile",element:a.jsx(u0,{})}),a.jsx(ht,{path:"settings",element:a.jsx(d0,{})})]})})}var AT="Progress",CT=100,[OAe,QTe]=$s(AT),[MAe,DAe]=OAe(AT),OH=j.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=PAe,...o}=e;(s||s===0)&&!B8(s)&&console.error(RAe(`${s}`,"Progress"));const u=B8(s)?s:CT;r!==null&&!F8(r,u)&&console.error(kAe(`${r}`,"Progress"));const m=F8(r,u)?r:null,f=Cy(m)?i(m,u):void 0;return a.jsx(MAe,{scope:n,value:m,max:u,children:a.jsx(St.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Cy(m)?m:void 0,"aria-valuetext":f,role:"progressbar","data-state":PH(m,u),"data-value":m??void 0,"data-max":u,...o,ref:t})})});OH.displayName=AT;var MH="ProgressIndicator",DH=j.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=DAe(MH,n);return a.jsx(St.div,{"data-state":PH(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});DH.displayName=MH;function PAe(e,t){return`${Math.round(e/t*100)}%`}function PH(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Cy(e){return typeof e=="number"}function B8(e){return Cy(e)&&!isNaN(e)&&e>0}function F8(e,t){return Cy(e)&&!isNaN(e)&&e<=t&&e>=0}function RAe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CT}\`.`}function kAe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IAe=OH,LAe=DH;function Ad({className:e,value:t,...n}){return a.jsx(IAe,{"data-slot":"progress",className:_t("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:a.jsx(LAe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function BAe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTrips:0,dailyTrips:0,activeQRCodes:0,averageRating:0}),[i,o]=j.useState([]),[u,m]=j.useState("not_submitted"),[f,g]=j.useState(!0),[x,w]=j.useState(!1);j.useEffect(()=>{e&&Promise.all([_(),C(),A()]).finally(()=>g(!1))},[e]);const _=async()=>{if(e)try{const{data:I,error:k}=await $e.from("transactions").select("amount, created_at").eq("to_user_id",e.id).eq("type","transport_payment");if(k)throw k;const F=new Date,V=new Date(F.getFullYear(),F.getMonth(),F.getDate()),L=new Date(V.getTime()-10080*60*1e3),$=new Date(V.getTime()-720*60*60*1e3),W=I||[],Y=W.reduce((re,pe)=>re+pe.amount,0),Q=W.filter(re=>new Date(re.created_at)>=V).reduce((re,pe)=>re+pe.amount,0),X=W.filter(re=>new Date(re.created_at)>=L).reduce((re,pe)=>re+pe.amount,0),G=W.filter(re=>new Date(re.created_at)>=$).reduce((re,pe)=>re+pe.amount,0),H=W.length,J=W.filter(re=>new Date(re.created_at)>=V).length,{data:Z,error:de}=await $e.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(de)throw de;s({totalEarnings:Y,dailyEarnings:Q,weeklyEarnings:X,monthlyEarnings:G,totalTrips:H,dailyTrips:J,activeQRCodes:(Z==null?void 0:Z.length)||0,averageRating:4.5})}catch(I){console.error("Error fetching driver stats:",I)}},C=async()=>{if(e)try{const{data:I,error:k}=await $e.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1}).limit(5);if(k)throw k;const F=(I==null?void 0:I.map(V=>{var L;return{id:V.id,passenger_name:((L=V.profiles)==null?void 0:L.full_name)||t("unknown_passenger"),amount:V.amount,created_at:V.created_at,status:V.status,pickup_location:"Damascus",dropoff_location:"Aleppo"}}))||[];o(F)}catch(I){console.error("Error fetching recent trips:",I)}},A=async()=>{if(e)try{const{data:I,error:k}=await $e.from("driver_profiles").select("verification_status").eq("user_id",e.id).single();if(k){console.error("Error fetching verification status:",k);return}I&&m(I.verification_status||"not_submitted")}catch(I){console.error("Error:",I)}},E=I=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(I),M=I=>new Date(I).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=I=>{const k={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},F=k[I]||k.pending;return a.jsx(Je,{variant:F.variant,children:F.label})};if(f)return a.jsx(hs,{text:t("loading_dashboard")});const z=r.dailyEarnings/5e4*100;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("driver_dashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("driver_dashboard_description")})]}),u!=="approved"&&a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(us,{className:`border-l-4 ${u==="rejected"?"border-l-red-500 bg-red-50 dark:bg-red-950":u==="pending"?"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950":"border-l-blue-500 bg-blue-50 dark:bg-blue-950"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[u==="rejected"?a.jsx(Er,{className:"h-5 w-5 text-red-600"}):u==="pending"?a.jsx(Hn,{className:"h-5 w-5 text-yellow-600"}):a.jsx(cs,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium mb-1",children:[u==="rejected"&&t("driver.verification.status.rejected"),u==="pending"&&t("driver.verification.status.pending"),u==="not_submitted"&&t("driver.verification.title")]}),a.jsxs(ds,{className:"text-sm",children:[u==="rejected"&&t("driver.verification.rejectedMessage"),u==="pending"&&"Your verification is being reviewed. You will be notified once approved.",u==="not_submitted"&&"Complete your driver verification to start earning with passengers."]})]}),a.jsx(Qt,{to:"/driver/verification",children:a.jsx(we,{variant:u==="rejected"?"destructive":"default",size:"sm",children:u==="rejected"?"Resubmit":u==="pending"?"View Status":"Start Verification"})})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("daily_earnings")}),a.jsx(we,{variant:"ghost",size:"icon",onClick:()=>w(!x),className:"h-4 w-4",children:x?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:x?E(r.dailyEarnings):"••••••"}),a.jsxs("div",{className:"mt-2",children:[a.jsx(Ad,{value:z,className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(z),"% ",t("of_daily_goal")]})]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:x?E(r.totalEarnings):"••••••"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Xn,{className:"inline h-3 w-3 mr-1"}),t("weekly"),": ",x?E(r.weeklyEarnings):"••••••"]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("total_trips")}),a.jsx(ls,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTrips}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTrips," ",t("today")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("active_qr_codes")}),a.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.activeQRCodes}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["⭐ ",r.averageRating.toFixed(1)," ",t("rating")]})]})]})})]}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("quick_actions")}),a.jsx(st,{children:t("quick_actions_description")})]}),a.jsx(fe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(we,{asChild:!0,className:"h-20 flex flex-col",children:a.jsxs(Qt,{to:"/driver/qr-generator",children:[a.jsx(ir,{className:"h-6 w-6 mb-2"}),t("generate_qr_code")]})}),a.jsx(we,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Qt,{to:"/driver/trips",children:[a.jsx(ls,{className:"h-6 w-6 mb-2"}),t("view_trips")]})}),a.jsx(we,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Qt,{to:"/driver/earnings",children:[a.jsx(sr,{className:"h-6 w-6 mb-2"}),t("view_earnings")]})}),a.jsx(we,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Qt,{to:"/driver/analytics",children:[a.jsx(kp,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recent_trips")}),a.jsx(st,{children:t("recent_trips_description")})]}),a.jsx(fe,{children:i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ls,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_yet")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]}):a.jsxs("div",{className:"space-y-4",children:[i.map((I,k)=>a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*k},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(ba,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:I.passenger_name}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Zo,{className:"h-3 w-3 mr-1"}),I.pickup_location," → ",I.dropoff_location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),M(I.created_at)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:E(I.amount)}),D(I.status)]})]},I.id)),a.jsx(we,{asChild:!0,variant:"outline",className:"w-full",children:a.jsx(Qt,{to:"/driver/trips",children:t("view_all_trips")})})]})})]})})]})}function FAe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,yearlyEarnings:0,averagePerTrip:0,totalTrips:0,peakHours:[]}),[i,o]=j.useState([]),[u,m]=j.useState([]),[f,g]=j.useState(!0),[x,w]=j.useState({from:mF(new Date,-30),to:new Date}),[_,C]=j.useState("all"),[A,E]=j.useState("");j.useEffect(()=>{e&&M()},[e,x]),j.useEffect(()=>{R()},[i,_,A]);const M=async()=>{if(e)try{let L=$e.from("transactions").select(`
          id,
          amount,
          created_at,
          from_user_id,
          commission,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1});x!=null&&x.from&&(L=L.gte("created_at",x.from.toISOString())),x!=null&&x.to&&(L=L.lte("created_at",x.to.toISOString()));const{data:$,error:W}=await L;if(W)throw W;const Y=($==null?void 0:$.map(Q=>{var X;return{id:Q.id,amount:Q.amount,created_at:Q.created_at,passenger_name:((X=Q.profiles)==null?void 0:X.full_name)||t("unknown_passenger"),commission:Q.commission||0}}))||[];o(Y),D(Y)}catch(L){console.error("Error fetching earnings:",L),_e.error(t("error_fetch_earnings"))}finally{g(!1)}},D=L=>{if(L.length===0)return;const $=new Date,W=new Date($.getFullYear(),$.getMonth(),$.getDate()),Y=new Date(W.getTime()-10080*60*1e3),Q=new Date(W.getTime()-720*60*60*1e3),X=new Date(W.getTime()-365*24*60*60*1e3),G=L.reduce((Pe,se)=>Pe+se.amount,0),H=L.filter(Pe=>new Date(Pe.created_at)>=W).reduce((Pe,se)=>Pe+se.amount,0),J=L.filter(Pe=>new Date(Pe.created_at)>=Y).reduce((Pe,se)=>Pe+se.amount,0),Z=L.filter(Pe=>new Date(Pe.created_at)>=Q).reduce((Pe,se)=>Pe+se.amount,0),de=L.filter(Pe=>new Date(Pe.created_at)>=X).reduce((Pe,se)=>Pe+se.amount,0),re=L.length,pe=re>0?G/re:0,Ne=new Array(24).fill(0);L.forEach(Pe=>{const se=new Date(Pe.created_at).getHours();Ne[se]++});const Se=Math.max(...Ne),xe=Ne.map((Pe,se)=>({hour:se,count:Pe})).filter(Pe=>Pe.count===Se&&Pe.count>0).map(Pe=>`${Pe.hour}:00`);s({totalEarnings:G,dailyEarnings:H,weeklyEarnings:J,monthlyEarnings:Z,yearlyEarnings:de,averagePerTrip:pe,totalTrips:re,peakHours:xe})},R=()=>{let L=i;A&&(L=L.filter($=>$.passenger_name.toLowerCase().includes(A.toLowerCase())||$.id.toLowerCase().includes(A.toLowerCase()))),m(L)},z=()=>{const L=[["Date","Passenger","Amount","Commission","Net Earnings","Transaction ID"],...u.map(Q=>[fr(new Date(Q.created_at),"yyyy-MM-dd HH:mm"),Q.passenger_name,Q.amount.toString(),(Q.commission||0).toString(),(Q.amount-(Q.commission||0)).toString(),Q.id])].map(Q=>Q.join(",")).join(`
`),$=new Blob([L],{type:"text/csv"}),W=URL.createObjectURL($),Y=document.createElement("a");Y.href=W,Y.download=`earnings-${fr(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(W),_e.success(t("earnings_exported"))},I=L=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(L),k=L=>new Date(L).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(f)return a.jsx(hs,{text:t("loading_earnings")});const F=r.monthlyEarnings*.85,V=F>0?(r.monthlyEarnings-F)/F*100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("earnings")}),a.jsx("p",{className:"text-muted-foreground",children:t("earnings_description")})]}),a.jsxs(we,{onClick:z,variant:"outline",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),t("export")]})]}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("date_range")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dt,{type:"date",value:x!=null&&x.from?fr(x.from,"yyyy-MM-dd"):"",onChange:L=>w($=>({from:L.target.value?new Date(L.target.value):void 0,to:$==null?void 0:$.to}))}),a.jsx(dt,{type:"date",value:x!=null&&x.to?fr(x.to,"yyyy-MM-dd"):"",onChange:L=>w($=>({from:$==null?void 0:$.from,to:L.target.value?new Date(L.target.value):void 0}))})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"w-48",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("search")}),a.jsx(dt,{placeholder:t("search_transactions"),value:A,onChange:L=>E(L.target.value)})]})})]})})}),a.jsxs(pi,{defaultValue:"overview",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-3",children:[a.jsx(At,{value:"overview",children:t("overview")}),a.jsx(At,{value:"details",children:t("details")}),a.jsx(At,{value:"analytics",children:t("analytics")})]}),a.jsx(Ot,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:I(r.totalEarnings)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.totalTrips," ",t("trips_completed")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("monthly_earnings")}),V>=0?a.jsx(Xn,{className:"h-4 w-4 text-green-600"}):a.jsx(ql,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:I(r.monthlyEarnings)}),a.jsxs("p",{className:`text-xs ${V>=0?"text-green-600":"text-red-600"}`,children:[V>=0?"+":"",V.toFixed(1),"% ",t("from_last_month")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("average_per_trip")}),a.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:I(r.averagePerTrip)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[t("daily"),": ",I(r.dailyEarnings)]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("peak_hours")}),a.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.peakHours.length>0?r.peakHours[0]:"--:--"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r.peakHours.length>1&&`+${r.peakHours.length-1} ${t("more")}`})]})]})})]})}),a.jsx(Ot,{value:"details",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recent_earnings")}),a.jsxs(st,{children:[t("showing")," ",u.length," ",t("transactions")]})]}),a.jsx(fe,{children:u.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_earnings_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_earnings_description")})]}):a.jsx("div",{className:"space-y-4",children:u.map((L,$)=>a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*$},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(sr,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:L.passenger_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:k(L.created_at)}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[L.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",I(L.amount)]}),L.commission&&L.commission>0&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("commission"),": -",I(L.commission)]}),a.jsx(Je,{variant:"outline",className:"mt-1",children:t("trip_payment")})]})]},L.id))})})]})}),a.jsx(Ot,{value:"analytics",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:t("earnings_breakdown")})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("daily_average")}),a.jsx("span",{className:"font-medium",children:I(r.dailyEarnings)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("weekly_average")}),a.jsx("span",{className:"font-medium",children:I(r.weeklyEarnings/7)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("monthly_average")}),a.jsx("span",{className:"font-medium",children:I(r.monthlyEarnings/30)})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[a.jsx("span",{className:"font-medium",children:t("total_net_earnings")}),a.jsx("span",{className:"font-bold text-lg",children:I(r.totalEarnings)})]})]})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:t("performance_metrics")})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("total_trips")}),a.jsx("span",{className:"font-medium",children:r.totalTrips})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("average_per_trip")}),a.jsx("span",{className:"font-medium",children:I(r.averagePerTrip)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("peak_hours")}),a.jsx("span",{className:"font-medium",children:r.peakHours.length>0?r.peakHours.join(", "):t("no_data")})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[a.jsx("span",{className:"font-medium",children:t("efficiency_rating")}),a.jsxs(Je,{variant:"outline",children:["⭐ ",t("excellent")]})]})]})]})]})})]})]})}function UAe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState([]),[u,m]=j.useState(!0),[f,g]=j.useState(""),[x,w]=j.useState("all"),[_,C]=j.useState(null);j.useEffect(()=>{e&&A()},[e]),j.useEffect(()=>{E()},[r,f,x]);const A=async()=>{if(e)try{const{data:Y,error:Q}=await $e.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("transaction_type","payment").not("qr_code_id","is",null).order("created_at",{ascending:!1});if(Q)throw Q;const X=(Y==null?void 0:Y.map(G=>{var J;const H=G.metadata||{};return{id:G.id,passenger_name:((J=G.profiles)==null?void 0:J.full_name)||t("unknown_passenger"),passenger_id:G.from_user_id,amount:G.amount,created_at:G.created_at,status:G.status,pickup_location:H.pickup_location||"Damascus City Center",dropoff_location:H.dropoff_location||"Damascus Airport",distance:H.distance||Math.floor(Math.random()*20)+5,duration:H.duration||Math.floor(Math.random()*45)+15,rating:H.rating||Math.floor(Math.random()*2)+4,notes:H.notes}}))||[];s(X)}catch(Y){console.error("Error fetching trips:",Y),_e.error(t("error_fetch_trips"))}finally{m(!1)}},E=()=>{let Y=r.filter(Q=>{const X=Q.passenger_name.toLowerCase().includes(f.toLowerCase())||(Q.pickup_location||"").toLowerCase().includes(f.toLowerCase())||(Q.dropoff_location||"").toLowerCase().includes(f.toLowerCase())||Q.id.toLowerCase().includes(f.toLowerCase()),G=x==="all"||Q.status===x;return X&&G});o(Y)},M=Y=>{const Q={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")},in_progress:{variant:"secondary",label:t("in_progress")}},X=Q[Y]||Q.pending;return a.jsx(Je,{variant:X.variant,children:X.label})},D=Y=>"⭐".repeat(Math.floor(Y))+(Y%1>=.5?"⭐":""),R=Y=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(Y),z=Y=>new Date(Y).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=Y=>{const Q=Math.floor(Y/60),X=Y%60;return Q>0?`${Q}h ${X}m`:`${X}m`},k=Y=>i.filter(Q=>Q.status===Y);if(u)return a.jsx(hs,{text:t("loading_trips")});const F=k("completed"),V=k("pending"),L=k("cancelled"),$=k("in_progress");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("trips")}),a.jsx("p",{className:"text-muted-foreground",children:t("trips_description")})]}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(dt,{placeholder:t("search_trips"),value:f,onChange:Y=>g(Y.target.value),className:"pl-10"})]})}),a.jsxs(kt,{value:x,onValueChange:w,children:[a.jsxs(It,{className:"w-[150px]",children:[a.jsx(nm,{className:"h-4 w-4 mr-2"}),a.jsx(Bt,{})]}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("all_statuses")}),a.jsx(Ae,{value:"completed",children:t("completed")}),a.jsx(Ae,{value:"pending",children:t("pending")}),a.jsx(Ae,{value:"in_progress",children:t("in_progress")}),a.jsx(Ae,{value:"cancelled",children:t("cancelled")})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("completed")}),a.jsx("p",{className:"text-2xl font-bold",children:F.length})]}),a.jsx(ls,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("pending")}),a.jsx("p",{className:"text-2xl font-bold",children:V.length})]}),a.jsx(Hn,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("in_progress")}),a.jsx("p",{className:"text-2xl font-bold",children:$.length})]}),a.jsx(BD,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("cancelled")}),a.jsx("p",{className:"text-2xl font-bold",children:L.length})]}),a.jsx(ls,{className:"h-8 w-8 text-red-600"})]})})})]}),a.jsxs(pi,{defaultValue:"all",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-5",children:[a.jsxs(At,{value:"all",children:[t("all")," (",i.length,")"]}),a.jsxs(At,{value:"completed",children:[t("completed")," (",F.length,")"]}),a.jsxs(At,{value:"pending",children:[t("pending")," (",V.length,")"]}),a.jsxs(At,{value:"in_progress",children:[t("in_progress")," (",$.length,")"]}),a.jsxs(At,{value:"cancelled",children:[t("cancelled")," (",L.length,")"]})]}),a.jsx(Ot,{value:"all",className:"space-y-4",children:a.jsx(W,{trips:i})}),a.jsx(Ot,{value:"completed",className:"space-y-4",children:a.jsx(W,{trips:F})}),a.jsx(Ot,{value:"pending",className:"space-y-4",children:a.jsx(W,{trips:V})}),a.jsx(Ot,{value:"in_progress",className:"space-y-4",children:a.jsx(W,{trips:$})}),a.jsx(Ot,{value:"cancelled",className:"space-y-4",children:a.jsx(W,{trips:L})})]})]});function W({trips:Y}){return Y.length===0?a.jsx(ue,{children:a.jsxs(fe,{className:"text-center py-12",children:[a.jsx(ls,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]})}):a.jsx("div",{className:"space-y-4",children:Y.map((Q,X)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},children:a.jsx(ue,{className:"hover:shadow-lg transition-shadow",children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(ba,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:Q.passenger_name}),M(Q.status)]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("pickup")}),a.jsx("p",{children:Q.pickup_location})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(BD,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("dropoff")}),a.jsx("p",{children:Q.dropoff_location})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("date_time")}),a.jsx("p",{children:z(Q.created_at)})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("span",{children:[a.jsxs("strong",{children:[t("distance"),":"]})," ",Q.distance,"km"]}),a.jsxs("span",{children:[a.jsxs("strong",{children:[t("duration"),":"]})," ",I(Q.duration||0)]}),Q.rating&&a.jsxs("span",{children:[a.jsxs("strong",{children:[t("rating"),":"]})," ",D(Q.rating)]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(Q.amount)})})]})]})]}),a.jsxs(Wr,{children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>C(Q),children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),t("details")]})}),a.jsxs(Gr,{className:"max-w-2xl",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:t("trip_details")}),a.jsxs(ka,{children:[t("trip_id"),": ",Q.id]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("passenger_info")}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("name"),":"]})," ",Q.passenger_name]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("rating"),":"]})," ",Q.rating?D(Q.rating):t("no_rating")]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("trip_info")}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("date"),":"]})," ",z(Q.created_at)]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("status"),":"]})," ",M(Q.status)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("route_details")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-600",children:t("pickup_location")}),a.jsx("p",{children:Q.pickup_location})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-600",children:t("dropoff_location")}),a.jsx("p",{children:Q.dropoff_location})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("trip_metrics")}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("distance")}),a.jsxs("p",{className:"text-lg font-bold",children:[Q.distance,"km"]})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("duration")}),a.jsx("p",{className:"text-lg font-bold",children:I(Q.duration||0)})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("earnings")}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:R(Q.amount)})]})]})]}),Q.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("notes")}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:Q.notes})]})]})]})]})]})})})},Q.id))})}}function zAe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState(!0),[u,m]=j.useState(!1),[f,g]=j.useState({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""});j.useEffect(()=>{e&&x()},[e]);const x=async()=>{if(e)try{const{data:k,error:F}=await $e.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(F)throw F;const V=(k==null?void 0:k.map(L=>{var $,W;return{...L,usage_count:((W=($=L.usage_count)==null?void 0:$[0])==null?void 0:W.count)||0}}))||[];s(V)}catch(k){console.error("Error fetching QR codes:",k),_e.error(t("error_fetch_qr_codes"))}finally{o(!1)}},w=async()=>{if(!e||!f.amount){_e.error(t("please_fill_required_fields"));return}m(!0);try{const k=parseFloat(f.amount);if(k<=0){_e.error(t("invalid_amount"));return}const F={type:"transport_payment",driver_id:e.id,amount:k,pickup_location:f.pickup_location||null,dropoff_location:f.dropoff_location||null,timestamp:Date.now()},{data:V,error:L}=await $e.from("qr_codes").insert({driver_id:e.id,qr_data:JSON.stringify(F),is_active:!0,expires_at:f.expires_at||null,route_info:`${f.pickup_location} → ${f.dropoff_location}`,vehicle_info:f.description||null}).select().single();if(L)throw L;_e.success(t("qr_code_generated_successfully")),g({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""}),x()}catch(k){console.error("Error generating QR code:",k),_e.error(t("error_generate_qr_code"))}finally{m(!1)}},_=async(k,F)=>{try{const{error:V}=await $e.from("qr_codes").update({is_active:!F}).eq("id",k).eq("driver_id",e==null?void 0:e.id);if(V)throw V;_e.success(t(F?"qr_code_deactivated":"qr_code_activated")),x()}catch(V){console.error("Error toggling QR code status:",V),_e.error(t("error_toggle_qr_status"))}},C=k=>{const F=k.qr_data;navigator.clipboard.writeText(F),_e.success(t("qr_data_copied"))},A=k=>{const F=k.qr_data,V=new Blob([F],{type:"application/json"}),L=URL.createObjectURL(V),$=document.createElement("a");$.href=L,$.download=`qr-code-${k.id}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(L),_e.success(t("qr_code_downloaded"))},E=k=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(k),M=k=>new Date(k).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=k=>k?new Date(k)<new Date:!1,R=k=>D(k.expires_at)?a.jsx(Je,{variant:"destructive",children:t("expired")}):k.is_active?a.jsx(Je,{variant:"default",children:t("active")}):a.jsx(Je,{variant:"outline",children:t("inactive")});if(i)return a.jsx(hs,{text:t("loading_qr_codes")});const z=r.filter(k=>k.is_active&&!D(k.expires_at)),I=r.filter(k=>!k.is_active||D(k.expires_at));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("qr_code_generator")}),a.jsx("p",{className:"text-muted-foreground",children:t("qr_generator_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),a.jsx("p",{className:"text-2xl font-bold",children:z.length})]}),a.jsx(ir,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_usage")}),a.jsx("p",{className:"text-2xl font-bold",children:r.reduce((k,F)=>k+F.usage_count,0)})]}),a.jsx(Wn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),a.jsx("p",{className:"text-2xl font-bold",children:E(r.reduce((k,F)=>k+15e3*F.usage_count,0))})]}),a.jsx(sr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("generate_new_qr_code")}),a.jsx(st,{children:t("create_qr_description")})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(ze,{htmlFor:"amount",children:[t("amount")," *"]}),a.jsx(dt,{id:"amount",type:"number",placeholder:"0",value:f.amount,onChange:k=>g(F=>({...F,amount:k.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"expires_at",children:t("expires_at")}),a.jsx(dt,{id:"expires_at",type:"datetime-local",value:f.expires_at,onChange:k=>g(F=>({...F,expires_at:k.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"pickup_location",children:t("pickup_location")}),a.jsx(dt,{id:"pickup_location",placeholder:t("pickup_location_placeholder"),value:f.pickup_location,onChange:k=>g(F=>({...F,pickup_location:k.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"dropoff_location",children:t("dropoff_location")}),a.jsx(dt,{id:"dropoff_location",placeholder:t("dropoff_location_placeholder"),value:f.dropoff_location,onChange:k=>g(F=>({...F,dropoff_location:k.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"description",children:t("description")}),a.jsx(Es,{id:"description",placeholder:t("qr_description_placeholder"),value:f.description,onChange:k=>g(F=>({...F,description:k.target.value}))})]}),a.jsx(we,{onClick:w,disabled:u,className:"w-full",children:u?a.jsx(hs,{text:t("generating")}):a.jsxs(a.Fragment,{children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:[t("active_qr_codes")," (",z.length,")"]}),a.jsx(st,{children:t("manage_active_qr_codes")})]}),a.jsx(fe,{children:z.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ir,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("generate_first_qr_code")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map((k,F)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},children:a.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Te,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:E(k.amount||0)}),R(k)]}),k.description&&a.jsx(st,{children:k.description})]}),a.jsxs(fe,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[k.route_info&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:k.route_info})]}),k.vehicle_info&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2 text-gray-600"}),a.jsx("span",{children:k.vehicle_info})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:M(k.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wn,{className:"h-4 w-4 mr-2 text-purple-600"}),a.jsxs("span",{children:[k.usage_count," ",t("times_used")]})]}),k.expires_at&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-orange-600"}),a.jsxs("span",{children:[t("expires"),": ",M(k.expires_at)]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>C(k),className:"flex-1",children:[a.jsx(By,{className:"h-4 w-4 mr-1"}),t("copy")]}),a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>A(k),className:"flex-1",children:[a.jsx(As,{className:"h-4 w-4 mr-1"}),t("download")]})]}),a.jsx(we,{variant:k.is_active?"destructive":"default",size:"sm",onClick:()=>_(k.id,k.is_active),className:"w-full",children:k.is_active?a.jsxs(a.Fragment,{children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},k.id))})})]}),I.length>0&&a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:[t("inactive_expired_qr_codes")," (",I.length,")"]}),a.jsx(st,{children:t("manage_inactive_qr_codes")})]}),a.jsx(fe,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map((k,F)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},children:a.jsxs(ue,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[a.jsxs(Te,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:E(k.amount||0)}),R(k)]}),k.description&&a.jsx(st,{children:k.description})]}),a.jsxs(fe,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:M(k.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[k.usage_count," ",t("times_used")]})]})]}),!D(k.expires_at)&&a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>_(k.id,k.is_active),className:"w-full",children:[a.jsx(Td,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},k.id))})})]})]})}const VAe={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},$Ae=(e,t,n)=>{const r=VAe[e];let s;return typeof r=="string"?s=r:t===1?s=r.one:t===2?s=r.two:t<=10?s=r.threeToTen.replace("{{count}}",String(t)):s=r.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"خلال "+s:"منذ "+s:s},HAe={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},qAe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},YAe={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WAe={date:bh({formats:HAe,defaultWidth:"full"}),time:bh({formats:qAe,defaultWidth:"full"}),dateTime:bh({formats:YAe,defaultWidth:"full"})},GAe={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},KAe=e=>GAe[e],XAe={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},QAe={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},ZAe={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},JAe={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},eCe={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},tCe={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},nCe=e=>String(e),rCe={ordinalNumber:nCe,era:Uo({values:XAe,defaultWidth:"wide"}),quarter:Uo({values:QAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Uo({values:ZAe,defaultWidth:"wide"}),day:Uo({values:JAe,defaultWidth:"wide"}),dayPeriod:Uo({values:eCe,defaultWidth:"wide",formattingValues:tCe,defaultFormattingWidth:"wide"})},aCe=/^(\d+)(th|st|nd|rd)?/i,sCe=/\d+/i,iCe={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},oCe={any:[/قبل/,/بعد/]},lCe={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},cCe={any:[/1/i,/2/i,/3/i,/4/i]},uCe={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},dCe={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},fCe={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},hCe={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},mCe={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},gCe={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},pCe={ordinalNumber:bF({matchPattern:aCe,parsePattern:sCe,valueCallback:e=>parseInt(e,10)}),era:zo({matchPatterns:iCe,defaultMatchWidth:"wide",parsePatterns:oCe,defaultParseWidth:"any"}),quarter:zo({matchPatterns:lCe,defaultMatchWidth:"wide",parsePatterns:cCe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zo({matchPatterns:uCe,defaultMatchWidth:"wide",parsePatterns:dCe,defaultParseWidth:"any"}),day:zo({matchPatterns:fCe,defaultMatchWidth:"wide",parsePatterns:hCe,defaultParseWidth:"any"}),dayPeriod:zo({matchPatterns:mCe,defaultMatchWidth:"any",parsePatterns:gCe,defaultParseWidth:"any"})},Ap={code:"ar",formatDistance:$Ae,formatLong:WAe,formatRelative:KAe,localize:rCe,match:pCe,options:{weekStartsOn:6,firstWeekContainsDate:1}},xCe=()=>{const{user:e}=$t(),{language:t,t:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState([]),[u,m]=j.useState(!0),[f,g]=j.useState("30"),[x,w]=j.useState("line");j.useEffect(()=>{e&&_()},[e,f]);const _=async()=>{if(e){m(!0);try{const I=Vo(new Date,parseInt(f)),{data:k,error:F}=await $e.from("transactions").select(`
          *,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").gte("created_at",I.toISOString()).order("created_at",{ascending:!0});if(F)throw F;const{data:V,error:L}=await $e.from("qr_codes").select("*").eq("driver_id",e.id).gte("created_at",I.toISOString()).order("created_at",{ascending:!0});if(L)throw L;s(k||[]),o(V||[])}catch(I){console.error("Error fetching analytics data:",I)}finally{m(!1)}}},C=()=>{const I=r.filter(ce=>ce.status==="completed"),k=I.reduce((ce,oe)=>ce+oe.amount,0),F=15,V=30,L=I.length*F,$=I.length*V,W=4.5,Q=I.filter(ce=>Vv(sa(ce.created_at))).reduce((ce,oe)=>ce+oe.amount,0),X=I.length>0?k/I.length:0,G=F,H=V,J=L>0?k/L:0,Z=$>0?k/($/60):0,de=r.length>0?r.filter(ce=>ce.status==="cancelled").length/r.length*100:0,re=Math.floor(parseInt(f)/2),pe=Vo(new Date,re),Ne=I.filter(ce=>sa(ce.created_at)>=pe),Se=I.filter(ce=>sa(ce.created_at)<pe),xe=Ne.reduce((ce,oe)=>ce+oe.amount,0),Pe=Se.reduce((ce,oe)=>ce+oe.amount,0),se=Pe>0?(xe-Pe)/Pe*100:0;return{totalTrips:I.length,totalEarnings:k,avgRating:W,todayEarnings:Q,avgTripFare:X,avgTripDistance:G,avgTripDuration:H,earningsPerKm:J,earningsPerHour:Z,cancellationRate:de,earningsGrowth:se,totalDistance:L,totalDuration:$}},A=()=>{const I=new Map;return r.filter(k=>k.status==="completed").forEach(k=>{const F=fr(sa(k.created_at),"yyyy-MM-dd");I.set(F,(I.get(F)||0)+k.amount)}),Array.from(I.entries()).map(([k,F])=>({date:fr(sa(k),"MMM dd",{locale:t==="ar"?Ap:void 0}),earnings:F,trips:r.filter(V=>fr(sa(V.created_at),"yyyy-MM-dd")===k&&V.status==="completed").length})).sort((k,F)=>k.date.localeCompare(F.date))},E=()=>{const I=new Map;for(let k=0;k<24;k++)I.set(k,{trips:0,earnings:0});return r.filter(k=>k.status==="completed").forEach(k=>{const F=sa(k.created_at).getHours(),V=I.get(F)||{trips:0,earnings:0};I.set(F,{trips:V.trips+1,earnings:V.earnings+k.amount})}),Array.from(I.entries()).map(([k,F])=>({hour:`${k.toString().padStart(2,"0")}:00`,trips:F.trips,earnings:F.earnings,avgFare:F.trips>0?F.earnings/F.trips:0}))},M=()=>{const I=[],k=new Date;for(let F=5;F>=0;F--){const V=new Date(k.getFullYear(),k.getMonth()-F,1),L=NA(V),$=i1(V),W=r.filter(Y=>{const Q=sa(Y.created_at);return Q>=L&&Q<=$&&Y.status==="completed"});I.push({month:fr(V,"MMM yyyy",{locale:t==="ar"?Ap:void 0}),trips:W.length,earnings:W.reduce((Y,Q)=>Y+Q.amount,0),avgRating:4.5})}return I},D=()=>[{location:"Damascus City Center",trips:Math.floor(Math.random()*50)+10,earnings:Math.floor(Math.random()*5e5)+1e5},{location:"Aleppo",trips:Math.floor(Math.random()*40)+8,earnings:Math.floor(Math.random()*4e5)+8e4},{location:"Lattakia",trips:Math.floor(Math.random()*30)+5,earnings:Math.floor(Math.random()*3e5)+6e4},{location:"Homs",trips:Math.floor(Math.random()*25)+5,earnings:Math.floor(Math.random()*25e4)+5e4},{location:"Daraa",trips:Math.floor(Math.random()*20)+3,earnings:Math.floor(Math.random()*2e5)+4e4}].map(k=>({...k,avgFare:k.earnings/k.trips,avgRating:4+Math.random()*1})).sort((k,F)=>F.earnings-k.earnings),R=()=>{const I=C(),k={metadata:{exportDate:new Date().toISOString(),dateRange:`${f} days`,driverId:e==null?void 0:e.id,generatedBy:"Tickets Driver Analytics"},kpis:I,earningsTrend:A(),hourlyPerformance:E(),monthlyComparison:M(),locationPerformance:D(),rawData:{transactions:r.length,qrCodes:i.length}},F=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),V=URL.createObjectURL(F),L=document.createElement("a");L.href=V,L.download=`driver-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,L.click(),URL.revokeObjectURL(V)},z=C();return u?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n("driver.analytics")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n("Track your earnings, performance, and business insights")})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:f,onChange:I=>g(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:n("Last 7 days")}),a.jsx("option",{value:"30",children:n("Last 30 days")}),a.jsx("option",{value:"90",children:n("Last 90 days")}),a.jsx("option",{value:"365",children:n("Last year")})]}),a.jsxs(we,{onClick:R,variant:"outline",size:"sm",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),n("export")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:n("driver.totalEarnings")}),a.jsx(sr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(fe,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[z.totalEarnings.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[z.earningsGrowth>0?a.jsx(Xn,{className:"h-3 w-3 text-green-600 mr-1"}):a.jsx(ql,{className:"h-3 w-3 text-red-600 mr-1"}),a.jsxs("span",{className:z.earningsGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(z.earningsGrowth).toFixed(1),"% vs last period"]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:n("totalTrips")}),a.jsx(ls,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:z.totalTrips}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Avg fare: ",z.avgTripFare.toLocaleString()," SYP"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:n("averageRating")}),a.jsx(sp,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:z.avgRating.toFixed(1)}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Cancellation rate: ",z.cancellationRate.toFixed(1),"%"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:n("driver.earningsPerHour")}),a.jsx(Hn,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:z.earningsPerHour.toLocaleString()}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Per km: ",z.earningsPerKm.toLocaleString()," SYP"]})]})]})]}),a.jsxs(pi,{defaultValue:"earnings",className:"space-y-4",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(At,{value:"earnings",children:n("earnings")}),a.jsx(At,{value:"performance",children:n("driver.performance")}),a.jsx(At,{value:"monthly",children:n("monthly")}),a.jsx(At,{value:"hourly",children:n("hourly")}),a.jsx(At,{value:"locations",children:n("locations")}),a.jsx(At,{value:"efficiency",children:n("driver.efficiency")})]}),a.jsx(Ot,{value:"earnings",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:n("driver.earningsTrend")}),a.jsx(st,{children:n("Daily earnings and trip volume over time")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{variant:x==="line"?"default":"outline",size:"sm",onClick:()=>w("line"),children:n("Line")}),a.jsx(we,{variant:x==="area"?"default":"outline",size:"sm",onClick:()=>w("area"),children:n("Area")}),a.jsx(we,{variant:x==="bar"?"default":"outline",size:"sm",onClick:()=>w("bar"),children:n("Bar")})]})]}),a.jsx(fe,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(ws,{width:"100%",height:"100%",children:x==="line"?a.jsxs(Ep,{data:A(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(I,k)=>[`${I} ${k==="earnings"?"SYP":""}`,k==="earnings"?"Earnings":"Trips"]}),a.jsx(Ma,{}),a.jsx(Bi,{type:"monotone",dataKey:"earnings",stroke:"#8884d8",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"trips",stroke:"#82ca9d",strokeWidth:2})]}):x==="area"?a.jsxs(G1,{data:A(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(I,k)=>[`${I} ${k==="earnings"?"SYP":""}`,k==="earnings"?"Earnings":"Trips"]}),a.jsx(Ma,{}),a.jsx(zd,{type:"monotone",dataKey:"earnings",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Qo,{data:A(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(I,k)=>[`${I} ${k==="earnings"?"SYP":""}`,k==="earnings"?"Earnings":"Trips"]}),a.jsx(Ma,{}),a.jsx(Hr,{dataKey:"earnings",fill:"#8884d8"}),a.jsx(Hr,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"performance",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:n("driver.performanceMetrics")})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Distance"}),a.jsxs("span",{className:"font-semibold",children:[z.avgTripDistance.toFixed(1)," km"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Duration"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(z.avgTripDuration/60)," min"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Distance"}),a.jsxs("span",{className:"font-semibold",children:[z.totalDistance.toLocaleString()," km"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Duration"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(z.totalDuration/3600)," hrs"]})]})]}),z.cancellationRate>10&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[a.jsx(Er,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"High cancellation rate detected"})]})]})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:n("driver.ratingDistribution")})}),a.jsx(fe,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ws,{width:"100%",height:"100%",children:a.jsxs(Ay,{children:[a.jsx(Vh,{data:[{name:"5 Stars",value:Math.floor(r.length*.6),fill:"#10B981"},{name:"4 Stars",value:Math.floor(r.length*.3),fill:"#84CC16"},{name:"3 Stars",value:Math.floor(r.length*.08),fill:"#F59E0B"},{name:"2 Stars",value:Math.floor(r.length*.02),fill:"#F97316"},{name:"1 Star",value:Math.floor(r.length*.01),fill:"#EF4444"}].filter(I=>I.value>0),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:I,percent:k})=>`${I}: ${((k||0)*100).toFixed(0)}%`,children:[{name:"5 Stars",value:Math.floor(r.length*.6),fill:"#10B981"},{name:"4 Stars",value:Math.floor(r.length*.3),fill:"#84CC16"},{name:"3 Stars",value:Math.floor(r.length*.08),fill:"#F59E0B"},{name:"2 Stars",value:Math.floor(r.length*.02),fill:"#F97316"},{name:"1 Star",value:Math.floor(r.length*.01),fill:"#EF4444"}].filter(I=>I.value>0).map((I,k)=>a.jsx(pu,{fill:I.fill},`cell-${k}`))}),a.jsx(Nr,{})]})})})})]})]})}),a.jsx(Ot,{value:"monthly",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:n("driver.monthlyComparison")}),a.jsx(st,{children:n("Compare performance across different months")})]}),a.jsx(fe,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(ws,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:M(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"month"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(I,k)=>[k==="earnings"?`${I} SYP`:k==="avgRating"?`${I}/5`:I,k==="earnings"?"Earnings":k==="trips"?"Trips":"Avg Rating"]}),a.jsx(Ma,{}),a.jsx(Hr,{dataKey:"earnings",fill:"#8884d8"}),a.jsx(Hr,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"hourly",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:n("driver.hourlyPerformance")}),a.jsx(st,{children:n("Analyze your busiest hours and earnings patterns")})]}),a.jsx(fe,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(ws,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:E(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"hour"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(I,k)=>[k==="earnings"||k==="avgFare"?`${I} SYP`:I,k==="earnings"?"Earnings":k==="trips"?"Trips":"Avg Fare"]}),a.jsx(Ma,{}),a.jsx(Hr,{dataKey:"trips",fill:"#82ca9d"}),a.jsx(Hr,{dataKey:"earnings",fill:"#8884d8"})]})})})})]})}),a.jsx(Ot,{value:"locations",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:n("driver.locationPerformance")}),a.jsx(st,{children:n("Areas with highest earnings and trip frequency")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:D().map((I,k)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Je,{variant:"outline",className:"text-sm",children:["#",k+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:I.location}),a.jsxs("p",{className:"text-sm text-gray-600",children:[I.trips," trips •",I.avgRating.toFixed(1)," ⭐"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[I.earnings.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[I.avgFare.toLocaleString()," SYP/trip"]})]})]},I.location))})})]})}),a.jsx(Ot,{value:"efficiency",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:n("driver.efficiency")})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Earnings per KM"}),a.jsxs("span",{className:"font-bold text-green-600",children:[z.earningsPerKm.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Earnings per Hour"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[z.earningsPerHour.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Average Trip Fare"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[z.avgTripFare.toLocaleString()," SYP"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[z.avgRating<4.5&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(rm,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on improving customer service to boost ratings"})]}),z.cancellationRate>10&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Er,{className:"h-4 w-4"}),a.jsx("span",{children:"Work on reducing trip cancellations"})]}),z.earningsPerHour<500&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Consider working during peak hours for better earnings"})]})]})]})]})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:n("driver.todaySnapshot")})}),a.jsx(fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z.todayEarnings.toLocaleString()}),a.jsx("p",{className:"text-purple-100",children:"Today's Earnings"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:r.filter(I=>Vv(sa(I.created_at))&&I.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Today's Trips"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:z.avgRating.toFixed(1)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Rating"})]})]})]})})]})]})})]})]})},vN=[{type:"license_front",label:"Driver License (Front)",icon:Pa},{type:"license_back",label:"Driver License (Back)",icon:Pa},{type:"vehicle_registration",label:"Vehicle Registration",icon:Fy},{type:"vehicle_photo",label:"Vehicle Photo",icon:ls}],vCe=["bus","microbus","taxi","private_car","motorcycle","truck"];function yCe(){const{user:e}=$t(),{t,language:n}=Ut(),[r,s]=j.useState(!1),[i,o]=j.useState(!1),[u,m]=j.useState({license_number:"",license_expiry:"",vehicle_type:"",vehicle_model:"",vehicle_plate:"",route_name:"",route_description:"",verification_status:"not_submitted"}),[f,g]=j.useState(vN.map(I=>({type:I.type,file:null,uploaded:!1}))),[x,w]=j.useState({});j.useEffect(()=>{_()},[e]);const _=async()=>{if(e){s(!0);try{const{data:I,error:k}=await $e.from("driver_profiles").select("*").eq("user_id",e.id).single();if(k){console.error("Error fetching driver profile:",k);return}if(I&&(m({license_number:I.license_number||"",license_expiry:I.license_expiry||"",vehicle_type:I.vehicle_type||"",vehicle_model:I.vehicle_model||"",vehicle_plate:I.vehicle_plate||"",route_name:I.route_name||"",route_description:I.route_description||"",verification_status:I.verification_status,verification_documents:I.verification_documents}),I.verification_documents)){const F=f.map(V=>{var L,$,W,Y;return{...V,url:($=(L=I.verification_documents)==null?void 0:L[V.type])==null?void 0:$.url,uploaded:!!((Y=(W=I.verification_documents)==null?void 0:W[V.type])!=null&&Y.url)}});g(F)}}catch(I){console.error("Error:",I),_e.error(t("common.error"))}finally{s(!1)}}},C=async(I,k)=>{try{w(Y=>({...Y,[I]:0}));const F=k.name.split(".").pop(),V=`${e==null?void 0:e.id}/${I}_${Date.now()}.${F}`,{data:L,error:$}=await $e.storage.from("verification-docs").upload(V,k,{cacheControl:"3600",upsert:!1});if($)throw console.error("Upload error:",$),$;w(Y=>({...Y,[I]:100}));const{data:W}=$e.storage.from("verification-docs").getPublicUrl(V);return W.publicUrl}catch(F){return console.error("Error uploading document:",F),w(V=>({...V,[I]:0})),null}},A=async(I,k)=>{if(!k)return;if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(k.type)){_e.error(t("driver.verification.invalidFileType"));return}if(k.size>5*1024*1024){_e.error(t("driver.verification.fileTooLarge"));return}const V=await C(I,k);V?(g(L=>L.map($=>$.type===I?{...$,file:k,url:V,uploaded:!0}:$)),_e.success(t("driver.verification.documentUploaded"))):_e.error(t("driver.verification.uploadFailed"))},E=async()=>{if(!u.license_number||!u.license_expiry||!u.vehicle_type||!u.vehicle_model||!u.vehicle_plate){_e.error(t("driver.verification.fillRequired"));return}if(!f.every(k=>k.uploaded)){_e.error(t("driver.verification.uploadAllDocuments"));return}o(!0);try{const k=f.reduce((V,L)=>(L.url&&(V[L.type]={url:L.url,uploaded_at:new Date().toISOString(),status:"uploaded"}),V),{}),{error:F}=await $e.from("driver_profiles").update({license_number:u.license_number,license_expiry:u.license_expiry,vehicle_type:u.vehicle_type,vehicle_model:u.vehicle_model,vehicle_plate:u.vehicle_plate,route_name:u.route_name,route_description:u.route_description,verification_status:"pending",verification_documents:k,updated_at:new Date().toISOString()}).eq("user_id",e==null?void 0:e.id);if(F)throw F;m(V=>({...V,verification_status:"pending"})),_e.success(t("driver.verification.submitted"))}catch(k){console.error("Error submitting verification:",k),_e.error(t("common.error"))}finally{o(!1)}},M=()=>{switch(u.verification_status){case"approved":return a.jsx(_r,{className:"w-5 h-5 text-green-500"});case"pending":return a.jsx(Hn,{className:"w-5 h-5 text-yellow-500"});case"rejected":return a.jsx(au,{className:"w-5 h-5 text-red-500"});default:return a.jsx(Er,{className:"w-5 h-5 text-gray-500"})}},D=()=>{const I={not_submitted:"secondary",pending:"default",approved:"default",rejected:"destructive"};return a.jsxs(Je,{variant:I[u.verification_status],className:"flex items-center gap-1",children:[M(),t(`driver.verification.status.${u.verification_status}`)]})},R=()=>{const I=[u.license_number,u.vehicle_type,u.vehicle_plate,f.filter(k=>k.uploaded).length===vN.length];return I.filter(Boolean).length/I.length*100};if(r)return a.jsxs("div",{className:"flex justify-center p-8",children:[t("common.loading"),"..."]});const z=u.verification_status==="approved"||u.verification_status==="pending";return a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:t("driver.verification.title")}),a.jsx("p",{className:"text-muted-foreground",children:t("driver.verification.description")})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsxs(Te,{children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[t("driver.verification.status.title"),D()]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:t("driver.verification.progress")}),a.jsxs("span",{children:[Math.round(R()),"%"]})]}),a.jsx(Ad,{value:R(),className:"w-full"})]})]}),u.verification_status==="rejected"&&a.jsx(fe,{children:a.jsxs(us,{variant:"destructive",children:[a.jsx(Er,{className:"h-4 w-4"}),a.jsx(ds,{children:t("driver.verification.rejectedMessage")})]})})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("driver.verification.driverInfo")}),a.jsx(st,{children:t("driver.verification.driverInfoDesc")})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(ze,{htmlFor:"license_number",children:[t("driver.verification.licenseNumber")," *"]}),a.jsx(dt,{id:"license_number",value:u.license_number,onChange:I=>m(k=>({...k,license_number:I.target.value})),placeholder:t("driver.verification.licenseNumberPlaceholder"),disabled:z})]}),a.jsxs("div",{children:[a.jsxs(ze,{htmlFor:"license_expiry",children:[t("driver.verification.licenseExpiry")," *"]}),a.jsx(dt,{id:"license_expiry",type:"date",value:u.license_expiry,onChange:I=>m(k=>({...k,license_expiry:I.target.value})),disabled:z})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(ze,{htmlFor:"vehicle_type",children:[t("driver.verification.vehicleType")," *"]}),a.jsxs(kt,{value:u.vehicle_type,onValueChange:I=>m(k=>({...k,vehicle_type:I})),disabled:z,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:t("driver.verification.selectVehicleType")})}),a.jsx(Lt,{children:vCe.map(I=>a.jsx(Ae,{value:I,children:t(`driver.verification.vehicleTypes.${I}`)},I))})]})]}),a.jsxs("div",{children:[a.jsxs(ze,{htmlFor:"vehicle_model",children:[t("driver.verification.vehicleModel")," *"]}),a.jsx(dt,{id:"vehicle_model",value:u.vehicle_model,onChange:I=>m(k=>({...k,vehicle_model:I.target.value})),placeholder:t("driver.verification.vehicleModelPlaceholder"),disabled:z})]})]}),a.jsxs("div",{children:[a.jsxs(ze,{htmlFor:"vehicle_plate",children:[t("driver.verification.vehiclePlate")," *"]}),a.jsx(dt,{id:"vehicle_plate",value:u.vehicle_plate,onChange:I=>m(k=>({...k,vehicle_plate:I.target.value})),placeholder:t("driver.verification.vehiclePlatePlaceholder"),disabled:z})]}),a.jsx(hi,{}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"route_name",children:t("driver.verification.routeName")}),a.jsx(dt,{id:"route_name",value:u.route_name,onChange:I=>m(k=>({...k,route_name:I.target.value})),placeholder:t("driver.verification.routeNamePlaceholder"),disabled:z})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"route_description",children:t("driver.verification.routeDescription")}),a.jsx(Es,{id:"route_description",value:u.route_description,onChange:I=>m(k=>({...k,route_description:I.target.value})),placeholder:t("driver.verification.routeDescriptionPlaceholder"),disabled:z,rows:3})]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("driver.verification.documents")}),a.jsx(st,{children:t("driver.verification.documentsDesc")})]}),a.jsx(fe,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((I,k)=>{const V=vN[k].icon;return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(V,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:t(`driver.verification.documentTypes.${I.type}`)}),I.uploaded&&a.jsx(_r,{className:"w-4 h-4 text-green-500"})]}),!z&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(dt,{type:"file",accept:"image/*,.pdf",onChange:L=>{var W;const $=(W=L.target.files)==null?void 0:W[0];$&&A(I.type,$)},disabled:I.uploaded}),x[I.type]>0&&x[I.type]<100&&a.jsx(Ad,{value:x[I.type],className:"w-full"})]}),I.url&&a.jsx("div",{className:"mt-2",children:a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>window.open(I.url,"_blank"),className:"flex items-center gap-1",children:[a.jsx(Fy,{className:"w-4 h-4"}),t("driver.verification.viewDocument")]})})]},I.type)})})})]}),!z&&a.jsx("div",{className:"flex justify-end",children:a.jsx(we,{onClick:E,disabled:i||f.some(I=>!I.uploaded),className:"min-w-32",children:t(i?"common.saving":"driver.verification.submit")})}),u.verification_status==="approved"&&a.jsxs(us,{className:"mt-4",children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx(ds,{children:t("driver.verification.approvedMessage")})]})]})}function bCe(){return X_(["driver"]),a.jsx(Wp,{userType:"driver",children:a.jsxs(Kh,{children:[a.jsx(ht,{path:"/",element:a.jsx(Vl,{to:"/driver/home",replace:!0})}),a.jsx(ht,{path:"/home",element:a.jsx(BAe,{})}),a.jsx(ht,{path:"/earnings",element:a.jsx(FAe,{})}),a.jsx(ht,{path:"/trips",element:a.jsx(UAe,{})}),a.jsx(ht,{path:"/qr-generator",element:a.jsx(zAe,{})}),a.jsx(ht,{path:"/analytics",element:a.jsx(xCe,{})}),a.jsx(ht,{path:"/verification",element:a.jsx(yCe,{})}),a.jsx(ht,{path:"/profile",element:a.jsx(u0,{})}),a.jsx(ht,{path:"/settings",element:a.jsx(d0,{})}),a.jsx(ht,{path:"/chat",element:a.jsx(X1,{})})]})})}function wCe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTransactions:0,dailyTransactions:0,activeQRCodes:0,uniqueCustomers:0}),[i,o]=j.useState([]),[u,m]=j.useState(!0),[f,g]=j.useState(!1);j.useEffect(()=>{e&&Promise.all([x(),w()]).finally(()=>m(!1))},[e]);const x=async()=>{if(e)try{const{data:D,error:R}=await $e.from("transactions").select("amount, created_at, from_user_id").eq("to_user_id",e.id).eq("type","merchant_payment");if(R)throw R;const z=new Date,I=new Date(z.getFullYear(),z.getMonth(),z.getDate()),k=new Date(I.getTime()-10080*60*1e3),F=new Date(I.getTime()-720*60*60*1e3),V=D||[],L=V.reduce((Z,de)=>Z+de.amount,0),$=V.filter(Z=>new Date(Z.created_at)>=I).reduce((Z,de)=>Z+de.amount,0),W=V.filter(Z=>new Date(Z.created_at)>=k).reduce((Z,de)=>Z+de.amount,0),Y=V.filter(Z=>new Date(Z.created_at)>=F).reduce((Z,de)=>Z+de.amount,0),Q=V.length,X=V.filter(Z=>new Date(Z.created_at)>=I).length,G=new Set(V.map(Z=>Z.from_user_id)).size,{data:H,error:J}=await $e.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(J)throw J;s({totalEarnings:L,dailyEarnings:$,weeklyEarnings:W,monthlyEarnings:Y,totalTransactions:Q,dailyTransactions:X,activeQRCodes:(H==null?void 0:H.length)||0,uniqueCustomers:G})}catch(D){console.error("Error fetching merchant stats:",D)}},w=async()=>{if(e)try{const{data:D,error:R}=await $e.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1}).limit(5);if(R)throw R;const z=(D==null?void 0:D.map(I=>{var k,F;return{id:I.id,customer_name:((k=I.profiles)==null?void 0:k.full_name)||t("unknown_customer"),amount:I.amount,created_at:I.created_at,status:I.status,payment_method:((F=I.metadata)==null?void 0:F.payment_method)||"wallet"}}))||[];o(z)}catch(D){console.error("Error fetching recent transactions:",D)}},_=D=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(D),C=D=>new Date(D).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=D=>{const R={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},z=R[D]||R.pending;return a.jsx(Je,{variant:z.variant,children:z.label})};if(u)return a.jsx(hs,{text:t("loading_dashboard")});const M=r.dailyEarnings/1e5*100;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_dashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_dashboard_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("daily_earnings")}),a.jsx(we,{variant:"ghost",size:"icon",onClick:()=>g(!f),className:"h-4 w-4",children:f?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.dailyEarnings):"••••••"}),a.jsxs("div",{className:"mt-2",children:[a.jsx(Ad,{value:M,className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(M),"% ",t("of_daily_goal")]})]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.totalEarnings):"••••••"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Xn,{className:"inline h-3 w-3 mr-1"}),t("monthly"),": ",f?_(r.monthlyEarnings):"••••••"]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("transactions")}),a.jsx(UD,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTransactions," ",t("today")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("customers")}),a.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.uniqueCustomers}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeQRCodes," ",t("active_qr_codes")]})]})]})})]}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("quick_actions")}),a.jsx(st,{children:t("merchant_quick_actions_description")})]}),a.jsx(fe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(we,{asChild:!0,className:"h-20 flex flex-col",children:a.jsxs(Qt,{to:"/merchant/qr-codes",children:[a.jsx(ir,{className:"h-6 w-6 mb-2"}),t("create_qr_code")]})}),a.jsx(we,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Qt,{to:"/merchant/payments",children:[a.jsx(sr,{className:"h-6 w-6 mb-2"}),t("view_payments")]})}),a.jsx(we,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Qt,{to:"/merchant/business",children:[a.jsx(iu,{className:"h-6 w-6 mb-2"}),t("manage_business")]})}),a.jsx(we,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Qt,{to:"/merchant/analytics",children:[a.jsx(Xn,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recent_transactions")}),a.jsx(st,{children:t("recent_merchant_transactions_description")})]}),a.jsx(fe,{children:i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(UD,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_transactions_yet")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_merchant_transactions_description")})]}):a.jsxs("div",{className:"space-y-4",children:[i.map((D,R)=>a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*R},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(ba,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:D.customer_name}),a.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:a.jsxs("span",{className:"mr-2",children:[t("payment_method"),": ",t(D.payment_method)]})}),a.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:a.jsx("span",{children:C(D.created_at)})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:_(D.amount)}),A(D.status)]})]},D.id)),a.jsx(we,{asChild:!0,variant:"outline",className:"w-full",children:a.jsx(Qt,{to:"/merchant/payments",children:t("view_all_payments")})})]})})]})})]})}function jCe(){const{t:e}=Ut();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:e("business_management")}),a.jsx("p",{className:"text-muted-foreground",children:e("business_management_description")})]}),a.jsx(ue,{children:a.jsxs(fe,{className:"text-center py-12",children:[a.jsx(iu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e("business_page_coming_soon")}),a.jsx("p",{className:"text-muted-foreground",children:e("business_page_description")})]})})]})}function NCe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState([]),[u,m]=j.useState(!0),[f,g]=j.useState(""),[x,w]=j.useState("all");j.useEffect(()=>{e&&_()},[e]),j.useEffect(()=>{C()},[r,f,x]);const _=async()=>{if(e)try{const{data:F,error:V}=await $e.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1});if(V)throw V;const L=(F==null?void 0:F.map($=>{var W,Y,Q;return{id:$.id,customer_name:((W=$.profiles)==null?void 0:W.full_name)||t("unknown_customer"),amount:$.amount,created_at:$.created_at,status:$.status,payment_method:((Y=$.metadata)==null?void 0:Y.payment_method)||"wallet",description:(Q=$.metadata)==null?void 0:Q.description}}))||[];s(L)}catch(F){console.error("Error fetching payments:",F),_e.error(t("error_fetch_payments"))}finally{m(!1)}},C=()=>{let F=r.filter(V=>{const L=V.customer_name.toLowerCase().includes(f.toLowerCase())||V.id.toLowerCase().includes(f.toLowerCase()),$=x==="all"||V.status===x;return L&&$});o(F)},A=F=>{const V={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},L=V[F]||V.pending;return a.jsx(Je,{variant:L.variant,children:L.label})},E=F=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(F),M=F=>new Date(F).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=()=>{const F=[["Date","Customer","Amount","Status","Payment Method","Transaction ID"],...i.map(W=>[M(W.created_at),W.customer_name,W.amount.toString(),W.status,W.payment_method,W.id])].map(W=>W.join(",")).join(`
`),V=new Blob([F],{type:"text/csv"}),L=URL.createObjectURL(V),$=document.createElement("a");$.href=L,$.download=`merchant-payments-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(L),_e.success(t("payments_exported"))};if(u)return a.jsx(hs,{text:t("loading_payments")});const R=i.filter(F=>F.status==="completed"),z=i.filter(F=>F.status==="pending"),I=i.filter(F=>F.status==="cancelled");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("payments")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_payments_description")})]}),a.jsxs(we,{onClick:D,variant:"outline",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),t("export")]})]}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(dt,{placeholder:t("search_payments"),value:f,onChange:F=>g(F.target.value),className:"pl-10"})]})}),a.jsxs(kt,{value:x,onValueChange:w,children:[a.jsxs(It,{className:"w-[150px]",children:[a.jsx(nm,{className:"h-4 w-4 mr-2"}),a.jsx(Bt,{})]}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("all_statuses")}),a.jsx(Ae,{value:"completed",children:t("completed")}),a.jsx(Ae,{value:"pending",children:t("pending")}),a.jsx(Ae,{value:"cancelled",children:t("cancelled")})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_payments")}),a.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),a.jsx(sr,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_amount")}),a.jsx("p",{className:"text-2xl font-bold",children:E(i.reduce((F,V)=>F+V.amount,0))})]}),a.jsx(sr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("unique_customers")}),a.jsx("p",{className:"text-2xl font-bold",children:new Set(i.map(F=>F.customer_name)).size})]}),a.jsx(ba,{className:"h-8 w-8 text-purple-600"})]})})})]}),a.jsxs(pi,{defaultValue:"all",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-4",children:[a.jsxs(At,{value:"all",children:[t("all")," (",i.length,")"]}),a.jsxs(At,{value:"completed",children:[t("completed")," (",R.length,")"]}),a.jsxs(At,{value:"pending",children:[t("pending")," (",z.length,")"]}),a.jsxs(At,{value:"cancelled",children:[t("cancelled")," (",I.length,")"]})]}),a.jsx(Ot,{value:"all",className:"space-y-4",children:a.jsx(k,{payments:i})}),a.jsx(Ot,{value:"completed",className:"space-y-4",children:a.jsx(k,{payments:R})}),a.jsx(Ot,{value:"pending",className:"space-y-4",children:a.jsx(k,{payments:z})}),a.jsx(Ot,{value:"cancelled",className:"space-y-4",children:a.jsx(k,{payments:I})})]})]});function k({payments:F}){return F.length===0?a.jsx(ue,{children:a.jsxs(fe,{className:"text-center py-12",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_payments_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_payments_description")})]})}):a.jsx("div",{className:"space-y-4",children:F.map((V,L)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},children:a.jsx(ue,{className:"hover:shadow-lg transition-shadow",children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(sr,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:V.customer_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("payment_method"),": ",t(V.payment_method)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:M(V.created_at)}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[V.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",E(V.amount)]}),A(V.status)]})]})})})},V.id))})}}var ah={},yN,U8;function SCe(){return U8||(U8=1,yN=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),yN}var bN={},Hc={},z8;function Zd(){if(z8)return Hc;z8=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Hc.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Hc.getSymbolTotalCodewords=function(r){return t[r]},Hc.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Hc.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Hc.isKanjiModeEnabled=function(){return typeof e<"u"},Hc.toSJIS=function(r){return e(r)},Hc}var wN={},V8;function TT(){return V8||(V8=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}}(wN)),wN}var jN,$8;function _Ce(){if($8)return jN;$8=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},jN=e,jN}var NN,H8;function ECe(){if(H8)return NN;H8=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,s){const i=t*this.size+n;this.data[i]=r,s&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},NN=e,NN}var SN={},q8;function ACe(){return q8||(q8=1,function(e){const t=Zd().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,u=[i-7];for(let m=1;m<s-1;m++)u[m]=u[m-1]-o;return u.push(6),u.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),o=i.length;for(let u=0;u<o;u++)for(let m=0;m<o;m++)u===0&&m===0||u===0&&m===o-1||u===o-1&&m===0||s.push([i[u],i[m]]);return s}}(SN)),SN}var _N={},Y8;function CCe(){if(Y8)return _N;Y8=1;const e=Zd().getSymbolSize,t=7;return _N.getPositions=function(r){const s=e(r);return[[0,0],[s-t,0],[0,s-t]]},_N}var EN={},W8;function TCe(){return W8||(W8=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let o=0,u=0,m=0,f=null,g=null;for(let x=0;x<i;x++){u=m=0,f=g=null;for(let w=0;w<i;w++){let _=s.get(x,w);_===f?u++:(u>=5&&(o+=t.N1+(u-5)),f=_,u=1),_=s.get(w,x),_===g?m++:(m>=5&&(o+=t.N1+(m-5)),g=_,m=1)}u>=5&&(o+=t.N1+(u-5)),m>=5&&(o+=t.N1+(m-5))}return o},e.getPenaltyN2=function(s){const i=s.size;let o=0;for(let u=0;u<i-1;u++)for(let m=0;m<i-1;m++){const f=s.get(u,m)+s.get(u,m+1)+s.get(u+1,m)+s.get(u+1,m+1);(f===4||f===0)&&o++}return o*t.N2},e.getPenaltyN3=function(s){const i=s.size;let o=0,u=0,m=0;for(let f=0;f<i;f++){u=m=0;for(let g=0;g<i;g++)u=u<<1&2047|s.get(f,g),g>=10&&(u===1488||u===93)&&o++,m=m<<1&2047|s.get(g,f),g>=10&&(m===1488||m===93)&&o++}return o*t.N3},e.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let m=0;m<o;m++)i+=s.data[m];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const o=i.size;for(let u=0;u<o;u++)for(let m=0;m<o;m++)i.isReserved(m,u)||i.xor(m,u,n(s,m,u))},e.getBestMask=function(s,i){const o=Object.keys(e.Patterns).length;let u=0,m=1/0;for(let f=0;f<o;f++){i(f),e.applyMask(f,s);const g=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(f,s),g<m&&(m=g,u=f)}return u}}(EN)),EN}var rv={},G8;function RH(){if(G8)return rv;G8=1;const e=TT(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return rv.getBlocksCount=function(s,i){switch(i){case e.L:return t[(s-1)*4+0];case e.M:return t[(s-1)*4+1];case e.Q:return t[(s-1)*4+2];case e.H:return t[(s-1)*4+3];default:return}},rv.getTotalCodewordsCount=function(s,i){switch(i){case e.L:return n[(s-1)*4+0];case e.M:return n[(s-1)*4+1];case e.Q:return n[(s-1)*4+2];case e.H:return n[(s-1)*4+3];default:return}},rv}var AN={},Cg={},K8;function OCe(){if(K8)return Cg;K8=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let s=0;s<255;s++)e[s]=r,t[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)e[s]=e[s-255]}(),Cg.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},Cg.exp=function(r){return e[r]},Cg.mul=function(r,s){return r===0||s===0?0:e[t[r]+t[s]]},Cg}var X8;function MCe(){return X8||(X8=1,function(e){const t=OCe();e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let u=0;u<s.length;u++)i[o+u]^=t.mul(r[o],s[u]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let m=0;m<s.length;m++)i[m]^=t.mul(s[m],o);let u=0;for(;u<i.length&&i[u]===0;)u++;i=i.slice(u)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}}(AN)),AN}var CN,Q8;function DCe(){if(Q8)return CN;Q8=1;const e=MCe();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const i=e.mod(s,this.genPoly),o=this.degree-i.length;if(o>0){const u=new Uint8Array(this.degree);return u.set(i,o),u}return i},CN=t,CN}var TN={},ON={},MN={},Z8;function kH(){return Z8||(Z8=1,MN.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),MN}var Lo={},J8;function IH(){if(J8)return Lo;J8=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Lo.KANJI=new RegExp(n,"g"),Lo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Lo.BYTE=new RegExp(r,"g"),Lo.NUMERIC=new RegExp(e,"g"),Lo.ALPHANUMERIC=new RegExp(t,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+e+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Lo.testKanji=function(m){return s.test(m)},Lo.testNumeric=function(m){return i.test(m)},Lo.testAlphanumeric=function(m){return o.test(m)},Lo}var e6;function Jd(){return e6||(e6=1,function(e){const t=kH(),n=IH();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,o){if(e.isValid(i))return i;try{return r(i)}catch{return o}}}(ON)),ON}var t6;function PCe(){return t6||(t6=1,function(e){const t=Zd(),n=RH(),r=TT(),s=Jd(),i=kH(),o=7973,u=t.getBCHDigit(o);function m(w,_,C){for(let A=1;A<=40;A++)if(_<=e.getCapacity(A,C,w))return A}function f(w,_){return s.getCharCountIndicator(w,_)+4}function g(w,_){let C=0;return w.forEach(function(A){const E=f(A.mode,_);C+=E+A.getBitsLength()}),C}function x(w,_){for(let C=1;C<=40;C++)if(g(w,C)<=e.getCapacity(C,_,s.MIXED))return C}e.from=function(_,C){return i.isValid(_)?parseInt(_,10):C},e.getCapacity=function(_,C,A){if(!i.isValid(_))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=s.BYTE);const E=t.getSymbolTotalCodewords(_),M=n.getTotalCodewordsCount(_,C),D=(E-M)*8;if(A===s.MIXED)return D;const R=D-f(A,_);switch(A){case s.NUMERIC:return Math.floor(R/10*3);case s.ALPHANUMERIC:return Math.floor(R/11*2);case s.KANJI:return Math.floor(R/13);case s.BYTE:default:return Math.floor(R/8)}},e.getBestVersionForData=function(_,C){let A;const E=r.from(C,r.M);if(Array.isArray(_)){if(_.length>1)return x(_,E);if(_.length===0)return 1;A=_[0]}else A=_;return m(A.mode,A.getLength(),E)},e.getEncodedBits=function(_){if(!i.isValid(_)||_<7)throw new Error("Invalid QR Code version");let C=_<<12;for(;t.getBCHDigit(C)-u>=0;)C^=o<<t.getBCHDigit(C)-u;return _<<12|C}}(TN)),TN}var DN={},n6;function RCe(){if(n6)return DN;n6=1;const e=Zd(),t=1335,n=21522,r=e.getBCHDigit(t);return DN.getEncodedBits=function(i,o){const u=i.bit<<3|o;let m=u<<10;for(;e.getBCHDigit(m)-r>=0;)m^=t<<e.getBCHDigit(m)-r;return(u<<10|m)^n},DN}var PN={},RN,r6;function kCe(){if(r6)return RN;r6=1;const e=Jd();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let s,i,o;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),o=parseInt(i,10),r.put(o,10);const u=this.data.length-s;u>0&&(i=this.data.substr(s),o=parseInt(i,10),r.put(o,u*3+1))},RN=t,RN}var kN,a6;function ICe(){if(a6)return kN;a6=1;const e=Jd(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let o=t.indexOf(this.data[i])*45;o+=t.indexOf(this.data[i+1]),s.put(o,11)}this.data.length%2&&s.put(t.indexOf(this.data[i]),6)},kN=n,kN}var IN,s6;function LCe(){if(s6)return IN;s6=1;const e=Jd();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,s=this.data.length;r<s;r++)n.put(this.data[r],8)},IN=t,IN}var LN,i6;function BCe(){if(i6)return LN;i6=1;const e=Jd(),t=Zd();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let i=t.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},LN=n,LN}var BN={exports:{}},o6;function FCe(){return o6||(o6=1,function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var m,f,g,x,w,_,C,A,E;!u.empty();){m=u.pop(),f=m.value,x=m.cost,w=n[f]||{};for(g in w)w.hasOwnProperty(g)&&(_=w[g],C=x+_,A=o[g],E=typeof o[g]>"u",(E||A>C)&&(o[g]=C,u.push(g,C),i[g]=f))}if(typeof s<"u"&&typeof o[s]>"u"){var M=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(M)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(BN)),BN.exports}var l6;function UCe(){return l6||(l6=1,function(e){const t=Jd(),n=kCe(),r=ICe(),s=LCe(),i=BCe(),o=IH(),u=Zd(),m=FCe();function f(M){return unescape(encodeURIComponent(M)).length}function g(M,D,R){const z=[];let I;for(;(I=M.exec(R))!==null;)z.push({data:I[0],index:I.index,mode:D,length:I[0].length});return z}function x(M){const D=g(o.NUMERIC,t.NUMERIC,M),R=g(o.ALPHANUMERIC,t.ALPHANUMERIC,M);let z,I;return u.isKanjiModeEnabled()?(z=g(o.BYTE,t.BYTE,M),I=g(o.KANJI,t.KANJI,M)):(z=g(o.BYTE_KANJI,t.BYTE,M),I=[]),D.concat(R,z,I).sort(function(F,V){return F.index-V.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function w(M,D){switch(D){case t.NUMERIC:return n.getBitsLength(M);case t.ALPHANUMERIC:return r.getBitsLength(M);case t.KANJI:return i.getBitsLength(M);case t.BYTE:return s.getBitsLength(M)}}function _(M){return M.reduce(function(D,R){const z=D.length-1>=0?D[D.length-1]:null;return z&&z.mode===R.mode?(D[D.length-1].data+=R.data,D):(D.push(R),D)},[])}function C(M){const D=[];for(let R=0;R<M.length;R++){const z=M[R];switch(z.mode){case t.NUMERIC:D.push([z,{data:z.data,mode:t.ALPHANUMERIC,length:z.length},{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.ALPHANUMERIC:D.push([z,{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.KANJI:D.push([z,{data:z.data,mode:t.BYTE,length:f(z.data)}]);break;case t.BYTE:D.push([{data:z.data,mode:t.BYTE,length:f(z.data)}])}}return D}function A(M,D){const R={},z={start:{}};let I=["start"];for(let k=0;k<M.length;k++){const F=M[k],V=[];for(let L=0;L<F.length;L++){const $=F[L],W=""+k+L;V.push(W),R[W]={node:$,lastCount:0},z[W]={};for(let Y=0;Y<I.length;Y++){const Q=I[Y];R[Q]&&R[Q].node.mode===$.mode?(z[Q][W]=w(R[Q].lastCount+$.length,$.mode)-w(R[Q].lastCount,$.mode),R[Q].lastCount+=$.length):(R[Q]&&(R[Q].lastCount=$.length),z[Q][W]=w($.length,$.mode)+4+t.getCharCountIndicator($.mode,D))}}I=V}for(let k=0;k<I.length;k++)z[I[k]].end=0;return{map:z,table:R}}function E(M,D){let R;const z=t.getBestModeForData(M);if(R=t.from(D,z),R!==t.BYTE&&R.bit<z.bit)throw new Error('"'+M+'" cannot be encoded with mode '+t.toString(R)+`.
 Suggested mode is: `+t.toString(z));switch(R===t.KANJI&&!u.isKanjiModeEnabled()&&(R=t.BYTE),R){case t.NUMERIC:return new n(M);case t.ALPHANUMERIC:return new r(M);case t.KANJI:return new i(M);case t.BYTE:return new s(M)}}e.fromArray=function(D){return D.reduce(function(R,z){return typeof z=="string"?R.push(E(z,null)):z.data&&R.push(E(z.data,z.mode)),R},[])},e.fromString=function(D,R){const z=x(D,u.isKanjiModeEnabled()),I=C(z),k=A(I,R),F=m.find_path(k.map,"start","end"),V=[];for(let L=1;L<F.length-1;L++)V.push(k.table[F[L]].node);return e.fromArray(_(V))},e.rawSplit=function(D){return e.fromArray(x(D,u.isKanjiModeEnabled()))}}(PN)),PN}var c6;function zCe(){if(c6)return bN;c6=1;const e=Zd(),t=TT(),n=_Ce(),r=ECe(),s=ACe(),i=CCe(),o=TCe(),u=RH(),m=DCe(),f=PCe(),g=RCe(),x=Jd(),w=UCe();function _(k,F){const V=k.size,L=i.getPositions(F);for(let $=0;$<L.length;$++){const W=L[$][0],Y=L[$][1];for(let Q=-1;Q<=7;Q++)if(!(W+Q<=-1||V<=W+Q))for(let X=-1;X<=7;X++)Y+X<=-1||V<=Y+X||(Q>=0&&Q<=6&&(X===0||X===6)||X>=0&&X<=6&&(Q===0||Q===6)||Q>=2&&Q<=4&&X>=2&&X<=4?k.set(W+Q,Y+X,!0,!0):k.set(W+Q,Y+X,!1,!0))}}function C(k){const F=k.size;for(let V=8;V<F-8;V++){const L=V%2===0;k.set(V,6,L,!0),k.set(6,V,L,!0)}}function A(k,F){const V=s.getPositions(F);for(let L=0;L<V.length;L++){const $=V[L][0],W=V[L][1];for(let Y=-2;Y<=2;Y++)for(let Q=-2;Q<=2;Q++)Y===-2||Y===2||Q===-2||Q===2||Y===0&&Q===0?k.set($+Y,W+Q,!0,!0):k.set($+Y,W+Q,!1,!0)}}function E(k,F){const V=k.size,L=f.getEncodedBits(F);let $,W,Y;for(let Q=0;Q<18;Q++)$=Math.floor(Q/3),W=Q%3+V-8-3,Y=(L>>Q&1)===1,k.set($,W,Y,!0),k.set(W,$,Y,!0)}function M(k,F,V){const L=k.size,$=g.getEncodedBits(F,V);let W,Y;for(W=0;W<15;W++)Y=($>>W&1)===1,W<6?k.set(W,8,Y,!0):W<8?k.set(W+1,8,Y,!0):k.set(L-15+W,8,Y,!0),W<8?k.set(8,L-W-1,Y,!0):W<9?k.set(8,15-W-1+1,Y,!0):k.set(8,15-W-1,Y,!0);k.set(L-8,8,1,!0)}function D(k,F){const V=k.size;let L=-1,$=V-1,W=7,Y=0;for(let Q=V-1;Q>0;Q-=2)for(Q===6&&Q--;;){for(let X=0;X<2;X++)if(!k.isReserved($,Q-X)){let G=!1;Y<F.length&&(G=(F[Y]>>>W&1)===1),k.set($,Q-X,G),W--,W===-1&&(Y++,W=7)}if($+=L,$<0||V<=$){$-=L,L=-L;break}}}function R(k,F,V){const L=new n;V.forEach(function(X){L.put(X.mode.bit,4),L.put(X.getLength(),x.getCharCountIndicator(X.mode,k)),X.write(L)});const $=e.getSymbolTotalCodewords(k),W=u.getTotalCodewordsCount(k,F),Y=($-W)*8;for(L.getLengthInBits()+4<=Y&&L.put(0,4);L.getLengthInBits()%8!==0;)L.putBit(0);const Q=(Y-L.getLengthInBits())/8;for(let X=0;X<Q;X++)L.put(X%2?17:236,8);return z(L,k,F)}function z(k,F,V){const L=e.getSymbolTotalCodewords(F),$=u.getTotalCodewordsCount(F,V),W=L-$,Y=u.getBlocksCount(F,V),Q=L%Y,X=Y-Q,G=Math.floor(L/Y),H=Math.floor(W/Y),J=H+1,Z=G-H,de=new m(Z);let re=0;const pe=new Array(Y),Ne=new Array(Y);let Se=0;const xe=new Uint8Array(k.buffer);for(let he=0;he<Y;he++){const Re=he<X?H:J;pe[he]=xe.slice(re,re+Re),Ne[he]=de.encode(pe[he]),re+=Re,Se=Math.max(Se,Re)}const Pe=new Uint8Array(L);let se=0,ce,oe;for(ce=0;ce<Se;ce++)for(oe=0;oe<Y;oe++)ce<pe[oe].length&&(Pe[se++]=pe[oe][ce]);for(ce=0;ce<Z;ce++)for(oe=0;oe<Y;oe++)Pe[se++]=Ne[oe][ce];return Pe}function I(k,F,V,L){let $;if(Array.isArray(k))$=w.fromArray(k);else if(typeof k=="string"){let G=F;if(!G){const H=w.rawSplit(k);G=f.getBestVersionForData(H,V)}$=w.fromString(k,G||40)}else throw new Error("Invalid data");const W=f.getBestVersionForData($,V);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=W;else if(F<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const Y=R(F,V,$),Q=e.getSymbolSize(F),X=new r(Q);return _(X,F),C(X),A(X,F),M(X,V,0),F>=7&&E(X,F),D(X,Y),isNaN(L)&&(L=o.getBestMask(X,M.bind(null,X,V))),o.applyMask(L,X),M(X,V,L),{modules:X,version:F,errorCorrectionLevel:V,maskPattern:L,segments:$}}return bN.create=function(F,V){if(typeof F>"u"||F==="")throw new Error("No input text");let L=t.M,$,W;return typeof V<"u"&&(L=t.from(V.errorCorrectionLevel,t.M),$=f.from(V.version),W=o.from(V.maskPattern),V.toSJISFunc&&e.setToSJISFunction(V.toSJISFunc)),I(F,$,L,W)},bN}var FN={},UN={},u6;function LH(){return u6||(u6=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const o=s.modules.size,u=s.modules.data,m=e.getScale(o,i),f=Math.floor((o+i.margin*2)*m),g=i.margin*m,x=[i.color.light,i.color.dark];for(let w=0;w<f;w++)for(let _=0;_<f;_++){let C=(w*f+_)*4,A=i.color.light;if(w>=g&&_>=g&&w<f-g&&_<f-g){const E=Math.floor((w-g)/m),M=Math.floor((_-g)/m);A=x[u[E*o+M]?1:0]}r[C++]=A.r,r[C++]=A.g,r[C++]=A.b,r[C]=A.a}}}(UN)),UN}var d6;function VCe(){return d6||(d6=1,function(e){const t=LH();function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,u){let m=u,f=o;typeof m>"u"&&(!o||!o.getContext)&&(m=o,o=void 0),o||(f=r()),m=t.getOptions(m);const g=t.getImageWidth(i.modules.size,m),x=f.getContext("2d"),w=x.createImageData(g,g);return t.qrToImageData(w.data,i,m),n(x,f,g),x.putImageData(w,0,0),f},e.renderToDataURL=function(i,o,u){let m=u;typeof m>"u"&&(!o||!o.getContext)&&(m=o,o=void 0),m||(m={});const f=e.render(i,o,m),g=m.type||"image/png",x=m.rendererOpts||{};return f.toDataURL(g,x.quality)}}(FN)),FN}var zN={},f6;function $Ce(){if(f6)return zN;f6=1;const e=LH();function t(s,i){const o=s.a/255,u=i+'="'+s.hex+'"';return o<1?u+" "+i+'-opacity="'+o.toFixed(2).slice(1)+'"':u}function n(s,i,o){let u=s+i;return typeof o<"u"&&(u+=" "+o),u}function r(s,i,o){let u="",m=0,f=!1,g=0;for(let x=0;x<s.length;x++){const w=Math.floor(x%i),_=Math.floor(x/i);!w&&!f&&(f=!0),s[x]?(g++,x>0&&w>0&&s[x-1]||(u+=f?n("M",w+o,.5+_+o):n("m",m,0),m=0,f=!1),w+1<i&&s[x+1]||(u+=n("h",g),g=0)):m++}return u}return zN.render=function(i,o,u){const m=e.getOptions(o),f=i.modules.size,g=i.modules.data,x=f+m.margin*2,w=m.color.light.a?"<path "+t(m.color.light,"fill")+' d="M0 0h'+x+"v"+x+'H0z"/>':"",_="<path "+t(m.color.dark,"stroke")+' d="'+r(g,f,m.margin)+'"/>',C='viewBox="0 0 '+x+" "+x+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(m.width?'width="'+m.width+'" height="'+m.width+'" ':"")+C+' shape-rendering="crispEdges">'+w+_+`</svg>
`;return typeof u=="function"&&u(null,E),E},zN}var h6;function HCe(){if(h6)return ah;h6=1;const e=SCe(),t=zCe(),n=VCe(),r=$Ce();function s(i,o,u,m,f){const g=[].slice.call(arguments,1),x=g.length,w=typeof g[x-1]=="function";if(!w&&!e())throw new Error("Callback required as last argument");if(w){if(x<2)throw new Error("Too few arguments provided");x===2?(f=u,u=o,o=m=void 0):x===3&&(o.getContext&&typeof f>"u"?(f=m,m=void 0):(f=m,m=u,u=o,o=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(u=o,o=m=void 0):x===2&&!o.getContext&&(m=u,u=o,o=void 0),new Promise(function(_,C){try{const A=t.create(u,m);_(i(A,o,m))}catch(A){C(A)}})}try{const _=t.create(u,m);f(null,i(_,o,m))}catch(_){f(_)}}return ah.create=t.create,ah.toCanvas=s.bind(null,n.render),ah.toDataURL=s.bind(null,n.renderToDataURL),ah.toString=s.bind(null,function(i,o,u){return r.render(i,u)}),ah}var qCe=HCe();const BH=Cs(qCe);function YCe(){const{user:e}=$t(),{t,isRTL:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState(!0),[u,m]=j.useState(!1),[f,g]=j.useState(null),[x,w]=j.useState(!1);j.useRef(null);const[_,C]=j.useState({amount:"",description:"",business_name:"",expires_at:""});j.useEffect(()=>{e&&A()},[e]);const A=async()=>{if(e)try{const{data:X,error:G}=await $e.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(G)throw G;const H=(X==null?void 0:X.map(J=>{var Z,de;return{...J,usage_count:((de=(Z=J.usage_count)==null?void 0:Z[0])==null?void 0:de.count)||0,business_name:J.route_info,description:J.vehicle_info}}))||[];s(H)}catch(X){console.error("Error fetching QR codes:",X),_e.error(t("error_fetch_qr_codes"))}finally{o(!1)}},E=async X=>{try{return await BH.toDataURL(X,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(G){return console.error("Error generating QR image:",G),null}},M=async()=>{if(!e||!_.amount){_e.error(t("please_fill_required_fields"));return}m(!0);try{const X=parseFloat(_.amount);if(X<=0){_e.error(t("invalid_amount"));return}const G={type:"merchant",merchant_id:e.id,amount:X,business_name:_.business_name||null,description:_.description||null,timestamp:Date.now()},H=JSON.stringify(G),J=await E(H),{data:Z,error:de}=await $e.from("qr_codes").insert({driver_id:e.id,qr_data:H,is_active:!0,expires_at:_.expires_at||null,route_info:_.business_name||null,vehicle_info:_.description||null}).select().single();if(de)throw de;_e.success(t("qr_code_generated_successfully")),C({amount:"",description:"",business_name:"",expires_at:""}),A()}catch(X){console.error("Error generating QR code:",X),_e.error(t("error_generate_qr_code"))}finally{m(!1)}},D=async(X,G)=>{try{const{error:H}=await $e.from("qr_codes").update({is_active:!G}).eq("id",X).eq("driver_id",e==null?void 0:e.id);if(H)throw H;_e.success(t(G?"qr_code_deactivated":"qr_code_activated")),A()}catch(H){console.error("Error toggling QR code status:",H),_e.error(t("error_toggle_qr_status"))}},R=X=>{const G=X.qr_data;navigator.clipboard.writeText(G),_e.success(t("qr_data_copied"))},z=async X=>{try{const G=await E(X.qr_data);if(!G){_e.error("Failed to generate QR code image");return}const H=document.createElement("a");H.href=G,H.download=`merchant-qr-${X.business_name||X.id}.png`,document.body.appendChild(H),H.click(),document.body.removeChild(H),_e.success(t("qr_code_downloaded"))}catch(G){console.error("Error downloading QR code:",G),_e.error("Failed to download QR code")}},I=async X=>{try{const G=await E(X.qr_data);if(!G){_e.error("Failed to generate QR code image");return}const H=window.open("","_blank");if(H){const J=JSON.parse(X.qr_data);H.document.write(`
          <html>
            <head>
              <title>QR Code - ${X.business_name||"Merchant Payment"}</title>
              <style>
                body { 
                  font-family: Arial, sans-serif; 
                  text-align: center; 
                  padding: 20px;
                  background: white;
                }
                .qr-container {
                  max-width: 400px;
                  margin: 0 auto;
                  padding: 30px;
                  border: 2px solid #ddd;
                  border-radius: 10px;
                }
                .business-name { 
                  font-size: 24px; 
                  font-weight: bold; 
                  margin-bottom: 10px;
                  color: #333;
                }
                .amount { 
                  font-size: 32px; 
                  font-weight: bold; 
                  color: #059669;
                  margin: 20px 0;
                }
                .description { 
                  font-size: 16px; 
                  color: #666;
                  margin-bottom: 20px;
                }
                .qr-image { 
                  margin: 20px 0;
                }
                .instructions {
                  font-size: 14px;
                  color: #666;
                  margin-top: 20px;
                }
                @media print {
                  body { margin: 0; }
                }
              </style>
            </head>
            <body>
              <div class="qr-container">
                <div class="business-name">${X.business_name||"Merchant Payment"}</div>
                ${X.description?`<div class="description">${X.description}</div>`:""}
                <div class="amount">${V(J.amount||0)}</div>
                <div class="qr-image">
                  <img src="${G}" alt="QR Code" style="max-width: 200px; height: auto;" />
                </div>
                <div class="instructions">
                  Scan this QR code with the Tickets app to make a payment
                </div>
              </div>
            </body>
          </html>
        `),H.document.close(),H.print()}}catch(G){console.error("Error printing QR code:",G),_e.error("Failed to print QR code")}},k=async X=>{try{const G=await E(X.qr_data);if(!G){_e.error("Failed to generate QR code image");return}const J=await(await fetch(G)).blob(),Z=new File([J],`merchant-qr-${X.business_name||X.id}.png`,{type:"image/png"});if(navigator.share&&navigator.canShare({files:[Z]}))await navigator.share({title:`QR Code - ${X.business_name||"Merchant Payment"}`,text:`Payment QR Code for ${V(JSON.parse(X.qr_data).amount||0)}`,files:[Z]});else{const de=document.createElement("canvas"),re=de.getContext("2d"),pe=new Image;pe.onload=()=>{de.width=pe.width,de.height=pe.height,re==null||re.drawImage(pe,0,0),de.toBlob(Ne=>{Ne&&(navigator.clipboard.write([new ClipboardItem({"image/png":Ne})]),_e.success("QR code copied to clipboard"))})},pe.src=G}}catch(G){console.error("Error sharing QR code:",G),navigator.clipboard.writeText(X.qr_data),_e.success("QR data copied to clipboard")}},F=X=>{g(X),w(!0)},V=X=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(X),L=X=>new Date(X).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=X=>X?new Date(X)<new Date:!1,W=X=>$(X.expires_at)?a.jsx(Je,{variant:"destructive",children:t("expired")}):X.is_active?a.jsx(Je,{variant:"default",children:t("active")}):a.jsx(Je,{variant:"outline",children:t("inactive")});if(i)return a.jsx(hs,{text:t("loading_qr_codes")});const Y=r.filter(X=>X.is_active&&!$(X.expires_at)),Q=r.filter(X=>!X.is_active||$(X.expires_at));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_qr_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),a.jsx("p",{className:"text-2xl font-bold",children:Y.length})]}),a.jsx(ir,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_scans")}),a.jsx("p",{className:"text-2xl font-bold",children:r.reduce((X,G)=>X+G.usage_count,0)})]}),a.jsx(Wn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),a.jsx("p",{className:"text-2xl font-bold",children:V(r.reduce((X,G)=>X+25e3*G.usage_count,0))})]}),a.jsx(sr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("generate_merchant_qr_code")}),a.jsx(st,{children:t("create_merchant_qr_description")})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(ze,{htmlFor:"amount",children:[t("amount")," *"]}),a.jsx(dt,{id:"amount",type:"number",placeholder:"0",value:_.amount,onChange:X=>C(G=>({...G,amount:X.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"business_name",children:t("business_name")}),a.jsx(dt,{id:"business_name",placeholder:t("business_name_placeholder"),value:_.business_name,onChange:X=>C(G=>({...G,business_name:X.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"description",children:t("description")}),a.jsx(dt,{id:"description",placeholder:t("qr_description_placeholder"),value:_.description,onChange:X=>C(G=>({...G,description:X.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"expires_at",children:t("expires_at")}),a.jsx(dt,{id:"expires_at",type:"datetime-local",value:_.expires_at,onChange:X=>C(G=>({...G,expires_at:X.target.value}))})]})]}),a.jsx(we,{onClick:M,disabled:u,className:"w-full",children:u?a.jsx(hs,{text:t("generating")}):a.jsxs(a.Fragment,{children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:[t("active_qr_codes")," (",Y.length,")"]}),a.jsx(st,{children:t("manage_active_merchant_qr_codes")})]}),a.jsx(fe,{children:Y.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ir,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("generate_first_merchant_qr_code")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map((X,G)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:G*.1},children:a.jsxs(ue,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Te,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:X.business_name||t("merchant_payment")}),W(X)]}),X.description&&a.jsx(st,{children:X.description})]}),a.jsxs(fe,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(iu,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:X.business_name||t("merchant_business")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:L(X.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wn,{className:"h-4 w-4 mr-2 text-purple-600"}),a.jsxs("span",{children:[X.usage_count," ",t("times_scanned")]})]}),X.expires_at&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-orange-600"}),a.jsxs("span",{children:[t("expires"),": ",L(X.expires_at)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>F(X),className:"gap-1",children:[a.jsx(Gne,{className:"h-3 w-3"}),"View"]}),a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>z(X),className:"gap-1",children:[a.jsx(As,{className:"h-3 w-3"}),"Download"]}),a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>I(X),className:"gap-1",children:[a.jsx(OS,{className:"h-3 w-3"}),"Print"]}),a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>k(X),className:"gap-1",children:[a.jsx(MS,{className:"h-3 w-3"}),"Share"]})]}),a.jsx(we,{variant:X.is_active?"destructive":"default",size:"sm",onClick:()=>D(X.id,X.is_active),className:"w-full",children:X.is_active?a.jsxs(a.Fragment,{children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},X.id))})})]}),Q.length>0&&a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:[t("inactive_expired_qr_codes")," (",Q.length,")"]}),a.jsx(st,{children:t("manage_inactive_merchant_qr_codes")})]}),a.jsx(fe,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map((X,G)=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:G*.1},children:a.jsxs(ue,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[a.jsxs(Te,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:X.business_name||t("merchant_payment")}),W(X)]}),X.description&&a.jsx(st,{children:X.description})]}),a.jsxs(fe,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:L(X.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[X.usage_count," ",t("times_scanned")]})]})]}),!$(X.expires_at)&&a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>D(X.id,X.is_active),className:"w-full",children:[a.jsx(Td,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},X.id))})})]}),a.jsx(Wr,{open:x,onOpenChange:w,children:a.jsxs(Gr,{className:"max-w-md",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{className:"text-center",children:(f==null?void 0:f.business_name)||t("merchant_payment")}),(f==null?void 0:f.description)&&a.jsx(ka,{className:"text-center",children:f.description})]}),f&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(WCe,{qrData:f.qr_data})}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("amount"),":"]}),a.jsx("span",{className:"font-bold text-green-600",children:V(JSON.parse(f.qr_data).amount||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("status"),":"]}),W(f)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("scans"),":"]}),a.jsx("span",{children:f.usage_count})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("created"),":"]}),a.jsx("span",{children:L(f.created_at)})]}),f.expires_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("expires"),":"]}),a.jsx("span",{children:L(f.expires_at)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(we,{variant:"outline",onClick:()=>z(f),className:"gap-2",children:[a.jsx(As,{className:"h-4 w-4"}),t("download")]}),a.jsxs(we,{variant:"outline",onClick:()=>I(f),className:"gap-2",children:[a.jsx(OS,{className:"h-4 w-4"}),t("print")]}),a.jsxs(we,{variant:"outline",onClick:()=>k(f),className:"gap-2",children:[a.jsx(MS,{className:"h-4 w-4"}),t("share")]}),a.jsxs(we,{variant:"outline",onClick:()=>R(f),className:"gap-2",children:[a.jsx(By,{className:"h-4 w-4"}),t("copy")]})]}),a.jsx(we,{variant:f.is_active?"destructive":"default",onClick:()=>{D(f.id,f.is_active),w(!1)},className:"w-full gap-2",disabled:$(f.expires_at),children:f.is_active?a.jsxs(a.Fragment,{children:[a.jsx(fs,{className:"h-4 w-4"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"h-4 w-4"}),t("activate")]})})]})]})})]})}function WCe({qrData:e,size:t=200}){const[n,r]=j.useState("");return j.useEffect(()=>{e&&(async()=>{try{const i=await BH.toDataURL(e,{width:t,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"});r(i)}catch(i){console.error("Error generating QR code:",i)}})()},[e,t]),n?a.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:a.jsx("img",{src:n,alt:"QR Code",className:"rounded",style:{width:t,height:t}})}):a.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-lg",style:{width:t,height:t},children:a.jsx(hs,{text:""})})}function GCe(){const{t:e}=Ut();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:e("analytics")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]}),a.jsx(ue,{children:a.jsxs(fe,{className:"text-center py-12",children:[a.jsx(Xn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e("analytics_coming_soon")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]})})]})}const FH=()=>{const{user:e}=$t(),[t,n]=j.useState(null),[r,s]=j.useState([]),[i,o]=j.useState(!1),[u,m]=j.useState(!1),[f,g]=j.useState(""),[x,w]=j.useState("bank_transfer"),[_,C]=j.useState({bank_name:"",account_number:"",account_holder:"",swift_code:""}),[A,E]=j.useState({provider:"syriatel",phone_number:""}),[M,D]=j.useState(""),R=async()=>{if(e)try{const{data:L,error:$}=await $e.from("wallets").select("balance, currency").eq("user_id",e.id).single();if($){console.error("Error fetching wallet:",$);return}n(L)}catch(L){console.error("Error fetching wallet:",L)}},z=async()=>{if(e){o(!0);try{const{data:L,error:$}=await $e.from("withdrawal_requests").select("*").eq("user_id",e.id).order("requested_at",{ascending:!1});if($){console.error("Error fetching withdrawal requests:",$),_e.error("Failed to load withdrawal history");return}s(L||[])}catch(L){console.error("Error fetching withdrawal requests:",L),_e.error("Failed to load withdrawal history")}finally{o(!1)}}},I=async()=>{if(!e||!t)return;const L=parseFloat(f);if(isNaN(L)||L<=0){_e.error("Please enter a valid amount");return}if(L>t.balance){_e.error("Insufficient balance");return}if(L<1e3){_e.error("Minimum withdrawal amount is 1,000 SYP");return}let $={};if(x==="bank_transfer"){if(!_.bank_name||!_.account_number||!_.account_holder){_e.error("Please fill in all bank details");return}$={type:"bank_transfer",..._}}else if(x==="mobile_wallet"){if(!A.phone_number){_e.error("Please enter your mobile wallet phone number");return}$={type:"mobile_wallet",...A}}m(!0);try{const{error:W}=await $e.from("withdrawal_requests").insert({user_id:e.id,amount:L,currency:t.currency,payment_method:$,request_notes:M.trim()||null});if(W){console.error("Error submitting withdrawal request:",W),_e.error("Failed to submit withdrawal request");return}_e.success("Withdrawal request submitted successfully"),g(""),D(""),C({bank_name:"",account_number:"",account_holder:"",swift_code:""}),E({provider:"syriatel",phone_number:""}),z()}catch(W){console.error("Error submitting withdrawal request:",W),_e.error("Failed to submit withdrawal request")}finally{m(!1)}};j.useEffect(()=>{e&&(R(),z())},[e]);const k=L=>{switch(L){case"pending":return"bg-yellow-500";case"approved":return"bg-green-500";case"rejected":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},F=L=>{switch(L){case"pending":return Hn;case"approved":return Ch;case"rejected":return Hd;case"completed":return Ch;default:return rp}},V=(L,$="SYP")=>new Intl.NumberFormat("en-US",{style:"currency",currency:$==="SYP"?"USD":$,minimumFractionDigits:0}).format(L).replace("$","")+" "+$;return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(lu,{className:"h-5 w-5"}),"Wallet Balance"]})}),a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold",children:t?V(t.balance,t.currency):"..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for withdrawal"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Xn,{className:"h-8 w-8 text-green-500 mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total earnings"})]})]})})]}),a.jsxs(pi,{defaultValue:"request",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2",children:[a.jsx(At,{value:"request",children:"Request Withdrawal"}),a.jsx(At,{value:"history",children:"Withdrawal History"})]}),a.jsxs(Ot,{value:"request",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(As,{className:"h-5 w-5"}),"Request Withdrawal"]})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"amount",children:"Withdrawal Amount *"}),a.jsxs("div",{className:"relative",children:[a.jsx(sr,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),a.jsx(dt,{id:"amount",type:"number",placeholder:"Enter amount",value:f,onChange:L=>g(L.target.value),className:"pl-10",min:"1000",max:(t==null?void 0:t.balance)||0})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Minimum: 1,000 SYP • Available: ",t?V(t.balance,t.currency):"0 SYP"]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"payment-method",children:"Payment Method *"}),a.jsxs(kt,{value:x,onValueChange:w,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"bank_transfer",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(RD,{className:"h-4 w-4"}),"Bank Transfer"]})}),a.jsx(Ae,{value:"mobile_wallet",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(TS,{className:"h-4 w-4"}),"Mobile Wallet"]})})]})]})]}),x==="bank_transfer"&&a.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[a.jsx(RD,{className:"h-4 w-4"}),"Bank Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"bank-name",children:"Bank Name *"}),a.jsx(dt,{id:"bank-name",placeholder:"e.g., Bank Audi",value:_.bank_name,onChange:L=>C($=>({...$,bank_name:L.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"account-number",children:"Account Number *"}),a.jsx(dt,{id:"account-number",placeholder:"1234567890",value:_.account_number,onChange:L=>C($=>({...$,account_number:L.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"account-holder",children:"Account Holder Name *"}),a.jsx(dt,{id:"account-holder",placeholder:"Full name as on bank account",value:_.account_holder,onChange:L=>C($=>({...$,account_holder:L.target.value}))})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"swift-code",children:"SWIFT/BIC Code"}),a.jsx(dt,{id:"swift-code",placeholder:"Optional",value:_.swift_code,onChange:L=>C($=>({...$,swift_code:L.target.value}))})]})]})]}),x==="mobile_wallet"&&a.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[a.jsx(TS,{className:"h-4 w-4"}),"Mobile Wallet Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"wallet-provider",children:"Provider"}),a.jsxs(kt,{value:A.provider,onValueChange:L=>E($=>({...$,provider:L})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"syriatel",children:"Syriatel Cash"}),a.jsx(Ae,{value:"mtn",children:"MTN Cash"}),a.jsx(Ae,{value:"bemo",children:"Bemo Pay"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"wallet-phone",children:"Phone Number *"}),a.jsx(dt,{id:"wallet-phone",placeholder:"+963 XXX XXX XXX",value:A.phone_number,onChange:L=>E($=>({...$,phone_number:L.target.value}))})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"notes",children:"Additional Notes"}),a.jsx(Es,{id:"notes",placeholder:"Any special instructions or notes...",value:M,onChange:L=>D(L.target.value),rows:3})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(we,{onClick:I,disabled:u||!f||parseFloat(f)<=0,className:"w-full md:w-auto",children:u?"Submitting...":"Submit Withdrawal Request"})})]})]}),a.jsx(ue,{children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ev,{className:"h-5 w-5 text-blue-500 mt-0.5"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Important Information"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("li",{children:"• Minimum withdrawal amount is 1,000 SYP"}),a.jsx("li",{children:"• Processing time: 2-5 business days"}),a.jsx("li",{children:"• Bank transfers may incur additional fees"}),a.jsx("li",{children:"• Ensure your payment details are accurate to avoid delays"}),a.jsx("li",{children:"• You'll receive a notification once your request is processed"})]})]})]})})})]}),a.jsx(Ot,{value:"history",children:a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-5 w-5"}),"Withdrawal History"]})}),a.jsx(fe,{children:i?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal history..."})}):r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(As,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No withdrawal requests yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your withdrawal history will appear here"})]}):a.jsx(kd,{className:"h-[400px]",children:a.jsx("div",{className:"space-y-4",children:r.map(L=>{var W,Y,Q;const $=F(L.status);return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Je,{variant:"outline",className:`${k(L.status)} text-white`,children:[a.jsx($,{className:"h-3 w-3 mr-1"}),L.status.charAt(0).toUpperCase()+L.status.slice(1)]}),a.jsx("span",{className:"text-lg font-medium",children:V(L.amount,L.currency)})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:Ph(new Date(L.requested_at),{addSuffix:!0})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Payment Method:"}),a.jsx("p",{className:"font-medium",children:((W=L.payment_method)==null?void 0:W.type)==="bank_transfer"?`Bank Transfer - ${L.payment_method.bank_name}`:`${(Y=L.payment_method)==null?void 0:Y.provider} - ${(Q=L.payment_method)==null?void 0:Q.phone_number}`})]}),L.processed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Processed:"}),a.jsx("p",{className:"font-medium",children:Ph(new Date(L.processed_at),{addSuffix:!0})})]})]}),L.request_notes&&a.jsxs("div",{className:"mt-3 p-2 bg-muted/30 rounded text-sm",children:[a.jsx("p",{className:"text-muted-foreground",children:"Your notes:"}),a.jsx("p",{children:L.request_notes})]}),L.admin_notes&&a.jsxs("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:[a.jsx("p",{className:"text-muted-foreground",children:"Admin notes:"}),a.jsx("p",{children:L.admin_notes})]})]},L.id)})})})})]})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Please log in to access withdrawal features"})})};function KCe(){return X_(["merchant"]),a.jsx(Wp,{userType:"merchant",children:a.jsxs(Kh,{children:[a.jsx(ht,{path:"/",element:a.jsx(Vl,{to:"/merchant/home",replace:!0})}),a.jsx(ht,{path:"/home",element:a.jsx(wCe,{})}),a.jsx(ht,{path:"/business",element:a.jsx(jCe,{})}),a.jsx(ht,{path:"/payments",element:a.jsx(NCe,{})}),a.jsx(ht,{path:"/qr-codes",element:a.jsx(YCe,{})}),a.jsx(ht,{path:"/analytics",element:a.jsx(GCe,{})}),a.jsx(ht,{path:"/profile",element:a.jsx(u0,{})}),a.jsx(ht,{path:"/settings",element:a.jsx(d0,{})}),a.jsx(ht,{path:"/chat",element:a.jsx(X1,{})}),a.jsx(ht,{path:"/withdrawal",element:a.jsx(FH,{})})]})})}function XCe(){const{profile:e}=$t(),{t,language:n}=Ut(),[r,s]=j.useState({totalEvents:0,activeEvents:0,totalTicketsSold:0,totalRevenue:0,pendingValidations:0,recentEvents:[],recentTickets:[]}),[i,o]=j.useState(!0),[u,m]=j.useState(!0);j.useEffect(()=>{e&&f()},[e]);const f=async()=>{if(e)try{o(!0);const{data:_,error:C}=await $e.from("events").select("*").eq("created_by",e.id);if(C)throw C;const A=(_==null?void 0:_.map(L=>L.id))||[],{data:E,error:M}=await $e.from("user_tickets").select(`
          *,
          events (
            title,
            price
          ),
          profiles (
            full_name
          )
        `).in("event_id",A);if(M)throw M;const D=(_==null?void 0:_.length)||0,R=(_==null?void 0:_.filter(L=>new Date(L.start_date||L.created_at)>new Date&&L.is_active).length)||0,z=(E==null?void 0:E.length)||0,I=(E==null?void 0:E.reduce((L,$)=>{var W;return L+(((W=$.events)==null?void 0:W.price)||0)},0))||0,k=(E==null?void 0:E.filter(L=>L.status==="pending").length)||0,F=(_==null?void 0:_.sort((L,$)=>new Date($.created_at).getTime()-new Date(L.created_at).getTime()).slice(0,5))||[],V=(E==null?void 0:E.sort((L,$)=>new Date($.created_at).getTime()-new Date(L.created_at).getTime()).slice(0,5))||[];s({totalEvents:D,activeEvents:R,totalTicketsSold:z,totalRevenue:I,pendingValidations:k,recentEvents:F,recentTickets:V})}catch(_){console.error("Error fetching event stats:",_)}finally{o(!1)}},g=_=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(_),x=_=>{switch(_){case"active":return"default";case"pending":return"secondary";case"used":return"default";case"cancelled":return"destructive";default:return"secondary"}},w=_=>{switch(_){case"active":return a.jsx(_r,{className:"h-4 w-4"});case"pending":return a.jsx(Hn,{className:"h-4 w-4"});case"used":return a.jsx(_r,{className:"h-4 w-4"});case"cancelled":return a.jsx(au,{className:"h-4 w-4"});default:return a.jsx(Hn,{className:"h-4 w-4"})}};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[t("welcome"),", ",e==null?void 0:e.full_name]}),a.jsx("p",{className:"text-muted-foreground",children:t("eventAdminDashboardOverview")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(we,{children:[a.jsx(Ss,{className:"h-4 w-4 mr-2"}),t("createEvent")]}),a.jsxs(we,{variant:"outline",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),t("validateTickets")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalEvents")}),a.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalEvents}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeEvents," ",t("activeEvents")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("ticketsSold")}),a.jsx(ca,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTicketsSold}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.pendingValidations," ",t("pendingValidation")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalRevenue")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(we,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>m(!u),children:u?a.jsx(Wn,{className:"h-3 w-3"}):a.jsx(fs,{className:"h-3 w-3"})})]})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:u?g(r.totalRevenue):"••••••"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Xn,{className:"h-3 w-3 inline mr-1"}),t("fromTicketSales")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("pendingValidations")}),a.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.pendingValidations}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recentEvents")}),a.jsx(st,{children:t("yourLatestEventActivities")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:r.recentEvents.length>0?r.recentEvents.map((_,C)=>a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:_.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(_.start_date||_.created_at).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Je,{variant:_.is_active?"default":"secondary",children:_.is_active?t("active"):t("inactive")}),a.jsx("span",{className:"text-sm font-medium",children:g(_.ticket_price)})]})]},_.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noEventsYet")})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recentTicketActivity")}),a.jsx(st,{children:t("latestTicketPurchasesAndValidations")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:r.recentTickets.length>0?r.recentTickets.map((_,C)=>{var A,E;return a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:(A=_.events)==null?void 0:A.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("purchasedBy")," ",(E=_.profiles)==null?void 0:E.full_name]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Je,{variant:x(_.status),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[w(_.status),a.jsx("span",{children:t(_.status)})]})})})]},_.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noTicketActivityYet")})})})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("quickActions")}),a.jsx(st,{children:t("commonTasksAndActions")})]}),a.jsx(fe,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(we,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Ss,{className:"h-6 w-6"}),a.jsx("span",{children:t("createNewEvent")})]})}),a.jsx(we,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(ir,{className:"h-6 w-6"}),a.jsx("span",{children:t("validateTickets")})]})}),a.jsx(we,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Xn,{className:"h-6 w-6"}),a.jsx("span",{children:t("viewAnalytics")})]})})]})})]})]})}const m6=["concert","sports","conference","workshop","festival","theater","exhibition","other"];function QCe(){const{profile:e}=$t(),{t,language:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState([]),[u,m]=j.useState(!0),[f,g]=j.useState(""),[x,w]=j.useState("all"),[_,C]=j.useState("all"),[A,E]=j.useState(!1),[M,D]=j.useState(null),[R,z]=j.useState({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0});j.useEffect(()=>{I()},[]),j.useEffect(()=>{k()},[r,f,x,_]);const I=async()=>{if(e)try{m(!0);const{data:H,error:J}=await $e.from("events").select(`
          *,
          user_tickets (
            id
          )
        `).eq("created_by",e.id).order("created_at",{ascending:!1});if(J)throw J;const Z=H.map(de=>{var re;return{...de,current_bookings:((re=de.user_tickets)==null?void 0:re.length)||0}});s(Z)}catch(H){console.error("Error fetching events:",H),_e.error(t("errorFetchingEvents"))}finally{m(!1)}},k=()=>{let H=r;f&&(H=H.filter(J=>J.title.toLowerCase().includes(f.toLowerCase())||J.description.toLowerCase().includes(f.toLowerCase())||J.location.toLowerCase().includes(f.toLowerCase()))),x!=="all"&&(H=H.filter(J=>J.category===x)),_!=="all"&&(_==="active"?H=H.filter(J=>J.is_active):_==="inactive"?H=H.filter(J=>!J.is_active):_==="upcoming"?H=H.filter(J=>new Date(J.event_date)>new Date):_==="past"&&(H=H.filter(J=>new Date(J.event_date)<new Date))),o(H)},F=(H,J)=>{z(Z=>({...Z,[H]:J}))},V=async()=>{if(e)try{const H={...R,created_by:e.id,updated_at:new Date().toISOString()};let J;if(M?J=await $e.from("events").update(H).eq("id",M.id).select():J=await $e.from("events").insert(H).select(),J.error)throw J.error;_e.success(t(M?"eventUpdated":"eventCreated")),E(!1),D(null),Y(),I()}catch(H){console.error("Error saving event:",H),_e.error(t("errorSavingEvent"))}},L=H=>{D(H),z({title:H.title,description:H.description,event_date:H.event_date.split("T")[0],location:H.location,ticket_price:H.ticket_price,max_capacity:H.max_capacity,category:H.category,is_active:H.is_active}),E(!0)},$=async H=>{if(confirm(t("confirmDeleteEvent")))try{const{error:J}=await $e.from("events").delete().eq("id",H);if(J)throw J;_e.success(t("eventDeleted")),I()}catch(J){console.error("Error deleting event:",J),_e.error(t("errorDeletingEvent"))}},W=async H=>{try{const{error:J}=await $e.from("events").update({is_active:!H.is_active}).eq("id",H.id);if(J)throw J;_e.success(t("eventStatusUpdated")),I()}catch(J){console.error("Error updating event status:",J),_e.error(t("errorUpdatingEvent"))}},Y=()=>{z({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0})},Q=H=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(H),X=H=>H.is_active?new Date(H.event_date)<new Date?"destructive":"default":"secondary",G=H=>H.is_active?new Date(H.event_date)<new Date?t("ended"):t("active"):t("inactive");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("eventManagement")}),a.jsx("p",{className:"text-muted-foreground",children:t("createAndManageYourEvents")})]}),a.jsxs(Wr,{open:A,onOpenChange:E,children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{onClick:()=>{Y(),D(null)},children:[a.jsx(Ss,{className:"h-4 w-4 mr-2"}),t("createEvent")]})}),a.jsxs(Gr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:t(M?"editEvent":"createNewEvent")}),a.jsx(ka,{children:t(M?"updateEventDetails":"fillEventInformation")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"title",children:t("eventTitle")}),a.jsx(dt,{id:"title",value:R.title,onChange:H=>F("title",H.target.value),placeholder:t("enterEventTitle")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"category",children:t("category")}),a.jsxs(kt,{value:R.category,onValueChange:H=>F("category",H),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsx(Lt,{children:m6.map(H=>a.jsx(Ae,{value:H,children:t(H)},H))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"description",children:t("description")}),a.jsx(Es,{id:"description",value:R.description,onChange:H=>F("description",H.target.value),placeholder:t("enterEventDescription"),rows:3})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"event_date",children:t("eventDate")}),a.jsx(dt,{id:"event_date",type:"datetime-local",value:R.event_date,onChange:H=>F("event_date",H.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"location",children:t("location")}),a.jsx(dt,{id:"location",value:R.location,onChange:H=>F("location",H.target.value),placeholder:t("enterEventLocation")})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ze,{htmlFor:"ticket_price",children:[t("ticketPrice")," (SYP)"]}),a.jsx(dt,{id:"ticket_price",type:"number",value:R.ticket_price,onChange:H=>F("ticket_price",Number(H.target.value)),min:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"max_capacity",children:t("maxCapacity")}),a.jsx(dt,{id:"max_capacity",type:"number",value:R.max_capacity,onChange:H=>F("max_capacity",Number(H.target.value)),min:"1"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tl,{id:"is_active",checked:R.is_active,onCheckedChange:H=>F("is_active",H)}),a.jsx(ze,{htmlFor:"is_active",children:t("eventActive")})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(we,{variant:"outline",onClick:()=>E(!1),children:t("cancel")}),a.jsx(we,{onClick:V,children:t(M?"updateEvent":"createEvent")})]})]})]})]})]}),a.jsx(ue,{children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{placeholder:t("searchEvents"),value:f,onChange:H=>g(H.target.value),className:"pl-9"})]})}),a.jsxs(kt,{value:x,onValueChange:w,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByCategory")})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("allCategories")}),m6.map(H=>a.jsx(Ae,{value:H,children:t(H)},H))]})]}),a.jsxs(kt,{value:_,onValueChange:C,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByStatus")})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("allStatuses")}),a.jsx(Ae,{value:"active",children:t("active")}),a.jsx(Ae,{value:"inactive",children:t("inactive")}),a.jsx(Ae,{value:"upcoming",children:t("upcoming")}),a.jsx(Ae,{value:"past",children:t("past")})]})]})]})})}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("eventsList")}),a.jsxs(st,{children:[t("totalEvents"),": ",i.length]})]}),a.jsx(fe,{children:u?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(pm,{children:[a.jsx(xm,{children:a.jsxs(xu,{children:[a.jsx(vn,{children:t("event")}),a.jsx(vn,{children:t("date")}),a.jsx(vn,{children:t("location")}),a.jsx(vn,{children:t("price")}),a.jsx(vn,{children:t("capacity")}),a.jsx(vn,{children:t("status")}),a.jsx(vn,{className:"text-right",children:t("actions")})]})}),a.jsx(vm,{children:i.map((H,J)=>a.jsxs(qe.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:J*.1},className:"hover:bg-muted/50",children:[a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:H.title}),a.jsx(Je,{variant:"outline",children:t(H.category)})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:new Date(H.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"truncate max-w-[120px]",children:H.location})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:Q(H.ticket_price)})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ba,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:[H.current_bookings,"/",H.max_capacity]})]})}),a.jsx(yn,{children:a.jsx(Je,{variant:X(H),children:G(H)})}),a.jsx(yn,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx(we,{variant:"ghost",size:"sm",onClick:()=>L(H),children:a.jsx(sB,{className:"h-4 w-4"})}),a.jsx(we,{variant:"ghost",size:"sm",onClick:()=>W(H),children:a.jsx(su,{className:"h-4 w-4"})}),a.jsx(we,{variant:"ghost",size:"sm",onClick:()=>$(H.id),children:a.jsx(Av,{className:"h-4 w-4"})})]})})]},H.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ra,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noEventsFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("createYourFirstEvent")})]})})]})]})}function ZCe(){const{profile:e}=$t(),{t,language:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState(""),[u,m]=j.useState([]),[f,g]=j.useState([]),[x,w]=j.useState(!0),[_,C]=j.useState(!1),[A,E]=j.useState(null),[M,D]=j.useState(""),[R,z]=j.useState(""),[I,k]=j.useState(null),[F,V]=j.useState(""),[L,$]=j.useState("all"),[W,Y]=j.useState(!1),Q=j.useRef(null),X=j.useRef(null),G=j.useRef(null),H=j.useRef(null);j.useEffect(()=>(J(),()=>{pe()}),[]),j.useEffect(()=>{i&&Z()},[i]),j.useEffect(()=>{de()},[u,F,L]);const J=async()=>{if(e)try{const{data:oe,error:he}=await $e.from("event_admins").select(`
          event_id,
          events (
            id,
            title,
            description,
            category,
            start_date,
            location,
            image_url,
            is_active
          )
        `).eq("user_id",e.id).eq("is_active",!0);if(he)throw he;const{data:Re,error:be}=await $e.from("events").select("id, title, description, category, start_date, location, image_url, is_active").eq("created_by",e.id);if(be)throw be;const ye=(oe||[]).map(Qe=>Qe.events).filter(Boolean),Ve=[...Re||[],...ye].reduce((Qe,gt)=>(gt&&!Qe.find(et=>et.id===gt.id)&&Qe.push(gt),Qe),[]);s(Ve.filter(Qe=>Qe.is_active))}catch(oe){console.error("Error fetching events:",oe),_e.error(t("errorFetchingEvents"))}finally{w(!1)}},Z=async()=>{if(i)try{const{data:oe,error:he}=await $e.from("qr_validations").select(`
          *,
          user_tickets (
            ticket_number,
            event_details_snapshot,
            profiles (
              full_name,
              email
            )
          )
        `).eq("event_id",i).order("validated_at",{ascending:!1});if(he)throw he;const Re=(oe||[]).map(be=>({...be,ticket:be.user_tickets?{ticket_number:be.user_tickets.ticket_number,user:be.user_tickets.profiles,event_details_snapshot:be.user_tickets.event_details_snapshot}:null}));m(Re)}catch(oe){console.error("Error fetching validations:",oe),_e.error("Error fetching validations")}},de=()=>{let oe=u;F&&(oe=oe.filter(he=>{var Re,be,ye,Ke,Ve;return((Re=he.ticket)==null?void 0:Re.ticket_number.toLowerCase().includes(F.toLowerCase()))||((ye=(be=he.ticket)==null?void 0:be.user)==null?void 0:ye.full_name.toLowerCase().includes(F.toLowerCase()))||((Ve=(Ke=he.ticket)==null?void 0:Ke.user)==null?void 0:Ve.email.toLowerCase().includes(F.toLowerCase()))})),L!=="all"&&(oe=oe.filter(he=>he.validation_status===L)),g(oe)},re=async()=>{try{E(null);const oe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});Q.current&&(Q.current.srcObject=oe,G.current=oe,C(!0),H.current=setInterval(Ne,1e3))}catch(oe){console.error("Camera error:",oe),E(t("cameraAccessDenied")),C(!1)}},pe=()=>{G.current&&(G.current.getTracks().forEach(oe=>oe.stop()),G.current=null),H.current&&(clearInterval(H.current),H.current=null),C(!1)},Ne=()=>{if(!Q.current||!X.current||!_)return;const oe=Q.current,he=X.current,Re=he.getContext("2d");!Re||oe.readyState!==oe.HAVE_ENOUGH_DATA||(he.width=oe.videoWidth,he.height=oe.videoHeight,Re.drawImage(oe,0,0,he.width,he.height))},Se=async oe=>{if(!i){_e.error(t("selectEventFirst"));return}try{w(!0);const{data:he,error:Re}=await $e.rpc("validate_event_qr",{p_ticket_qr_data:oe,p_event_id:i,p_validator_id:e==null?void 0:e.id,p_validation_location:R||null});if(Re)throw Re;const be=he[0];k(be),Y(!0),be.success?(_e.success(t("ticketValidatedSuccessfully")),Z()):_e.error(be.message),D("")}catch(he){console.error("Validation error:",he),_e.error(t("validationError")),k({success:!1,message:t("validationError")}),Y(!0)}finally{w(!1)}},xe=()=>{if(!M.trim()){_e.error(t("enterQRCode"));return}Se(M.trim())},Pe=oe=>new Date(oe).toLocaleString(n==="ar"?"ar-SY":"en-US"),se=oe=>{switch(oe){case"valid":return"default";case"invalid":return"destructive";case"expired":return"secondary";case"used":return"outline";default:return"secondary"}},ce=oe=>{switch(oe){case"valid":return a.jsx(_r,{className:"h-4 w-4 text-green-500"});case"invalid":return a.jsx(au,{className:"h-4 w-4 text-red-500"});case"expired":return a.jsx(Hn,{className:"h-4 w-4 text-gray-500"});case"used":return a.jsx(Er,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(Er,{className:"h-4 w-4"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("ticketValidation")}),a.jsx("p",{className:"text-muted-foreground",children:t("scanAndValidateEventTickets")})]})}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("selectEvent")}),a.jsx(st,{children:t("chooseEventToValidateTickets")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:t("event")}),a.jsxs(kt,{value:i,onValueChange:o,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:t("selectEvent")})}),a.jsx(Lt,{children:r.map(oe=>a.jsx(Ae,{value:oe.id,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:oe.title}),a.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",new Date(oe.start_date).toLocaleDateString(),")"]})]})},oe.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ze,{children:[t("validationLocation")," (",t("optional"),")"]}),a.jsx(dt,{value:R,onChange:oe=>z(oe.target.value),placeholder:t("enterValidationLocation")})]})]})})})]}),i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"h-5 w-5"}),a.jsx("span",{children:t("qrScanner")})]}),a.jsx(st,{children:t("scanTicketQRCode")})]}),a.jsx(fe,{className:"space-y-4",children:a.jsx("div",{className:"relative",children:_?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[a.jsx("video",{ref:Q,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),a.jsx("canvas",{ref:X,className:"hidden"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx("div",{className:"w-48 h-48 border-2 border-white border-dashed rounded-lg"})})]}),a.jsxs(we,{variant:"outline",onClick:pe,className:"w-full",children:[a.jsx(ES,{className:"h-4 w-4 mr-2"}),t("stopCamera")]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center h-64 bg-muted rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ph,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"font-medium",children:t("cameraNotActive")}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("startCameraToScan")})]})}),A?a.jsxs(us,{children:[a.jsx(Er,{className:"h-4 w-4"}),a.jsx(ds,{children:A})]}):a.jsxs(we,{onClick:re,className:"w-full",children:[a.jsx(ph,{className:"h-4 w-4 mr-2"}),t("startCamera")]})]})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(ca,{className:"h-5 w-5"}),a.jsx("span",{children:t("manualValidation")})]}),a.jsx(st,{children:t("enterQRCodeManually")})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:t("qrCodeData")}),a.jsx(dt,{value:M,onChange:oe=>D(oe.target.value),placeholder:t("pasteQRCodeData")})]}),a.jsxs(we,{onClick:xe,disabled:!M.trim()||x,className:"w-full",children:[x?a.jsx(Td,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(_r,{className:"h-4 w-4 mr-2"}),t("validateTicket")]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-medium mb-2",children:t("todayStats")}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"text-center p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[a.jsx("div",{className:"font-medium text-green-700 dark:text-green-400",children:u.filter(oe=>oe.validation_status==="valid"&&new Date(oe.validated_at).toDateString()===new Date().toDateString()).length}),a.jsx("div",{className:"text-green-600 dark:text-green-500",children:t("valid")})]}),a.jsxs("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[a.jsx("div",{className:"font-medium text-red-700 dark:text-red-400",children:u.filter(oe=>oe.validation_status==="invalid"&&new Date(oe.validated_at).toDateString()===new Date().toDateString()).length}),a.jsx("div",{className:"text-red-600 dark:text-red-500",children:t("invalid")})]})]})]})]})]})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:t("validationHistory")}),a.jsx(st,{children:t("recentTicketValidations")})]}),a.jsxs(we,{variant:"outline",size:"sm",onClick:Z,children:[a.jsx(Td,{className:"h-4 w-4 mr-2"}),t("refresh")]})]})}),a.jsx(fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{placeholder:t("searchValidations"),value:F,onChange:oe=>V(oe.target.value),className:"pl-9"})]})}),a.jsxs(kt,{value:L,onValueChange:$,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByStatus")})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("allStatuses")}),a.jsx(Ae,{value:"valid",children:t("valid")}),a.jsx(Ae,{value:"invalid",children:t("invalid")}),a.jsx(Ae,{value:"expired",children:t("expired")}),a.jsx(Ae,{value:"used",children:t("used")})]})]})]}),f.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(pm,{children:[a.jsx(xm,{children:a.jsxs(xu,{children:[a.jsx(vn,{children:t("ticket")}),a.jsx(vn,{children:t("holder")}),a.jsx(vn,{children:t("status")}),a.jsx(vn,{children:t("location")}),a.jsx(vn,{children:t("validatedAt")})]})}),a.jsx(vm,{children:f.map((oe,he)=>{var Re,be,ye,Ke,Ve,Qe,gt;return a.jsxs(qe.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},className:"hover:bg-muted/50",children:[a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-medium",children:["#",(Re=oe.ticket)==null?void 0:Re.ticket_number]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(ye=(be=oe.ticket)==null?void 0:be.event_details_snapshot)==null?void 0:ye.event_title})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:(Ve=(Ke=oe.ticket)==null?void 0:Ke.user)==null?void 0:Ve.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(gt=(Qe=oe.ticket)==null?void 0:Qe.user)==null?void 0:gt.email})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[ce(oe.validation_status),a.jsx(Je,{variant:se(oe.validation_status),children:t(oe.validation_status)})]})}),a.jsx(yn,{children:oe.validation_location||"-"}),a.jsx(yn,{children:Pe(oe.validated_at)})]},oe.id)})})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ir,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noValidationsFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("startValidatingTickets")})]})]})})]})]}),a.jsx(Wr,{open:W,onOpenChange:Y,children:a.jsxs(Gr,{children:[a.jsx(Kr,{children:a.jsx(Xr,{className:"flex items-center space-x-2",children:I!=null&&I.success?a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{children:t("validTicket")})]}):a.jsxs(a.Fragment,{children:[a.jsx(au,{className:"h-5 w-5 text-red-500"}),a.jsx("span",{children:t("invalidTicket")})]})})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(us,{children:a.jsx(ds,{children:I==null?void 0:I.message})}),(I==null?void 0:I.success)&&I.ticket_data&&a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{className:"text-lg",children:t("ticketDetails")})}),a.jsx(fe,{className:"space-y-3",children:a.jsxs("div",{className:"grid gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("ticketNumber"),":"]}),a.jsxs("span",{className:"font-medium",children:["#",I.ticket_data.ticket_number]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("event"),":"]}),a.jsx("span",{className:"font-medium",children:I.ticket_data.event_title})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("eventDate"),":"]}),a.jsx("span",{children:Pe(I.ticket_data.event_date)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("purchasedAt"),":"]}),a.jsx("span",{children:Pe(I.ticket_data.purchased_at)})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(we,{onClick:()=>Y(!1),children:t("close")})})]})]})})]})}const JCe=()=>{var F,V;const{user:e}=$t(),{language:t}=Ut(),[n,r]=j.useState([]),[s,i]=j.useState([]),[o,u]=j.useState([]),[m,f]=j.useState(!0),[g,x]=j.useState("30"),[w,_]=j.useState("line");j.useEffect(()=>{e&&C()},[e,g]);const C=async()=>{if(e){f(!0);try{const L=Vo(new Date,parseInt(g)),{data:$,error:W}=await $e.from("events").select("*").eq("organizer_id",e.id).gte("created_at",L.toISOString()).order("created_at",{ascending:!0});if(W)throw W;const{data:Y,error:Q}=await $e.from("event_ticket_sales").select("*").in("event_id",($==null?void 0:$.map(H=>H.id))||[]).gte("created_at",L.toISOString()).order("created_at",{ascending:!0});if(Q)throw Q;const{data:X,error:G}=await $e.from("event_attendees").select("*").in("event_id",($==null?void 0:$.map(H=>H.id))||[]);if(G)throw G;r($||[]),i(Y||[]),u(X||[])}catch(L){console.error("Error fetching analytics data:",L)}finally{f(!1)}}},A=()=>{const L=s.filter(he=>he.status==="confirmed"),$=L.reduce((he,Re)=>he+Re.total_amount,0),W=L.reduce((he,Re)=>he+Re.quantity,0),Y=L.reduce((he,Re)=>he+Re.booking_fee,0),Q=$-Y,X=n.filter(he=>he.status==="completed"),G=n.filter(he=>he.status==="upcoming"),H=o.length>0&&W>0?o.filter(he=>he.check_in_time).length/W*100:0,J=W>0?$/W:0,Z=Math.floor(parseInt(g)/2),de=Vo(new Date,Z),re=L.filter(he=>sa(he.created_at)>=de),pe=L.filter(he=>sa(he.created_at)<de),Ne=re.reduce((he,Re)=>he+Re.total_amount,0),Se=pe.reduce((he,Re)=>he+Re.total_amount,0),xe=Se>0?(Ne-Se)/Se*100:0,Pe=o.filter(he=>he.rating).length,se=Pe>0?o.filter(he=>he.rating).reduce((he,Re)=>he+(Re.rating||0),0)/Pe:0,oe=L.filter(he=>Vv(sa(he.created_at))).reduce((he,Re)=>he+Re.total_amount,0);return{totalRevenue:$,netRevenue:Q,totalTicketsSold:W,totalEvents:n.length,completedEvents:X.length,upcomingEvents:G.length,attendanceRate:H,avgTicketPrice:J,revenueGrowth:xe,avgRating:se,todayRevenue:oe,totalFees:Y}},E=()=>{const L=new Map;return s.filter($=>$.status==="confirmed").forEach($=>{const W=fr(sa($.created_at),"yyyy-MM-dd"),Y=L.get(W)||{revenue:0,tickets:0,events:new Set};Y.events.add($.event_id),L.set(W,{revenue:Y.revenue+$.total_amount,tickets:Y.tickets+$.quantity,events:Y.events})}),Array.from(L.entries()).map(([$,W])=>({date:fr(sa($),"MMM dd",{locale:t==="ar"?Ap:void 0}),revenue:W.revenue,tickets:W.tickets,events:W.events.size})).sort(($,W)=>$.date.localeCompare(W.date))},M=()=>n.map(L=>{const $=s.filter(J=>J.event_id===L.id&&J.status==="confirmed"),W=$.reduce((J,Z)=>J+Z.total_amount,0),Y=$.reduce((J,Z)=>J+Z.quantity,0),Q=L.total_tickets>0?Y/L.total_tickets*100:0,X=o.filter(J=>J.event_id===L.id),G=X.filter(J=>J.check_in_time).length,H=Y>0?G/Y*100:0;return{...L,revenue:W,ticketsSold:Y,sellOutRate:Q,attendanceRate:H,avgRating:X.length>0?X.filter(J=>J.rating).reduce((J,Z)=>J+(Z.rating||0),0)/X.filter(J=>J.rating).length:0}}).sort((L,$)=>$.revenue-L.revenue),D=()=>{const L=new Map;return n.forEach($=>{const W=$.category||"Other",Y=s.filter(H=>H.event_id===$.id&&H.status==="confirmed"),Q=Y.reduce((H,J)=>H+J.total_amount,0),X=Y.reduce((H,J)=>H+J.quantity,0),G=L.get(W)||{revenue:0,tickets:0,events:0};L.set(W,{revenue:G.revenue+Q,tickets:G.tickets+X,events:G.events+1})}),Array.from(L.entries()).map(([$,W])=>({name:$,revenue:W.revenue,tickets:W.tickets,events:W.events,avgRevenue:W.events>0?W.revenue/W.events:0})).sort(($,W)=>W.revenue-$.revenue)},R=()=>{const L=[],$=new Date;for(let W=5;W>=0;W--){const Y=new Date($.getFullYear(),$.getMonth()-W,1),Q=NA(Y),X=i1(Y),G=n.filter(J=>{const Z=sa(J.created_at);return Z>=Q&&Z<=X}),H=s.filter(J=>{const Z=sa(J.created_at);return Z>=Q&&Z<=X&&J.status==="confirmed"});L.push({month:fr(Y,"MMM yyyy",{locale:t==="ar"?Ap:void 0}),events:G.length,revenue:H.reduce((J,Z)=>J+Z.total_amount,0),tickets:H.reduce((J,Z)=>J+Z.quantity,0)})}return L},z=()=>{const L=new Map;s.filter(W=>W.status==="confirmed").forEach(W=>{const Y=W.customer_id,Q=L.get(Y)||{tickets:0,revenue:0,events:new Set};Q.events.add(W.event_id),L.set(Y,{tickets:Q.tickets+W.quantity,revenue:Q.revenue+W.total_amount,events:Q.events})});const $=Array.from(L.entries()).map(([W,Y])=>({id:W,tickets:Y.tickets,revenue:Y.revenue,events:Y.events.size,avgSpend:Y.tickets>0?Y.revenue/Y.tickets:0}));return{totalCustomers:$.length,repeatCustomers:$.filter(W=>W.events>1).length,topCustomers:$.sort((W,Y)=>Y.revenue-W.revenue).slice(0,10),avgSpendPerCustomer:$.length>0?$.reduce((W,Y)=>W+Y.revenue,0)/$.length:0}},I=()=>{const L=A(),$={metadata:{exportDate:new Date().toISOString(),dateRange:`${g} days`,organizerId:e==null?void 0:e.id,generatedBy:"Tickets Event Analytics"},kpis:L,salesTrend:E(),eventPerformance:M(),categoryAnalysis:D(),monthlyComparison:R(),customerInsights:z(),rawData:{events:n.length,ticketSales:s.length,attendees:o.length}},W=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),Y=URL.createObjectURL(W),Q=document.createElement("a");Q.href=Y,Q.download=`event-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,Q.click(),URL.revokeObjectURL(Y)},k=A();return m?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Event Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your event performance, ticket sales, and attendee insights"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:g,onChange:L=>x(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(we,{onClick:I,variant:"outline",size:"sm",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(sr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(fe,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[k.totalRevenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[k.revenueGrowth>0?a.jsx(Xn,{className:"h-3 w-3 text-green-600 mr-1"}):a.jsx(ql,{className:"h-3 w-3 text-red-600 mr-1"}),a.jsxs("span",{className:k.revenueGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(k.revenueGrowth).toFixed(1),"% vs last period"]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Tickets Sold"}),a.jsx(ca,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k.totalTicketsSold}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Avg price: ",k.avgTicketPrice.toLocaleString()," SYP"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Events"}),a.jsx(Ra,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k.totalEvents}),a.jsxs("p",{className:"text-xs text-gray-600",children:[k.upcomingEvents," upcoming • ",k.completedEvents," completed"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Attendance Rate"}),a.jsx(ba,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs(fe,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[k.attendanceRate.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Rating: ",k.avgRating.toFixed(1),"/5 ⭐"]})]})]})]}),a.jsxs(pi,{defaultValue:"sales",className:"space-y-4",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(At,{value:"sales",children:"Sales"}),a.jsx(At,{value:"events",children:"Events"}),a.jsx(At,{value:"categories",children:"Categories"}),a.jsx(At,{value:"customers",children:"Customers"}),a.jsx(At,{value:"monthly",children:"Monthly"}),a.jsx(At,{value:"insights",children:"Insights"})]}),a.jsx(Ot,{value:"sales",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:"Sales Trend"}),a.jsx(st,{children:"Daily ticket sales revenue and volume over time"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{variant:w==="line"?"default":"outline",size:"sm",onClick:()=>_("line"),children:"Line"}),a.jsx(we,{variant:w==="area"?"default":"outline",size:"sm",onClick:()=>_("area"),children:"Area"}),a.jsx(we,{variant:w==="bar"?"default":"outline",size:"sm",onClick:()=>_("bar"),children:"Bar"})]})]}),a.jsx(fe,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(ws,{width:"100%",height:"100%",children:w==="line"?a.jsxs(Ep,{data:E(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(L,$)=>[`${L} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(Ma,{}),a.jsx(Bi,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"tickets",stroke:"#82ca9d",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"events",stroke:"#ffc658",strokeWidth:2})]}):w==="area"?a.jsxs(G1,{data:E(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(L,$)=>[`${L} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(Ma,{}),a.jsx(zd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Qo,{data:E(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(L,$)=>[`${L} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(Ma,{}),a.jsx(Hr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Hr,{dataKey:"tickets",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"events",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Event Performance"}),a.jsx(st,{children:"Top performing events by revenue and attendance"})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:M().slice(0,10).map((L,$)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Je,{variant:"outline",className:"text-sm",children:["#",$+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:L.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[fr(sa(L.date),"MMM dd, yyyy")," • ",L.location]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[L.ticketsSold,"/",L.total_tickets," tickets •",L.sellOutRate.toFixed(1),"% sold •",L.attendanceRate.toFixed(1),"% attendance"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[L.revenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(sp,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{className:"text-sm",children:L.avgRating?L.avgRating.toFixed(1):"N/A"})]})]})]},L.id))})})]})}),a.jsx(Ot,{value:"categories",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Category Analysis"}),a.jsx(st,{children:"Performance breakdown by event categories"})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:D().map((L,$)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Je,{variant:"outline",className:"text-sm",children:["#",$+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:L.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[L.events," events • ",L.tickets," tickets sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[L.revenue.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Avg: ",L.avgRevenue.toLocaleString()," SYP/event"]})]})]},L.name))})})]})}),a.jsx(Ot,{value:"customers",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Customer Insights"})}),a.jsx(fe,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Customers"}),a.jsx("span",{className:"font-semibold",children:z().totalCustomers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Repeat Customers"}),a.jsx("span",{className:"font-semibold",children:z().repeatCustomers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Spend per Customer"}),a.jsxs("span",{className:"font-semibold",children:[z().avgSpendPerCustomer.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Customer Retention"}),a.jsxs("span",{className:"font-semibold",children:[z().totalCustomers>0?(z().repeatCustomers/z().totalCustomers*100).toFixed(1):0,"%"]})]})]})})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Top Customers"})}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-2",children:z().topCustomers.slice(0,5).map((L,$)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Je,{variant:"outline",children:["#",$+1]}),a.jsxs("span",{className:"text-sm",children:["Customer ",L.id.slice(-8)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold",children:[L.revenue.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[L.tickets," tickets • ",L.events," events"]})]})]},L.id))})})]})]})}),a.jsx(Ot,{value:"monthly",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Monthly Comparison"}),a.jsx(st,{children:"Compare performance across different months"})]}),a.jsx(fe,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(ws,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:R(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"month"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(L,$)=>[$==="revenue"?`${L} SYP`:L,$==="revenue"?"Revenue":$==="events"?"Events":"Tickets"]}),a.jsx(Ma,{}),a.jsx(Hr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Hr,{dataKey:"events",fill:"#82ca9d"}),a.jsx(Hr,{dataKey:"tickets",fill:"#ffc658"})]})})})})]})}),a.jsx(Ot,{value:"insights",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Business Insights"})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Net Revenue"}),a.jsxs("span",{className:"font-bold text-green-600",children:[k.netRevenue.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Avg Ticket Price"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[k.avgTicketPrice.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Platform Fees"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[k.totalFees.toLocaleString()," SYP"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[k.attendanceRate<80&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(rm,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on improving event promotion to boost attendance"})]}),k.avgRating<4&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(sp,{className:"h-4 w-4"}),a.jsx("span",{children:"Work on event quality and customer experience"})]}),k.avgTicketPrice<500&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Consider premium event offerings to increase revenue"})]})]})]})]})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Performance Summary"})}),a.jsx(fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:k.todayRevenue.toLocaleString()}),a.jsx("p",{className:"text-green-100",children:"Today's Revenue"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("h4",{className:"text-xl font-bold",children:[k.attendanceRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Attendance Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:k.avgRating.toFixed(1)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Best performing category:"}),a.jsx("span",{className:"font-semibold",children:((F=D()[0])==null?void 0:F.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Highest revenue event:"}),a.jsxs("span",{className:"font-semibold",children:[((V=M()[0])==null?void 0:V.title.slice(0,20))||"N/A","..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Customer retention rate:"}),a.jsxs("span",{className:"font-semibold",children:[z().totalCustomers>0?(z().repeatCustomers/z().totalCustomers*100).toFixed(1):0,"%"]})]})]})]})]})})]})]})})]})]})};function eTe(){const[e,t]=j.useState([]),[n,r]=j.useState(!1),[s,i]=j.useState(!1),[o,u]=j.useState(null),[m,f]=j.useState(!0),[g,x]=j.useState(!1),[w,_]=j.useState(!1),[C,A]=j.useState({type:"discount_percentage",value:10,expires_at:"",usage_limit:100,target_type:"all",target_values:[],description:""}),[E,M]=j.useState({method:"notification",userEmails:"",userTypes:[],customMessage:""}),{profile:D}=$t(),{t:R,language:z}=Ut();j.useEffect(()=>{I()},[]);const I=async()=>{try{f(!0);const{data:X,error:G}=await $e.from("promotion_codes").select("*").eq("created_by",D==null?void 0:D.id).order("created_at",{ascending:!1});if(G)throw G;t(X||[])}catch(X){console.error("Error fetching promotion codes:",X),_e.error("Failed to load promotion codes")}finally{f(!1)}},k=()=>{const X=C.type==="discount_percentage"?"SAVE":C.type==="discount_amount"?"OFF":C.type==="add_balance"?"BONUS":"FREE",G=Math.floor(Math.random()*9e3)+1e3;return`${X}${G}`},F=async()=>{try{x(!0);const X=k(),G=C.target_type==="all"?null:(C.target_type==="user_types",C.target_values),{data:H,error:J}=await $e.from("promotion_codes").insert([{code:X,type:C.type,value:C.value,expires_at:C.expires_at||null,usage_limit:C.usage_limit,target_users:G,created_by:D==null?void 0:D.id,metadata:{description:C.description}}]).select();if(J)throw J;_e.success("Promotion code created successfully!"),r(!1),A({type:"discount_percentage",value:10,expires_at:"",usage_limit:100,target_type:"all",target_values:[],description:""}),I()}catch(X){console.error("Error creating promotion code:",X),_e.error("Failed to create promotion code")}finally{x(!1)}},V=async()=>{if(o)try{if(_(!0),E.method==="notification"){const X=E.userEmails.split(",").map(G=>G.trim()).filter(Boolean);for(const G of X){const{data:H,error:J}=await $e.from("profiles").select("id").eq("email",G).single();if(J){_e.error(`User not found: ${G}`);continue}const{error:Z}=await $e.rpc("send_promotion_code_notification",{p_promotion_id:o.id,p_recipient_user_id:H.id,p_sender_user_id:D==null?void 0:D.id});Z&&(console.error("Error sending notification:",Z),_e.error(`Failed to send to ${G}`))}_e.success(`Promotion code sent to ${X.length} users via notifications`)}i(!1),M({method:"notification",userEmails:"",userTypes:[],customMessage:""})}catch(X){console.error("Error sending promotion:",X),_e.error("Failed to send promotion code")}finally{_(!1)}},L=X=>{navigator.clipboard.writeText(X),_e.success("Promotion code copied to clipboard!")},$=X=>{switch(X){case"discount_percentage":return a.jsx(FD,{className:"h-4 w-4"});case"discount_amount":return a.jsx(sr,{className:"h-4 w-4"});case"add_balance":return a.jsx(jd,{className:"h-4 w-4"});case"free_event_access":return a.jsx(ca,{className:"h-4 w-4"});default:return a.jsx($o,{className:"h-4 w-4"})}},W=X=>{switch(X){case"discount_percentage":return"Percentage Discount";case"discount_amount":return"Amount Discount";case"add_balance":return"Add Balance";case"free_event_access":return"Free Event Access";default:return X}},Y=X=>new Intl.NumberFormat(z==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(X),Q=X=>new Date(X).toLocaleDateString(z==="ar"?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric"});return m?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Promotion Codes"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage promotional offers for your customers"})]}),a.jsxs(we,{onClick:()=>r(!0),className:"gap-2",children:[a.jsx(Ss,{className:"h-4 w-4"}),"Create Promotion"]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Codes"}),a.jsx($o,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(fe,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Active Codes"}),a.jsx(jd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(fe,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.filter(X=>X.is_active).length})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Uses"}),a.jsx(kp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(fe,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.reduce((X,G)=>X+G.used_count,0)})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Users Reached"}),a.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(fe,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.reduce((X,G)=>X+G.used_count,0)})})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Promotion Codes"}),a.jsx(st,{children:"Manage your promotional offers and track their performance"})]}),a.jsx(fe,{children:e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx($o,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No promotion codes yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first promotion code to start engaging customers"}),a.jsxs(we,{onClick:()=>r(!0),children:[a.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Create First Promotion"]})]}):a.jsxs(pm,{children:[a.jsx(xm,{children:a.jsxs(xu,{children:[a.jsx(vn,{children:"Code"}),a.jsx(vn,{children:"Type"}),a.jsx(vn,{children:"Value"}),a.jsx(vn,{children:"Usage"}),a.jsx(vn,{children:"Expires"}),a.jsx(vn,{children:"Status"}),a.jsx(vn,{children:"Actions"})]})}),a.jsx(vm,{children:e.map(X=>a.jsxs(xu,{children:[a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:X.code}),a.jsx(we,{variant:"ghost",size:"sm",onClick:()=>L(X.code),children:a.jsx(By,{className:"h-3 w-3"})})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[$(X.type),a.jsx("span",{className:"text-sm",children:W(X.type)})]})}),a.jsx(yn,{children:X.type==="discount_percentage"?`${X.value}%`:Y(X.value)}),a.jsxs(yn,{children:[a.jsxs("div",{className:"text-sm",children:[X.used_count," / ",X.usage_limit]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:a.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${X.used_count/X.usage_limit*100}%`}})})]}),a.jsx(yn,{children:X.expires_at?Q(X.expires_at):"Never"}),a.jsx(yn,{children:a.jsx(Je,{variant:X.is_active?"default":"secondary",children:X.is_active?"Active":"Inactive"})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(we,{variant:"ghost",size:"sm",onClick:()=>{u(X),i(!0)},children:a.jsx(Od,{className:"h-3 w-3"})}),a.jsx(we,{variant:"ghost",size:"sm",onClick:()=>L(X.code),children:a.jsx(pre,{className:"h-3 w-3"})})]})})]},X.id))})]})})]}),a.jsx(Wr,{open:n,onOpenChange:r,children:a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:"Create Promotion Code"}),a.jsx(ka,{children:"Create a new promotional offer for your customers"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Promotion Type"}),a.jsxs(kt,{value:C.type,onValueChange:X=>A(G=>({...G,type:X})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"discount_percentage",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(FD,{className:"h-4 w-4"}),"Percentage Discount"]})}),a.jsx(Ae,{value:"discount_amount",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-4 w-4"}),"Amount Discount"]})}),a.jsx(Ae,{value:"add_balance",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jd,{className:"h-4 w-4"}),"Add Balance"]})}),a.jsx(Ae,{value:"free_event_access",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ca,{className:"h-4 w-4"}),"Free Event Access"]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Value"}),a.jsx(dt,{type:"number",placeholder:C.type==="discount_percentage"?"e.g., 20":"e.g., 5000",value:C.value,onChange:X=>A(G=>({...G,value:parseFloat(X.target.value)||0}))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:C.type==="discount_percentage"?"Percentage off":"Amount in SYP"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Usage Limit"}),a.jsx(dt,{type:"number",placeholder:"e.g., 100",value:C.usage_limit,onChange:X=>A(G=>({...G,usage_limit:parseInt(X.target.value)||1}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Expires At (Optional)"}),a.jsx(dt,{type:"datetime-local",value:C.expires_at,onChange:X=>A(G=>({...G,expires_at:X.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Target Users"}),a.jsxs(kt,{value:C.target_type,onValueChange:X=>A(G=>({...G,target_type:X})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:"All Users"}),a.jsx(Ae,{value:"user_types",children:"Specific User Types"})]})]})]}),C.target_type==="user_types"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"User Types"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["passenger","driver","merchant"].map(X=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:C.target_values.includes(X),onChange:G=>{G.target.checked?A(H=>({...H,target_values:[...H.target_values,X]})):A(H=>({...H,target_values:H.target_values.filter(J=>J!==X)}))}}),a.jsx("span",{className:"text-sm capitalize",children:X})]},X))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Description (Optional)"}),a.jsx(Es,{placeholder:"Brief description of this promotion",value:C.description,onChange:X=>A(G=>({...G,description:X.target.value}))})]}),a.jsx(we,{onClick:F,disabled:g,className:"w-full",children:g?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Create Promotion Code"]})})]})]})}),a.jsx(Wr,{open:s,onOpenChange:i,children:a.jsxs(Gr,{className:"sm:max-w-md",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:"Send Promotion Code"}),a.jsxs(ka,{children:["Send ",o==null?void 0:o.code," to users"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Send Method"}),a.jsxs(kt,{value:E.method,onValueChange:X=>M(G=>({...G,method:X})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"notification",children:"In-App Notification"}),a.jsx(Ae,{value:"email",disabled:!0,children:"Email (Coming Soon)"}),a.jsx(Ae,{value:"sms",disabled:!0,children:"SMS (Coming Soon)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"User Emails"}),a.jsx(Es,{placeholder:"Enter user emails separated by commas",value:E.userEmails,onChange:X=>M(G=>({...G,userEmails:X.target.value}))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter comma-separated email addresses"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Custom Message (Optional)"}),a.jsx(Es,{placeholder:"Add a personal message with the promotion code",value:E.customMessage,onChange:X=>M(G=>({...G,customMessage:X.target.value}))})]}),a.jsx(we,{onClick:V,disabled:w||!E.userEmails.trim(),className:"w-full",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Od,{className:"mr-2 h-4 w-4"}),"Send Promotion Code"]})})]})]})})]})}function tTe(){return a.jsx(Wp,{userType:"event_admin",children:a.jsxs(Kh,{children:[a.jsx(ht,{path:"/",element:a.jsx(Vl,{to:"/event-admin/home",replace:!0})}),a.jsx(ht,{path:"/home",element:a.jsx(XCe,{})}),a.jsx(ht,{path:"/events",element:a.jsx(QCe,{})}),a.jsx(ht,{path:"/validation",element:a.jsx(ZCe,{})}),a.jsx(ht,{path:"/analytics",element:a.jsx(JCe,{})}),a.jsx(ht,{path:"/promotions",element:a.jsx(eTe,{})}),a.jsx(ht,{path:"/profile",element:a.jsx(u0,{})}),a.jsx(ht,{path:"/settings",element:a.jsx(d0,{})}),a.jsx(ht,{path:"/chat",element:a.jsx(X1,{})}),a.jsx(ht,{path:"/withdrawal",element:a.jsx(FH,{})})]})})}function nTe(){const{profile:e}=$t(),{t,language:n}=Ut(),[r,s]=j.useState({totalUsers:0,activeUsers:0,totalTransactions:0,totalRevenue:0,pendingDisputes:0,systemUptime:99.9,recentUsers:[],recentTransactions:[],usersByType:{passengers:0,drivers:0,merchants:0,eventAdmins:0}}),[i,o]=j.useState({totalEvents:0,activeEvents:0,totalTicketsSold:0,eventRevenue:0,recentEvents:[],eventAdminPerformance:[],withdrawalRequests:[],topPerformingEvents:[]}),[u,m]=j.useState(!0),[f,g]=j.useState(!0);j.useEffect(()=>{e&&(x(),w())},[e]);const x=async()=>{try{m(!0);const{data:E,error:M}=await $e.from("profiles").select("*").order("created_at",{ascending:!1});if(M)throw M;const{data:D,error:R}=await $e.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey (
            full_name
          ),
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name
          )
        `).order("created_at",{ascending:!1}).limit(10);if(R)throw R;const{data:z,error:I}=await $e.from("disputes").select("*").eq("status","open");if(I)throw I;const k=(E==null?void 0:E.length)||0,F=(E==null?void 0:E.filter(Y=>Y.is_active).length)||0,V=(D==null?void 0:D.length)||0,L=(D==null?void 0:D.reduce((Y,Q)=>Y+Q.amount,0))||0,$={passengers:(E==null?void 0:E.filter(Y=>Y.user_type==="passenger").length)||0,drivers:(E==null?void 0:E.filter(Y=>Y.user_type==="driver").length)||0,merchants:(E==null?void 0:E.filter(Y=>Y.user_type==="merchant").length)||0,eventAdmins:(E==null?void 0:E.filter(Y=>Y.user_type==="event_admin").length)||0},W=(E==null?void 0:E.slice(0,5))||[];s({totalUsers:k,activeUsers:F,totalTransactions:V,totalRevenue:L,pendingDisputes:(z==null?void 0:z.length)||0,systemUptime:99.9,recentUsers:W,recentTransactions:(D==null?void 0:D.slice(0,5))||[],usersByType:$})}catch(E){console.error("Error fetching system stats:",E)}finally{m(!1)}},w=async()=>{try{const{data:E,error:M}=await $e.from("events").select(`
          *,
          creator:profiles!events_created_by_fkey (
            full_name,
            user_type
          )
        `).order("created_at",{ascending:!1});if(M)throw M;const{data:D,error:R}=await $e.from("user_tickets").select(`
          *,
          event:events (
            title,
            created_by
          )
        `);if(R)throw R;const{data:z,error:I}=await $e.from("withdrawal_requests").select(`
          *,
          user:profiles (
            full_name,
            user_type
          )
        `).eq("status","pending").order("created_at",{ascending:!1});if(I)throw I;const k=(E==null?void 0:E.length)||0,F=(E==null?void 0:E.filter(Y=>Y.is_active).length)||0,V=(D==null?void 0:D.length)||0,L=(D==null?void 0:D.reduce((Y,Q)=>{var X;return Y+(((X=Q.event_details_snapshot)==null?void 0:X.price)||0)},0))||0,$=(E==null?void 0:E.filter(Y=>{var Q;return((Q=Y.creator)==null?void 0:Q.user_type)==="event_admin"}).map(Y=>{var G;const Q=(D==null?void 0:D.filter(H=>H.event_id===Y.id))||[],X=Q.reduce((H,J)=>{var Z;return H+(((Z=J.event_details_snapshot)==null?void 0:Z.price)||0)},0);return{adminName:(G=Y.creator)==null?void 0:G.full_name,eventTitle:Y.title,ticketsSold:Q.length,revenue:X,eventStatus:Y.is_active?"Active":"Inactive",createdAt:Y.created_at}}).sort((Y,Q)=>Q.revenue-Y.revenue).slice(0,10))||[],W=(E==null?void 0:E.map(Y=>{const Q=(D==null?void 0:D.filter(G=>G.event_id===Y.id))||[],X=Q.reduce((G,H)=>{var J;return G+(((J=H.event_details_snapshot)==null?void 0:J.price)||0)},0);return{...Y,ticketsSold:Q.length,revenue:X}}).sort((Y,Q)=>Q.revenue-Y.revenue).slice(0,5))||[];o({totalEvents:k,activeEvents:F,totalTicketsSold:V,eventRevenue:L,recentEvents:(E==null?void 0:E.slice(0,5))||[],eventAdminPerformance:$,withdrawalRequests:z||[],topPerformingEvents:W})}catch(E){console.error("Error fetching event stats:",E)}},_=E=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(E),C=E=>{switch(E){case"passenger":return"default";case"driver":return"secondary";case"merchant":return"outline";case"event_admin":return"destructive";case"admin":return"destructive";default:return"secondary"}},A=E=>{switch(E){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";case"cancelled":return"outline";default:return"secondary"}};return u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("systemDashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("systemOverviewAndManagement")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(we,{variant:"outline",children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),t("systemSettings")]}),a.jsxs(we,{variant:"outline",children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),t("securityPanel")]})]})]}),a.jsx(ue,{className:"border-green-200 bg-green-50",children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zE,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:t("systemOperational")}),a.jsxs(Je,{variant:"outline",className:"bg-green-100 text-green-800",children:[r.systemUptime,"% ",t("uptime")]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ca,{className:"h-4 w-4 text-blue-600"}),a.jsxs("span",{className:"text-blue-800",children:[i.totalEvents," Events"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Pg,{className:"h-4 w-4 text-purple-600"}),a.jsxs("span",{className:"text-purple-800",children:[r.usersByType.eventAdmins," Event Admins"]})]})]})]})})}),a.jsxs(pi,{defaultValue:"overview",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-3",children:[a.jsx(At,{value:"overview",children:"System Overview"}),a.jsx(At,{value:"events",children:"Event Management"}),a.jsx(At,{value:"performance",children:"Performance & Analytics"})]}),a.jsxs(Ot,{value:"overview",className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalUsers")}),a.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeUsers," ",t("activeUsers")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalTransactions")}),a.jsx(Pa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Xn,{className:"h-3 w-3 inline mr-1"}),t("systemVolume")]})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalRevenue")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(we,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>g(!f),children:f?a.jsx(Wn,{className:"h-3 w-3"}):a.jsx(fs,{className:"h-3 w-3"})})]})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.totalRevenue):"••••••"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("systemRevenue")})]})]})}),a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("pendingIssues")}),a.jsx(Er,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.pendingDisputes}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("userDistribution")}),a.jsx(st,{children:t("usersByAccountType")})]}),a.jsx(fe,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.usersByType.passengers}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("passengers")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.usersByType.drivers}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("drivers")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.usersByType.merchants}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("merchants")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.usersByType.eventAdmins}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("eventAdmins")})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recentUsers")}),a.jsx(st,{children:t("latestRegistrations")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:r.recentUsers.length>0?r.recentUsers.map((E,M)=>a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:E.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:E.email})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Je,{variant:C(E.user_type),children:t(E.user_type)}),a.jsx(Je,{variant:E.is_active?"default":"secondary",children:E.is_active?t("active"):t("inactive")})]})]},E.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentUsers")})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recentTransactions")}),a.jsx(st,{children:t("latestSystemActivity")})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:r.recentTransactions.length>0?r.recentTransactions.map((E,M)=>{var D,R;return a.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium",children:[(D=E.from_profile)==null?void 0:D.full_name," → ",(R=E.to_profile)==null?void 0:R.full_name]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t(E.transaction_type)," • ",E.payment_method]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Je,{variant:A(E.status),children:t(E.status)}),a.jsx("span",{className:"text-sm font-medium",children:_(E.amount)})]})]},E.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentTransactions")})})})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("quickActions")}),a.jsx(st,{children:t("commonAdministrativeTasks")})]}),a.jsx(fe,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsx(we,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(ba,{className:"h-6 w-6"}),a.jsx("span",{children:t("manageUsers")})]})}),a.jsx(we,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Xn,{className:"h-6 w-6"}),a.jsx("span",{children:t("systemAnalytics")})]})}),a.jsx(we,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Er,{className:"h-6 w-6"}),a.jsx("span",{children:t("handleDisputes")})]})}),a.jsx(we,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(su,{className:"h-6 w-6"}),a.jsx("span",{children:t("systemConfig")})]})})]})})]})]}),a.jsxs(Ot,{value:"events",className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Events"}),a.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.totalEvents}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.activeEvents," active events"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Tickets Sold"}),a.jsx(ca,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.totalTicketsSold}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all events"})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Event Revenue"}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:_(i.eventRevenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total event earnings"})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Pending Withdrawals"}),a.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.withdrawalRequests.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requiring approval"})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Kte,{className:"h-5 w-5"}),"Top Performing Events"]}),a.jsx(st,{children:"Events ranked by revenue and ticket sales"})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:i.topPerformingEvents.length>0?i.topPerformingEvents.map((E,M)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Je,{variant:"outline",className:"text-xs",children:["#",M+1]}),a.jsx("h4",{className:"font-medium",children:E.title})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.ticketsSold," tickets • ",E.is_active?"Active":"Inactive"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:_(E.revenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"})]})]},E.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No events found"})})})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5"}),"Pending Withdrawals"]}),a.jsx(st,{children:"Withdrawal requests awaiting approval"})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:i.withdrawalRequests.length>0?i.withdrawalRequests.slice(0,5).map((E,M)=>{var D,R,z;return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:(D=E.user)==null?void 0:D.full_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[(R=E.user)==null?void 0:R.user_type," • ",(z=E.payment_method)==null?void 0:z.type]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:_(E.amount)}),a.jsx(Je,{variant:"secondary",className:"text-xs",children:E.status})]})]},E.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No pending withdrawals"})})})]})]})]}),a.jsxs(Ot,{value:"performance",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Pg,{className:"h-5 w-5"}),"Event Admin Performance"]}),a.jsx(st,{children:"Track event admin performance and revenue generation"})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:i.eventAdminPerformance.length>0?i.eventAdminPerformance.map((E,M)=>a.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.1},className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:a.jsx(PS,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:E.adminName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:E.eventTitle})]})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold",children:E.ticketsSold}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tickets"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold",children:_(E.revenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"})]}),a.jsx("div",{children:a.jsx(Je,{variant:E.eventStatus==="Active"?"default":"secondary",children:E.eventStatus})})]})]},M)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Pg,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No event admin performance data"})]})})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(kp,{className:"h-5 w-5"}),"System Performance"]}),a.jsx(st,{children:"Key system performance indicators"})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"User Engagement"}),a.jsxs("span",{children:[Math.round(r.activeUsers/r.totalUsers*100),"%"]})]}),a.jsx(Ad,{value:r.activeUsers/r.totalUsers*100,className:"h-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Event Success Rate"}),a.jsxs("span",{children:[Math.round(i.activeEvents/i.totalEvents*100),"%"]})]}),a.jsx(Ad,{value:i.activeEvents/i.totalEvents*100,className:"h-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"System Uptime"}),a.jsxs("span",{children:[r.systemUptime,"%"]})]}),a.jsx(Ad,{value:r.systemUptime,className:"h-2"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(rm,{className:"h-5 w-5"}),"Quick Management Actions"]}),a.jsx(st,{children:"Administrative controls and oversight"})]}),a.jsx(fe,{children:a.jsxs("div",{className:"grid gap-3",children:[a.jsxs(we,{variant:"outline",className:"justify-start",children:[a.jsx(Pg,{className:"h-4 w-4 mr-2"}),"Manage Event Admins"]}),a.jsxs(we,{variant:"outline",className:"justify-start",children:[a.jsx(Fne,{className:"h-4 w-4 mr-2"}),"Event Oversight"]}),a.jsxs(we,{variant:"outline",className:"justify-start",children:[a.jsx(_r,{className:"h-4 w-4 mr-2"}),"Approve Withdrawals"]}),a.jsxs(we,{variant:"outline",className:"justify-start",children:[a.jsx(Er,{className:"h-4 w-4 mr-2"}),"Handle Disputes (",r.pendingDisputes,")"]})]})})]})]})]})]})]})}const Tg=[{value:"passenger",label:"Passenger",icon:ba,color:"bg-blue-500"},{value:"driver",label:"Driver",icon:ls,color:"bg-green-500"},{value:"merchant",label:"Merchant",icon:iu,color:"bg-purple-500"},{value:"event_admin",label:"Event Admin",icon:ca,color:"bg-orange-500"},{value:"admin",label:"Admin",icon:Pg,color:"bg-red-500"}];function rTe(){const{profile:e}=$t(),{t,language:n}=Ut(),[r,s]=j.useState([]),[i,o]=j.useState([]),[u,m]=j.useState(new Set),[f,g]=j.useState(null),[x,w]=j.useState(!0),[_,C]=j.useState(""),[A,E]=j.useState("all"),[M,D]=j.useState("all"),[R,z]=j.useState("all"),[I,k]=j.useState(!1),[F,V]=j.useState(null),[L,$]=j.useState(!1),[W,Y]=j.useState({full_name:"",email:"",phone_number:"",user_type:"passenger",is_active:!0,language_preference:"en"});j.useEffect(()=>{Q(),X()},[]),j.useEffect(()=>{G()},[r,_,A,M,R]);const Q=async()=>{try{w(!0);const{data:se,error:ce}=await $e.from("profiles").select(`
          *,
          wallets (
            balance
          )
        `).order("created_at",{ascending:!1});if(ce)throw ce;const oe=await Promise.all((se||[]).map(async he=>{var be,ye;const{count:Re}=await $e.from("transactions").select("*",{count:"exact",head:!0}).or(`from_user_id.eq.${he.id},to_user_id.eq.${he.id}`);return{...he,wallet_balance:((ye=(be=he.wallets)==null?void 0:be[0])==null?void 0:ye.balance)||0,total_transactions:Re||0}}));s(oe)}catch(se){console.error("Error fetching users:",se),_e.error(t("errorFetchingUsers"))}finally{w(!1)}},X=async()=>{try{const{data:se,error:ce}=await $e.from("profiles").select("user_type, is_active, is_verified, created_at");if(ce)throw ce;const oe=new Date,he=new Date(oe.getFullYear(),oe.getMonth(),1),Re={total_users:se.length,active_users:se.filter(be=>be.is_active).length,verified_users:se.filter(be=>be.is_verified).length,new_this_month:se.filter(be=>new Date(be.created_at)>=he).length,by_role:{},by_status:{active:se.filter(be=>be.is_active).length,inactive:se.filter(be=>!be.is_active).length,verified:se.filter(be=>be.is_verified).length,unverified:se.filter(be=>!be.is_verified).length}};Tg.forEach(be=>{Re.by_role[be.value]=se.filter(ye=>ye.user_type===be.value).length}),g(Re)}catch(se){console.error("Error fetching user stats:",se)}},G=()=>{let se=r;_&&(se=se.filter(ce=>ce.full_name.toLowerCase().includes(_.toLowerCase())||ce.email.toLowerCase().includes(_.toLowerCase())||ce.phone_number&&ce.phone_number.includes(_))),A!=="all"&&(se=se.filter(ce=>ce.user_type===A)),M!=="all"&&(M==="active"?se=se.filter(ce=>ce.is_active):M==="inactive"&&(se=se.filter(ce=>!ce.is_active))),R!=="all"&&(R==="verified"?se=se.filter(ce=>ce.is_verified):R==="unverified"&&(se=se.filter(ce=>!ce.is_verified))),o(se)},H=(se,ce)=>{m(oe=>{const he=new Set(oe);return ce?he.add(se):he.delete(se),he})},J=se=>{m(se?new Set(i.map(ce=>ce.id)):new Set)},Z=async(se,ce)=>{try{const{error:oe}=await $e.from("profiles").update({is_active:ce}).eq("id",se);if(oe)throw oe;_e.success(t("userStatusUpdated")),Q()}catch(oe){console.error("Error updating user status:",oe),_e.error(t("errorUpdatingUser"))}},de=async(se,ce)=>{try{const{error:oe}=await $e.from("profiles").update({is_verified:ce}).eq("id",se);if(oe)throw oe;_e.success(t("userVerificationUpdated")),Q()}catch(oe){console.error("Error updating user verification:",oe),_e.error(t("errorUpdatingUser"))}},re=async(se,ce)=>{try{const{error:oe}=await $e.from("profiles").update({user_type:ce}).eq("id",se);if(oe)throw oe;_e.success(t("userRoleUpdated")),Q()}catch(oe){console.error("Error updating user role:",oe),_e.error(t("errorUpdatingUser"))}},pe=async se=>{if(u.size===0){_e.error(t("selectUsersFirst"));return}try{const ce=Array.from(u);let oe={};switch(se){case"activate":oe={is_active:!0};break;case"deactivate":oe={is_active:!1};break;case"verify":oe={is_verified:!0};break;case"unverify":oe={is_verified:!1};break;default:return}const{error:he}=await $e.from("profiles").update(oe).in("id",ce);if(he)throw he;_e.success(t("bulkActionCompleted")),m(new Set),Q()}catch(ce){console.error("Error performing bulk action:",ce),_e.error(t("errorPerformingBulkAction"))}},Ne=se=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(se),Se=se=>new Date(se).toLocaleDateString(n==="ar"?"ar-SY":"en-US"),xe=se=>Tg.find(ce=>ce.value===se)||Tg[0],Pe=se=>se.is_active?se.is_verified?a.jsx(Je,{variant:"default",children:"Active"}):a.jsx(Je,{variant:"secondary",children:"Unverified"}):a.jsx(Je,{variant:"destructive",children:"Inactive"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("userManagement")}),a.jsx("p",{className:"text-muted-foreground",children:t("manageAllSystemUsers")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(we,{variant:"outline",onClick:Q,children:[a.jsx(Td,{className:"h-4 w-4 mr-2"}),t("refresh")]}),a.jsxs(we,{variant:"outline",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),t("export")]})]})]}),f&&a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(ue,{children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ba,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.total_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("totalUsers")})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(PS,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.active_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("activeUsers")})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qc,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.verified_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("verifiedUsers")})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(HE,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.new_this_month}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("newThisMonth")})]})]})})})]}),a.jsx(ue,{children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{placeholder:t("searchUsers"),value:_,onChange:se=>C(se.target.value),className:"pl-9"})]})}),a.jsxs(kt,{value:A,onValueChange:E,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByRole")})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("allRoles")}),Tg.map(se=>a.jsx(Ae,{value:se.value,children:t(se.label.toLowerCase())},se.value))]})]}),a.jsxs(kt,{value:M,onValueChange:D,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByStatus")})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("allStatuses")}),a.jsx(Ae,{value:"active",children:t("active")}),a.jsx(Ae,{value:"inactive",children:t("inactive")})]})]}),a.jsxs(kt,{value:R,onValueChange:z,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByVerification")})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:t("allVerification")}),a.jsx(Ae,{value:"verified",children:t("verified")}),a.jsx(Ae,{value:"unverified",children:t("unverified")})]})]})]}),u.size>0&&a.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[a.jsxs("span",{className:"text-sm font-medium",children:[u.size," ",t("usersSelected")]}),a.jsxs("div",{className:"flex space-x-2 ml-auto",children:[a.jsxs(we,{size:"sm",variant:"outline",onClick:()=>pe("activate"),children:[a.jsx(PS,{className:"h-4 w-4 mr-1"}),t("activate")]}),a.jsxs(we,{size:"sm",variant:"outline",onClick:()=>pe("deactivate"),children:[a.jsx(Lre,{className:"h-4 w-4 mr-1"}),t("deactivate")]}),a.jsxs(we,{size:"sm",variant:"outline",onClick:()=>pe("verify"),children:[a.jsx(Qc,{className:"h-4 w-4 mr-1"}),t("verify")]}),a.jsxs(we,{size:"sm",variant:"outline",onClick:()=>pe("unverify"),children:[a.jsx(cs,{className:"h-4 w-4 mr-1"}),t("unverify")]})]})]})]})})}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("users")}),a.jsx(st,{children:t("manageUserAccountsAndPermissions")})]}),a.jsx(fe,{children:x?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(pm,{children:[a.jsx(xm,{children:a.jsxs(xu,{children:[a.jsx(vn,{className:"w-12",children:a.jsx(cu,{checked:u.size===i.length&&i.length>0,onCheckedChange:J})}),a.jsx(vn,{children:t("user")}),a.jsx(vn,{children:t("role")}),a.jsx(vn,{children:t("status")}),a.jsx(vn,{children:t("wallet")}),a.jsx(vn,{children:t("joined")}),a.jsx(vn,{className:"w-24",children:t("actions")})]})}),a.jsx(vm,{children:a.jsx(Py,{children:i.map((se,ce)=>{const oe=xe(se.user_type),he=oe.icon;return a.jsxs(qe.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:ce*.05},className:"hover:bg-muted/50",children:[a.jsx(yn,{children:a.jsx(cu,{checked:u.has(se.id),onCheckedChange:Re=>H(se.id,Re)})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[se.avatar_url?a.jsx("img",{src:se.avatar_url,alt:se.full_name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:a.jsx(ba,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:se.full_name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:se.email}),se.phone_number&&a.jsx("div",{className:"text-xs text-muted-foreground",children:se.phone_number})]})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${oe.color}`}),a.jsx(he,{className:"h-4 w-4"}),a.jsx("span",{children:t(oe.label.toLowerCase())})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[Pe(se),se.is_verified&&a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600",children:[a.jsx(_r,{className:"h-3 w-3"}),a.jsx("span",{children:t("verified")})]})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:Ne(se.wallet_balance||0)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[se.total_transactions||0," ",t("transactions")]})]})}),a.jsx(yn,{children:a.jsx("div",{className:"text-sm",children:Se(se.created_at)})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(we,{variant:"ghost",size:"sm",onClick:()=>Z(se.id,!se.is_active),title:se.is_active?t("deactivate"):t("activate"),children:se.is_active?a.jsx(fs,{className:"h-4 w-4"}):a.jsx(Wn,{className:"h-4 w-4"})}),a.jsx(we,{variant:"ghost",size:"sm",onClick:()=>de(se.id,!se.is_verified),title:se.is_verified?t("unverify"):t("verify"),children:se.is_verified?a.jsx(cs,{className:"h-4 w-4"}):a.jsx(Qc,{className:"h-4 w-4"})}),a.jsxs(kt,{value:se.user_type,onValueChange:Re=>re(se.id,Re),children:[a.jsx(It,{className:"w-auto h-8 text-xs",children:a.jsx(su,{className:"h-3 w-3"})}),a.jsx(Lt,{children:Tg.map(Re=>a.jsx(Ae,{value:Re.value,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Re.icon,{className:"h-4 w-4"}),a.jsx("span",{children:t(Re.label.toLowerCase())})]})},Re.value))})]})]})})]},se.id)})})})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ba,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noUsersFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("adjustFiltersToSeeUsers")})]})})]})]})}const aTe=()=>{var k;const{user:e}=$t(),{language:t}=Ut(),[n,r]=j.useState(null),[s,i]=j.useState([]),[o,u]=j.useState([]),[m,f]=j.useState([]),[g,x]=j.useState(!0),[w,_]=j.useState("30"),[C,A]=j.useState("line");j.useEffect(()=>{e&&E()},[e,w]);const E=async()=>{if(e){x(!0);try{const F=Vo(new Date,parseInt(w)),V={totalUsers:15420,activeUsers:8930,totalTransactions:45280,totalRevenue:125e4,platformFees:125e3,avgTransactionValue:2760,userGrowthRate:12.5,revenueGrowthRate:18.3},L=[{user_type:"passenger",count:8500,active_count:5200,revenue_generated:68e4},{user_type:"driver",count:2800,active_count:1850,revenue_generated:42e4},{user_type:"merchant",count:3200,active_count:1600,revenue_generated:125e3},{user_type:"event_admin",count:850,active_count:260,revenue_generated:25e3},{user_type:"admin",count:70,active_count:20,revenue_generated:0}],$=[];for(let X=0;X<1e3;X++){const G=new Date(F.getTime()+Math.random()*(new Date().getTime()-F.getTime()));$.push({id:`tx_${X}`,amount:Math.floor(Math.random()*1e4)+100,fee:Math.floor(Math.random()*100)+10,status:Math.random()>.1?"completed":Math.random()>.5?"pending":"failed",payment_method:["MTN Cash","Syriatel Cash","ShamCash","Card"][Math.floor(Math.random()*4)],user_type:["passenger","driver","merchant","event_admin"][Math.floor(Math.random()*4)],created_at:G.toISOString()})}const W=[],Y=["failed_login","suspicious_transaction","fraud_attempt","security_violation"],Q=["low","medium","high","critical"];for(let X=0;X<50;X++){const G=new Date(F.getTime()+Math.random()*(new Date().getTime()-F.getTime()));W.push({id:`sec_${X}`,event_type:Y[Math.floor(Math.random()*Y.length)],severity:Q[Math.floor(Math.random()*Q.length)],user_id:Math.random()>.3?`user_${Math.floor(Math.random()*1e3)}`:void 0,details:"Security event detected by automated monitoring system",created_at:G.toISOString()})}r(V),i(L),u($),f(W)}catch(F){console.error("Error fetching system analytics:",F)}finally{x(!1)}}},M=()=>{const F=new Map;return o.filter(V=>V.status==="completed").forEach(V=>{const L=fr(sa(V.created_at),"yyyy-MM-dd"),$=F.get(L)||{revenue:0,transactions:0,fees:0};F.set(L,{revenue:$.revenue+V.amount,transactions:$.transactions+1,fees:$.fees+V.fee})}),Array.from(F.entries()).map(([V,L])=>({date:fr(sa(V),"MMM dd",{locale:t==="ar"?Ap:void 0}),revenue:L.revenue,transactions:L.transactions,fees:L.fees})).sort((V,L)=>V.date.localeCompare(L.date))},D=()=>{const F={passenger:"#8884d8",driver:"#82ca9d",merchant:"#ffc658",event_admin:"#ff7c7c",admin:"#8dd1e1"};return s.map(V=>({name:V.user_type.charAt(0).toUpperCase()+V.user_type.slice(1),total:V.count,active:V.active_count,revenue:V.revenue_generated,color:F[V.user_type]}))},R=()=>{const F=new Map;return o.forEach(V=>{const L=V.payment_method,$=F.get(L)||{transactions:0,revenue:0};F.set(L,{transactions:$.transactions+1,revenue:$.revenue+(V.status==="completed"?V.amount:0),successRate:0})}),F.forEach((V,L)=>{const $=o.filter(Y=>Y.payment_method===L),W=$.filter(Y=>Y.status==="completed").length;V.successRate=$.length>0?W/$.length*100:0}),Array.from(F.entries()).map(([V,L])=>({name:V,transactions:L.transactions,revenue:L.revenue,successRate:L.successRate})).sort((V,L)=>L.revenue-V.revenue)},z=()=>{const F=new Map,V=new Map;m.forEach(W=>{F.set(W.event_type,(F.get(W.event_type)||0)+1),V.set(W.severity,(V.get(W.severity)||0)+1)});const L=m.filter(W=>Vv(sa(W.created_at))),$=m.filter(W=>W.severity==="critical");return{totalEvents:m.length,todayEvents:L.length,criticalEvents:$.length,eventTypes:Array.from(F.entries()).map(([W,Y])=>({type:W,count:Y})),severityDistribution:Array.from(V.entries()).map(([W,Y])=>({severity:W,count:Y}))}},I=()=>{const F={metadata:{exportDate:new Date().toISOString(),dateRange:`${w} days`,adminId:e==null?void 0:e.id,generatedBy:"Tickets System Analytics"},platformMetrics:n,userActivity:s,revenueTrend:M(),paymentMethods:R(),securityAnalysis:z(),rawData:{transactions:o.length,securityEvents:m.length}},V=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),L=URL.createObjectURL(V),$=document.createElement("a");$.href=L,$.download=`system-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,$.click(),URL.revokeObjectURL(L)};return g||!n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Platform-wide business intelligence and performance monitoring"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:w,onChange:F=>_(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(we,{onClick:I,variant:"outline",size:"sm",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(ba,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers.toLocaleString()}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[a.jsx(Xn,{className:"h-3 w-3 text-green-600 mr-1"}),a.jsxs("span",{className:"text-green-600",children:[n.userGrowthRate,"% growth"]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Platform Revenue"}),a.jsx(sr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(fe,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n.totalRevenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[a.jsx(Xn,{className:"h-3 w-3 text-green-600 mr-1"}),a.jsxs("span",{className:"text-green-600",children:[n.revenueGrowthRate,"% vs last period"]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Active Users"}),a.jsx(zE,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers.toLocaleString()}),a.jsxs("p",{className:"text-xs text-gray-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"% of total users"]})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Security Events"}),a.jsx(cs,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:z().totalEvents}),a.jsxs("p",{className:"text-xs text-gray-600",children:[z().criticalEvents," critical events"]})]})]})]}),a.jsxs(pi,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(At,{value:"overview",children:"Overview"}),a.jsx(At,{value:"users",children:"Users"}),a.jsx(At,{value:"revenue",children:"Revenue"}),a.jsx(At,{value:"payments",children:"Payments"}),a.jsx(At,{value:"security",children:"Security"}),a.jsx(At,{value:"insights",children:"Insights"})]}),a.jsx(Ot,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Platform Performance"}),a.jsx(st,{children:"Key metrics overview"})]}),a.jsx(fe,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Transactions"}),a.jsx("span",{className:"font-semibold",children:n.totalTransactions.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Transaction Value"}),a.jsxs("span",{className:"font-semibold",children:[n.avgTransactionValue.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Platform Fees Collected"}),a.jsxs("span",{className:"font-semibold",children:[n.platformFees.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("span",{className:"font-semibold",children:[(o.filter(F=>F.status==="completed").length/o.length*100).toFixed(1),"%"]})]})]})})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"User Distribution"})}),a.jsx(fe,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ws,{width:"100%",height:"100%",children:a.jsxs(Ay,{children:[a.jsx(Vh,{data:D(),cx:"50%",cy:"50%",outerRadius:80,dataKey:"total",label:({name:F,percent:V})=>`${F}: ${((V||0)*100).toFixed(0)}%`,children:D().map((F,V)=>a.jsx(pu,{fill:F.color},`cell-${V}`))}),a.jsx(Nr,{})]})})})})]})]})}),a.jsx(Ot,{value:"users",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"User Activity by Type"}),a.jsx(st,{children:"User counts and activity levels across different user types"})]}),a.jsx(fe,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(ws,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:D(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"name"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(F,V)=>[F,V==="total"?"Total Users":V==="active"?"Active Users":"Revenue Generated"]}),a.jsx(Ma,{}),a.jsx(Hr,{dataKey:"total",fill:"#8884d8"}),a.jsx(Hr,{dataKey:"active",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"revenue",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:"Revenue Trend"}),a.jsx(st,{children:"Daily platform revenue and transaction volume"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{variant:C==="line"?"default":"outline",size:"sm",onClick:()=>A("line"),children:"Line"}),a.jsx(we,{variant:C==="area"?"default":"outline",size:"sm",onClick:()=>A("area"),children:"Area"}),a.jsx(we,{variant:C==="bar"?"default":"outline",size:"sm",onClick:()=>A("bar"),children:"Bar"})]})]}),a.jsx(fe,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(ws,{width:"100%",height:"100%",children:C==="line"?a.jsxs(Ep,{data:M(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(Ma,{}),a.jsx(Bi,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"fees",stroke:"#82ca9d",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"transactions",stroke:"#ffc658",strokeWidth:2})]}):C==="area"?a.jsxs(G1,{data:M(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(Ma,{}),a.jsx(zd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),a.jsx(zd,{type:"monotone",dataKey:"fees",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]}):a.jsxs(Qo,{data:M(),children:[a.jsx(ia,{strokeDasharray:"3 3"}),a.jsx(qr,{dataKey:"date"}),a.jsx(Yr,{}),a.jsx(Nr,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(Ma,{}),a.jsx(Hr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Hr,{dataKey:"fees",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"payments",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Payment Methods Performance"}),a.jsx(st,{children:"Usage and success rates by payment method"})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:R().map((F,V)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Yg,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:F.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[F.transactions," transactions • ",F.successRate.toFixed(1),"% success rate"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[F.revenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${F.successRate>=95?"bg-green-500":F.successRate>=90?"bg-yellow-500":"bg-red-500"}`,style:{width:`${F.successRate}%`}})}),a.jsxs("span",{className:"text-xs text-gray-600",children:[F.successRate.toFixed(0),"%"]})]})]})]},F.name))})})]})}),a.jsx(Ot,{value:"security",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Security Events"}),a.jsx(st,{children:"Recent security incidents and alerts"})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Total Events (last ",w," days)"]}),a.jsx("span",{className:"font-semibold",children:z().totalEvents})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Today's Events"}),a.jsx("span",{className:"font-semibold",children:z().todayEvents})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Critical Events"}),a.jsx("span",{className:"font-semibold text-red-600",children:z().criticalEvents})]})]}),z().criticalEvents>0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[a.jsx(Er,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"Immediate attention required for critical security events"})]})]})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Event Types"})}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-2",children:z().eventTypes.map((F,V)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:"text-sm capitalize",children:F.type.replace("_"," ")}),a.jsx(Je,{variant:"outline",children:F.count})]},F.type))})})]})]})}),a.jsx(Ot,{value:"insights",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Business Intelligence"})}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Revenue per Active User"}),a.jsxs("span",{className:"font-bold text-green-600",children:[(n.totalRevenue/n.activeUsers).toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Platform Commission Rate"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[(n.platformFees/n.totalRevenue*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"User Engagement Rate"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Strategic Insights"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[n.userGrowthRate>10&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Strong user growth indicates healthy market demand"})]}),n.activeUsers/n.totalUsers*100<60&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(rm,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on user activation and engagement strategies"})]}),z().criticalEvents>5&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(cs,{className:"h-4 w-4"}),a.jsx("span",{children:"Elevated security monitoring recommended"})]})]})]})]})]}),a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"System Health"})}),a.jsx(fe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:n.platformFees.toLocaleString()}),a.jsx("p",{className:"text-green-100",children:"Platform Fees Collected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("h4",{className:"text-xl font-bold",children:[(o.filter(F=>F.status==="completed").length/o.length*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:n.avgTransactionValue.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Transaction"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Most active user type:"}),a.jsx("span",{className:"font-semibold",children:D().reduce((F,V)=>V.active>F.active?V:F).name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Highest revenue user type:"}),a.jsx("span",{className:"font-semibold",children:D().reduce((F,V)=>V.revenue>F.revenue?V:F).name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Top payment method:"}),a.jsx("span",{className:"font-semibold",children:((k=R()[0])==null?void 0:k.name)||"N/A"})]})]})]})]})})]})]})})]})]})};function sTe(){const{profile:e}=$t(),{t}=Ut(),[n,r]=j.useState([]),[s,i]=j.useState({total:0,open:0,inProgress:0,resolved:0,averageResolutionTime:0}),[o,u]=j.useState(!0),[m,f]=j.useState(""),[g,x]=j.useState("all"),[w,_]=j.useState("all"),[C,A]=j.useState(null),[E,M]=j.useState(!1),[D,R]=j.useState(""),[z,I]=j.useState(""),[k,F]=j.useState(""),[V,L]=j.useState(""),[$,W]=j.useState(!1),[Y,Q]=j.useState([]);j.useEffect(()=>{e&&(X(),G())},[e]),j.useEffect(()=>{H()},[n]);const X=async()=>{try{u(!0);const{data:xe,error:Pe}=await $e.from("disputes").select(`
          *,
          reporter:profiles!disputes_reported_by_fkey (
            full_name,
            email,
            user_type
          ),
          assigned_admin:profiles!disputes_assigned_to_fkey (
            full_name,
            email
          ),
          transaction:transactions (
            amount,
            transaction_type,
            created_at
          )
        `).order("created_at",{ascending:!1});if(Pe)throw Pe;r(xe||[])}catch(xe){console.error("Error fetching disputes:",xe),_e.error("Failed to load disputes")}finally{u(!1)}},G=async()=>{try{const{data:xe,error:Pe}=await $e.from("profiles").select("id, full_name, email").eq("user_type","admin").eq("is_active",!0);if(Pe)throw Pe;Q(xe||[])}catch(xe){console.error("Error fetching admins:",xe)}},H=()=>{const xe=n.length,Pe=n.filter(Re=>Re.status==="open").length,se=n.filter(Re=>Re.status==="in_progress").length,ce=n.filter(Re=>Re.status==="resolved"||Re.status==="closed").length,oe=n.filter(Re=>Re.resolved_at),he=oe.length>0?oe.reduce((Re,be)=>{const ye=new Date(be.created_at),Ke=new Date(be.resolved_at);return Re+(Ke.getTime()-ye.getTime())},0)/oe.length/(1e3*60*60*24):0;i({total:xe,open:Pe,inProgress:se,resolved:ce,averageResolutionTime:he})},J=n.filter(xe=>{var oe;const Pe=xe.description.toLowerCase().includes(m.toLowerCase())||xe.dispute_type.toLowerCase().includes(m.toLowerCase())||((oe=xe.reporter)==null?void 0:oe.full_name.toLowerCase().includes(m.toLowerCase())),se=g==="all"||xe.status===g,ce=w==="all"||xe.priority===w;return Pe&&se&&ce}),Z=async()=>{if(C){W(!0);try{const xe={};D.trim()&&(xe.admin_notes=D),z.trim()&&(xe.resolution=z),k&&(xe.assigned_to=k),V&&(xe.status=V,(V==="resolved"||V==="closed")&&(xe.resolved_at=new Date().toISOString())),xe.updated_at=new Date().toISOString();const{error:Pe}=await $e.from("disputes").update(xe).eq("id",C.id);if(Pe)throw Pe;_e.success("Dispute updated successfully"),M(!1),X(),de()}catch(xe){console.error("Error updating dispute:",xe),_e.error("Failed to update dispute")}finally{W(!1)}}},de=()=>{R(""),I(""),F(""),L(""),A(null)},re=xe=>{A(xe),R(xe.admin_notes||""),I(xe.resolution||""),F(xe.assigned_to||""),L(xe.status),M(!0)},pe=xe=>{switch(xe){case"open":return"bg-red-500";case"in_progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},Ne=xe=>{switch(xe){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},Se=xe=>{switch(xe){case"open":return Er;case"in_progress":return Hn;case"resolved":return _r;case"closed":return au;default:return dv}};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dispute Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Handle user disputes and complaints efficiently"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(we,{variant:"outline",children:[a.jsx(Fy,{className:"h-4 w-4 mr-2"}),"Export Report"]}),a.jsxs(we,{variant:"outline",children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Disputes"}),a.jsx(dv,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Open"}),a.jsx(Er,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.open}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"In Progress"}),a.jsx(Hn,{className:"h-4 w-4 text-yellow-500"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.inProgress}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Being handled"})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Resolved"}),a.jsx(_r,{className:"h-4 w-4 text-green-500"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.resolved}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]}),a.jsxs(ue,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Avg Resolution"}),a.jsx(Tre,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(fe,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.averageResolutionTime.toFixed(1)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Days"})]})]})]}),a.jsx(ue,{children:a.jsx(fe,{className:"pt-6",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),a.jsx(dt,{placeholder:"Search disputes...",value:m,onChange:xe=>f(xe.target.value),className:"pl-10"})]}),a.jsxs(kt,{value:g,onValueChange:x,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Filter by status"})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:"All Statuses"}),a.jsx(Ae,{value:"open",children:"Open"}),a.jsx(Ae,{value:"in_progress",children:"In Progress"}),a.jsx(Ae,{value:"resolved",children:"Resolved"}),a.jsx(Ae,{value:"closed",children:"Closed"})]})]}),a.jsxs(kt,{value:w,onValueChange:_,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Filter by priority"})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:"All Priorities"}),a.jsx(Ae,{value:"high",children:"High"}),a.jsx(Ae,{value:"medium",children:"Medium"}),a.jsx(Ae,{value:"low",children:"Low"})]})]}),a.jsxs(we,{variant:"outline",children:[a.jsx(nm,{className:"h-4 w-4 mr-2"}),"Advanced Filter"]})]})})}),a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:["Disputes (",J.length,")"]}),a.jsx(st,{children:"Manage and resolve user disputes"})]}),a.jsx(fe,{children:a.jsx("div",{className:"space-y-4",children:J.length>0?J.map((xe,Pe)=>{var ce,oe,he,Re,be;const se=Se(xe.status);return a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Pe*.1},className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(se,{className:"h-4 w-4"}),a.jsx("h4",{className:"font-medium",children:xe.dispute_type})]}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:xe.description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:(ce=xe.reporter)==null?void 0:ce.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:(oe=xe.reporter)==null?void 0:oe.email}),a.jsx(Je,{variant:"outline",className:"text-xs mt-1",children:(he=xe.reporter)==null?void 0:he.user_type})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs(Je,{variant:Ne(xe.priority),className:"text-xs",children:[xe.priority," priority"]}),a.jsx(Je,{className:`text-white text-xs ${pe(xe.status)}`,children:xe.status})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Ph(new Date(xe.created_at),{addSuffix:!0})})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Wr,{open:E&&(C==null?void 0:C.id)===xe.id,onOpenChange:ye=>{M(ye),ye||de()},children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>re(xe),children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),"View"]})}),a.jsxs(Gr,{className:"max-w-4xl",children:[a.jsxs(Kr,{children:[a.jsx(Xr,{children:"Dispute Details"}),a.jsx(ka,{children:"Manage and resolve this dispute"})]}),C&&a.jsxs("div",{className:"grid gap-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Dispute Type"}),a.jsx("p",{className:"text-sm font-medium",children:C.dispute_type})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Reporter"}),a.jsx("p",{className:"text-sm font-medium",children:(Re=C.reporter)==null?void 0:Re.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:(be=C.reporter)==null?void 0:be.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Status"}),a.jsxs(kt,{value:V,onValueChange:L,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"open",children:"Open"}),a.jsx(Ae,{value:"in_progress",children:"In Progress"}),a.jsx(Ae,{value:"resolved",children:"Resolved"}),a.jsx(Ae,{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Assign To"}),a.jsxs(kt,{value:k,onValueChange:F,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Select admin"})}),a.jsx(Lt,{children:Y.map(ye=>a.jsx(Ae,{value:ye.id,children:ye.full_name},ye.id))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Description"}),a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm",children:C.description})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"admin-notes",children:"Admin Notes"}),a.jsx(Es,{id:"admin-notes",placeholder:"Add notes about this dispute...",value:D,onChange:ye=>R(ye.target.value),rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"resolution",children:"Resolution"}),a.jsx(Es,{id:"resolution",placeholder:"Describe how this dispute was resolved...",value:z,onChange:ye=>I(ye.target.value),rows:3})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(we,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),a.jsx(we,{onClick:Z,disabled:$,children:$?"Updating...":"Update Dispute"})]})]})]})]})})]})},xe.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(dv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:"No disputes found"}),a.jsx("p",{className:"text-muted-foreground",children:"No disputes match your current filters"})]})})})]})]})}const iTe=({url:e,title:t,type:n})=>{const r=n.includes("image");return a.jsxs(Wr,{children:[a.jsx(ol,{asChild:!0,children:a.jsxs(we,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[a.jsx(Wn,{className:"w-4 h-4"}),"View"]})}),a.jsxs(Gr,{className:"max-w-3xl max-h-[90vh]",children:[a.jsx(Kr,{children:a.jsx(Xr,{children:t})}),a.jsx("div",{className:"flex justify-center items-center p-4 max-h-[70vh] overflow-auto",children:r?a.jsx("img",{src:e,alt:t,className:"max-w-full max-h-full object-contain rounded-lg"}):a.jsx("iframe",{src:e,title:t,className:"w-full h-96 border rounded-lg"})})]})]})};function oTe(){const{user:e}=$t(),{t}=Ut(),[n,r]=j.useState([]),[s,i]=j.useState(null),[o,u]=j.useState(!0),[m,f]=j.useState(!1),[g,x]=j.useState("pending"),[w,_]=j.useState(!1),[C,A]=j.useState("approve"),[E,M]=j.useState("");j.useEffect(()=>{D()},[]);const D=async()=>{u(!0);try{const{data:L,error:$}=await $e.from("driver_profiles").select(`
          *,
          profiles!driver_profiles_user_id_fkey (
            full_name,
            email,
            phone_number,
            created_at
          )
        `).neq("verification_status","not_submitted").order("updated_at",{ascending:!1});if($)throw $;const W=(L==null?void 0:L.map(Y=>{var Q,X,G,H;return{...Y,full_name:((Q=Y.profiles)==null?void 0:Q.full_name)||"Unknown",email:((X=Y.profiles)==null?void 0:X.email)||"",phone_number:(G=Y.profiles)==null?void 0:G.phone_number,user_created_at:((H=Y.profiles)==null?void 0:H.created_at)||Y.created_at}}))||[];r(W)}catch(L){console.error("Error fetching submissions:",L),_e.error(t("common.error"))}finally{u(!1)}},R=async()=>{if(s){f(!0);try{const{error:L}=await $e.from("driver_profiles").update({verification_status:C,updated_at:new Date().toISOString()}).eq("user_id",s.user_id);if(L)throw L;await $e.from("notifications").insert({user_id:s.user_id,notification_type:"system",title:C==="approve"?"Verification Approved":"Verification Rejected",message:C==="approve"?"Congratulations! Your driver verification has been approved. You can now start accepting passengers.":`Your verification was rejected. ${E||"Please review your documents and resubmit."}`,metadata:{verification_status:C,review_notes:E,reviewer_id:e==null?void 0:e.id}}),_e.success(`Driver verification ${C}d successfully`),_(!1),i(null),M(""),await D()}catch(L){console.error("Error reviewing submission:",L),_e.error(t("common.error"))}finally{f(!1)}}},z=L=>{switch(L){case"approved":return a.jsx(_r,{className:"w-5 h-5 text-green-500"});case"rejected":return a.jsx(au,{className:"w-5 h-5 text-red-500"});case"pending":return a.jsx(Hn,{className:"w-5 h-5 text-yellow-500"});default:return a.jsx(Er,{className:"w-5 h-5 text-gray-500"})}},I=L=>{const $={pending:"default",approved:"default",rejected:"destructive"};return a.jsxs(Je,{variant:$[L],className:"flex items-center gap-1",children:[z(L),t(`driver.verification.status.${L}`)]})},k=n.filter(L=>g==="all"?!0:L.verification_status===g),V={pending:n.filter(L=>L.verification_status==="pending").length,approved:n.filter(L=>L.verification_status==="approved").length,rejected:n.filter(L=>L.verification_status==="rejected").length,all:n.length};return o?a.jsxs("div",{className:"flex justify-center p-8",children:[t("common.loading"),"..."]}):a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Driver Verification Review"}),a.jsx("p",{className:"text-muted-foreground",children:"Review and approve driver verification submissions"})]}),a.jsxs(pi,{value:g,onValueChange:x,className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-4",children:[a.jsxs(At,{value:"pending",className:"flex items-center gap-2",children:["Pending ",V.pending>0&&a.jsx(Je,{variant:"outline",children:V.pending})]}),a.jsxs(At,{value:"approved",className:"flex items-center gap-2",children:["Approved ",V.approved>0&&a.jsx(Je,{variant:"outline",children:V.approved})]}),a.jsxs(At,{value:"rejected",className:"flex items-center gap-2",children:["Rejected ",V.rejected>0&&a.jsx(Je,{variant:"outline",children:V.rejected})]}),a.jsxs(At,{value:"all",className:"flex items-center gap-2",children:["All ",V.all>0&&a.jsx(Je,{variant:"outline",children:V.all})]})]}),a.jsx(Ot,{value:g,className:"mt-6",children:k.length===0?a.jsx(ue,{children:a.jsxs(fe,{className:"p-8 text-center",children:[a.jsx(Er,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No submissions found for this status."})]})}):a.jsx("div",{className:"space-y-4",children:k.map(L=>a.jsxs(ue,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ou,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:L.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:L.email}),L.phone_number&&a.jsx("p",{className:"text-sm text-muted-foreground",children:L.phone_number})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[I(L.verification_status),a.jsx(we,{variant:"outline",onClick:()=>i(L),children:"Review Details"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ls,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:[L.vehicle_type," - ",L.vehicle_model]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:["License: ",L.license_number]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zo,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{children:L.route_name||"No route specified"})]})]}),a.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Submitted: ",new Date(L.updated_at).toLocaleDateString()," at ",new Date(L.updated_at).toLocaleTimeString()]})]},L.id))})})]}),s&&a.jsx(Wr,{open:!!s,onOpenChange:()=>i(null),children:a.jsxs(Gr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Kr,{children:[a.jsxs(Xr,{className:"flex items-center gap-2",children:[a.jsx(ou,{className:"w-5 h-5"}),s.full_name," - Verification Review"]}),a.jsx(ka,{children:"Review driver information and documents for verification approval"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Driver Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:s.full_name})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-medium",children:s.email})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"Phone"}),a.jsx("p",{className:"font-medium",children:s.phone_number||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"Account Created"}),a.jsx("p",{className:"font-medium",children:new Date(s.user_created_at).toLocaleDateString()})]})]})]}),a.jsx(hi,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Vehicle Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"License Number"}),a.jsx("p",{className:"font-medium",children:s.license_number})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"License Expiry"}),a.jsx("p",{className:"font-medium",children:s.license_expiry})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"Vehicle Type"}),a.jsx("p",{className:"font-medium",children:s.vehicle_type})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"Vehicle Model"}),a.jsx("p",{className:"font-medium",children:s.vehicle_model})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"Vehicle Plate"}),a.jsx("p",{className:"font-medium",children:s.vehicle_plate})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-muted-foreground",children:"Route"}),a.jsx("p",{className:"font-medium",children:s.route_name||"Not specified"})]})]}),s.route_description&&a.jsxs("div",{className:"mt-3",children:[a.jsx(ze,{className:"text-muted-foreground",children:"Route Description"}),a.jsx("p",{className:"text-sm mt-1",children:s.route_description})]})]}),a.jsx(hi,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Uploaded Documents"}),s.verification_documents?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(s.verification_documents).map(([L,$])=>{const Y=(Q=>Q.includes("license")?Pa:Q.includes("vehicle")?ls:Fy)(L);return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Y,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:t(`driver.verification.documentTypes.${L}`)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Uploaded: ",new Date($.uploaded_at).toLocaleDateString()]}),a.jsx(iTe,{url:$.url,title:t(`driver.verification.documentTypes.${L}`),type:$.url.includes(".pdf")?"application/pdf":"image"})]})]},L)})}):a.jsx("p",{className:"text-muted-foreground",children:"No documents uploaded"})]}),s.verification_status==="pending"&&a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(we,{onClick:()=>{A("approve"),_(!0)},className:"flex-1",children:[a.jsx(_r,{className:"w-4 h-4 mr-2"}),"Approve Verification"]}),a.jsxs(we,{variant:"destructive",onClick:()=>{A("reject"),_(!0)},className:"flex-1",children:[a.jsx(au,{className:"w-4 h-4 mr-2"}),"Reject Verification"]})]})]})]})}),a.jsx(Wr,{open:w,onOpenChange:_,children:a.jsxs(Gr,{children:[a.jsxs(Kr,{children:[a.jsxs(Xr,{children:[C==="approve"?"Approve":"Reject"," Driver Verification"]}),a.jsx(ka,{children:C==="approve"?"This will approve the driver verification and allow them to start accepting passengers.":"This will reject the driver verification. Please provide feedback for the driver."})]}),C==="reject"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"review-notes",children:"Feedback for Driver"}),a.jsx(Es,{id:"review-notes",value:E,onChange:L=>M(L.target.value),placeholder:"Explain why the verification was rejected and what needs to be corrected...",rows:4})]}),a.jsxs(rfe,{children:[a.jsx(we,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),a.jsx(we,{onClick:R,disabled:m||C==="reject"&&!E.trim(),variant:C==="approve"?"default":"destructive",children:m?"Processing...":`${C==="approve"?"Approve":"Reject"} Verification`})]})]})})]})}const lTe=()=>{const{createNotification:e}=Q_(),{language:t}=Ut(),[n,r]=j.useState({title:"",message:"",type:"info",priority:"normal",target_roles:[],target_users:[]}),[s,i]=j.useState([]),[o,u]=j.useState([]),[m,f]=j.useState({}),[g,x]=j.useState([]),[w,_]=j.useState(""),[C,A]=j.useState(!1),[E,M]=j.useState(!1),[D,R]=j.useState(!1);j.useEffect(()=>{z(),I()},[]),j.useEffect(()=>{let H=s;if(m.role&&(H=H.filter(J=>J.role===m.role)),m.is_verified!==void 0&&(H=H.filter(J=>J.is_verified===m.is_verified)),m.is_active!==void 0&&(H=H.filter(J=>J.is_active===m.is_active)),m.search){const J=m.search.toLowerCase();H=H.filter(Z=>Z.full_name.toLowerCase().includes(J)||Z.email.toLowerCase().includes(J))}u(H)},[s,m]);const z=async()=>{A(!0);try{const{data:H,error:J}=await $e.from("profiles").select("*").order("full_name");if(J){console.error("Error fetching users:",J),_e.error("Failed to load users");return}i(H||[])}catch(H){console.error("Error fetching users:",H),_e.error("Failed to load users")}finally{A(!1)}},I=async()=>{try{const{data:H,error:J}=await $e.from("notification_templates").select("*").eq("is_active",!0).order("name");if(J){console.error("Error fetching templates:",J);return}x(H||[])}catch(H){console.error("Error fetching templates:",H)}},k=H=>{const J=g.find(Z=>Z.id===H);J&&(r(Z=>({...Z,title:J.title_template,message:J.message_template,type:J.type,priority:J.priority,action_url:J.action_url_template,action_label:J.action_label})),_(H))},F=H=>{r(J=>({...J,target_roles:J.target_roles.includes(H)?J.target_roles.filter(Z=>Z!==H):[...J.target_roles,H]}))},V=H=>{r(J=>({...J,target_users:J.target_users.includes(H)?J.target_users.filter(Z=>Z!==H):[...J.target_users,H]}))},L=()=>{const H=o.map(J=>J.id);r(J=>({...J,target_users:J.target_users.length===H.length?[]:H}))},$=()=>{let H=[...n.target_users];if(n.target_roles.length>0){const J=s.filter(Z=>n.target_roles.includes(Z.role));H=[...H,...J.map(Z=>Z.id)]}return[...new Set(H)]},W=async()=>{if(!n.title.trim()||!n.message.trim()){_e.error("Please fill in title and message");return}const H=$();if(H.length===0){_e.error("Please select at least one recipient");return}M(!0);try{await e({user_ids:H,title:n.title,message:n.message,type:n.type,priority:n.priority,action_url:n.action_url,action_label:n.action_label})&&(_e.success(`Notification sent to ${H.length} users`),r({title:"",message:"",type:"info",priority:"normal",target_roles:[],target_users:[]}),_(""))}catch(J){console.error("Error sending notification:",J),_e.error("Failed to send notification")}finally{M(!1)}},Y=async()=>{var J;if(!n.title.trim()||!n.message.trim()){_e.error("Please fill in title and message");return}const H=prompt("Enter template name:");if(H)try{const{error:Z}=await $e.from("notification_templates").insert({name:H,title_template:n.title,message_template:n.message,type:n.type,priority:n.priority,action_url_template:n.action_url,action_label:n.action_label,variables:[],created_by:(J=(await $e.auth.getUser()).data.user)==null?void 0:J.id});if(Z){console.error("Error saving template:",Z),_e.error("Failed to save template");return}_e.success("Template saved successfully"),I()}catch(Z){console.error("Error saving template:",Z),_e.error("Failed to save template")}},Q=$(),G={en:{title:"Broadcast Notifications",description:"Send notifications to multiple users",compose:"Compose",templates:"Templates",recipients:"Recipients",preview:"Preview",notificationTitle:"Notification Title",notificationMessage:"Message Content",type:"Type",priority:"Priority",actionUrl:"Action URL (optional)",actionLabel:"Action Button Label",targetRoles:"Target User Roles",targetUsers:"Specific Users",searchUsers:"Search users...",selectAll:"Select All",selected:"selected",sendNotification:"Send Notification",saveTemplate:"Save as Template",loadTemplate:"Load Template",sending:"Sending...",noTemplates:"No templates available",noUsers:"No users found",scheduledFor:"Schedule for later",expiresAt:"Expires at"},ar:{title:"بث الإشعارات",description:"إرسال إشعارات لعدة مستخدمين",compose:"إنشاء",templates:"القوالب",recipients:"المستلمون",preview:"معاينة",notificationTitle:"عنوان الإشعار",notificationMessage:"محتوى الرسالة",type:"النوع",priority:"الأولوية",actionUrl:"رابط الإجراء (اختياري)",actionLabel:"تسمية زر الإجراء",targetRoles:"أدوار المستخدمين المستهدفة",targetUsers:"مستخدمون محددون",searchUsers:"البحث في المستخدمين...",selectAll:"تحديد الكل",selected:"محدد",sendNotification:"إرسال الإشعار",saveTemplate:"حفظ كقالب",loadTemplate:"تحميل القالب",sending:"جارٍ الإرسال...",noTemplates:"لا توجد قوالب متاحة",noUsers:"لم يتم العثور على مستخدمين",scheduledFor:"جدولة لوقت لاحق",expiresAt:"ينتهي في"}}[t];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(AS,{className:"h-6 w-6"}),G.title]}),a.jsx("p",{className:"text-muted-foreground",children:G.description})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs(pi,{defaultValue:"compose",className:"space-y-4",children:[a.jsxs(Hs,{children:[a.jsx(At,{value:"compose",children:G.compose}),a.jsx(At,{value:"templates",children:G.templates})]}),a.jsx(Ot,{value:"compose",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:G.compose}),a.jsx(st,{children:"Create and send a notification"})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"title",children:G.notificationTitle}),a.jsx(dt,{id:"title",value:n.title,onChange:H=>r(J=>({...J,title:H.target.value})),placeholder:"Enter notification title..."})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"message",children:G.notificationMessage}),a.jsx(Es,{id:"message",value:n.message,onChange:H=>r(J=>({...J,message:H.target.value})),placeholder:"Enter notification message...",rows:4})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ze,{children:G.type}),a.jsxs(kt,{value:n.type,onValueChange:H=>r(J=>({...J,type:H})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"info",children:"Info"}),a.jsx(Ae,{value:"success",children:"Success"}),a.jsx(Ae,{value:"warning",children:"Warning"}),a.jsx(Ae,{value:"error",children:"Error"}),a.jsx(Ae,{value:"system",children:"System"}),a.jsx(Ae,{value:"ticket",children:"Ticket"}),a.jsx(Ae,{value:"payment",children:"Payment"}),a.jsx(Ae,{value:"refund",children:"Refund"}),a.jsx(Ae,{value:"event",children:"Event"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{children:G.priority}),a.jsxs(kt,{value:n.priority,onValueChange:H=>r(J=>({...J,priority:H})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"low",children:"Low"}),a.jsx(Ae,{value:"normal",children:"Normal"}),a.jsx(Ae,{value:"high",children:"High"}),a.jsx(Ae,{value:"urgent",children:"Urgent"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"actionUrl",children:G.actionUrl}),a.jsx(dt,{id:"actionUrl",value:n.action_url||"",onChange:H=>r(J=>({...J,action_url:H.target.value})),placeholder:"/dashboard/tickets"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"actionLabel",children:G.actionLabel}),a.jsx(dt,{id:"actionLabel",value:n.action_label||"",onChange:H=>r(J=>({...J,action_label:H.target.value})),placeholder:"View Details"})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(we,{variant:"outline",onClick:Y,children:[a.jsx(aB,{className:"h-4 w-4 mr-2"}),G.saveTemplate]}),a.jsxs(we,{onClick:W,disabled:E||Q.length===0,children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),E?G.sending:G.sendNotification]})]})]})]})}),a.jsx(Ot,{value:"templates",className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:G.templates}),a.jsx(st,{children:"Load from saved templates"})]}),a.jsx(fe,{children:g.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:G.noTemplates}):a.jsx("div",{className:"space-y-2",children:g.map(H=>a.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 border rounded-lg cursor-pointer transition-colors ${w===H.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>k(H.id),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:H.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:H.title_template})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{variant:"secondary",children:H.type}),a.jsx(Je,{variant:"outline",children:H.priority})]})]})},H.id))})})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(rm,{className:"h-5 w-5"}),G.recipients]}),a.jsxs(st,{children:[Q.length," users selected"]})]}),a.jsxs(fe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{children:G.targetRoles}),a.jsx("div",{className:"space-y-2 mt-2",children:["passenger","driver","merchant","event_admin"].map(H=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cu,{id:H,checked:n.target_roles.includes(H),onCheckedChange:()=>F(H)}),a.jsx(ze,{htmlFor:H,className:"capitalize",children:H.replace("_"," ")})]},H))})]}),a.jsx(hi,{}),a.jsxs("div",{children:[a.jsx(ze,{children:G.targetUsers}),a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{placeholder:G.searchUsers,value:m.search||"",onChange:H=>f(J=>({...J,search:H.target.value})),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(we,{variant:"outline",size:"sm",onClick:L,children:[G.selectAll," (",o.length,")"]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.target_users.length," ",G.selected]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border rounded-md p-2",children:o.map(H=>a.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded",children:[a.jsx(cu,{checked:n.target_users.includes(H.id),onCheckedChange:()=>V(H.id)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:H.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:H.email})]}),a.jsx(Je,{variant:"outline",className:"text-xs",children:H.role})]},H.id))})]})]})]})]}),(n.title||n.message)&&a.jsxs(ue,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Ev,{className:"h-5 w-5"}),G.preview]})}),a.jsx(fe,{children:a.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-shrink-0 mt-1",children:[n.type==="success"&&a.jsx(_r,{className:"h-5 w-5 text-green-600"}),n.type==="warning"&&a.jsx(Er,{className:"h-5 w-5 text-yellow-600"}),n.type==="error"&&a.jsx(Er,{className:"h-5 w-5 text-red-600"}),!["success","warning","error"].includes(n.type)&&a.jsx(Ev,{className:"h-5 w-5 text-blue-600"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-sm",children:n.title||"Notification Title"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.message||"Notification message will appear here..."}),n.action_label&&a.jsx(we,{size:"sm",variant:"link",className:"h-auto p-0 mt-2",children:n.action_label})]}),a.jsx(Je,{variant:n.priority==="urgent"?"destructive":"secondary",className:"text-xs",children:n.priority})]})})})]})]})]})]})},cTe=()=>{var Q,X,G,H,J;const{user:e}=$t(),{conversations:t,activeConversation:n,messages:r,loading:s,stats:i,fetchConversations:o,sendMessage:u,setActiveConversation:m,assignConversation:f,updateConversationStatus:g,refreshStats:x}=G6(),[w,_]=j.useState(""),[C,A]=j.useState(!1),[E,M]=j.useState({}),[D,R]=j.useState(""),[z,I]=j.useState(""),k=j.useRef(null);j.useEffect(()=>{var Z;(Z=k.current)==null||Z.scrollIntoView({behavior:"smooth"})},[r]),j.useEffect(()=>{const Z={...E};D&&(Z.search=D),o(Z)},[E,D,o]);const F=async()=>{!w.trim()||!n||(await u({conversation_id:n.id,content:w.trim(),message_type:"text",is_internal:C}),_(""),A(!1))},V=async(Z,de)=>{await f(Z,de)},L=async(Z,de)=>{await g(Z,de)},$=Z=>{switch(Z){case"open":return"bg-blue-500";case"assigned":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},W=Z=>{switch(Z){case"urgent":return"bg-red-500 text-white";case"high":return"bg-orange-500 text-white";case"normal":return"bg-blue-500 text-white";case"low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},Y=Z=>Ph(new Date(Z),{addSuffix:!0});return!e||e.role!=="admin"?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Access denied. Admin privileges required."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dv,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Conversations"}),a.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.total_conversations)||0})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bne,{className:"h-5 w-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Open & Assigned"}),a.jsx("p",{className:"text-2xl font-bold",children:((i==null?void 0:i.open_conversations)||0)+((i==null?void 0:i.assigned_conversations)||0)})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pne,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Resolved Today"}),a.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.resolved_today)||0})]})]})})}),a.jsx(ue,{children:a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xn,{className:"h-5 w-5 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Response Time"}),a.jsxs("p",{className:"text-2xl font-bold",children:[(i==null?void 0:i.average_response_time)||0,"m"]})]})]})})})]}),a.jsxs("div",{className:"flex h-[700px] gap-6",children:[a.jsxs("div",{className:"w-1/3 border-r space-y-4",children:[a.jsxs(ue,{children:[a.jsx(Te,{className:"pb-3",children:a.jsxs(Oe,{className:"text-sm flex items-center gap-2",children:[a.jsx(nm,{className:"h-4 w-4"}),"Filters"]})}),a.jsxs(fe,{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"search",className:"text-xs",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"h-4 w-4 absolute left-2 top-2.5 text-muted-foreground"}),a.jsx(dt,{id:"search",placeholder:"Search conversations...",className:"pl-8 h-8",value:D,onChange:Z=>R(Z.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs",children:"Status"}),a.jsxs(kt,{value:((Q=E.status)==null?void 0:Q[0])||"all",onValueChange:Z=>{M(Z==="all"?de=>({...de,status:void 0}):de=>({...de,status:[Z]}))},children:[a.jsx(It,{className:"h-8",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:"All Status"}),a.jsx(Ae,{value:"open",children:"Open"}),a.jsx(Ae,{value:"assigned",children:"Assigned"}),a.jsx(Ae,{value:"resolved",children:"Resolved"}),a.jsx(Ae,{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs",children:"Priority"}),a.jsxs(kt,{value:((X=E.priority)==null?void 0:X[0])||"all",onValueChange:Z=>{M(Z==="all"?de=>({...de,priority:void 0}):de=>({...de,priority:[Z]}))},children:[a.jsx(It,{className:"h-8",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:"All Priorities"}),a.jsx(Ae,{value:"urgent",children:"Urgent"}),a.jsx(Ae,{value:"high",children:"High"}),a.jsx(Ae,{value:"normal",children:"Normal"}),a.jsx(Ae,{value:"low",children:"Low"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs",children:"Category"}),a.jsxs(kt,{value:((G=E.category)==null?void 0:G[0])||"all",onValueChange:Z=>{M(Z==="all"?de=>({...de,category:void 0}):de=>({...de,category:[Z]}))},children:[a.jsx(It,{className:"h-8",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"all",children:"All Categories"}),a.jsx(Ae,{value:"general",children:"General"}),a.jsx(Ae,{value:"technical",children:"Technical"}),a.jsx(Ae,{value:"billing",children:"Billing"}),a.jsx(Ae,{value:"account",children:"Account"}),a.jsx(Ae,{value:"refund",children:"Refund"}),a.jsx(Ae,{value:"feedback",children:"Feedback"})]})]})]})]})]}),a.jsx(kd,{className:"h-[calc(100%-200px)]",children:a.jsx("div",{className:"space-y-2",children:t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Th,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No conversations found"})]}):t.map(Z=>{var de;return a.jsx(ue,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${(n==null?void 0:n.id)===Z.id?"ring-2 ring-primary":""}`,onClick:()=>m(Z),children:a.jsxs(fe,{className:"p-3",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate flex-1",children:Z.subject}),a.jsx(Je,{variant:"outline",className:`text-xs ${W(Z.priority)}`,children:Z.priority})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Je,{variant:"outline",className:`text-xs ${$(Z.status)}`,children:Z.status}),Z.category&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:Z.category})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(ou,{className:"h-3 w-3 mr-1"}),((de=Z.user)==null?void 0:de.full_name)||"Unknown User"]}),Z.assigned_admin&&a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(HE,{className:"h-3 w-3 mr-1"}),"Assigned to ",Z.assigned_admin.full_name]}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),Y(Z.updated_at)]})]}),Z.last_message&&a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-1",children:Z.last_message.content})]})},Z.id)})})})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:n.subject}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Je,{variant:"outline",className:$(n.status),children:n.status}),a.jsx(Je,{variant:"outline",className:W(n.priority),children:n.priority}),n.category&&a.jsx(Je,{variant:"secondary",children:n.category})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground text-right",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ou,{className:"h-4 w-4"}),((H=n.user)==null?void 0:H.full_name)||"Unknown User"]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Uy,{className:"h-4 w-4"}),(J=n.user)==null?void 0:J.email]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Ra,{className:"h-4 w-4"}),"Created ",Y(n.created_at)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(kt,{value:z,onValueChange:I,children:[a.jsx(It,{className:"w-48",children:a.jsx(Bt,{placeholder:"Assign to admin..."})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"unassigned",children:"Unassign"}),a.jsx(Ae,{value:e.id,children:"Assign to me"})]})]}),a.jsx(we,{size:"sm",onClick:()=>V(n.id,z),disabled:!z,children:"Assign"}),a.jsxs(kt,{value:n.status,onValueChange:Z=>L(n.id,Z),children:[a.jsx(It,{className:"w-32",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ae,{value:"open",children:"Open"}),a.jsx(Ae,{value:"assigned",children:"Assigned"}),a.jsx(Ae,{value:"resolved",children:"Resolved"}),a.jsx(Ae,{value:"closed",children:"Closed"})]})]})]})]}),a.jsx(kd,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(Z=>{var de,re,pe,Ne,Se;return a.jsx("div",{className:`flex ${Z.sender_id===e.id?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${Z.sender_id===e.id?"flex-row-reverse":"flex-row"}`,children:[a.jsxs(lp,{className:"h-8 w-8",children:[a.jsx(cp,{src:(de=Z.sender)==null?void 0:de.avatar_url}),a.jsx(up,{children:((pe=(re=Z.sender)==null?void 0:re.full_name)==null?void 0:pe.charAt(0))||"U"})]}),a.jsxs("div",{className:`rounded-lg p-3 ${Z.is_internal?"bg-yellow-100 dark:bg-yellow-900 border-l-4 border-yellow-500":Z.sender_id===e.id?"bg-primary text-primary-foreground":"bg-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:((Ne=Z.sender)==null?void 0:Ne.full_name)||"Unknown User"}),((Se=Z.sender)==null?void 0:Se.role)==="admin"&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:"Admin"}),Z.is_internal&&a.jsx(Je,{variant:"outline",className:"text-xs",children:"Internal Note"})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Z.content}),a.jsx("p",{className:`text-xs mt-1 ${Z.is_internal?"text-yellow-700 dark:text-yellow-300":Z.sender_id===e.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:Y(Z.created_at)})]})]})},Z.id)}),a.jsx("div",{ref:k})]})}),a.jsxs("div",{className:"p-4 border-t space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cu,{id:"internal",checked:C,onCheckedChange:Z=>A(Z===!0)}),a.jsx(ze,{htmlFor:"internal",className:"text-sm",children:"Internal note (not visible to user)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Es,{placeholder:C?"Add internal note...":"Type your response...",value:w,onChange:Z=>_(Z.target.value),onKeyPress:Z=>{Z.key==="Enter"&&!Z.shiftKey&&(Z.preventDefault(),F())},disabled:s,rows:2}),a.jsx(we,{onClick:F,disabled:s||!w.trim(),children:a.jsx(Od,{className:"h-4 w-4"})})]})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Th,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choose a conversation from the sidebar to start managing it"})]})})})]})]})};function uTe(){return X_(["admin"]),a.jsx(Wp,{userType:"admin",children:a.jsxs(Kh,{children:[a.jsx(ht,{path:"/",element:a.jsx(Vl,{to:"/admin/home",replace:!0})}),a.jsx(ht,{path:"/home",element:a.jsx(nTe,{})}),a.jsx(ht,{path:"/users",element:a.jsx(rTe,{})}),a.jsx(ht,{path:"/analytics",element:a.jsx(aTe,{})}),a.jsx(ht,{path:"/disputes",element:a.jsx(sTe,{})}),a.jsx(ht,{path:"/verification-review",element:a.jsx(oTe,{})}),a.jsx(ht,{path:"/notifications",element:a.jsx(TH,{})}),a.jsx(ht,{path:"/broadcast",element:a.jsx(lTe,{})}),a.jsx(ht,{path:"/chat-management",element:a.jsx(cTe,{})}),a.jsx(ht,{path:"/profile",element:a.jsx(u0,{})}),a.jsx(ht,{path:"/settings",element:a.jsx(d0,{})})]})})}function Og({children:e,allowedRoles:t}){const{user:n,profile:r,loading:s}=$t();return s?a.jsx(hs,{}):n?r?t.includes(r.user_type)?a.jsx(a.Fragment,{children:e}):a.jsx(Vl,{to:`/${r.user_type}`,replace:!0}):a.jsx(hs,{text:"Loading profile..."}):a.jsx(Vl,{to:"/login",replace:!0})}function dTe(){const{user:e,profile:t,loading:n}=$t(),{isRTL:r}=Ut();return n?a.jsx(hs,{}):a.jsx("div",{className:`min-h-screen ${r?"rtl":"ltr"}`,children:a.jsx(iX,{children:a.jsxs(Kh,{children:[a.jsx(ht,{path:"/",element:e?a.jsx(av,{}):a.jsx(Yre,{})}),a.jsx(ht,{path:"/login",element:e?a.jsx(av,{}):a.jsx(cae,{})}),a.jsx(ht,{path:"/register",element:e?a.jsx(av,{}):a.jsx(voe,{})}),a.jsx(ht,{path:"/forgot-password",element:e?a.jsx(av,{}):a.jsx(yoe,{})}),a.jsx(ht,{path:"/otp-verification",element:a.jsx(koe,{})}),a.jsx(ht,{path:"/reset-password",element:a.jsx(Ioe,{})}),a.jsx(ht,{path:"/passenger/*",element:a.jsx(Og,{allowedRoles:["passenger"],children:a.jsx(TAe,{})})}),a.jsx(ht,{path:"/driver/*",element:a.jsx(Og,{allowedRoles:["driver"],children:a.jsx(bCe,{})})}),a.jsx(ht,{path:"/merchant/*",element:a.jsx(Og,{allowedRoles:["merchant"],children:a.jsx(KCe,{})})}),a.jsx(ht,{path:"/event-admin/*",element:a.jsx(Og,{allowedRoles:["event_admin"],children:a.jsx(tTe,{})})}),a.jsx(ht,{path:"/admin/*",element:a.jsx(Og,{allowedRoles:["admin"],children:a.jsx(uTe,{})})}),a.jsx(ht,{path:"*",element:a.jsx(Vl,{to:"/",replace:!0})})]})})})}function av(){const{profile:e}=$t();return e?a.jsx(Vl,{to:`/${e.user_type}`,replace:!0}):a.jsx(Vl,{to:"/login",replace:!0})}var fTe=(e,t,n,r,s,i,o,u)=>{let m=document.documentElement,f=["light","dark"];function g(_){(Array.isArray(e)?e:[e]).forEach(C=>{let A=C==="class",E=A&&i?s.map(M=>i[M]||M):s;A?(m.classList.remove(...E),m.classList.add(i&&i[_]?i[_]:_)):m.setAttribute(C,_)}),x(_)}function x(_){u&&f.includes(_)&&(m.style.colorScheme=_)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let _=localStorage.getItem(t)||n,C=o&&_==="system"?w():_;g(C)}catch{}},hTe=j.createContext(void 0),mTe={setTheme:e=>{},themes:[]},gTe=()=>{var e;return(e=j.useContext(hTe))!=null?e:mTe};j.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:u,nonce:m,scriptProps:f})=>{let g=JSON.stringify([n,t,i,e,u,o,r,s]).slice(1,-1);return j.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${fTe.toString()})(${g})`}})});const pTe=({...e})=>{const{theme:t="system"}=gTe();return a.jsx(WG,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function xTe(){return a.jsx(V6,{children:a.jsx(U6,{children:a.jsx(B6,{children:a.jsx(q6,{children:a.jsx(W6,{children:a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(dTe,{}),a.jsx(pTe,{richColors:!0,position:"top-right"})]})})})})})})}hY.createRoot(document.getElementById("root")).render(a.jsx(at.StrictMode,{children:a.jsx(B6,{children:a.jsx(V6,{children:a.jsx(U6,{children:a.jsx(q6,{children:a.jsx(W6,{children:a.jsx(xTe,{})})})})})})}));export{Cd as _,wx as c,Cs as g};
