var wY=Object.defineProperty;var jY=(e,t,n)=>t in e?wY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Kw=(e,t,n)=>jY(e,typeof t!="symbol"?t+"":t,n);function _6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NY(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Xw={exports:{}},gg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO;function SY(){if(kO)return gg;kO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var u in s)u!=="key"&&(i[u]=s[u])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:i}}return gg.Fragment=t,gg.jsx=n,gg.jsxs=n,gg}var IO;function _Y(){return IO||(IO=1,Xw.exports=SY()),Xw.exports}var a=_Y(),Qw={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function AY(){if(LO)return Wt;LO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function j(re){return re===null||typeof re!="object"?null:(re=x&&re[x]||re["@@iterator"],typeof re=="function"?re:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function A(re,de,xe){this.props=re,this.context=de,this.refs=E,this.updater=xe||_}A.prototype.isReactComponent={},A.prototype.setState=function(re,de){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,de,"setState")},A.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function M(){}M.prototype=A.prototype;function D(re,de,xe){this.props=re,this.context=de,this.refs=E,this.updater=xe||_}var R=D.prototype=new M;R.constructor=D,C(R,A.prototype),R.isPureReactComponent=!0;var U=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function F(re,de,xe,_e,ye,ke){return xe=ke.ref,{$$typeof:e,type:re,key:de,ref:xe!==void 0?xe:null,props:ke}}function V(re,de){return F(re.type,de,void 0,void 0,void 0,re.props)}function L(re){return typeof re=="object"&&re!==null&&re.$$typeof===e}function $(re){var de={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(xe){return de[xe]})}var Y=/\/+/g;function q(re,de){return typeof re=="object"&&re!==null&&re.key!=null?$(""+re.key):de.toString(36)}function X(){}function Q(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(X,X):(re.status="pending",re.then(function(de){re.status==="pending"&&(re.status="fulfilled",re.value=de)},function(de){re.status==="pending"&&(re.status="rejected",re.reason=de)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function G(re,de,xe,_e,ye){var ke=typeof re;(ke==="undefined"||ke==="boolean")&&(re=null);var ae=!1;if(re===null)ae=!0;else switch(ke){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(re.$$typeof){case e:case t:ae=!0;break;case g:return ae=re._init,G(ae(re._payload),de,xe,_e,ye)}}if(ae)return ye=ye(re),ae=_e===""?"."+q(re,0):_e,U(ye)?(xe="",ae!=null&&(xe=ae.replace(Y,"$&/")+"/"),G(ye,de,xe,"",function(ge){return ge})):ye!=null&&(L(ye)&&(ye=V(ye,xe+(ye.key==null||re&&re.key===ye.key?"":(""+ye.key).replace(Y,"$&/")+"/")+ae)),de.push(ye)),1;ae=0;var ue=_e===""?".":_e+":";if(U(re))for(var ce=0;ce<re.length;ce++)_e=re[ce],ke=ue+q(_e,ce),ae+=G(_e,de,xe,ke,ye);else if(ce=j(re),typeof ce=="function")for(re=ce.call(re),ce=0;!(_e=re.next()).done;)_e=_e.value,ke=ue+q(_e,ce++),ae+=G(_e,de,xe,ke,ye);else if(ke==="object"){if(typeof re.then=="function")return G(Q(re),de,xe,_e,ye);throw de=String(re),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return ae}function H(re,de,xe){if(re==null)return re;var _e=[],ye=0;return G(re,_e,"","",function(ke){return de.call(xe,ke,ye++)}),_e}function ee(re){if(re._status===-1){var de=re._result;de=de(),de.then(function(xe){(re._status===0||re._status===-1)&&(re._status=1,re._result=xe)},function(xe){(re._status===0||re._status===-1)&&(re._status=2,re._result=xe)}),re._status===-1&&(re._status=0,re._result=de)}if(re._status===1)return re._result.default;throw re._result}var Z=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)};function oe(){}return Wt.Children={map:H,forEach:function(re,de,xe){H(re,function(){de.apply(this,arguments)},xe)},count:function(re){var de=0;return H(re,function(){de++}),de},toArray:function(re){return H(re,function(de){return de})||[]},only:function(re){if(!L(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},Wt.Component=A,Wt.Fragment=n,Wt.Profiler=s,Wt.PureComponent=D,Wt.StrictMode=r,Wt.Suspense=m,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(re){return k.H.useMemoCache(re)}},Wt.cache=function(re){return function(){return re.apply(null,arguments)}},Wt.cloneElement=function(re,de,xe){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var _e=C({},re.props),ye=re.key,ke=void 0;if(de!=null)for(ae in de.ref!==void 0&&(ke=void 0),de.key!==void 0&&(ye=""+de.key),de)!I.call(de,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&de.ref===void 0||(_e[ae]=de[ae]);var ae=arguments.length-2;if(ae===1)_e.children=xe;else if(1<ae){for(var ue=Array(ae),ce=0;ce<ae;ce++)ue[ce]=arguments[ce+2];_e.children=ue}return F(re.type,ye,void 0,void 0,ke,_e)},Wt.createContext=function(re){return re={$$typeof:o,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:i,_context:re},re},Wt.createElement=function(re,de,xe){var _e,ye={},ke=null;if(de!=null)for(_e in de.key!==void 0&&(ke=""+de.key),de)I.call(de,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(ye[_e]=de[_e]);var ae=arguments.length-2;if(ae===1)ye.children=xe;else if(1<ae){for(var ue=Array(ae),ce=0;ce<ae;ce++)ue[ce]=arguments[ce+2];ye.children=ue}if(re&&re.defaultProps)for(_e in ae=re.defaultProps,ae)ye[_e]===void 0&&(ye[_e]=ae[_e]);return F(re,ke,void 0,void 0,null,ye)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(re){return{$$typeof:u,render:re}},Wt.isValidElement=L,Wt.lazy=function(re){return{$$typeof:g,_payload:{_status:-1,_result:re},_init:ee}},Wt.memo=function(re,de){return{$$typeof:f,type:re,compare:de===void 0?null:de}},Wt.startTransition=function(re){var de=k.T,xe={};k.T=xe;try{var _e=re(),ye=k.S;ye!==null&&ye(xe,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(oe,Z)}catch(ke){Z(ke)}finally{k.T=de}},Wt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Wt.use=function(re){return k.H.use(re)},Wt.useActionState=function(re,de,xe){return k.H.useActionState(re,de,xe)},Wt.useCallback=function(re,de){return k.H.useCallback(re,de)},Wt.useContext=function(re){return k.H.useContext(re)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(re,de){return k.H.useDeferredValue(re,de)},Wt.useEffect=function(re,de,xe){var _e=k.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(re,de)},Wt.useId=function(){return k.H.useId()},Wt.useImperativeHandle=function(re,de,xe){return k.H.useImperativeHandle(re,de,xe)},Wt.useInsertionEffect=function(re,de){return k.H.useInsertionEffect(re,de)},Wt.useLayoutEffect=function(re,de){return k.H.useLayoutEffect(re,de)},Wt.useMemo=function(re,de){return k.H.useMemo(re,de)},Wt.useOptimistic=function(re,de){return k.H.useOptimistic(re,de)},Wt.useReducer=function(re,de,xe){return k.H.useReducer(re,de,xe)},Wt.useRef=function(re){return k.H.useRef(re)},Wt.useState=function(re){return k.H.useState(re)},Wt.useSyncExternalStore=function(re,de,xe){return k.H.useSyncExternalStore(re,de,xe)},Wt.useTransition=function(){return k.H.useTransition()},Wt.version="19.1.0",Wt}var BO;function Gh(){return BO||(BO=1,Qw.exports=AY()),Qw.exports}var w=Gh();const at=Cs(w),A6=_6({__proto__:null,default:at},[w]);var Zw={exports:{}},pg={},Jw={exports:{}},e2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO;function EY(){return FO||(FO=1,function(e){function t(H,ee){var Z=H.length;H.push(ee);e:for(;0<Z;){var oe=Z-1>>>1,re=H[oe];if(0<s(re,ee))H[oe]=ee,H[Z]=re,Z=oe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],Z=H.pop();if(Z!==ee){H[0]=Z;e:for(var oe=0,re=H.length,de=re>>>1;oe<de;){var xe=2*(oe+1)-1,_e=H[xe],ye=xe+1,ke=H[ye];if(0>s(_e,Z))ye<re&&0>s(ke,_e)?(H[oe]=ke,H[ye]=Z,oe=ye):(H[oe]=_e,H[xe]=Z,oe=xe);else if(ye<re&&0>s(ke,Z))H[oe]=ke,H[ye]=Z,oe=ye;else break e}}return ee}function s(H,ee){var Z=H.sortIndex-ee.sortIndex;return Z!==0?Z:H.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var m=[],f=[],g=1,x=null,j=3,_=!1,C=!1,E=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function U(H){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=H)r(f),ee.sortIndex=ee.expirationTime,t(m,ee);else break;ee=n(f)}}function k(H){if(E=!1,U(H),!C)if(n(m)!==null)C=!0,I||(I=!0,q());else{var ee=n(f);ee!==null&&G(k,ee.startTime-H)}}var I=!1,F=-1,V=5,L=-1;function $(){return A?!0:!(e.unstable_now()-L<V)}function Y(){if(A=!1,I){var H=e.unstable_now();L=H;var ee=!0;try{e:{C=!1,E&&(E=!1,D(F),F=-1),_=!0;var Z=j;try{t:{for(U(H),x=n(m);x!==null&&!(x.expirationTime>H&&$());){var oe=x.callback;if(typeof oe=="function"){x.callback=null,j=x.priorityLevel;var re=oe(x.expirationTime<=H);if(H=e.unstable_now(),typeof re=="function"){x.callback=re,U(H),ee=!0;break t}x===n(m)&&r(m),U(H)}else r(m);x=n(m)}if(x!==null)ee=!0;else{var de=n(f);de!==null&&G(k,de.startTime-H),ee=!1}}break e}finally{x=null,j=Z,_=!1}ee=void 0}}finally{ee?q():I=!1}}}var q;if(typeof R=="function")q=function(){R(Y)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=Y,q=function(){Q.postMessage(null)}}else q=function(){M(Y,0)};function G(H,ee){F=M(function(){H(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_next=function(H){switch(j){case 1:case 2:case 3:var ee=3;break;default:ee=j}var Z=j;j=ee;try{return H()}finally{j=Z}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=j;j=H;try{return ee()}finally{j=Z}},e.unstable_scheduleCallback=function(H,ee,Z){var oe=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,H={id:g++,callback:ee,priorityLevel:H,startTime:Z,expirationTime:re,sortIndex:-1},Z>oe?(H.sortIndex=Z,t(f,H),n(m)===null&&H===n(f)&&(E?(D(F),F=-1):E=!0,G(k,Z-oe))):(H.sortIndex=re,t(m,H),C||_||(C=!0,I||(I=!0,q()))),H},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(H){var ee=j;return function(){var Z=j;j=ee;try{return H.apply(this,arguments)}finally{j=Z}}}}(e2)),e2}var UO;function CY(){return UO||(UO=1,Jw.exports=EY()),Jw.exports}var t2={exports:{}},ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO;function TY(){if(zO)return ns;zO=1;var e=Gh();function t(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(m,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:m,containerInfo:f,implementation:g}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ns.createPortal=function(m,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(m,f,null,g)},ns.flushSync=function(m){var f=o.T,g=r.p;try{if(o.T=null,r.p=2,m)return m()}finally{o.T=f,r.p=g,r.d.f()}},ns.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(m,f))},ns.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ns.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin),j=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:j,fetchPriority:_}):g==="script"&&r.d.X(m,{crossOrigin:x,integrity:j,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ns.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(m)},ns.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin);r.d.L(m,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ns.preloadModule=function(m,f){if(typeof m=="string")if(f){var g=u(f.as,f.crossOrigin);r.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(m)},ns.requestFormReset=function(m){r.d.r(m)},ns.unstable_batchedUpdates=function(m,f){return m(f)},ns.useFormState=function(m,f,g){return o.H.useFormState(m,f,g)},ns.useFormStatus=function(){return o.H.useHostTransitionStatus()},ns.version="19.1.0",ns}var VO;function E6(){if(VO)return t2.exports;VO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),t2.exports=TY(),t2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O;function OY(){if($O)return pg;$O=1;var e=CY(),t=Gh(),n=E6();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var d=l,v=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(v=d.return),l=d.return;while(l)}return d.tag===3?v:null}function o(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function u(l){if(i(l)!==l)throw Error(r(188))}function m(l){var d=l.alternate;if(!d){if(d=i(l),d===null)throw Error(r(188));return d!==l?null:l}for(var v=l,N=d;;){var O=v.return;if(O===null)break;var B=O.alternate;if(B===null){if(N=O.return,N!==null){v=N;continue}break}if(O.child===B.child){for(B=O.child;B;){if(B===v)return u(O),l;if(B===N)return u(O),d;B=B.sibling}throw Error(r(188))}if(v.return!==N.return)v=O,N=B;else{for(var K=!1,se=O.child;se;){if(se===v){K=!0,v=O,N=B;break}if(se===N){K=!0,N=O,v=B;break}se=se.sibling}if(!K){for(se=B.child;se;){if(se===v){K=!0,v=B,N=O;break}if(se===N){K=!0,N=B,v=O;break}se=se.sibling}if(!K)throw Error(r(189))}}if(v.alternate!==N)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?l:d}function f(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=f(l),d!==null)return d;l=l.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=Y&&l[Y]||l["@@iterator"],typeof l=="function"?l:null)}var X=Symbol.for("react.client.reference");function Q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===X?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case C:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case R:return(l.displayName||"Context")+".Provider";case D:return(l._context.displayName||"Context")+".Consumer";case U:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case F:return d=l.displayName||null,d!==null?d:Q(l.type)||"Memo";case V:d=l._payload,l=l._init;try{return Q(l(d))}catch{}}return null}var G=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},oe=[],re=-1;function de(l){return{current:l}}function xe(l){0>re||(l.current=oe[re],oe[re]=null,re--)}function _e(l,d){re++,oe[re]=l.current,l.current=d}var ye=de(null),ke=de(null),ae=de(null),ue=de(null);function ce(l,d){switch(_e(ae,d),_e(ke,l),_e(ye,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?cO(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=cO(d),l=uO(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}xe(ye),_e(ye,l)}function ge(){xe(ye),xe(ke),xe(ae)}function Me(l){l.memoizedState!==null&&_e(ue,l);var d=ye.current,v=uO(d,l.type);d!==v&&(_e(ke,l),_e(ye,v))}function Ne(l){ke.current===l&&(xe(ye),xe(ke)),ue.current===l&&(xe(ue),ug._currentValue=Z)}var we=Object.prototype.hasOwnProperty,Ke=e.unstable_scheduleCallback,$e=e.unstable_cancelCallback,Qe=e.unstable_shouldYield,gt=e.unstable_requestPaint,et=e.unstable_now,wt=e.unstable_getCurrentPriorityLevel,it=e.unstable_ImmediatePriority,wr=e.unstable_UserBlockingPriority,ct=e.unstable_NormalPriority,bn=e.unstable_LowPriority,ea=e.unstable_IdlePriority,jr=e.log,Ga=e.unstable_setDisableYieldValue,An=null,Qn=null;function Nr(l){if(typeof jr=="function"&&Ga(l),Qn&&typeof Qn.setStrictMode=="function")try{Qn.setStrictMode(An,l)}catch{}}var sn=Math.clz32?Math.clz32:yi,qs=Math.log,Wi=Math.LN2;function yi(l){return l>>>=0,l===0?32:31-(qs(l)/Wi|0)|0}var un=256,rt=4194304;function wn(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function dn(l,d,v){var N=l.pendingLanes;if(N===0)return 0;var O=0,B=l.suspendedLanes,K=l.pingedLanes;l=l.warmLanes;var se=N&134217727;return se!==0?(N=se&~B,N!==0?O=wn(N):(K&=se,K!==0?O=wn(K):v||(v=se&~l,v!==0&&(O=wn(v))))):(se=N&~B,se!==0?O=wn(se):K!==0?O=wn(K):v||(v=N&~l,v!==0&&(O=wn(v)))),O===0?0:d!==0&&d!==O&&(d&B)===0&&(B=O&-O,v=d&-d,B>=v||B===32&&(v&4194048)!==0)?d:O}function Cn(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function Gi(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(){var l=un;return un<<=1,(un&4194048)===0&&(un=256),l}function Mu(){var l=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),l}function en(l){for(var d=[],v=0;31>v;v++)d.push(l);return d}function Ka(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Du(l,d,v,N,O,B){var K=l.pendingLanes;l.pendingLanes=v,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=v,l.entangledLanes&=v,l.errorRecoveryDisabledLanes&=v,l.shellSuspendCounter=0;var se=l.entanglements,me=l.expirationTimes,Re=l.hiddenUpdates;for(v=K&~v;0<v;){var qe=31-sn(v),We=1<<qe;se[qe]=0,me[qe]=-1;var Ie=Re[qe];if(Ie!==null)for(Re[qe]=null,qe=0;qe<Ie.length;qe++){var Be=Ie[qe];Be!==null&&(Be.lane&=-536870913)}v&=~We}N!==0&&Rt(l,N,0),B!==0&&O===0&&l.tag!==0&&(l.suspendedLanes|=B&~(K&~d))}function Rt(l,d,v){l.pendingLanes|=d,l.suspendedLanes&=~d;var N=31-sn(d);l.entangledLanes|=d,l.entanglements[N]=l.entanglements[N]|1073741824|v&4194090}function xn(l,d){var v=l.entangledLanes|=d;for(l=l.entanglements;v;){var N=31-sn(v),O=1<<N;O&d|l[N]&d&&(l[N]|=d),v&=~O}}function or(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function hn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Ms(){var l=ee.p;return l!==0?l:(l=window.event,l===void 0?32:TO(l.type))}function lr(l,d){var v=ee.p;try{return ee.p=l,d()}finally{ee.p=v}}var jn=Math.random().toString(36).slice(2),Sr="__reactFiber$"+jn,mn="__reactProps$"+jn,Dr="__reactContainer$"+jn,Ur="__reactEvents$"+jn,Ba="__reactListeners$"+jn,vs="__reactHandles$"+jn,dt="__reactResources$"+jn,bi="__reactMarker$"+jn;function Pu(l){delete l[Sr],delete l[mn],delete l[Ur],delete l[Ba],delete l[vs]}function zr(l){var d=l[Sr];if(d)return d;for(var v=l.parentNode;v;){if(d=v[Dr]||v[Sr]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(l=mO(l);l!==null;){if(v=l[Sr])return v;l=mO(l)}return d}l=v,v=l.parentNode}return null}function Ys(l){if(l=l[Sr]||l[Dr]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function bo(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Ki(l){var d=l[dt];return d||(d=l[dt]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Mn(l){l[bi]=!0}var x0=new Set,v0={};function _a(l,d){Pr(l,d),Pr(l+"Capture",d)}function Pr(l,d){for(v0[l]=d,l=0;l<d.length;l++)x0.add(d[l])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nm={},Xi={};function Sm(l){return we.call(Xi,l)?!0:we.call(Nm,l)?!1:Zn.test(l)?Xi[l]=!0:(Nm[l]=!0,!1)}function Ge(l,d,v){if(Sm(d))if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var N=d.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+v)}}function ef(l,d,v){if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+v)}}function Nn(l,d,v,N){if(N===null)l.removeAttribute(v);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(v);return}l.setAttributeNS(d,v,""+N)}}var wo,y0;function tn(l){if(wo===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);wo=d&&d[1]||"",y0=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wo+l+y0}var fn=!1;function Xt(l,d){if(!l||fn)return"";fn=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(d){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Be){var Ie=Be}Reflect.construct(l,[],We)}else{try{We.call()}catch(Be){Ie=Be}l.call(We.prototype)}}else{try{throw Error()}catch(Be){Ie=Be}(We=l())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Be){if(Be&&Ie&&typeof Be.stack=="string")return[Be.stack,Ie.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=N.DetermineComponentFrameRoot(),K=B[0],se=B[1];if(K&&se){var me=K.split(`
`),Re=se.split(`
`);for(O=N=0;N<me.length&&!me[N].includes("DetermineComponentFrameRoot");)N++;for(;O<Re.length&&!Re[O].includes("DetermineComponentFrameRoot");)O++;if(N===me.length||O===Re.length)for(N=me.length-1,O=Re.length-1;1<=N&&0<=O&&me[N]!==Re[O];)O--;for(;1<=N&&0<=O;N--,O--)if(me[N]!==Re[O]){if(N!==1||O!==1)do if(N--,O--,0>O||me[N]!==Re[O]){var qe=`
`+me[N].replace(" at new "," at ");return l.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",l.displayName)),qe}while(1<=N&&0<=O);break}}}finally{fn=!1,Error.prepareStackTrace=v}return(v=l?l.displayName||l.name:"")?tn(v):""}function _m(l){switch(l.tag){case 26:case 27:case 5:return tn(l.type);case 16:return tn("Lazy");case 13:return tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Xt(l.type,!1);case 11:return Xt(l.type.render,!1);case 1:return Xt(l.type,!0);case 31:return tn("Activity");default:return""}}function tf(l){try{var d="";do d+=_m(l),l=l.return;while(l);return d}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Xa(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Rr(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function jo(l){var d=Rr(l)?"checked":"value",v=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),N=""+l[d];if(!l.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var O=v.get,B=v.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return O.call(this)},set:function(K){N=""+K,B.call(this,K)}}),Object.defineProperty(l,d,{enumerable:v.enumerable}),{getValue:function(){return N},setValue:function(K){N=""+K},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function nf(l){l._valueTracker||(l._valueTracker=jo(l))}function cr(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var v=d.getValue(),N="";return l&&(N=Rr(l)?l.checked?"true":"false":l.value),l=N,l!==v?(d.setValue(l),!0):!1}function Ws(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var tb=/[\n"\\]/g;function da(l){return l.replace(tb,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Tn(l,d,v,N,O,B,K,se){l.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?l.type=K:l.removeAttribute("type"),d!=null?K==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+Xa(d)):l.value!==""+Xa(d)&&(l.value=""+Xa(d)):K!=="submit"&&K!=="reset"||l.removeAttribute("value"),d!=null?De(l,K,Xa(d)):v!=null?De(l,K,Xa(v)):N!=null&&l.removeAttribute("value"),O==null&&B!=null&&(l.defaultChecked=!!B),O!=null&&(l.checked=O&&typeof O!="function"&&typeof O!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?l.name=""+Xa(se):l.removeAttribute("name")}function fa(l,d,v,N,O,B,K,se){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(l.type=B),d!=null||v!=null){if(!(B!=="submit"&&B!=="reset"||d!=null))return;v=v!=null?""+Xa(v):"",d=d!=null?""+Xa(d):v,se||d===l.value||(l.value=d),l.defaultValue=d}N=N??O,N=typeof N!="function"&&typeof N!="symbol"&&!!N,l.checked=se?l.checked:!!N,l.defaultChecked=!!N,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(l.name=K)}function De(l,d,v){d==="number"&&Ws(l.ownerDocument)===l||l.defaultValue===""+v||(l.defaultValue=""+v)}function ie(l,d,v,N){if(l=l.options,d){d={};for(var O=0;O<v.length;O++)d["$"+v[O]]=!0;for(v=0;v<l.length;v++)O=d.hasOwnProperty("$"+l[v].value),l[v].selected!==O&&(l[v].selected=O),O&&N&&(l[v].defaultSelected=!0)}else{for(v=""+Xa(v),d=null,O=0;O<l.length;O++){if(l[O].value===v){l[O].selected=!0,N&&(l[O].defaultSelected=!0);return}d!==null||l[O].disabled||(d=l[O])}d!==null&&(d.selected=!0)}}function jt(l,d,v){if(d!=null&&(d=""+Xa(d),d!==l.value&&(l.value=d),v==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=v!=null?""+Xa(v):""}function Vr(l,d,v,N){if(d==null){if(N!=null){if(v!=null)throw Error(r(92));if(G(N)){if(1<N.length)throw Error(r(93));N=N[0]}v=N}v==null&&(v=""),d=v}v=Xa(d),l.defaultValue=v,N=l.textContent,N===v&&N!==""&&N!==null&&(l.value=N)}function ha(l,d){if(d){var v=l.firstChild;if(v&&v===l.lastChild&&v.nodeType===3){v.nodeValue=d;return}}l.textContent=d}var nb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rf(l,d,v){var N=d.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?N?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":N?l.setProperty(d,v):typeof v!="number"||v===0||nb.has(d)?d==="float"?l.cssFloat=v:l[d]=(""+v).trim():l[d]=v+"px"}function ys(l,d,v){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,v!=null){for(var N in v)!v.hasOwnProperty(N)||d!=null&&d.hasOwnProperty(N)||(N.indexOf("--")===0?l.setProperty(N,""):N==="float"?l.cssFloat="":l[N]="");for(var O in d)N=d[O],d.hasOwnProperty(O)&&v[O]!==N&&rf(l,O,N)}else for(var B in d)d.hasOwnProperty(B)&&rf(l,B,d[B])}function Nt(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function af(l){return b0.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Ru=null;function lc(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var No=null,cc=null;function $r(l){var d=Ys(l);if(d&&(l=d.stateNode)){var v=l[mn]||null;e:switch(l=d.stateNode,d.type){case"input":if(Tn(l,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),d=v.name,v.type==="radio"&&d!=null){for(v=l;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+da(""+d)+'"][type="radio"]'),d=0;d<v.length;d++){var N=v[d];if(N!==l&&N.form===l.form){var O=N[mn]||null;if(!O)throw Error(r(90));Tn(N,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<v.length;d++)N=v[d],N.form===l.form&&cr(N)}break e;case"textarea":jt(l,v.value,v.defaultValue);break e;case"select":d=v.value,d!=null&&ie(l,!!v.multiple,d,!1)}}}var ll=!1;function Qi(l,d,v){if(ll)return l(d,v);ll=!0;try{var N=l(d);return N}finally{if(ll=!1,(No!==null||cc!==null)&&(sx(),No&&(d=No,l=cc,cc=No=null,$r(d),l)))for(d=0;d<l.length;d++)$r(l[d])}}function At(l,d){var v=l.stateNode;if(v===null)return null;var N=v[mn]||null;if(N===null)return null;v=N[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(l=l.type,N=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!N;break e;default:l=!1}if(l)return null;if(v&&typeof v!="function")throw Error(r(231,d,typeof v));return v}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zt=!1;if(Zi)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){zt=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{zt=!1}var So=null,ku=null,Iu=null;function _o(){if(Iu)return Iu;var l,d=ku,v=d.length,N,O="value"in So?So.value:So.textContent,B=O.length;for(l=0;l<v&&d[l]===O[l];l++);var K=v-l;for(N=1;N<=K&&d[v-N]===O[B-N];N++);return Iu=O.slice(l,1<N?1-N:void 0)}function sf(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Ao(){return!0}function uc(){return!1}function ta(l){function d(v,N,O,B,K){this._reactName=v,this._targetInst=O,this.type=N,this.nativeEvent=B,this.target=K,this.currentTarget=null;for(var se in l)l.hasOwnProperty(se)&&(v=l[se],this[se]=v?v(B):B[se]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Ao:uc,this.isPropagationStopped=uc,this}return g(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),d}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=ta(Eo),Ji=g({},Eo,{view:0,detail:0}),Qa=ta(Ji),of,lf,dc,cf=g({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bu,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==dc&&(dc&&l.type==="mousemove"?(of=l.screenX-dc.screenX,lf=l.screenY-dc.screenY):lf=of=0,dc=l),of)},movementY:function(l){return"movementY"in l?l.movementY:lf}}),w0=ta(cf),rb=g({},cf,{dataTransfer:0}),On=ta(rb),j0=g({},Ji,{relatedTarget:0}),fc=ta(j0),To=g({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),ab=ta(To),Fe=g({},Eo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Yt=ta(Fe),ma=g({},Eo,{data:0}),Lu=ta(ma),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ib={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ob(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=ib[l])?!!d[l]:!1}function Bu(){return ob}var Hr=g({},Ji,{key:function(l){if(l.key){var d=N0[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=sf(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?sb[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bu,charCode:function(l){return l.type==="keypress"?sf(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?sf(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Am=ta(Hr),ur=g({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=ta(ur),cl=g({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bu}),Dn=ta(cl),Ct=g({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),lb=ta(Ct),Yn=g({},cf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),ul=ta(Yn),hc=g({},Eo,{newState:0,oldState:0}),cb=ta(hc),wi=[9,13,27,32],Uu=Zi&&"CompositionEvent"in window,mc=null;Zi&&"documentMode"in document&&(mc=document.documentMode);var Em=Zi&&"TextEvent"in window&&!mc,Cm=Zi&&(!Uu||mc&&8<mc&&11>=mc),Tm=" ",S0=!1;function dl(l,d){switch(l){case"keyup":return wi.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gc=!1;function zu(l,d){switch(l){case"compositionend":return uf(d);case"keypress":return d.which!==32?null:(S0=!0,Tm);case"textInput":return l=d.data,l===Tm&&S0?null:l;default:return null}}function ub(l,d){if(gc)return l==="compositionend"||!Uu&&dl(l,d)?(l=_o(),Iu=ku=So=null,gc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Cm&&d.locale!=="ko"?null:d.data;default:return null}}var Oo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vu(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Oo[l.type]:d==="textarea"}function bs(l,d,v,N){No?cc?cc.push(N):cc=[N]:No=N,d=dx(d,"onChange"),0<d.length&&(v=new Co("onChange","change",null,v,N),l.push({event:v,listeners:d}))}var pc=null,Za=null;function db(l){aO(l,0)}function xc(l){var d=bo(l);if(cr(d))return l}function _0(l,d){if(l==="change")return d}var Om=!1;if(Zi){var Ds;if(Zi){var Mm="oninput"in document;if(!Mm){var df=document.createElement("div");df.setAttribute("oninput","return;"),Mm=typeof df.oninput=="function"}Ds=Mm}else Ds=!1;Om=Ds&&(!document.documentMode||9<document.documentMode)}function vc(){pc&&(pc.detachEvent("onpropertychange",on),Za=pc=null)}function on(l){if(l.propertyName==="value"&&xc(Za)){var d=[];bs(d,Za,l,lc(l)),Qi(db,d)}}function ff(l,d,v){l==="focusin"?(vc(),pc=d,Za=v,pc.attachEvent("onpropertychange",on)):l==="focusout"&&vc()}function J(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return xc(Za)}function c(l,d){if(l==="click")return xc(d)}function h(l,d){if(l==="input"||l==="change")return xc(d)}function p(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var y=typeof Object.is=="function"?Object.is:p;function b(l,d){if(y(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var v=Object.keys(l),N=Object.keys(d);if(v.length!==N.length)return!1;for(N=0;N<v.length;N++){var O=v[N];if(!we.call(d,O)||!y(l[O],d[O]))return!1}return!0}function S(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function T(l,d){var v=S(l);l=0;for(var N;v;){if(v.nodeType===3){if(N=l+v.textContent.length,l<=d&&N>=d)return{node:v,offset:d-l};l=N}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=S(v)}}function P(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?P(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function z(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=Ws(l.document);d instanceof l.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)l=d.contentWindow;else break;d=Ws(l.document)}return d}function W(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var te=Zi&&"documentMode"in document&&11>=document.documentMode,ne=null,le=null,pe=null,ve=!1;function Ce(l,d,v){var N=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;ve||ne==null||ne!==Ws(N)||(N=ne,"selectionStart"in N&&W(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),pe&&b(pe,N)||(pe=N,N=dx(le,"onSelect"),0<N.length&&(d=new Co("onSelect","select",null,d,v),l.push({event:d,listeners:N}),d.target=ne)))}function Le(l,d){var v={};return v[l.toLowerCase()]=d.toLowerCase(),v["Webkit"+l]="webkit"+d,v["Moz"+l]="moz"+d,v}var Ze={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionrun:Le("Transition","TransitionRun"),transitionstart:Le("Transition","TransitionStart"),transitioncancel:Le("Transition","TransitionCancel"),transitionend:Le("Transition","TransitionEnd")},nt={},Xe={};Zi&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete Ze.animationend.animation,delete Ze.animationiteration.animation,delete Ze.animationstart.animation),"TransitionEvent"in window||delete Ze.transitionend.transition);function Vt(l){if(nt[l])return nt[l];if(!Ze[l])return l;var d=Ze[l],v;for(v in d)if(d.hasOwnProperty(v)&&v in Xe)return nt[l]=d[v];return l}var Ut=Vt("animationend"),Fa=Vt("animationiteration"),Ps=Vt("animationstart"),Ja=Vt("transitionrun"),Pn=Vt("transitionstart"),ga=Vt("transitioncancel"),es=Vt("transitionend"),fl=new Map,Mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mo.push("scrollEnd");function Gs(l,d){fl.set(l,d),_a(d,[l])}var A0=new WeakMap;function ji(l,d){if(typeof l=="object"&&l!==null){var v=A0.get(l);return v!==void 0?v:(d={value:l,source:d,stack:tf(d)},A0.set(l,d),d)}return{value:l,source:d,stack:tf(d)}}var Ni=[],hf=0,fb=0;function E0(){for(var l=hf,d=fb=hf=0;d<l;){var v=Ni[d];Ni[d++]=null;var N=Ni[d];Ni[d++]=null;var O=Ni[d];Ni[d++]=null;var B=Ni[d];if(Ni[d++]=null,N!==null&&O!==null){var K=N.pending;K===null?O.next=O:(O.next=K.next,K.next=O),N.pending=O}B!==0&&VT(v,O,B)}}function C0(l,d,v,N){Ni[hf++]=l,Ni[hf++]=d,Ni[hf++]=v,Ni[hf++]=N,fb|=N,l.lanes|=N,l=l.alternate,l!==null&&(l.lanes|=N)}function hb(l,d,v,N){return C0(l,d,v,N),T0(l)}function mf(l,d){return C0(l,null,null,d),T0(l)}function VT(l,d,v){l.lanes|=v;var N=l.alternate;N!==null&&(N.lanes|=v);for(var O=!1,B=l.return;B!==null;)B.childLanes|=v,N=B.alternate,N!==null&&(N.childLanes|=v),B.tag===22&&(l=B.stateNode,l===null||l._visibility&1||(O=!0)),l=B,B=B.return;return l.tag===3?(B=l.stateNode,O&&d!==null&&(O=31-sn(v),l=B.hiddenUpdates,N=l[O],N===null?l[O]=[d]:N.push(d),d.lane=v|536870912),B):null}function T0(l){if(50<ng)throw ng=0,yw=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var gf={};function iq(l,d,v,N){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(l,d,v,N){return new iq(l,d,v,N)}function mb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function hl(l,d){var v=l.alternate;return v===null?(v=Ks(l.tag,d,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=d,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&65011712,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,d=l.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v.refCleanup=l.refCleanup,v}function $T(l,d){l.flags&=65011714;var v=l.alternate;return v===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=v.childLanes,l.lanes=v.lanes,l.child=v.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=v.memoizedProps,l.memoizedState=v.memoizedState,l.updateQueue=v.updateQueue,l.type=v.type,d=v.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function O0(l,d,v,N,O,B){var K=0;if(N=l,typeof l=="function")mb(l)&&(K=1);else if(typeof l=="string")K=lY(l,v,ye.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=Ks(31,v,d,O),l.elementType=L,l.lanes=B,l;case C:return $u(v.children,O,B,d);case E:K=8,O|=24;break;case A:return l=Ks(12,v,d,O|2),l.elementType=A,l.lanes=B,l;case k:return l=Ks(13,v,d,O),l.elementType=k,l.lanes=B,l;case I:return l=Ks(19,v,d,O),l.elementType=I,l.lanes=B,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:case R:K=10;break e;case D:K=9;break e;case U:K=11;break e;case F:K=14;break e;case V:K=16,N=null;break e}K=29,v=Error(r(130,l===null?"null":typeof l,"")),N=null}return d=Ks(K,v,d,O),d.elementType=l,d.type=N,d.lanes=B,d}function $u(l,d,v,N){return l=Ks(7,l,N,d),l.lanes=v,l}function gb(l,d,v){return l=Ks(6,l,null,d),l.lanes=v,l}function pb(l,d,v){return d=Ks(4,l.children!==null?l.children:[],l.key,d),d.lanes=v,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var pf=[],xf=0,M0=null,D0=0,Si=[],_i=0,Hu=null,ml=1,gl="";function qu(l,d){pf[xf++]=D0,pf[xf++]=M0,M0=l,D0=d}function HT(l,d,v){Si[_i++]=ml,Si[_i++]=gl,Si[_i++]=Hu,Hu=l;var N=ml;l=gl;var O=32-sn(N)-1;N&=~(1<<O),v+=1;var B=32-sn(d)+O;if(30<B){var K=O-O%5;B=(N&(1<<K)-1).toString(32),N>>=K,O-=K,ml=1<<32-sn(d)+O|v<<O|N,gl=B+l}else ml=1<<B|v<<O|N,gl=l}function xb(l){l.return!==null&&(qu(l,1),HT(l,1,0))}function vb(l){for(;l===M0;)M0=pf[--xf],pf[xf]=null,D0=pf[--xf],pf[xf]=null;for(;l===Hu;)Hu=Si[--_i],Si[_i]=null,gl=Si[--_i],Si[_i]=null,ml=Si[--_i],Si[_i]=null}var ws=null,kr=null,En=!1,Yu=null,Do=!1,yb=Error(r(519));function Wu(l){var d=Error(r(418,""));throw Rm(ji(d,l)),yb}function qT(l){var d=l.stateNode,v=l.type,N=l.memoizedProps;switch(d[Sr]=l,d[mn]=N,v){case"dialog":rn("cancel",d),rn("close",d);break;case"iframe":case"object":case"embed":rn("load",d);break;case"video":case"audio":for(v=0;v<ag.length;v++)rn(ag[v],d);break;case"source":rn("error",d);break;case"img":case"image":case"link":rn("error",d),rn("load",d);break;case"details":rn("toggle",d);break;case"input":rn("invalid",d),fa(d,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0),nf(d);break;case"select":rn("invalid",d);break;case"textarea":rn("invalid",d),Vr(d,N.value,N.defaultValue,N.children),nf(d)}v=N.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||d.textContent===""+v||N.suppressHydrationWarning===!0||lO(d.textContent,v)?(N.popover!=null&&(rn("beforetoggle",d),rn("toggle",d)),N.onScroll!=null&&rn("scroll",d),N.onScrollEnd!=null&&rn("scrollend",d),N.onClick!=null&&(d.onclick=fx),d=!0):d=!1,d||Wu(l)}function YT(l){for(ws=l.return;ws;)switch(ws.tag){case 5:case 13:Do=!1;return;case 27:case 3:Do=!0;return;default:ws=ws.return}}function Dm(l){if(l!==ws)return!1;if(!En)return YT(l),En=!0,!1;var d=l.tag,v;if((v=d!==3&&d!==27)&&((v=d===5)&&(v=l.type,v=!(v!=="form"&&v!=="button")||kw(l.type,l.memoizedProps)),v=!v),v&&kr&&Wu(l),YT(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(v=l.data,v==="/$"){if(d===0){kr=to(l.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++;l=l.nextSibling}kr=null}}else d===27?(d=kr,Rc(l.type)?(l=Fw,Fw=null,kr=l):kr=d):kr=ws?to(l.stateNode.nextSibling):null;return!0}function Pm(){kr=ws=null,En=!1}function WT(){var l=Yu;return l!==null&&(Is===null?Is=l:Is.push.apply(Is,l),Yu=null),l}function Rm(l){Yu===null?Yu=[l]:Yu.push(l)}var bb=de(null),Gu=null,pl=null;function yc(l,d,v){_e(bb,d._currentValue),d._currentValue=v}function xl(l){l._currentValue=bb.current,xe(bb)}function wb(l,d,v){for(;l!==null;){var N=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,N!==null&&(N.childLanes|=d)):N!==null&&(N.childLanes&d)!==d&&(N.childLanes|=d),l===v)break;l=l.return}}function jb(l,d,v,N){var O=l.child;for(O!==null&&(O.return=l);O!==null;){var B=O.dependencies;if(B!==null){var K=O.child;B=B.firstContext;e:for(;B!==null;){var se=B;B=O;for(var me=0;me<d.length;me++)if(se.context===d[me]){B.lanes|=v,se=B.alternate,se!==null&&(se.lanes|=v),wb(B.return,v,l),N||(K=null);break e}B=se.next}}else if(O.tag===18){if(K=O.return,K===null)throw Error(r(341));K.lanes|=v,B=K.alternate,B!==null&&(B.lanes|=v),wb(K,v,l),K=null}else K=O.child;if(K!==null)K.return=O;else for(K=O;K!==null;){if(K===l){K=null;break}if(O=K.sibling,O!==null){O.return=K.return,K=O;break}K=K.return}O=K}}function km(l,d,v,N){l=null;for(var O=d,B=!1;O!==null;){if(!B){if((O.flags&524288)!==0)B=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var K=O.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var se=O.type;y(O.pendingProps.value,K.value)||(l!==null?l.push(se):l=[se])}}else if(O===ue.current){if(K=O.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(l!==null?l.push(ug):l=[ug])}O=O.return}l!==null&&jb(d,l,v,N),d.flags|=262144}function P0(l){for(l=l.firstContext;l!==null;){if(!y(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ku(l){Gu=l,pl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ts(l){return GT(Gu,l)}function R0(l,d){return Gu===null&&Ku(l),GT(l,d)}function GT(l,d){var v=d._currentValue;if(d={context:d,memoizedValue:v,next:null},pl===null){if(l===null)throw Error(r(308));pl=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else pl=pl.next=d;return v}var oq=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(v,N){l.push(N)}};this.abort=function(){d.aborted=!0,l.forEach(function(v){return v()})}},lq=e.unstable_scheduleCallback,cq=e.unstable_NormalPriority,pa={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nb(){return{controller:new oq,data:new Map,refCount:0}}function Im(l){l.refCount--,l.refCount===0&&lq(cq,function(){l.controller.abort()})}var Lm=null,Sb=0,vf=0,yf=null;function uq(l,d){if(Lm===null){var v=Lm=[];Sb=0,vf=Aw(),yf={status:"pending",value:void 0,then:function(N){v.push(N)}}}return Sb++,d.then(KT,KT),d}function KT(){if(--Sb===0&&Lm!==null){yf!==null&&(yf.status="fulfilled");var l=Lm;Lm=null,vf=0,yf=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function dq(l,d){var v=[],N={status:"pending",value:null,reason:null,then:function(O){v.push(O)}};return l.then(function(){N.status="fulfilled",N.value=d;for(var O=0;O<v.length;O++)(0,v[O])(d)},function(O){for(N.status="rejected",N.reason=O,O=0;O<v.length;O++)(0,v[O])(void 0)}),N}var XT=H.S;H.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&uq(l,d),XT!==null&&XT(l,d)};var Xu=de(null);function _b(){var l=Xu.current;return l!==null?l:Jn.pooledCache}function k0(l,d){d===null?_e(Xu,Xu.current):_e(Xu,d.pool)}function QT(){var l=_b();return l===null?null:{parent:pa._currentValue,pool:l}}var Bm=Error(r(460)),ZT=Error(r(474)),I0=Error(r(542)),Ab={then:function(){}};function JT(l){return l=l.status,l==="fulfilled"||l==="rejected"}function L0(){}function e4(l,d,v){switch(v=l[v],v===void 0?l.push(d):v!==d&&(d.then(L0,L0),d=v),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,n4(l),l;default:if(typeof d.status=="string")d.then(L0,L0);else{if(l=Jn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(N){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=N}},function(N){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=N}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,n4(l),l}throw Fm=d,Bm}}var Fm=null;function t4(){if(Fm===null)throw Error(r(459));var l=Fm;return Fm=null,l}function n4(l){if(l===Bm||l===I0)throw Error(r(483))}var bc=!1;function Eb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cb(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function wc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function jc(l,d,v){var N=l.updateQueue;if(N===null)return null;if(N=N.shared,(Rn&2)!==0){var O=N.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),N.pending=d,d=T0(l),VT(l,null,v),d}return C0(l,N,d,v),T0(l)}function Um(l,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194048)!==0)){var N=d.lanes;N&=l.pendingLanes,v|=N,d.lanes=v,xn(l,v)}}function Tb(l,d){var v=l.updateQueue,N=l.alternate;if(N!==null&&(N=N.updateQueue,v===N)){var O=null,B=null;if(v=v.firstBaseUpdate,v!==null){do{var K={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};B===null?O=B=K:B=B.next=K,v=v.next}while(v!==null);B===null?O=B=d:B=B.next=d}else O=B=d;v={baseState:N.baseState,firstBaseUpdate:O,lastBaseUpdate:B,shared:N.shared,callbacks:N.callbacks},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=d:l.next=d,v.lastBaseUpdate=d}var Ob=!1;function zm(){if(Ob){var l=yf;if(l!==null)throw l}}function Vm(l,d,v,N){Ob=!1;var O=l.updateQueue;bc=!1;var B=O.firstBaseUpdate,K=O.lastBaseUpdate,se=O.shared.pending;if(se!==null){O.shared.pending=null;var me=se,Re=me.next;me.next=null,K===null?B=Re:K.next=Re,K=me;var qe=l.alternate;qe!==null&&(qe=qe.updateQueue,se=qe.lastBaseUpdate,se!==K&&(se===null?qe.firstBaseUpdate=Re:se.next=Re,qe.lastBaseUpdate=me))}if(B!==null){var We=O.baseState;K=0,qe=Re=me=null,se=B;do{var Ie=se.lane&-536870913,Be=Ie!==se.lane;if(Be?(gn&Ie)===Ie:(N&Ie)===Ie){Ie!==0&&Ie===vf&&(Ob=!0),qe!==null&&(qe=qe.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Dt=l,Tt=se;Ie=d;var Vn=v;switch(Tt.tag){case 1:if(Dt=Tt.payload,typeof Dt=="function"){We=Dt.call(Vn,We,Ie);break e}We=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Tt.payload,Ie=typeof Dt=="function"?Dt.call(Vn,We,Ie):Dt,Ie==null)break e;We=g({},We,Ie);break e;case 2:bc=!0}}Ie=se.callback,Ie!==null&&(l.flags|=64,Be&&(l.flags|=8192),Be=O.callbacks,Be===null?O.callbacks=[Ie]:Be.push(Ie))}else Be={lane:Ie,tag:se.tag,payload:se.payload,callback:se.callback,next:null},qe===null?(Re=qe=Be,me=We):qe=qe.next=Be,K|=Ie;if(se=se.next,se===null){if(se=O.shared.pending,se===null)break;Be=se,se=Be.next,Be.next=null,O.lastBaseUpdate=Be,O.shared.pending=null}}while(!0);qe===null&&(me=We),O.baseState=me,O.firstBaseUpdate=Re,O.lastBaseUpdate=qe,B===null&&(O.shared.lanes=0),Oc|=K,l.lanes=K,l.memoizedState=We}}function r4(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function a4(l,d){var v=l.callbacks;if(v!==null)for(l.callbacks=null,l=0;l<v.length;l++)r4(v[l],d)}var bf=de(null),B0=de(0);function s4(l,d){l=Sl,_e(B0,l),_e(bf,d),Sl=l|d.baseLanes}function Mb(){_e(B0,Sl),_e(bf,bf.current)}function Db(){Sl=B0.current,xe(bf),xe(B0)}var Nc=0,Qt=null,Un=null,na=null,F0=!1,wf=!1,Qu=!1,U0=0,$m=0,jf=null,fq=0;function qr(){throw Error(r(321))}function Pb(l,d){if(d===null)return!1;for(var v=0;v<d.length&&v<l.length;v++)if(!y(l[v],d[v]))return!1;return!0}function Rb(l,d,v,N,O,B){return Nc=B,Qt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,H.H=l===null||l.memoizedState===null?V4:$4,Qu=!1,B=v(N,O),Qu=!1,wf&&(B=o4(d,v,N,O)),i4(l),B}function i4(l){H.H=Y0;var d=Un!==null&&Un.next!==null;if(Nc=0,na=Un=Qt=null,F0=!1,$m=0,jf=null,d)throw Error(r(300));l===null||Aa||(l=l.dependencies,l!==null&&P0(l)&&(Aa=!0))}function o4(l,d,v,N){Qt=l;var O=0;do{if(wf&&(jf=null),$m=0,wf=!1,25<=O)throw Error(r(301));if(O+=1,na=Un=null,l.updateQueue!=null){var B=l.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}H.H=yq,B=d(v,N)}while(wf);return B}function hq(){var l=H.H,d=l.useState()[0];return d=typeof d.then=="function"?Hm(d):d,l=l.useState()[0],(Un!==null?Un.memoizedState:null)!==l&&(Qt.flags|=1024),d}function kb(){var l=U0!==0;return U0=0,l}function Ib(l,d,v){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~v}function Lb(l){if(F0){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}F0=!1}Nc=0,na=Un=Qt=null,wf=!1,$m=U0=0,jf=null}function Rs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return na===null?Qt.memoizedState=na=l:na=na.next=l,na}function ra(){if(Un===null){var l=Qt.alternate;l=l!==null?l.memoizedState:null}else l=Un.next;var d=na===null?Qt.memoizedState:na.next;if(d!==null)na=d,Un=l;else{if(l===null)throw Qt.alternate===null?Error(r(467)):Error(r(310));Un=l,l={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},na===null?Qt.memoizedState=na=l:na=na.next=l}return na}function Bb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hm(l){var d=$m;return $m+=1,jf===null&&(jf=[]),l=e4(jf,l,d),d=Qt,(na===null?d.memoizedState:na.next)===null&&(d=d.alternate,H.H=d===null||d.memoizedState===null?V4:$4),l}function z0(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Hm(l);if(l.$$typeof===R)return ts(l)}throw Error(r(438,String(l)))}function Fb(l){var d=null,v=Qt.updateQueue;if(v!==null&&(d=v.memoCache),d==null){var N=Qt.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(d={data:N.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),v===null&&(v=Bb(),Qt.updateQueue=v),v.memoCache=d,v=d.data[d.index],v===void 0)for(v=d.data[d.index]=Array(l),N=0;N<l;N++)v[N]=$;return d.index++,v}function vl(l,d){return typeof d=="function"?d(l):d}function V0(l){var d=ra();return Ub(d,Un,l)}function Ub(l,d,v){var N=l.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=v;var O=l.baseQueue,B=N.pending;if(B!==null){if(O!==null){var K=O.next;O.next=B.next,B.next=K}d.baseQueue=O=B,N.pending=null}if(B=l.baseState,O===null)l.memoizedState=B;else{d=O.next;var se=K=null,me=null,Re=d,qe=!1;do{var We=Re.lane&-536870913;if(We!==Re.lane?(gn&We)===We:(Nc&We)===We){var Ie=Re.revertLane;if(Ie===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),We===vf&&(qe=!0);else if((Nc&Ie)===Ie){Re=Re.next,Ie===vf&&(qe=!0);continue}else We={lane:0,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(se=me=We,K=B):me=me.next=We,Qt.lanes|=Ie,Oc|=Ie;We=Re.action,Qu&&v(B,We),B=Re.hasEagerState?Re.eagerState:v(B,We)}else Ie={lane:We,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(se=me=Ie,K=B):me=me.next=Ie,Qt.lanes|=We,Oc|=We;Re=Re.next}while(Re!==null&&Re!==d);if(me===null?K=B:me.next=se,!y(B,l.memoizedState)&&(Aa=!0,qe&&(v=yf,v!==null)))throw v;l.memoizedState=B,l.baseState=K,l.baseQueue=me,N.lastRenderedState=B}return O===null&&(N.lanes=0),[l.memoizedState,N.dispatch]}function zb(l){var d=ra(),v=d.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=l;var N=v.dispatch,O=v.pending,B=d.memoizedState;if(O!==null){v.pending=null;var K=O=O.next;do B=l(B,K.action),K=K.next;while(K!==O);y(B,d.memoizedState)||(Aa=!0),d.memoizedState=B,d.baseQueue===null&&(d.baseState=B),v.lastRenderedState=B}return[B,N]}function l4(l,d,v){var N=Qt,O=ra(),B=En;if(B){if(v===void 0)throw Error(r(407));v=v()}else v=d();var K=!y((Un||O).memoizedState,v);K&&(O.memoizedState=v,Aa=!0),O=O.queue;var se=d4.bind(null,N,O,l);if(qm(2048,8,se,[l]),O.getSnapshot!==d||K||na!==null&&na.memoizedState.tag&1){if(N.flags|=2048,Nf(9,$0(),u4.bind(null,N,O,v,d),null),Jn===null)throw Error(r(349));B||(Nc&124)!==0||c4(N,d,v)}return v}function c4(l,d,v){l.flags|=16384,l={getSnapshot:d,value:v},d=Qt.updateQueue,d===null?(d=Bb(),Qt.updateQueue=d,d.stores=[l]):(v=d.stores,v===null?d.stores=[l]:v.push(l))}function u4(l,d,v,N){d.value=v,d.getSnapshot=N,f4(d)&&h4(l)}function d4(l,d,v){return v(function(){f4(d)&&h4(l)})}function f4(l){var d=l.getSnapshot;l=l.value;try{var v=d();return!y(l,v)}catch{return!0}}function h4(l){var d=mf(l,2);d!==null&&ei(d,l,2)}function Vb(l){var d=Rs();if(typeof l=="function"){var v=l;if(l=v(),Qu){Nr(!0);try{v()}finally{Nr(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:l},d}function m4(l,d,v,N){return l.baseState=v,Ub(l,Un,typeof N=="function"?N:vl)}function mq(l,d,v,N,O){if(q0(l))throw Error(r(485));if(l=d.action,l!==null){var B={payload:O,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){B.listeners.push(K)}};H.T!==null?v(!0):B.isTransition=!1,N(B),v=d.pending,v===null?(B.next=d.pending=B,g4(d,B)):(B.next=v.next,d.pending=v.next=B)}}function g4(l,d){var v=d.action,N=d.payload,O=l.state;if(d.isTransition){var B=H.T,K={};H.T=K;try{var se=v(O,N),me=H.S;me!==null&&me(K,se),p4(l,d,se)}catch(Re){$b(l,d,Re)}finally{H.T=B}}else try{B=v(O,N),p4(l,d,B)}catch(Re){$b(l,d,Re)}}function p4(l,d,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(N){x4(l,d,N)},function(N){return $b(l,d,N)}):x4(l,d,v)}function x4(l,d,v){d.status="fulfilled",d.value=v,v4(d),l.state=v,d=l.pending,d!==null&&(v=d.next,v===d?l.pending=null:(v=v.next,d.next=v,g4(l,v)))}function $b(l,d,v){var N=l.pending;if(l.pending=null,N!==null){N=N.next;do d.status="rejected",d.reason=v,v4(d),d=d.next;while(d!==N)}l.action=null}function v4(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function y4(l,d){return d}function b4(l,d){if(En){var v=Jn.formState;if(v!==null){e:{var N=Qt;if(En){if(kr){t:{for(var O=kr,B=Do;O.nodeType!==8;){if(!B){O=null;break t}if(O=to(O.nextSibling),O===null){O=null;break t}}B=O.data,O=B==="F!"||B==="F"?O:null}if(O){kr=to(O.nextSibling),N=O.data==="F!";break e}}Wu(N)}N=!1}N&&(d=v[0])}}return v=Rs(),v.memoizedState=v.baseState=d,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y4,lastRenderedState:d},v.queue=N,v=F4.bind(null,Qt,N),N.dispatch=v,N=Vb(!1),B=Gb.bind(null,Qt,!1,N.queue),N=Rs(),O={state:d,dispatch:null,action:l,pending:null},N.queue=O,v=mq.bind(null,Qt,O,B,v),O.dispatch=v,N.memoizedState=l,[d,v,!1]}function w4(l){var d=ra();return j4(d,Un,l)}function j4(l,d,v){if(d=Ub(l,d,y4)[0],l=V0(vl)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var N=Hm(d)}catch(K){throw K===Bm?I0:K}else N=d;d=ra();var O=d.queue,B=O.dispatch;return v!==d.memoizedState&&(Qt.flags|=2048,Nf(9,$0(),gq.bind(null,O,v),null)),[N,B,l]}function gq(l,d){l.action=d}function N4(l){var d=ra(),v=Un;if(v!==null)return j4(d,v,l);ra(),d=d.memoizedState,v=ra();var N=v.queue.dispatch;return v.memoizedState=l,[d,N,!1]}function Nf(l,d,v,N){return l={tag:l,create:v,deps:N,inst:d,next:null},d=Qt.updateQueue,d===null&&(d=Bb(),Qt.updateQueue=d),v=d.lastEffect,v===null?d.lastEffect=l.next=l:(N=v.next,v.next=l,l.next=N,d.lastEffect=l),l}function $0(){return{destroy:void 0,resource:void 0}}function S4(){return ra().memoizedState}function H0(l,d,v,N){var O=Rs();N=N===void 0?null:N,Qt.flags|=l,O.memoizedState=Nf(1|d,$0(),v,N)}function qm(l,d,v,N){var O=ra();N=N===void 0?null:N;var B=O.memoizedState.inst;Un!==null&&N!==null&&Pb(N,Un.memoizedState.deps)?O.memoizedState=Nf(d,B,v,N):(Qt.flags|=l,O.memoizedState=Nf(1|d,B,v,N))}function _4(l,d){H0(8390656,8,l,d)}function A4(l,d){qm(2048,8,l,d)}function E4(l,d){return qm(4,2,l,d)}function C4(l,d){return qm(4,4,l,d)}function T4(l,d){if(typeof d=="function"){l=l();var v=d(l);return function(){typeof v=="function"?v():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function O4(l,d,v){v=v!=null?v.concat([l]):null,qm(4,4,T4.bind(null,d,l),v)}function Hb(){}function M4(l,d){var v=ra();d=d===void 0?null:d;var N=v.memoizedState;return d!==null&&Pb(d,N[1])?N[0]:(v.memoizedState=[l,d],l)}function D4(l,d){var v=ra();d=d===void 0?null:d;var N=v.memoizedState;if(d!==null&&Pb(d,N[1]))return N[0];if(N=l(),Qu){Nr(!0);try{l()}finally{Nr(!1)}}return v.memoizedState=[N,d],N}function qb(l,d,v){return v===void 0||(Nc&1073741824)!==0?l.memoizedState=d:(l.memoizedState=v,l=k3(),Qt.lanes|=l,Oc|=l,v)}function P4(l,d,v,N){return y(v,d)?v:bf.current!==null?(l=qb(l,v,N),y(l,d)||(Aa=!0),l):(Nc&42)===0?(Aa=!0,l.memoizedState=v):(l=k3(),Qt.lanes|=l,Oc|=l,d)}function R4(l,d,v,N,O){var B=ee.p;ee.p=B!==0&&8>B?B:8;var K=H.T,se={};H.T=se,Gb(l,!1,d,v);try{var me=O(),Re=H.S;if(Re!==null&&Re(se,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var qe=dq(me,N);Ym(l,d,qe,Js(l))}else Ym(l,d,N,Js(l))}catch(We){Ym(l,d,{then:function(){},status:"rejected",reason:We},Js())}finally{ee.p=B,H.T=K}}function pq(){}function Yb(l,d,v,N){if(l.tag!==5)throw Error(r(476));var O=k4(l).queue;R4(l,O,d,Z,v===null?pq:function(){return I4(l),v(N)})}function k4(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:Z},next:null};var v={};return d.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:v},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function I4(l){var d=k4(l).next.queue;Ym(l,d,{},Js())}function Wb(){return ts(ug)}function L4(){return ra().memoizedState}function B4(){return ra().memoizedState}function xq(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var v=Js();l=wc(v);var N=jc(d,l,v);N!==null&&(ei(N,d,v),Um(N,d,v)),d={cache:Nb()},l.payload=d;return}d=d.return}}function vq(l,d,v){var N=Js();v={lane:N,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},q0(l)?U4(d,v):(v=hb(l,d,v,N),v!==null&&(ei(v,l,N),z4(v,d,N)))}function F4(l,d,v){var N=Js();Ym(l,d,v,N)}function Ym(l,d,v,N){var O={lane:N,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(q0(l))U4(d,O);else{var B=l.alternate;if(l.lanes===0&&(B===null||B.lanes===0)&&(B=d.lastRenderedReducer,B!==null))try{var K=d.lastRenderedState,se=B(K,v);if(O.hasEagerState=!0,O.eagerState=se,y(se,K))return C0(l,d,O,0),Jn===null&&E0(),!1}catch{}finally{}if(v=hb(l,d,O,N),v!==null)return ei(v,l,N),z4(v,d,N),!0}return!1}function Gb(l,d,v,N){if(N={lane:2,revertLane:Aw(),action:N,hasEagerState:!1,eagerState:null,next:null},q0(l)){if(d)throw Error(r(479))}else d=hb(l,v,N,2),d!==null&&ei(d,l,2)}function q0(l){var d=l.alternate;return l===Qt||d!==null&&d===Qt}function U4(l,d){wf=F0=!0;var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}function z4(l,d,v){if((v&4194048)!==0){var N=d.lanes;N&=l.pendingLanes,v|=N,d.lanes=v,xn(l,v)}}var Y0={readContext:ts,use:z0,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useLayoutEffect:qr,useInsertionEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useSyncExternalStore:qr,useId:qr,useHostTransitionStatus:qr,useFormState:qr,useActionState:qr,useOptimistic:qr,useMemoCache:qr,useCacheRefresh:qr},V4={readContext:ts,use:z0,useCallback:function(l,d){return Rs().memoizedState=[l,d===void 0?null:d],l},useContext:ts,useEffect:_4,useImperativeHandle:function(l,d,v){v=v!=null?v.concat([l]):null,H0(4194308,4,T4.bind(null,d,l),v)},useLayoutEffect:function(l,d){return H0(4194308,4,l,d)},useInsertionEffect:function(l,d){H0(4,2,l,d)},useMemo:function(l,d){var v=Rs();d=d===void 0?null:d;var N=l();if(Qu){Nr(!0);try{l()}finally{Nr(!1)}}return v.memoizedState=[N,d],N},useReducer:function(l,d,v){var N=Rs();if(v!==void 0){var O=v(d);if(Qu){Nr(!0);try{v(d)}finally{Nr(!1)}}}else O=d;return N.memoizedState=N.baseState=O,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:O},N.queue=l,l=l.dispatch=vq.bind(null,Qt,l),[N.memoizedState,l]},useRef:function(l){var d=Rs();return l={current:l},d.memoizedState=l},useState:function(l){l=Vb(l);var d=l.queue,v=F4.bind(null,Qt,d);return d.dispatch=v,[l.memoizedState,v]},useDebugValue:Hb,useDeferredValue:function(l,d){var v=Rs();return qb(v,l,d)},useTransition:function(){var l=Vb(!1);return l=R4.bind(null,Qt,l.queue,!0,!1),Rs().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,v){var N=Qt,O=Rs();if(En){if(v===void 0)throw Error(r(407));v=v()}else{if(v=d(),Jn===null)throw Error(r(349));(gn&124)!==0||c4(N,d,v)}O.memoizedState=v;var B={value:v,getSnapshot:d};return O.queue=B,_4(d4.bind(null,N,B,l),[l]),N.flags|=2048,Nf(9,$0(),u4.bind(null,N,B,v,d),null),v},useId:function(){var l=Rs(),d=Jn.identifierPrefix;if(En){var v=gl,N=ml;v=(N&~(1<<32-sn(N)-1)).toString(32)+v,d=""+d+"R"+v,v=U0++,0<v&&(d+="H"+v.toString(32)),d+=""}else v=fq++,d=""+d+"r"+v.toString(32)+"";return l.memoizedState=d},useHostTransitionStatus:Wb,useFormState:b4,useActionState:b4,useOptimistic:function(l){var d=Rs();d.memoizedState=d.baseState=l;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=v,d=Gb.bind(null,Qt,!0,v),v.dispatch=d,[l,d]},useMemoCache:Fb,useCacheRefresh:function(){return Rs().memoizedState=xq.bind(null,Qt)}},$4={readContext:ts,use:z0,useCallback:M4,useContext:ts,useEffect:A4,useImperativeHandle:O4,useInsertionEffect:E4,useLayoutEffect:C4,useMemo:D4,useReducer:V0,useRef:S4,useState:function(){return V0(vl)},useDebugValue:Hb,useDeferredValue:function(l,d){var v=ra();return P4(v,Un.memoizedState,l,d)},useTransition:function(){var l=V0(vl)[0],d=ra().memoizedState;return[typeof l=="boolean"?l:Hm(l),d]},useSyncExternalStore:l4,useId:L4,useHostTransitionStatus:Wb,useFormState:w4,useActionState:w4,useOptimistic:function(l,d){var v=ra();return m4(v,Un,l,d)},useMemoCache:Fb,useCacheRefresh:B4},yq={readContext:ts,use:z0,useCallback:M4,useContext:ts,useEffect:A4,useImperativeHandle:O4,useInsertionEffect:E4,useLayoutEffect:C4,useMemo:D4,useReducer:zb,useRef:S4,useState:function(){return zb(vl)},useDebugValue:Hb,useDeferredValue:function(l,d){var v=ra();return Un===null?qb(v,l,d):P4(v,Un.memoizedState,l,d)},useTransition:function(){var l=zb(vl)[0],d=ra().memoizedState;return[typeof l=="boolean"?l:Hm(l),d]},useSyncExternalStore:l4,useId:L4,useHostTransitionStatus:Wb,useFormState:N4,useActionState:N4,useOptimistic:function(l,d){var v=ra();return Un!==null?m4(v,Un,l,d):(v.baseState=l,[l,v.queue.dispatch])},useMemoCache:Fb,useCacheRefresh:B4},Sf=null,Wm=0;function W0(l){var d=Wm;return Wm+=1,Sf===null&&(Sf=[]),e4(Sf,l,d)}function Gm(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function G0(l,d){throw d.$$typeof===x?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function H4(l){var d=l._init;return d(l._payload)}function q4(l){function d(Ae,je){if(l){var Pe=Ae.deletions;Pe===null?(Ae.deletions=[je],Ae.flags|=16):Pe.push(je)}}function v(Ae,je){if(!l)return null;for(;je!==null;)d(Ae,je),je=je.sibling;return null}function N(Ae){for(var je=new Map;Ae!==null;)Ae.key!==null?je.set(Ae.key,Ae):je.set(Ae.index,Ae),Ae=Ae.sibling;return je}function O(Ae,je){return Ae=hl(Ae,je),Ae.index=0,Ae.sibling=null,Ae}function B(Ae,je,Pe){return Ae.index=Pe,l?(Pe=Ae.alternate,Pe!==null?(Pe=Pe.index,Pe<je?(Ae.flags|=67108866,je):Pe):(Ae.flags|=67108866,je)):(Ae.flags|=1048576,je)}function K(Ae){return l&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function se(Ae,je,Pe,Ye){return je===null||je.tag!==6?(je=gb(Pe,Ae.mode,Ye),je.return=Ae,je):(je=O(je,Pe),je.return=Ae,je)}function me(Ae,je,Pe,Ye){var pt=Pe.type;return pt===C?qe(Ae,je,Pe.props.children,Ye,Pe.key):je!==null&&(je.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===V&&H4(pt)===je.type)?(je=O(je,Pe.props),Gm(je,Pe),je.return=Ae,je):(je=O0(Pe.type,Pe.key,Pe.props,null,Ae.mode,Ye),Gm(je,Pe),je.return=Ae,je)}function Re(Ae,je,Pe,Ye){return je===null||je.tag!==4||je.stateNode.containerInfo!==Pe.containerInfo||je.stateNode.implementation!==Pe.implementation?(je=pb(Pe,Ae.mode,Ye),je.return=Ae,je):(je=O(je,Pe.children||[]),je.return=Ae,je)}function qe(Ae,je,Pe,Ye,pt){return je===null||je.tag!==7?(je=$u(Pe,Ae.mode,Ye,pt),je.return=Ae,je):(je=O(je,Pe),je.return=Ae,je)}function We(Ae,je,Pe){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=gb(""+je,Ae.mode,Pe),je.return=Ae,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case j:return Pe=O0(je.type,je.key,je.props,null,Ae.mode,Pe),Gm(Pe,je),Pe.return=Ae,Pe;case _:return je=pb(je,Ae.mode,Pe),je.return=Ae,je;case V:var Ye=je._init;return je=Ye(je._payload),We(Ae,je,Pe)}if(G(je)||q(je))return je=$u(je,Ae.mode,Pe,null),je.return=Ae,je;if(typeof je.then=="function")return We(Ae,W0(je),Pe);if(je.$$typeof===R)return We(Ae,R0(Ae,je),Pe);G0(Ae,je)}return null}function Ie(Ae,je,Pe,Ye){var pt=je!==null?je.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return pt!==null?null:se(Ae,je,""+Pe,Ye);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case j:return Pe.key===pt?me(Ae,je,Pe,Ye):null;case _:return Pe.key===pt?Re(Ae,je,Pe,Ye):null;case V:return pt=Pe._init,Pe=pt(Pe._payload),Ie(Ae,je,Pe,Ye)}if(G(Pe)||q(Pe))return pt!==null?null:qe(Ae,je,Pe,Ye,null);if(typeof Pe.then=="function")return Ie(Ae,je,W0(Pe),Ye);if(Pe.$$typeof===R)return Ie(Ae,je,R0(Ae,Pe),Ye);G0(Ae,Pe)}return null}function Be(Ae,je,Pe,Ye,pt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ae=Ae.get(Pe)||null,se(je,Ae,""+Ye,pt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case j:return Ae=Ae.get(Ye.key===null?Pe:Ye.key)||null,me(je,Ae,Ye,pt);case _:return Ae=Ae.get(Ye.key===null?Pe:Ye.key)||null,Re(je,Ae,Ye,pt);case V:var Jt=Ye._init;return Ye=Jt(Ye._payload),Be(Ae,je,Pe,Ye,pt)}if(G(Ye)||q(Ye))return Ae=Ae.get(Pe)||null,qe(je,Ae,Ye,pt,null);if(typeof Ye.then=="function")return Be(Ae,je,Pe,W0(Ye),pt);if(Ye.$$typeof===R)return Be(Ae,je,Pe,R0(je,Ye),pt);G0(je,Ye)}return null}function Dt(Ae,je,Pe,Ye){for(var pt=null,Jt=null,St=je,Mt=je=0,Ca=null;St!==null&&Mt<Pe.length;Mt++){St.index>Mt?(Ca=St,St=null):Ca=St.sibling;var Sn=Ie(Ae,St,Pe[Mt],Ye);if(Sn===null){St===null&&(St=Ca);break}l&&St&&Sn.alternate===null&&d(Ae,St),je=B(Sn,je,Mt),Jt===null?pt=Sn:Jt.sibling=Sn,Jt=Sn,St=Ca}if(Mt===Pe.length)return v(Ae,St),En&&qu(Ae,Mt),pt;if(St===null){for(;Mt<Pe.length;Mt++)St=We(Ae,Pe[Mt],Ye),St!==null&&(je=B(St,je,Mt),Jt===null?pt=St:Jt.sibling=St,Jt=St);return En&&qu(Ae,Mt),pt}for(St=N(St);Mt<Pe.length;Mt++)Ca=Be(St,Ae,Mt,Pe[Mt],Ye),Ca!==null&&(l&&Ca.alternate!==null&&St.delete(Ca.key===null?Mt:Ca.key),je=B(Ca,je,Mt),Jt===null?pt=Ca:Jt.sibling=Ca,Jt=Ca);return l&&St.forEach(function(Fc){return d(Ae,Fc)}),En&&qu(Ae,Mt),pt}function Tt(Ae,je,Pe,Ye){if(Pe==null)throw Error(r(151));for(var pt=null,Jt=null,St=je,Mt=je=0,Ca=null,Sn=Pe.next();St!==null&&!Sn.done;Mt++,Sn=Pe.next()){St.index>Mt?(Ca=St,St=null):Ca=St.sibling;var Fc=Ie(Ae,St,Sn.value,Ye);if(Fc===null){St===null&&(St=Ca);break}l&&St&&Fc.alternate===null&&d(Ae,St),je=B(Fc,je,Mt),Jt===null?pt=Fc:Jt.sibling=Fc,Jt=Fc,St=Ca}if(Sn.done)return v(Ae,St),En&&qu(Ae,Mt),pt;if(St===null){for(;!Sn.done;Mt++,Sn=Pe.next())Sn=We(Ae,Sn.value,Ye),Sn!==null&&(je=B(Sn,je,Mt),Jt===null?pt=Sn:Jt.sibling=Sn,Jt=Sn);return En&&qu(Ae,Mt),pt}for(St=N(St);!Sn.done;Mt++,Sn=Pe.next())Sn=Be(St,Ae,Mt,Sn.value,Ye),Sn!==null&&(l&&Sn.alternate!==null&&St.delete(Sn.key===null?Mt:Sn.key),je=B(Sn,je,Mt),Jt===null?pt=Sn:Jt.sibling=Sn,Jt=Sn);return l&&St.forEach(function(bY){return d(Ae,bY)}),En&&qu(Ae,Mt),pt}function Vn(Ae,je,Pe,Ye){if(typeof Pe=="object"&&Pe!==null&&Pe.type===C&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case j:e:{for(var pt=Pe.key;je!==null;){if(je.key===pt){if(pt=Pe.type,pt===C){if(je.tag===7){v(Ae,je.sibling),Ye=O(je,Pe.props.children),Ye.return=Ae,Ae=Ye;break e}}else if(je.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===V&&H4(pt)===je.type){v(Ae,je.sibling),Ye=O(je,Pe.props),Gm(Ye,Pe),Ye.return=Ae,Ae=Ye;break e}v(Ae,je);break}else d(Ae,je);je=je.sibling}Pe.type===C?(Ye=$u(Pe.props.children,Ae.mode,Ye,Pe.key),Ye.return=Ae,Ae=Ye):(Ye=O0(Pe.type,Pe.key,Pe.props,null,Ae.mode,Ye),Gm(Ye,Pe),Ye.return=Ae,Ae=Ye)}return K(Ae);case _:e:{for(pt=Pe.key;je!==null;){if(je.key===pt)if(je.tag===4&&je.stateNode.containerInfo===Pe.containerInfo&&je.stateNode.implementation===Pe.implementation){v(Ae,je.sibling),Ye=O(je,Pe.children||[]),Ye.return=Ae,Ae=Ye;break e}else{v(Ae,je);break}else d(Ae,je);je=je.sibling}Ye=pb(Pe,Ae.mode,Ye),Ye.return=Ae,Ae=Ye}return K(Ae);case V:return pt=Pe._init,Pe=pt(Pe._payload),Vn(Ae,je,Pe,Ye)}if(G(Pe))return Dt(Ae,je,Pe,Ye);if(q(Pe)){if(pt=q(Pe),typeof pt!="function")throw Error(r(150));return Pe=pt.call(Pe),Tt(Ae,je,Pe,Ye)}if(typeof Pe.then=="function")return Vn(Ae,je,W0(Pe),Ye);if(Pe.$$typeof===R)return Vn(Ae,je,R0(Ae,Pe),Ye);G0(Ae,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,je!==null&&je.tag===6?(v(Ae,je.sibling),Ye=O(je,Pe),Ye.return=Ae,Ae=Ye):(v(Ae,je),Ye=gb(Pe,Ae.mode,Ye),Ye.return=Ae,Ae=Ye),K(Ae)):v(Ae,je)}return function(Ae,je,Pe,Ye){try{Wm=0;var pt=Vn(Ae,je,Pe,Ye);return Sf=null,pt}catch(St){if(St===Bm||St===I0)throw St;var Jt=Ks(29,St,null,Ae.mode);return Jt.lanes=Ye,Jt.return=Ae,Jt}finally{}}}var _f=q4(!0),Y4=q4(!1),Ai=de(null),Po=null;function Sc(l){var d=l.alternate;_e(xa,xa.current&1),_e(Ai,l),Po===null&&(d===null||bf.current!==null||d.memoizedState!==null)&&(Po=l)}function W4(l){if(l.tag===22){if(_e(xa,xa.current),_e(Ai,l),Po===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(Po=l)}}else _c()}function _c(){_e(xa,xa.current),_e(Ai,Ai.current)}function yl(l){xe(Ai),Po===l&&(Po=null),xe(xa)}var xa=de(0);function K0(l){for(var d=l;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||Bw(v)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Kb(l,d,v,N){d=l.memoizedState,v=v(N,d),v=v==null?d:g({},d,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var Xb={enqueueSetState:function(l,d,v){l=l._reactInternals;var N=Js(),O=wc(N);O.payload=d,v!=null&&(O.callback=v),d=jc(l,O,N),d!==null&&(ei(d,l,N),Um(d,l,N))},enqueueReplaceState:function(l,d,v){l=l._reactInternals;var N=Js(),O=wc(N);O.tag=1,O.payload=d,v!=null&&(O.callback=v),d=jc(l,O,N),d!==null&&(ei(d,l,N),Um(d,l,N))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var v=Js(),N=wc(v);N.tag=2,d!=null&&(N.callback=d),d=jc(l,N,v),d!==null&&(ei(d,l,v),Um(d,l,v))}};function G4(l,d,v,N,O,B,K){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(N,B,K):d.prototype&&d.prototype.isPureReactComponent?!b(v,N)||!b(O,B):!0}function K4(l,d,v,N){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,N),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,N),d.state!==l&&Xb.enqueueReplaceState(d,d.state,null)}function Zu(l,d){var v=d;if("ref"in d){v={};for(var N in d)N!=="ref"&&(v[N]=d[N])}if(l=l.defaultProps){v===d&&(v=g({},v));for(var O in l)v[O]===void 0&&(v[O]=l[O])}return v}var X0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function X4(l){X0(l)}function Q4(l){console.error(l)}function Z4(l){X0(l)}function Q0(l,d){try{var v=l.onUncaughtError;v(d.value,{componentStack:d.stack})}catch(N){setTimeout(function(){throw N})}}function J4(l,d,v){try{var N=l.onCaughtError;N(v.value,{componentStack:v.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Qb(l,d,v){return v=wc(v),v.tag=3,v.payload={element:null},v.callback=function(){Q0(l,d)},v}function e3(l){return l=wc(l),l.tag=3,l}function t3(l,d,v,N){var O=v.type.getDerivedStateFromError;if(typeof O=="function"){var B=N.value;l.payload=function(){return O(B)},l.callback=function(){J4(d,v,N)}}var K=v.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(l.callback=function(){J4(d,v,N),typeof O!="function"&&(Mc===null?Mc=new Set([this]):Mc.add(this));var se=N.stack;this.componentDidCatch(N.value,{componentStack:se!==null?se:""})})}function bq(l,d,v,N,O){if(v.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(d=v.alternate,d!==null&&km(d,v,O,!0),v=Ai.current,v!==null){switch(v.tag){case 13:return Po===null?ww():v.alternate===null&&Ir===0&&(Ir=3),v.flags&=-257,v.flags|=65536,v.lanes=O,N===Ab?v.flags|=16384:(d=v.updateQueue,d===null?v.updateQueue=new Set([N]):d.add(N),Nw(l,N,O)),!1;case 22:return v.flags|=65536,N===Ab?v.flags|=16384:(d=v.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([N])},v.updateQueue=d):(v=d.retryQueue,v===null?d.retryQueue=new Set([N]):v.add(N)),Nw(l,N,O)),!1}throw Error(r(435,v.tag))}return Nw(l,N,O),ww(),!1}if(En)return d=Ai.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,N!==yb&&(l=Error(r(422),{cause:N}),Rm(ji(l,v)))):(N!==yb&&(d=Error(r(423),{cause:N}),Rm(ji(d,v))),l=l.current.alternate,l.flags|=65536,O&=-O,l.lanes|=O,N=ji(N,v),O=Qb(l.stateNode,N,O),Tb(l,O),Ir!==4&&(Ir=2)),!1;var B=Error(r(520),{cause:N});if(B=ji(B,v),tg===null?tg=[B]:tg.push(B),Ir!==4&&(Ir=2),d===null)return!0;N=ji(N,v),v=d;do{switch(v.tag){case 3:return v.flags|=65536,l=O&-O,v.lanes|=l,l=Qb(v.stateNode,N,l),Tb(v,l),!1;case 1:if(d=v.type,B=v.stateNode,(v.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Mc===null||!Mc.has(B))))return v.flags|=65536,O&=-O,v.lanes|=O,O=e3(O),t3(O,l,v,N),Tb(v,O),!1}v=v.return}while(v!==null);return!1}var n3=Error(r(461)),Aa=!1;function Ua(l,d,v,N){d.child=l===null?Y4(d,null,v,N):_f(d,l.child,v,N)}function r3(l,d,v,N,O){v=v.render;var B=d.ref;if("ref"in N){var K={};for(var se in N)se!=="ref"&&(K[se]=N[se])}else K=N;return Ku(d),N=Rb(l,d,v,K,B,O),se=kb(),l!==null&&!Aa?(Ib(l,d,O),bl(l,d,O)):(En&&se&&xb(d),d.flags|=1,Ua(l,d,N,O),d.child)}function a3(l,d,v,N,O){if(l===null){var B=v.type;return typeof B=="function"&&!mb(B)&&B.defaultProps===void 0&&v.compare===null?(d.tag=15,d.type=B,s3(l,d,B,N,O)):(l=O0(v.type,null,N,d,d.mode,O),l.ref=d.ref,l.return=d,d.child=l)}if(B=l.child,!sw(l,O)){var K=B.memoizedProps;if(v=v.compare,v=v!==null?v:b,v(K,N)&&l.ref===d.ref)return bl(l,d,O)}return d.flags|=1,l=hl(B,N),l.ref=d.ref,l.return=d,d.child=l}function s3(l,d,v,N,O){if(l!==null){var B=l.memoizedProps;if(b(B,N)&&l.ref===d.ref)if(Aa=!1,d.pendingProps=N=B,sw(l,O))(l.flags&131072)!==0&&(Aa=!0);else return d.lanes=l.lanes,bl(l,d,O)}return Zb(l,d,v,N,O)}function i3(l,d,v){var N=d.pendingProps,O=N.children,B=l!==null?l.memoizedState:null;if(N.mode==="hidden"){if((d.flags&128)!==0){if(N=B!==null?B.baseLanes|v:v,l!==null){for(O=d.child=l.child,B=0;O!==null;)B=B|O.lanes|O.childLanes,O=O.sibling;d.childLanes=B&~N}else d.childLanes=0,d.child=null;return o3(l,d,N,v)}if((v&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&k0(d,B!==null?B.cachePool:null),B!==null?s4(d,B):Mb(),W4(d);else return d.lanes=d.childLanes=536870912,o3(l,d,B!==null?B.baseLanes|v:v,v)}else B!==null?(k0(d,B.cachePool),s4(d,B),_c(),d.memoizedState=null):(l!==null&&k0(d,null),Mb(),_c());return Ua(l,d,O,v),d.child}function o3(l,d,v,N){var O=_b();return O=O===null?null:{parent:pa._currentValue,pool:O},d.memoizedState={baseLanes:v,cachePool:O},l!==null&&k0(d,null),Mb(),W4(d),l!==null&&km(l,d,N,!0),null}function Z0(l,d){var v=d.ref;if(v===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(l===null||l.ref!==v)&&(d.flags|=4194816)}}function Zb(l,d,v,N,O){return Ku(d),v=Rb(l,d,v,N,void 0,O),N=kb(),l!==null&&!Aa?(Ib(l,d,O),bl(l,d,O)):(En&&N&&xb(d),d.flags|=1,Ua(l,d,v,O),d.child)}function l3(l,d,v,N,O,B){return Ku(d),d.updateQueue=null,v=o4(d,N,v,O),i4(l),N=kb(),l!==null&&!Aa?(Ib(l,d,B),bl(l,d,B)):(En&&N&&xb(d),d.flags|=1,Ua(l,d,v,B),d.child)}function c3(l,d,v,N,O){if(Ku(d),d.stateNode===null){var B=gf,K=v.contextType;typeof K=="object"&&K!==null&&(B=ts(K)),B=new v(N,B),d.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=Xb,d.stateNode=B,B._reactInternals=d,B=d.stateNode,B.props=N,B.state=d.memoizedState,B.refs={},Eb(d),K=v.contextType,B.context=typeof K=="object"&&K!==null?ts(K):gf,B.state=d.memoizedState,K=v.getDerivedStateFromProps,typeof K=="function"&&(Kb(d,v,K,N),B.state=d.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(K=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),K!==B.state&&Xb.enqueueReplaceState(B,B.state,null),Vm(d,N,B,O),zm(),B.state=d.memoizedState),typeof B.componentDidMount=="function"&&(d.flags|=4194308),N=!0}else if(l===null){B=d.stateNode;var se=d.memoizedProps,me=Zu(v,se);B.props=me;var Re=B.context,qe=v.contextType;K=gf,typeof qe=="object"&&qe!==null&&(K=ts(qe));var We=v.getDerivedStateFromProps;qe=typeof We=="function"||typeof B.getSnapshotBeforeUpdate=="function",se=d.pendingProps!==se,qe||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(se||Re!==K)&&K4(d,B,N,K),bc=!1;var Ie=d.memoizedState;B.state=Ie,Vm(d,N,B,O),zm(),Re=d.memoizedState,se||Ie!==Re||bc?(typeof We=="function"&&(Kb(d,v,We,N),Re=d.memoizedState),(me=bc||G4(d,v,me,N,Ie,Re,K))?(qe||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(d.flags|=4194308)):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=N,d.memoizedState=Re),B.props=N,B.state=Re,B.context=K,N=me):(typeof B.componentDidMount=="function"&&(d.flags|=4194308),N=!1)}else{B=d.stateNode,Cb(l,d),K=d.memoizedProps,qe=Zu(v,K),B.props=qe,We=d.pendingProps,Ie=B.context,Re=v.contextType,me=gf,typeof Re=="object"&&Re!==null&&(me=ts(Re)),se=v.getDerivedStateFromProps,(Re=typeof se=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==We||Ie!==me)&&K4(d,B,N,me),bc=!1,Ie=d.memoizedState,B.state=Ie,Vm(d,N,B,O),zm();var Be=d.memoizedState;K!==We||Ie!==Be||bc||l!==null&&l.dependencies!==null&&P0(l.dependencies)?(typeof se=="function"&&(Kb(d,v,se,N),Be=d.memoizedState),(qe=bc||G4(d,v,qe,N,Ie,Be,me)||l!==null&&l.dependencies!==null&&P0(l.dependencies))?(Re||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(N,Be,me),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(N,Be,me)),typeof B.componentDidUpdate=="function"&&(d.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof B.componentDidUpdate!="function"||K===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=1024),d.memoizedProps=N,d.memoizedState=Be),B.props=N,B.state=Be,B.context=me,N=qe):(typeof B.componentDidUpdate!="function"||K===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=1024),N=!1)}return B=N,Z0(l,d),N=(d.flags&128)!==0,B||N?(B=d.stateNode,v=N&&typeof v.getDerivedStateFromError!="function"?null:B.render(),d.flags|=1,l!==null&&N?(d.child=_f(d,l.child,null,O),d.child=_f(d,null,v,O)):Ua(l,d,v,O),d.memoizedState=B.state,l=d.child):l=bl(l,d,O),l}function u3(l,d,v,N){return Pm(),d.flags|=256,Ua(l,d,v,N),d.child}var Jb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ew(l){return{baseLanes:l,cachePool:QT()}}function tw(l,d,v){return l=l!==null?l.childLanes&~v:0,d&&(l|=Ei),l}function d3(l,d,v){var N=d.pendingProps,O=!1,B=(d.flags&128)!==0,K;if((K=B)||(K=l!==null&&l.memoizedState===null?!1:(xa.current&2)!==0),K&&(O=!0,d.flags&=-129),K=(d.flags&32)!==0,d.flags&=-33,l===null){if(En){if(O?Sc(d):_c(),En){var se=kr,me;if(me=se){e:{for(me=se,se=Do;me.nodeType!==8;){if(!se){se=null;break e}if(me=to(me.nextSibling),me===null){se=null;break e}}se=me}se!==null?(d.memoizedState={dehydrated:se,treeContext:Hu!==null?{id:ml,overflow:gl}:null,retryLane:536870912,hydrationErrors:null},me=Ks(18,null,null,0),me.stateNode=se,me.return=d,d.child=me,ws=d,kr=null,me=!0):me=!1}me||Wu(d)}if(se=d.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return Bw(se)?d.lanes=32:d.lanes=536870912,null;yl(d)}return se=N.children,N=N.fallback,O?(_c(),O=d.mode,se=J0({mode:"hidden",children:se},O),N=$u(N,O,v,null),se.return=d,N.return=d,se.sibling=N,d.child=se,O=d.child,O.memoizedState=ew(v),O.childLanes=tw(l,K,v),d.memoizedState=Jb,N):(Sc(d),nw(d,se))}if(me=l.memoizedState,me!==null&&(se=me.dehydrated,se!==null)){if(B)d.flags&256?(Sc(d),d.flags&=-257,d=rw(l,d,v)):d.memoizedState!==null?(_c(),d.child=l.child,d.flags|=128,d=null):(_c(),O=N.fallback,se=d.mode,N=J0({mode:"visible",children:N.children},se),O=$u(O,se,v,null),O.flags|=2,N.return=d,O.return=d,N.sibling=O,d.child=N,_f(d,l.child,null,v),N=d.child,N.memoizedState=ew(v),N.childLanes=tw(l,K,v),d.memoizedState=Jb,d=O);else if(Sc(d),Bw(se)){if(K=se.nextSibling&&se.nextSibling.dataset,K)var Re=K.dgst;K=Re,N=Error(r(419)),N.stack="",N.digest=K,Rm({value:N,source:null,stack:null}),d=rw(l,d,v)}else if(Aa||km(l,d,v,!1),K=(v&l.childLanes)!==0,Aa||K){if(K=Jn,K!==null&&(N=v&-v,N=(N&42)!==0?1:or(N),N=(N&(K.suspendedLanes|v))!==0?0:N,N!==0&&N!==me.retryLane))throw me.retryLane=N,mf(l,N),ei(K,l,N),n3;se.data==="$?"||ww(),d=rw(l,d,v)}else se.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=me.treeContext,kr=to(se.nextSibling),ws=d,En=!0,Yu=null,Do=!1,l!==null&&(Si[_i++]=ml,Si[_i++]=gl,Si[_i++]=Hu,ml=l.id,gl=l.overflow,Hu=d),d=nw(d,N.children),d.flags|=4096);return d}return O?(_c(),O=N.fallback,se=d.mode,me=l.child,Re=me.sibling,N=hl(me,{mode:"hidden",children:N.children}),N.subtreeFlags=me.subtreeFlags&65011712,Re!==null?O=hl(Re,O):(O=$u(O,se,v,null),O.flags|=2),O.return=d,N.return=d,N.sibling=O,d.child=N,N=O,O=d.child,se=l.child.memoizedState,se===null?se=ew(v):(me=se.cachePool,me!==null?(Re=pa._currentValue,me=me.parent!==Re?{parent:Re,pool:Re}:me):me=QT(),se={baseLanes:se.baseLanes|v,cachePool:me}),O.memoizedState=se,O.childLanes=tw(l,K,v),d.memoizedState=Jb,N):(Sc(d),v=l.child,l=v.sibling,v=hl(v,{mode:"visible",children:N.children}),v.return=d,v.sibling=null,l!==null&&(K=d.deletions,K===null?(d.deletions=[l],d.flags|=16):K.push(l)),d.child=v,d.memoizedState=null,v)}function nw(l,d){return d=J0({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function J0(l,d){return l=Ks(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function rw(l,d,v){return _f(d,l.child,null,v),l=nw(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function f3(l,d,v){l.lanes|=d;var N=l.alternate;N!==null&&(N.lanes|=d),wb(l.return,d,v)}function aw(l,d,v,N,O){var B=l.memoizedState;B===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:N,tail:v,tailMode:O}:(B.isBackwards=d,B.rendering=null,B.renderingStartTime=0,B.last=N,B.tail=v,B.tailMode=O)}function h3(l,d,v){var N=d.pendingProps,O=N.revealOrder,B=N.tail;if(Ua(l,d,N.children,v),N=xa.current,(N&2)!==0)N=N&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&f3(l,v,d);else if(l.tag===19)f3(l,v,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}N&=1}switch(_e(xa,N),O){case"forwards":for(v=d.child,O=null;v!==null;)l=v.alternate,l!==null&&K0(l)===null&&(O=v),v=v.sibling;v=O,v===null?(O=d.child,d.child=null):(O=v.sibling,v.sibling=null),aw(d,!1,O,v,B);break;case"backwards":for(v=null,O=d.child,d.child=null;O!==null;){if(l=O.alternate,l!==null&&K0(l)===null){d.child=O;break}l=O.sibling,O.sibling=v,v=O,O=l}aw(d,!0,v,null,B);break;case"together":aw(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function bl(l,d,v){if(l!==null&&(d.dependencies=l.dependencies),Oc|=d.lanes,(v&d.childLanes)===0)if(l!==null){if(km(l,d,v,!1),(v&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,v=hl(l,l.pendingProps),d.child=v,v.return=d;l.sibling!==null;)l=l.sibling,v=v.sibling=hl(l,l.pendingProps),v.return=d;v.sibling=null}return d.child}function sw(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&P0(l)))}function wq(l,d,v){switch(d.tag){case 3:ce(d,d.stateNode.containerInfo),yc(d,pa,l.memoizedState.cache),Pm();break;case 27:case 5:Me(d);break;case 4:ce(d,d.stateNode.containerInfo);break;case 10:yc(d,d.type,d.memoizedProps.value);break;case 13:var N=d.memoizedState;if(N!==null)return N.dehydrated!==null?(Sc(d),d.flags|=128,null):(v&d.child.childLanes)!==0?d3(l,d,v):(Sc(d),l=bl(l,d,v),l!==null?l.sibling:null);Sc(d);break;case 19:var O=(l.flags&128)!==0;if(N=(v&d.childLanes)!==0,N||(km(l,d,v,!1),N=(v&d.childLanes)!==0),O){if(N)return h3(l,d,v);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),_e(xa,xa.current),N)break;return null;case 22:case 23:return d.lanes=0,i3(l,d,v);case 24:yc(d,pa,l.memoizedState.cache)}return bl(l,d,v)}function m3(l,d,v){if(l!==null)if(l.memoizedProps!==d.pendingProps)Aa=!0;else{if(!sw(l,v)&&(d.flags&128)===0)return Aa=!1,wq(l,d,v);Aa=(l.flags&131072)!==0}else Aa=!1,En&&(d.flags&1048576)!==0&&HT(d,D0,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var N=d.elementType,O=N._init;if(N=O(N._payload),d.type=N,typeof N=="function")mb(N)?(l=Zu(N,l),d.tag=1,d=c3(null,d,N,l,v)):(d.tag=0,d=Zb(null,d,N,l,v));else{if(N!=null){if(O=N.$$typeof,O===U){d.tag=11,d=r3(null,d,N,l,v);break e}else if(O===F){d.tag=14,d=a3(null,d,N,l,v);break e}}throw d=Q(N)||N,Error(r(306,d,""))}}return d;case 0:return Zb(l,d,d.type,d.pendingProps,v);case 1:return N=d.type,O=Zu(N,d.pendingProps),c3(l,d,N,O,v);case 3:e:{if(ce(d,d.stateNode.containerInfo),l===null)throw Error(r(387));N=d.pendingProps;var B=d.memoizedState;O=B.element,Cb(l,d),Vm(d,N,null,v);var K=d.memoizedState;if(N=K.cache,yc(d,pa,N),N!==B.cache&&jb(d,[pa],v,!0),zm(),N=K.element,B.isDehydrated)if(B={element:N,isDehydrated:!1,cache:K.cache},d.updateQueue.baseState=B,d.memoizedState=B,d.flags&256){d=u3(l,d,N,v);break e}else if(N!==O){O=ji(Error(r(424)),d),Rm(O),d=u3(l,d,N,v);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(kr=to(l.firstChild),ws=d,En=!0,Yu=null,Do=!0,v=Y4(d,null,N,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Pm(),N===O){d=bl(l,d,v);break e}Ua(l,d,N,v)}d=d.child}return d;case 26:return Z0(l,d),l===null?(v=vO(d.type,null,d.pendingProps,null))?d.memoizedState=v:En||(v=d.type,l=d.pendingProps,N=hx(ae.current).createElement(v),N[Sr]=d,N[mn]=l,Va(N,v,l),Mn(N),d.stateNode=N):d.memoizedState=vO(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Me(d),l===null&&En&&(N=d.stateNode=gO(d.type,d.pendingProps,ae.current),ws=d,Do=!0,O=kr,Rc(d.type)?(Fw=O,kr=to(N.firstChild)):kr=O),Ua(l,d,d.pendingProps.children,v),Z0(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&En&&((O=N=kr)&&(N=Kq(N,d.type,d.pendingProps,Do),N!==null?(d.stateNode=N,ws=d,kr=to(N.firstChild),Do=!1,O=!0):O=!1),O||Wu(d)),Me(d),O=d.type,B=d.pendingProps,K=l!==null?l.memoizedProps:null,N=B.children,kw(O,B)?N=null:K!==null&&kw(O,K)&&(d.flags|=32),d.memoizedState!==null&&(O=Rb(l,d,hq,null,null,v),ug._currentValue=O),Z0(l,d),Ua(l,d,N,v),d.child;case 6:return l===null&&En&&((l=v=kr)&&(v=Xq(v,d.pendingProps,Do),v!==null?(d.stateNode=v,ws=d,kr=null,l=!0):l=!1),l||Wu(d)),null;case 13:return d3(l,d,v);case 4:return ce(d,d.stateNode.containerInfo),N=d.pendingProps,l===null?d.child=_f(d,null,N,v):Ua(l,d,N,v),d.child;case 11:return r3(l,d,d.type,d.pendingProps,v);case 7:return Ua(l,d,d.pendingProps,v),d.child;case 8:return Ua(l,d,d.pendingProps.children,v),d.child;case 12:return Ua(l,d,d.pendingProps.children,v),d.child;case 10:return N=d.pendingProps,yc(d,d.type,N.value),Ua(l,d,N.children,v),d.child;case 9:return O=d.type._context,N=d.pendingProps.children,Ku(d),O=ts(O),N=N(O),d.flags|=1,Ua(l,d,N,v),d.child;case 14:return a3(l,d,d.type,d.pendingProps,v);case 15:return s3(l,d,d.type,d.pendingProps,v);case 19:return h3(l,d,v);case 31:return N=d.pendingProps,v=d.mode,N={mode:N.mode,children:N.children},l===null?(v=J0(N,v),v.ref=d.ref,d.child=v,v.return=d,d=v):(v=hl(l.child,N),v.ref=d.ref,d.child=v,v.return=d,d=v),d;case 22:return i3(l,d,v);case 24:return Ku(d),N=ts(pa),l===null?(O=_b(),O===null&&(O=Jn,B=Nb(),O.pooledCache=B,B.refCount++,B!==null&&(O.pooledCacheLanes|=v),O=B),d.memoizedState={parent:N,cache:O},Eb(d),yc(d,pa,O)):((l.lanes&v)!==0&&(Cb(l,d),Vm(d,null,null,v),zm()),O=l.memoizedState,B=d.memoizedState,O.parent!==N?(O={parent:N,cache:N},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),yc(d,pa,N)):(N=B.cache,yc(d,pa,N),N!==O.cache&&jb(d,[pa],v,!0))),Ua(l,d,d.pendingProps.children,v),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function wl(l){l.flags|=4}function g3(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!NO(d)){if(d=Ai.current,d!==null&&((gn&4194048)===gn?Po!==null:(gn&62914560)!==gn&&(gn&536870912)===0||d!==Po))throw Fm=Ab,ZT;l.flags|=8192}}function ex(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?Mu():536870912,l.lanes|=d,Tf|=d)}function Km(l,d){if(!En)switch(l.tailMode){case"hidden":d=l.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var N=null;v!==null;)v.alternate!==null&&(N=v),v=v.sibling;N===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:N.sibling=null}}function Ar(l){var d=l.alternate!==null&&l.alternate.child===l.child,v=0,N=0;if(d)for(var O=l.child;O!==null;)v|=O.lanes|O.childLanes,N|=O.subtreeFlags&65011712,N|=O.flags&65011712,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)v|=O.lanes|O.childLanes,N|=O.subtreeFlags,N|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=N,l.childLanes=v,d}function jq(l,d,v){var N=d.pendingProps;switch(vb(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(d),null;case 1:return Ar(d),null;case 3:return v=d.stateNode,N=null,l!==null&&(N=l.memoizedState.cache),d.memoizedState.cache!==N&&(d.flags|=2048),xl(pa),ge(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Dm(d)?wl(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,WT())),Ar(d),null;case 26:return v=d.memoizedState,l===null?(wl(d),v!==null?(Ar(d),g3(d,v)):(Ar(d),d.flags&=-16777217)):v?v!==l.memoizedState?(wl(d),Ar(d),g3(d,v)):(Ar(d),d.flags&=-16777217):(l.memoizedProps!==N&&wl(d),Ar(d),d.flags&=-16777217),null;case 27:Ne(d),v=ae.current;var O=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==N&&wl(d);else{if(!N){if(d.stateNode===null)throw Error(r(166));return Ar(d),null}l=ye.current,Dm(d)?qT(d):(l=gO(O,N,v),d.stateNode=l,wl(d))}return Ar(d),null;case 5:if(Ne(d),v=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==N&&wl(d);else{if(!N){if(d.stateNode===null)throw Error(r(166));return Ar(d),null}if(l=ye.current,Dm(d))qT(d);else{switch(O=hx(ae.current),l){case 1:l=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:l=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":l=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":l=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof N.is=="string"?O.createElement("select",{is:N.is}):O.createElement("select"),N.multiple?l.multiple=!0:N.size&&(l.size=N.size);break;default:l=typeof N.is=="string"?O.createElement(v,{is:N.is}):O.createElement(v)}}l[Sr]=d,l[mn]=N;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)l.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=l;e:switch(Va(l,v,N),v){case"button":case"input":case"select":case"textarea":l=!!N.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wl(d)}}return Ar(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==N&&wl(d);else{if(typeof N!="string"&&d.stateNode===null)throw Error(r(166));if(l=ae.current,Dm(d)){if(l=d.stateNode,v=d.memoizedProps,N=null,O=ws,O!==null)switch(O.tag){case 27:case 5:N=O.memoizedProps}l[Sr]=d,l=!!(l.nodeValue===v||N!==null&&N.suppressHydrationWarning===!0||lO(l.nodeValue,v)),l||Wu(d)}else l=hx(l).createTextNode(N),l[Sr]=d,d.stateNode=l}return Ar(d),null;case 13:if(N=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(O=Dm(d),N!==null&&N.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[Sr]=d}else Pm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ar(d),O=!1}else O=WT(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(yl(d),d):(yl(d),null)}if(yl(d),(d.flags&128)!==0)return d.lanes=v,d;if(v=N!==null,l=l!==null&&l.memoizedState!==null,v){N=d.child,O=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(O=N.alternate.memoizedState.cachePool.pool);var B=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(B=N.memoizedState.cachePool.pool),B!==O&&(N.flags|=2048)}return v!==l&&v&&(d.child.flags|=8192),ex(d,d.updateQueue),Ar(d),null;case 4:return ge(),l===null&&Ow(d.stateNode.containerInfo),Ar(d),null;case 10:return xl(d.type),Ar(d),null;case 19:if(xe(xa),O=d.memoizedState,O===null)return Ar(d),null;if(N=(d.flags&128)!==0,B=O.rendering,B===null)if(N)Km(O,!1);else{if(Ir!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(B=K0(l),B!==null){for(d.flags|=128,Km(O,!1),l=B.updateQueue,d.updateQueue=l,ex(d,l),d.subtreeFlags=0,l=v,v=d.child;v!==null;)$T(v,l),v=v.sibling;return _e(xa,xa.current&1|2),d.child}l=l.sibling}O.tail!==null&&et()>rx&&(d.flags|=128,N=!0,Km(O,!1),d.lanes=4194304)}else{if(!N)if(l=K0(B),l!==null){if(d.flags|=128,N=!0,l=l.updateQueue,d.updateQueue=l,ex(d,l),Km(O,!0),O.tail===null&&O.tailMode==="hidden"&&!B.alternate&&!En)return Ar(d),null}else 2*et()-O.renderingStartTime>rx&&v!==536870912&&(d.flags|=128,N=!0,Km(O,!1),d.lanes=4194304);O.isBackwards?(B.sibling=d.child,d.child=B):(l=O.last,l!==null?l.sibling=B:d.child=B,O.last=B)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=et(),d.sibling=null,l=xa.current,_e(xa,N?l&1|2:l&1),d):(Ar(d),null);case 22:case 23:return yl(d),Db(),N=d.memoizedState!==null,l!==null?l.memoizedState!==null!==N&&(d.flags|=8192):N&&(d.flags|=8192),N?(v&536870912)!==0&&(d.flags&128)===0&&(Ar(d),d.subtreeFlags&6&&(d.flags|=8192)):Ar(d),v=d.updateQueue,v!==null&&ex(d,v.retryQueue),v=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),N=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(N=d.memoizedState.cachePool.pool),N!==v&&(d.flags|=2048),l!==null&&xe(Xu),null;case 24:return v=null,l!==null&&(v=l.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),xl(pa),Ar(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function Nq(l,d){switch(vb(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return xl(pa),ge(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Ne(d),null;case 13:if(yl(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Pm()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return xe(xa),null;case 4:return ge(),null;case 10:return xl(d.type),null;case 22:case 23:return yl(d),Db(),l!==null&&xe(Xu),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return xl(pa),null;case 25:return null;default:return null}}function p3(l,d){switch(vb(d),d.tag){case 3:xl(pa),ge();break;case 26:case 27:case 5:Ne(d);break;case 4:ge();break;case 13:yl(d);break;case 19:xe(xa);break;case 10:xl(d.type);break;case 22:case 23:yl(d),Db(),l!==null&&xe(Xu);break;case 24:xl(pa)}}function Xm(l,d){try{var v=d.updateQueue,N=v!==null?v.lastEffect:null;if(N!==null){var O=N.next;v=O;do{if((v.tag&l)===l){N=void 0;var B=v.create,K=v.inst;N=B(),K.destroy=N}v=v.next}while(v!==O)}}catch(se){Wn(d,d.return,se)}}function Ac(l,d,v){try{var N=d.updateQueue,O=N!==null?N.lastEffect:null;if(O!==null){var B=O.next;N=B;do{if((N.tag&l)===l){var K=N.inst,se=K.destroy;if(se!==void 0){K.destroy=void 0,O=d;var me=v,Re=se;try{Re()}catch(qe){Wn(O,me,qe)}}}N=N.next}while(N!==B)}}catch(qe){Wn(d,d.return,qe)}}function x3(l){var d=l.updateQueue;if(d!==null){var v=l.stateNode;try{a4(d,v)}catch(N){Wn(l,l.return,N)}}}function v3(l,d,v){v.props=Zu(l.type,l.memoizedProps),v.state=l.memoizedState;try{v.componentWillUnmount()}catch(N){Wn(l,d,N)}}function Qm(l,d){try{var v=l.ref;if(v!==null){switch(l.tag){case 26:case 27:case 5:var N=l.stateNode;break;case 30:N=l.stateNode;break;default:N=l.stateNode}typeof v=="function"?l.refCleanup=v(N):v.current=N}}catch(O){Wn(l,d,O)}}function Ro(l,d){var v=l.ref,N=l.refCleanup;if(v!==null)if(typeof N=="function")try{N()}catch(O){Wn(l,d,O)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(O){Wn(l,d,O)}else v.current=null}function y3(l){var d=l.type,v=l.memoizedProps,N=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":v.autoFocus&&N.focus();break e;case"img":v.src?N.src=v.src:v.srcSet&&(N.srcset=v.srcSet)}}catch(O){Wn(l,l.return,O)}}function iw(l,d,v){try{var N=l.stateNode;Hq(N,l.type,v,d),N[mn]=d}catch(O){Wn(l,l.return,O)}}function b3(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Rc(l.type)||l.tag===4}function ow(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||b3(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Rc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function lw(l,d,v){var N=l.tag;if(N===5||N===6)l=l.stateNode,d?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(l,d):(d=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,d.appendChild(l),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=fx));else if(N!==4&&(N===27&&Rc(l.type)&&(v=l.stateNode,d=null),l=l.child,l!==null))for(lw(l,d,v),l=l.sibling;l!==null;)lw(l,d,v),l=l.sibling}function tx(l,d,v){var N=l.tag;if(N===5||N===6)l=l.stateNode,d?v.insertBefore(l,d):v.appendChild(l);else if(N!==4&&(N===27&&Rc(l.type)&&(v=l.stateNode),l=l.child,l!==null))for(tx(l,d,v),l=l.sibling;l!==null;)tx(l,d,v),l=l.sibling}function w3(l){var d=l.stateNode,v=l.memoizedProps;try{for(var N=l.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);Va(d,N,v),d[Sr]=l,d[mn]=v}catch(B){Wn(l,l.return,B)}}var jl=!1,Yr=!1,cw=!1,j3=typeof WeakSet=="function"?WeakSet:Set,Ea=null;function Sq(l,d){if(l=l.containerInfo,Pw=yx,l=z(l),W(l)){if("selectionStart"in l)var v={start:l.selectionStart,end:l.selectionEnd};else e:{v=(v=l.ownerDocument)&&v.defaultView||window;var N=v.getSelection&&v.getSelection();if(N&&N.rangeCount!==0){v=N.anchorNode;var O=N.anchorOffset,B=N.focusNode;N=N.focusOffset;try{v.nodeType,B.nodeType}catch{v=null;break e}var K=0,se=-1,me=-1,Re=0,qe=0,We=l,Ie=null;t:for(;;){for(var Be;We!==v||O!==0&&We.nodeType!==3||(se=K+O),We!==B||N!==0&&We.nodeType!==3||(me=K+N),We.nodeType===3&&(K+=We.nodeValue.length),(Be=We.firstChild)!==null;)Ie=We,We=Be;for(;;){if(We===l)break t;if(Ie===v&&++Re===O&&(se=K),Ie===B&&++qe===N&&(me=K),(Be=We.nextSibling)!==null)break;We=Ie,Ie=We.parentNode}We=Be}v=se===-1||me===-1?null:{start:se,end:me}}else v=null}v=v||{start:0,end:0}}else v=null;for(Rw={focusedElem:l,selectionRange:v},yx=!1,Ea=d;Ea!==null;)if(d=Ea,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,Ea=l;else for(;Ea!==null;){switch(d=Ea,B=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&B!==null){l=void 0,v=d,O=B.memoizedProps,B=B.memoizedState,N=v.stateNode;try{var Dt=Zu(v.type,O,v.elementType===v.type);l=N.getSnapshotBeforeUpdate(Dt,B),N.__reactInternalSnapshotBeforeUpdate=l}catch(Tt){Wn(v,v.return,Tt)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,v=l.nodeType,v===9)Lw(l);else if(v===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Lw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Ea=l;break}Ea=d.return}}function N3(l,d,v){var N=v.flags;switch(v.tag){case 0:case 11:case 15:Ec(l,v),N&4&&Xm(5,v);break;case 1:if(Ec(l,v),N&4)if(l=v.stateNode,d===null)try{l.componentDidMount()}catch(K){Wn(v,v.return,K)}else{var O=Zu(v.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(O,d,l.__reactInternalSnapshotBeforeUpdate)}catch(K){Wn(v,v.return,K)}}N&64&&x3(v),N&512&&Qm(v,v.return);break;case 3:if(Ec(l,v),N&64&&(l=v.updateQueue,l!==null)){if(d=null,v.child!==null)switch(v.child.tag){case 27:case 5:d=v.child.stateNode;break;case 1:d=v.child.stateNode}try{a4(l,d)}catch(K){Wn(v,v.return,K)}}break;case 27:d===null&&N&4&&w3(v);case 26:case 5:Ec(l,v),d===null&&N&4&&y3(v),N&512&&Qm(v,v.return);break;case 12:Ec(l,v);break;case 13:Ec(l,v),N&4&&A3(l,v),N&64&&(l=v.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(v=Pq.bind(null,v),Qq(l,v))));break;case 22:if(N=v.memoizedState!==null||jl,!N){d=d!==null&&d.memoizedState!==null||Yr,O=jl;var B=Yr;jl=N,(Yr=d)&&!B?Cc(l,v,(v.subtreeFlags&8772)!==0):Ec(l,v),jl=O,Yr=B}break;case 30:break;default:Ec(l,v)}}function S3(l){var d=l.alternate;d!==null&&(l.alternate=null,S3(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Pu(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var dr=null,ks=!1;function Nl(l,d,v){for(v=v.child;v!==null;)_3(l,d,v),v=v.sibling}function _3(l,d,v){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(An,v)}catch{}switch(v.tag){case 26:Yr||Ro(v,d),Nl(l,d,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Yr||Ro(v,d);var N=dr,O=ks;Rc(v.type)&&(dr=v.stateNode,ks=!1),Nl(l,d,v),ig(v.stateNode),dr=N,ks=O;break;case 5:Yr||Ro(v,d);case 6:if(N=dr,O=ks,dr=null,Nl(l,d,v),dr=N,ks=O,dr!==null)if(ks)try{(dr.nodeType===9?dr.body:dr.nodeName==="HTML"?dr.ownerDocument.body:dr).removeChild(v.stateNode)}catch(B){Wn(v,d,B)}else try{dr.removeChild(v.stateNode)}catch(B){Wn(v,d,B)}break;case 18:dr!==null&&(ks?(l=dr,hO(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,v.stateNode),mg(l)):hO(dr,v.stateNode));break;case 4:N=dr,O=ks,dr=v.stateNode.containerInfo,ks=!0,Nl(l,d,v),dr=N,ks=O;break;case 0:case 11:case 14:case 15:Yr||Ac(2,v,d),Yr||Ac(4,v,d),Nl(l,d,v);break;case 1:Yr||(Ro(v,d),N=v.stateNode,typeof N.componentWillUnmount=="function"&&v3(v,d,N)),Nl(l,d,v);break;case 21:Nl(l,d,v);break;case 22:Yr=(N=Yr)||v.memoizedState!==null,Nl(l,d,v),Yr=N;break;default:Nl(l,d,v)}}function A3(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{mg(l)}catch(v){Wn(d,d.return,v)}}function _q(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new j3),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new j3),d;default:throw Error(r(435,l.tag))}}function uw(l,d){var v=_q(l);d.forEach(function(N){var O=Rq.bind(null,l,N);v.has(N)||(v.add(N),N.then(O,O))})}function Xs(l,d){var v=d.deletions;if(v!==null)for(var N=0;N<v.length;N++){var O=v[N],B=l,K=d,se=K;e:for(;se!==null;){switch(se.tag){case 27:if(Rc(se.type)){dr=se.stateNode,ks=!1;break e}break;case 5:dr=se.stateNode,ks=!1;break e;case 3:case 4:dr=se.stateNode.containerInfo,ks=!0;break e}se=se.return}if(dr===null)throw Error(r(160));_3(B,K,O),dr=null,ks=!1,B=O.alternate,B!==null&&(B.return=null),O.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)E3(d,l),d=d.sibling}var eo=null;function E3(l,d){var v=l.alternate,N=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Xs(d,l),Qs(l),N&4&&(Ac(3,l,l.return),Xm(3,l),Ac(5,l,l.return));break;case 1:Xs(d,l),Qs(l),N&512&&(Yr||v===null||Ro(v,v.return)),N&64&&jl&&(l=l.updateQueue,l!==null&&(N=l.callbacks,N!==null&&(v=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=v===null?N:v.concat(N))));break;case 26:var O=eo;if(Xs(d,l),Qs(l),N&512&&(Yr||v===null||Ro(v,v.return)),N&4){var B=v!==null?v.memoizedState:null;if(N=l.memoizedState,v===null)if(N===null)if(l.stateNode===null){e:{N=l.type,v=l.memoizedProps,O=O.ownerDocument||O;t:switch(N){case"title":B=O.getElementsByTagName("title")[0],(!B||B[bi]||B[Sr]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=O.createElement(N),O.head.insertBefore(B,O.querySelector("head > title"))),Va(B,N,v),B[Sr]=l,Mn(B),N=B;break e;case"link":var K=wO("link","href",O).get(N+(v.href||""));if(K){for(var se=0;se<K.length;se++)if(B=K[se],B.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&B.getAttribute("rel")===(v.rel==null?null:v.rel)&&B.getAttribute("title")===(v.title==null?null:v.title)&&B.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){K.splice(se,1);break t}}B=O.createElement(N),Va(B,N,v),O.head.appendChild(B);break;case"meta":if(K=wO("meta","content",O).get(N+(v.content||""))){for(se=0;se<K.length;se++)if(B=K[se],B.getAttribute("content")===(v.content==null?null:""+v.content)&&B.getAttribute("name")===(v.name==null?null:v.name)&&B.getAttribute("property")===(v.property==null?null:v.property)&&B.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&B.getAttribute("charset")===(v.charSet==null?null:v.charSet)){K.splice(se,1);break t}}B=O.createElement(N),Va(B,N,v),O.head.appendChild(B);break;default:throw Error(r(468,N))}B[Sr]=l,Mn(B),N=B}l.stateNode=N}else jO(O,l.type,l.stateNode);else l.stateNode=bO(O,N,l.memoizedProps);else B!==N?(B===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):B.count--,N===null?jO(O,l.type,l.stateNode):bO(O,N,l.memoizedProps)):N===null&&l.stateNode!==null&&iw(l,l.memoizedProps,v.memoizedProps)}break;case 27:Xs(d,l),Qs(l),N&512&&(Yr||v===null||Ro(v,v.return)),v!==null&&N&4&&iw(l,l.memoizedProps,v.memoizedProps);break;case 5:if(Xs(d,l),Qs(l),N&512&&(Yr||v===null||Ro(v,v.return)),l.flags&32){O=l.stateNode;try{ha(O,"")}catch(Be){Wn(l,l.return,Be)}}N&4&&l.stateNode!=null&&(O=l.memoizedProps,iw(l,O,v!==null?v.memoizedProps:O)),N&1024&&(cw=!0);break;case 6:if(Xs(d,l),Qs(l),N&4){if(l.stateNode===null)throw Error(r(162));N=l.memoizedProps,v=l.stateNode;try{v.nodeValue=N}catch(Be){Wn(l,l.return,Be)}}break;case 3:if(px=null,O=eo,eo=mx(d.containerInfo),Xs(d,l),eo=O,Qs(l),N&4&&v!==null&&v.memoizedState.isDehydrated)try{mg(d.containerInfo)}catch(Be){Wn(l,l.return,Be)}cw&&(cw=!1,C3(l));break;case 4:N=eo,eo=mx(l.stateNode.containerInfo),Xs(d,l),Qs(l),eo=N;break;case 12:Xs(d,l),Qs(l);break;case 13:Xs(d,l),Qs(l),l.child.flags&8192&&l.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(pw=et()),N&4&&(N=l.updateQueue,N!==null&&(l.updateQueue=null,uw(l,N)));break;case 22:O=l.memoizedState!==null;var me=v!==null&&v.memoizedState!==null,Re=jl,qe=Yr;if(jl=Re||O,Yr=qe||me,Xs(d,l),Yr=qe,jl=Re,Qs(l),N&8192)e:for(d=l.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(v===null||me||jl||Yr||Ju(l)),v=null,d=l;;){if(d.tag===5||d.tag===26){if(v===null){me=v=d;try{if(B=me.stateNode,O)K=B.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{se=me.stateNode;var We=me.memoizedProps.style,Ie=We!=null&&We.hasOwnProperty("display")?We.display:null;se.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(Be){Wn(me,me.return,Be)}}}else if(d.tag===6){if(v===null){me=d;try{me.stateNode.nodeValue=O?"":me.memoizedProps}catch(Be){Wn(me,me.return,Be)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;v===d&&(v=null),d=d.return}v===d&&(v=null),d.sibling.return=d.return,d=d.sibling}N&4&&(N=l.updateQueue,N!==null&&(v=N.retryQueue,v!==null&&(N.retryQueue=null,uw(l,v))));break;case 19:Xs(d,l),Qs(l),N&4&&(N=l.updateQueue,N!==null&&(l.updateQueue=null,uw(l,N)));break;case 30:break;case 21:break;default:Xs(d,l),Qs(l)}}function Qs(l){var d=l.flags;if(d&2){try{for(var v,N=l.return;N!==null;){if(b3(N)){v=N;break}N=N.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var O=v.stateNode,B=ow(l);tx(l,B,O);break;case 5:var K=v.stateNode;v.flags&32&&(ha(K,""),v.flags&=-33);var se=ow(l);tx(l,se,K);break;case 3:case 4:var me=v.stateNode.containerInfo,Re=ow(l);lw(l,Re,me);break;default:throw Error(r(161))}}catch(qe){Wn(l,l.return,qe)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function C3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;C3(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Ec(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)N3(l,d.alternate,d),d=d.sibling}function Ju(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:Ac(4,d,d.return),Ju(d);break;case 1:Ro(d,d.return);var v=d.stateNode;typeof v.componentWillUnmount=="function"&&v3(d,d.return,v),Ju(d);break;case 27:ig(d.stateNode);case 26:case 5:Ro(d,d.return),Ju(d);break;case 22:d.memoizedState===null&&Ju(d);break;case 30:Ju(d);break;default:Ju(d)}l=l.sibling}}function Cc(l,d,v){for(v=v&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var N=d.alternate,O=l,B=d,K=B.flags;switch(B.tag){case 0:case 11:case 15:Cc(O,B,v),Xm(4,B);break;case 1:if(Cc(O,B,v),N=B,O=N.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Re){Wn(N,N.return,Re)}if(N=B,O=N.updateQueue,O!==null){var se=N.stateNode;try{var me=O.shared.hiddenCallbacks;if(me!==null)for(O.shared.hiddenCallbacks=null,O=0;O<me.length;O++)r4(me[O],se)}catch(Re){Wn(N,N.return,Re)}}v&&K&64&&x3(B),Qm(B,B.return);break;case 27:w3(B);case 26:case 5:Cc(O,B,v),v&&N===null&&K&4&&y3(B),Qm(B,B.return);break;case 12:Cc(O,B,v);break;case 13:Cc(O,B,v),v&&K&4&&A3(O,B);break;case 22:B.memoizedState===null&&Cc(O,B,v),Qm(B,B.return);break;case 30:break;default:Cc(O,B,v)}d=d.sibling}}function dw(l,d){var v=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==v&&(l!=null&&l.refCount++,v!=null&&Im(v))}function fw(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Im(l))}function ko(l,d,v,N){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)T3(l,d,v,N),d=d.sibling}function T3(l,d,v,N){var O=d.flags;switch(d.tag){case 0:case 11:case 15:ko(l,d,v,N),O&2048&&Xm(9,d);break;case 1:ko(l,d,v,N);break;case 3:ko(l,d,v,N),O&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Im(l)));break;case 12:if(O&2048){ko(l,d,v,N),l=d.stateNode;try{var B=d.memoizedProps,K=B.id,se=B.onPostCommit;typeof se=="function"&&se(K,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(me){Wn(d,d.return,me)}}else ko(l,d,v,N);break;case 13:ko(l,d,v,N);break;case 23:break;case 22:B=d.stateNode,K=d.alternate,d.memoizedState!==null?B._visibility&2?ko(l,d,v,N):Zm(l,d):B._visibility&2?ko(l,d,v,N):(B._visibility|=2,Af(l,d,v,N,(d.subtreeFlags&10256)!==0)),O&2048&&dw(K,d);break;case 24:ko(l,d,v,N),O&2048&&fw(d.alternate,d);break;default:ko(l,d,v,N)}}function Af(l,d,v,N,O){for(O=O&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var B=l,K=d,se=v,me=N,Re=K.flags;switch(K.tag){case 0:case 11:case 15:Af(B,K,se,me,O),Xm(8,K);break;case 23:break;case 22:var qe=K.stateNode;K.memoizedState!==null?qe._visibility&2?Af(B,K,se,me,O):Zm(B,K):(qe._visibility|=2,Af(B,K,se,me,O)),O&&Re&2048&&dw(K.alternate,K);break;case 24:Af(B,K,se,me,O),O&&Re&2048&&fw(K.alternate,K);break;default:Af(B,K,se,me,O)}d=d.sibling}}function Zm(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var v=l,N=d,O=N.flags;switch(N.tag){case 22:Zm(v,N),O&2048&&dw(N.alternate,N);break;case 24:Zm(v,N),O&2048&&fw(N.alternate,N);break;default:Zm(v,N)}d=d.sibling}}var Jm=8192;function Ef(l){if(l.subtreeFlags&Jm)for(l=l.child;l!==null;)O3(l),l=l.sibling}function O3(l){switch(l.tag){case 26:Ef(l),l.flags&Jm&&l.memoizedState!==null&&uY(eo,l.memoizedState,l.memoizedProps);break;case 5:Ef(l);break;case 3:case 4:var d=eo;eo=mx(l.stateNode.containerInfo),Ef(l),eo=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Jm,Jm=16777216,Ef(l),Jm=d):Ef(l));break;default:Ef(l)}}function M3(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function eg(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var N=d[v];Ea=N,P3(N,l)}M3(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)D3(l),l=l.sibling}function D3(l){switch(l.tag){case 0:case 11:case 15:eg(l),l.flags&2048&&Ac(9,l,l.return);break;case 3:eg(l);break;case 12:eg(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,nx(l)):eg(l);break;default:eg(l)}}function nx(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var N=d[v];Ea=N,P3(N,l)}M3(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:Ac(8,d,d.return),nx(d);break;case 22:v=d.stateNode,v._visibility&2&&(v._visibility&=-3,nx(d));break;default:nx(d)}l=l.sibling}}function P3(l,d){for(;Ea!==null;){var v=Ea;switch(v.tag){case 0:case 11:case 15:Ac(8,v,d);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var N=v.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:Im(v.memoizedState.cache)}if(N=v.child,N!==null)N.return=v,Ea=N;else e:for(v=l;Ea!==null;){N=Ea;var O=N.sibling,B=N.return;if(S3(N),N===v){Ea=null;break e}if(O!==null){O.return=B,Ea=O;break e}Ea=B}}}var Aq={getCacheForType:function(l){var d=ts(pa),v=d.data.get(l);return v===void 0&&(v=l(),d.data.set(l,v)),v}},Eq=typeof WeakMap=="function"?WeakMap:Map,Rn=0,Jn=null,nn=null,gn=0,kn=0,Zs=null,Tc=!1,Cf=!1,hw=!1,Sl=0,Ir=0,Oc=0,ed=0,mw=0,Ei=0,Tf=0,tg=null,Is=null,gw=!1,pw=0,rx=1/0,ax=null,Mc=null,za=0,Dc=null,Of=null,Mf=0,xw=0,vw=null,R3=null,ng=0,yw=null;function Js(){if((Rn&2)!==0&&gn!==0)return gn&-gn;if(H.T!==null){var l=vf;return l!==0?l:Aw()}return Ms()}function k3(){Ei===0&&(Ei=(gn&536870912)===0||En?xs():536870912);var l=Ai.current;return l!==null&&(l.flags|=32),Ei}function ei(l,d,v){(l===Jn&&(kn===2||kn===9)||l.cancelPendingCommit!==null)&&(Df(l,0),Pc(l,gn,Ei,!1)),Ka(l,v),((Rn&2)===0||l!==Jn)&&(l===Jn&&((Rn&2)===0&&(ed|=v),Ir===4&&Pc(l,gn,Ei,!1)),Io(l))}function I3(l,d,v){if((Rn&6)!==0)throw Error(r(327));var N=!v&&(d&124)===0&&(d&l.expiredLanes)===0||Cn(l,d),O=N?Oq(l,d):jw(l,d,!0),B=N;do{if(O===0){Cf&&!N&&Pc(l,d,0,!1);break}else{if(v=l.current.alternate,B&&!Cq(v)){O=jw(l,d,!1),B=!1;continue}if(O===2){if(B=d,l.errorRecoveryDisabledLanes&B)var K=0;else K=l.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){d=K;e:{var se=l;O=tg;var me=se.current.memoizedState.isDehydrated;if(me&&(Df(se,K).flags|=256),K=jw(se,K,!1),K!==2){if(hw&&!me){se.errorRecoveryDisabledLanes|=B,ed|=B,O=4;break e}B=Is,Is=O,B!==null&&(Is===null?Is=B:Is.push.apply(Is,B))}O=K}if(B=!1,O!==2)continue}}if(O===1){Df(l,0),Pc(l,d,0,!0);break}e:{switch(N=l,B=O,B){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Pc(N,d,Ei,!Tc);break e;case 2:Is=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(O=pw+300-et(),10<O)){if(Pc(N,d,Ei,!Tc),dn(N,0,!0)!==0)break e;N.timeoutHandle=dO(L3.bind(null,N,v,Is,ax,gw,d,Ei,ed,Tf,Tc,B,2,-0,0),O);break e}L3(N,v,Is,ax,gw,d,Ei,ed,Tf,Tc,B,0,-0,0)}}break}while(!0);Io(l)}function L3(l,d,v,N,O,B,K,se,me,Re,qe,We,Ie,Be){if(l.timeoutHandle=-1,We=d.subtreeFlags,(We&8192||(We&16785408)===16785408)&&(cg={stylesheets:null,count:0,unsuspend:cY},O3(d),We=dY(),We!==null)){l.cancelPendingCommit=We(H3.bind(null,l,d,B,v,N,O,K,se,me,qe,1,Ie,Be)),Pc(l,B,K,!Re);return}H3(l,d,B,v,N,O,K,se,me)}function Cq(l){for(var d=l;;){var v=d.tag;if((v===0||v===11||v===15)&&d.flags&16384&&(v=d.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var N=0;N<v.length;N++){var O=v[N],B=O.getSnapshot;O=O.value;try{if(!y(B(),O))return!1}catch{return!1}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Pc(l,d,v,N){d&=~mw,d&=~ed,l.suspendedLanes|=d,l.pingedLanes&=~d,N&&(l.warmLanes|=d),N=l.expirationTimes;for(var O=d;0<O;){var B=31-sn(O),K=1<<B;N[B]=-1,O&=~K}v!==0&&Rt(l,v,d)}function sx(){return(Rn&6)===0?(rg(0),!1):!0}function bw(){if(nn!==null){if(kn===0)var l=nn.return;else l=nn,pl=Gu=null,Lb(l),Sf=null,Wm=0,l=nn;for(;l!==null;)p3(l.alternate,l),l=l.return;nn=null}}function Df(l,d){var v=l.timeoutHandle;v!==-1&&(l.timeoutHandle=-1,Yq(v)),v=l.cancelPendingCommit,v!==null&&(l.cancelPendingCommit=null,v()),bw(),Jn=l,nn=v=hl(l.current,null),gn=d,kn=0,Zs=null,Tc=!1,Cf=Cn(l,d),hw=!1,Tf=Ei=mw=ed=Oc=Ir=0,Is=tg=null,gw=!1,(d&8)!==0&&(d|=d&32);var N=l.entangledLanes;if(N!==0)for(l=l.entanglements,N&=d;0<N;){var O=31-sn(N),B=1<<O;d|=l[O],N&=~B}return Sl=d,E0(),v}function B3(l,d){Qt=null,H.H=Y0,d===Bm||d===I0?(d=t4(),kn=3):d===ZT?(d=t4(),kn=4):kn=d===n3?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Zs=d,nn===null&&(Ir=1,Q0(l,ji(d,l.current)))}function F3(){var l=H.H;return H.H=Y0,l===null?Y0:l}function U3(){var l=H.A;return H.A=Aq,l}function ww(){Ir=4,Tc||(gn&4194048)!==gn&&Ai.current!==null||(Cf=!0),(Oc&134217727)===0&&(ed&134217727)===0||Jn===null||Pc(Jn,gn,Ei,!1)}function jw(l,d,v){var N=Rn;Rn|=2;var O=F3(),B=U3();(Jn!==l||gn!==d)&&(ax=null,Df(l,d)),d=!1;var K=Ir;e:do try{if(kn!==0&&nn!==null){var se=nn,me=Zs;switch(kn){case 8:bw(),K=6;break e;case 3:case 2:case 9:case 6:Ai.current===null&&(d=!0);var Re=kn;if(kn=0,Zs=null,Pf(l,se,me,Re),v&&Cf){K=0;break e}break;default:Re=kn,kn=0,Zs=null,Pf(l,se,me,Re)}}Tq(),K=Ir;break}catch(qe){B3(l,qe)}while(!0);return d&&l.shellSuspendCounter++,pl=Gu=null,Rn=N,H.H=O,H.A=B,nn===null&&(Jn=null,gn=0,E0()),K}function Tq(){for(;nn!==null;)z3(nn)}function Oq(l,d){var v=Rn;Rn|=2;var N=F3(),O=U3();Jn!==l||gn!==d?(ax=null,rx=et()+500,Df(l,d)):Cf=Cn(l,d);e:do try{if(kn!==0&&nn!==null){d=nn;var B=Zs;t:switch(kn){case 1:kn=0,Zs=null,Pf(l,d,B,1);break;case 2:case 9:if(JT(B)){kn=0,Zs=null,V3(d);break}d=function(){kn!==2&&kn!==9||Jn!==l||(kn=7),Io(l)},B.then(d,d);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:JT(B)?(kn=0,Zs=null,V3(d)):(kn=0,Zs=null,Pf(l,d,B,7));break;case 5:var K=null;switch(nn.tag){case 26:K=nn.memoizedState;case 5:case 27:var se=nn;if(!K||NO(K)){kn=0,Zs=null;var me=se.sibling;if(me!==null)nn=me;else{var Re=se.return;Re!==null?(nn=Re,ix(Re)):nn=null}break t}}kn=0,Zs=null,Pf(l,d,B,5);break;case 6:kn=0,Zs=null,Pf(l,d,B,6);break;case 8:bw(),Ir=6;break e;default:throw Error(r(462))}}Mq();break}catch(qe){B3(l,qe)}while(!0);return pl=Gu=null,H.H=N,H.A=O,Rn=v,nn!==null?0:(Jn=null,gn=0,E0(),Ir)}function Mq(){for(;nn!==null&&!Qe();)z3(nn)}function z3(l){var d=m3(l.alternate,l,Sl);l.memoizedProps=l.pendingProps,d===null?ix(l):nn=d}function V3(l){var d=l,v=d.alternate;switch(d.tag){case 15:case 0:d=l3(v,d,d.pendingProps,d.type,void 0,gn);break;case 11:d=l3(v,d,d.pendingProps,d.type.render,d.ref,gn);break;case 5:Lb(d);default:p3(v,d),d=nn=$T(d,Sl),d=m3(v,d,Sl)}l.memoizedProps=l.pendingProps,d===null?ix(l):nn=d}function Pf(l,d,v,N){pl=Gu=null,Lb(d),Sf=null,Wm=0;var O=d.return;try{if(bq(l,O,d,v,gn)){Ir=1,Q0(l,ji(v,l.current)),nn=null;return}}catch(B){if(O!==null)throw nn=O,B;Ir=1,Q0(l,ji(v,l.current)),nn=null;return}d.flags&32768?(En||N===1?l=!0:Cf||(gn&536870912)!==0?l=!1:(Tc=l=!0,(N===2||N===9||N===3||N===6)&&(N=Ai.current,N!==null&&N.tag===13&&(N.flags|=16384))),$3(d,l)):ix(d)}function ix(l){var d=l;do{if((d.flags&32768)!==0){$3(d,Tc);return}l=d.return;var v=jq(d.alternate,d,Sl);if(v!==null){nn=v;return}if(d=d.sibling,d!==null){nn=d;return}nn=d=l}while(d!==null);Ir===0&&(Ir=5)}function $3(l,d){do{var v=Nq(l.alternate,l);if(v!==null){v.flags&=32767,nn=v;return}if(v=l.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!d&&(l=l.sibling,l!==null)){nn=l;return}nn=l=v}while(l!==null);Ir=6,nn=null}function H3(l,d,v,N,O,B,K,se,me){l.cancelPendingCommit=null;do ox();while(za!==0);if((Rn&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(B=d.lanes|d.childLanes,B|=fb,Du(l,v,B,K,se,me),l===Jn&&(nn=Jn=null,gn=0),Of=d,Dc=l,Mf=v,xw=B,vw=O,R3=N,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,kq(ct,function(){return K3(),null})):(l.callbackNode=null,l.callbackPriority=0),N=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||N){N=H.T,H.T=null,O=ee.p,ee.p=2,K=Rn,Rn|=4;try{Sq(l,d,v)}finally{Rn=K,ee.p=O,H.T=N}}za=1,q3(),Y3(),W3()}}function q3(){if(za===1){za=0;var l=Dc,d=Of,v=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||v){v=H.T,H.T=null;var N=ee.p;ee.p=2;var O=Rn;Rn|=4;try{E3(d,l);var B=Rw,K=z(l.containerInfo),se=B.focusedElem,me=B.selectionRange;if(K!==se&&se&&se.ownerDocument&&P(se.ownerDocument.documentElement,se)){if(me!==null&&W(se)){var Re=me.start,qe=me.end;if(qe===void 0&&(qe=Re),"selectionStart"in se)se.selectionStart=Re,se.selectionEnd=Math.min(qe,se.value.length);else{var We=se.ownerDocument||document,Ie=We&&We.defaultView||window;if(Ie.getSelection){var Be=Ie.getSelection(),Dt=se.textContent.length,Tt=Math.min(me.start,Dt),Vn=me.end===void 0?Tt:Math.min(me.end,Dt);!Be.extend&&Tt>Vn&&(K=Vn,Vn=Tt,Tt=K);var Ae=T(se,Tt),je=T(se,Vn);if(Ae&&je&&(Be.rangeCount!==1||Be.anchorNode!==Ae.node||Be.anchorOffset!==Ae.offset||Be.focusNode!==je.node||Be.focusOffset!==je.offset)){var Pe=We.createRange();Pe.setStart(Ae.node,Ae.offset),Be.removeAllRanges(),Tt>Vn?(Be.addRange(Pe),Be.extend(je.node,je.offset)):(Pe.setEnd(je.node,je.offset),Be.addRange(Pe))}}}}for(We=[],Be=se;Be=Be.parentNode;)Be.nodeType===1&&We.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<We.length;se++){var Ye=We[se];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}yx=!!Pw,Rw=Pw=null}finally{Rn=O,ee.p=N,H.T=v}}l.current=d,za=2}}function Y3(){if(za===2){za=0;var l=Dc,d=Of,v=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||v){v=H.T,H.T=null;var N=ee.p;ee.p=2;var O=Rn;Rn|=4;try{N3(l,d.alternate,d)}finally{Rn=O,ee.p=N,H.T=v}}za=3}}function W3(){if(za===4||za===3){za=0,gt();var l=Dc,d=Of,v=Mf,N=R3;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?za=5:(za=0,Of=Dc=null,G3(l,l.pendingLanes));var O=l.pendingLanes;if(O===0&&(Mc=null),hn(v),d=d.stateNode,Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(An,d,void 0,(d.current.flags&128)===128)}catch{}if(N!==null){d=H.T,O=ee.p,ee.p=2,H.T=null;try{for(var B=l.onRecoverableError,K=0;K<N.length;K++){var se=N[K];B(se.value,{componentStack:se.stack})}}finally{H.T=d,ee.p=O}}(Mf&3)!==0&&ox(),Io(l),O=l.pendingLanes,(v&4194090)!==0&&(O&42)!==0?l===yw?ng++:(ng=0,yw=l):ng=0,rg(0)}}function G3(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Im(d)))}function ox(l){return q3(),Y3(),W3(),K3()}function K3(){if(za!==5)return!1;var l=Dc,d=xw;xw=0;var v=hn(Mf),N=H.T,O=ee.p;try{ee.p=32>v?32:v,H.T=null,v=vw,vw=null;var B=Dc,K=Mf;if(za=0,Of=Dc=null,Mf=0,(Rn&6)!==0)throw Error(r(331));var se=Rn;if(Rn|=4,D3(B.current),T3(B,B.current,K,v),Rn=se,rg(0,!1),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(An,B)}catch{}return!0}finally{ee.p=O,H.T=N,G3(l,d)}}function X3(l,d,v){d=ji(v,d),d=Qb(l.stateNode,d,2),l=jc(l,d,2),l!==null&&(Ka(l,2),Io(l))}function Wn(l,d,v){if(l.tag===3)X3(l,l,v);else for(;d!==null;){if(d.tag===3){X3(d,l,v);break}else if(d.tag===1){var N=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Mc===null||!Mc.has(N))){l=ji(v,l),v=e3(2),N=jc(d,v,2),N!==null&&(t3(v,N,d,l),Ka(N,2),Io(N));break}}d=d.return}}function Nw(l,d,v){var N=l.pingCache;if(N===null){N=l.pingCache=new Eq;var O=new Set;N.set(d,O)}else O=N.get(d),O===void 0&&(O=new Set,N.set(d,O));O.has(v)||(hw=!0,O.add(v),l=Dq.bind(null,l,d,v),d.then(l,l))}function Dq(l,d,v){var N=l.pingCache;N!==null&&N.delete(d),l.pingedLanes|=l.suspendedLanes&v,l.warmLanes&=~v,Jn===l&&(gn&v)===v&&(Ir===4||Ir===3&&(gn&62914560)===gn&&300>et()-pw?(Rn&2)===0&&Df(l,0):mw|=v,Tf===gn&&(Tf=0)),Io(l)}function Q3(l,d){d===0&&(d=Mu()),l=mf(l,d),l!==null&&(Ka(l,d),Io(l))}function Pq(l){var d=l.memoizedState,v=0;d!==null&&(v=d.retryLane),Q3(l,v)}function Rq(l,d){var v=0;switch(l.tag){case 13:var N=l.stateNode,O=l.memoizedState;O!==null&&(v=O.retryLane);break;case 19:N=l.stateNode;break;case 22:N=l.stateNode._retryCache;break;default:throw Error(r(314))}N!==null&&N.delete(d),Q3(l,v)}function kq(l,d){return Ke(l,d)}var lx=null,Rf=null,Sw=!1,cx=!1,_w=!1,td=0;function Io(l){l!==Rf&&l.next===null&&(Rf===null?lx=Rf=l:Rf=Rf.next=l),cx=!0,Sw||(Sw=!0,Lq())}function rg(l,d){if(!_w&&cx){_w=!0;do for(var v=!1,N=lx;N!==null;){if(l!==0){var O=N.pendingLanes;if(O===0)var B=0;else{var K=N.suspendedLanes,se=N.pingedLanes;B=(1<<31-sn(42|l)+1)-1,B&=O&~(K&~se),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(v=!0,tO(N,B))}else B=gn,B=dn(N,N===Jn?B:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(B&3)===0||Cn(N,B)||(v=!0,tO(N,B));N=N.next}while(v);_w=!1}}function Iq(){Z3()}function Z3(){cx=Sw=!1;var l=0;td!==0&&(qq()&&(l=td),td=0);for(var d=et(),v=null,N=lx;N!==null;){var O=N.next,B=J3(N,d);B===0?(N.next=null,v===null?lx=O:v.next=O,O===null&&(Rf=v)):(v=N,(l!==0||(B&3)!==0)&&(cx=!0)),N=O}rg(l)}function J3(l,d){for(var v=l.suspendedLanes,N=l.pingedLanes,O=l.expirationTimes,B=l.pendingLanes&-62914561;0<B;){var K=31-sn(B),se=1<<K,me=O[K];me===-1?((se&v)===0||(se&N)!==0)&&(O[K]=Gi(se,d)):me<=d&&(l.expiredLanes|=se),B&=~se}if(d=Jn,v=gn,v=dn(l,l===d?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),N=l.callbackNode,v===0||l===d&&(kn===2||kn===9)||l.cancelPendingCommit!==null)return N!==null&&N!==null&&$e(N),l.callbackNode=null,l.callbackPriority=0;if((v&3)===0||Cn(l,v)){if(d=v&-v,d===l.callbackPriority)return d;switch(N!==null&&$e(N),hn(v)){case 2:case 8:v=wr;break;case 32:v=ct;break;case 268435456:v=ea;break;default:v=ct}return N=eO.bind(null,l),v=Ke(v,N),l.callbackPriority=d,l.callbackNode=v,d}return N!==null&&N!==null&&$e(N),l.callbackPriority=2,l.callbackNode=null,2}function eO(l,d){if(za!==0&&za!==5)return l.callbackNode=null,l.callbackPriority=0,null;var v=l.callbackNode;if(ox()&&l.callbackNode!==v)return null;var N=gn;return N=dn(l,l===Jn?N:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),N===0?null:(I3(l,N,d),J3(l,et()),l.callbackNode!=null&&l.callbackNode===v?eO.bind(null,l):null)}function tO(l,d){if(ox())return null;I3(l,d,!0)}function Lq(){Wq(function(){(Rn&6)!==0?Ke(it,Iq):Z3()})}function Aw(){return td===0&&(td=xs()),td}function nO(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:af(""+l)}function rO(l,d){var v=d.ownerDocument.createElement("input");return v.name=d.name,v.value=d.value,l.id&&v.setAttribute("form",l.id),d.parentNode.insertBefore(v,d),l=new FormData(l),v.parentNode.removeChild(v),l}function Bq(l,d,v,N,O){if(d==="submit"&&v&&v.stateNode===O){var B=nO((O[mn]||null).action),K=N.submitter;K&&(d=(d=K[mn]||null)?nO(d.formAction):K.getAttribute("formAction"),d!==null&&(B=d,K=null));var se=new Co("action","action",null,N,O);l.push({event:se,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(td!==0){var me=K?rO(O,K):new FormData(O);Yb(v,{pending:!0,data:me,method:O.method,action:B},null,me)}}else typeof B=="function"&&(se.preventDefault(),me=K?rO(O,K):new FormData(O),Yb(v,{pending:!0,data:me,method:O.method,action:B},B,me))},currentTarget:O}]})}}for(var Ew=0;Ew<Mo.length;Ew++){var Cw=Mo[Ew],Fq=Cw.toLowerCase(),Uq=Cw[0].toUpperCase()+Cw.slice(1);Gs(Fq,"on"+Uq)}Gs(Ut,"onAnimationEnd"),Gs(Fa,"onAnimationIteration"),Gs(Ps,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(Ja,"onTransitionRun"),Gs(Pn,"onTransitionStart"),Gs(ga,"onTransitionCancel"),Gs(es,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ag="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ag));function aO(l,d){d=(d&4)!==0;for(var v=0;v<l.length;v++){var N=l[v],O=N.event;N=N.listeners;e:{var B=void 0;if(d)for(var K=N.length-1;0<=K;K--){var se=N[K],me=se.instance,Re=se.currentTarget;if(se=se.listener,me!==B&&O.isPropagationStopped())break e;B=se,O.currentTarget=Re;try{B(O)}catch(qe){X0(qe)}O.currentTarget=null,B=me}else for(K=0;K<N.length;K++){if(se=N[K],me=se.instance,Re=se.currentTarget,se=se.listener,me!==B&&O.isPropagationStopped())break e;B=se,O.currentTarget=Re;try{B(O)}catch(qe){X0(qe)}O.currentTarget=null,B=me}}}}function rn(l,d){var v=d[Ur];v===void 0&&(v=d[Ur]=new Set);var N=l+"__bubble";v.has(N)||(sO(d,l,2,!1),v.add(N))}function Tw(l,d,v){var N=0;d&&(N|=4),sO(v,l,N,d)}var ux="_reactListening"+Math.random().toString(36).slice(2);function Ow(l){if(!l[ux]){l[ux]=!0,x0.forEach(function(v){v!=="selectionchange"&&(zq.has(v)||Tw(v,!1,l),Tw(v,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[ux]||(d[ux]=!0,Tw("selectionchange",!1,d))}}function sO(l,d,v,N){switch(TO(d)){case 2:var O=mY;break;case 8:O=gY;break;default:O=Hw}v=O.bind(null,d,v,l),O=void 0,!zt||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),N?O!==void 0?l.addEventListener(d,v,{capture:!0,passive:O}):l.addEventListener(d,v,!0):O!==void 0?l.addEventListener(d,v,{passive:O}):l.addEventListener(d,v,!1)}function Mw(l,d,v,N,O){var B=N;if((d&1)===0&&(d&2)===0&&N!==null)e:for(;;){if(N===null)return;var K=N.tag;if(K===3||K===4){var se=N.stateNode.containerInfo;if(se===O)break;if(K===4)for(K=N.return;K!==null;){var me=K.tag;if((me===3||me===4)&&K.stateNode.containerInfo===O)return;K=K.return}for(;se!==null;){if(K=zr(se),K===null)return;if(me=K.tag,me===5||me===6||me===26||me===27){N=B=K;continue e}se=se.parentNode}}N=N.return}Qi(function(){var Re=B,qe=lc(v),We=[];e:{var Ie=fl.get(l);if(Ie!==void 0){var Be=Co,Dt=l;switch(l){case"keypress":if(sf(v)===0)break e;case"keydown":case"keyup":Be=Am;break;case"focusin":Dt="focus",Be=fc;break;case"focusout":Dt="blur",Be=fc;break;case"beforeblur":case"afterblur":Be=fc;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=w0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=On;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Dn;break;case Ut:case Fa:case Ps:Be=ab;break;case es:Be=lb;break;case"scroll":case"scrollend":Be=Qa;break;case"wheel":Be=ul;break;case"copy":case"cut":case"paste":Be=Yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Fu;break;case"toggle":case"beforetoggle":Be=cb}var Tt=(d&4)!==0,Vn=!Tt&&(l==="scroll"||l==="scrollend"),Ae=Tt?Ie!==null?Ie+"Capture":null:Ie;Tt=[];for(var je=Re,Pe;je!==null;){var Ye=je;if(Pe=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||Pe===null||Ae===null||(Ye=At(je,Ae),Ye!=null&&Tt.push(sg(je,Ye,Pe))),Vn)break;je=je.return}0<Tt.length&&(Ie=new Be(Ie,Dt,null,v,qe),We.push({event:Ie,listeners:Tt}))}}if((d&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",Be=l==="mouseout"||l==="pointerout",Ie&&v!==Ru&&(Dt=v.relatedTarget||v.fromElement)&&(zr(Dt)||Dt[Dr]))break e;if((Be||Ie)&&(Ie=qe.window===qe?qe:(Ie=qe.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Be?(Dt=v.relatedTarget||v.toElement,Be=Re,Dt=Dt?zr(Dt):null,Dt!==null&&(Vn=i(Dt),Tt=Dt.tag,Dt!==Vn||Tt!==5&&Tt!==27&&Tt!==6)&&(Dt=null)):(Be=null,Dt=Re),Be!==Dt)){if(Tt=w0,Ye="onMouseLeave",Ae="onMouseEnter",je="mouse",(l==="pointerout"||l==="pointerover")&&(Tt=Fu,Ye="onPointerLeave",Ae="onPointerEnter",je="pointer"),Vn=Be==null?Ie:bo(Be),Pe=Dt==null?Ie:bo(Dt),Ie=new Tt(Ye,je+"leave",Be,v,qe),Ie.target=Vn,Ie.relatedTarget=Pe,Ye=null,zr(qe)===Re&&(Tt=new Tt(Ae,je+"enter",Dt,v,qe),Tt.target=Pe,Tt.relatedTarget=Vn,Ye=Tt),Vn=Ye,Be&&Dt)t:{for(Tt=Be,Ae=Dt,je=0,Pe=Tt;Pe;Pe=kf(Pe))je++;for(Pe=0,Ye=Ae;Ye;Ye=kf(Ye))Pe++;for(;0<je-Pe;)Tt=kf(Tt),je--;for(;0<Pe-je;)Ae=kf(Ae),Pe--;for(;je--;){if(Tt===Ae||Ae!==null&&Tt===Ae.alternate)break t;Tt=kf(Tt),Ae=kf(Ae)}Tt=null}else Tt=null;Be!==null&&iO(We,Ie,Be,Tt,!1),Dt!==null&&Vn!==null&&iO(We,Vn,Dt,Tt,!0)}}e:{if(Ie=Re?bo(Re):window,Be=Ie.nodeName&&Ie.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Ie.type==="file")var pt=_0;else if(Vu(Ie))if(Om)pt=h;else{pt=J;var Jt=ff}else Be=Ie.nodeName,!Be||Be.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Re&&Nt(Re.elementType)&&(pt=_0):pt=c;if(pt&&(pt=pt(l,Re))){bs(We,pt,v,qe);break e}Jt&&Jt(l,Ie,Re),l==="focusout"&&Re&&Ie.type==="number"&&Re.memoizedProps.value!=null&&De(Ie,"number",Ie.value)}switch(Jt=Re?bo(Re):window,l){case"focusin":(Vu(Jt)||Jt.contentEditable==="true")&&(ne=Jt,le=Re,pe=null);break;case"focusout":pe=le=ne=null;break;case"mousedown":ve=!0;break;case"contextmenu":case"mouseup":case"dragend":ve=!1,Ce(We,v,qe);break;case"selectionchange":if(te)break;case"keydown":case"keyup":Ce(We,v,qe)}var St;if(Uu)e:{switch(l){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else gc?dl(l,v)&&(Mt="onCompositionEnd"):l==="keydown"&&v.keyCode===229&&(Mt="onCompositionStart");Mt&&(Cm&&v.locale!=="ko"&&(gc||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&gc&&(St=_o()):(So=qe,ku="value"in So?So.value:So.textContent,gc=!0)),Jt=dx(Re,Mt),0<Jt.length&&(Mt=new Lu(Mt,l,null,v,qe),We.push({event:Mt,listeners:Jt}),St?Mt.data=St:(St=uf(v),St!==null&&(Mt.data=St)))),(St=Em?zu(l,v):ub(l,v))&&(Mt=dx(Re,"onBeforeInput"),0<Mt.length&&(Jt=new Lu("onBeforeInput","beforeinput",null,v,qe),We.push({event:Jt,listeners:Mt}),Jt.data=St)),Bq(We,l,Re,v,qe)}aO(We,d)})}function sg(l,d,v){return{instance:l,listener:d,currentTarget:v}}function dx(l,d){for(var v=d+"Capture",N=[];l!==null;){var O=l,B=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||B===null||(O=At(l,v),O!=null&&N.unshift(sg(l,O,B)),O=At(l,d),O!=null&&N.push(sg(l,O,B))),l.tag===3)return N;l=l.return}return[]}function kf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function iO(l,d,v,N,O){for(var B=d._reactName,K=[];v!==null&&v!==N;){var se=v,me=se.alternate,Re=se.stateNode;if(se=se.tag,me!==null&&me===N)break;se!==5&&se!==26&&se!==27||Re===null||(me=Re,O?(Re=At(v,B),Re!=null&&K.unshift(sg(v,Re,me))):O||(Re=At(v,B),Re!=null&&K.push(sg(v,Re,me)))),v=v.return}K.length!==0&&l.push({event:d,listeners:K})}var Vq=/\r\n?/g,$q=/\u0000|\uFFFD/g;function oO(l){return(typeof l=="string"?l:""+l).replace(Vq,`
`).replace($q,"")}function lO(l,d){return d=oO(d),oO(l)===d}function fx(){}function zn(l,d,v,N,O,B){switch(v){case"children":typeof N=="string"?d==="body"||d==="textarea"&&N===""||ha(l,N):(typeof N=="number"||typeof N=="bigint")&&d!=="body"&&ha(l,""+N);break;case"className":ef(l,"class",N);break;case"tabIndex":ef(l,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":ef(l,v,N);break;case"style":ys(l,N,B);break;case"data":if(d!=="object"){ef(l,"data",N);break}case"src":case"href":if(N===""&&(d!=="a"||v!=="href")){l.removeAttribute(v);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){l.removeAttribute(v);break}N=af(""+N),l.setAttribute(v,N);break;case"action":case"formAction":if(typeof N=="function"){l.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(v==="formAction"?(d!=="input"&&zn(l,d,"name",O.name,O,null),zn(l,d,"formEncType",O.formEncType,O,null),zn(l,d,"formMethod",O.formMethod,O,null),zn(l,d,"formTarget",O.formTarget,O,null)):(zn(l,d,"encType",O.encType,O,null),zn(l,d,"method",O.method,O,null),zn(l,d,"target",O.target,O,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){l.removeAttribute(v);break}N=af(""+N),l.setAttribute(v,N);break;case"onClick":N!=null&&(l.onclick=fx);break;case"onScroll":N!=null&&rn("scroll",l);break;case"onScrollEnd":N!=null&&rn("scrollend",l);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(v=N.__html,v!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=v}}break;case"multiple":l.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":l.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){l.removeAttribute("xlink:href");break}v=af(""+N),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?l.setAttribute(v,""+N):l.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?l.setAttribute(v,""):l.removeAttribute(v);break;case"capture":case"download":N===!0?l.setAttribute(v,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?l.setAttribute(v,N):l.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?l.setAttribute(v,N):l.removeAttribute(v);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?l.removeAttribute(v):l.setAttribute(v,N);break;case"popover":rn("beforetoggle",l),rn("toggle",l),Ge(l,"popover",N);break;case"xlinkActuate":Nn(l,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":Nn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":Nn(l,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":Nn(l,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":Nn(l,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":Nn(l,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":Ge(l,"is",N);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=nr.get(v)||v,Ge(l,v,N))}}function Dw(l,d,v,N,O,B){switch(v){case"style":ys(l,N,B);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(r(61));if(v=N.__html,v!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=v}}break;case"children":typeof N=="string"?ha(l,N):(typeof N=="number"||typeof N=="bigint")&&ha(l,""+N);break;case"onScroll":N!=null&&rn("scroll",l);break;case"onScrollEnd":N!=null&&rn("scrollend",l);break;case"onClick":N!=null&&(l.onclick=fx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!v0.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(O=v.endsWith("Capture"),d=v.slice(2,O?v.length-7:void 0),B=l[mn]||null,B=B!=null?B[v]:null,typeof B=="function"&&l.removeEventListener(d,B,O),typeof N=="function")){typeof B!="function"&&B!==null&&(v in l?l[v]=null:l.hasAttribute(v)&&l.removeAttribute(v)),l.addEventListener(d,N,O);break e}v in l?l[v]=N:N===!0?l.setAttribute(v,""):Ge(l,v,N)}}}function Va(l,d,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",l),rn("load",l);var N=!1,O=!1,B;for(B in v)if(v.hasOwnProperty(B)){var K=v[B];if(K!=null)switch(B){case"src":N=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:zn(l,d,B,K,v,null)}}O&&zn(l,d,"srcSet",v.srcSet,v,null),N&&zn(l,d,"src",v.src,v,null);return;case"input":rn("invalid",l);var se=B=K=O=null,me=null,Re=null;for(N in v)if(v.hasOwnProperty(N)){var qe=v[N];if(qe!=null)switch(N){case"name":O=qe;break;case"type":K=qe;break;case"checked":me=qe;break;case"defaultChecked":Re=qe;break;case"value":B=qe;break;case"defaultValue":se=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,d));break;default:zn(l,d,N,qe,v,null)}}fa(l,B,se,me,Re,K,O,!1),nf(l);return;case"select":rn("invalid",l),N=K=B=null;for(O in v)if(v.hasOwnProperty(O)&&(se=v[O],se!=null))switch(O){case"value":B=se;break;case"defaultValue":K=se;break;case"multiple":N=se;default:zn(l,d,O,se,v,null)}d=B,v=K,l.multiple=!!N,d!=null?ie(l,!!N,d,!1):v!=null&&ie(l,!!N,v,!0);return;case"textarea":rn("invalid",l),B=O=N=null;for(K in v)if(v.hasOwnProperty(K)&&(se=v[K],se!=null))switch(K){case"value":N=se;break;case"defaultValue":O=se;break;case"children":B=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(91));break;default:zn(l,d,K,se,v,null)}Vr(l,N,O,B),nf(l);return;case"option":for(me in v)if(v.hasOwnProperty(me)&&(N=v[me],N!=null))switch(me){case"selected":l.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:zn(l,d,me,N,v,null)}return;case"dialog":rn("beforetoggle",l),rn("toggle",l),rn("cancel",l),rn("close",l);break;case"iframe":case"object":rn("load",l);break;case"video":case"audio":for(N=0;N<ag.length;N++)rn(ag[N],l);break;case"image":rn("error",l),rn("load",l);break;case"details":rn("toggle",l);break;case"embed":case"source":case"link":rn("error",l),rn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in v)if(v.hasOwnProperty(Re)&&(N=v[Re],N!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:zn(l,d,Re,N,v,null)}return;default:if(Nt(d)){for(qe in v)v.hasOwnProperty(qe)&&(N=v[qe],N!==void 0&&Dw(l,d,qe,N,v,void 0));return}}for(se in v)v.hasOwnProperty(se)&&(N=v[se],N!=null&&zn(l,d,se,N,v,null))}function Hq(l,d,v,N){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,B=null,K=null,se=null,me=null,Re=null,qe=null;for(Be in v){var We=v[Be];if(v.hasOwnProperty(Be)&&We!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":me=We;default:N.hasOwnProperty(Be)||zn(l,d,Be,null,N,We)}}for(var Ie in N){var Be=N[Ie];if(We=v[Ie],N.hasOwnProperty(Ie)&&(Be!=null||We!=null))switch(Ie){case"type":B=Be;break;case"name":O=Be;break;case"checked":Re=Be;break;case"defaultChecked":qe=Be;break;case"value":K=Be;break;case"defaultValue":se=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,d));break;default:Be!==We&&zn(l,d,Ie,Be,N,We)}}Tn(l,K,se,me,Re,qe,B,O);return;case"select":Be=K=se=Ie=null;for(B in v)if(me=v[B],v.hasOwnProperty(B)&&me!=null)switch(B){case"value":break;case"multiple":Be=me;default:N.hasOwnProperty(B)||zn(l,d,B,null,N,me)}for(O in N)if(B=N[O],me=v[O],N.hasOwnProperty(O)&&(B!=null||me!=null))switch(O){case"value":Ie=B;break;case"defaultValue":se=B;break;case"multiple":K=B;default:B!==me&&zn(l,d,O,B,N,me)}d=se,v=K,N=Be,Ie!=null?ie(l,!!v,Ie,!1):!!N!=!!v&&(d!=null?ie(l,!!v,d,!0):ie(l,!!v,v?[]:"",!1));return;case"textarea":Be=Ie=null;for(se in v)if(O=v[se],v.hasOwnProperty(se)&&O!=null&&!N.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:zn(l,d,se,null,N,O)}for(K in N)if(O=N[K],B=v[K],N.hasOwnProperty(K)&&(O!=null||B!=null))switch(K){case"value":Ie=O;break;case"defaultValue":Be=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==B&&zn(l,d,K,O,N,B)}jt(l,Ie,Be);return;case"option":for(var Dt in v)if(Ie=v[Dt],v.hasOwnProperty(Dt)&&Ie!=null&&!N.hasOwnProperty(Dt))switch(Dt){case"selected":l.selected=!1;break;default:zn(l,d,Dt,null,N,Ie)}for(me in N)if(Ie=N[me],Be=v[me],N.hasOwnProperty(me)&&Ie!==Be&&(Ie!=null||Be!=null))switch(me){case"selected":l.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:zn(l,d,me,Ie,N,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in v)Ie=v[Tt],v.hasOwnProperty(Tt)&&Ie!=null&&!N.hasOwnProperty(Tt)&&zn(l,d,Tt,null,N,Ie);for(Re in N)if(Ie=N[Re],Be=v[Re],N.hasOwnProperty(Re)&&Ie!==Be&&(Ie!=null||Be!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,d));break;default:zn(l,d,Re,Ie,N,Be)}return;default:if(Nt(d)){for(var Vn in v)Ie=v[Vn],v.hasOwnProperty(Vn)&&Ie!==void 0&&!N.hasOwnProperty(Vn)&&Dw(l,d,Vn,void 0,N,Ie);for(qe in N)Ie=N[qe],Be=v[qe],!N.hasOwnProperty(qe)||Ie===Be||Ie===void 0&&Be===void 0||Dw(l,d,qe,Ie,N,Be);return}}for(var Ae in v)Ie=v[Ae],v.hasOwnProperty(Ae)&&Ie!=null&&!N.hasOwnProperty(Ae)&&zn(l,d,Ae,null,N,Ie);for(We in N)Ie=N[We],Be=v[We],!N.hasOwnProperty(We)||Ie===Be||Ie==null&&Be==null||zn(l,d,We,Ie,N,Be)}var Pw=null,Rw=null;function hx(l){return l.nodeType===9?l:l.ownerDocument}function cO(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uO(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function kw(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Iw=null;function qq(){var l=window.event;return l&&l.type==="popstate"?l===Iw?!1:(Iw=l,!0):(Iw=null,!1)}var dO=typeof setTimeout=="function"?setTimeout:void 0,Yq=typeof clearTimeout=="function"?clearTimeout:void 0,fO=typeof Promise=="function"?Promise:void 0,Wq=typeof queueMicrotask=="function"?queueMicrotask:typeof fO<"u"?function(l){return fO.resolve(null).then(l).catch(Gq)}:dO;function Gq(l){setTimeout(function(){throw l})}function Rc(l){return l==="head"}function hO(l,d){var v=d,N=0,O=0;do{var B=v.nextSibling;if(l.removeChild(v),B&&B.nodeType===8)if(v=B.data,v==="/$"){if(0<N&&8>N){v=N;var K=l.ownerDocument;if(v&1&&ig(K.documentElement),v&2&&ig(K.body),v&4)for(v=K.head,ig(v),K=v.firstChild;K;){var se=K.nextSibling,me=K.nodeName;K[bi]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&K.rel.toLowerCase()==="stylesheet"||v.removeChild(K),K=se}}if(O===0){l.removeChild(B),mg(d);return}O--}else v==="$"||v==="$?"||v==="$!"?O++:N=v.charCodeAt(0)-48;else N=0;v=B}while(v);mg(d)}function Lw(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var v=d;switch(d=d.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":Lw(v),Pu(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}l.removeChild(v)}}function Kq(l,d,v,N){for(;l.nodeType===1;){var O=v;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!N&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(N){if(!l[bi])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(B=l.getAttribute("rel"),B==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(B!==O.rel||l.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||l.getAttribute("title")!==(O.title==null?null:O.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(B=l.getAttribute("src"),(B!==(O.src==null?null:O.src)||l.getAttribute("type")!==(O.type==null?null:O.type)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&B&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var B=O.name==null?null:""+O.name;if(O.type==="hidden"&&l.getAttribute("name")===B)return l}else return l;if(l=to(l.nextSibling),l===null)break}return null}function Xq(l,d,v){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!v||(l=to(l.nextSibling),l===null))return null;return l}function Bw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function Qq(l,d){var v=l.ownerDocument;if(l.data!=="$?"||v.readyState==="complete")d();else{var N=function(){d(),v.removeEventListener("DOMContentLoaded",N)};v.addEventListener("DOMContentLoaded",N),l._reactRetry=N}}function to(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var Fw=null;function mO(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var v=l.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return l;d--}else v==="/$"&&d++}l=l.previousSibling}return null}function gO(l,d,v){switch(d=hx(v),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function ig(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Pu(l)}var Ci=new Map,pO=new Set;function mx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var _l=ee.d;ee.d={f:Zq,r:Jq,D:eY,C:tY,L:nY,m:rY,X:sY,S:aY,M:iY};function Zq(){var l=_l.f(),d=sx();return l||d}function Jq(l){var d=Ys(l);d!==null&&d.tag===5&&d.type==="form"?I4(d):_l.r(l)}var If=typeof document>"u"?null:document;function xO(l,d,v){var N=If;if(N&&typeof d=="string"&&d){var O=da(d);O='link[rel="'+l+'"][href="'+O+'"]',typeof v=="string"&&(O+='[crossorigin="'+v+'"]'),pO.has(O)||(pO.add(O),l={rel:l,crossOrigin:v,href:d},N.querySelector(O)===null&&(d=N.createElement("link"),Va(d,"link",l),Mn(d),N.head.appendChild(d)))}}function eY(l){_l.D(l),xO("dns-prefetch",l,null)}function tY(l,d){_l.C(l,d),xO("preconnect",l,d)}function nY(l,d,v){_l.L(l,d,v);var N=If;if(N&&l&&d){var O='link[rel="preload"][as="'+da(d)+'"]';d==="image"&&v&&v.imageSrcSet?(O+='[imagesrcset="'+da(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(O+='[imagesizes="'+da(v.imageSizes)+'"]')):O+='[href="'+da(l)+'"]';var B=O;switch(d){case"style":B=Lf(l);break;case"script":B=Bf(l)}Ci.has(B)||(l=g({rel:"preload",href:d==="image"&&v&&v.imageSrcSet?void 0:l,as:d},v),Ci.set(B,l),N.querySelector(O)!==null||d==="style"&&N.querySelector(og(B))||d==="script"&&N.querySelector(lg(B))||(d=N.createElement("link"),Va(d,"link",l),Mn(d),N.head.appendChild(d)))}}function rY(l,d){_l.m(l,d);var v=If;if(v&&l){var N=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+da(N)+'"][href="'+da(l)+'"]',B=O;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=Bf(l)}if(!Ci.has(B)&&(l=g({rel:"modulepreload",href:l},d),Ci.set(B,l),v.querySelector(O)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(lg(B)))return}N=v.createElement("link"),Va(N,"link",l),Mn(N),v.head.appendChild(N)}}}function aY(l,d,v){_l.S(l,d,v);var N=If;if(N&&l){var O=Ki(N).hoistableStyles,B=Lf(l);d=d||"default";var K=O.get(B);if(!K){var se={loading:0,preload:null};if(K=N.querySelector(og(B)))se.loading=5;else{l=g({rel:"stylesheet",href:l,"data-precedence":d},v),(v=Ci.get(B))&&Uw(l,v);var me=K=N.createElement("link");Mn(me),Va(me,"link",l),me._p=new Promise(function(Re,qe){me.onload=Re,me.onerror=qe}),me.addEventListener("load",function(){se.loading|=1}),me.addEventListener("error",function(){se.loading|=2}),se.loading|=4,gx(K,d,N)}K={type:"stylesheet",instance:K,count:1,state:se},O.set(B,K)}}}function sY(l,d){_l.X(l,d);var v=If;if(v&&l){var N=Ki(v).hoistableScripts,O=Bf(l),B=N.get(O);B||(B=v.querySelector(lg(O)),B||(l=g({src:l,async:!0},d),(d=Ci.get(O))&&zw(l,d),B=v.createElement("script"),Mn(B),Va(B,"link",l),v.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},N.set(O,B))}}function iY(l,d){_l.M(l,d);var v=If;if(v&&l){var N=Ki(v).hoistableScripts,O=Bf(l),B=N.get(O);B||(B=v.querySelector(lg(O)),B||(l=g({src:l,async:!0,type:"module"},d),(d=Ci.get(O))&&zw(l,d),B=v.createElement("script"),Mn(B),Va(B,"link",l),v.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},N.set(O,B))}}function vO(l,d,v,N){var O=(O=ae.current)?mx(O):null;if(!O)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(d=Lf(v.href),v=Ki(O).hoistableStyles,N=v.get(d),N||(N={type:"style",instance:null,count:0,state:null},v.set(d,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){l=Lf(v.href);var B=Ki(O).hoistableStyles,K=B.get(l);if(K||(O=O.ownerDocument||O,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(l,K),(B=O.querySelector(og(l)))&&!B._p&&(K.instance=B,K.state.loading=5),Ci.has(l)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Ci.set(l,v),B||oY(O,l,v,K.state))),d&&N===null)throw Error(r(528,""));return K}if(d&&N!==null)throw Error(r(529,""));return null;case"script":return d=v.async,v=v.src,typeof v=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Bf(v),v=Ki(O).hoistableScripts,N=v.get(d),N||(N={type:"script",instance:null,count:0,state:null},v.set(d,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Lf(l){return'href="'+da(l)+'"'}function og(l){return'link[rel="stylesheet"]['+l+"]"}function yO(l){return g({},l,{"data-precedence":l.precedence,precedence:null})}function oY(l,d,v,N){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?N.loading=1:(d=l.createElement("link"),N.preload=d,d.addEventListener("load",function(){return N.loading|=1}),d.addEventListener("error",function(){return N.loading|=2}),Va(d,"link",v),Mn(d),l.head.appendChild(d))}function Bf(l){return'[src="'+da(l)+'"]'}function lg(l){return"script[async]"+l}function bO(l,d,v){if(d.count++,d.instance===null)switch(d.type){case"style":var N=l.querySelector('style[data-href~="'+da(v.href)+'"]');if(N)return d.instance=N,Mn(N),N;var O=g({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return N=(l.ownerDocument||l).createElement("style"),Mn(N),Va(N,"style",O),gx(N,v.precedence,l),d.instance=N;case"stylesheet":O=Lf(v.href);var B=l.querySelector(og(O));if(B)return d.state.loading|=4,d.instance=B,Mn(B),B;N=yO(v),(O=Ci.get(O))&&Uw(N,O),B=(l.ownerDocument||l).createElement("link"),Mn(B);var K=B;return K._p=new Promise(function(se,me){K.onload=se,K.onerror=me}),Va(B,"link",N),d.state.loading|=4,gx(B,v.precedence,l),d.instance=B;case"script":return B=Bf(v.src),(O=l.querySelector(lg(B)))?(d.instance=O,Mn(O),O):(N=v,(O=Ci.get(B))&&(N=g({},v),zw(N,O)),l=l.ownerDocument||l,O=l.createElement("script"),Mn(O),Va(O,"link",N),l.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(N=d.instance,d.state.loading|=4,gx(N,v.precedence,l));return d.instance}function gx(l,d,v){for(var N=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=N.length?N[N.length-1]:null,B=O,K=0;K<N.length;K++){var se=N[K];if(se.dataset.precedence===d)B=se;else if(B!==O)break}B?B.parentNode.insertBefore(l,B.nextSibling):(d=v.nodeType===9?v.head:v,d.insertBefore(l,d.firstChild))}function Uw(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function zw(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var px=null;function wO(l,d,v){if(px===null){var N=new Map,O=px=new Map;O.set(v,N)}else O=px,N=O.get(v),N||(N=new Map,O.set(v,N));if(N.has(l))return N;for(N.set(l,null),v=v.getElementsByTagName(l),O=0;O<v.length;O++){var B=v[O];if(!(B[bi]||B[Sr]||l==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var K=B.getAttribute(d)||"";K=l+K;var se=N.get(K);se?se.push(B):N.set(K,[B])}}return N}function jO(l,d,v){l=l.ownerDocument||l,l.head.insertBefore(v,d==="title"?l.querySelector("head > title"):null)}function lY(l,d,v){if(v===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function NO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var cg=null;function cY(){}function uY(l,d,v){if(cg===null)throw Error(r(475));var N=cg;if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var O=Lf(v.href),B=l.querySelector(og(O));if(B){l=B._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(N.count++,N=xx.bind(N),l.then(N,N)),d.state.loading|=4,d.instance=B,Mn(B);return}B=l.ownerDocument||l,v=yO(v),(O=Ci.get(O))&&Uw(v,O),B=B.createElement("link"),Mn(B);var K=B;K._p=new Promise(function(se,me){K.onload=se,K.onerror=me}),Va(B,"link",v),d.instance=B}N.stylesheets===null&&(N.stylesheets=new Map),N.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(N.count++,d=xx.bind(N),l.addEventListener("load",d),l.addEventListener("error",d))}}function dY(){if(cg===null)throw Error(r(475));var l=cg;return l.stylesheets&&l.count===0&&Vw(l,l.stylesheets),0<l.count?function(d){var v=setTimeout(function(){if(l.stylesheets&&Vw(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(v)}}:null}function xx(){if(this.count--,this.count===0){if(this.stylesheets)Vw(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var vx=null;function Vw(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,vx=new Map,d.forEach(fY,l),vx=null,xx.call(l))}function fY(l,d){if(!(d.state.loading&4)){var v=vx.get(l);if(v)var N=v.get(null);else{v=new Map,vx.set(l,v);for(var O=l.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<O.length;B++){var K=O[B];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(v.set(K.dataset.precedence,K),N=K)}N&&v.set(null,N)}O=d.instance,K=O.getAttribute("data-precedence"),B=v.get(K)||N,B===N&&v.set(null,O),v.set(K,O),this.count++,N=xx.bind(this),O.addEventListener("load",N),O.addEventListener("error",N),B?B.parentNode.insertBefore(O,B.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(O,l.firstChild)),d.state.loading|=4}}var ug={$$typeof:R,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function hY(l,d,v,N,O,B,K,se){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=N,this.onUncaughtError=O,this.onCaughtError=B,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function SO(l,d,v,N,O,B,K,se,me,Re,qe,We){return l=new hY(l,d,v,K,se,me,Re,We),d=1,B===!0&&(d|=24),B=Ks(3,null,null,d),l.current=B,B.stateNode=l,d=Nb(),d.refCount++,l.pooledCache=d,d.refCount++,B.memoizedState={element:N,isDehydrated:v,cache:d},Eb(B),l}function _O(l){return l?(l=gf,l):gf}function AO(l,d,v,N,O,B){O=_O(O),N.context===null?N.context=O:N.pendingContext=O,N=wc(d),N.payload={element:v},B=B===void 0?null:B,B!==null&&(N.callback=B),v=jc(l,N,d),v!==null&&(ei(v,l,d),Um(v,l,d))}function EO(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<d?v:d}}function $w(l,d){EO(l,d),(l=l.alternate)&&EO(l,d)}function CO(l){if(l.tag===13){var d=mf(l,67108864);d!==null&&ei(d,l,67108864),$w(l,67108864)}}var yx=!0;function mY(l,d,v,N){var O=H.T;H.T=null;var B=ee.p;try{ee.p=2,Hw(l,d,v,N)}finally{ee.p=B,H.T=O}}function gY(l,d,v,N){var O=H.T;H.T=null;var B=ee.p;try{ee.p=8,Hw(l,d,v,N)}finally{ee.p=B,H.T=O}}function Hw(l,d,v,N){if(yx){var O=qw(N);if(O===null)Mw(l,d,N,bx,v),OO(l,N);else if(xY(O,l,d,v,N))N.stopPropagation();else if(OO(l,N),d&4&&-1<pY.indexOf(l)){for(;O!==null;){var B=Ys(O);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var K=wn(B.pendingLanes);if(K!==0){var se=B;for(se.pendingLanes|=2,se.entangledLanes|=2;K;){var me=1<<31-sn(K);se.entanglements[1]|=me,K&=~me}Io(B),(Rn&6)===0&&(rx=et()+500,rg(0))}}break;case 13:se=mf(B,2),se!==null&&ei(se,B,2),sx(),$w(B,2)}if(B=qw(N),B===null&&Mw(l,d,N,bx,v),B===O)break;O=B}O!==null&&N.stopPropagation()}else Mw(l,d,N,null,v)}}function qw(l){return l=lc(l),Yw(l)}var bx=null;function Yw(l){if(bx=null,l=zr(l),l!==null){var d=i(l);if(d===null)l=null;else{var v=d.tag;if(v===13){if(l=o(d),l!==null)return l;l=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return bx=l,null}function TO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case it:return 2;case wr:return 8;case ct:case bn:return 32;case ea:return 268435456;default:return 32}default:return 32}}var Ww=!1,kc=null,Ic=null,Lc=null,dg=new Map,fg=new Map,Bc=[],pY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OO(l,d){switch(l){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":Ic=null;break;case"mouseover":case"mouseout":Lc=null;break;case"pointerover":case"pointerout":dg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":fg.delete(d.pointerId)}}function hg(l,d,v,N,O,B){return l===null||l.nativeEvent!==B?(l={blockedOn:d,domEventName:v,eventSystemFlags:N,nativeEvent:B,targetContainers:[O]},d!==null&&(d=Ys(d),d!==null&&CO(d)),l):(l.eventSystemFlags|=N,d=l.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),l)}function xY(l,d,v,N,O){switch(d){case"focusin":return kc=hg(kc,l,d,v,N,O),!0;case"dragenter":return Ic=hg(Ic,l,d,v,N,O),!0;case"mouseover":return Lc=hg(Lc,l,d,v,N,O),!0;case"pointerover":var B=O.pointerId;return dg.set(B,hg(dg.get(B)||null,l,d,v,N,O)),!0;case"gotpointercapture":return B=O.pointerId,fg.set(B,hg(fg.get(B)||null,l,d,v,N,O)),!0}return!1}function MO(l){var d=zr(l.target);if(d!==null){var v=i(d);if(v!==null){if(d=v.tag,d===13){if(d=o(v),d!==null){l.blockedOn=d,lr(l.priority,function(){if(v.tag===13){var N=Js();N=or(N);var O=mf(v,N);O!==null&&ei(O,v,N),$w(v,N)}});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){l.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}l.blockedOn=null}function wx(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var v=qw(l.nativeEvent);if(v===null){v=l.nativeEvent;var N=new v.constructor(v.type,v);Ru=N,v.target.dispatchEvent(N),Ru=null}else return d=Ys(v),d!==null&&CO(d),l.blockedOn=v,!1;d.shift()}return!0}function DO(l,d,v){wx(l)&&v.delete(d)}function vY(){Ww=!1,kc!==null&&wx(kc)&&(kc=null),Ic!==null&&wx(Ic)&&(Ic=null),Lc!==null&&wx(Lc)&&(Lc=null),dg.forEach(DO),fg.forEach(DO)}function jx(l,d){l.blockedOn===d&&(l.blockedOn=null,Ww||(Ww=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vY)))}var Nx=null;function PO(l){Nx!==l&&(Nx=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Nx===l&&(Nx=null);for(var d=0;d<l.length;d+=3){var v=l[d],N=l[d+1],O=l[d+2];if(typeof N!="function"){if(Yw(N||v)===null)continue;break}var B=Ys(v);B!==null&&(l.splice(d,3),d-=3,Yb(B,{pending:!0,data:O,method:v.method,action:N},N,O))}}))}function mg(l){function d(me){return jx(me,l)}kc!==null&&jx(kc,l),Ic!==null&&jx(Ic,l),Lc!==null&&jx(Lc,l),dg.forEach(d),fg.forEach(d);for(var v=0;v<Bc.length;v++){var N=Bc[v];N.blockedOn===l&&(N.blockedOn=null)}for(;0<Bc.length&&(v=Bc[0],v.blockedOn===null);)MO(v),v.blockedOn===null&&Bc.shift();if(v=(l.ownerDocument||l).$$reactFormReplay,v!=null)for(N=0;N<v.length;N+=3){var O=v[N],B=v[N+1],K=O[mn]||null;if(typeof B=="function")K||PO(v);else if(K){var se=null;if(B&&B.hasAttribute("formAction")){if(O=B,K=B[mn]||null)se=K.formAction;else if(Yw(O)!==null)continue}else se=K.action;typeof se=="function"?v[N+1]=se:(v.splice(N,3),N-=3),PO(v)}}}function Gw(l){this._internalRoot=l}Sx.prototype.render=Gw.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var v=d.current,N=Js();AO(v,N,l,d,null,null)},Sx.prototype.unmount=Gw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;AO(l.current,2,null,l,null,null),sx(),d[Dr]=null}};function Sx(l){this._internalRoot=l}Sx.prototype.unstable_scheduleHydration=function(l){if(l){var d=Ms();l={blockedOn:null,target:l,priority:d};for(var v=0;v<Bc.length&&d!==0&&d<Bc[v].priority;v++);Bc.splice(v,0,l),v===0&&MO(l)}};var RO=t.version;if(RO!=="19.1.0")throw Error(r(527,RO,"19.1.0"));ee.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=m(d),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var yY={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_x.isDisabled&&_x.supportsFiber)try{An=_x.inject(yY),Qn=_x}catch{}}return pg.createRoot=function(l,d){if(!s(l))throw Error(r(299));var v=!1,N="",O=X4,B=Q4,K=Z4,se=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(N=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(B=d.onCaughtError),d.onRecoverableError!==void 0&&(K=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(se=d.unstable_transitionCallbacks)),d=SO(l,1,!1,null,null,v,N,O,B,K,se,null),l[Dr]=d.current,Ow(l),new Gw(d)},pg.hydrateRoot=function(l,d,v){if(!s(l))throw Error(r(299));var N=!1,O="",B=X4,K=Q4,se=Z4,me=null,Re=null;return v!=null&&(v.unstable_strictMode===!0&&(N=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onUncaughtError!==void 0&&(B=v.onUncaughtError),v.onCaughtError!==void 0&&(K=v.onCaughtError),v.onRecoverableError!==void 0&&(se=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(me=v.unstable_transitionCallbacks),v.formState!==void 0&&(Re=v.formState)),d=SO(l,1,!0,d,v??null,N,O,B,K,se,me,Re),d.context=_O(null),v=d.current,N=Js(),N=or(N),O=wc(N),O.callback=null,jc(v,O,N),v=N,d.current.lanes=v,Ka(d,v),Io(d),l[Dr]=d.current,Ow(l),new Sx(d)},pg.version="19.1.0",pg}var HO;function MY(){if(HO)return Zw.exports;HO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zw.exports=OY(),Zw.exports}var DY=MY();const PY=Cs(DY),RY="modulepreload",kY=function(e){return"/"+e},qO={},Td=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=o(n.map(f=>{if(f=kY(f),f in qO)return;qO[f]=!0;const g=f.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const j=document.createElement("link");if(j.rel=g?"stylesheet":RY,g||(j.as="script"),j.crossOrigin="",j.href=f,m&&j.setAttribute("nonce",m),document.head.appendChild(j),g)return new Promise((_,C)=>{j.addEventListener("load",_),j.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},IY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Td(async()=>{const{default:r}=await Promise.resolve().then(()=>Kh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class X_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class LY extends X_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class YO extends X_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class WO extends X_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var YN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(YN||(YN={}));var BY=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class FY{constructor(t,{headers:n={},customFetch:r,region:s=YN.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=IY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return BY(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let u={},{region:m}=n;m||(m=this.region);const f=new URL(`${this.url}/${t}`);m&&m!=="any"&&(u["x-region"]=m,f.searchParams.set("forceFunctionRegion",m));let g;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=o):typeof o=="string"?(u["Content-Type"]="text/plain",g=o):typeof FormData<"u"&&o instanceof FormData?g=o:(u["Content-Type"]="application/json",g=JSON.stringify(o)));const x=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:g}).catch(E=>{throw new LY(E)}),j=x.headers.get("x-relay-error");if(j&&j==="true")throw new YO(x);if(!x.ok)throw new WO(x);let _=((r=x.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield x.json():_==="application/octet-stream"?C=yield x.blob():_==="text/event-stream"?C=x:_==="multipart/form-data"?C=yield x.formData():C=yield x.text(),{data:C,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof WO||s instanceof YO?s.context:void 0}}})}}var Ta={},Ff={},Uf={},zf={},Vf={},$f={},UY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ah=UY();const zY=Ah.fetch,C6=Ah.fetch.bind(Ah),T6=Ah.Headers,VY=Ah.Request,$Y=Ah.Response,Kh=Object.freeze(Object.defineProperty({__proto__:null,Headers:T6,Request:VY,Response:$Y,default:C6,fetch:zY},Symbol.toStringTag,{value:"Module"})),HY=NY(Kh);var Ex={},GO;function O6(){if(GO)return Ex;GO=1,Object.defineProperty(Ex,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ex.default=e,Ex}var KO;function M6(){if(KO)return $f;KO=1;var e=$f&&$f.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty($f,"__esModule",{value:!0});const t=e(HY),n=e(O6());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let m=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,x,j;let _=null,C=null,E=null,A=f.status,M=f.statusText;if(f.ok){if(this.method!=="HEAD"){const k=await f.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=k:C=JSON.parse(k))}const R=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),U=(x=f.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");R&&U&&U.length>1&&(E=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(_={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,E=null,A=406,M="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const R=await f.text();try{_=JSON.parse(R),Array.isArray(_)&&f.status===404&&(C=[],_=null,A=200,M="OK")}catch{f.status===404&&R===""?(A=204,M="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((j=_==null?void 0:_.details)===null||j===void 0)&&j.includes("0 rows"))&&(_=null,A=200,M="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:C,count:E,status:A,statusText:M}});return this.shouldThrowOnError||(m=m.catch(f=>{var g,x,j;return{error:{message:`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(x=f==null?void 0:f.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(j=f==null?void 0:f.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),m.then(i,o)}returns(){return this}overrideTypes(){return this}}return $f.default=r,$f}var XO;function D6(){if(XO)return Vf;XO=1;var e=Vf&&Vf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vf,"__esModule",{value:!0});const t=e(M6());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:u,referencedTable:m=u}={}){const f=m?`${m}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:u=o}={}){const m=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(m,`${s}`),this.url.searchParams.set(f,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:u=!1,wal:m=!1,format:f="text"}={}){var g;const x=[s?"analyze":null,i?"verbose":null,o?"settings":null,u?"buffers":null,m?"wal":null].filter(Boolean).join("|"),j=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${j}"; options=${x};`,f==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Vf.default=n,Vf}var QO;function Q_(){if(QO)return zf;QO=1;var e=zf&&zf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zf,"__esModule",{value:!0});const t=e(D6());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:u}={}){let m="";u==="plain"?m="pl":u==="phrase"?m="ph":u==="websearch"&&(m="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${m}fts${f}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return zf.default=n,zf}var ZO;function P6(){if(ZO)return Uf;ZO=1;var e=Uf&&Uf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uf,"__esModule",{value:!0});const t=e(Q_());class n{constructor(s,{headers:i={},schema:o,fetch:u}){this.url=s,this.headers=i,this.schema=o,this.fetch=u}select(s,{head:i=!1,count:o}={}){const u=i?"HEAD":"GET";let m=!1;const f=(s??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",f),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const u="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),i&&m.push(`count=${i}`),o||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(s)){const f=s.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(f.length>0){const g=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:u,defaultToNull:m=!0}={}){const f="POST",g=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),m||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(s)){const x=s.reduce((j,_)=>j.concat(Object.keys(_)),[]);if(x.length>0){const j=[...new Set(x)].map(_=>`"${_}"`);this.url.searchParams.set("columns",j.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Uf.default=n,Uf}var xg={},vg={},JO;function qY(){return JO||(JO=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.version=void 0,vg.version="0.0.0-automated"),vg}var eM;function YY(){if(eM)return xg;eM=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.DEFAULT_HEADERS=void 0;const e=qY();return xg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},xg}var tM;function WY(){if(tM)return Ff;tM=1;var e=Ff&&Ff.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ff,"__esModule",{value:!0});const t=e(P6()),n=e(Q_()),r=YY();class s{constructor(o,{headers:u={},schema:m,fetch:f}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=m,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:m=!1,get:f=!1,count:g}={}){let x;const j=new URL(`${this.url}/rpc/${o}`);let _;m||f?(x=m?"HEAD":"GET",Object.entries(u).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{j.searchParams.append(E,A)})):(x="POST",_=u);const C=Object.assign({},this.headers);return g&&(C.Prefer=`count=${g}`),new n.default({method:x,url:j,headers:C,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Ff.default=s,Ff}var nM;function GY(){if(nM)return Ta;nM=1;var e=Ta&&Ta.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.PostgrestError=Ta.PostgrestBuilder=Ta.PostgrestTransformBuilder=Ta.PostgrestFilterBuilder=Ta.PostgrestQueryBuilder=Ta.PostgrestClient=void 0;const t=e(WY());Ta.PostgrestClient=t.default;const n=e(P6());Ta.PostgrestQueryBuilder=n.default;const r=e(Q_());Ta.PostgrestFilterBuilder=r.default;const s=e(D6());Ta.PostgrestTransformBuilder=s.default;const i=e(M6());Ta.PostgrestBuilder=i.default;const o=e(O6());return Ta.PostgrestError=o.default,Ta.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ta}var KY=GY();const XY=Cs(KY),{PostgrestClient:QY,PostgrestQueryBuilder:n4e,PostgrestFilterBuilder:r4e,PostgrestTransformBuilder:a4e,PostgrestBuilder:s4e,PostgrestError:i4e}=XY;function ZY(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const JY=ZY(),eW="2.11.15",tW=`realtime-js/${eW}`,nW="1.0.0",R6=1e4,rW=1e3;var $g;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($g||($g={}));var rs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rs||(rs={}));var io;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(io||(io={}));var WN;(function(e){e.websocket="websocket"})(WN||(WN={}));var fd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fd||(fd={}));class aW{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(t.slice(o,o+s));o=o+s;const m=r.decode(t.slice(o,o+i));o=o+i;const f=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:m,payload:f}}}let k6=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var er;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(er||(er={}));const rM=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=sW(o,e,t,s),i),{})},sW=(e,t,n,r)=>{const s=t.find(u=>u.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?I6(i,o):GN(o)},I6=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return cW(t,n)}switch(e){case er.bool:return iW(t);case er.float4:case er.float8:case er.int2:case er.int4:case er.int8:case er.numeric:case er.oid:return oW(t);case er.json:case er.jsonb:return lW(t);case er.timestamp:return uW(t);case er.abstime:case er.date:case er.daterange:case er.int4range:case er.int8range:case er.money:case er.reltime:case er.text:case er.time:case er.timestamptz:case er.timetz:case er.tsrange:case er.tstzrange:return GN(t);default:return GN(t)}},GN=e=>e,iW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cW=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(u=>I6(t,u))}return e},uW=e=>typeof e=="string"?e.replace(" ","T"):e,L6=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class n2{constructor(t,n,r={},s=R6){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var aM;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(aM||(aM={}));class Hg{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hg.syncState(this.state,s,i,o),this.pendingDiffs.forEach(m=>{this.state=Hg.syncDiff(this.state,m,i,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hg.syncDiff(this.state,s,i,o),u())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),u={},m={};return this.map(i,(f,g)=>{o[f]||(m[f]=g)}),this.map(o,(f,g)=>{const x=i[f];if(x){const j=g.map(A=>A.presence_ref),_=x.map(A=>A.presence_ref),C=g.filter(A=>_.indexOf(A.presence_ref)<0),E=x.filter(A=>j.indexOf(A.presence_ref)<0);C.length>0&&(u[f]=C),E.length>0&&(m[f]=E)}else u[f]=g}),this.syncDiff(i,{joins:u,leaves:m},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(u,m)=>{var f;const g=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(m),g.length>0){const x=t[u].map(_=>_.presence_ref),j=g.filter(_=>x.indexOf(_.presence_ref)<0);t[u].unshift(...j)}r(u,g,m)}),this.map(o,(u,m)=>{let f=t[u];if(!f)return;const g=m.map(x=>x.presence_ref);f=f.filter(x=>g.indexOf(x.presence_ref)<0),t[u]=f,s(u,f,m),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sM;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sM||(sM={}));var iM;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(iM||(iM={}));var Tl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Tl||(Tl={}));class Z_{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new n2(this,io.join,this.params,this.timeout),this.rejoinTimer=new k6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rs.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(io.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hg(this),this.broadcastEndpointURL=L6(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rs.closed){const{config:{broadcast:i,presence:o,private:u}}=this.params;this._onError(g=>t==null?void 0:t(Tl.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Tl.CLOSED));const m={},f={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(Tl.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,_=(x=j==null?void 0:j.length)!==null&&x!==void 0?x:0,C=[];for(let E=0;E<_;E++){const A=j[E],{filter:{event:M,schema:D,table:R,filter:U}}=A,k=g&&g[E];if(k&&k.event===M&&k.schema===D&&k.table===R&&k.filter===U)C.push(Object.assign(Object.assign({},A),{id:k.id}));else{this.unsubscribe(),this.state=rs.errored,t==null||t(Tl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Tl.SUBSCRIBED);return}}).receive("error",g=>{this.state=rs.errored,t==null||t(Tl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Tl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,u,m;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||m===void 0)&&m.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rs.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(io.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new n2(this,io.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new n2(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:u,error:m,leave:f,join:g}=io;if(r&&[u,m,f,g].indexOf(o)>=0&&r!==this._joinRef())return;let j=this._onMessage(o,n,r);if(n&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var C,E,A;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((A=(E=_.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(_=>_.callback(j,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var C,E,A,M,D,R;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const U=_.id,k=(C=_.filter)===null||C===void 0?void 0:C.event;return U&&((E=n.ids)===null||E===void 0?void 0:E.includes(U))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const U=(D=(M=_==null?void 0:_.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return U==="*"||U===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof j=="object"&&"ids"in j){const C=j.data,{schema:E,table:A,commit_timestamp:M,type:D,errors:R}=C;j=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:M,eventType:D,new:{},old:{},errors:R}),this._getPayloadRecords(C))}_.callback(j,r)})}_isClosed(){return this.state===rs.closed}_isJoined(){return this.state===rs.joined}_isJoining(){return this.state===rs.joining}_isLeaving(){return this.state===rs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Z_.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(io.close,{},t)}_onError(t){this._on(io.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=rM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=rM(t.columns,t.old_record)),n}}const oM=()=>{},dW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fW{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=R6,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oM,this.ref=0,this.logger=oM,this.conn=null,this.sendBuffer=[],this.serializer=new aW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...u)=>Td(async()=>{const{default:m}=await Promise.resolve().then(()=>Kh);return{default:m}},void 0).then(({default:m})=>m(...u)):o=fetch,(...u)=>o(...u)},this.endPoint=`${t}/${WN.websocket}`,this.httpEndpoint=L6(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new k6(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=JY),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nW}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $g.connecting:return fd.Connecting;case $g.open:return fd.Open;case $g.closing:return fd.Closing;default:return fd.Closed}}isConnected(){return this.connectionState()===fd.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Z_(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,u=>{var m;(m=this.conn)===null||m===void 0||m.send(u)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:tW};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(io.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(rW,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(io.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([dW],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class J_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hW extends J_{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KN extends J_{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var mW=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const B6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Td(async()=>{const{default:r}=await Promise.resolve().then(()=>Kh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},gW=()=>mW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Td(()=>Promise.resolve().then(()=>Kh),void 0)).Response:Response}),XN=e=>{if(Array.isArray(e))return e.map(n=>XN(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=XN(r)}),t},pW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Vd=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const r2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xW=(e,t,n)=>Vd(void 0,void 0,void 0,function*(){const r=yield gW();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new hW(r2(s),i,o))}).catch(s=>{t(new KN(r2(s),s))}):t(new KN(r2(e),e))}),vW=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(pW(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Dp(e,t,n,r,s,i){return Vd(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(n,vW(t,r,s,i)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>o(m)).catch(m=>xW(m,u,r))})})}function Nv(e,t,n,r){return Vd(this,void 0,void 0,function*(){return Dp(e,"GET",t,n,r)})}function Ol(e,t,n,r,s){return Vd(this,void 0,void 0,function*(){return Dp(e,"POST",t,r,s,n)})}function QN(e,t,n,r,s){return Vd(this,void 0,void 0,function*(){return Dp(e,"PUT",t,r,s,n)})}function yW(e,t,n,r){return Vd(this,void 0,void 0,function*(){return Dp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function F6(e,t,n,r,s){return Vd(this,void 0,void 0,function*(){return Dp(e,"DELETE",t,r,s,n)})}var Ls=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const bW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wW{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=B6(s)}uploadOrUpdate(t,n,r,s){return Ls(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lM),s);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const m=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),m&&i.append("metadata",this.encodeMetadata(m)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),m&&i.append("metadata",this.encodeMetadata(m))):(i=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,m&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(n),g=this._getFinalPath(f),x=yield(t=="PUT"?QN:Ol)(this.fetch,`${this.url}/object/${g}`,i,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:x.Id,fullPath:x.Key},error:null}}catch(i){if(Oa(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ls(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ls(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let m;const f=Object.assign({upsert:lM.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",f.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",f.cacheControl)):(m=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const x=yield QN(this.fetch,u.toString(),m,{headers:g});return{data:{path:i,fullPath:x.Key},error:null}}catch(m){if(Oa(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Ls(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ol(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),u=o.searchParams.get("token");if(!u)throw new J_("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ls(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ls(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Oa(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ls(this,void 0,void 0,function*(){try{return{data:{path:(yield Ol(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Oa(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ls(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ol(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Oa(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ls(this,void 0,void 0,function*(){try{const s=yield Ol(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Oa(s))return{data:null,error:s};throw s}})}download(t,n){return Ls(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield Nv(this.fetch,`${this.url}/${s}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Oa(u))return{data:null,error:u};throw u}})}info(t){return Ls(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Nv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:XN(r),error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}})}exists(t){return Ls(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield yW(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Oa(r)&&r instanceof KN){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&s.push(m);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Ls(this,void 0,void 0,function*(){try{return{data:yield F6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ls(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bW),n),{prefix:t||""});return{data:yield Ol(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Oa(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const jW="2.10.4",NW={"X-Client-Info":`storage-js/${jW}`};var Hf=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class SW{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},NW),n),this.fetch=B6(r)}listBuckets(){return Hf(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oa(t))return{data:null,error:t};throw t}})}getBucket(t){return Hf(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Hf(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Hf(this,void 0,void 0,function*(){try{return{data:yield QN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Hf(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Hf(this,void 0,void 0,function*(){try{return{data:yield F6(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}}class _W extends SW{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new wW(this.url,this.headers,t,this.fetch)}}const AW="2.53.0";let kg="";typeof Deno<"u"?kg="deno":typeof document<"u"?kg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kg="react-native":kg="node";const EW={"X-Client-Info":`supabase-js-${kg}/${AW}`},CW={headers:EW},TW={schema:"public"},OW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MW={};var DW=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const PW=e=>{let t;return e?t=e:typeof fetch>"u"?t=C6:t=fetch,(...n)=>t(...n)},RW=()=>typeof Headers>"u"?T6:Headers,kW=(e,t,n)=>{const r=PW(n),s=RW();return(i,o)=>DW(void 0,void 0,void 0,function*(){var u;const m=(u=yield t())!==null&&u!==void 0?u:e;let f=new s(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${m}`),r(i,Object.assign(Object.assign({},o),{headers:f}))})};var IW=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};function LW(e){return e.endsWith("/")?e:e+"/"}function BW(e,t){var n,r;const{db:s,auth:i,realtime:o,global:u}=e,{db:m,auth:f,realtime:g,global:x}=t,j={db:Object.assign(Object.assign({},m),s),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},g),o),storage:{},global:Object.assign(Object.assign(Object.assign({},x),u),{headers:Object.assign(Object.assign({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>IW(this,void 0,void 0,function*(){return""})};return e.accessToken?j.accessToken=e.accessToken:delete j.accessToken,j}const U6="2.71.1",sh=30*1e3,ZN=3,a2=ZN*sh,FW="http://localhost:9999",UW="supabase.auth.token",zW={"X-Client-Info":`gotrue-js/${U6}`},JN="X-Supabase-Api-Version",z6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$W=10*60*1e3;class eA extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function qt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HW extends eA{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qW(e){return qt(e)&&e.name==="AuthApiError"}class V6 extends eA{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class bu extends eA{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Gc extends bu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YW(e){return qt(e)&&e.name==="AuthSessionMissingError"}class Cx extends bu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tx extends bu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ox extends bu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WW(e){return qt(e)&&e.name==="AuthImplicitGrantRedirectError"}class cM extends bu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eS extends bu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function s2(e){return qt(e)&&e.name==="AuthRetryableFetchError"}class uM extends bu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tS extends bu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dM=` 	
\r=`.split(""),GW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dM.length;t+=1)e[dM[t].charCodeAt(0)]=-2;for(let t=0;t<Sv.length;t+=1)e[Sv[t].charCodeAt(0)]=t;return e})();function fM(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Sv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Sv[r]),t.queuedBits-=6}}function $6(e,t,n){const r=GW[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hM(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{QW(o,r,n)};for(let o=0;o<e.length;o+=1)$6(e.charCodeAt(o),s,i);return t.join("")}function KW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XW(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}KW(r,t)}}function QW(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ZW(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)$6(e.charCodeAt(s),n,r);return new Uint8Array(t)}function JW(e){const t=[];return XW(e,n=>t.push(n)),new Uint8Array(t)}function eG(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>fM(s,n,r)),fM(null,n,r),t.join("")}function tG(e){return Math.round(Date.now()/1e3)+e}function nG(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ro=()=>typeof window<"u"&&typeof document<"u",nd={tested:!1,writable:!1},H6=()=>{if(!ro())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nd.tested)return nd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nd.tested=!0,nd.writable=!0}catch{nd.tested=!0,nd.writable=!1}return nd.writable};function rG(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const q6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Td(async()=>{const{default:r}=await Promise.resolve().then(()=>Kh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},aG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ih=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rd=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Uc=async(e,t)=>{await e.removeItem(t)};class Ry{constructor(){this.promise=new Ry.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ry.promiseConstructor=Promise;function i2(e){const t=e.split(".");if(t.length!==3)throw new tS("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!VW.test(t[r]))throw new tS("JWT not in base64url format");return{header:JSON.parse(hM(t[0])),payload:JSON.parse(hM(t[1])),signature:ZW(t[2]),raw:{header:t[0],payload:t[1]}}}async function sG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iG(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function oG(e){return("0"+e.toString(16)).substr(-2)}function lG(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,oG).join("")}async function cG(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function uG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cG(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qf(e,t,n=!1){const r=lG();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ih(e,`${t}-code-verifier`,s);const i=await uG(r);return[i,r===i?"plain":"s256"]}const dG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fG(e){const t=e.headers.get(JN);if(!t||!t.match(dG))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yf(e){if(!gG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function o2(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mM(e){return JSON.parse(JSON.stringify(e))}var pG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const id=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xG=[502,503,504];async function gM(e){var t;if(!aG(e))throw new eS(id(e),0);if(xG.includes(e.status))throw new eS(id(e),e.status);let n;try{n=await e.json()}catch(i){throw new V6(id(i),i)}let r;const s=fG(e);if(s&&s.getTime()>=z6["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uM(id(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gc}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uM(id(n),e.status,n.weak_password.reasons);throw new HW(id(n),e.status||500,r)}const vG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function an(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[JN]||(i[JN]=z6["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",m=await yG(e,t,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function yG(e,t,n,r,s,i){const o=vG(t,r,s,i);let u;try{u=await e(n,Object.assign({},o))}catch(m){throw console.error(m),new eS(id(m),0)}if(u.ok||await gM(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(m){await gM(m)}}function El(e){var t;let n=null;NG(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tG(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function pM(e){const t=El(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bG(e){return{data:e,error:null}}function wG(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=pG(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},m=Object.assign({},o);return{data:{properties:u,user:m},error:null}}function jG(e){return e}function NG(e){return e.access_token&&e.refresh_token&&e.expires_in}const l2=["global","local","others"];var SG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class _G{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=q6(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=l2[0]){if(l2.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${l2.join(", ")}`);try{return await an(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await an(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zc})}catch(r){if(qt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=SG(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await an(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:wG,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(qt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await an(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zc})}catch(n){if(qt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,u,m;try{const f={nextPage:null,lastPage:0,total:0},g=await an(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jG});if(g.error)throw g.error;const x=await g.json(),j=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(m=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(C.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(j)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(qt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Yf(t);try{return await an(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zc})}catch(n){if(qt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Yf(t);try{return await an(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Zc})}catch(r){if(qt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Yf(t);try{return await an(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zc})}catch(r){if(qt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Yf(t.userId);try{const{data:n,error:r}=await an(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Yf(t.userId),Yf(t.id);try{return{data:await an(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}}}function xM(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function AG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wf={debug:!!(globalThis&&H6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Y6 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class EG extends Y6{}async function CG(e,t,n){Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Wf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new EG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wf.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}AG();const TG={url:FW,storageKey:UW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vM(e,t,n){return await n()}const Gf={};class Jg{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jg.nextInstanceID,Jg.nextInstanceID+=1,this.instanceID>0&&ro()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},TG),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _G({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=q6(s.fetch),this.lock=s.lock||vM,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ro()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=CG:this.lock=vM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:H6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xM(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=xM(this.memoryStorage)),ro()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Gf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Gf[this.storageKey]=Object.assign(Object.assign({},Gf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Gf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gf[this.storageKey]=Object.assign(Object.assign({},Gf[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${U6}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=rG(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ro()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),WW(i)){const m=(t=i.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return qt(n)?{error:n}:{error:new V6("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:El}),{data:o,error:u}=i;if(u||!o)return{data:{user:null,session:null},error:u};const m=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(i){if(qt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:g,password:x,options:j}=t;let _=null,C=null;this.flowType==="pkce"&&([_,C]=await qf(this.storage,this.storageKey)),i=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:g,password:x,data:(n=j==null?void 0:j.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:_,code_challenge_method:C},xform:El})}else if("phone"in t){const{phone:g,password:x,options:j}=t;i=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},channel:(s=j==null?void 0:j.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:El})}else throw new Tx("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u||!o)return{data:{user:null,session:null},error:u};const m=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(i){if(qt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:u}=t;n=await an(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:pM})}else if("phone"in t){const{phone:i,password:o,options:u}=t;n=await an(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:pM})}else throw new Tx("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Cx}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,u,m,f,g,x,j,_;let C,E;if("message"in t)C=t.message,E=t.signature;else{const{chain:A,wallet:M,statement:D,options:R}=t;let U;if(ro())if(typeof M=="object")U=M;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))U=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=M}const k=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const I=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),D?{statement:D}:null));let F;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")F=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)F=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)C=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),E=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${k.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=R==null?void 0:R.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(g=R==null?void 0:R.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const I=await U.signMessage(new TextEncoder().encode(C),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=I}}try{const{data:A,error:M}=await an(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:eG(E)},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:El});if(M)throw M;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Cx}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:M})}catch(A){if(qt(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(t){const n=await rd(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await an(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:El});if(await Uc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cx}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(qt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,u=await an(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:El}),{data:m,error:f}=u;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Cx}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:f})}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:u,options:m}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await qf(this.storage,this.storageKey));const{error:x}=await an(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:u,options:m}=t,{data:f,error:g}=await an(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new Tx("You must provide either an email or phone number.")}catch(u){if(qt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await an(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:El});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const m=o.session,f=o.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(s){if(qt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qf(this.storage,this.storageKey)),await an(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:bG})}catch(i){if(qt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Gc;const{error:s}=await an(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await an(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:u}=await an(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new Tx("You must provide either an email or phone number and a type")}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await rd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<a2:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await rd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=o2()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,f,g)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,f,g))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await an(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zc}):await this._useSession(async n=>{var r,s,i;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gc}:await an(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zc})})}catch(n){if(qt(n))return YW(n)&&(await this._removeSession(),await Uc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Gc;const o=s.session;let u=null,m=null;this.flowType==="pkce"&&t.email!=null&&([u,m]=await qf(this.storage,this.storageKey));const{data:f,error:g}=await an(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:m}),jwt:o.access_token,xform:Zc});if(g)throw g;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(qt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gc;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=i2(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:u,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:m}=await this._getUser(t.access_token);if(m)throw m;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(qt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:u}=n;if(u)throw u;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Gc;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ro())throw new Ox("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ox(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ox("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cM("No code detected.");const{data:D,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:u,expires_at:m,token_type:f}=t;if(!i||!u||!o||!f)throw new Ox("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(u);let j=g+x;m&&(j=parseInt(m));const _=j-g;_*1e3<=sh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${x}s`);const C=j-x;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,j,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,j,g);const{data:E,error:A}=await this._getUser(i);if(A)throw A;const M={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:x,expires_at:j,refresh_token:o,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:t.type},error:null}}catch(r){if(qt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await rd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(qW(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Uc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=nG(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await qf(this.storage,this.storageKey,!0));try{return await an(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(qt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,u,m,f,g;const{data:x,error:j}=i;if(j)throw j;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await an(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return ro()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(qt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await an(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await iG(async s=>(s>0&&await sG(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await an(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:El})),(s,i)=>{const o=200*Math.pow(2,s);return i&&s2(i)&&Date.now()+o-r<sh})}catch(r){if(this._debug(n,"error",r),qt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ro()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await rd(this.storage,this.storageKey);if(s&&this.userStorage){let o=await rd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ih(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:o2()}else if(s&&!s.user&&!s.user){const o=await rd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Uc(this.storage,this.storageKey+"-user"),await ih(this.storage,this.storageKey,s)):s.user=o2()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<a2;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${a2}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),s2(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(s.access_token);!u&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Gc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ry;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Gc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(s,"error",i),qt(i)){const o={session:null,error:i};return s2(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(m){i.push(m)}});if(await Promise.all(o),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ih(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=mM(s);await ih(this.storage,this.storageKey,i)}else{const s=mM(n);await ih(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Uc(this.storage,this.storageKey),await Uc(this.storage,this.storageKey+"-code-verifier"),await Uc(this.storage,this.storageKey+"-user"),this.userStorage&&await Uc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ro()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/sh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sh}ms, refresh threshold is ${ZN} ticks`),s<=ZN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Y6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ro()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await qf(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await an(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:f}=await an(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((s=m==null?void 0:m.totp)===null||s===void 0)&&s.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:u}=await an(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(n){if(qt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await an(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=i2(s.access_token);let u=null;o.aal&&(u=o.aal);let m=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const g=o.amr||[];return{data:{currentLevel:u,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+$W>s)return r;const{data:i,error:o}=await an(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:C}=await this.getSession();if(C||!_.session)return{data:null,error:C};r=_.session.access_token}const{header:s,payload:i,signature:o,raw:{header:u,payload:m}}=i2(r);n!=null&&n.allowExpired||hG(i.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:s,signature:o},error:null}}const g=mG(s.alg),x=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,o,JW(`${u}.${m}`)))throw new tS("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}}}Jg.nextInstanceID=0;const OG=Jg;class MG extends OG{constructor(t){super(t)}}var DG=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class PG{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=LW(t),m=new URL(u);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const f=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:TW,realtime:MW,auth:Object.assign(Object.assign({},OW),{storageKey:f}),global:CW},x=BW(r??{},g);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=x.global.headers)!==null&&i!==void 0?i:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(j,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=x.auth)!==null&&o!==void 0?o:{},this.headers,x.global.fetch),this.fetch=kW(n,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new QY(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new _W(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new FY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return DG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:u,debug:m},f,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MG({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),f),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:u,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new fW(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RG=(e,t,n)=>new PG(e,t,n);function kG(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IG="https://zedwbdksnduazpdveoab.supabase.co",LG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplZHdiZGtzbmR1YXpwZHZlb2FiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMDcwNDIsImV4cCI6MjA2OTU4MzA0Mn0.LjhdIRxPhAM0JTUdX9YdxHaSkffoDLV4RBkglKFksxI",ze=RG(IG,LG),W6=w.createContext(void 0);function G6({children:e}){const[t,n]=w.useState(null),[r,s]=w.useState(null),[i,o]=w.useState(null),[u,m]=w.useState(!0);w.useEffect(()=>{ze.auth.getSession().then(({data:{session:M}})=>{o(M),n((M==null?void 0:M.user)??null),M!=null&&M.user?f(M.user.id):m(!1)});const{data:{subscription:A}}=ze.auth.onAuthStateChange(async(M,D)=>{o(D),n((D==null?void 0:D.user)??null),D!=null&&D.user?await f(D.user.id):(s(null),m(!1))});return()=>A.unsubscribe()},[]);const f=async A=>{try{const{data:M,error:D}=await ze.from("profiles").select("*").eq("id",A).single();if(D)throw D;s(M)}catch(M){console.error("Error fetching profile:",M)}finally{m(!1)}},E={user:t,profile:r,session:i,loading:u,signUp:async(A,M,D)=>{const{data:R,error:U}=await ze.auth.signUp({email:A,password:M,options:{data:D}});return{data:R,error:U}},signIn:async(A,M,D=!1)=>{const{data:R,error:U}=await ze.auth.signInWithPassword({email:A,password:M});return D&&R.session?localStorage.setItem("tickets_remember_me","true"):localStorage.removeItem("tickets_remember_me"),{data:R,error:U}},signOut:async()=>{await ze.auth.signOut()},updateProfile:async A=>{if(!t)return;const{error:M}=await ze.from("profiles").update(A).eq("id",t.id);M||s(D=>D?{...D,...A}:null)},refreshProfile:async()=>{t&&await f(t.id)}};return a.jsx(W6.Provider,{value:E,children:e})}function Ht(){const e=w.useContext(W6);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function BG(){const e=Ht();return w.useEffect(()=>{!e.loading&&!e.user&&(window.location.href="/login")},[e.loading,e.user]),e}function tA(e){const t=BG();return w.useEffect(()=>{!t.loading&&t.profile&&!e.includes(t.profile.user_type)&&(window.location.href=`/${t.profile.user_type}`)},[t.loading,t.profile,e]),t}const FG={en:{"common.loading":"Loading...","common.error":"An error occurred","common.success":"Success","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.amount":"Amount","common.date":"Date","common.status":"Status","common.description":"Description","common.balance":"Balance","common.currency":"SYP","auth.login":"Login","auth.register":"Register","auth.logout":"Logout","auth.email":"Email","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.fullName":"Full Name","auth.phoneNumber":"Phone Number","auth.forgotPassword":"Forgot Password?","auth.dontHaveAccount":"Don't have an account?","auth.alreadyHaveAccount":"Already have an account?","auth.signUp":"Sign Up","auth.signIn":"Sign In","auth.role":"I am a","auth.passenger":"Passenger","auth.driver":"Driver","auth.merchant":"Merchant","auth.eventAdmin":"Event Organizer","auth.accountType":"Account Type","auth.getStartedDescription":"Get started with your digital wallet in minutes","auth.fullNamePlaceholder":"Your full name","auth.emailPlaceholder":"your@email.com","auth.phoneNumberPlaceholder":"XXX XXX XXX","auth.createPasswordPlaceholder":"Create a strong password","auth.confirmPasswordPlaceholder":"Confirm your password","auth.signInHere":"Sign in here","auth.signUpHere":"Sign up for free","auth.accessDescription":"Access your digital wallet and manage your payments","auth.enterPasswordPlaceholder":"Enter your password","auth.rememberMe":"Remember me","common.optional":"Optional","features.digitalWallet":"Digital wallet access","features.qrPayments":"QR code payments","features.eventTickets":"Event ticket purchases","features.transactionHistory":"Transaction history","features.driverDashboard":"Driver dashboard","features.earningsTracking":"Earnings tracking","features.qrGeneration":"QR code generation","features.tripManagement":"Trip management","features.businessDashboard":"Business dashboard","features.paymentProcessing":"Payment processing","features.analyticsInsights":"Analytics & insights","features.customerManagement":"Customer management","features.eventCreation":"Event creation","features.ticketManagement":"Ticket management","features.attendeeAnalytics":"Attendee analytics","features.revenueTracking":"Revenue tracking","registration.personalAccountFeatures":"Personal Account Features","registration.driverAccountFeatures":"Driver Account Features","registration.businessAccountFeatures":"Business Account Features","registration.eventOrganizerFeatures":"Event Organizer Features","registration.whyChooseTickets":"Why Choose Tickets?","registration.bankGradeSecurity":"Bank-grade security & encryption","registration.instantTransactions":"Instant transactions & real-time updates","registration.customerSupport":"24/7 customer support","registration.lowFees":"Low fees & transparent pricing","registration.soc2Certified":"SOC 2 Certified","registration.iso27001":"ISO 27001","registration.pciCompliant":"PCI Compliant","registration.joinRevolution":"Join the digital payment revolution","registration.backToHome":"Back to Home","login.welcomeBack":"Welcome back","login.secure":"Secure","login.encrypted":"Encrypted","login.private":"Private","nav.dashboard":"Dashboard","nav.wallet":"Wallet","nav.transactions":"Transactions","nav.scanner":"QR Scanner","nav.events":"Events","nav.tickets":"My Tickets","nav.earnings":"Earnings","nav.trips":"Trips","nav.verification":"Verification","nav.qrcode":"QR Code","nav.business":"Business","nav.management":"Management","nav.analytics":"Analytics","nav.users":"Users","nav.disputes":"Disputes","nav.verificationReview":"Driver Verification","nav.support":"Support","nav.settings":"Settings","nav.profile":"Profile","nav.notifications":"Notifications","nav.chat":"Chat","wallet.title":"Digital Wallet","wallet.balance":"Current Balance","wallet.recharge":"Recharge Wallet","wallet.rechargeAmount":"Recharge Amount","wallet.paymentMethod":"Payment Method","wallet.mtnCash":"MTN Cash","wallet.syriatelCash":"Syriatel Cash","wallet.shamCash":"ShamCash","wallet.fatora":"Fatora","wallet.stripe":"Credit Card","wallet.rechargeSuccess":"Wallet recharged successfully","wallet.insufficientBalance":"Insufficient balance","transactions.title":"Transaction History","transactions.recent":"Recent Transactions","transactions.payment":"Payment","transactions.recharge":"Recharge","transactions.refund":"Refund","transactions.withdrawal":"Withdrawal","transactions.pending":"Pending","transactions.completed":"Completed","transactions.failed":"Failed","transactions.cancelled":"Cancelled","transactions.to":"To","transactions.from":"From","scanner.title":"QR Code Scanner","scanner.scanToPayDriver":"Scan driver QR to pay for transport","scanner.scanToPayMerchant":"Scan merchant QR to make payment","scanner.scanning":"Scanning...","scanner.paymentSuccess":"Payment successful","scanner.paymentFailed":"Payment failed","scanner.quantity":"Number of tickets","events.title":"Events","events.upcoming":"Upcoming Events","events.myEvents":"My Events","events.createEvent":"Create Event","events.eventTitle":"Event Title","events.eventDescription":"Event Description","events.eventLocation":"Location","events.eventDate":"Date","events.eventPrice":"Ticket Price","events.availableTickets":"Available Tickets","events.buyTicket":"Buy Ticket","events.ticketPurchased":"Ticket purchased successfully",eventAdminDashboardOverview:"Manage your events and track performance",createEvent:"Create Event",validateTickets:"Validate Tickets",totalEvents:"Total Events",activeEvents:"Active Events",ticketsSold:"Tickets Sold",totalRevenue:"Total Revenue",pendingValidations:"Pending Validations",requiresAttention:"Requires Attention",recentEvents:"Recent Events",yourLatestEventActivities:"Your latest event activities",fromTicketSales:"From ticket sales",pendingValidation:"Pending validation",welcome:"Welcome","driver.title":"Driver Dashboard","driver.earnings":"Earnings","driver.todayEarnings":"Today's Earnings","driver.weekEarnings":"Week Earnings","driver.monthEarnings":"Month Earnings","driver.generateQR":"Generate QR Code","driver.activeTrip":"Active Trip","driver.startTrip":"Start Trip","driver.endTrip":"End Trip","driver.route":"Route","driver.ticketFee":"Ticket Fee","driver.passengerCount":"Passengers","driver.analytics":"Driver Analytics","driver.performance":"Performance","driver.efficiency":"Efficiency","driver.monthlyComparison":"Monthly Comparison","driver.hourlyPerformance":"Hourly Performance","driver.locationPerformance":"Location Performance","driver.ratingDistribution":"Rating Distribution","driver.performanceMetrics":"Performance Metrics","driver.earningsBreakdown":"Earnings Breakdown","driver.todaySnapshot":"Today's Snapshot","driver.exportAnalytics":"Export Analytics","driver.earningsTrend":"Earnings Trend","driver.dailyAverage":"Daily Average","driver.weeklyAverage":"Weekly Average","driver.monthlyAverage":"Monthly Average","driver.totalNetEarnings":"Total Net Earnings","driver.averagePerTrip":"Average per Trip","driver.totalDistance":"Total Distance","driver.totalDuration":"Total Duration","driver.earningsPerHour":"Earnings per Hour","driver.earningsPerKm":"Earnings per KM","driver.cancellationRate":"Cancellation Rate","driver.overallRating":"Overall Rating","driver.efficiencyRating":"Efficiency Rating","driver.excellent":"Excellent","driver.verification.title":"Driver Verification","driver.verification.description":"Complete your driver verification to start earning with Tickets","driver.verification.status.title":"Verification Status","driver.verification.status.not_submitted":"Not Submitted","driver.verification.status.pending":"Under Review","driver.verification.status.approved":"Approved","driver.verification.status.rejected":"Rejected","driver.verification.progress":"Progress","driver.verification.driverInfo":"Driver Information","driver.verification.driverInfoDesc":"Provide your driver and vehicle details","driver.verification.licenseNumber":"License Number","driver.verification.licenseNumberPlaceholder":"Enter your driving license number","driver.verification.licenseExpiry":"License Expiry Date","driver.verification.vehicleType":"Vehicle Type","driver.verification.selectVehicleType":"Select vehicle type","driver.verification.vehicleModel":"Vehicle Model","driver.verification.vehicleModelPlaceholder":"e.g., Toyota Hiace 2020","driver.verification.vehiclePlate":"Vehicle Plate Number","driver.verification.vehiclePlatePlaceholder":"e.g., 123456 Damascus","driver.verification.routeName":"Route Name","driver.verification.routeNamePlaceholder":"e.g., Damascus-Aleppo","driver.verification.routeDescription":"Route Description","driver.verification.routeDescriptionPlaceholder":"Describe your regular routes and stops","driver.verification.documents":"Required Documents","driver.verification.documentsDesc":"Upload clear photos or scans of your documents","driver.verification.documentTypes.license_front":"Driver License (Front)","driver.verification.documentTypes.license_back":"Driver License (Back)","driver.verification.documentTypes.vehicle_registration":"Vehicle Registration","driver.verification.documentTypes.vehicle_photo":"Vehicle Photo","driver.verification.viewDocument":"View Document","driver.verification.submit":"Submit for Review","driver.verification.invalidFileType":"Please upload images (JPG, PNG) or PDF files only","driver.verification.fileTooLarge":"File size must be less than 5MB","driver.verification.documentUploaded":"Document uploaded successfully","driver.verification.uploadFailed":"Failed to upload document. Please try again.","driver.verification.fillRequired":"Please fill in all required fields","driver.verification.uploadAllDocuments":"Please upload all required documents","driver.verification.submitted":"Verification submitted successfully! You will be notified when reviewed.","driver.verification.rejectedMessage":"Your verification was rejected. Please review the feedback and resubmit.","driver.verification.approvedMessage":"Congratulations! Your driver verification has been approved. You can now start accepting passengers.","driver.verification.vehicleTypes.bus":"Bus","driver.verification.vehicleTypes.microbus":"Microbus","driver.verification.vehicleTypes.taxi":"Taxi","driver.verification.vehicleTypes.private_car":"Private Car","driver.verification.vehicleTypes.motorcycle":"Motorcycle","driver.verification.vehicleTypes.truck":"Truck","common.saving":"Saving...","merchant.title":"Merchant Dashboard","merchant.business":"Business Information","merchant.businessName":"Business Name","merchant.businessCategory":"Category","merchant.generateQR":"Generate Payment QR","merchant.qrAmount":"Payment Amount","admin.title":"Admin Dashboard","admin.userManagement":"User Management","admin.systemAnalytics":"System Analytics","admin.totalUsers":"Total Users","admin.totalTransactions":"Total Transactions","admin.totalRevenue":"Total Revenue","admin.disputes":"Disputes","app.name":"Tickets","app.subtitle":"Digital Wallet & Payment System","app.welcome":"Welcome to Tickets","app.description":"Your digital wallet for seamless payments, event tickets, and transportation in Syria.","onboard.welcome":"Welcome to Tickets!","onboard.step1.title":"Digital Wallet","onboard.step1.desc":"Securely store and manage your money digitally","onboard.step2.title":"QR Payments","onboard.step2.desc":"Pay for transportation and purchases instantly","onboard.step3.title":"Event Tickets","onboard.step3.desc":"Buy and manage event tickets digitally","onboard.getStarted":"Get Started","onboard.skip":"Skip Tour",profile:"Profile",editProfile:"Edit Profile",profilePicture:"Profile Picture",personalInformation:"Personal Information",manageYourAccountInformation:"Manage your account information",updateYourPersonalDetails:"Update your personal details",clickToUploadNewPicture:"Click to upload new picture",fullName:"Full Name",phoneNumber:"Phone Number",email:"Email",language:"Language",accountType:"Account Type",memberSince:"Member Since",verificationStatus:"Verification Status",accountStatus:"Account Status",verified:"Verified",unverified:"Unverified",active:"Active",inactive:"Inactive",notProvided:"Not Provided",accountActions:"Account Actions",manageYourAccountSecurity:"Manage your account security",changePassword:"Change Password",downloadData:"Download Data",twoFactorAuth:"Two-Factor Authentication",deleteAccount:"Delete Account",profileUpdated:"Profile updated successfully",errorUpdatingProfile:"Error updating profile",featureComingSoon:"Feature coming soon",redirectingToPasswordChange:"Redirecting to password change",preparingDataDownload:"Preparing data download",errorDownloadingData:"Error downloading data",twoFactorAuthDisabled:"Two-factor authentication is temporarily disabled",deleteAccountNotImplemented:"Account deletion requires additional verification",settings:"Settings",manageYourAppPreferences:"Manage your app preferences",languageAndAppearance:"Language & Appearance",customizeYourAppExperience:"Customize your app experience",darkMode:"Dark Mode",toggleDarkMode:"Switch between light and dark themes",showWalletBalance:"Show Wallet Balance",displayBalanceInDashboard:"Display wallet balance in dashboard",notifications:"Notifications",controlWhenAndHowYouReceiveNotifications:"Control when and how you receive notifications",emailNotifications:"Email Notifications",receiveEmailUpdates:"Receive email updates",pushNotifications:"Push Notifications",receivePushNotifications:"Receive push notifications",smsNotifications:"SMS Notifications",receiveSmsUpdates:"Receive SMS updates",transactionNotifications:"Transaction Notifications",notifyOnTransactions:"Notify on transactions",marketingNotifications:"Marketing Notifications",receivePromotionalEmails:"Receive promotional emails",securityNotifications:"Security Notifications",notifyOnSecurityEvents:"Notify on security events",legalAndCompany:"Legal & Company",importantLegalInformation:"Important legal information",privacyPolicy:"Privacy Policy",aboutCompany:"About Company",appInformation:"App Information",version:"Version",lastUpdate:"Last Update",buildNumber:"Build Number",settingUpdated:"Setting updated",languageChanged:"Language changed",featureNotAvailable:"Feature not available",privacyPolicyComingSoon:"Privacy policy will be available soon",companyInfoComingSoon:"Company information will be available soon","receipt.title":"Transaction Receipt","receipt.description":"Official receipt for your transaction","receipt.walletTopUp":"Wallet Top-up","receipt.busTicketPayment":"Bus Ticket Payment","receipt.busFareCollection":"Bus Fare Collection","receipt.paymentSent":"Payment Sent","receipt.paymentReceived":"Payment Received","receipt.transactionRefund":"Transaction Refund","receipt.walletWithdrawal":"Wallet Withdrawal","receipt.transaction":"Transaction","receipt.transactionSuccessful":"Transaction Successful","receipt.transactionPending":"Transaction Pending","receipt.transactionFailed":"Transaction Failed","receipt.transactionCancelled":"Transaction Cancelled","receipt.transactionDetails":"Transaction Details","receipt.transactionId":"Transaction ID","receipt.dateTime":"Date & Time","receipt.type":"Type","receipt.reference":"Reference","receipt.completed":"Completed","receipt.recipient":"Recipient","receipt.sender":"Sender","receipt.scanToVerify":"Scan to verify this receipt","receipt.officialReceipt":"This is an official receipt generated by Tickets E-Wallet","receipt.supportContact":"For support, contact","receipt.generatedOn":"Generated on","receipt.at":"at","receipt.downloadPdf":"Download PDF","receipt.share":"Share","receipt.print":"Print","receipt.transactionIdCopied":"Transaction ID copied to clipboard","gift.title":"Send Gift","gift.description":"Send credits to friends and family","gift.currentBalance":"Current Balance","gift.recipientEmail":"Recipient Email","gift.emailPlaceholder":"Enter recipient email address","gift.amount":"Gift Amount","gift.amountPlaceholder":"Enter amount to send","gift.maxAmount":"Maximum","gift.message":"Personal Message","gift.messagePlaceholder":"Add a personal message (optional)","gift.sendGift":"Send Gift","gift.sending":"Sending...","gift.validating":"Validating recipient...","gift.recipientFound":"Recipient found","gift.cannotSendToYourself":"You cannot send a gift to yourself","gift.validationError":"Unable to validate recipient","gift.invalidAmount":"Please enter a valid amount","gift.insufficientBalance":"Insufficient wallet balance","gift.sentSuccessfully":"Gift sent successfully to {{name}} ({{amount}})","gift.sendError":"Failed to send gift. Please try again.","wallet.addMoney":"Add Money","wallet.topUpDescription":"Top up your wallet balance","wallet.transactionHistory":"Transaction History","wallet.viewAllTransactions":"View all your transactions","wallet.giftCards":"Gift Cards","wallet.sendReceiveGifts":"Send and receive gifts","wallet.totalSpent":"Total Spent","wallet.totalRecharged":"Total Recharged","wallet.totalTransactions":"Total Transactions",uploadingPicture:"Uploading...",pleaseSelectAnImageFile:"Please select an image file",fileSizeTooLarge:"File size too large (max 5MB)",profilePictureUpdated:"Profile picture updated successfully",errorUploadingProfilePicture:"Error uploading profile picture",pleaseEnterBothPasswords:"Please enter both passwords",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters",passwordChangedSuccessfully:"Password changed successfully",errorChangingPassword:"Error changing password",enterNewPasswordBelow:"Enter your new password below",newPassword:"New Password",confirmPassword:"Confirm Password",enterNewPassword:"Enter new password",confirmNewPassword:"Confirm new password",changing:"Changing...",dataDownloadComplete:"Data download complete",twoFactorAuthNotAvailable:"Two-factor authentication not available yet",accountDeactivated:"Account deactivated successfully",errorDeactivatingAccount:"Error deactivating account",areYouAbsolutelySure:"Are you absolutely sure?",accountDeletionWarning:"This action will deactivate your account. This action cannot be undone.",deactivateAccount:"Deactivate Account",errorUpdatingSetting:"Error updating setting",themeUpdated:"Theme updated successfully",lastUpdated:"Last updated",informationCollection:"Information Collection",informationUse:"How We Use Information",informationSharing:"Information Sharing",dataSecurity:"Data Security",yourRights:"Your Rights",contactUs:"Contact Us",aboutOurCompany:"About Our Company",learnMoreAboutUs:"Learn more about us",ourMission:"Our Mission",whatWeDo:"What We Do",ourValues:"Our Values",security:"Security",convenience:"Convenience",innovation:"Innovation",community:"Community",supportedServices:"Supported Services",contactInformation:"Contact Information",website:"Website",address:"Address",businessHours:"Business Hours","receipt.qrCodeNote":"Scan this QR code to verify transaction details"},ar:{"common.loading":" ...","common.error":" ","common.success":"","common.cancel":"","common.confirm":"","common.save":"","common.edit":"","common.delete":"","common.back":"","common.next":"","common.previous":"","common.search":"","common.filter":"","common.amount":"","common.date":"","common.status":"","common.description":"","common.balance":"","common.currency":".","auth.login":" ","auth.register":" ","auth.logout":" ","auth.email":" ","auth.password":" ","auth.confirmPassword":"  ","auth.fullName":" ","auth.phoneNumber":" ","auth.forgotPassword":"  ","auth.dontHaveAccount":"  ","auth.alreadyHaveAccount":"  ","auth.signUp":" ","auth.signIn":" ","auth.role":"","auth.passenger":"","auth.driver":"","auth.merchant":"","auth.eventAdmin":" ","auth.accountType":" ","auth.getStartedDescription":"     ","auth.fullNamePlaceholder":" ","auth.emailPlaceholder":"your@email.com","auth.phoneNumberPlaceholder":"XXX XXX XXX","auth.createPasswordPlaceholder":"   ","auth.confirmPasswordPlaceholder":"  ","auth.signInHere":"  ","auth.signUpHere":"  ","auth.accessDescription":"     ","auth.enterPasswordPlaceholder":"  ","auth.rememberMe":"","common.optional":"","features.digitalWallet":"  ","features.qrPayments":"  QR","features.eventTickets":"  ","features.transactionHistory":" ","features.driverDashboard":"  ","features.earningsTracking":" ","features.qrGeneration":"  QR","features.tripManagement":" ","features.businessDashboard":"  ","features.paymentProcessing":" ","features.analyticsInsights":" ","features.customerManagement":" ","features.eventCreation":" ","features.ticketManagement":" ","features.attendeeAnalytics":" ","features.revenueTracking":" ","registration.personalAccountFeatures":"  ","registration.driverAccountFeatures":"  ","registration.businessAccountFeatures":"  ","registration.eventOrganizerFeatures":"  ","registration.whyChooseTickets":"  ","registration.bankGradeSecurity":"   ","registration.instantTransactions":"     ","registration.customerSupport":"  24/7","registration.lowFees":"   ","registration.soc2Certified":" SOC 2","registration.iso27001":"ISO 27001","registration.pciCompliant":"  PCI","registration.joinRevolution":"    ","registration.backToHome":"  ","login.welcomeBack":" ","login.secure":"","login.encrypted":"","login.private":"","nav.dashboard":" ","nav.wallet":"","nav.transactions":"","nav.scanner":" QR","nav.events":"","nav.tickets":"","nav.earnings":"","nav.trips":"","nav.verification":"","nav.qrcode":" QR","nav.business":"","nav.management":"","nav.analytics":"","nav.users":"","nav.disputes":"","nav.verificationReview":" ","nav.support":"","nav.settings":"","nav.profile":" ","nav.notifications":"","nav.chat":"","nav.promotions":" ","nav.gifts":"","wallet.title":" ","wallet.balance":" ","wallet.recharge":" ","wallet.rechargeAmount":" ","wallet.paymentMethod":" ","wallet.mtnCash":"   ","wallet.syriatelCash":" ","wallet.shamCash":" ","wallet.fatora":"","wallet.stripe":" ","wallet.rechargeSuccess":"   ","wallet.insufficientBalance":"  ","transactions.title":" ","transactions.recent":" ","transactions.payment":"","transactions.recharge":"","transactions.refund":"","transactions.withdrawal":"","transactions.pending":"","transactions.completed":"","transactions.failed":"","transactions.cancelled":"","transactions.to":"","transactions.from":"","scanner.title":"  QR","scanner.scanToPayDriver":"   ","scanner.scanToPayMerchant":"   ","scanner.scanning":" ...","scanner.paymentSuccess":"  ","scanner.paymentFailed":" ","scanner.quantity":" ","events.title":"","events.upcoming":" ","events.myEvents":"","events.createEvent":" ","events.eventTitle":" ","events.eventDescription":" ","events.eventLocation":"","events.eventDate":"","events.eventPrice":" ","events.availableTickets":" ","events.buyTicket":" ","events.ticketPurchased":"   ",eventAdminDashboardOverview:"   ",createEvent:" ",validateTickets:"  ",totalEvents:" ",activeEvents:" ",ticketsSold:" ",totalRevenue:" ",pendingValidations:" ",requiresAttention:" ",recentEvents:" ",yourLatestEventActivities:"  ",fromTicketSales:"  ",pendingValidation:"  ",welcome:"","driver.title":"  ","driver.earnings":"","driver.todayEarnings":" ","driver.weekEarnings":" ","driver.monthEarnings":" ","driver.generateQR":"  QR","driver.activeTrip":" ","driver.startTrip":" ","driver.endTrip":" ","driver.route":"","driver.ticketFee":" ","driver.passengerCount":"","driver.analytics":" ","driver.performance":"","driver.efficiency":"","driver.monthlyComparison":" ","driver.hourlyPerformance":" ","driver.locationPerformance":" ","driver.ratingDistribution":" ","driver.performanceMetrics":" ","driver.earningsBreakdown":" ","driver.todaySnapshot":" ","driver.exportAnalytics":" ","driver.earningsTrend":" ","driver.dailyAverage":" ","driver.weeklyAverage":" ","driver.monthlyAverage":" ","driver.totalNetEarnings":"  ","driver.averagePerTrip":"  ","driver.totalDistance":" ","driver.totalDuration":" ","driver.earningsPerHour":"  ","driver.earningsPerKm":"  ","driver.cancellationRate":" ","driver.overallRating":" ","driver.efficiencyRating":" ","driver.excellent":"","driver.verification.title":" ","driver.verification.description":"      ","driver.verification.status.title":" ","driver.verification.status.not_submitted":"  ","driver.verification.status.pending":" ","driver.verification.status.approved":" ","driver.verification.status.rejected":"","driver.verification.progress":"","driver.verification.driverInfo":" ","driver.verification.driverInfoDesc":"   ","driver.verification.licenseNumber":"  ","driver.verification.licenseNumberPlaceholder":"   ","driver.verification.licenseExpiry":"  ","driver.verification.vehicleType":" ","driver.verification.selectVehicleType":"  ","driver.verification.vehicleModel":" ","driver.verification.vehicleModelPlaceholder":":   2020","driver.verification.vehiclePlate":"  ","driver.verification.vehiclePlatePlaceholder":": 123456 ","driver.verification.routeName":" ","driver.verification.routeNamePlaceholder":": -","driver.verification.routeDescription":" ","driver.verification.routeDescriptionPlaceholder":"   ","driver.verification.documents":" ","driver.verification.documentsDesc":"      ","driver.verification.documentTypes.license_front":"  ( )","driver.verification.documentTypes.license_back":"  ( )","driver.verification.documentTypes.vehicle_registration":" ","driver.verification.documentTypes.vehicle_photo":" ","driver.verification.viewDocument":" ","driver.verification.submit":" ","driver.verification.invalidFileType":"    (JPG, PNG)  PDF ","driver.verification.fileTooLarge":"       5 ","driver.verification.documentUploaded":"   ","driver.verification.uploadFailed":"   .    .","driver.verification.fillRequired":"    ","driver.verification.uploadAllDocuments":"    ","driver.verification.submitted":"   !    .","driver.verification.rejectedMessage":"  .     .","driver.verification.approvedMessage":"!     .      .","driver.verification.vehicleTypes.bus":"","driver.verification.vehicleTypes.microbus":"","driver.verification.vehicleTypes.taxi":"","driver.verification.vehicleTypes.private_car":" ","driver.verification.vehicleTypes.motorcycle":" ","driver.verification.vehicleTypes.truck":"","common.saving":" ...","merchant.title":"  ","merchant.business":" ","merchant.businessName":" ","merchant.businessCategory":"","merchant.generateQR":"   QR","merchant.qrAmount":" ","admin.title":"  ","admin.userManagement":" ","admin.systemAnalytics":" ","admin.totalUsers":" ","admin.totalTransactions":" ","admin.totalRevenue":" ","admin.disputes":"","app.name":"","app.subtitle":"   ","app.welcome":"   ","app.description":"        .","onboard.welcome":"   !","onboard.step1.title":" ","onboard.step1.desc":"    ","onboard.step2.title":"  QR","onboard.step2.desc":"   ","onboard.step3.title":" ","onboard.step3.desc":"    ","onboard.getStarted":" ","onboard.skip":" ",profile:" ",editProfile:"  ",profilePicture:"  ",personalInformation:" ",manageYourAccountInformation:"  ",updateYourPersonalDetails:"  ",clickToUploadNewPicture:"   ",fullName:" ",phoneNumber:" ",email:" ",language:"",accountType:" ",memberSince:" ",verificationStatus:" ",accountStatus:" ",verified:"",unverified:" ",active:"",inactive:" ",notProvided:" ",accountActions:" ",manageYourAccountSecurity:"  ",changePassword:"  ",downloadData:" ",twoFactorAuth:" ",deleteAccount:" ",profileUpdated:"    ",errorUpdatingProfile:"    ",featureComingSoon:"  ",redirectingToPasswordChange:"    ",preparingDataDownload:"   ",errorDownloadingData:"   ",twoFactorAuthDisabled:"   ",deleteAccountNotImplemented:"    ",settings:"",manageYourAppPreferences:"  ",languageAndAppearance:" ",customizeYourAppExperience:"  ",darkMode:" ",toggleDarkMode:"    ",showWalletBalance:"  ",displayBalanceInDashboard:"     ",notifications:"",controlWhenAndHowYouReceiveNotifications:"     ",emailNotifications:"  ",receiveEmailUpdates:"   ",pushNotifications:" ",receivePushNotifications:"  ",smsNotifications:"  ",receiveSmsUpdates:"   ",transactionNotifications:" ",notifyOnTransactions:"  ",marketingNotifications:" ",receivePromotionalEmails:"  ",securityNotifications:" ",notifyOnSecurityEvents:"   ",legalAndCompany:" ",importantLegalInformation:"  ",privacyPolicy:" ",aboutCompany:" ",appInformation:" ",version:"",lastUpdate:" ",buildNumber:" ",settingUpdated:"  ",languageChanged:"  ",featureNotAvailable:"  ",privacyPolicyComingSoon:"    ",companyInfoComingSoon:"    ","receipt.title":" ","receipt.description":"  ","receipt.walletTopUp":" ","receipt.busTicketPayment":"  ","receipt.busFareCollection":"  ","receipt.paymentSent":" ","receipt.paymentReceived":" ","receipt.transactionRefund":" ","receipt.walletWithdrawal":"  ","receipt.transaction":"","receipt.transactionSuccessful":" ","receipt.transactionPending":" ","receipt.transactionFailed":" ","receipt.transactionCancelled":" ","receipt.transactionDetails":" ","receipt.transactionId":" ","receipt.dateTime":" ","receipt.type":"","receipt.reference":"","receipt.completed":"","receipt.recipient":"","receipt.sender":"","receipt.scanToVerify":"    ","receipt.officialReceipt":"     -","receipt.supportContact":"  ","receipt.generatedOn":"  ","receipt.at":"","receipt.downloadPdf":" PDF","receipt.share":"","receipt.print":"","receipt.transactionIdCopied":"   ","gift.title":" ","gift.description":"   ","gift.currentBalance":" ","gift.recipientEmail":"  ","gift.emailPlaceholder":"    ","gift.amount":" ","gift.amountPlaceholder":"   ","gift.maxAmount":" ","gift.message":" ","gift.messagePlaceholder":"   ()","gift.sendGift":" ","gift.sending":" ...","gift.validating":"   ...","gift.recipientFound":"   ","gift.cannotSendToYourself":"    ","gift.validationError":"   ","gift.invalidAmount":"   ","gift.insufficientBalance":"   ","gift.sentSuccessfully":"     {{name}} ({{amount}})","gift.sendError":"   .    .","wallet.addMoney":" ","wallet.topUpDescription":"  ","wallet.transactionHistory":" ","wallet.viewAllTransactions":"  ","wallet.giftCards":" ","wallet.sendReceiveGifts":"  ","wallet.totalSpent":" ","wallet.totalRecharged":" ","wallet.totalTransactions":" ",uploadingPicture:" ...",pleaseSelectAnImageFile:"   ",fileSizeTooLarge:"    (  5 )",profilePictureUpdated:"     ",errorUploadingProfilePicture:"     ",pleaseEnterBothPasswords:"   ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",passwordChangedSuccessfully:"    ",errorChangingPassword:"    ",enterNewPasswordBelow:"    ",newPassword:"  ",confirmPassword:"  ",enterNewPassword:"   ",confirmNewPassword:"   ",changing:" ...",dataDownloadComplete:"  ",twoFactorAuthNotAvailable:"    ",accountDeactivated:"    ",errorDeactivatingAccount:"    ",areYouAbsolutelySure:"   ",accountDeletionWarning:"    .      .",deactivateAccount:"  ",errorUpdatingSetting:"   ",themeUpdated:"   ",lastUpdated:" ",informationCollection:" ",informationUse:"  ",informationSharing:" ",dataSecurity:" ",yourRights:"",contactUs:" ",aboutOurCompany:" ",learnMoreAboutUs:"  ",ourMission:"",whatWeDo:"  ",ourValues:"",security:"",convenience:"",innovation:"",community:"",supportedServices:" ",contactInformation:" ",website:" ",address:"",businessHours:" ","receipt.qrCodeNote":"       "}},K6=w.createContext(void 0);function X6({children:e}){const[t,n]=w.useState("en");w.useEffect(()=>{const i=localStorage.getItem("language");i&&["en","ar"].includes(i)&&n(i)},[]),w.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"},[t]);const s={language:t,setLanguage:n,t:(i,o)=>{let u=FG[t][i]||i;return o&&Object.entries(o).forEach(([m,f])=>{u=u.replace(`{{${m}}}`,f)}),u},isRTL:t==="ar"};return a.jsx(K6.Provider,{value:s,children:e})}function Ft(){const e=w.useContext(K6);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const Q6=w.createContext(void 0);function Z6({children:e}){const[t,n]=w.useState("system"),[r,s]=w.useState(!1),{profile:i,updateProfile:o}=Ht();w.useEffect(()=>{(()=>{if(i!=null&&i.theme_preference)n(i.theme_preference);else{const g=localStorage.getItem("tickets_theme");g&&["light","dark","system"].includes(g)&&n(g)}})()},[i]),w.useEffect(()=>{const f=()=>{if(t==="system"){const g=window.matchMedia("(prefers-color-scheme: dark)").matches;s(g)}else s(t==="dark")};if(f(),t==="system"){const g=window.matchMedia("(prefers-color-scheme: dark)"),x=()=>f();return g.addEventListener("change",x),()=>g.removeEventListener("change",x)}},[t]),w.useEffect(()=>{const f=document.documentElement;r?f.classList.add("dark"):f.classList.remove("dark")},[r]);const m={theme:t,setTheme:async f=>{if(n(f),localStorage.setItem("tickets_theme",f),i)try{await o({theme_preference:f})}catch(g){console.error("Failed to update theme preference:",g)}},isDark:r};return a.jsx(Q6.Provider,{value:m,children:e})}function J6(){const e=w.useContext(Q6);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var $d=E6();const e5=Cs($d);function UG(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const zG=e=>{switch(e){case"success":return HG;case"info":return YG;case"warning":return qG;case"error":return WG;default:return null}},VG=Array(12).fill(0),$G=({visible:e,className:t})=>at.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},at.createElement("div",{className:"sonner-spinner"},VG.map((n,r)=>at.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),HG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},at.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),at.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),KG=()=>{const[e,t]=at.useState(document.hidden);return at.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let nS=1;class XG{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:nS++,o=this.toasts.find(m=>m.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(m=>m.id===i?(this.publish({...m,...t,id:i,title:r}),{...m,...t,id:i,dismissible:u,title:r}):m):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const u=s.then(async f=>{if(o=["resolve",f],at.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(ZG(f)&&!f.ok){i=!1;const x=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,j=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,C=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:j,...C})}else if(f instanceof Error){i=!1;const x=typeof n.error=="function"?await n.error(f):n.error,j=typeof n.description=="function"?await n.description(f):n.description,C=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:j,...C})}else if(n.success!==void 0){i=!1;const x=typeof n.success=="function"?await n.success(f):n.success,j=typeof n.description=="function"?await n.description(f):n.description,C=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"success",description:j,...C})}}).catch(async f=>{if(o=["reject",f],n.error!==void 0){i=!1;const g=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,_=typeof g=="object"&&!at.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:x,..._})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((f,g)=>u.then(()=>o[0]==="reject"?g(o[1]):f(o[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||nS++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Bs=new XG,QG=(e,t)=>{const n=(t==null?void 0:t.id)||nS++;return Bs.addToast({title:e,...t,id:n}),n},ZG=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",JG=QG,eK=()=>Bs.toasts,tK=()=>Bs.getActiveToasts(),Se=Object.assign(JG,{success:Bs.success,info:Bs.info,warning:Bs.warning,error:Bs.error,custom:Bs.custom,message:Bs.message,promise:Bs.promise,dismiss:Bs.dismiss,loading:Bs.loading},{getHistory:eK,getToasts:tK});UG("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Mx(e){return e.label!==void 0}const nK=3,rK="24px",aK="16px",yM=4e3,sK=356,iK=14,oK=45,lK=200;function Lo(...e){return e.filter(Boolean).join(" ")}function cK(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const uK=e=>{var t,n,r,s,i,o,u,m,f;const{invert:g,toast:x,unstyled:j,interacting:_,setHeights:C,visibleToasts:E,heights:A,index:M,toasts:D,expanded:R,removeToast:U,defaultRichColors:k,closeButton:I,style:F,cancelButtonStyle:V,actionButtonStyle:L,className:$="",descriptionClassName:Y="",duration:q,position:X,gap:Q,expandByDefault:G,classNames:H,icons:ee,closeButtonAriaLabel:Z="Close toast"}=e,[oe,re]=at.useState(null),[de,xe]=at.useState(null),[_e,ye]=at.useState(!1),[ke,ae]=at.useState(!1),[ue,ce]=at.useState(!1),[ge,Me]=at.useState(!1),[Ne,we]=at.useState(!1),[Ke,$e]=at.useState(0),[Qe,gt]=at.useState(0),et=at.useRef(x.duration||q||yM),wt=at.useRef(null),it=at.useRef(null),wr=M===0,ct=M+1<=E,bn=x.type,ea=x.dismissible!==!1,jr=x.className||"",Ga=x.descriptionClassName||"",An=at.useMemo(()=>A.findIndex(Rt=>Rt.toastId===x.id)||0,[A,x.id]),Qn=at.useMemo(()=>{var Rt;return(Rt=x.closeButton)!=null?Rt:I},[x.closeButton,I]),Nr=at.useMemo(()=>x.duration||q||yM,[x.duration,q]),sn=at.useRef(0),qs=at.useRef(0),Wi=at.useRef(0),yi=at.useRef(null),[un,rt]=X.split("-"),wn=at.useMemo(()=>A.reduce((Rt,xn,or)=>or>=An?Rt:Rt+xn.height,0),[A,An]),dn=KG(),Cn=x.invert||g,Gi=bn==="loading";qs.current=at.useMemo(()=>An*Q+wn,[An,wn]),at.useEffect(()=>{et.current=Nr},[Nr]),at.useEffect(()=>{ye(!0)},[]),at.useEffect(()=>{const Rt=it.current;if(Rt){const xn=Rt.getBoundingClientRect().height;return gt(xn),C(or=>[{toastId:x.id,height:xn,position:x.position},...or]),()=>C(or=>or.filter(hn=>hn.toastId!==x.id))}},[C,x.id]),at.useLayoutEffect(()=>{if(!_e)return;const Rt=it.current,xn=Rt.style.height;Rt.style.height="auto";const or=Rt.getBoundingClientRect().height;Rt.style.height=xn,gt(or),C(hn=>hn.find(lr=>lr.toastId===x.id)?hn.map(lr=>lr.toastId===x.id?{...lr,height:or}:lr):[{toastId:x.id,height:or,position:x.position},...hn])},[_e,x.title,x.description,C,x.id,x.jsx,x.action,x.cancel]);const xs=at.useCallback(()=>{ae(!0),$e(qs.current),C(Rt=>Rt.filter(xn=>xn.toastId!==x.id)),setTimeout(()=>{U(x)},lK)},[x,U,C,qs]);at.useEffect(()=>{if(x.promise&&bn==="loading"||x.duration===1/0||x.type==="loading")return;let Rt;return R||_||dn?(()=>{if(Wi.current<sn.current){const hn=new Date().getTime()-sn.current;et.current=et.current-hn}Wi.current=new Date().getTime()})():(()=>{et.current!==1/0&&(sn.current=new Date().getTime(),Rt=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),xs()},et.current))})(),()=>clearTimeout(Rt)},[R,_,x,bn,dn,xs]),at.useEffect(()=>{x.delete&&(xs(),x.onDismiss==null||x.onDismiss.call(x,x))},[xs,x.delete]);function Mu(){var Rt;if(ee!=null&&ee.loading){var xn;return at.createElement("div",{className:Lo(H==null?void 0:H.loader,x==null||(xn=x.classNames)==null?void 0:xn.loader,"sonner-loader"),"data-visible":bn==="loading"},ee.loading)}return at.createElement($G,{className:Lo(H==null?void 0:H.loader,x==null||(Rt=x.classNames)==null?void 0:Rt.loader),visible:bn==="loading"})}const en=x.icon||(ee==null?void 0:ee[bn])||zG(bn);var Ka,Du;return at.createElement("li",{tabIndex:0,ref:it,className:Lo($,jr,H==null?void 0:H.toast,x==null||(t=x.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[bn],x==null||(n=x.classNames)==null?void 0:n[bn]),"data-sonner-toast":"","data-rich-colors":(Ka=x.richColors)!=null?Ka:k,"data-styled":!(x.jsx||x.unstyled||j),"data-mounted":_e,"data-promise":!!x.promise,"data-swiped":Ne,"data-removed":ke,"data-visible":ct,"data-y-position":un,"data-x-position":rt,"data-index":M,"data-front":wr,"data-swiping":ue,"data-dismissible":ea,"data-type":bn,"data-invert":Cn,"data-swipe-out":ge,"data-swipe-direction":de,"data-expanded":!!(R||G&&_e),style:{"--index":M,"--toasts-before":M,"--z-index":D.length-M,"--offset":`${ke?Ke:qs.current}px`,"--initial-height":G?"auto":`${Qe}px`,...F,...x.style},onDragEnd:()=>{ce(!1),re(null),yi.current=null},onPointerDown:Rt=>{Rt.button!==2&&(Gi||!ea||(wt.current=new Date,$e(qs.current),Rt.target.setPointerCapture(Rt.pointerId),Rt.target.tagName!=="BUTTON"&&(ce(!0),yi.current={x:Rt.clientX,y:Rt.clientY})))},onPointerUp:()=>{var Rt,xn,or;if(ge||!ea)return;yi.current=null;const hn=Number(((Rt=it.current)==null?void 0:Rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ms=Number(((xn=it.current)==null?void 0:xn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lr=new Date().getTime()-((or=wt.current)==null?void 0:or.getTime()),jn=oe==="x"?hn:Ms,Sr=Math.abs(jn)/lr;if(Math.abs(jn)>=oK||Sr>.11){$e(qs.current),x.onDismiss==null||x.onDismiss.call(x,x),xe(oe==="x"?hn>0?"right":"left":Ms>0?"down":"up"),xs(),Me(!0);return}else{var mn,Dr;(mn=it.current)==null||mn.style.setProperty("--swipe-amount-x","0px"),(Dr=it.current)==null||Dr.style.setProperty("--swipe-amount-y","0px")}we(!1),ce(!1),re(null)},onPointerMove:Rt=>{var xn,or,hn;if(!yi.current||!ea||((xn=window.getSelection())==null?void 0:xn.toString().length)>0)return;const lr=Rt.clientY-yi.current.y,jn=Rt.clientX-yi.current.x;var Sr;const mn=(Sr=e.swipeDirections)!=null?Sr:cK(X);!oe&&(Math.abs(jn)>1||Math.abs(lr)>1)&&re(Math.abs(jn)>Math.abs(lr)?"x":"y");let Dr={x:0,y:0};const Ur=Ba=>1/(1.5+Math.abs(Ba)/20);if(oe==="y"){if(mn.includes("top")||mn.includes("bottom"))if(mn.includes("top")&&lr<0||mn.includes("bottom")&&lr>0)Dr.y=lr;else{const Ba=lr*Ur(lr);Dr.y=Math.abs(Ba)<Math.abs(lr)?Ba:lr}}else if(oe==="x"&&(mn.includes("left")||mn.includes("right")))if(mn.includes("left")&&jn<0||mn.includes("right")&&jn>0)Dr.x=jn;else{const Ba=jn*Ur(jn);Dr.x=Math.abs(Ba)<Math.abs(jn)?Ba:jn}(Math.abs(Dr.x)>0||Math.abs(Dr.y)>0)&&we(!0),(or=it.current)==null||or.style.setProperty("--swipe-amount-x",`${Dr.x}px`),(hn=it.current)==null||hn.style.setProperty("--swipe-amount-y",`${Dr.y}px`)}},Qn&&!x.jsx&&bn!=="loading"?at.createElement("button",{"aria-label":Z,"data-disabled":Gi,"data-close-button":!0,onClick:Gi||!ea?()=>{}:()=>{xs(),x.onDismiss==null||x.onDismiss.call(x,x)},className:Lo(H==null?void 0:H.closeButton,x==null||(r=x.classNames)==null?void 0:r.closeButton)},(Du=ee==null?void 0:ee.close)!=null?Du:GG):null,(bn||x.icon||x.promise)&&x.icon!==null&&((ee==null?void 0:ee[bn])!==null||x.icon)?at.createElement("div",{"data-icon":"",className:Lo(H==null?void 0:H.icon,x==null||(s=x.classNames)==null?void 0:s.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Mu():null,x.type!=="loading"?en:null):null,at.createElement("div",{"data-content":"",className:Lo(H==null?void 0:H.content,x==null||(i=x.classNames)==null?void 0:i.content)},at.createElement("div",{"data-title":"",className:Lo(H==null?void 0:H.title,x==null||(o=x.classNames)==null?void 0:o.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?at.createElement("div",{"data-description":"",className:Lo(Y,Ga,H==null?void 0:H.description,x==null||(u=x.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),at.isValidElement(x.cancel)?x.cancel:x.cancel&&Mx(x.cancel)?at.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||V,onClick:Rt=>{Mx(x.cancel)&&ea&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Rt),xs())},className:Lo(H==null?void 0:H.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,at.isValidElement(x.action)?x.action:x.action&&Mx(x.action)?at.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||L,onClick:Rt=>{Mx(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Rt),!Rt.defaultPrevented&&xs())},className:Lo(H==null?void 0:H.actionButton,x==null||(f=x.classNames)==null?void 0:f.actionButton)},x.action.label):null)};function bM(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function dK(e,t){const n={};return[e,t].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",u=i?aK:rK;function m(f){["top","right","bottom","left"].forEach(g=>{n[`${o}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${o}-${f}`]=u:n[`${o}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):m(u)}),n}const fK=at.forwardRef(function(t,n){const{invert:r,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:u,className:m,offset:f,mobileOffset:g,theme:x="light",richColors:j,duration:_,style:C,visibleToasts:E=nK,toastOptions:A,dir:M=bM(),gap:D=iK,icons:R,containerAriaLabel:U="Notifications"}=t,[k,I]=at.useState([]),F=at.useMemo(()=>Array.from(new Set([s].concat(k.filter(de=>de.position).map(de=>de.position)))),[k,s]),[V,L]=at.useState([]),[$,Y]=at.useState(!1),[q,X]=at.useState(!1),[Q,G]=at.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=at.useRef(null),ee=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=at.useRef(null),oe=at.useRef(!1),re=at.useCallback(de=>{I(xe=>{var _e;return(_e=xe.find(ye=>ye.id===de.id))!=null&&_e.delete||Bs.dismiss(de.id),xe.filter(({id:ye})=>ye!==de.id)})},[]);return at.useEffect(()=>Bs.subscribe(de=>{if(de.dismiss){requestAnimationFrame(()=>{I(xe=>xe.map(_e=>_e.id===de.id?{..._e,delete:!0}:_e))});return}setTimeout(()=>{e5.flushSync(()=>{I(xe=>{const _e=xe.findIndex(ye=>ye.id===de.id);return _e!==-1?[...xe.slice(0,_e),{...xe[_e],...de},...xe.slice(_e+1)]:[de,...xe]})})})}),[k]),at.useEffect(()=>{if(x!=="system"){G(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:xe})=>{G(xe?"dark":"light")})}catch{de.addListener(({matches:_e})=>{try{G(_e?"dark":"light")}catch(ye){console.error(ye)}})}},[x]),at.useEffect(()=>{k.length<=1&&Y(!1)},[k]),at.useEffect(()=>{const de=xe=>{var _e;if(i.every(ae=>xe[ae]||xe.code===ae)){var ke;Y(!0),(ke=H.current)==null||ke.focus()}xe.code==="Escape"&&(document.activeElement===H.current||(_e=H.current)!=null&&_e.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[i]),at.useEffect(()=>{if(H.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,oe.current=!1)}},[H.current]),at.createElement("section",{ref:n,"aria-label":`${U} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((de,xe)=>{var _e;const[ye,ke]=de.split("-");return k.length?at.createElement("ol",{key:de,dir:M==="auto"?bM():M,tabIndex:-1,ref:H,className:m,"data-sonner-toaster":!0,"data-sonner-theme":Q,"data-y-position":ye,"data-x-position":ke,style:{"--front-toast-height":`${((_e=V[0])==null?void 0:_e.height)||0}px`,"--width":`${sK}px`,"--gap":`${D}px`,...C,...dK(f,g)},onBlur:ae=>{oe.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(oe.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,Z.current=ae.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{q||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},k.filter(ae=>!ae.position&&xe===0||ae.position===de).map((ae,ue)=>{var ce,ge;return at.createElement(uK,{key:ae.id,icons:R,index:ue,toast:ae,defaultRichColors:j,duration:(ce=A==null?void 0:A.duration)!=null?ce:_,className:A==null?void 0:A.className,descriptionClassName:A==null?void 0:A.descriptionClassName,invert:r,visibleToasts:E,closeButton:(ge=A==null?void 0:A.closeButton)!=null?ge:u,interacting:q,position:de,style:A==null?void 0:A.style,unstyled:A==null?void 0:A.unstyled,classNames:A==null?void 0:A.classNames,cancelButtonStyle:A==null?void 0:A.cancelButtonStyle,actionButtonStyle:A==null?void 0:A.actionButtonStyle,closeButtonAriaLabel:A==null?void 0:A.closeButtonAriaLabel,removeToast:re,toasts:k.filter(Me=>Me.position==ae.position),heights:V.filter(Me=>Me.position==ae.position),setHeights:L,expandByDefault:o,gap:D,expanded:$,swipeDirections:t.swipeDirections})})):null}))}),t5=w.createContext(void 0),n5=({children:e})=>{const{user:t}=Ht(),[n,r]=w.useState([]),[s,i]=w.useState(0),[o,u]=w.useState(!1),[m,f]=w.useState(null),g=w.useCallback(async D=>{if(t){u(!0);try{let R=ze.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);D&&(D.type&&D.type.length>0&&(R=R.in("type",D.type)),D.priority&&D.priority.length>0&&(R=R.in("priority",D.priority)),D.is_read!==void 0&&(R=R.eq("is_read",D.is_read)),D.date_from&&(R=R.gte("created_at",D.date_from)),D.date_to&&(R=R.lte("created_at",D.date_to)),D.search&&(R=R.or(`title.ilike.%${D.search}%,message.ilike.%${D.search}%`)));const{data:U,error:k}=await R;if(k){console.error("Error fetching notifications:",k),Se.error("Failed to load notifications");return}r(U||[]);const I=(U||[]).filter(F=>!F.is_read&&(!F.expires_at||new Date(F.expires_at)>new Date)).length;i(I)}catch(R){console.error("Error fetching notifications:",R),Se.error("Failed to load notifications")}finally{u(!1)}}},[t]),x=w.useCallback(async D=>{if(t)try{const{error:R}=await ze.rpc("mark_notification_read",{p_notification_id:D,p_user_id:t.id});if(R){console.error("Error marking notification as read:",R);return}r(U=>U.map(k=>k.id===D?{...k,is_read:!0,read_at:new Date().toISOString()}:k)),i(U=>Math.max(0,U-1))}catch(R){console.error("Error marking notification as read:",R)}},[t]),j=w.useCallback(async()=>{if(t)try{const{error:D}=await ze.rpc("mark_all_notifications_read",{p_user_id:t.id});if(D){console.error("Error marking all notifications as read:",D),Se.error("Failed to mark notifications as read");return}r(R=>R.map(U=>({...U,is_read:!0,read_at:new Date().toISOString()}))),i(0),Se.success("All notifications marked as read")}catch(D){console.error("Error marking all notifications as read:",D),Se.error("Failed to mark notifications as read")}},[t]),_=w.useCallback(async D=>{if(t)try{const{error:R}=await ze.from("notifications").delete().eq("id",D).eq("user_id",t.id);if(R){console.error("Error deleting notification:",R),Se.error("Failed to delete notification");return}r(k=>k.filter(I=>I.id!==D));const U=n.find(k=>k.id===D);U&&!U.is_read&&i(k=>Math.max(0,k-1)),Se.success("Notification deleted")}catch(R){console.error("Error deleting notification:",R),Se.error("Failed to delete notification")}},[t,n]),C=w.useCallback(async D=>{if(!t)return!1;try{if(D.user_ids&&D.user_ids.length>0){const{error:R}=await ze.rpc("broadcast_notification",{p_user_ids:D.user_ids,p_title:D.title,p_message:D.message,p_type:D.type||"info",p_priority:D.priority||"normal",p_action_url:D.action_url,p_action_label:D.action_label,p_created_by:t.id});if(R)return console.error("Error broadcasting notification:",R),Se.error("Failed to send notifications"),!1}else if(D.user_id){const{error:R}=await ze.from("notifications").insert({user_id:D.user_id,title:D.title,message:D.message,type:D.type||"info",priority:D.priority||"normal",action_url:D.action_url,action_label:D.action_label,metadata:D.metadata,created_by:t.id});if(R)return console.error("Error creating notification:",R),Se.error("Failed to send notification"),!1}else return Se.error("No recipient specified"),!1;return Se.success("Notification sent successfully"),!0}catch(R){return console.error("Error creating notification:",R),Se.error("Failed to send notification"),!1}},[t]),E=w.useCallback(async()=>{if(t)try{const{data:D,error:R}=await ze.from("notifications").select("type, priority, is_read").eq("user_id",t.id);if(R){console.error("Error fetching notification stats:",R);return}const U={total:D.length,unread:D.filter(k=>!k.is_read).length,by_type:{info:D.filter(k=>k.type==="info").length,success:D.filter(k=>k.type==="success").length,warning:D.filter(k=>k.type==="warning").length,error:D.filter(k=>k.type==="error").length,system:D.filter(k=>k.type==="system").length,ticket:D.filter(k=>k.type==="ticket").length,payment:D.filter(k=>k.type==="payment").length,refund:D.filter(k=>k.type==="refund").length,event:D.filter(k=>k.type==="event").length},by_priority:{low:D.filter(k=>k.priority==="low").length,normal:D.filter(k=>k.priority==="normal").length,high:D.filter(k=>k.priority==="high").length,urgent:D.filter(k=>k.priority==="urgent").length}};f(U)}catch(D){console.error("Error refreshing notification stats:",D)}},[t]),A=w.useCallback(()=>{if(!t)return null;const D=ze.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},R=>{if(R.eventType==="INSERT"){const U=R.new;r(k=>[U,...k]),U.is_read||i(k=>k+1),U.priority==="urgent"?Se.error(U.title,{description:U.message}):U.type==="success"?Se.success(U.title,{description:U.message}):Se.info(U.title,{description:U.message})}else if(R.eventType==="UPDATE"){const U=R.new;r(k=>k.map(I=>I.id===U.id?U:I))}else if(R.eventType==="DELETE"){const U=R.old.id;r(k=>k.filter(I=>I.id!==U))}}).subscribe();return{unsubscribe:()=>{D.unsubscribe()}}},[t]);w.useEffect(()=>{if(t){g(),E();const D=A();return()=>{D==null||D.unsubscribe()}}},[t,g,E,A]),w.useEffect(()=>{const D=setInterval(()=>{t&&E()},3e5);return()=>clearInterval(D)},[t,E]);const M={notifications:n,unreadCount:s,loading:o,stats:m,fetchNotifications:g,markAsRead:x,markAllAsRead:j,deleteNotification:_,createNotification:C,subscribe:A,refreshStats:E};return a.jsx(t5.Provider,{value:M,children:e})},nA=()=>{const e=w.useContext(t5);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},r5=w.createContext(void 0),a5=({children:e})=>{const{user:t}=Ht(),[n,r]=w.useState([]),[s,i]=w.useState(null),[o,u]=w.useState([]),[m,f]=w.useState(!1),[g,x]=w.useState(null),j=w.useCallback(async I=>{if(t){f(!0);try{let F=ze.from("conversations").select(`
          *,
          user:profiles!conversations_user_id_fkey(id, full_name, email, avatar_url),
          assigned_admin:profiles!conversations_assigned_admin_id_fkey(id, full_name, email)
        `).order("updated_at",{ascending:!1});t.role==="admin"||(F=F.eq("user_id",t.id)),I&&(I.status&&I.status.length>0&&(F=F.in("status",I.status)),I.priority&&I.priority.length>0&&(F=F.in("priority",I.priority)),I.category&&I.category.length>0&&(F=F.in("category",I.category)),I.assigned_admin_id&&(F=F.eq("assigned_admin_id",I.assigned_admin_id)),I.date_from&&(F=F.gte("created_at",I.date_from)),I.date_to&&(F=F.lte("created_at",I.date_to)),I.search&&(F=F.or(`subject.ilike.%${I.search}%,category.ilike.%${I.search}%`)));const{data:V,error:L}=await F;if(L){console.error("Error fetching conversations:",L),Se.error("Failed to load conversations");return}const $=await Promise.all((V||[]).map(async Y=>{const{data:q}=await ze.from("messages").select(`
              *,
              sender:profiles!messages_sender_id_fkey(id, full_name, avatar_url)
            `).eq("conversation_id",Y.id).eq("is_internal",!1).order("created_at",{ascending:!1}).limit(1);let X=0;if(t.role!=="admin"){const{data:Q}=await ze.from("messages").select("id").eq("conversation_id",Y.id).neq("sender_id",t.id).eq("is_internal",!1).gt("created_at",Y.updated_at||Y.created_at);X=(Q==null?void 0:Q.length)||0}return{...Y,last_message:(q==null?void 0:q[0])||null,unread_count:X}}));r($)}catch(F){console.error("Error fetching conversations:",F),Se.error("Failed to load conversations")}finally{f(!1)}}},[t]),_=w.useCallback(async I=>{if(t){f(!0);try{const{data:F,error:V}=await ze.from("messages").select(`
          *,
          sender:profiles!messages_sender_id_fkey(id, full_name, email, avatar_url, role)
        `).eq("conversation_id",I).order("created_at",{ascending:!0});if(V){console.error("Error fetching messages:",V),Se.error("Failed to load messages");return}const L=t.role==="admin"?F||[]:(F||[]).filter($=>!$.is_internal);u(L)}catch(F){console.error("Error fetching messages:",F),Se.error("Failed to load messages")}finally{f(!1)}}},[t]),C=w.useCallback(async I=>{if(!t)return null;try{const{data:F,error:V}=await ze.rpc("start_chat_conversation",{p_user_id:t.id,p_subject:I.subject,p_initial_message:I.initial_message,p_category:I.category||"general",p_priority:I.priority||"normal"});if(V)return console.error("Error creating conversation:",V),Se.error("Failed to start conversation"),null;const L=F[0];return L.success?(Se.success("Support request submitted successfully"),await j(),L.conversation_id):(Se.error(L.message),null)}catch(F){return console.error("Error creating conversation:",F),Se.error("Failed to start conversation"),null}},[t,j]),E=w.useCallback(async I=>{if(t)try{const{data:F,error:V}=await ze.rpc("add_chat_message",{p_conversation_id:I.conversation_id,p_sender_id:t.id,p_content:I.content,p_message_type:I.message_type||"text",p_attachments:I.attachments||[],p_is_internal:I.is_internal||!1});if(V){console.error("Error sending message:",V),Se.error("Failed to send message");return}const L=F[0];L.success?((s==null?void 0:s.id)===I.conversation_id&&await _(I.conversation_id),await j()):Se.error(L.message)}catch(F){console.error("Error sending message:",F),Se.error("Failed to send message")}},[t,s,_,j]),A=w.useCallback(I=>{i(I),I?_(I.id):u([])},[_]),M=w.useCallback(async(I,F)=>{if(!(!t||t.role!=="admin"))try{const{error:V}=await ze.from("conversations").update({assigned_admin_id:F,status:"assigned",updated_at:new Date().toISOString()}).eq("id",I);if(V){console.error("Error assigning conversation:",V),Se.error("Failed to assign conversation");return}Se.success("Conversation assigned successfully"),await j()}catch(V){console.error("Error assigning conversation:",V),Se.error("Failed to assign conversation")}},[t,j]),D=w.useCallback(async(I,F)=>{if(t)try{const V={status:F,updated_at:new Date().toISOString()};(F==="resolved"||F==="closed")&&(V.resolved_at=new Date().toISOString());const{error:L}=await ze.from("conversations").update(V).eq("id",I);if(L){console.error("Error updating conversation status:",L),Se.error("Failed to update conversation status");return}Se.success(`Conversation marked as ${F}`),await j()}catch(V){console.error("Error updating conversation status:",V),Se.error("Failed to update conversation status")}},[t,j]),R=w.useCallback(async()=>{if(!(!t||t.role!=="admin"))try{const{data:I,error:F}=await ze.from("conversations").select("status, priority, category, created_at, resolved_at");if(F){console.error("Error fetching chat stats:",F);return}const V=new Date,L=new Date(V.getFullYear(),V.getMonth(),V.getDate()),$={total_conversations:I.length,open_conversations:I.filter(Y=>Y.status==="open").length,assigned_conversations:I.filter(Y=>Y.status==="assigned").length,resolved_today:I.filter(Y=>Y.resolved_at&&new Date(Y.resolved_at)>=L).length,average_response_time:0,by_category:{},by_priority:{low:I.filter(Y=>Y.priority==="low").length,normal:I.filter(Y=>Y.priority==="normal").length,high:I.filter(Y=>Y.priority==="high").length,urgent:I.filter(Y=>Y.priority==="urgent").length}};I.forEach(Y=>{const q=Y.category||"general";$.by_category[q]=($.by_category[q]||0)+1}),x($)}catch(I){console.error("Error refreshing chat stats:",I)}},[t]),U=w.useCallback(()=>{if(!t)return null;const I=ze.channel("conversations").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},V=>{j()}).subscribe(),F=ze.channel("messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},V=>{if(V.eventType==="INSERT"){const L=V.new;(s==null?void 0:s.id)===L.conversation_id&&ze.from("messages").select(`
                  *,
                  sender:profiles!messages_sender_id_fkey(id, full_name, email, avatar_url, role)
                `).eq("id",L.id).single().then(({data:$})=>{$&&u(Y=>[...Y,$])}),L.sender_id!==t.id&&!L.is_internal&&Se.info("New message received",{description:"You have a new message in your support conversation"})}j()}).subscribe();return{unsubscribe:()=>{I.unsubscribe(),F.unsubscribe()}}},[t,s,j]);w.useEffect(()=>{if(t){j(),t.role==="admin"&&R();const I=U();return()=>{I==null||I.unsubscribe()}}},[t,j,R,U]),w.useEffect(()=>{if((t==null?void 0:t.role)==="admin"){const I=setInterval(()=>{R()},3e5);return()=>clearInterval(I)}},[t,R]);const k={conversations:n,activeConversation:s,messages:o,loading:m,stats:g,fetchConversations:j,fetchMessages:_,createConversation:C,sendMessage:E,setActiveConversation:A,assignConversation:M,updateConversationStatus:D,subscribe:U,refreshStats:R};return a.jsx(r5.Provider,{value:k,children:e})},s5=()=>{const e=w.useContext(r5);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wM="popstate";function hK(e={}){function t(r,s){let{pathname:i,search:o,hash:u}=r.location;return rS("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ep(s)}return gK(t,n,null,e)}function gr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mK(){return Math.random().toString(36).substring(2,10)}function jM(e,t){return{usr:e.state,key:e.key,idx:t}}function rS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xh(t):t,state:n,key:t&&t.key||r||mK()}}function ep({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function gK(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",m=null,f=g();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function g(){return(o.state||{idx:null}).idx}function x(){u="POP";let A=g(),M=A==null?null:A-f;f=A,m&&m({action:u,location:E.location,delta:M})}function j(A,M){u="PUSH";let D=rS(E.location,A,M);f=g()+1;let R=jM(D,f),U=E.createHref(D);try{o.pushState(R,"",U)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(U)}i&&m&&m({action:u,location:E.location,delta:1})}function _(A,M){u="REPLACE";let D=rS(E.location,A,M);f=g();let R=jM(D,f),U=E.createHref(D);o.replaceState(R,"",U),i&&m&&m({action:u,location:E.location,delta:0})}function C(A){return pK(A)}let E={get action(){return u},get location(){return e(s,o)},listen(A){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(wM,x),m=A,()=>{s.removeEventListener(wM,x),m=null}},createHref(A){return t(s,A)},createURL:C,encodeLocation(A){let M=C(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:j,replace:_,go(A){return o.go(A)}};return E}function pK(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ep(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function i5(e,t,n="/"){return xK(e,t,n,!1)}function xK(e,t,n,r){let s=typeof t=="string"?Xh(t):t,i=zl(s.pathname||"/",n);if(i==null)return null;let o=o5(e);vK(o);let u=null;for(let m=0;u==null&&m<o.length;++m){let f=TK(i);u=EK(o[m],f,r)}return u}function o5(e,t=[],n=[],r=""){let s=(i,o,u)=>{let m={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};m.relativePath.startsWith("/")&&(gr(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let f=Il([r,m.relativePath]),g=n.concat(m);i.children&&i.children.length>0&&(gr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),o5(i.children,t,g,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:_K(f,i.index),routesMeta:g})};return e.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,o);else for(let m of l5(i.path))s(i,o,m)}),t}function l5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=l5(r.join("/")),u=[];return u.push(...o.map(m=>m===""?i:[i,m].join("/"))),s&&u.push(...o),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function vK(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:AK(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yK=/^:[\w-]+$/,bK=3,wK=2,jK=1,NK=10,SK=-2,NM=e=>e==="*";function _K(e,t){let n=e.split("/"),r=n.length;return n.some(NM)&&(r+=SK),t&&(r+=wK),n.filter(s=>!NM(s)).reduce((s,i)=>s+(yK.test(i)?bK:i===""?jK:NK),r)}function AK(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function EK(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let u=0;u<r.length;++u){let m=r[u],f=u===r.length-1,g=i==="/"?t:t.slice(i.length)||"/",x=_v({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},g),j=m.route;if(!x&&f&&n&&!r[r.length-1].route.index&&(x=_v({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),o.push({params:s,pathname:Il([i,x.pathname]),pathnameBase:PK(Il([i,x.pathnameBase])),route:j}),x.pathnameBase!=="/"&&(i=Il([i,x.pathnameBase]))}return o}function _v(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=CK(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:x},j)=>{if(g==="*"){let C=u[j]||"";o=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const _=u[j];return x&&!_?f[g]=void 0:f[g]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:e}}function CK(e,t=!1,n=!0){Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,m)=>(r.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function TK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function OK(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Xh(e):e;return{pathname:n?n.startsWith("/")?n:MK(n,t):t,search:RK(r),hash:kK(s)}}function MK(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function c2(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rA(e){let t=DK(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function aA(e,t,n,r=!1){let s;typeof e=="string"?s=Xh(e):(s={...e},gr(!s.pathname||!s.pathname.includes("?"),c2("?","pathname","search",s)),gr(!s.pathname||!s.pathname.includes("#"),c2("#","pathname","hash",s)),gr(!s.search||!s.search.includes("#"),c2("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let x=t.length-1;if(!r&&o.startsWith("..")){let j=o.split("/");for(;j[0]==="..";)j.shift(),x-=1;s.pathname=j.join("/")}u=x>=0?t[x]:"/"}let m=OK(s,u),f=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}var Il=e=>e.join("/").replace(/\/\/+/g,"/"),PK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var c5=["POST","PUT","PATCH","DELETE"];new Set(c5);var LK=["GET",...c5];new Set(LK);var Qh=w.createContext(null);Qh.displayName="DataRouter";var ky=w.createContext(null);ky.displayName="DataRouterState";w.createContext(!1);var u5=w.createContext({isTransitioning:!1});u5.displayName="ViewTransition";var BK=w.createContext(new Map);BK.displayName="Fetchers";var FK=w.createContext(null);FK.displayName="Await";var po=w.createContext(null);po.displayName="Navigation";var Pp=w.createContext(null);Pp.displayName="Location";var rl=w.createContext({outlet:null,matches:[],isDataRoute:!1});rl.displayName="Route";var sA=w.createContext(null);sA.displayName="RouteError";function UK(e,{relative:t}={}){gr(Zh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(po),{hash:s,pathname:i,search:o}=Rp(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:Il([n,i])),r.createHref({pathname:u,search:o,hash:s})}function Zh(){return w.useContext(Pp)!=null}function al(){return gr(Zh(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Pp).location}var d5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f5(e){w.useContext(po).static||w.useLayoutEffect(e)}function xo(){let{isDataRoute:e}=w.useContext(rl);return e?JK():zK()}function zK(){gr(Zh(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Qh),{basename:t,navigator:n}=w.useContext(po),{matches:r}=w.useContext(rl),{pathname:s}=al(),i=JSON.stringify(rA(r)),o=w.useRef(!1);return f5(()=>{o.current=!0}),w.useCallback((m,f={})=>{if(Fi(o.current,d5),!o.current)return;if(typeof m=="number"){n.go(m);return}let g=aA(m,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Il([t,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[t,n,i,s,e])}w.createContext(null);function Rp(e,{relative:t}={}){let{matches:n}=w.useContext(rl),{pathname:r}=al(),s=JSON.stringify(rA(n));return w.useMemo(()=>aA(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function VK(e,t){return h5(e,t)}function h5(e,t,n,r){var M;gr(Zh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(po),{matches:i}=w.useContext(rl),o=i[i.length-1],u=o?o.params:{},m=o?o.pathname:"/",f=o?o.pathnameBase:"/",g=o&&o.route;{let D=g&&g.path||"";m5(m,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=al(),j;if(t){let D=typeof t=="string"?Xh(t):t;gr(f==="/"||((M=D.pathname)==null?void 0:M.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${D.pathname}" was given in the \`location\` prop.`),j=D}else j=x;let _=j.pathname||"/",C=_;if(f!=="/"){let D=f.replace(/^\//,"").split("/");C="/"+_.replace(/^\//,"").split("/").slice(D.length).join("/")}let E=i5(e,{pathname:C});Fi(g||E!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Fi(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=WK(E&&E.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:Il([f,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?f:Il([f,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),i,n,r);return t&&A?w.createElement(Pp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},A):A}function $K(){let e=ZK(),t=IK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,o)}var HK=w.createElement($K,null),qK=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(rl.Provider,{value:this.props.routeContext},w.createElement(sA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YK({routeContext:e,match:t,children:n}){let r=w.useContext(Qh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(rl.Provider,{value:e},n)}function WK(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let m=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);gr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let o=!1,u=-1;if(n)for(let m=0;m<s.length;m++){let f=s[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:g,errors:x}=n,j=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||j){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((m,f,g)=>{let x,j=!1,_=null,C=null;n&&(x=i&&f.route.id?i[f.route.id]:void 0,_=f.route.errorElement||HK,o&&(u<0&&g===0?(m5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,C=null):u===g&&(j=!0,C=f.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,g+1)),A=()=>{let M;return x?M=_:j?M=C:f.route.Component?M=w.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=m,w.createElement(YK,{match:f,routeContext:{outlet:m,matches:E,isDataRoute:n!=null},children:M})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?w.createElement(qK,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):A()},null)}function iA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GK(e){let t=w.useContext(Qh);return gr(t,iA(e)),t}function KK(e){let t=w.useContext(ky);return gr(t,iA(e)),t}function XK(e){let t=w.useContext(rl);return gr(t,iA(e)),t}function oA(e){let t=XK(e),n=t.matches[t.matches.length-1];return gr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function QK(){return oA("useRouteId")}function ZK(){var r;let e=w.useContext(sA),t=KK("useRouteError"),n=oA("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function JK(){let{router:e}=GK("useNavigate"),t=oA("useNavigate"),n=w.useRef(!1);return f5(()=>{n.current=!0}),w.useCallback(async(s,i={})=>{Fi(n.current,d5),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var SM={};function m5(e,t,n){!t&&!SM[e]&&(SM[e]=!0,Fi(!1,n))}w.memo(eX);function eX({routes:e,future:t,state:n}){return h5(e,void 0,n,t)}function Vl({to:e,replace:t,state:n,relative:r}){gr(Zh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(po);Fi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(rl),{pathname:o}=al(),u=xo(),m=aA(e,rA(i),o,r==="path"),f=JSON.stringify(m);return w.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function ht(e){gr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tX({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){gr(!Zh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Xh(n));let{pathname:m="/",search:f="",hash:g="",state:x=null,key:j="default"}=n,_=w.useMemo(()=>{let C=zl(m,o);return C==null?null:{location:{pathname:C,search:f,hash:g,state:x,key:j},navigationType:r}},[o,m,f,g,x,j,r]);return Fi(_!=null,`<Router basename="${o}"> is not able to match the URL "${m}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:w.createElement(po.Provider,{value:u},w.createElement(Pp.Provider,{children:t,value:_}))}function Jh({children:e,location:t}){return VK(aS(e),t)}function aS(e,t=[]){let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,aS(r.props.children,i));return}gr(r.type===ht,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=aS(r.props.children,i)),n.push(o)}),n}var uv="get",dv="application/x-www-form-urlencoded";function Iy(e){return e!=null&&typeof e.tagName=="string"}function nX(e){return Iy(e)&&e.tagName.toLowerCase()==="button"}function rX(e){return Iy(e)&&e.tagName.toLowerCase()==="form"}function aX(e){return Iy(e)&&e.tagName.toLowerCase()==="input"}function sX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iX(e,t){return e.button===0&&(!t||t==="_self")&&!sX(e)}function sS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function oX(e,t){let n=sS(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Dx=null;function lX(){if(Dx===null)try{new FormData(document.createElement("form"),0),Dx=!1}catch{Dx=!0}return Dx}var cX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u2(e){return e!=null&&!cX.has(e)?(Fi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dv}"`),null):e}function uX(e,t){let n,r,s,i,o;if(rX(e)){let u=e.getAttribute("action");r=u?zl(u,t):null,n=e.getAttribute("method")||uv,s=u2(e.getAttribute("enctype"))||dv,i=new FormData(e)}else if(nX(e)||aX(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(r=m?zl(m,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||uv,s=u2(e.getAttribute("formenctype"))||u2(u.getAttribute("enctype"))||dv,i=new FormData(u,e),!lX()){let{name:f,type:g,value:x}=e;if(g==="image"){let j=f?`${f}.`:"";i.append(`${j}x`,"0"),i.append(`${j}y`,"0")}else f&&i.append(f,x)}}else{if(Iy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uv,r=null,s=dv,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dX(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&zl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function fX(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hX(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mX(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await fX(i,n);return o.links?o.links():[]}return[]}));return vX(r.flat(1).filter(hX).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _M(e,t,n,r,s,i){let o=(m,f)=>n[f]?m.route.id!==n[f].route.id:!0,u=(m,f)=>{var g;return n[f].pathname!==m.pathname||((g=n[f].route.path)==null?void 0:g.endsWith("*"))&&n[f].params["*"]!==m.params["*"]};return i==="assets"?t.filter((m,f)=>o(m,f)||u(m,f)):i==="data"?t.filter((m,f)=>{var x;let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(o(m,f)||u(m,f))return!0;if(m.route.shouldRevalidate){let j=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function gX(e,t,{includeHydrateFallback:n}={}){return pX(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function pX(e){return[...new Set(e)]}function xX(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function vX(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(xX(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function g5(){let e=w.useContext(Qh);return lA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yX(){let e=w.useContext(ky);return lA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cA=w.createContext(void 0);cA.displayName="FrameworkContext";function p5(){let e=w.useContext(cA);return lA(e,"You must render this element inside a <HydratedRouter> element"),e}function bX(e,t){let n=w.useContext(cA),[r,s]=w.useState(!1),[i,o]=w.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:f,onMouseLeave:g,onTouchStart:x}=t,j=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let E=M=>{M.forEach(D=>{o(D.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return j.current&&A.observe(j.current),()=>{A.disconnect()}}},[e]),w.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{s(!0)},C=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,j,{}]:[i,j,{onFocus:yg(u,_),onBlur:yg(m,C),onMouseEnter:yg(f,_),onMouseLeave:yg(g,C),onTouchStart:yg(x,_)}]:[!1,j,{}]}function yg(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function wX({page:e,...t}){let{router:n}=g5(),r=w.useMemo(()=>i5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(NX,{page:e,matches:r,...t}):null}function jX(e){let{manifest:t,routeModules:n}=p5(),[r,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return mX(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function NX({page:e,matches:t,...n}){let r=al(),{manifest:s,routeModules:i}=p5(),{basename:o}=g5(),{loaderData:u,matches:m}=yX(),f=w.useMemo(()=>_M(e,t,m,s,r,"data"),[e,t,m,s,r]),g=w.useMemo(()=>_M(e,t,m,s,r,"assets"),[e,t,m,s,r]),x=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,E=!1;if(t.forEach(M=>{var R;let D=s.routes[M.route.id];!D||!D.hasLoader||(!f.some(U=>U.route.id===M.route.id)&&M.route.id in u&&((R=i[M.route.id])!=null&&R.shouldRevalidate)||D.hasClientLoader?E=!0:C.add(M.route.id))}),C.size===0)return[];let A=dX(e,o,"data");return E&&C.size>0&&A.searchParams.set("_routes",t.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[o,u,r,s,f,t,e,i]),j=w.useMemo(()=>gX(g,s),[g,s]),_=jX(g);return w.createElement(w.Fragment,null,x.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),j.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),_.map(({key:C,link:E})=>w.createElement("link",{key:C,...E})))}function SX(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x5&&(window.__reactRouterVersion="7.7.1")}catch{}function _X({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=hK({window:n,v5Compat:!0}));let s=r.current,[i,o]=w.useState({action:s.action,location:s.location}),u=w.useCallback(m=>{w.startTransition(()=>o(m))},[o]);return w.useLayoutEffect(()=>s.listen(u),[s,u]),w.createElement(tX,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var v5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:u,target:m,to:f,preventScrollReset:g,viewTransition:x,...j},_){let{basename:C}=w.useContext(po),E=typeof f=="string"&&v5.test(f),A,M=!1;if(typeof f=="string"&&E&&(A=f,x5))try{let L=new URL(window.location.href),$=f.startsWith("//")?new URL(L.protocol+f):new URL(f),Y=zl($.pathname,C);$.origin===L.origin&&Y!=null?f=Y+$.search+$.hash:M=!0}catch{Fi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=UK(f,{relative:s}),[R,U,k]=bX(r,j),I=TX(f,{replace:o,state:u,target:m,preventScrollReset:g,relative:s,viewTransition:x});function F(L){t&&t(L),L.defaultPrevented||I(L)}let V=w.createElement("a",{...j,...k,href:A||D,onClick:M||i?t:F,ref:SX(_,U),target:m,"data-discover":!E&&n==="render"?"true":void 0});return R&&!E?w.createElement(w.Fragment,null,V,w.createElement(wX,{page:D})):V});$t.displayName="Link";var AX=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:u,children:m,...f},g){let x=Rp(o,{relative:f.relative}),j=al(),_=w.useContext(ky),{navigator:C,basename:E}=w.useContext(po),A=_!=null&&RX(x)&&u===!0,M=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,D=j.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(D=D.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&E&&(R=zl(R,E)||R);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let k=D===M||!s&&D.startsWith(M)&&D.charAt(U)==="/",I=R!=null&&(R===M||!s&&R.startsWith(M)&&R.charAt(M.length)==="/"),F={isActive:k,isPending:I,isTransitioning:A},V=k?t:void 0,L;typeof r=="function"?L=r(F):L=[r,k?"active":null,I?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(F):i;return w.createElement($t,{...f,"aria-current":V,className:L,ref:g,style:$,to:o,viewTransition:u},typeof m=="function"?m(F):m)});AX.displayName="NavLink";var EX=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=uv,action:u,onSubmit:m,relative:f,preventScrollReset:g,viewTransition:x,...j},_)=>{let C=DX(),E=PX(u,{relative:f}),A=o.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&v5.test(u),D=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let U=R.nativeEvent.submitter,k=(U==null?void 0:U.getAttribute("formmethod"))||o;C(U||R.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:s,state:i,relative:f,preventScrollReset:g,viewTransition:x})};return w.createElement("form",{ref:_,method:A,action:E,onSubmit:r?m:D,...j,"data-discover":!M&&e==="render"?"true":void 0})});EX.displayName="Form";function CX(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y5(e){let t=w.useContext(Qh);return gr(t,CX(e)),t}function TX(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=xo(),m=al(),f=Rp(e,{relative:i});return w.useCallback(g=>{if(iX(g,t)){g.preventDefault();let x=n!==void 0?n:ep(m)===ep(f);u(e,{replace:x,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[m,u,f,n,r,t,e,s,i,o])}function b5(e){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(sS(e)),n=w.useRef(!1),r=al(),s=w.useMemo(()=>oX(r.search,n.current?null:t.current),[r.search]),i=xo(),o=w.useCallback((u,m)=>{const f=sS(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,i("?"+f,m)},[i,s]);return[s,o]}var OX=0,MX=()=>`__${String(++OX)}__`;function DX(){let{router:e}=y5("useSubmit"),{basename:t}=w.useContext(po),n=QK();return w.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:m,body:f}=uX(r,t);if(s.navigate===!1){let g=s.fetcherKey||MX();await e.fetch(g,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function PX(e,{relative:t}={}){let{basename:n}=w.useContext(po),r=w.useContext(rl);gr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Rp(e||".",{relative:t})},o=al();if(e==null){i.search=o.search;let u=new URLSearchParams(i.search),m=u.getAll("index");if(m.some(g=>g==="")){u.delete("index"),m.filter(x=>x).forEach(x=>u.append("index",x));let g=u.toString();i.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Il([n,i.pathname])),ep(i)}function RX(e,{relative:t}={}){let n=w.useContext(u5);gr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=y5("useViewTransitionState"),s=Rp(e,{relative:t});if(!n.isTransitioning)return!1;let i=zl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=zl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _v(s.pathname,o)!=null||_v(s.pathname,i)!=null}const uA=w.createContext({});function dA(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const fA=typeof window<"u",w5=fA?w.useLayoutEffect:w.useEffect,Ly=w.createContext(null);function hA(e,t){e.indexOf(t)===-1&&e.push(t)}function mA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $l=(e,t,n)=>n>t?t:n<e?e:n;let gA=()=>{};const Hl={},j5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function N5(e){return typeof e=="object"&&e!==null}const S5=e=>/^0[^.\s]+$/u.test(e);function pA(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ii=e=>e,kX=(e,t)=>n=>t(e(n)),kp=(...e)=>e.reduce(kX),tp=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class xA{constructor(){this.subscriptions=[]}add(t){return hA(this.subscriptions,t),()=>mA(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yo=e=>e*1e3,Wo=e=>e/1e3;function _5(e,t){return t?e*(1e3/t):0}const A5=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,IX=1e-7,LX=12;function BX(e,t,n,r,s){let i,o,u=0;do o=t+(n-t)/2,i=A5(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>IX&&++u<LX);return o}function Ip(e,t,n,r){if(e===t&&n===r)return Ii;const s=i=>BX(i,0,1,e,n);return i=>i===0||i===1?i:A5(s(i),t,r)}const E5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,C5=e=>t=>1-e(1-t),T5=Ip(.33,1.53,.69,.99),vA=C5(T5),O5=E5(vA),M5=e=>(e*=2)<1?.5*vA(e):.5*(2-Math.pow(2,-10*(e-1))),yA=e=>1-Math.sin(Math.acos(e)),D5=C5(yA),P5=E5(yA),FX=Ip(.42,0,1,1),UX=Ip(0,0,.58,1),R5=Ip(.42,0,.58,1),zX=e=>Array.isArray(e)&&typeof e[0]!="number",k5=e=>Array.isArray(e)&&typeof e[0]=="number",VX={linear:Ii,easeIn:FX,easeInOut:R5,easeOut:UX,circIn:yA,circInOut:P5,circOut:D5,backIn:vA,backInOut:O5,backOut:T5,anticipate:M5},$X=e=>typeof e=="string",AM=e=>{if(k5(e)){gA(e.length===4);const[t,n,r,s]=e;return Ip(t,n,r,s)}else if($X(e))return VX[e];return e},Px=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function HX(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(g){o.has(g)&&(f.schedule(g),e()),g(u)}const f={schedule:(g,x=!1,j=!1)=>{const C=j&&s?n:r;return x&&o.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),o.delete(g)},process:g=>{if(u=g,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(m),n.clear(),s=!1,i&&(i=!1,f.process(g))}};return f}const qX=40;function I5(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Px.reduce((R,U)=>(R[U]=HX(i),R),{}),{setup:u,read:m,resolveKeyframes:f,preUpdate:g,update:x,preRender:j,render:_,postRender:C}=o,E=()=>{const R=Hl.useManualTiming?s.timestamp:performance.now();n=!1,Hl.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,qX),1)),s.timestamp=R,s.isProcessing=!0,u.process(s),m.process(s),f.process(s),g.process(s),x.process(s),j.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(E))},A=()=>{n=!0,r=!0,s.isProcessing||e(E)};return{schedule:Px.reduce((R,U)=>{const k=o[U];return R[U]=(I,F=!1,V=!1)=>(n||A(),k.schedule(I,F,V)),R},{}),cancel:R=>{for(let U=0;U<Px.length;U++)o[Px[U]].cancel(R)},state:s,steps:o}}const{schedule:hr,cancel:au,state:Ha,steps:d2}=I5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ii,!0);let fv;function YX(){fv=void 0}const Us={now:()=>(fv===void 0&&Us.set(Ha.isProcessing||Hl.useManualTiming?Ha.timestamp:performance.now()),fv),set:e=>{fv=e,queueMicrotask(YX)}},L5=e=>t=>typeof t=="string"&&t.startsWith(e),bA=L5("--"),WX=L5("var(--"),wA=e=>WX(e)?GX.test(e.split("/*")[0].trim()):!1,GX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,em={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},np={...em,transform:e=>$l(0,1,e)},Rx={...em,default:1},qg=e=>Math.round(e*1e5)/1e5,jA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KX(e){return e==null}const XX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,NA=(e,t)=>n=>!!(typeof n=="string"&&XX.test(n)&&n.startsWith(e)||t&&!KX(n)&&Object.prototype.hasOwnProperty.call(n,t)),B5=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(jA);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},QX=e=>$l(0,255,e),f2={...em,transform:e=>Math.round(QX(e))},hd={test:NA("rgb","red"),parse:B5("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+f2.transform(e)+", "+f2.transform(t)+", "+f2.transform(n)+", "+qg(np.transform(r))+")"};function ZX(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const iS={test:NA("#"),parse:ZX,transform:hd.transform},Lp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kc=Lp("deg"),Go=Lp("%"),Pt=Lp("px"),JX=Lp("vh"),eQ=Lp("vw"),EM={...Go,parse:e=>Go.parse(e)/100,transform:e=>Go.transform(e*100)},oh={test:NA("hsl","hue"),parse:B5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Go.transform(qg(t))+", "+Go.transform(qg(n))+", "+qg(np.transform(r))+")"},sa={test:e=>hd.test(e)||iS.test(e)||oh.test(e),parse:e=>hd.test(e)?hd.parse(e):oh.test(e)?oh.parse(e):iS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hd.transform(e):oh.transform(e),getAnimatableNone:e=>{const t=sa.parse(e);return t.alpha=0,sa.transform(t)}},tQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nQ(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jA))==null?void 0:t.length)||0)+(((n=e.match(tQ))==null?void 0:n.length)||0)>0}const F5="number",U5="color",rQ="var",aQ="var(",CM="${}",sQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rp(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const u=t.replace(sQ,m=>(sa.test(m)?(r.color.push(i),s.push(U5),n.push(sa.parse(m))):m.startsWith(aQ)?(r.var.push(i),s.push(rQ),n.push(m)):(r.number.push(i),s.push(F5),n.push(parseFloat(m))),++i,CM)).split(CM);return{values:n,split:u,indexes:r,types:s}}function z5(e){return rp(e).values}function V5(e){const{split:t,types:n}=rp(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const u=n[o];u===F5?i+=qg(s[o]):u===U5?i+=sa.transform(s[o]):i+=s[o]}return i}}const iQ=e=>typeof e=="number"?0:sa.test(e)?sa.getAnimatableNone(e):e;function oQ(e){const t=z5(e);return V5(e)(t.map(iQ))}const su={test:nQ,parse:z5,createTransformer:V5,getAnimatableNone:oQ};function h2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lQ({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const u=n<.5?n*(1+t):n+t-n*t,m=2*n-u;s=h2(m,u,e+1/3),i=h2(m,u,e),o=h2(m,u,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Av(e,t){return n=>n>0?t:e}const Cr=(e,t,n)=>e+(t-e)*n,m2=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},cQ=[iS,hd,oh],uQ=e=>cQ.find(t=>t.test(e));function TM(e){const t=uQ(e);if(!t)return!1;let n=t.parse(e);return t===oh&&(n=lQ(n)),n}const OM=(e,t)=>{const n=TM(e),r=TM(t);if(!n||!r)return Av(e,t);const s={...n};return i=>(s.red=m2(n.red,r.red,i),s.green=m2(n.green,r.green,i),s.blue=m2(n.blue,r.blue,i),s.alpha=Cr(n.alpha,r.alpha,i),hd.transform(s))},oS=new Set(["none","hidden"]);function dQ(e,t){return oS.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function fQ(e,t){return n=>Cr(e,t,n)}function SA(e){return typeof e=="number"?fQ:typeof e=="string"?wA(e)?Av:sa.test(e)?OM:gQ:Array.isArray(e)?$5:typeof e=="object"?sa.test(e)?OM:hQ:Av}function $5(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>SA(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function hQ(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=SA(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function mQ(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],u=e.values[o]??0;n[s]=u,r[i]++}return n}const gQ=(e,t)=>{const n=su.createTransformer(t),r=rp(e),s=rp(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?oS.has(e)&&!s.values.length||oS.has(t)&&!r.values.length?dQ(e,t):kp($5(mQ(r,s),s.values),n):Av(e,t)};function H5(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Cr(e,t,n):SA(e)(e,t)}const pQ=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>hr.update(t,n),stop:()=>au(t),now:()=>Ha.isProcessing?Ha.timestamp:Us.now()}},q5=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ev=2e4;function _A(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ev;)t+=n,r=e.next(t);return t>=Ev?1/0:t}function xQ(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(_A(r),Ev);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Wo(s)}}const vQ=5;function Y5(e,t,n){const r=Math.max(t-vQ,0);return _5(n-e(r),t-r)}const Br={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},MM=.001;function yQ({duration:e=Br.duration,bounce:t=Br.bounce,velocity:n=Br.velocity,mass:r=Br.mass}){let s,i,o=1-t;o=$l(Br.minDamping,Br.maxDamping,o),e=$l(Br.minDuration,Br.maxDuration,Wo(e)),o<1?(s=f=>{const g=f*o,x=g*e,j=g-n,_=lS(f,o),C=Math.exp(-x);return MM-j/_*C},i=f=>{const x=f*o*e,j=x*n+n,_=Math.pow(o,2)*Math.pow(f,2)*e,C=Math.exp(-x),E=lS(Math.pow(f,2),o);return(-s(f)+MM>0?-1:1)*((j-_)*C)/E}):(s=f=>{const g=Math.exp(-f*e),x=(f-n)*e+1;return-.001+g*x},i=f=>{const g=Math.exp(-f*e),x=(n-f)*(e*e);return g*x});const u=5/e,m=wQ(s,i,u);if(e=Yo(e),isNaN(m))return{stiffness:Br.stiffness,damping:Br.damping,duration:e};{const f=Math.pow(m,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:e}}}const bQ=12;function wQ(e,t,n){let r=n;for(let s=1;s<bQ;s++)r=r-e(r)/t(r);return r}function lS(e,t){return e*Math.sqrt(1-t*t)}const jQ=["duration","bounce"],NQ=["stiffness","damping","mass"];function DM(e,t){return t.some(n=>e[n]!==void 0)}function SQ(e){let t={velocity:Br.velocity,stiffness:Br.stiffness,damping:Br.damping,mass:Br.mass,isResolvedFromDuration:!1,...e};if(!DM(e,NQ)&&DM(e,jQ))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*$l(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Br.mass,stiffness:s,damping:i}}else{const n=yQ(e);t={...t,...n,mass:Br.mass},t.isResolvedFromDuration=!0}return t}function Cv(e=Br.visualDuration,t=Br.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:m,damping:f,mass:g,duration:x,velocity:j,isResolvedFromDuration:_}=SQ({...n,velocity:-Wo(n.velocity||0)}),C=j||0,E=f/(2*Math.sqrt(m*g)),A=o-i,M=Wo(Math.sqrt(m/g)),D=Math.abs(A)<5;r||(r=D?Br.restSpeed.granular:Br.restSpeed.default),s||(s=D?Br.restDelta.granular:Br.restDelta.default);let R;if(E<1){const k=lS(M,E);R=I=>{const F=Math.exp(-E*M*I);return o-F*((C+E*M*A)/k*Math.sin(k*I)+A*Math.cos(k*I))}}else if(E===1)R=k=>o-Math.exp(-M*k)*(A+(C+M*A)*k);else{const k=M*Math.sqrt(E*E-1);R=I=>{const F=Math.exp(-E*M*I),V=Math.min(k*I,300);return o-F*((C+E*M*A)*Math.sinh(V)+k*A*Math.cosh(V))/k}}const U={calculatedDuration:_&&x||null,next:k=>{const I=R(k);if(_)u.done=k>=x;else{let F=k===0?C:0;E<1&&(F=k===0?Yo(C):Y5(R,k,I));const V=Math.abs(F)<=r,L=Math.abs(o-I)<=s;u.done=V&&L}return u.value=u.done?o:I,u},toString:()=>{const k=Math.min(_A(U),Ev),I=q5(F=>U.next(k*F).value,k,30);return k+"ms "+I},toTransition:()=>{}};return U}Cv.applyToOptions=e=>{const t=xQ(e,100,Cv);return e.ease=t.ease,e.duration=Yo(t.duration),e.type="keyframes",e};function cS({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:m,restDelta:f=.5,restSpeed:g}){const x=e[0],j={done:!1,value:x},_=V=>u!==void 0&&V<u||m!==void 0&&V>m,C=V=>u===void 0?m:m===void 0||Math.abs(u-V)<Math.abs(m-V)?u:m;let E=n*t;const A=x+E,M=o===void 0?A:o(A);M!==A&&(E=M-x);const D=V=>-E*Math.exp(-V/r),R=V=>M+D(V),U=V=>{const L=D(V),$=R(V);j.done=Math.abs(L)<=f,j.value=j.done?M:$};let k,I;const F=V=>{_(j.value)&&(k=V,I=Cv({keyframes:[j.value,C(j.value)],velocity:Y5(R,V,j.value),damping:s,stiffness:i,restDelta:f,restSpeed:g}))};return F(0),{calculatedDuration:null,next:V=>{let L=!1;return!I&&k===void 0&&(L=!0,U(V),F(V)),k!==void 0&&V>=k?I.next(V-k):(!L&&U(V),j)}}}function _Q(e,t,n){const r=[],s=n||Hl.mix||H5,i=e.length-1;for(let o=0;o<i;o++){let u=s(e[o],e[o+1]);if(t){const m=Array.isArray(t)?t[o]||Ii:t;u=kp(m,u)}r.push(u)}return r}function AQ(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(gA(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=_Q(t,r,s),m=u.length,f=g=>{if(o&&g<e[0])return t[0];let x=0;if(m>1)for(;x<e.length-2&&!(g<e[x+1]);x++);const j=tp(e[x],e[x+1],g);return u[x](j)};return n?g=>f($l(e[0],e[i-1],g)):f}function EQ(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=tp(0,t,r);e.push(Cr(n,1,s))}}function CQ(e){const t=[0];return EQ(t,e.length-1),t}function TQ(e,t){return e.map(n=>n*t)}function OQ(e,t){return e.map(()=>t||R5).splice(0,e.length-1)}function Yg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=zX(r)?r.map(AM):AM(r),i={done:!1,value:t[0]},o=TQ(n&&n.length===t.length?n:CQ(t),e),u=AQ(o,t,{ease:Array.isArray(s)?s:OQ(t,s)});return{calculatedDuration:e,next:m=>(i.value=u(m),i.done=m>=e,i)}}const MQ=e=>e!==null;function AA(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(MQ),u=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const DQ={decay:cS,inertia:cS,tween:Yg,keyframes:Yg,spring:Cv};function W5(e){typeof e.type=="string"&&(e.type=DQ[e.type])}class EA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const PQ=e=>e/100;class CA extends EA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Us.now()&&this.tick(Us.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;W5(t);const{type:n=Yg,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:u}=t;const m=n||Yg;m!==Yg&&typeof u[0]!="number"&&(this.mixKeyframes=kp(PQ,H5(u[0],u[1])),u=[0,100]);const f=m({...t,keyframes:u});i==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...u].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=_A(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:g,repeat:x,repeatType:j,repeatDelay:_,type:C,onUpdate:E,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const M=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,U=r;if(x){const V=Math.min(this.currentTime,s)/u;let L=Math.floor(V),$=V%1;!$&&V>=1&&($=1),$===1&&L--,L=Math.min(L,x+1),!!(L%2)&&(j==="reverse"?($=1-$,_&&($-=_/u)):j==="mirror"&&(U=o)),R=$l(0,1,$)*u}const k=D?{done:!1,value:g[0]}:U.next(R);i&&(k.value=i(k.value));let{done:I}=k;!D&&m!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return F&&C!==cS&&(k.value=AA(g,this.options,A,this.speed)),E&&E(k.value),F&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Wo(this.calculatedDuration)}get time(){return Wo(this.currentTime)}set time(t){var n;t=Yo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Us.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Wo(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=pQ,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Us.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function RQ(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const md=e=>e*180/Math.PI,uS=e=>{const t=md(Math.atan2(e[1],e[0]));return dS(t)},kQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:uS,rotateZ:uS,skewX:e=>md(Math.atan(e[1])),skewY:e=>md(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dS=e=>(e=e%360,e<0&&(e+=360),e),PM=uS,RM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),kM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),IQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RM,scaleY:kM,scale:e=>(RM(e)+kM(e))/2,rotateX:e=>dS(md(Math.atan2(e[6],e[5]))),rotateY:e=>dS(md(Math.atan2(-e[2],e[0]))),rotateZ:PM,rotate:PM,skewX:e=>md(Math.atan(e[4])),skewY:e=>md(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fS(e){return e.includes("scale")?1:0}function hS(e,t){if(!e||e==="none")return fS(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=IQ,s=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kQ,s=u}if(!s)return fS(t);const i=r[t],o=s[1].split(",").map(BQ);return typeof i=="function"?i(o):o[i]}const LQ=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hS(n,t)};function BQ(e){return parseFloat(e.trim())}const tm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nm=new Set(tm),IM=e=>e===em||e===Pt,FQ=new Set(["x","y","z"]),UQ=tm.filter(e=>!FQ.has(e));function zQ(e){const t=[];return UQ.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const jd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hS(t,"x"),y:(e,{transform:t})=>hS(t,"y")};jd.translateX=jd.x;jd.translateY=jd.y;const Nd=new Set;let mS=!1,gS=!1,pS=!1;function G5(){if(gS){const e=Array.from(Nd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=zQ(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gS=!1,mS=!1,Nd.forEach(e=>e.complete(pS)),Nd.clear()}function K5(){Nd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gS=!0)})}function VQ(){pS=!0,K5(),G5(),pS=!1}class TA{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Nd.add(this),mS||(mS=!0,hr.read(K5),hr.resolveKeyframes(G5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}RQ(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nd.delete(this)}cancel(){this.state==="scheduled"&&(Nd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $Q=e=>e.startsWith("--");function HQ(e,t,n){$Q(t)?e.style.setProperty(t,n):e.style[t]=n}const qQ=pA(()=>window.ScrollTimeline!==void 0),YQ={};function WQ(e,t){const n=pA(e);return()=>YQ[t]??n()}const X5=WQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ig=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,LM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ig([0,.65,.55,1]),circOut:Ig([.55,0,1,.45]),backIn:Ig([.31,.01,.66,-.59]),backOut:Ig([.33,1.53,.69,.99])};function Q5(e,t){if(e)return typeof e=="function"?X5()?q5(e,t):"ease-out":k5(e)?Ig(e):Array.isArray(e)?e.map(n=>Q5(n,t)||LM.easeOut):LM[e]}function GQ(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:m}={},f=void 0){const g={[t]:n};m&&(g.offset=m);const x=Q5(u,s);Array.isArray(x)&&(g.easing=x);const j={delay:r,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return f&&(j.pseudoElement=f),e.animate(g,j)}function Z5(e){return typeof e=="function"&&"applyToOptions"in e}function KQ({type:e,...t}){return Z5(e)&&X5()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XQ extends EA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:m}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,gA(typeof t.type!="string");const f=KQ(t);this.animation=GQ(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const g=AA(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):HQ(n,r,g),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wo(Number(t))}get time(){return Wo(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Yo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&qQ()?(this.animation.timeline=t,Ii):n(this)}}const J5={anticipate:M5,backInOut:O5,circInOut:P5};function QQ(e){return e in J5}function ZQ(e){typeof e.ease=="string"&&QQ(e.ease)&&(e.ease=J5[e.ease])}const BM=10;class JQ extends XQ{constructor(t){ZQ(t),W5(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new CA({...o,autoplay:!1}),m=Yo(this.finishedTime??this.time);n.setWithVelocity(u.sample(m-BM).value,u.sample(m).value,BM),u.stop()}}const FM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(su.test(e)||e==="0")&&!e.startsWith("url("));function eZ(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function tZ(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=FM(s,t),u=FM(i,t);return!o||!u?!1:eZ(e)||(n==="spring"||Z5(n))&&r}function xS(e){e.duration=0,e.type}const nZ=new Set(["opacity","clipPath","filter","transform"]),rZ=pA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aZ(e){var g;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:f}=t.owner.getProps();return rZ()&&n&&nZ.has(n)&&(n!=="transform"||!f)&&!m&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const sZ=40;class iZ extends EA{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:m,motionValue:f,element:g,...x}){var C;super(),this.stop=()=>{var E,A;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Us.now();const j={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:m,motionValue:f,element:g,...x},_=(g==null?void 0:g.KeyframeResolver)||TA;this.keyframeResolver=new _(u,(E,A,M)=>this.onKeyframesResolved(E,A,j,!M),m,f,g),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:m,isHandoff:f,onUpdate:g}=r;this.resolvedAt=Us.now(),tZ(t,i,o,u)||((Hl.instantAnimations||!m)&&(g==null||g(AA(t,r,n))),t[0]=t[t.length-1],xS(r),r.repeat=0);const j={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>sZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},_=!f&&aZ(j)?new JQ({...j,element:j.motionValue.owner.current}):new CA(j);_.finished.then(()=>this.notifyFinished()).catch(Ii),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),VQ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const oZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lZ(e){const t=oZ.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function eL(e,t,n=1){const[r,s]=lZ(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return j5(o)?parseFloat(o):o}return wA(s)?eL(s,t,n+1):s}function OA(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const tL=new Set(["width","height","top","left","right","bottom",...tm]),cZ={test:e=>e==="auto",parse:e=>e},nL=e=>t=>t.test(e),rL=[em,Pt,Go,Kc,eQ,JX,cZ],UM=e=>rL.find(nL(e));function uZ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||S5(e):!0}const dZ=new Set(["brightness","contrast","saturate","opacity"]);function fZ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(jA)||[];if(!r)return e;const s=n.replace(r,"");let i=dZ.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const hZ=/\b([a-z-]*)\(.*?\)/gu,vS={...su,getAnimatableNone:e=>{const t=e.match(hZ);return t?t.map(fZ).join(" "):e}},zM={...em,transform:Math.round},mZ={rotate:Kc,rotateX:Kc,rotateY:Kc,rotateZ:Kc,scale:Rx,scaleX:Rx,scaleY:Rx,scaleZ:Rx,skew:Kc,skewX:Kc,skewY:Kc,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:np,originX:EM,originY:EM,originZ:Pt},MA={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,backgroundPositionX:Pt,backgroundPositionY:Pt,...mZ,zIndex:zM,fillOpacity:np,strokeOpacity:np,numOctaves:zM},gZ={...MA,color:sa,backgroundColor:sa,outlineColor:sa,fill:sa,stroke:sa,borderColor:sa,borderTopColor:sa,borderRightColor:sa,borderBottomColor:sa,borderLeftColor:sa,filter:vS,WebkitFilter:vS},aL=e=>gZ[e];function sL(e,t){let n=aL(e);return n!==vS&&(n=su),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pZ=new Set(["auto","none","0"]);function xZ(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!pZ.has(i)&&rp(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=sL(n,s)}class vZ extends TA{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let f=t[m];if(typeof f=="string"&&(f=f.trim(),wA(f))){const g=eL(f,n.current);g!==void 0&&(t[m]=g),m===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!tL.has(r)||t.length!==2)return;const[s,i]=t,o=UM(s),u=UM(i);if(o!==u)if(IM(o)&&IM(u))for(let m=0;m<t.length;m++){const f=t[m];typeof f=="string"&&(t[m]=parseFloat(f))}else jd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||uZ(t[s]))&&r.push(s);r.length&&xZ(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=jd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,f])=>{t.getValue(m).set(f)}),this.resolveNoneKeyframes()}}function yZ(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const iL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function oL(e){return N5(e)&&"offsetHeight"in e}const VM=30,bZ=e=>!isNaN(parseFloat(e));class wZ{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Us.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Us.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bZ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new xA);const r=this.events[t].add(n);return t==="change"?()=>{r(),hr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>VM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VM);return _5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eh(e,t){return new wZ(e,t)}const{schedule:DA}=I5(queueMicrotask,!1),ao={x:!1,y:!1};function lL(){return ao.x||ao.y}function jZ(e){return e==="x"||e==="y"?ao[e]?null:(ao[e]=!0,()=>{ao[e]=!1}):ao.x||ao.y?null:(ao.x=ao.y=!0,()=>{ao.x=ao.y=!1})}function cL(e,t){const n=yZ(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function $M(e){return!(e.pointerType==="touch"||lL())}function NZ(e,t,n={}){const[r,s,i]=cL(e,n),o=u=>{if(!$M(u))return;const{target:m}=u,f=t(m,u);if(typeof f!="function"||!m)return;const g=x=>{$M(x)&&(f(x),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const uL=(e,t)=>t?e===t?!0:uL(e,t.parentElement):!1,PA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,SZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _Z(e){return SZ.has(e.tagName)||e.tabIndex!==-1}const hv=new WeakSet;function HM(e){return t=>{t.key==="Enter"&&e(t)}}function g2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const AZ=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=HM(()=>{if(hv.has(n))return;g2(n,"down");const s=HM(()=>{g2(n,"up")}),i=()=>g2(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function qM(e){return PA(e)&&!lL()}function EZ(e,t,n={}){const[r,s,i]=cL(e,n),o=u=>{const m=u.currentTarget;if(!qM(u))return;hv.add(m);const f=t(m,u),g=(_,C)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",j),hv.has(m)&&hv.delete(m),qM(_)&&typeof f=="function"&&f(_,{success:C})},x=_=>{g(_,m===window||m===document||n.useGlobalTarget||uL(m,_.target))},j=_=>{g(_,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",j,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),oL(u)&&(u.addEventListener("focus",f=>AZ(f,s)),!_Z(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function dL(e){return N5(e)&&"ownerSVGElement"in e}function CZ(e){return dL(e)&&e.tagName==="svg"}const os=e=>!!(e&&e.getVelocity),TZ=[...rL,sa,su],OZ=e=>TZ.find(nL(e)),RA=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class MZ extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=oL(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function DZ({children:e,isPresent:t,anchorX:n,root:r}){const s=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=w.useContext(RA);return w.useInsertionEffect(()=>{const{width:m,height:f,top:g,left:x,right:j}=o.current;if(t||!i.current||!m||!f)return;const _=n==="left"?`left: ${x}`:`right: ${j}`;i.current.dataset.motionPopId=s;const C=document.createElement("style");u&&(C.nonce=u);const E=r??document.head;return E.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${f}px !important;
            ${_}px !important;
            top: ${g}px !important;
          }
        `),()=>{E.contains(C)&&E.removeChild(C)}},[t]),a.jsx(MZ,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(e,{ref:i})})}const PZ=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:u,root:m})=>{const f=dA(RZ),g=w.useId();let x=!0,j=w.useMemo(()=>(x=!1,{id:g,initial:t,isPresent:n,custom:s,onExitComplete:_=>{f.set(_,!0);for(const C of f.values())if(!C)return;r&&r()},register:_=>(f.set(_,!1),()=>f.delete(_))}),[n,f,r]);return i&&x&&(j={...j}),w.useMemo(()=>{f.forEach((_,C)=>f.set(C,!1))},[n]),w.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(DZ,{isPresent:n,anchorX:u,root:m,children:e})),a.jsx(Ly.Provider,{value:j,children:e})};function RZ(){return new Map}function fL(e=!0){const t=w.useContext(Ly);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=w.useId();w.useEffect(()=>{if(e)return s(i)},[e]);const o=w.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const kx=e=>e.key||"";function YM(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const Ch=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:u="left",root:m})=>{const[f,g]=fL(o),x=w.useMemo(()=>YM(e),[e]),j=o&&!f?[]:x.map(kx),_=w.useRef(!0),C=w.useRef(x),E=dA(()=>new Map),[A,M]=w.useState(x),[D,R]=w.useState(x);w5(()=>{_.current=!1,C.current=x;for(let I=0;I<D.length;I++){const F=kx(D[I]);j.includes(F)?E.delete(F):E.get(F)!==!0&&E.set(F,!1)}},[D,j.length,j.join("-")]);const U=[];if(x!==A){let I=[...x];for(let F=0;F<D.length;F++){const V=D[F],L=kx(V);j.includes(L)||(I.splice(F,0,V),U.push(V))}return i==="wait"&&U.length&&(I=U),R(YM(I)),M(x),null}const{forceRender:k}=w.useContext(uA);return a.jsx(a.Fragment,{children:D.map(I=>{const F=kx(I),V=o&&!f?!1:x===D||j.includes(F),L=()=>{if(E.has(F))E.set(F,!0);else return;let $=!0;E.forEach(Y=>{Y||($=!1)}),$&&(k==null||k(),R(C.current),o&&(g==null||g()),r&&r())};return a.jsx(PZ,{isPresent:V,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:m,onExitComplete:V?void 0:L,anchorX:u,children:I},F)})})},hL=w.createContext({strict:!1}),WM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Th={};for(const e in WM)Th[e]={isEnabled:t=>WM[e].some(n=>!!t[n])};function kZ(e){for(const t in e)Th[t]={...Th[t],...e[t]}}const IZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||IZ.has(e)}let mL=e=>!Tv(e);function LZ(e){typeof e=="function"&&(mL=t=>t.startsWith("on")?!Tv(t):e(t))}try{LZ(require("@emotion/is-prop-valid").default)}catch{}function BZ(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(mL(s)||n===!0&&Tv(s)||!t&&!Tv(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const By=w.createContext({});function Fy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ap(e){return typeof e=="string"||Array.isArray(e)}const kA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IA=["initial",...kA];function Uy(e){return Fy(e.animate)||IA.some(t=>ap(e[t]))}function gL(e){return!!(Uy(e)||e.variants)}function FZ(e,t){if(Uy(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ap(n)?n:void 0,animate:ap(r)?r:void 0}}return e.inherit!==!1?t:{}}function UZ(e){const{initial:t,animate:n}=FZ(e,w.useContext(By));return w.useMemo(()=>({initial:t,animate:n}),[GM(t),GM(n)])}function GM(e){return Array.isArray(e)?e.join(" "):e}const sp={};function zZ(e){for(const t in e)sp[t]=e[t],bA(t)&&(sp[t].isCSSVariable=!0)}function pL(e,{layout:t,layoutId:n}){return nm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!sp[e]||e==="opacity")}const VZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$Z=tm.length;function HZ(e,t,n){let r="",s=!0;for(let i=0;i<$Z;i++){const o=tm[i],u=e[o];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(o.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||n){const f=iL(u,MA[o]);if(!m){s=!1;const g=VZ[o]||o;r+=`${g}(${f}) `}n&&(t[o]=f)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function LA(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,u=!1;for(const m in t){const f=t[m];if(nm.has(m)){o=!0;continue}else if(bA(m)){s[m]=f;continue}else{const g=iL(f,MA[m]);m.startsWith("origin")?(u=!0,i[m]=g):r[m]=g}}if(t.transform||(o||n?r.transform=HZ(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:m="50%",originY:f="50%",originZ:g=0}=i;r.transformOrigin=`${m} ${f} ${g}`}}const BA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xL(e,t,n){for(const r in t)!os(t[r])&&!pL(r,n)&&(e[r]=t[r])}function qZ({transformTemplate:e},t){return w.useMemo(()=>{const n=BA();return LA(n,t,e),Object.assign({},n.vars,n.style)},[t])}function YZ(e,t){const n=e.style||{},r={};return xL(r,n,e),Object.assign(r,qZ(e,t)),r}function WZ(e,t){const n={},r=YZ(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const GZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},KZ={offset:"strokeDashoffset",array:"strokeDasharray"};function XZ(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?GZ:KZ;e[i.offset]=Pt.transform(-r);const o=Pt.transform(t),u=Pt.transform(n);e[i.array]=`${o} ${u}`}function vL(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},m,f,g){if(LA(e,u,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:j}=e;x.transform&&(j.transform=x.transform,delete x.transform),(j.transform||x.transformOrigin)&&(j.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),j.transform&&(j.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),s!==void 0&&XZ(x,s,i,o,!1)}const yL=()=>({...BA(),attrs:{}}),bL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QZ(e,t,n,r){const s=w.useMemo(()=>{const i=yL();return vL(i,t,bL(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};xL(i,e.style,e),s.style={...i,...s.style}}return s}const ZZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FA(e){return typeof e!="string"||e.includes("-")?!1:!!(ZZ.indexOf(e)>-1||/[A-Z]/u.test(e))}function JZ(e,t,n,{latestValues:r},s,i=!1){const u=(FA(e)?QZ:WZ)(t,r,s,e),m=BZ(t,typeof e=="string",i),f=e!==w.Fragment?{...m,...u,ref:n}:{},{children:g}=t,x=w.useMemo(()=>os(g)?g.get():g,[g]);return w.createElement(e,{...f,children:x})}function KM(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function UA(e,t,n,r){if(typeof t=="function"){const[s,i]=KM(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=KM(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function mv(e){return os(e)?e.get():e}function eJ({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:tJ(n,r,s,e),renderState:t()}}function tJ(e,t,n,r){const s={},i=r(e,{});for(const j in i)s[j]=mv(i[j]);let{initial:o,animate:u}=e;const m=Uy(e),f=gL(e);t&&f&&!m&&e.inherit!==!1&&(o===void 0&&(o=t.initial),u===void 0&&(u=t.animate));let g=n?n.initial===!1:!1;g=g||o===!1;const x=g?u:o;if(x&&typeof x!="boolean"&&!Fy(x)){const j=Array.isArray(x)?x:[x];for(let _=0;_<j.length;_++){const C=UA(e,j[_]);if(C){const{transitionEnd:E,transition:A,...M}=C;for(const D in M){let R=M[D];if(Array.isArray(R)){const U=g?R.length-1:0;R=R[U]}R!==null&&(s[D]=R)}for(const D in E)s[D]=E[D]}}}return s}const wL=e=>(t,n)=>{const r=w.useContext(By),s=w.useContext(Ly),i=()=>eJ(e,t,r,s);return n?i():dA(i)};function zA(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(os(r[o])||t.style&&os(t.style[o])||pL(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const nJ=wL({scrapeMotionValuesFromProps:zA,createRenderState:BA});function jL(e,t,n){const r=zA(e,t,n);for(const s in e)if(os(e[s])||os(t[s])){const i=tm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const rJ=wL({scrapeMotionValuesFromProps:jL,createRenderState:yL}),aJ=Symbol.for("motionComponentSymbol");function lh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sJ(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):lh(n)&&(n.current=r))},[t])}const VA=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iJ="framerAppearId",NL="data-"+VA(iJ),SL=w.createContext({});function oJ(e,t,n,r,s){var E,A;const{visualElement:i}=w.useContext(By),o=w.useContext(hL),u=w.useContext(Ly),m=w.useContext(RA).reducedMotion,f=w.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const g=f.current,x=w.useContext(SL);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&lJ(f.current,n,s,x);const j=w.useRef(!1);w.useInsertionEffect(()=>{g&&j.current&&g.update(n,u)});const _=n[NL],C=w.useRef(!!_&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,_))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,_)));return w5(()=>{g&&(j.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),w.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,_)}),C.current=!1),g.enteringChildren=void 0)}),g}function lJ(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:m,layoutRoot:f,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_L(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&lh(u),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:f})}function _L(e){if(e)return e.options.allowProjection!==!1?e.projection:_L(e.parent)}function p2(e,{forwardMotionProps:t=!1}={},n,r){n&&kZ(n);const s=FA(e)?rJ:nJ;function i(u,m){let f;const g={...w.useContext(RA),...u,layoutId:cJ(u)},{isStatic:x}=g,j=UZ(u),_=s(u,x);if(!x&&fA){uJ();const C=dJ(g);f=C.MeasureLayout,j.visualElement=oJ(e,_,g,r,C.ProjectionNode)}return a.jsxs(By.Provider,{value:j,children:[f&&j.visualElement?a.jsx(f,{visualElement:j.visualElement,...g}):null,JZ(e,u,sJ(_,j.visualElement,m),_,x,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=w.forwardRef(i);return o[aJ]=e,o}function cJ({layoutId:e}){const t=w.useContext(uA).id;return t&&e!==void 0?t+"-"+e:e}function uJ(e,t){w.useContext(hL).strict}function dJ(e){const{drag:t,layout:n}=Th;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function fJ(e,t){if(typeof Proxy>"u")return p2;const n=new Map,r=(i,o)=>p2(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,p2(o,void 0,e,t)),n.get(o))})}function AL({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function hJ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mJ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function x2(e){return e===void 0||e===1}function yS({scale:e,scaleX:t,scaleY:n}){return!x2(e)||!x2(t)||!x2(n)}function od(e){return yS(e)||EL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function EL(e){return XM(e.x)||XM(e.y)}function XM(e){return e&&e!=="0%"}function Ov(e,t,n){const r=e-n,s=t*r;return n+s}function QM(e,t,n,r,s){return s!==void 0&&(e=Ov(e,s,r)),Ov(e,n,r)+t}function bS(e,t=0,n=1,r,s){e.min=QM(e.min,t,n,r,s),e.max=QM(e.max,t,n,r,s)}function CL(e,{x:t,y:n}){bS(e.x,t.translate,t.scale,t.originPoint),bS(e.y,n.translate,n.scale,n.originPoint)}const ZM=.999999999999,JM=1.0000000000001;function gJ(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:m}=i.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uh(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,CL(e,o)),r&&od(i.latestValues)&&uh(e,i.latestValues))}t.x<JM&&t.x>ZM&&(t.x=1),t.y<JM&&t.y>ZM&&(t.y=1)}function ch(e,t){e.min=e.min+t,e.max=e.max+t}function eD(e,t,n,r,s=.5){const i=Cr(e.min,e.max,s);bS(e,t,n,i,r)}function uh(e,t){eD(e.x,t.x,t.scaleX,t.scale,t.originX),eD(e.y,t.y,t.scaleY,t.scale,t.originY)}function TL(e,t){return AL(mJ(e.getBoundingClientRect(),t))}function pJ(e,t,n){const r=TL(e,n),{scroll:s}=t;return s&&(ch(r.x,s.offset.x),ch(r.y,s.offset.y)),r}const tD=()=>({translate:0,scale:1,origin:0,originPoint:0}),dh=()=>({x:tD(),y:tD()}),nD=()=>({min:0,max:0}),Wr=()=>({x:nD(),y:nD()}),wS={current:null},OL={current:!1};function xJ(){if(OL.current=!0,!!fA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wS.current=e.matches;e.addEventListener("change",t),t()}else wS.current=!1}const vJ=new WeakMap;function yJ(e,t,n){for(const r in t){const s=t[r],i=n[r];if(os(s))e.addValue(r,s);else if(os(i))e.addValue(r,Eh(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Eh(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const rD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bJ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=TA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=Us.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,hr.render(this.render,!1,!0))};const{latestValues:m,renderState:f}=o;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=Uy(n),this.isVariantNode=gL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const j in x){const _=x[j];m[j]!==void 0&&os(_)&&_.set(m[j])}}mount(t){var n;this.current=t,vJ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),OL.current||xJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wS.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),au(this.notifyUpdate),au(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=nm.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&hr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Th){const n=Th[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rD.length;r++){const s=rD[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=yJ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Eh(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(j5(r)||S5(r))?r=parseFloat(r):!OZ(r)&&su.test(n)&&(r=sL(t,n)),this.setBaseTarget(t,os(r)?r.get():r)),os(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=UA(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!os(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new xA),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){DA.render(this.render)}}class ML extends bJ{constructor(){super(...arguments),this.KeyframeResolver=vZ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;os(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DL(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function wJ(e){return window.getComputedStyle(e)}class jJ extends ML{constructor(){super(...arguments),this.type="html",this.renderInstance=DL}readValueFromInstance(t,n){var r;if(nm.has(n))return(r=this.projection)!=null&&r.isProjecting?fS(n):LQ(t,n);{const s=wJ(t),i=(bA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return TL(t,n)}build(t,n,r){LA(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return zA(t,n,r)}}const PL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NJ(e,t,n,r){DL(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(PL.has(s)?s:VA(s),t.attrs[s])}class SJ extends ML{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(nm.has(n)){const r=aL(n);return r&&r.default||0}return n=PL.has(n)?n:VA(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return jL(t,n,r)}build(t,n,r){vL(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){NJ(t,n,r,s)}mount(t){this.isSVGTag=bL(t.tagName),super.mount(t)}}const _J=(e,t)=>FA(e)?new SJ(t):new jJ(t,{allowProjection:e!==w.Fragment});function gh(e,t,n){const r=e.getProps();return UA(r,t,n!==void 0?n:r.custom,e)}const jS=e=>Array.isArray(e);function AJ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Eh(n))}function EJ(e){return jS(e)?e[e.length-1]||0:e}function CJ(e,t){const n=gh(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=EJ(i[o]);AJ(e,o,u)}}function TJ(e){return!!(os(e)&&e.add)}function NS(e,t){const n=e.getValue("willChange");if(TJ(n))return n.add(t);if(!n&&Hl.WillChange){const r=new Hl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function RL(e){return e.props[NL]}const OJ=e=>e!==null;function MJ(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(OJ),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const DJ={type:"spring",stiffness:500,damping:25,restSpeed:10},PJ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RJ={type:"keyframes",duration:.8},kJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IJ=(e,{keyframes:t})=>t.length>2?RJ:nm.has(e)?e.startsWith("scale")?PJ(t[1]):DJ:kJ;function LJ({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:m,elapsed:f,...g}){return!!Object.keys(g).length}const $A=(e,t,n,r={},s,i)=>o=>{const u=OA(r,e)||{},m=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Yo(m);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:j=>{t.set(j),u.onUpdate&&u.onUpdate(j)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:i?void 0:s};LJ(u)||Object.assign(g,IJ(e,g)),g.duration&&(g.duration=Yo(g.duration)),g.repeatDelay&&(g.repeatDelay=Yo(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(xS(g),g.delay===0&&(x=!0)),(Hl.instantAnimations||Hl.skipAnimations)&&(x=!0,xS(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,x&&!i&&t.get()!==void 0){const j=MJ(g.keyframes,u);if(j!==void 0){hr.update(()=>{g.onUpdate(j),g.onComplete()});return}}return u.isSync?new CA(g):new iZ(g)};function BJ({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kL(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...u}=t;r&&(i=r);const m=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const g in u){const x=e.getValue(g,e.latestValues[g]??null),j=u[g];if(j===void 0||f&&BJ(f,g))continue;const _={delay:n,...OA(i||{},g)},C=x.get();if(C!==void 0&&!x.isAnimating&&!Array.isArray(j)&&j===C&&!_.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const M=RL(e);if(M){const D=window.MotionHandoffAnimation(M,g,hr);D!==null&&(_.startTime=D,E=!0)}}NS(e,g),x.start($A(g,x,j,e.shouldReduceMotion&&tL.has(g)?{type:!1}:_,e,E));const A=x.animation;A&&m.push(A)}return o&&Promise.all(m).then(()=>{hr.update(()=>{o&&CJ(e,o)})}),m}function IL(e,t,n,r=0,s=1){const i=Array.from(e).sort((f,g)=>f.sortNodePosition(g)).indexOf(t),o=e.size,u=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:u-i*r}function SS(e,t,n={}){var m;const r=gh(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(kL(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:j}=s;return FJ(e,t,f,g,x,j,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,g]=u==="beforeChildren"?[i,o]:[o,i];return f().then(()=>g())}else return Promise.all([i(),o(n.delay)])}function FJ(e,t,n=0,r=0,s=0,i=1,o){const u=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),u.push(SS(m,t,{...o,delay:n+(typeof r=="function"?0:r)+IL(e.variantChildren,m,r,s,i)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(u)}function UJ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>SS(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=SS(e,t,n);else{const s=typeof t=="function"?gh(e,t,n.custom):t;r=Promise.all(kL(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function LL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const zJ=IA.length;function BL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?BL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<zJ;n++){const r=IA[n],s=e.props[r];(ap(s)||s===!1)&&(t[r]=s)}return t}const VJ=[...kA].reverse(),$J=kA.length;function HJ(e){return t=>Promise.all(t.map(({animation:n,options:r})=>UJ(e,n,r)))}function qJ(e){let t=HJ(e),n=aD(),r=!0;const s=m=>(f,g)=>{var j;const x=gh(e,g,m==="exit"?(j=e.presenceContext)==null?void 0:j.custom:void 0);if(x){const{transition:_,transitionEnd:C,...E}=x;f={...f,...E,...C}}return f};function i(m){t=m(e)}function o(m){const{props:f}=e,g=BL(e.parent)||{},x=[],j=new Set;let _={},C=1/0;for(let A=0;A<$J;A++){const M=VJ[A],D=n[M],R=f[M]!==void 0?f[M]:g[M],U=ap(R),k=M===m?D.isActive:null;k===!1&&(C=A);let I=R===g[M]&&R!==f[M]&&U;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),D.protectedKeys={..._},!D.isActive&&k===null||!R&&!D.prevProp||Fy(R)||typeof R=="boolean")continue;const F=YJ(D.prevProp,R);let V=F||M===m&&D.isActive&&!I&&U||A>C&&U,L=!1;const $=Array.isArray(R)?R:[R];let Y=$.reduce(s(M),{});k===!1&&(Y={});const{prevResolvedValues:q={}}=D,X={...q,...Y},Q=ee=>{V=!0,j.has(ee)&&(L=!0,j.delete(ee)),D.needsAnimating[ee]=!0;const Z=e.getValue(ee);Z&&(Z.liveStyle=!1)};for(const ee in X){const Z=Y[ee],oe=q[ee];if(_.hasOwnProperty(ee))continue;let re=!1;jS(Z)&&jS(oe)?re=!LL(Z,oe):re=Z!==oe,re?Z!=null?Q(ee):j.add(ee):Z!==void 0&&j.has(ee)?Q(ee):D.protectedKeys[ee]=!0}D.prevProp=R,D.prevResolvedValues=Y,D.isActive&&(_={..._,...Y}),r&&e.blockInitialAnimation&&(V=!1);const G=I&&F;V&&(!G||L)&&x.push(...$.map(ee=>{const Z={type:M};if(typeof ee=="string"&&r&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:oe}=e,re=gh(oe,ee);if(oe.enteringChildren&&re){const{delayChildren:de}=re.transition||{};Z.delay=IL(oe.enteringChildren,e,de)}}return{animation:ee,options:Z}}))}if(j.size){const A={};if(typeof f.initial!="boolean"){const M=gh(e,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(A.transition=M.transition)}j.forEach(M=>{const D=e.getBaseTarget(M),R=e.getValue(M);R&&(R.liveStyle=!0),A[M]=D??null}),x.push({animation:A})}let E=!!x.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(E=!1),r=!1,E?t(x):Promise.resolve()}function u(m,f){var x;if(n[m].isActive===f)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(j=>{var _;return(_=j.animationState)==null?void 0:_.setActive(m,f)}),n[m].isActive=f;const g=o(m);for(const j in n)n[j].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=aD(),r=!0}}}function YJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!LL(t,e):!1}function ad(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aD(){return{animate:ad(!0),whileInView:ad(),whileHover:ad(),whileTap:ad(),whileDrag:ad(),whileFocus:ad(),exit:ad()}}class wu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class WJ extends wu{constructor(t){super(t),t.animationState||(t.animationState=qJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fy(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let GJ=0;class KJ extends wu{constructor(){super(...arguments),this.id=GJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const XJ={animation:{Feature:WJ},exit:{Feature:KJ}};function ip(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Bp(e){return{point:{x:e.pageX,y:e.pageY}}}const QJ=e=>t=>PA(t)&&e(t,Bp(t));function Wg(e,t,n,r){return ip(e,t,QJ(n),r)}const FL=1e-4,ZJ=1-FL,JJ=1+FL,UL=.01,eee=0-UL,tee=0+UL;function Ns(e){return e.max-e.min}function nee(e,t,n){return Math.abs(e-t)<=n}function sD(e,t,n,r=.5){e.origin=r,e.originPoint=Cr(t.min,t.max,e.origin),e.scale=Ns(n)/Ns(t),e.translate=Cr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ZJ&&e.scale<=JJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=eee&&e.translate<=tee||isNaN(e.translate))&&(e.translate=0)}function Gg(e,t,n,r){sD(e.x,t.x,n.x,r?r.originX:void 0),sD(e.y,t.y,n.y,r?r.originY:void 0)}function iD(e,t,n){e.min=n.min+t.min,e.max=e.min+Ns(t)}function ree(e,t,n){iD(e.x,t.x,n.x),iD(e.y,t.y,n.y)}function oD(e,t,n){e.min=t.min-n.min,e.max=e.min+Ns(t)}function Kg(e,t,n){oD(e.x,t.x,n.x),oD(e.y,t.y,n.y)}function Pi(e){return[e("x"),e("y")]}const zL=({current:e})=>e?e.ownerDocument.defaultView:null,lD=(e,t)=>Math.abs(e-t);function aee(e,t){const n=lD(e.x,t.x),r=lD(e.y,t.y);return Math.sqrt(n**2+r**2)}class VL{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=y2(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,C=aee(j.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!C)return;const{point:E}=j,{timestamp:A}=Ha;this.history.push({...E,timestamp:A});const{onStart:M,onMove:D}=this.handlers;_||(M&&M(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,j)},this.handlePointerMove=(j,_)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=v2(_,this.transformPagePoint),hr.update(this.updatePoint,!0)},this.handlePointerUp=(j,_)=>{this.end();const{onEnd:C,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=y2(j.type==="pointercancel"?this.lastMoveEventInfo:v2(_,this.transformPagePoint),this.history);this.startEvent&&C&&C(j,M),E&&E(j,M)},!PA(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=Bp(t),m=v2(u,this.transformPagePoint),{point:f}=m,{timestamp:g}=Ha;this.history=[{...f,timestamp:g}];const{onSessionStart:x}=n;x&&x(t,y2(m,this.history)),this.removeListeners=kp(Wg(this.contextWindow,"pointermove",this.handlePointerMove),Wg(this.contextWindow,"pointerup",this.handlePointerUp),Wg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),au(this.updatePoint)}}function v2(e,t){return t?{point:t(e.point)}:e}function cD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function y2({point:e},t){return{point:e,delta:cD(e,$L(t)),offset:cD(e,see(t)),velocity:iee(t,.1)}}function see(e){return e[0]}function $L(e){return e[e.length-1]}function iee(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=$L(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Yo(t)));)n--;if(!r)return{x:0,y:0};const i=Wo(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function oee(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Cr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Cr(n,e,r.max):Math.min(e,n)),e}function uD(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lee(e,{top:t,left:n,bottom:r,right:s}){return{x:uD(e.x,n,s),y:uD(e.y,t,r)}}function dD(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function cee(e,t){return{x:dD(e.x,t.x),y:dD(e.y,t.y)}}function uee(e,t){let n=.5;const r=Ns(e),s=Ns(t);return s>r?n=tp(t.min,t.max-r,e.min):r>s&&(n=tp(e.min,e.max-s,t.min)),$l(0,1,n)}function dee(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const _S=.35;function fee(e=_S){return e===!1?e=0:e===!0&&(e=_S),{x:fD(e,"left","right"),y:fD(e,"top","bottom")}}function fD(e,t,n){return{min:hD(e,t),max:hD(e,n)}}function hD(e,t){return typeof e=="number"?e:e[t]||0}const hee=new WeakMap;class mee{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=x=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bp(x).point)},o=(x,j)=>{const{drag:_,dragPropagation:C,onDragStart:E}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jZ(_),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=j,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(M=>{let D=this.getAxisMotionValue(M).get()||0;if(Go.test(D)){const{projection:R}=this.visualElement;if(R&&R.layout){const U=R.layout.layoutBox[M];U&&(D=Ns(U)*(parseFloat(D)/100))}}this.originPoint[M]=D}),E&&hr.postRender(()=>E(x,j)),NS(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(x,j)=>{this.latestPointerEvent=x,this.latestPanInfo=j;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:E,onDrag:A}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:M}=j;if(C&&this.currentDirection===null){this.currentDirection=gee(M),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",j.point,M),this.updateAxis("y",j.point,M),this.visualElement.render(),A&&A(x,j)},m=(x,j)=>{this.latestPointerEvent=x,this.latestPanInfo=j,this.stop(x,j),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Pi(x=>{var j;return this.getAnimationState(x)==="paused"&&((j=this.getAxisMotionValue(x).animation)==null?void 0:j.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new VL(t,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:m,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:zL(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&hr.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ix(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=oee(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&lh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=lee(r.layoutBox,t):this.constraints=!1,this.elastic=fee(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dee(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lh(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=pJ(r,s.root,this.visualElement.getTransformPagePoint());let o=cee(s.layout.layoutBox,i);if(n){const u=n(hJ(o));this.hasMutatedConstraints=!!u,u&&(o=AL(u))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},f=Pi(g=>{if(!Ix(g,n,this.currentDirection))return;let x=m&&m[g]||{};o&&(x={min:0,max:0});const j=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:r?t[g]:0,bounceStiffness:j,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...i,...x};return this.startAxisValueAnimation(g,C)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return NS(this.visualElement,t),r.start($A(t,r,0,n,this.visualElement,!1))}stopAnimation(){Pi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Pi(n=>{const{drag:r}=this.getProps();if(!Ix(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(t[n]-Cr(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lh(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pi(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const m=u.get();s[o]=uee({min:m,max:m},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pi(o=>{if(!Ix(o,t,null))return;const u=this.getAxisMotionValue(o),{min:m,max:f}=this.constraints[o];u.set(Cr(m,f,s[o]))})}addListeners(){if(!this.visualElement.current)return;hee.set(this.visualElement,this);const t=this.visualElement.current,n=Wg(t,"pointerdown",m=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();lh(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hr.read(r);const o=ip(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f})=>{this.isDragging&&f&&(Pi(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=m[g].translate,x.set(x.get()+m[g].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=_S,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function Ix(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gee(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class pee extends wu{constructor(t){super(t),this.removeGroupControls=Ii,this.removeListeners=Ii,this.controls=new mee(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const mD=e=>(t,n)=>{e&&hr.postRender(()=>e(t,n))};class xee extends wu{constructor(){super(...arguments),this.removePointerDownListener=Ii}onPointerDown(t){this.session=new VL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:mD(t),onStart:mD(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&hr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Wg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pt.test(e))e=parseFloat(e);else return e;const n=gD(e,t.target.x),r=gD(e,t.target.y);return`${n}% ${r}%`}},vee={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=su.parse(e);if(s.length>5)return r;const i=su.createTransformer(e),o=typeof s[0]!="number"?1:0,u=n.x.scale*t.x,m=n.y.scale*t.y;s[0+o]/=u,s[1+o]/=m;const f=Cr(u,m,.5);return typeof s[2+o]=="number"&&(s[2+o]/=f),typeof s[3+o]=="number"&&(s[3+o]/=f),i(s)}};let b2=!1;class yee extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;zZ(bee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),b2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,b2=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||hr.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),DA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;b2=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function HL(e){const[t,n]=fL(),r=w.useContext(uA);return a.jsx(yee,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(SL),isPresent:t,safeToRemove:n})}const bee={borderRadius:{...bg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bg,borderTopRightRadius:bg,borderBottomLeftRadius:bg,borderBottomRightRadius:bg,boxShadow:vee};function wee(e,t,n){const r=os(e)?e:Eh(e);return r.start($A("",r,t,n)),r.animation}const jee=(e,t)=>e.depth-t.depth;class Nee{constructor(){this.children=[],this.isDirty=!1}add(t){hA(this.children,t),this.isDirty=!0}remove(t){mA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jee),this.isDirty=!1,this.children.forEach(t)}}function See(e,t){const n=Us.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(au(r),e(i-t))};return hr.setup(r,!0),()=>au(r)}const qL=["TopLeft","TopRight","BottomLeft","BottomRight"],_ee=qL.length,pD=e=>typeof e=="string"?parseFloat(e):e,xD=e=>typeof e=="number"||Pt.test(e);function Aee(e,t,n,r,s,i){s?(e.opacity=Cr(0,n.opacity??1,Eee(r)),e.opacityExit=Cr(t.opacity??1,0,Cee(r))):i&&(e.opacity=Cr(t.opacity??1,n.opacity??1,r));for(let o=0;o<_ee;o++){const u=`border${qL[o]}Radius`;let m=vD(t,u),f=vD(n,u);if(m===void 0&&f===void 0)continue;m||(m=0),f||(f=0),m===0||f===0||xD(m)===xD(f)?(e[u]=Math.max(Cr(pD(m),pD(f),r),0),(Go.test(f)||Go.test(m))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=Cr(t.rotate||0,n.rotate||0,r))}function vD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Eee=YL(0,.5,D5),Cee=YL(.5,.95,Ii);function YL(e,t,n){return r=>r<e?0:r>t?1:n(tp(e,t,r))}function yD(e,t){e.min=t.min,e.max=t.max}function Ti(e,t){yD(e.x,t.x),yD(e.y,t.y)}function bD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function wD(e,t,n,r,s){return e-=t,e=Ov(e,1/n,r),s!==void 0&&(e=Ov(e,1/s,r)),e}function Tee(e,t=0,n=1,r=.5,s,i=e,o=e){if(Go.test(t)&&(t=parseFloat(t),t=Cr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let u=Cr(i.min,i.max,r);e===i&&(u-=t),e.min=wD(e.min,t,n,u,s),e.max=wD(e.max,t,n,u,s)}function jD(e,t,[n,r,s],i,o){Tee(e,t[n],t[r],t[s],t.scale,i,o)}const Oee=["x","scaleX","originX"],Mee=["y","scaleY","originY"];function ND(e,t,n,r){jD(e.x,t,Oee,n?n.x:void 0,r?r.x:void 0),jD(e.y,t,Mee,n?n.y:void 0,r?r.y:void 0)}function SD(e){return e.translate===0&&e.scale===1}function WL(e){return SD(e.x)&&SD(e.y)}function _D(e,t){return e.min===t.min&&e.max===t.max}function Dee(e,t){return _D(e.x,t.x)&&_D(e.y,t.y)}function AD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GL(e,t){return AD(e.x,t.x)&&AD(e.y,t.y)}function ED(e){return Ns(e.x)/Ns(e.y)}function CD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Pee{constructor(){this.members=[]}add(t){hA(this.members,t),t.scheduleRender()}remove(t){if(mA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ree(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:x,rotateY:j,skewX:_,skewY:C}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),x&&(r+=`rotateX(${x}deg) `),j&&(r+=`rotateY(${j}deg) `),_&&(r+=`skewX(${_}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=e.x.scale*t.x,m=e.y.scale*t.y;return(u!==1||m!==1)&&(r+=`scale(${u}, ${m})`),r||"none"}const w2=["","X","Y","Z"],kee=1e3;let Iee=0;function j2(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function KL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=RL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",hr,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&KL(r)}function XL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},u=t==null?void 0:t()){this.id=Iee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Fee),this.nodes.forEach($ee),this.nodes.forEach(Hee),this.nodes.forEach(Uee)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nee)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xA),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const m=this.eventHandlers.get(o);m&&m.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=dL(o)&&!CZ(o),this.instance=o;const{layoutId:u,layout:m,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),e){let g,x=0;const j=()=>this.root.updateBlockedByResize=!1;hr.read(()=>{x=window.innerWidth}),e(o,()=>{const _=window.innerWidth;_!==x&&(x=_,this.root.updateBlockedByResize=!0,g&&g(),g=See(j,250),gv.hasAnimatedSinceResize&&(gv.hasAnimatedSinceResize=!1,this.nodes.forEach(MD)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:j,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||f.getDefaultTransition()||Kee,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=f.getProps(),M=!this.targetLayout||!GL(this.targetLayout,_),D=!x&&j;if(this.options.layoutRoot||this.resumeFrom||D||x&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...OA(C,"layout"),onPlay:E,onComplete:A};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(g,D)}else x||MD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),au(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Vee),this.nodes.forEach(Lee),this.nodes.forEach(Bee)):this.nodes.forEach(OD),this.clearAllSnapshots();const u=Us.now();Ha.delta=$l(0,1e3/60,u-Ha.timestamp),Ha.timestamp=u,Ha.isProcessing=!0,d2.update.process(Ha),d2.preRender.process(Ha),d2.render.process(Ha),Ha.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,DA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zee),this.sharedNodes.forEach(Yee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ns(this.snapshot.measuredBox.x)&&!Ns(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!WL(this.projectionDelta),m=this.getTransformTemplate(),f=m?m(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;o&&this.instance&&(u||od(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return o&&(m=this.removeTransform(m)),Xee(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return Wr();const u=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(Qee))){const{scroll:g}=this.root;g&&(ch(u.x,g.offset.x),ch(u.y,g.offset.y))}return u}removeElementScroll(o){var m;const u=Wr();if(Ti(u,o),(m=this.scroll)!=null&&m.wasRoot)return u;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:x,options:j}=g;g!==this.root&&x&&j.layoutScroll&&(x.wasRoot&&Ti(u,o),ch(u.x,x.offset.x),ch(u.y,x.offset.y))}return u}applyTransform(o,u=!1){const m=Wr();Ti(m,o);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&uh(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),od(g.latestValues)&&uh(m,g.latestValues)}return od(this.latestValues)&&uh(m,this.latestValues),m}removeTransform(o){const u=Wr();Ti(u,o);for(let m=0;m<this.path.length;m++){const f=this.path[m];if(!f.instance||!od(f.latestValues))continue;yS(f.latestValues)&&f.updateSnapshot();const g=Wr(),x=f.measurePageBox();Ti(g,x),ND(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return od(this.latestValues)&&ND(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ha.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var j;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(o||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=Ha.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),Kg(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wr(),this.targetWithTransforms=Wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ree(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),CL(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),Kg(this.relativeTargetOrigin,this.target,_.target),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yS(this.parent.latestValues)||EL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ha.timestamp&&(m=!1),m)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Ti(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,j=this.treeScale.y;gJ(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wr());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bD(this.prevProjectionDelta.x,this.projectionDelta.x),bD(this.prevProjectionDelta.y,this.projectionDelta.y)),Gg(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==j||!CD(this.projectionDelta.x,this.prevProjectionDelta.x)||!CD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dh(),this.projectionDelta=dh(),this.projectionDeltaWithTransform=dh()}setAnimationOrigin(o,u=!1){const m=this.snapshot,f=m?m.latestValues:{},g={...this.latestValues},x=dh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const j=Wr(),_=m?m.source:void 0,C=this.layout?this.layout.source:void 0,E=_!==C,A=this.getStack(),M=!A||A.members.length<=1,D=!!(E&&!M&&this.options.crossfade===!0&&!this.path.some(Gee));this.animationProgress=0;let R;this.mixTargetDelta=U=>{const k=U/1e3;DD(x.x,o.x,k),DD(x.y,o.y,k),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kg(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wee(this.relativeTarget,this.relativeTargetOrigin,j,k),R&&Dee(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Wr()),Ti(R,this.relativeTarget)),E&&(this.animationValues=g,Aee(g,f,this.latestValues,k,D,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,m,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||f.stop(),this.pendingAnimation&&(au(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update(()=>{gv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Eh(0)),this.currentAnimation=wee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),o.onUpdate&&o.onUpdate(g)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:m,layout:f,latestValues:g}=o;if(!(!u||!m||!f)){if(this!==o&&this.layout&&f&&QL(this.options.animationType,this.layout.layoutBox,f.layoutBox)){m=this.target||Wr();const x=Ns(this.layout.layoutBox.x);m.x.min=o.target.x.min,m.x.max=m.x.min+x;const j=Ns(this.layout.layoutBox.y);m.y.min=o.target.y.min,m.y.max=m.y.min+j}Ti(u,m),uh(u,g),Gg(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Pee),this.sharedNodes.get(o).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:m}={}){const f=this.getStack();f&&f.promote(this,m),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:m}=o;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const f={};m.z&&j2("z",o,f,this.animationValues);for(let g=0;g<w2.length;g++)j2(`rotate${w2[g]}`,o,f,this.animationValues),j2(`skew${w2[g]}`,o,f,this.animationValues);o.render();for(const g in f)o.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=mv(u==null?void 0:u.pointerEvents)||"",o.transform=m?m(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=mv(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!od(this.latestValues)&&(o.transform=m?m({},""):"none",this.hasProjected=!1);return}o.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let x=Ree(this.projectionDeltaWithTransform,this.treeScale,g);m&&(x=m(g,x)),o.transform=x;const{x:j,y:_}=this.projectionDelta;o.transformOrigin=`${j.origin*100}% ${_.origin*100}% 0`,f.animationValues?o.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:o.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in sp){if(g[C]===void 0)continue;const{correct:E,applyTo:A,isCSSVariable:M}=sp[C],D=x==="none"?g[C]:E(g[C],f);if(A){const R=A.length;for(let U=0;U<R;U++)o[A[U]]=D}else M?this.options.visualElement.renderState.vars[C]=D:o[C]=D}this.options.layoutId&&(o.pointerEvents=f===this?mv(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(TD),this.root.sharedNodes.clear()}}}function Lee(e){e.updateLayout()}function Bee(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Pi(x=>{const j=o?t.measuredBox[x]:t.layoutBox[x],_=Ns(j);j.min=r[x].min,j.max=j.min+_}):QL(i,t.layoutBox,r)&&Pi(x=>{const j=o?t.measuredBox[x]:t.layoutBox[x],_=Ns(r[x]);j.max=j.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+_)});const u=dh();Gg(u,r,t.layoutBox);const m=dh();o?Gg(m,e.applyTransform(s,!0),t.measuredBox):Gg(m,r,t.layoutBox);const f=!WL(u);let g=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:j,layout:_}=x;if(j&&_){const C=Wr();Kg(C,t.layoutBox,j.layoutBox);const E=Wr();Kg(E,r,_.layoutBox),GL(C,E)||(g=!0),x.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=C,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Fee(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Uee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zee(e){e.clearSnapshot()}function TD(e){e.clearMeasurements()}function OD(e){e.isLayoutDirty=!1}function Vee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $ee(e){e.resolveTargetDelta()}function Hee(e){e.calcProjection()}function qee(e){e.resetSkewAndRotation()}function Yee(e){e.removeLeadSnapshot()}function DD(e,t,n){e.translate=Cr(t.translate,0,n),e.scale=Cr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function PD(e,t,n,r){e.min=Cr(t.min,n.min,r),e.max=Cr(t.max,n.max,r)}function Wee(e,t,n,r){PD(e.x,t.x,n.x,r),PD(e.y,t.y,n.y,r)}function Gee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Kee={duration:.45,ease:[.4,0,.1,1]},RD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),kD=RD("applewebkit/")&&!RD("chrome/")?Math.round:Ii;function ID(e){e.min=kD(e.min),e.max=kD(e.max)}function Xee(e){ID(e.x),ID(e.y)}function QL(e,t,n){return e==="position"||e==="preserve-aspect"&&!nee(ED(t),ED(n),.2)}function Qee(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Zee=XL({attachResizeListener:(e,t)=>ip(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),N2={current:void 0},ZL=XL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!N2.current){const e=new Zee({});e.mount(window),e.setOptions({layoutScroll:!0}),N2.current=e}return N2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Jee={pan:{Feature:xee},drag:{Feature:pee,ProjectionNode:ZL,MeasureLayout:HL}};function LD(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&hr.postRender(()=>i(t,Bp(t)))}class ete extends wu{mount(){const{current:t}=this.node;t&&(this.unmount=NZ(t,(n,r)=>(LD(this.node,r,"Start"),s=>LD(this.node,s,"End"))))}unmount(){}}class tte extends wu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kp(ip(this.node.current,"focus",()=>this.onFocus()),ip(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BD(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&hr.postRender(()=>i(t,Bp(t)))}class nte extends wu{mount(){const{current:t}=this.node;t&&(this.unmount=EZ(t,(n,r)=>(BD(this.node,r,"Start"),(s,{success:i})=>BD(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AS=new WeakMap,S2=new WeakMap,rte=e=>{const t=AS.get(e.target);t&&t(e)},ate=e=>{e.forEach(rte)};function ste({root:e,...t}){const n=e||document;S2.has(n)||S2.set(n,{});const r=S2.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(ate,{root:e,...t})),r[s]}function ite(e,t,n){const r=ste(t);return AS.set(e,n),r.observe(e),()=>{AS.delete(e),r.unobserve(e)}}const ote={some:0,all:1};class lte extends wu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ote[s]},u=m=>{const{isIntersecting:f}=m;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),j=f?g:x;j&&j(m)};return ite(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(cte(t,n))&&this.startObserver()}unmount(){}}function cte({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ute={inView:{Feature:lte},tap:{Feature:nte},focus:{Feature:tte},hover:{Feature:ete}},dte={layout:{ProjectionNode:ZL,MeasureLayout:HL}},fte={...XJ,...ute,...Jee,...dte},He=fJ(fte,_J);function FD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zy(...e){return t=>{let n=!1;const r=e.map(s=>{const i=FD(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():FD(e[s],null)}}}}function Kt(...e){return w.useCallback(zy(...e),e)}function iu(e){const t=hte(e),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,u=w.Children.toArray(i),m=u.find(gte);if(m){const f=m.props.children,g=u.map(x=>x===m?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:x);return a.jsx(t,{...o,ref:s,children:w.isValidElement(f)?w.cloneElement(f,void 0,g):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var JL=iu("Slot");function hte(e){const t=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=xte(s),u=pte(i,s.props);return s.type!==w.Fragment&&(u.ref=r?zy(r,o):o),w.cloneElement(s,u)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var e7=Symbol("radix.slottable");function mte(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=e7,t}function gte(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===e7}function pte(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{const m=i(...u);return s(...u),m}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function xte(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function t7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=t7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=t7(e))&&(r&&(r+=" "),r+=t);return r}const UD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zD=ln,HA=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return zD(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(f=>{const g=n==null?void 0:n[f],x=i==null?void 0:i[f];if(g===null)return null;const j=UD(g)||UD(x);return s[f][j]}),u=n&&Object.entries(n).reduce((f,g)=>{let[x,j]=g;return j===void 0||(f[x]=j),f},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:x,className:j,..._}=g;return Object.entries(_).every(C=>{let[E,A]=C;return Array.isArray(A)?A.includes({...i,...u}[E]):{...i,...u}[E]===A})?[...f,x,j]:f},[]);return zD(e,o,m,n==null?void 0:n.class,n==null?void 0:n.className)},qA="-",vte=e=>{const t=bte(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const u=o.split(qA);return u[0]===""&&u.length!==1&&u.shift(),n7(u,t)||yte(o)},getConflictingClassGroupIds:(o,u)=>{const m=n[o]||[];return u&&r[o]?[...m,...r[o]]:m}}},n7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?n7(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(qA);return(o=t.validators.find(({validator:u})=>u(i)))==null?void 0:o.classGroupId},VD=/^\[(.+)\]$/,yte=e=>{if(VD.test(e)){const t=VD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},bte=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)ES(n[s],r,s,t);return r},ES=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:$D(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(wte(s)){ES(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ES(o,$D(t,i),n,r)})})},$D=(e,t)=>{let n=e;return t.split(qA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wte=e=>e.isThemeGetter,jte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},CS="!",TS=":",Nte=TS.length,Ste=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,u=0,m=0,f;for(let C=0;C<s.length;C++){let E=s[C];if(o===0&&u===0){if(E===TS){i.push(s.slice(m,C)),m=C+Nte;continue}if(E==="/"){f=C;continue}}E==="["?o++:E==="]"?o--:E==="("?u++:E===")"&&u--}const g=i.length===0?s:s.substring(m),x=_te(g),j=x!==g,_=f&&f>m?f-m:void 0;return{modifiers:i,hasImportantModifier:j,baseClassName:x,maybePostfixModifierPosition:_}};if(t){const s=t+TS,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},_te=e=>e.endsWith(CS)?e.substring(0,e.length-1):e.startsWith(CS)?e.substring(1):e,Ate=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},Ete=e=>({cache:jte(e.cacheSize),parseClassName:Ste(e),sortModifiers:Ate(e),...vte(e)}),Cte=/\s+/,Tte=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],u=e.trim().split(Cte);let m="";for(let f=u.length-1;f>=0;f-=1){const g=u[f],{isExternal:x,modifiers:j,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:E}=n(g);if(x){m=g+(m.length>0?" "+m:m);continue}let A=!!E,M=r(A?C.substring(0,E):C);if(!M){if(!A){m=g+(m.length>0?" "+m:m);continue}if(M=r(C),!M){m=g+(m.length>0?" "+m:m);continue}A=!1}const D=i(j).join(":"),R=_?D+CS:D,U=R+M;if(o.includes(U))continue;o.push(U);const k=s(M,A);for(let I=0;I<k.length;++I){const F=k[I];o.push(R+F)}m=g+(m.length>0?" "+m:m)}return m};function Ote(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=r7(t))&&(r&&(r+=" "),r+=n);return r}const r7=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=r7(e[r]))&&(n&&(n+=" "),n+=t);return n};function Mte(e,...t){let n,r,s,i=o;function o(m){const f=t.reduce((g,x)=>x(g),e());return n=Ete(f),r=n.cache.get,s=n.cache.set,i=u,u(m)}function u(m){const f=r(m);if(f)return f;const g=Tte(m,n);return s(m,g),g}return function(){return i(Ote.apply(null,arguments))}}const va=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},a7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,s7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Dte=/^\d+\/\d+$/,Pte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ite=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kf=e=>Dte.test(e),Zt=e=>!!e&&!Number.isNaN(Number(e)),zc=e=>!!e&&Number.isInteger(Number(e)),_2=e=>e.endsWith("%")&&Zt(e.slice(0,-1)),Al=e=>Pte.test(e),Bte=()=>!0,Fte=e=>Rte.test(e)&&!kte.test(e),i7=()=>!1,Ute=e=>Ite.test(e),zte=e=>Lte.test(e),Vte=e=>!xt(e)&&!vt(e),$te=e=>rm(e,c7,i7),xt=e=>a7.test(e),sd=e=>rm(e,u7,Fte),A2=e=>rm(e,Gte,Zt),HD=e=>rm(e,o7,i7),Hte=e=>rm(e,l7,zte),Lx=e=>rm(e,d7,Ute),vt=e=>s7.test(e),wg=e=>am(e,u7),qte=e=>am(e,Kte),qD=e=>am(e,o7),Yte=e=>am(e,c7),Wte=e=>am(e,l7),Bx=e=>am(e,d7,!0),rm=(e,t,n)=>{const r=a7.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},am=(e,t,n=!1)=>{const r=s7.exec(e);return r?r[1]?t(r[1]):n:!1},o7=e=>e==="position"||e==="percentage",l7=e=>e==="image"||e==="url",c7=e=>e==="length"||e==="size"||e==="bg-size",u7=e=>e==="length",Gte=e=>e==="number",Kte=e=>e==="family-name",d7=e=>e==="shadow",Xte=()=>{const e=va("color"),t=va("font"),n=va("text"),r=va("font-weight"),s=va("tracking"),i=va("leading"),o=va("breakpoint"),u=va("container"),m=va("spacing"),f=va("radius"),g=va("shadow"),x=va("inset-shadow"),j=va("text-shadow"),_=va("drop-shadow"),C=va("blur"),E=va("perspective"),A=va("aspect"),M=va("ease"),D=va("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...U(),vt,xt],I=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],V=()=>[vt,xt,m],L=()=>[Kf,"full","auto",...V()],$=()=>[zc,"none","subgrid",vt,xt],Y=()=>["auto",{span:["full",zc,vt,xt]},zc,vt,xt],q=()=>[zc,"auto",vt,xt],X=()=>["auto","min","max","fr",vt,xt],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...V()],ee=()=>[Kf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],Z=()=>[e,vt,xt],oe=()=>[...U(),qD,HD,{position:[vt,xt]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],de=()=>["auto","cover","contain",Yte,$te,{size:[vt,xt]}],xe=()=>[_2,wg,sd],_e=()=>["","none","full",f,vt,xt],ye=()=>["",Zt,wg,sd],ke=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[Zt,_2,qD,HD],ce=()=>["","none",C,vt,xt],ge=()=>["none",Zt,vt,xt],Me=()=>["none",Zt,vt,xt],Ne=()=>[Zt,vt,xt],we=()=>[Kf,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Al],breakpoint:[Al],color:[Bte],container:[Al],"drop-shadow":[Al],ease:["in","out","in-out"],font:[Vte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Al],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Al],shadow:[Al],spacing:["px",Zt],text:[Al],"text-shadow":[Al],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Kf,xt,vt,A]}],container:["container"],columns:[{columns:[Zt,xt,vt,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[zc,"auto",vt,xt]}],basis:[{basis:[Kf,"full","auto",u,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Zt,Kf,"auto","initial","none",xt]}],grow:[{grow:["",Zt,vt,xt]}],shrink:[{shrink:["",Zt,vt,xt]}],order:[{order:[zc,"first","last","none",vt,xt]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[u,"screen",...ee()]}],"min-w":[{"min-w":[u,"screen","none",...ee()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,wg,sd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,vt,A2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_2,xt]}],"font-family":[{font:[qte,xt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,vt,xt]}],"line-clamp":[{"line-clamp":[Zt,"none",vt,A2]}],leading:[{leading:[i,...V()]}],"list-image":[{"list-image":["none",vt,xt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",vt,xt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[Zt,"from-font","auto",vt,sd]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Zt,"auto",vt,xt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt,xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt,xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:de()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zc,vt,xt],radial:["",vt,xt],conic:[zc,vt,xt]},Wte,Hte]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ke(),"hidden","none"]}],"divide-style":[{divide:[...ke(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Zt,vt,xt]}],"outline-w":[{outline:["",Zt,wg,sd]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",g,Bx,Lx]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",x,Bx,Lx]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Zt,sd]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",j,Bx,Lx]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Zt,vt,xt]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Zt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[vt,xt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[Zt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:de()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",vt,xt]}],filter:[{filter:["","none",vt,xt]}],blur:[{blur:ce()}],brightness:[{brightness:[Zt,vt,xt]}],contrast:[{contrast:[Zt,vt,xt]}],"drop-shadow":[{"drop-shadow":["","none",_,Bx,Lx]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Zt,vt,xt]}],"hue-rotate":[{"hue-rotate":[Zt,vt,xt]}],invert:[{invert:["",Zt,vt,xt]}],saturate:[{saturate:[Zt,vt,xt]}],sepia:[{sepia:["",Zt,vt,xt]}],"backdrop-filter":[{"backdrop-filter":["","none",vt,xt]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[Zt,vt,xt]}],"backdrop-contrast":[{"backdrop-contrast":[Zt,vt,xt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Zt,vt,xt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Zt,vt,xt]}],"backdrop-invert":[{"backdrop-invert":["",Zt,vt,xt]}],"backdrop-opacity":[{"backdrop-opacity":[Zt,vt,xt]}],"backdrop-saturate":[{"backdrop-saturate":[Zt,vt,xt]}],"backdrop-sepia":[{"backdrop-sepia":["",Zt,vt,xt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",vt,xt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Zt,"initial",vt,xt]}],ease:[{ease:["linear","initial",M,vt,xt]}],delay:[{delay:[Zt,vt,xt]}],animate:[{animate:["none",D,vt,xt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,vt,xt]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[vt,xt,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:we()}],"translate-x":[{"translate-x":we()}],"translate-y":[{"translate-y":we()}],"translate-z":[{"translate-z":we()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt,xt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt,xt]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Zt,wg,sd,A2]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Qte=Mte(Xte);function yt(...e){return Qte(ln(e))}const YA=HA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function be({className:e,variant:t,size:n,asChild:r=!1,...s}){const i=r?JL:"button";return a.jsx(i,{"data-slot":"button",className:yt(YA({variant:t,size:n,className:e})),...s})}function fe({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:yt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Te({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:yt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Oe({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:yt("leading-none font-semibold",e),...t})}function st({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:yt("text-muted-foreground text-sm",e),...t})}function he({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:yt("px-6",e),...t})}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jte=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),YD=e=>{const t=Jte(e);return t.charAt(0).toUpperCase()+t.slice(1)},f7=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),ene=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},m)=>w.createElement("svg",{ref:m,...tne,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:f7("lucide",s),...!i&&!ene(u)&&{"aria-hidden":"true"},...u},[...o.map(([f,g])=>w.createElement(f,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(nne,{ref:i,iconNode:t,className:f7(`lucide-${Zte(YD(e))}`,`lucide-${e}`,r),...s}));return n.displayName=YD(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],WA=tt("activity",rne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],sne=tt("arrow-down-wide-narrow",ane);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sm=tt("arrow-left",ine);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gd=tt("arrow-right",one);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],cne=tt("arrow-up-down",lne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],dne=tt("arrow-up-narrow-wide",une);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],hne=tt("award",fne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Oh=tt("bell",mne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],OS=tt("building-2",gne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],xne=tt("calendar-days",pne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ka=tt("calendar",vne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]],MS=tt("camera-off",yne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ph=tt("camera",bne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ls=tt("car",wne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Fp=tt("chart-column",jne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Sne=tt("check-check",Nne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mh=tt("check",_ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],h7=tt("chevron-down",Ane);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cne=tt("chevron-right",Ene);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],One=tt("chevron-up",Tne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],op=tt("circle-alert",Mne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tr=tt("circle-check-big",Dne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rne=tt("circle-check",Pne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WD=tt("circle-question-mark",kne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ou=tt("circle-x",Ine);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bne=tt("clock-3",Lne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hn=tt("clock",Fne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vy=tt("copy",Une);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ba=tt("credit-card",zne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Lg=tt("crown",Vne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sr=tt("dollar-sign",$ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fs=tt("download",Hne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mv=tt("external-link",qne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hs=tt("eye-off",Yne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gn=tt("eye",Wne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Up=tt("file-text",Gne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],im=tt("funnel",Kne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ho=tt("gift",Xne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],GA=tt("globe",Qne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Jne=tt("heart",Zne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Dh=tt("history",ere);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Dv=tt("info",tre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],rre=tt("layers",nre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sre=tt("layout-dashboard",are);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vs=tt("loader-circle",ire);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lre=tt("lock",ore);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ure=tt("log-out",cre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$y=tt("mail",dre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zo=tt("map-pin",fre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],mre=tt("maximize",hre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],DS=tt("megaphone",gre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],GD=tt("menu",pre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ph=tt("message-circle",xre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pv=tt("message-square",vre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["path",{d:"M5 12h14",key:"1ays0h"}]],m7=tt("minus",yre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],KD=tt("monitor",bre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],PS=tt("moon",wre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],XD=tt("navigation",jre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],QD=tt("percent",Nre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],RS=tt("phone",Sre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_s=tt("plus",_re);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],kS=tt("printer",Are);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ir=tt("qr-code",Ere);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],xv=tt("receipt",Cre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Od=tt("refresh-cw",Tre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],g7=tt("save",Ore);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$i=tt("search",Mre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Md=tt("send",Dre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lu=tt("settings",Pre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],IS=tt("share-2",Rre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],Ire=tt("share",kre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eu=tt("shield-check",Lre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cs=tt("shield",Bre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ZD=tt("shopping-cart",Fre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Xg=tt("smartphone",Ure);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],KA=tt("sparkles",zre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],p7=tt("square-pen",Vre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lp=tt("star",$re);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],cu=tt("store",Hre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],LS=tt("sun",qre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],om=tt("target",Yre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ja=tt("ticket",Wre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Kre=tt("timer",Gre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cp=tt("trash-2",Xre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ql=tt("trending-down",Qre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qn=tt("trending-up",Zre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Or=tt("triangle-alert",Jre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tae=tt("upload",eae);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],BS=tt("user-check",nae);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XA=tt("user-plus",rae);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],sae=tt("user-x",aae);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uu=tt("user",iae);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wa=tt("users",oae);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Yl=tt("wallet",lae);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hd=tt("x",cae);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xh=tt("zap",uae),E2=[{id:"damascus",name:"Damascus",nameAr:"",population:"1.7M",color:"#CE1126",description:"Capital and largest city",descriptionAr:"  "},{id:"aleppo",name:"Aleppo",nameAr:"",population:"2.1M",color:"#00843D",description:"Economic center of Syria",descriptionAr:"  "},{id:"homs",name:"Homs",nameAr:"",population:"775K",color:"#F59E0B",description:"Industrial hub",descriptionAr:" "},{id:"hama",name:"Hama",nameAr:"",population:"460K",color:"#10B981",description:"Agricultural center",descriptionAr:" "},{id:"latakia",name:"Latakia",nameAr:"",population:"383K",color:"#3B82F6",description:"Main port city",descriptionAr:"  "},{id:"tartous",name:"Tartous",nameAr:"",population:"115K",color:"#8B5CF6",description:"Coastal city",descriptionAr:" "},{id:"daraa",name:"Daraa",nameAr:"",population:"97K",color:"#EF4444",description:"Southern gateway",descriptionAr:" "},{id:"as-suwayda",name:"As-Suwayda",nameAr:"",population:"73K",color:"#F97316",description:"Mountain region",descriptionAr:" "},{id:"quneitra",name:"Quneitra",nameAr:"",population:"37K",color:"#06B6D4",description:"Golan Heights",descriptionAr:""},{id:"idlib",name:"Idlib",nameAr:"",population:"165K",color:"#84CC16",description:"Northwestern region",descriptionAr:"  "},{id:"deir-ez-zor",name:"Deir ez-Zor",nameAr:" ",population:"211K",color:"#D946EF",description:"Eastern oil region",descriptionAr:"  "},{id:"raqqa",name:"Raqqa",nameAr:"",population:"220K",color:"#F43F5E",description:"Euphrates region",descriptionAr:" "},{id:"qamishli",name:"Qamishli",nameAr:"",population:"184K",color:"#FBBF24",description:"Northeastern border",descriptionAr:"  "}];function dae(){const[e,t]=w.useState(null),[n,r]=w.useState(null),{language:s}=Ft(),i=E2.find(o=>o.id===(n||e));return a.jsx("div",{className:"relative w-full max-w-6xl mx-auto p-8",children:a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900/50 to-green-900/30 rounded-3xl p-8 border border-green-400/20 backdrop-blur-xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:a.jsx("span",{className:"bg-gradient-to-r from-green-400 to-red-400 bg-clip-text text-transparent",children:s==="ar"?"  ":"Interactive Syria Map"})}),a.jsx("p",{className:"text-gray-300",children:s==="ar"?"    ":"Discover the Syrian governorates we serve"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:s==="ar"?"":"Governorates"}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto custom-scrollbar",children:E2.map(o=>a.jsx(He.button,{className:`w-full text-left p-3 rounded-lg border transition-all duration-300 ${e===o.id||n===o.id?"border-green-400/50 bg-green-400/10 shadow-lg":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10"}`,onMouseEnter:()=>t(o.id),onMouseLeave:()=>t(null),onClick:()=>r(n===o.id?null:o.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg",style:{backgroundColor:o.color,boxShadow:`0 0 10px ${o.color}50`}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-white",children:s==="ar"?o.nameAr:o.name}),a.jsxs("div",{className:"text-sm text-gray-400",children:[o.population," ",s==="ar"?"":"people"]})]})]})},o.id))})]}),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"relative w-full max-w-md mx-auto",children:[a.jsx("div",{className:"relative w-80 h-60 mx-auto bg-gradient-to-br from-green-900/20 to-red-900/20 rounded-2xl border border-white/10 flex items-center justify-center",children:a.jsx("div",{className:"text-6xl font-bold bg-gradient-to-r from-green-400 to-red-400 bg-clip-text text-transparent opacity-20",children:""})}),a.jsx("div",{className:"absolute inset-0",children:E2.map((o,u)=>{const f=[{top:"45%",left:"30%"},{top:"25%",left:"35%"},{top:"40%",left:"25%"},{top:"35%",left:"30%"},{top:"30%",left:"15%"},{top:"40%",left:"15%"},{top:"70%",left:"35%"},{top:"60%",left:"40%"},{top:"65%",left:"25%"},{top:"20%",left:"25%"},{top:"45%",left:"75%"},{top:"35%",left:"65%"},{top:"15%",left:"80%"}][u]||{top:"50%",left:"50%"};return a.jsxs(He.div,{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:f,onMouseEnter:()=>t(o.id),onMouseLeave:()=>t(null),onClick:()=>r(n===o.id?null:o.id),whileHover:{scale:1.5},whileTap:{scale:.9},children:[a.jsx(He.div,{className:`w-4 h-4 rounded-full cursor-pointer relative ${e===o.id||n===o.id?"z-10":""}`,style:{backgroundColor:o.color},animate:{boxShadow:e===o.id||n===o.id?`0 0 20px ${o.color}, 0 0 40px ${o.color}50, 0 0 60px ${o.color}30`:`0 0 10px ${o.color}50`},children:a.jsx(He.div,{className:"absolute inset-0 rounded-full",style:{backgroundColor:o.color},animate:{scale:[1,2,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})}),a.jsx(Ch,{children:(e===o.id||n===o.id)&&a.jsx(He.div,{initial:{opacity:0,y:10,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.8},className:"absolute top-6 left-1/2 transform -translate-x-1/2 bg-black/80 backdrop-blur-sm px-2 py-1 rounded-md border border-white/20 whitespace-nowrap z-20",children:a.jsx("div",{className:"text-xs font-medium text-white",children:s==="ar"?o.nameAr:o.name})})})]},o.id)})})]})}),a.jsx("div",{className:"bg-black/30 backdrop-blur-sm rounded-xl p-6 border border-white/10 min-h-48",children:a.jsx(Ch,{mode:"wait",children:i?a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:i.color,boxShadow:`0 0 15px ${i.color}50`}}),a.jsx("h3",{className:"text-2xl font-bold text-white",children:s==="ar"?i.nameAr:i.name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:s==="ar"?" :":"Population:"}),a.jsx("span",{className:"text-white font-medium",children:i.population})]}),a.jsx("div",{className:"pt-2",children:a.jsx("p",{className:"text-gray-300",children:s==="ar"?i.descriptionAr:i.description})})]}),a.jsx("div",{className:"pt-4 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm",children:s==="ar"?"  ":"Tickets service available"})]})})]},i.id):a.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center h-full text-center",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-gray-400",children:s==="ar"?"   ":"Select a governorate to see details"}),a.jsx("div",{className:"text-sm text-gray-500",children:s==="ar"?"     ":"Click or hover over the points"})]})})})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:"13"}),a.jsx("div",{className:"text-sm text-gray-400",children:s==="ar"?"":"Governorates"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-red-400",children:"18M+"}),a.jsx("div",{className:"text-sm text-gray-400",children:s==="ar"?"":"Citizens"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"100%"}),a.jsx("div",{className:"text-sm text-gray-400",children:s==="ar"?"":"Coverage"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"24/7"}),a.jsx("div",{className:"text-sm text-gray-400",children:s==="ar"?" ":"Support"})]})]})})]})})}const fae=[{icon:Yl,title:"Digital Wallet",description:"Secure digital wallet with instant payments, balance management, and real-time transaction tracking."},{icon:ir,title:"QR Payments",description:"Lightning-fast QR code payments for transport, events, and merchant transactions."},{icon:ja,title:"Event Tickets",description:"Buy, manage, and validate event tickets with blockchain-secured authenticity."},{icon:cs,title:"Bank-Grade Security",description:"End-to-end encryption, multi-factor authentication, and fraud prevention."},{icon:qn,title:"Analytics Dashboard",description:"Comprehensive insights into spending patterns, earnings, and financial health."},{icon:xh,title:"Instant Transfers",description:"Real-time money transfers with zero fees between Tickets users."}],hae=[{icon:wa,value:"50,000+",label:"Active Users",growth:"+25% this month"},{icon:ba,value:"$2.5M+",label:"Transaction Volume",growth:"+40% this quarter"},{icon:Zo,value:"12+",label:"Cities Covered",growth:"Expanding rapidly"},{icon:cs,value:"99.99%",label:"Uptime",growth:"Enterprise-grade"}],mae=[{name:"Ahmed Al-Rashid",role:"Business Owner",content:"Tickets transformed how I handle payments. The QR system is incredibly efficient for my restaurant.",avatar:""},{name:"Sarah Hassan",role:"University Student",content:"Perfect for buying event tickets and managing my daily transport expenses. Love the analytics!",avatar:""},{name:"Omar Farouk",role:"Driver",content:"The driver platform is amazing. I can track my earnings in real-time and get paid instantly.",avatar:""}];function gae(){const{t:e,language:t,setLanguage:n}=Ft();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900 relative overflow-hidden",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-red-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-green-600 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"}),a.jsx("div",{className:"absolute top-1/2 right-1/4 w-60 h-60 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-pulse"})]}),a.jsx("div",{className:"fixed top-0 left-0 w-full h-2 syrian-stripes opacity-30"}),a.jsx("div",{className:"fixed bottom-0 left-0 w-full h-2 syrian-stripes opacity-30"}),a.jsx("header",{className:"relative border-b border-white/10 bg-black/20 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto flex h-16 md:h-20 items-center justify-between px-4",children:[a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/syrian-logo.svg",alt:"Tickets Syria Logo",className:"h-10 w-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-red-400 rounded-lg blur opacity-50"})]}),a.jsxs("h1",{className:"text-lg md:text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:[a.jsx("span",{className:"hidden sm:inline",children:" Tickets"}),a.jsx("span",{className:"sm:hidden",children:""})]})]}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>n(t==="en"?"ar":"en"),className:"text-white/70 hover:text-white hover:bg-white/10",children:[a.jsx(GA,{className:"h-4 w-4 mr-1 md:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:t==="en"?"":"English"}),a.jsx("span",{className:"sm:hidden",children:t==="en"?"":"EN"})]}),a.jsx($t,{to:"/login",children:a.jsxs(be,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10 text-xs md:text-sm px-2 md:px-4",children:[a.jsx("span",{className:"hidden sm:inline",children:"Sign In"}),a.jsx("span",{className:"sm:hidden",children:""})]})}),a.jsx($t,{to:"/register",children:a.jsxs(be,{size:"sm",className:"bg-gradient-to-r from-green-500 to-red-600 hover:from-green-600 hover:to-red-700 border-0 text-xs md:text-sm px-2 md:px-4",children:[a.jsx("span",{className:"hidden sm:inline",children:"  Get Started"}),a.jsx("span",{className:"sm:hidden",children:""})]})})]})]})}),a.jsx("section",{className:"relative py-16 md:py-32",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-green-500/20 to-red-500/20 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[a.jsx(KA,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-sm text-white/80",children:"    "}),a.jsx("span",{className:"text-xs text-white/60",children:"Future of Digital Payments in Syria"})]})}),a.jsxs("h1",{className:"text-3xl md:text-5xl lg:text-7xl font-bold mb-6 md:mb-8 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-white via-green-100 to-yellow-100 bg-clip-text text-transparent",children:" "}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-green-400 to-red-400 bg-clip-text text-transparent",children:"Digital Payments"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-green-400 bg-clip-text text-transparent text-2xl md:text-4xl lg:text-5xl",children:"  "})]}),a.jsxs("p",{className:"text-base md:text-xl text-gray-300 mb-8 md:mb-12 max-w-3xl mx-auto leading-relaxed px-4 md:px-0",children:["            QR    .     .",a.jsx("br",{}),a.jsx("br",{}),"Experience the next generation of digital payments with our comprehensive platform built specifically for Syria's growing digital economy."]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 md:gap-6 justify-center mb-8 md:mb-16 px-4 md:px-0",children:[a.jsx($t,{to:"/register",children:a.jsxs(be,{size:"lg",className:"group bg-gradient-to-r from-green-500 to-red-600 hover:from-green-600 hover:to-red-700 px-8 py-4 text-lg border-0",children:["  Start Your Journey",a.jsx(gd,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),a.jsx($t,{to:"/login",children:a.jsx(be,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"  Watch Demo"})})]}),a.jsx(He.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.3},className:"relative mx-auto max-w-4xl",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),a.jsx("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-8 border border-white/10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-xl p-6 border border-green-400/20",children:[a.jsx(Yl,{className:"h-12 w-12 text-green-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:" "}),a.jsx("p",{className:"text-gray-400 text-sm",children:"  Digital Wallet"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-red-500/20 to-red-600/20 rounded-xl p-6 border border-red-400/20",children:[a.jsx(ir,{className:"h-12 w-12 text-red-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:" QR"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"  Lightning fast"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 rounded-xl p-6 border border-yellow-400/20",children:[a.jsx(ja,{className:"h-12 w-12 text-yellow-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:" "}),a.jsx("p",{className:"text-gray-400 text-sm",children:"  Event Tickets"})]})]})})]})})]})})}),a.jsx("section",{className:"relative py-20 border-y border-white/10 bg-black/20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:hae.map((r,s)=>a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-green-500/20 to-red-500/20 border border-white/10",children:a.jsx(r.icon,{className:"h-8 w-8 text-green-400"})}),a.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:r.value}),a.jsx("div",{className:"text-gray-300 font-medium mb-1",children:r.label}),a.jsx("div",{className:"text-xs text-green-400",children:r.growth})]},r.label))})})}),a.jsx("section",{className:"relative py-32 bg-black/20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx(dae,{})})}),a.jsx("section",{className:"relative py-32",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"text-center mb-20",children:a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:t==="ar"?"  ":"Everything You Need"})}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:t==="ar"?"       .":"A comprehensive platform designed for individuals, businesses, and enterprises in Syria."})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:fae.map((r,s)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},children:a.jsxs(fe,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10 hover:border-green-400/20 transition-all duration-300 hover:scale-105",children:[a.jsxs(Te,{children:[a.jsx("div",{className:"mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-green-500/20 to-red-500/20 border border-white/10",children:a.jsx(r.icon,{className:"h-7 w-7 text-green-400"})}),a.jsx(Oe,{className:"text-xl text-white",children:r.title})]}),a.jsx(he,{children:a.jsx(st,{className:"text-gray-400 leading-relaxed",children:r.description})})]})},r.title))})]})}),a.jsx("section",{className:"relative py-32 bg-black/20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Loved by Users"})}),a.jsx("p",{className:"text-xl text-gray-400",children:"Join thousands of satisfied users across the region"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:mae.map((r,s)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},children:a.jsx(fe,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10",children:a.jsxs(he,{className:"p-6",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((i,o)=>a.jsx(lp,{className:"h-4 w-4 text-yellow-400 fill-current"},o))}),a.jsxs("p",{className:"text-gray-300 mb-6 italic",children:['"',r.content,'"']}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:r.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:r.name}),a.jsx("div",{className:"text-gray-400 text-sm",children:r.role})]})]})]})})},r.name))})]})}),a.jsx("section",{className:"relative py-32",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),a.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-16 border border-white/10",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:[a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Ready to Transform"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Your Payments?"})]}),a.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Join the digital payment revolution. Get started in minutes and experience the future of finance."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[a.jsx($t,{to:"/register",children:a.jsxs(be,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Get Started Now",a.jsx(gd,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),a.jsx($t,{to:"/login",children:a.jsx(be,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Talk to Sales"})})]})]})]})})}),a.jsx("footer",{className:"relative border-t border-white/10 bg-black/40 py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("img",{src:"/syrian-logo.svg",alt:"Syrian Tickets Logo",className:"h-8 w-8"}),a.jsx("h3",{className:"text-xl font-bold text-white",children:"  | Tickets"})]}),a.jsxs("p",{className:"text-gray-400 mb-6 max-w-md",children:["        .",a.jsx("br",{}),a.jsx("span",{className:"text-sm",children:"The next generation digital payment platform, designed for the modern economy."})]}),a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"SOC 2 Type II Certified"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:" | Product"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx($t,{to:"/login",className:"hover:text-syrian-green transition-colors",children:"  | Digital Wallet"})}),a.jsx("li",{children:a.jsx($t,{to:"/login",className:"hover:text-syrian-green transition-colors",children:" QR | QR Payments"})}),a.jsx("li",{children:a.jsx($t,{to:"/login",className:"hover:text-syrian-green transition-colors",children:"  | Event Tickets"})}),a.jsx("li",{children:a.jsx($t,{to:"/login",className:"hover:text-syrian-green transition-colors",children:" | Analytics"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:" | Company"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#about",className:"hover:text-syrian-green transition-colors",children:" | About Us"})}),a.jsx("li",{children:a.jsxs("a",{href:"mailto:careers@tickets-syria.com",className:"hover:text-syrian-green transition-colors inline-flex items-center gap-1",children:[" | Careers",a.jsx(Mv,{className:"h-3 w-3"})]})}),a.jsx("li",{children:a.jsxs("a",{href:"mailto:info@tickets-syria.com",className:"hover:text-syrian-green transition-colors inline-flex items-center gap-1",children:["  | Contact",a.jsx(Mv,{className:"h-3 w-3"})]})}),a.jsx("li",{children:a.jsx($t,{to:"/login",className:"hover:text-syrian-green transition-colors",children:" | Support"})})]})]})]}),a.jsx("div",{className:"border-t border-white/10 pt-8 text-center",children:a.jsxs("p",{className:"text-gray-400",children:[" 2024  Tickets.   . |       .",a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"Built with  for Syria's digital future."})]})})]})})]})}function ut({className:e,type:t,...n}){return a.jsx("input",{type:t,"data-slot":"input",className:yt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var pae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_t=pae.reduce((e,t)=>{const n=iu(`Primitive.${t}`),r=w.forwardRef((s,i)=>{const{asChild:o,...u}=s,m=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function x7(e,t){e&&$d.flushSync(()=>e.dispatchEvent(t))}var xae="Label",v7=w.forwardRef((e,t)=>a.jsx(_t.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));v7.displayName=xae;var vae=v7;function Ve({className:e,...t}){return a.jsx(vae,{"data-slot":"label",className:yt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const yae=HA("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function us({className:e,variant:t,...n}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:yt(yae({variant:t}),e),...n})}function ds({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:yt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function bae(e,t){const n=w.createContext(t),r=i=>{const{children:o,...u}=i,m=w.useMemo(()=>u,Object.values(u));return a.jsx(n.Provider,{value:m,children:o})};r.displayName=e+"Provider";function s(i){const o=w.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Ts(e,t=[]){let n=[];function r(i,o){const u=w.createContext(o),m=n.length;n=[...n,o];const f=x=>{var M;const{scope:j,children:_,...C}=x,E=((M=j==null?void 0:j[e])==null?void 0:M[m])||u,A=w.useMemo(()=>C,Object.values(C));return a.jsx(E.Provider,{value:A,children:_})};f.displayName=i+"Provider";function g(x,j){var E;const _=((E=j==null?void 0:j[e])==null?void 0:E[m])||u,C=w.useContext(_);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${x}\` must be used within \`${i}\``)}return[f,g]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(u){const m=(u==null?void 0:u[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...u,[e]:m}}),[u,m])}};return s.scopeName=e,[r,wae(s,...t)]}function wae(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((u,{useScope:m,scopeName:f})=>{const x=m(i)[`__scope${f}`];return{...u,...x}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ot(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var ua=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},jae=A6[" useInsertionEffect ".trim().toString()]||ua;function Wl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=Nae({defaultProp:t,onChange:n}),u=e!==void 0,m=u?e:s;{const g=w.useRef(e!==void 0);w.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const f=w.useCallback(g=>{var x;if(u){const j=Sae(g)?g(e):g;j!==e&&((x=o.current)==null||x.call(o,j))}else i(g)},[u,e,i,o]);return[m,f]}function Nae({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),s=w.useRef(n),i=w.useRef(t);return jae(()=>{i.current=t},[t]),w.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Sae(e){return typeof e=="function"}function QA(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ZA(e){const[t,n]=w.useState(void 0);return ua(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,u;if("borderBoxSize"in i){const m=i.borderBoxSize,f=Array.isArray(m)?m[0]:m;o=f.inlineSize,u=f.blockSize}else o=e.offsetWidth,u=e.offsetHeight;n({width:o,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function _ae(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var gs=e=>{const{present:t,children:n}=e,r=Aae(t),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=Kt(r.ref,Eae(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};gs.displayName="Presence";function Aae(e){const[t,n]=w.useState(),r=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),o=e?"mounted":"unmounted",[u,m]=_ae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=Fx(r.current);i.current=u==="mounted"?f:"none"},[u]),ua(()=>{const f=r.current,g=s.current;if(g!==e){const j=i.current,_=Fx(f);e?m("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?m("UNMOUNT"):m(g&&j!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,m]),ua(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,x=_=>{const E=Fx(r.current).includes(_.animationName);if(_.target===t&&E&&(m("ANIMATION_END"),!s.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},j=_=>{_.target===t&&(i.current=Fx(r.current))};return t.addEventListener("animationstart",j),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",j),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Fx(e){return(e==null?void 0:e.animationName)||"none"}function Eae(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Hy="Checkbox",[Cae,c4e]=Ts(Hy),[Tae,JA]=Cae(Hy);function Oae(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:u,onCheckedChange:m,required:f,value:g="on",internal_do_not_use_render:x}=e,[j,_]=Wl({prop:n,defaultProp:s??!1,onChange:m,caller:Hy}),[C,E]=w.useState(null),[A,M]=w.useState(null),D=w.useRef(!1),R=C?!!o||!!C.closest("form"):!0,U={checked:j,disabled:i,setChecked:_,control:C,setControl:E,name:u,form:o,value:g,hasConsumerStoppedPropagationRef:D,required:f,defaultChecked:tu(s)?!1:s,isFormControl:R,bubbleInput:A,setBubbleInput:M};return a.jsx(Tae,{scope:t,...U,children:Mae(x)?x(U):r})}var y7="CheckboxTrigger",b7=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:u,checked:m,required:f,setControl:g,setChecked:x,hasConsumerStoppedPropagationRef:j,isFormControl:_,bubbleInput:C}=JA(y7,e),E=Kt(s,g),A=w.useRef(m);return w.useEffect(()=>{const M=i==null?void 0:i.form;if(M){const D=()=>x(A.current);return M.addEventListener("reset",D),()=>M.removeEventListener("reset",D)}},[i,x]),a.jsx(_t.button,{type:"button",role:"checkbox","aria-checked":tu(m)?"mixed":m,"aria-required":f,"data-state":A7(m),"data-disabled":u?"":void 0,disabled:u,value:o,...r,ref:E,onKeyDown:ot(t,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:ot(n,M=>{x(D=>tu(D)?!0:!D),C&&_&&(j.current=M.isPropagationStopped(),j.current||M.stopPropagation())})})});b7.displayName=y7;var w7=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:u,value:m,onCheckedChange:f,form:g,...x}=e;return a.jsx(Oae,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:u,required:o,onCheckedChange:f,name:r,form:g,value:m,internal_do_not_use_render:({isFormControl:j})=>a.jsxs(a.Fragment,{children:[a.jsx(b7,{...x,ref:t,__scopeCheckbox:n}),j&&a.jsx(_7,{__scopeCheckbox:n})]})})});w7.displayName=Hy;var j7="CheckboxIndicator",N7=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=JA(j7,n);return a.jsx(gs,{present:r||tu(i.checked)||i.checked===!0,children:a.jsx(_t.span,{"data-state":A7(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});N7.displayName=j7;var S7="CheckboxBubbleInput",_7=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:u,disabled:m,name:f,value:g,form:x,bubbleInput:j,setBubbleInput:_}=JA(S7,e),C=Kt(n,_),E=QA(i),A=ZA(r);w.useEffect(()=>{const D=j;if(!D)return;const R=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(R,"checked").set,I=!s.current;if(E!==i&&k){const F=new Event("click",{bubbles:I});D.indeterminate=tu(i),k.call(D,tu(i)?!1:i),D.dispatchEvent(F)}},[j,E,i,s]);const M=w.useRef(tu(i)?!1:i);return a.jsx(_t.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??M.current,required:u,disabled:m,name:f,value:g,form:x,...t,tabIndex:-1,ref:C,style:{...t.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_7.displayName=S7;function Mae(e){return typeof e=="function"}function tu(e){return e==="indeterminate"}function A7(e){return tu(e)?"indeterminate":e?"checked":"unchecked"}function du({className:e,...t}){return a.jsx(w7,{"data-slot":"checkbox",className:yt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(N7,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Mh,{className:"size-3.5"})})})}function Dae(){const[e,t]=w.useState({email:"",password:""}),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[o,u]=w.useState(""),[m,f]=w.useState(!1),{signIn:g}=Ht(),{t:x}=Ft(),j=xo(),_=async E=>{E.preventDefault(),u(""),f(!0);try{const{error:A}=await g(e.email,e.password,s);A?u(A.message):j("/")}catch{u("An unexpected error occurred")}finally{f(!1)}},C=(E,A)=>{t(M=>({...M,[E]:A}))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs($t,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(sm,{className:"h-4 w-4"}),x("registration.backToHome")]}),a.jsxs(He.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/syrian-logo.svg",alt:"Tickets Syria Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-red-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:" Tickets"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(KA,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-white/70 text-sm",children:x("login.welcomeBack")})]})]}),a.jsxs(fe,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Te,{className:"text-center pb-2",children:[a.jsx(Oe,{className:"text-2xl font-bold text-white",children:x("auth.signIn")}),a.jsx(st,{className:"text-gray-400",children:x("auth.accessDescription")})]}),a.jsxs(he,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o&&a.jsx(us,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ds,{className:"text-red-400",children:o})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"email",className:"text-white",children:x("auth.email")}),a.jsx(ut,{id:"email",type:"email",value:e.email,onChange:E=>C("email",E.target.value),placeholder:x("auth.emailPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-green-400/50 focus:ring-green-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"password",className:"text-white",children:x("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(ut,{id:"password",type:n?"text":"password",value:e.password,onChange:E=>C("password",E.target.value),placeholder:x("auth.enterPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-green-400/50 focus:ring-green-400/20 pr-12"}),a.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(du,{id:"rememberMe",checked:s,onCheckedChange:E=>i(E),className:"border-white/20 data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"}),a.jsx(Ve,{htmlFor:"rememberMe",className:"text-gray-400 text-sm cursor-pointer",children:x("auth.rememberMe")})]}),a.jsx($t,{to:"/forgot-password",className:"text-green-400 hover:text-green-300 transition-colors",children:x("auth.forgotPassword")})]}),a.jsx(He.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:a.jsxs(be,{type:"submit",className:"w-full bg-gradient-to-r from-green-500 to-red-600 hover:from-green-600 hover:to-red-700 border-0 text-white py-6 text-lg font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",disabled:m,children:[m&&a.jsx(Vs,{className:"mr-2 h-5 w-5 animate-spin"}),x("auth.signIn")]})})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[x("auth.dontHaveAccount")," ",a.jsx($t,{to:"/register",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:x("auth.signUpHere")})]})})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:x("login.secure")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:x("login.encrypted")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:x("login.private")})]})]})})]})]})}function FS(e,[t,n]){return Math.min(n,Math.max(t,e))}function eE(e){const t=e+"CollectionProvider",[n,r]=Ts(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:A,children:M}=E,D=at.useRef(null),R=at.useRef(new Map).current;return a.jsx(s,{scope:A,itemMap:R,collectionRef:D,children:M})};o.displayName=t;const u=e+"CollectionSlot",m=iu(u),f=at.forwardRef((E,A)=>{const{scope:M,children:D}=E,R=i(u,M),U=Kt(A,R.collectionRef);return a.jsx(m,{ref:U,children:D})});f.displayName=u;const g=e+"CollectionItemSlot",x="data-radix-collection-item",j=iu(g),_=at.forwardRef((E,A)=>{const{scope:M,children:D,...R}=E,U=at.useRef(null),k=Kt(A,U),I=i(g,M);return at.useEffect(()=>(I.itemMap.set(U,{ref:U,...R}),()=>void I.itemMap.delete(U))),a.jsx(j,{[x]:"",ref:k,children:D})});_.displayName=g;function C(E){const A=i(e+"CollectionConsumer",E);return at.useCallback(()=>{const D=A.collectionRef.current;if(!D)return[];const R=Array.from(D.querySelectorAll(`[${x}]`));return Array.from(A.itemMap.values()).sort((I,F)=>R.indexOf(I.ref.current)-R.indexOf(F.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:f,ItemSlot:_},C,r]}var Pae=w.createContext(void 0);function zp(e){const t=w.useContext(Pae);return e||t||"ltr"}function Da(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Rae(e,t=globalThis==null?void 0:globalThis.document){const n=Da(e);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var kae="DismissableLayer",US="dismissableLayer.update",Iae="dismissableLayer.pointerDownOutside",Lae="dismissableLayer.focusOutside",JD,E7=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vp=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...m}=e,f=w.useContext(E7),[g,x]=w.useState(null),j=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=w.useState({}),C=Kt(t,F=>x(F)),E=Array.from(f.layers),[A]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),M=E.indexOf(A),D=g?E.indexOf(g):-1,R=f.layersWithOutsidePointerEventsDisabled.size>0,U=D>=M,k=Uae(F=>{const V=F.target,L=[...f.branches].some($=>$.contains(V));!U||L||(s==null||s(F),o==null||o(F),F.defaultPrevented||u==null||u())},j),I=zae(F=>{const V=F.target;[...f.branches].some($=>$.contains(V))||(i==null||i(F),o==null||o(F),F.defaultPrevented||u==null||u())},j);return Rae(F=>{D===f.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&u&&(F.preventDefault(),u()))},j),w.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(JD=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),eP(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=JD)}},[g,j,n,f]),w.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),eP())},[g,f]),w.useEffect(()=>{const F=()=>_({});return document.addEventListener(US,F),()=>document.removeEventListener(US,F)},[]),a.jsx(_t.div,{...m,ref:C,style:{pointerEvents:R?U?"auto":"none":void 0,...e.style},onFocusCapture:ot(e.onFocusCapture,I.onFocusCapture),onBlurCapture:ot(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:ot(e.onPointerDownCapture,k.onPointerDownCapture)})});Vp.displayName=kae;var Bae="DismissableLayerBranch",Fae=w.forwardRef((e,t)=>{const n=w.useContext(E7),r=w.useRef(null),s=Kt(t,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(_t.div,{...e,ref:s})});Fae.displayName=Bae;function Uae(e,t=globalThis==null?void 0:globalThis.document){const n=Da(e),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let m=function(){C7(Iae,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=m,t.addEventListener("click",s.current,{once:!0})):m()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function zae(e,t=globalThis==null?void 0:globalThis.document){const n=Da(e),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&C7(Lae,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eP(){const e=new CustomEvent(US);document.dispatchEvent(e)}function C7(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?x7(s,i):s.dispatchEvent(i)}var C2=0;function qy(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tP()),document.body.insertAdjacentElement("beforeend",e[1]??tP()),C2++,()=>{C2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),C2--}},[])}function tP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var T2="focusScope.autoFocusOnMount",O2="focusScope.autoFocusOnUnmount",nP={bubbles:!1,cancelable:!0},Vae="FocusScope",$p=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[u,m]=w.useState(null),f=Da(s),g=Da(i),x=w.useRef(null),j=Kt(t,E=>m(E)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let E=function(R){if(_.paused||!u)return;const U=R.target;u.contains(U)?x.current=U:Xc(x.current,{select:!0})},A=function(R){if(_.paused||!u)return;const U=R.relatedTarget;U!==null&&(u.contains(U)||Xc(x.current,{select:!0}))},M=function(R){if(document.activeElement===document.body)for(const k of R)k.removedNodes.length>0&&Xc(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",A);const D=new MutationObserver(M);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",A),D.disconnect()}}},[r,u,_.paused]),w.useEffect(()=>{if(u){aP.add(_);const E=document.activeElement;if(!u.contains(E)){const M=new CustomEvent(T2,nP);u.addEventListener(T2,f),u.dispatchEvent(M),M.defaultPrevented||($ae(Gae(T7(u)),{select:!0}),document.activeElement===E&&Xc(u))}return()=>{u.removeEventListener(T2,f),setTimeout(()=>{const M=new CustomEvent(O2,nP);u.addEventListener(O2,g),u.dispatchEvent(M),M.defaultPrevented||Xc(E??document.body,{select:!0}),u.removeEventListener(O2,g),aP.remove(_)},0)}}},[u,f,g,_]);const C=w.useCallback(E=>{if(!n&&!r||_.paused)return;const A=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,M=document.activeElement;if(A&&M){const D=E.currentTarget,[R,U]=Hae(D);R&&U?!E.shiftKey&&M===U?(E.preventDefault(),n&&Xc(R,{select:!0})):E.shiftKey&&M===R&&(E.preventDefault(),n&&Xc(U,{select:!0})):M===D&&E.preventDefault()}},[n,r,_.paused]);return a.jsx(_t.div,{tabIndex:-1,...o,ref:j,onKeyDown:C})});$p.displayName=Vae;function $ae(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Xc(r,{select:t}),document.activeElement!==n)return}function Hae(e){const t=T7(e),n=rP(t,e),r=rP(t.reverse(),e);return[n,r]}function T7(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rP(e,t){for(const n of e)if(!qae(n,{upTo:t}))return n}function qae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yae(e){return e instanceof HTMLInputElement&&"select"in e}function Xc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Yae(e)&&t&&e.select()}}var aP=Wae();function Wae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=sP(e,t),e.unshift(t)},remove(t){var n;e=sP(e,t),(n=e[0])==null||n.resume()}}}function sP(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Gae(e){return e.filter(t=>t.tagName!=="A")}var Kae=A6[" useId ".trim().toString()]||(()=>{}),Xae=0;function fo(e){const[t,n]=w.useState(Kae());return ua(()=>{n(r=>r??String(Xae++))},[e]),t?`radix-${t}`:""}const Qae=["top","right","bottom","left"],fu=Math.min,ii=Math.max,Pv=Math.round,Ux=Math.floor,Ko=e=>({x:e,y:e}),Zae={left:"right",right:"left",bottom:"top",top:"bottom"},Jae={start:"end",end:"start"};function zS(e,t,n){return ii(e,fu(t,n))}function Gl(e,t){return typeof e=="function"?e(t):e}function Kl(e){return e.split("-")[0]}function lm(e){return e.split("-")[1]}function tE(e){return e==="x"?"y":"x"}function nE(e){return e==="y"?"height":"width"}function Ll(e){return["top","bottom"].includes(Kl(e))?"y":"x"}function rE(e){return tE(Ll(e))}function ese(e,t,n){n===void 0&&(n=!1);const r=lm(e),s=rE(e),i=nE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Rv(o)),[o,Rv(o)]}function tse(e){const t=Rv(e);return[VS(e),t,VS(t)]}function VS(e){return e.replace(/start|end/g,t=>Jae[t])}function nse(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function rse(e,t,n,r){const s=lm(e);let i=nse(Kl(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(VS)))),i}function Rv(e){return e.replace(/left|right|bottom|top/g,t=>Zae[t])}function ase(e){return{top:0,right:0,bottom:0,left:0,...e}}function O7(e){return typeof e!="number"?ase(e):{top:e,right:e,bottom:e,left:e}}function kv(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function iP(e,t,n){let{reference:r,floating:s}=e;const i=Ll(t),o=rE(t),u=nE(o),m=Kl(t),f=i==="y",g=r.x+r.width/2-s.width/2,x=r.y+r.height/2-s.height/2,j=r[u]/2-s[u]/2;let _;switch(m){case"top":_={x:g,y:r.y-s.height};break;case"bottom":_={x:g,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:x};break;case"left":_={x:r.x-s.width,y:x};break;default:_={x:r.x,y:r.y}}switch(lm(t)){case"start":_[o]-=j*(n&&f?-1:1);break;case"end":_[o]+=j*(n&&f?-1:1);break}return _}const sse=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,u=i.filter(Boolean),m=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:g,y:x}=iP(f,r,m),j=r,_={},C=0;for(let E=0;E<u.length;E++){const{name:A,fn:M}=u[E],{x:D,y:R,data:U,reset:k}=await M({x:g,y:x,initialPlacement:r,placement:j,strategy:s,middlewareData:_,rects:f,platform:o,elements:{reference:e,floating:t}});g=D??g,x=R??x,_={..._,[A]:{..._[A],...U}},k&&C<=50&&(C++,typeof k=="object"&&(k.placement&&(j=k.placement),k.rects&&(f=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:g,y:x}=iP(f,j,m)),E=-1)}return{x:g,y:x,placement:j,strategy:s,middlewareData:_}};async function up(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:m}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:j=!1,padding:_=0}=Gl(t,e),C=O7(_),A=u[j?x==="floating"?"reference":"floating":x],M=kv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(A)))==null||n?A:A.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:m})),D=x==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),U=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},k=kv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:R,strategy:m}):D);return{top:(M.top-k.top+C.top)/U.y,bottom:(k.bottom-M.bottom+C.bottom)/U.y,left:(M.left-k.left+C.left)/U.x,right:(k.right-M.right+C.right)/U.x}}const ise=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:m}=t,{element:f,padding:g=0}=Gl(e,t)||{};if(f==null)return{};const x=O7(g),j={x:n,y:r},_=rE(s),C=nE(_),E=await o.getDimensions(f),A=_==="y",M=A?"top":"left",D=A?"bottom":"right",R=A?"clientHeight":"clientWidth",U=i.reference[C]+i.reference[_]-j[_]-i.floating[C],k=j[_]-i.reference[_],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let F=I?I[R]:0;(!F||!await(o.isElement==null?void 0:o.isElement(I)))&&(F=u.floating[R]||i.floating[C]);const V=U/2-k/2,L=F/2-E[C]/2-1,$=fu(x[M],L),Y=fu(x[D],L),q=$,X=F-E[C]-Y,Q=F/2-E[C]/2+V,G=zS(q,Q,X),H=!m.arrow&&lm(s)!=null&&Q!==G&&i.reference[C]/2-(Q<q?$:Y)-E[C]/2<0,ee=H?Q<q?Q-q:Q-X:0;return{[_]:j[_]+ee,data:{[_]:G,centerOffset:Q-G-ee,...H&&{alignmentOffset:ee}},reset:H}}}),ose=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:m,elements:f}=t,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:j,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...A}=Gl(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const M=Kl(s),D=Ll(u),R=Kl(u)===u,U=await(m.isRTL==null?void 0:m.isRTL(f.floating)),k=j||(R||!E?[Rv(u)]:tse(u)),I=C!=="none";!j&&I&&k.push(...rse(u,E,C,U));const F=[u,...k],V=await up(t,A),L=[];let $=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&L.push(V[M]),x){const G=ese(s,o,U);L.push(V[G[0]],V[G[1]])}if($=[...$,{placement:s,overflows:L}],!L.every(G=>G<=0)){var Y,q;const G=(((Y=i.flip)==null?void 0:Y.index)||0)+1,H=F[G];if(H){var X;const Z=x==="alignment"?D!==Ll(H):!1,oe=((X=$[0])==null?void 0:X.overflows[0])>0;if(!Z||oe)return{data:{index:G,overflows:$},reset:{placement:H}}}let ee=(q=$.filter(Z=>Z.overflows[0]<=0).sort((Z,oe)=>Z.overflows[1]-oe.overflows[1])[0])==null?void 0:q.placement;if(!ee)switch(_){case"bestFit":{var Q;const Z=(Q=$.filter(oe=>{if(I){const re=Ll(oe.placement);return re===D||re==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(re=>re>0).reduce((re,de)=>re+de,0)]).sort((oe,re)=>oe[1]-re[1])[0])==null?void 0:Q[0];Z&&(ee=Z);break}case"initialPlacement":ee=u;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function oP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lP(e){return Qae.some(t=>e[t]>=0)}const lse=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Gl(e,t);switch(r){case"referenceHidden":{const i=await up(t,{...s,elementContext:"reference"}),o=oP(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lP(o)}}}case"escaped":{const i=await up(t,{...s,altBoundary:!0}),o=oP(i,n.floating);return{data:{escapedOffsets:o,escaped:lP(o)}}}default:return{}}}}};async function cse(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Kl(n),u=lm(n),m=Ll(n)==="y",f=["left","top"].includes(o)?-1:1,g=i&&m?-1:1,x=Gl(t,e);let{mainAxis:j,crossAxis:_,alignmentAxis:C}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof C=="number"&&(_=u==="end"?C*-1:C),m?{x:_*g,y:j*f}:{x:j*f,y:_*g}}const use=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:u}=t,m=await cse(t,e);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+m.x,y:i+m.y,data:{...m,placement:o}}}}},dse=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:u={fn:A=>{let{x:M,y:D}=A;return{x:M,y:D}}},...m}=Gl(e,t),f={x:n,y:r},g=await up(t,m),x=Ll(Kl(s)),j=tE(x);let _=f[j],C=f[x];if(i){const A=j==="y"?"top":"left",M=j==="y"?"bottom":"right",D=_+g[A],R=_-g[M];_=zS(D,_,R)}if(o){const A=x==="y"?"top":"left",M=x==="y"?"bottom":"right",D=C+g[A],R=C-g[M];C=zS(D,C,R)}const E=u.fn({...t,[j]:_,[x]:C});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[j]:i,[x]:o}}}}}},fse=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:u=0,mainAxis:m=!0,crossAxis:f=!0}=Gl(e,t),g={x:n,y:r},x=Ll(s),j=tE(x);let _=g[j],C=g[x];const E=Gl(u,t),A=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(m){const R=j==="y"?"height":"width",U=i.reference[j]-i.floating[R]+A.mainAxis,k=i.reference[j]+i.reference[R]-A.mainAxis;_<U?_=U:_>k&&(_=k)}if(f){var M,D;const R=j==="y"?"width":"height",U=["top","left"].includes(Kl(s)),k=i.reference[x]-i.floating[R]+(U&&((M=o.offset)==null?void 0:M[x])||0)+(U?0:A.crossAxis),I=i.reference[x]+i.reference[R]+(U?0:((D=o.offset)==null?void 0:D[x])||0)-(U?A.crossAxis:0);C<k?C=k:C>I&&(C=I)}return{[j]:_,[x]:C}}}},hse=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:u}=t,{apply:m=()=>{},...f}=Gl(e,t),g=await up(t,f),x=Kl(s),j=lm(s),_=Ll(s)==="y",{width:C,height:E}=i.floating;let A,M;x==="top"||x==="bottom"?(A=x,M=j===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(M=x,A=j==="end"?"top":"bottom");const D=E-g.top-g.bottom,R=C-g.left-g.right,U=fu(E-g[A],D),k=fu(C-g[M],R),I=!t.middlewareData.shift;let F=U,V=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(V=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=D),I&&!j){const $=ii(g.left,0),Y=ii(g.right,0),q=ii(g.top,0),X=ii(g.bottom,0);_?V=C-2*($!==0||Y!==0?$+Y:ii(g.left,g.right)):F=E-2*(q!==0||X!==0?q+X:ii(g.top,g.bottom))}await m({...t,availableWidth:V,availableHeight:F});const L=await o.getDimensions(u.floating);return C!==L.width||E!==L.height?{reset:{rects:!0}}:{}}}};function Yy(){return typeof window<"u"}function cm(e){return M7(e)?(e.nodeName||"").toLowerCase():"#document"}function di(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sl(e){var t;return(t=(M7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function M7(e){return Yy()?e instanceof Node||e instanceof di(e).Node:!1}function ho(e){return Yy()?e instanceof Element||e instanceof di(e).Element:!1}function Jo(e){return Yy()?e instanceof HTMLElement||e instanceof di(e).HTMLElement:!1}function cP(e){return!Yy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof di(e).ShadowRoot}function Hp(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=mo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function mse(e){return["table","td","th"].includes(cm(e))}function Wy(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function aE(e){const t=sE(),n=ho(e)?mo(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function gse(e){let t=hu(e);for(;Jo(t)&&!Rh(t);){if(aE(t))return t;if(Wy(t))return null;t=hu(t)}return null}function sE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rh(e){return["html","body","#document"].includes(cm(e))}function mo(e){return di(e).getComputedStyle(e)}function Gy(e){return ho(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hu(e){if(cm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cP(e)&&e.host||sl(e);return cP(t)?t.host:t}function D7(e){const t=hu(e);return Rh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jo(t)&&Hp(t)?t:D7(t)}function dp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=D7(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=di(s);if(i){const u=$S(o);return t.concat(o,o.visualViewport||[],Hp(s)?s:[],u&&n?dp(u):[])}return t.concat(s,dp(s,[],n))}function $S(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function P7(e){const t=mo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Jo(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,u=Pv(n)!==i||Pv(r)!==o;return u&&(n=i,r=o),{width:n,height:r,$:u}}function iE(e){return ho(e)?e:e.contextElement}function vh(e){const t=iE(e);if(!Jo(t))return Ko(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=P7(t);let o=(i?Pv(n.width):n.width)/r,u=(i?Pv(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const pse=Ko(0);function R7(e){const t=di(e);return!sE()||!t.visualViewport?pse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xse(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==di(e)?!1:t}function Dd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=iE(e);let o=Ko(1);t&&(r?ho(r)&&(o=vh(r)):o=vh(e));const u=xse(i,n,r)?R7(i):Ko(0);let m=(s.left+u.x)/o.x,f=(s.top+u.y)/o.y,g=s.width/o.x,x=s.height/o.y;if(i){const j=di(i),_=r&&ho(r)?di(r):r;let C=j,E=$S(C);for(;E&&r&&_!==C;){const A=vh(E),M=E.getBoundingClientRect(),D=mo(E),R=M.left+(E.clientLeft+parseFloat(D.paddingLeft))*A.x,U=M.top+(E.clientTop+parseFloat(D.paddingTop))*A.y;m*=A.x,f*=A.y,g*=A.x,x*=A.y,m+=R,f+=U,C=di(E),E=$S(C)}}return kv({width:g,height:x,x:m,y:f})}function oE(e,t){const n=Gy(e).scrollLeft;return t?t.left+n:Dd(sl(e)).left+n}function k7(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:oE(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function vse(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=sl(r),u=t?Wy(t.floating):!1;if(r===o||u&&i)return n;let m={scrollLeft:0,scrollTop:0},f=Ko(1);const g=Ko(0),x=Jo(r);if((x||!x&&!i)&&((cm(r)!=="body"||Hp(o))&&(m=Gy(r)),Jo(r))){const _=Dd(r);f=vh(r),g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}const j=o&&!x&&!i?k7(o,m,!0):Ko(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-m.scrollLeft*f.x+g.x+j.x,y:n.y*f.y-m.scrollTop*f.y+g.y+j.y}}function yse(e){return Array.from(e.getClientRects())}function bse(e){const t=sl(e),n=Gy(e),r=e.ownerDocument.body,s=ii(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ii(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+oE(e);const u=-n.scrollTop;return mo(r).direction==="rtl"&&(o+=ii(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}function wse(e,t){const n=di(e),r=sl(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,m=0;if(s){i=s.width,o=s.height;const f=sE();(!f||f&&t==="fixed")&&(u=s.offsetLeft,m=s.offsetTop)}return{width:i,height:o,x:u,y:m}}function jse(e,t){const n=Dd(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Jo(e)?vh(e):Ko(1),o=e.clientWidth*i.x,u=e.clientHeight*i.y,m=s*i.x,f=r*i.y;return{width:o,height:u,x:m,y:f}}function uP(e,t,n){let r;if(t==="viewport")r=wse(e,n);else if(t==="document")r=bse(sl(e));else if(ho(t))r=jse(t,n);else{const s=R7(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return kv(r)}function I7(e,t){const n=hu(e);return n===t||!ho(n)||Rh(n)?!1:mo(n).position==="fixed"||I7(n,t)}function Nse(e,t){const n=t.get(e);if(n)return n;let r=dp(e,[],!1).filter(u=>ho(u)&&cm(u)!=="body"),s=null;const i=mo(e).position==="fixed";let o=i?hu(e):e;for(;ho(o)&&!Rh(o);){const u=mo(o),m=aE(o);!m&&u.position==="fixed"&&(s=null),(i?!m&&!s:!m&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Hp(o)&&!m&&I7(e,o))?r=r.filter(g=>g!==o):s=u,o=hu(o)}return t.set(e,r),r}function Sse(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Wy(t)?[]:Nse(t,this._c):[].concat(n),r],u=o[0],m=o.reduce((f,g)=>{const x=uP(t,g,s);return f.top=ii(x.top,f.top),f.right=fu(x.right,f.right),f.bottom=fu(x.bottom,f.bottom),f.left=ii(x.left,f.left),f},uP(t,u,s));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function _se(e){const{width:t,height:n}=P7(e);return{width:t,height:n}}function Ase(e,t,n){const r=Jo(t),s=sl(t),i=n==="fixed",o=Dd(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const m=Ko(0);function f(){m.x=oE(s)}if(r||!r&&!i)if((cm(t)!=="body"||Hp(s))&&(u=Gy(t)),r){const _=Dd(t,!0,i,t);m.x=_.x+t.clientLeft,m.y=_.y+t.clientTop}else s&&f();i&&!r&&s&&f();const g=s&&!r&&!i?k7(s,u):Ko(0),x=o.left+u.scrollLeft-m.x-g.x,j=o.top+u.scrollTop-m.y-g.y;return{x,y:j,width:o.width,height:o.height}}function M2(e){return mo(e).position==="static"}function dP(e,t){if(!Jo(e)||mo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return sl(e)===n&&(n=n.ownerDocument.body),n}function L7(e,t){const n=di(e);if(Wy(e))return n;if(!Jo(e)){let s=hu(e);for(;s&&!Rh(s);){if(ho(s)&&!M2(s))return s;s=hu(s)}return n}let r=dP(e,t);for(;r&&mse(r)&&M2(r);)r=dP(r,t);return r&&Rh(r)&&M2(r)&&!aE(r)?n:r||gse(e)||n}const Ese=async function(e){const t=this.getOffsetParent||L7,n=this.getDimensions,r=await n(e.floating);return{reference:Ase(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Cse(e){return mo(e).direction==="rtl"}const Tse={convertOffsetParentRelativeRectToViewportRelativeRect:vse,getDocumentElement:sl,getClippingRect:Sse,getOffsetParent:L7,getElementRects:Ese,getClientRects:yse,getDimensions:_se,getScale:vh,isElement:ho,isRTL:Cse};function B7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ose(e,t){let n=null,r;const s=sl(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),i();const f=e.getBoundingClientRect(),{left:g,top:x,width:j,height:_}=f;if(u||t(),!j||!_)return;const C=Ux(x),E=Ux(s.clientWidth-(g+j)),A=Ux(s.clientHeight-(x+_)),M=Ux(g),R={rootMargin:-C+"px "+-E+"px "+-A+"px "+-M+"px",threshold:ii(0,fu(1,m))||1};let U=!0;function k(I){const F=I[0].intersectionRatio;if(F!==m){if(!U)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!B7(f,e.getBoundingClientRect())&&o(),U=!1}try{n=new IntersectionObserver(k,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,R)}n.observe(e)}return o(!0),i}function Mse(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,f=iE(e),g=s||i?[...f?dp(f):[],...dp(t)]:[];g.forEach(M=>{s&&M.addEventListener("scroll",n,{passive:!0}),i&&M.addEventListener("resize",n)});const x=f&&u?Ose(f,n):null;let j=-1,_=null;o&&(_=new ResizeObserver(M=>{let[D]=M;D&&D.target===f&&_&&(_.unobserve(t),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),n()}),f&&!m&&_.observe(f),_.observe(t));let C,E=m?Dd(e):null;m&&A();function A(){const M=Dd(e);E&&!B7(E,M)&&n(),E=M,C=requestAnimationFrame(A)}return n(),()=>{var M;g.forEach(D=>{s&&D.removeEventListener("scroll",n),i&&D.removeEventListener("resize",n)}),x==null||x(),(M=_)==null||M.disconnect(),_=null,m&&cancelAnimationFrame(C)}}const Dse=use,Pse=dse,Rse=ose,kse=hse,Ise=lse,fP=ise,Lse=fse,Bse=(e,t,n)=>{const r=new Map,s={platform:Tse,...n},i={...s.platform,_c:r};return sse(e,t,{...s,platform:i})};var vv=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Iv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Iv(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Iv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function F7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hP(e,t){const n=F7(e);return Math.round(t*n)/n}function D2(e){const t=w.useRef(e);return vv(()=>{t.current=e}),t}function Fse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:m,open:f}=e,[g,x]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[j,_]=w.useState(r);Iv(j,r)||_(r);const[C,E]=w.useState(null),[A,M]=w.useState(null),D=w.useCallback(Z=>{Z!==I.current&&(I.current=Z,E(Z))},[]),R=w.useCallback(Z=>{Z!==F.current&&(F.current=Z,M(Z))},[]),U=i||C,k=o||A,I=w.useRef(null),F=w.useRef(null),V=w.useRef(g),L=m!=null,$=D2(m),Y=D2(s),q=D2(f),X=w.useCallback(()=>{if(!I.current||!F.current)return;const Z={placement:t,strategy:n,middleware:j};Y.current&&(Z.platform=Y.current),Bse(I.current,F.current,Z).then(oe=>{const re={...oe,isPositioned:q.current!==!1};Q.current&&!Iv(V.current,re)&&(V.current=re,$d.flushSync(()=>{x(re)}))})},[j,t,n,Y,q]);vv(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,x(Z=>({...Z,isPositioned:!1})))},[f]);const Q=w.useRef(!1);vv(()=>(Q.current=!0,()=>{Q.current=!1}),[]),vv(()=>{if(U&&(I.current=U),k&&(F.current=k),U&&k){if($.current)return $.current(U,k,X);X()}},[U,k,X,$,L]);const G=w.useMemo(()=>({reference:I,floating:F,setReference:D,setFloating:R}),[D,R]),H=w.useMemo(()=>({reference:U,floating:k}),[U,k]),ee=w.useMemo(()=>{const Z={position:n,left:0,top:0};if(!H.floating)return Z;const oe=hP(H.floating,g.x),re=hP(H.floating,g.y);return u?{...Z,transform:"translate("+oe+"px, "+re+"px)",...F7(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:re}},[n,u,H.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:X,refs:G,elements:H,floatingStyles:ee}),[g,X,G,H,ee])}const Use=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?fP({element:r.current,padding:s}).fn(n):{}:r?fP({element:r,padding:s}).fn(n):{}}}},zse=(e,t)=>({...Dse(e),options:[e,t]}),Vse=(e,t)=>({...Pse(e),options:[e,t]}),$se=(e,t)=>({...Lse(e),options:[e,t]}),Hse=(e,t)=>({...Rse(e),options:[e,t]}),qse=(e,t)=>({...kse(e),options:[e,t]}),Yse=(e,t)=>({...Ise(e),options:[e,t]}),Wse=(e,t)=>({...Use(e),options:[e,t]});var Gse="Arrow",U7=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(_t.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});U7.displayName=Gse;var Kse=U7,lE="Popper",[z7,um]=Ts(lE),[Xse,V7]=z7(lE),$7=e=>{const{__scopePopper:t,children:n}=e,[r,s]=w.useState(null);return a.jsx(Xse,{scope:t,anchor:r,onAnchorChange:s,children:n})};$7.displayName=lE;var H7="PopperAnchor",q7=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=V7(H7,n),o=w.useRef(null),u=Kt(t,o);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(_t.div,{...s,ref:u})});q7.displayName=H7;var cE="PopperContent",[Qse,Zse]=z7(cE),Y7=w.forwardRef((e,t)=>{var ue,ce,ge,Me,Ne,we;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:u=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:j=!1,updatePositionStrategy:_="optimized",onPlaced:C,...E}=e,A=V7(cE,n),[M,D]=w.useState(null),R=Kt(t,Ke=>D(Ke)),[U,k]=w.useState(null),I=ZA(U),F=(I==null?void 0:I.width)??0,V=(I==null?void 0:I.height)??0,L=r+(i!=="center"?"-"+i:""),$=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Y=Array.isArray(f)?f:[f],q=Y.length>0,X={padding:$,boundary:Y.filter(eie),altBoundary:q},{refs:Q,floatingStyles:G,placement:H,isPositioned:ee,middlewareData:Z}=Fse({strategy:"fixed",placement:L,whileElementsMounted:(...Ke)=>Mse(...Ke,{animationFrame:_==="always"}),elements:{reference:A.anchor},middleware:[zse({mainAxis:s+V,alignmentAxis:o}),m&&Vse({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?$se():void 0,...X}),m&&Hse({...X}),qse({...X,apply:({elements:Ke,rects:$e,availableWidth:Qe,availableHeight:gt})=>{const{width:et,height:wt}=$e.reference,it=Ke.floating.style;it.setProperty("--radix-popper-available-width",`${Qe}px`),it.setProperty("--radix-popper-available-height",`${gt}px`),it.setProperty("--radix-popper-anchor-width",`${et}px`),it.setProperty("--radix-popper-anchor-height",`${wt}px`)}}),U&&Wse({element:U,padding:u}),tie({arrowWidth:F,arrowHeight:V}),j&&Yse({strategy:"referenceHidden",...X})]}),[oe,re]=K7(H),de=Da(C);ua(()=>{ee&&(de==null||de())},[ee,de]);const xe=(ue=Z.arrow)==null?void 0:ue.x,_e=(ce=Z.arrow)==null?void 0:ce.y,ye=((ge=Z.arrow)==null?void 0:ge.centerOffset)!==0,[ke,ae]=w.useState();return ua(()=>{M&&ae(window.getComputedStyle(M).zIndex)},[M]),a.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ee?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Me=Z.transformOrigin)==null?void 0:Me.x,(Ne=Z.transformOrigin)==null?void 0:Ne.y].join(" "),...((we=Z.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Qse,{scope:n,placedSide:oe,onArrowChange:k,arrowX:xe,arrowY:_e,shouldHideArrow:ye,children:a.jsx(_t.div,{"data-side":oe,"data-align":re,...E,ref:R,style:{...E.style,animation:ee?void 0:"none"}})})})});Y7.displayName=cE;var W7="PopperArrow",Jse={top:"bottom",right:"left",bottom:"top",left:"right"},G7=w.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=Zse(W7,r),o=Jse[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(Kse,{...s,ref:n,style:{...s.style,display:"block"}})})});G7.displayName=W7;function eie(e){return e!==null}var tie=e=>({name:"transformOrigin",options:e,fn(t){var A,M,D;const{placement:n,rects:r,middlewareData:s}=t,o=((A=s.arrow)==null?void 0:A.centerOffset)!==0,u=o?0:e.arrowWidth,m=o?0:e.arrowHeight,[f,g]=K7(n),x={start:"0%",center:"50%",end:"100%"}[g],j=(((M=s.arrow)==null?void 0:M.x)??0)+u/2,_=(((D=s.arrow)==null?void 0:D.y)??0)+m/2;let C="",E="";return f==="bottom"?(C=o?x:`${j}px`,E=`${-m}px`):f==="top"?(C=o?x:`${j}px`,E=`${r.floating.height+m}px`):f==="right"?(C=`${-m}px`,E=o?x:`${_}px`):f==="left"&&(C=`${r.floating.width+m}px`,E=o?x:`${_}px`),{data:{x:C,y:E}}}});function K7(e){const[t,n="center"]=e.split("-");return[t,n]}var uE=$7,Ky=q7,dE=Y7,fE=G7,nie="Portal",qp=w.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,i]=w.useState(!1);ua(()=>i(!0),[]);const o=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return o?e5.createPortal(a.jsx(_t.div,{...r,ref:t}),o):null});qp.displayName=nie;var X7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rie="VisuallyHidden",aie=w.forwardRef((e,t)=>a.jsx(_t.span,{...e,ref:t,style:{...X7,...e.style}}));aie.displayName=rie;var sie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xf=new WeakMap,zx=new WeakMap,Vx={},P2=0,Q7=function(e){return e&&(e.host||Q7(e.parentNode))},iie=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Q7(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},oie=function(e,t,n,r){var s=iie(t,Array.isArray(e)?e:[e]);Vx[n]||(Vx[n]=new WeakMap);var i=Vx[n],o=[],u=new Set,m=new Set(s),f=function(x){!x||u.has(x)||(u.add(x),f(x.parentNode))};s.forEach(f);var g=function(x){!x||m.has(x)||Array.prototype.forEach.call(x.children,function(j){if(u.has(j))g(j);else try{var _=j.getAttribute(r),C=_!==null&&_!=="false",E=(Xf.get(j)||0)+1,A=(i.get(j)||0)+1;Xf.set(j,E),i.set(j,A),o.push(j),E===1&&C&&zx.set(j,!0),A===1&&j.setAttribute(n,"true"),C||j.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",j,M)}})};return g(t),u.clear(),P2++,function(){o.forEach(function(x){var j=Xf.get(x)-1,_=i.get(x)-1;Xf.set(x,j),i.set(x,_),j||(zx.has(x)||x.removeAttribute(r),zx.delete(x)),_||x.removeAttribute(n)}),P2--,P2||(Xf=new WeakMap,Xf=new WeakMap,zx=new WeakMap,Vx={})}},Xy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=sie(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),oie(r,s,n,"aria-hidden")):function(){return null}},Uo=function(){return Uo=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Uo.apply(this,arguments)};function Z7(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function lie(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var yv="right-scroll-bar-position",bv="width-before-scroll-bar",cie="with-scroll-bars-hidden",uie="--removed-body-scroll-bar-size";function R2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function die(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var fie=typeof window<"u"?w.useLayoutEffect:w.useEffect,mP=new WeakMap;function hie(e,t){var n=die(null,function(r){return e.forEach(function(s){return R2(s,r)})});return fie(function(){var r=mP.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(u){i.has(u)||R2(u,null)}),i.forEach(function(u){s.has(u)||R2(u,o)})}mP.set(n,e)},[e]),n}function mie(e){return e}function gie(e,t){t===void 0&&(t=mie);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var m=function(){var g=o;o=[],g.forEach(i)},f=function(){return Promise.resolve().then(m)};f(),n={push:function(g){o.push(g),f()},filter:function(g){return o=o.filter(g),n}}}};return s}function pie(e){e===void 0&&(e={});var t=gie(null);return t.options=Uo({async:!0,ssr:!1},e),t}var J7=function(e){var t=e.sideCar,n=Z7(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Uo({},n))};J7.isSideCarExport=!0;function xie(e,t){return e.useMedium(t),J7}var eB=pie(),k2=function(){},Qy=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:k2,onWheelCapture:k2,onTouchMoveCapture:k2}),s=r[0],i=r[1],o=e.forwardProps,u=e.children,m=e.className,f=e.removeScrollBar,g=e.enabled,x=e.shards,j=e.sideCar,_=e.noRelative,C=e.noIsolation,E=e.inert,A=e.allowPinchZoom,M=e.as,D=M===void 0?"div":M,R=e.gapMode,U=Z7(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=j,I=hie([n,t]),F=Uo(Uo({},U),s);return w.createElement(w.Fragment,null,g&&w.createElement(k,{sideCar:eB,removeScrollBar:f,shards:x,noRelative:_,noIsolation:C,inert:E,setCallbacks:i,allowPinchZoom:!!A,lockRef:n,gapMode:R}),o?w.cloneElement(w.Children.only(u),Uo(Uo({},F),{ref:I})):w.createElement(D,Uo({},F,{className:m,ref:I}),u))});Qy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qy.classNames={fullWidth:bv,zeroRight:yv};var vie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vie();return t&&e.setAttribute("nonce",t),e}function bie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jie=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yie())&&(bie(t,n),wie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Nie=function(){var e=jie();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tB=function(){var e=Nie(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Sie={left:0,top:0,right:0,gap:0},I2=function(e){return parseInt(e||"",10)||0},_ie=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[I2(n),I2(r),I2(s)]},Aie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Sie;var t=_ie(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Eie=tB(),yh="data-scroll-locked",Cie=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(cie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(yh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yv,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(bv,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(yv," .").concat(yv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bv," .").concat(bv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yh,`] {
    `).concat(uie,": ").concat(u,`px;
  }
`)},gP=function(){var e=parseInt(document.body.getAttribute(yh)||"0",10);return isFinite(e)?e:0},Tie=function(){w.useEffect(function(){return document.body.setAttribute(yh,(gP()+1).toString()),function(){var e=gP()-1;e<=0?document.body.removeAttribute(yh):document.body.setAttribute(yh,e.toString())}},[])},Oie=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Tie();var i=w.useMemo(function(){return Aie(s)},[s]);return w.createElement(Eie,{styles:Cie(i,!t,s,n?"":"!important")})},HS=!1;if(typeof window<"u")try{var $x=Object.defineProperty({},"passive",{get:function(){return HS=!0,!0}});window.addEventListener("test",$x,$x),window.removeEventListener("test",$x,$x)}catch{HS=!1}var Qf=HS?{passive:!1}:!1,Mie=function(e){return e.tagName==="TEXTAREA"},nB=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mie(e)&&n[t]==="visible")},Die=function(e){return nB(e,"overflowY")},Pie=function(e){return nB(e,"overflowX")},pP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=rB(e,r);if(s){var i=aB(e,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Rie=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},kie=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},rB=function(e,t){return e==="v"?Die(t):Pie(t)},aB=function(e,t){return e==="v"?Rie(t):kie(t)},Iie=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lie=function(e,t,n,r,s){var i=Iie(e,window.getComputedStyle(t).direction),o=i*r,u=n.target,m=t.contains(u),f=!1,g=o>0,x=0,j=0;do{var _=aB(e,u),C=_[0],E=_[1],A=_[2],M=E-A-i*C;(C||M)&&rB(e,u)&&(x+=M,j+=C),u=u.parentNode.host||u.parentNode}while(!m&&u!==document.body||m&&(t.contains(u)||t===u));return(g&&Math.abs(x)<1||!g&&Math.abs(j)<1)&&(f=!0),f},Hx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xP=function(e){return[e.deltaX,e.deltaY]},vP=function(e){return e&&"current"in e?e.current:e},Bie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Fie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Uie=0,Zf=[];function zie(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(Uie++)[0],i=w.useState(tB)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=lie([e.lockRef.current],(e.shards||[]).map(vP),!0).filter(Boolean);return E.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=w.useCallback(function(E,A){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var M=Hx(E),D=n.current,R="deltaX"in E?E.deltaX:D[0]-M[0],U="deltaY"in E?E.deltaY:D[1]-M[1],k,I=E.target,F=Math.abs(R)>Math.abs(U)?"h":"v";if("touches"in E&&F==="h"&&I.type==="range")return!1;var V=pP(F,I);if(!V)return!0;if(V?k=F:(k=F==="v"?"h":"v",V=pP(F,I)),!V)return!1;if(!r.current&&"changedTouches"in E&&(R||U)&&(r.current=k),!k)return!0;var L=r.current||k;return Lie(L,A,E,L==="h"?R:U)},[]),m=w.useCallback(function(E){var A=E;if(!(!Zf.length||Zf[Zf.length-1]!==i)){var M="deltaY"in A?xP(A):Hx(A),D=t.current.filter(function(k){return k.name===A.type&&(k.target===A.target||A.target===k.shadowParent)&&Bie(k.delta,M)})[0];if(D&&D.should){A.cancelable&&A.preventDefault();return}if(!D){var R=(o.current.shards||[]).map(vP).filter(Boolean).filter(function(k){return k.contains(A.target)}),U=R.length>0?u(A,R[0]):!o.current.noIsolation;U&&A.cancelable&&A.preventDefault()}}},[]),f=w.useCallback(function(E,A,M,D){var R={name:E,delta:A,target:M,should:D,shadowParent:Vie(M)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(U){return U!==R})},1)},[]),g=w.useCallback(function(E){n.current=Hx(E),r.current=void 0},[]),x=w.useCallback(function(E){f(E.type,xP(E),E.target,u(E,e.lockRef.current))},[]),j=w.useCallback(function(E){f(E.type,Hx(E),E.target,u(E,e.lockRef.current))},[]);w.useEffect(function(){return Zf.push(i),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:j}),document.addEventListener("wheel",m,Qf),document.addEventListener("touchmove",m,Qf),document.addEventListener("touchstart",g,Qf),function(){Zf=Zf.filter(function(E){return E!==i}),document.removeEventListener("wheel",m,Qf),document.removeEventListener("touchmove",m,Qf),document.removeEventListener("touchstart",g,Qf)}},[]);var _=e.removeScrollBar,C=e.inert;return w.createElement(w.Fragment,null,C?w.createElement(i,{styles:Fie(s)}):null,_?w.createElement(Oie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Vie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $ie=xie(eB,zie);var Yp=w.forwardRef(function(e,t){return w.createElement(Qy,Uo({},e,{ref:t,sideCar:$ie}))});Yp.classNames=Qy.classNames;var Hie=[" ","Enter","ArrowUp","ArrowDown"],qie=[" ","Enter"],Pd="Select",[Zy,Jy,Yie]=eE(Pd),[dm,u4e]=Ts(Pd,[Yie,um]),e1=um(),[Wie,ju]=dm(Pd),[Gie,Kie]=dm(Pd),sB=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:u,onValueChange:m,dir:f,name:g,autoComplete:x,disabled:j,required:_,form:C}=e,E=e1(t),[A,M]=w.useState(null),[D,R]=w.useState(null),[U,k]=w.useState(!1),I=zp(f),[F,V]=Wl({prop:r,defaultProp:s??!1,onChange:i,caller:Pd}),[L,$]=Wl({prop:o,defaultProp:u,onChange:m,caller:Pd}),Y=w.useRef(null),q=A?C||!!A.closest("form"):!0,[X,Q]=w.useState(new Set),G=Array.from(X).map(H=>H.props.value).join(";");return a.jsx(uE,{...E,children:a.jsxs(Wie,{required:_,scope:t,trigger:A,onTriggerChange:M,valueNode:D,onValueNodeChange:R,valueNodeHasChildren:U,onValueNodeHasChildrenChange:k,contentId:fo(),value:L,onValueChange:$,open:F,onOpenChange:V,dir:I,triggerPointerDownPosRef:Y,disabled:j,children:[a.jsx(Zy.Provider,{scope:t,children:a.jsx(Gie,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(H=>{Q(ee=>new Set(ee).add(H))},[]),onNativeOptionRemove:w.useCallback(H=>{Q(ee=>{const Z=new Set(ee);return Z.delete(H),Z})},[]),children:n})}),q?a.jsxs(EB,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:x,value:L,onChange:H=>$(H.target.value),disabled:j,form:C,children:[L===void 0?a.jsx("option",{value:""}):null,Array.from(X)]},G):null]})})};sB.displayName=Pd;var iB="SelectTrigger",oB=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=e1(n),o=ju(iB,n),u=o.disabled||r,m=Kt(t,o.onTriggerChange),f=Jy(n),g=w.useRef("touch"),[x,j,_]=TB(E=>{const A=f().filter(R=>!R.disabled),M=A.find(R=>R.value===o.value),D=OB(A,E,M);D!==void 0&&o.onValueChange(D.value)}),C=E=>{u||(o.onOpenChange(!0),_()),E&&(o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return a.jsx(Ky,{asChild:!0,...i,children:a.jsx(_t.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":CB(o.value)?"":void 0,...s,ref:m,onClick:ot(s.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&C(E)}),onPointerDown:ot(s.onPointerDown,E=>{g.current=E.pointerType;const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(C(E),E.preventDefault())}),onKeyDown:ot(s.onKeyDown,E=>{const A=x.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&j(E.key),!(A&&E.key===" ")&&Hie.includes(E.key)&&(C(),E.preventDefault())})})})});oB.displayName=iB;var lB="SelectValue",cB=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...u}=e,m=ju(lB,n),{onValueNodeHasChildrenChange:f}=m,g=i!==void 0,x=Kt(t,m.onValueNodeChange);return ua(()=>{f(g)},[f,g]),a.jsx(_t.span,{...u,ref:x,style:{pointerEvents:"none"},children:CB(m.value)?a.jsx(a.Fragment,{children:o}):i})});cB.displayName=lB;var Xie="SelectIcon",uB=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(_t.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});uB.displayName=Xie;var Qie="SelectPortal",dB=e=>a.jsx(qp,{asChild:!0,...e});dB.displayName=Qie;var Rd="SelectContent",fB=w.forwardRef((e,t)=>{const n=ju(Rd,e.__scopeSelect),[r,s]=w.useState();if(ua(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?$d.createPortal(a.jsx(hB,{scope:e.__scopeSelect,children:a.jsx(Zy.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(mB,{...e,ref:t})});fB.displayName=Rd;var so=10,[hB,Nu]=dm(Rd),Zie="SelectContentImpl",Jie=iu("SelectContent.RemoveScroll"),mB=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:u,sideOffset:m,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:j,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:A,...M}=e,D=ju(Rd,n),[R,U]=w.useState(null),[k,I]=w.useState(null),F=Kt(t,ue=>U(ue)),[V,L]=w.useState(null),[$,Y]=w.useState(null),q=Jy(n),[X,Q]=w.useState(!1),G=w.useRef(!1);w.useEffect(()=>{if(R)return Xy(R)},[R]),qy();const H=w.useCallback(ue=>{const[ce,...ge]=q().map(we=>we.ref.current),[Me]=ge.slice(-1),Ne=document.activeElement;for(const we of ue)if(we===Ne||(we==null||we.scrollIntoView({block:"nearest"}),we===ce&&k&&(k.scrollTop=0),we===Me&&k&&(k.scrollTop=k.scrollHeight),we==null||we.focus(),document.activeElement!==Ne))return},[q,k]),ee=w.useCallback(()=>H([V,R]),[H,V,R]);w.useEffect(()=>{X&&ee()},[X,ee]);const{onOpenChange:Z,triggerPointerDownPosRef:oe}=D;w.useEffect(()=>{if(R){let ue={x:0,y:0};const ce=Me=>{var Ne,we;ue={x:Math.abs(Math.round(Me.pageX)-(((Ne=oe.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((we=oe.current)==null?void 0:we.y)??0))}},ge=Me=>{ue.x<=10&&ue.y<=10?Me.preventDefault():R.contains(Me.target)||Z(!1),document.removeEventListener("pointermove",ce),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ge,{capture:!0})}}},[R,Z,oe]),w.useEffect(()=>{const ue=()=>Z(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Z]);const[re,de]=TB(ue=>{const ce=q().filter(Ne=>!Ne.disabled),ge=ce.find(Ne=>Ne.ref.current===document.activeElement),Me=OB(ce,ue,ge);Me&&setTimeout(()=>Me.ref.current.focus())}),xe=w.useCallback((ue,ce,ge)=>{const Me=!G.current&&!ge;(D.value!==void 0&&D.value===ce||Me)&&(L(ue),Me&&(G.current=!0))},[D.value]),_e=w.useCallback(()=>R==null?void 0:R.focus(),[R]),ye=w.useCallback((ue,ce,ge)=>{const Me=!G.current&&!ge;(D.value!==void 0&&D.value===ce||Me)&&Y(ue)},[D.value]),ke=r==="popper"?qS:gB,ae=ke===qS?{side:u,sideOffset:m,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:j,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:A}:{};return a.jsx(hB,{scope:n,content:R,viewport:k,onViewportChange:I,itemRefCallback:xe,selectedItem:V,onItemLeave:_e,itemTextRefCallback:ye,focusSelectedItem:ee,selectedItemText:$,position:r,isPositioned:X,searchRef:re,children:a.jsx(Yp,{as:Jie,allowPinchZoom:!0,children:a.jsx($p,{asChild:!0,trapped:D.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:ot(s,ue=>{var ce;(ce=D.trigger)==null||ce.focus({preventScroll:!0}),ue.preventDefault()}),children:a.jsx(Vp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:a.jsx(ke,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:ue=>ue.preventDefault(),...M,...ae,onPlaced:()=>Q(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:ot(M.onKeyDown,ue=>{const ce=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!ce&&ue.key.length===1&&de(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Me=q().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ne=ue.target,we=Me.indexOf(Ne);Me=Me.slice(we+1)}setTimeout(()=>H(Me)),ue.preventDefault()}})})})})})})});mB.displayName=Zie;var eoe="SelectItemAlignedPosition",gB=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=ju(Rd,n),o=Nu(Rd,n),[u,m]=w.useState(null),[f,g]=w.useState(null),x=Kt(t,F=>g(F)),j=Jy(n),_=w.useRef(!1),C=w.useRef(!0),{viewport:E,selectedItem:A,selectedItemText:M,focusSelectedItem:D}=o,R=w.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&E&&A&&M){const F=i.trigger.getBoundingClientRect(),V=f.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),$=M.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=$.left-V.left,we=L.left-Ne,Ke=F.left-we,$e=F.width+Ke,Qe=Math.max($e,V.width),gt=window.innerWidth-so,et=FS(we,[so,Math.max(so,gt-Qe)]);u.style.minWidth=$e+"px",u.style.left=et+"px"}else{const Ne=V.right-$.right,we=window.innerWidth-L.right-Ne,Ke=window.innerWidth-F.right-we,$e=F.width+Ke,Qe=Math.max($e,V.width),gt=window.innerWidth-so,et=FS(we,[so,Math.max(so,gt-Qe)]);u.style.minWidth=$e+"px",u.style.right=et+"px"}const Y=j(),q=window.innerHeight-so*2,X=E.scrollHeight,Q=window.getComputedStyle(f),G=parseInt(Q.borderTopWidth,10),H=parseInt(Q.paddingTop,10),ee=parseInt(Q.borderBottomWidth,10),Z=parseInt(Q.paddingBottom,10),oe=G+H+X+Z+ee,re=Math.min(A.offsetHeight*5,oe),de=window.getComputedStyle(E),xe=parseInt(de.paddingTop,10),_e=parseInt(de.paddingBottom,10),ye=F.top+F.height/2-so,ke=q-ye,ae=A.offsetHeight/2,ue=A.offsetTop+ae,ce=G+H+ue,ge=oe-ce;if(ce<=ye){const Ne=Y.length>0&&A===Y[Y.length-1].ref.current;u.style.bottom="0px";const we=f.clientHeight-E.offsetTop-E.offsetHeight,Ke=Math.max(ke,ae+(Ne?_e:0)+we+ee),$e=ce+Ke;u.style.height=$e+"px"}else{const Ne=Y.length>0&&A===Y[0].ref.current;u.style.top="0px";const Ke=Math.max(ye,G+E.offsetTop+(Ne?xe:0)+ae)+ge;u.style.height=Ke+"px",E.scrollTop=ce-ye+E.offsetTop}u.style.margin=`${so}px 0`,u.style.minHeight=re+"px",u.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[j,i.trigger,i.valueNode,u,f,E,A,M,i.dir,r]);ua(()=>R(),[R]);const[U,k]=w.useState();ua(()=>{f&&k(window.getComputedStyle(f).zIndex)},[f]);const I=w.useCallback(F=>{F&&C.current===!0&&(R(),D==null||D(),C.current=!1)},[R,D]);return a.jsx(noe,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:I,children:a.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:a.jsx(_t.div,{...s,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gB.displayName=eoe;var toe="SelectPopperPosition",qS=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=so,...i}=e,o=e1(n);return a.jsx(dE,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qS.displayName=toe;var[noe,hE]=dm(Rd,{}),YS="SelectViewport",pB=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Nu(YS,n),o=hE(YS,n),u=Kt(t,i.onViewportChange),m=w.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Zy.Slot,{scope:n,children:a.jsx(_t.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ot(s.onScroll,f=>{const g=f.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:j}=o;if(j!=null&&j.current&&x){const _=Math.abs(m.current-g.scrollTop);if(_>0){const C=window.innerHeight-so*2,E=parseFloat(x.style.minHeight),A=parseFloat(x.style.height),M=Math.max(E,A);if(M<C){const D=M+_,R=Math.min(C,D),U=D-R;x.style.height=R+"px",x.style.bottom==="0px"&&(g.scrollTop=U>0?U:0,x.style.justifyContent="flex-end")}}}m.current=g.scrollTop})})})]})});pB.displayName=YS;var xB="SelectGroup",[roe,aoe]=dm(xB),soe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=fo();return a.jsx(roe,{scope:n,id:s,children:a.jsx(_t.div,{role:"group","aria-labelledby":s,...r,ref:t})})});soe.displayName=xB;var vB="SelectLabel",ioe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=aoe(vB,n);return a.jsx(_t.div,{id:s.id,...r,ref:t})});ioe.displayName=vB;var Lv="SelectItem",[ooe,yB]=dm(Lv),bB=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,u=ju(Lv,n),m=Nu(Lv,n),f=u.value===r,[g,x]=w.useState(i??""),[j,_]=w.useState(!1),C=Kt(t,D=>{var R;return(R=m.itemRefCallback)==null?void 0:R.call(m,D,r,s)}),E=fo(),A=w.useRef("touch"),M=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(ooe,{scope:n,value:r,disabled:s,textId:E,isSelected:f,onItemTextChange:w.useCallback(D=>{x(R=>R||((D==null?void 0:D.textContent)??"").trim())},[]),children:a.jsx(Zy.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:a.jsx(_t.div,{role:"option","aria-labelledby":E,"data-highlighted":j?"":void 0,"aria-selected":f&&j,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:C,onFocus:ot(o.onFocus,()=>_(!0)),onBlur:ot(o.onBlur,()=>_(!1)),onClick:ot(o.onClick,()=>{A.current!=="mouse"&&M()}),onPointerUp:ot(o.onPointerUp,()=>{A.current==="mouse"&&M()}),onPointerDown:ot(o.onPointerDown,D=>{A.current=D.pointerType}),onPointerMove:ot(o.onPointerMove,D=>{var R;A.current=D.pointerType,s?(R=m.onItemLeave)==null||R.call(m):A.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ot(o.onPointerLeave,D=>{var R;D.currentTarget===document.activeElement&&((R=m.onItemLeave)==null||R.call(m))}),onKeyDown:ot(o.onKeyDown,D=>{var U;((U=m.searchRef)==null?void 0:U.current)!==""&&D.key===" "||(qie.includes(D.key)&&M(),D.key===" "&&D.preventDefault())})})})})});bB.displayName=Lv;var Bg="SelectItemText",wB=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=ju(Bg,n),u=Nu(Bg,n),m=yB(Bg,n),f=Kie(Bg,n),[g,x]=w.useState(null),j=Kt(t,M=>x(M),m.onItemTextChange,M=>{var D;return(D=u.itemTextRefCallback)==null?void 0:D.call(u,M,m.value,m.disabled)}),_=g==null?void 0:g.textContent,C=w.useMemo(()=>a.jsx("option",{value:m.value,disabled:m.disabled,children:_},m.value),[m.disabled,m.value,_]),{onNativeOptionAdd:E,onNativeOptionRemove:A}=f;return ua(()=>(E(C),()=>A(C)),[E,A,C]),a.jsxs(a.Fragment,{children:[a.jsx(_t.span,{id:m.textId,...i,ref:j}),m.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$d.createPortal(i.children,o.valueNode):null]})});wB.displayName=Bg;var jB="SelectItemIndicator",NB=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return yB(jB,n).isSelected?a.jsx(_t.span,{"aria-hidden":!0,...r,ref:t}):null});NB.displayName=jB;var WS="SelectScrollUpButton",SB=w.forwardRef((e,t)=>{const n=Nu(WS,e.__scopeSelect),r=hE(WS,e.__scopeSelect),[s,i]=w.useState(!1),o=Kt(t,r.onScrollButtonChange);return ua(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollTop>0;i(f)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?a.jsx(AB,{...e,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop-m.offsetHeight)}}):null});SB.displayName=WS;var GS="SelectScrollDownButton",_B=w.forwardRef((e,t)=>{const n=Nu(GS,e.__scopeSelect),r=hE(GS,e.__scopeSelect),[s,i]=w.useState(!1),o=Kt(t,r.onScrollButtonChange);return ua(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollHeight-m.clientHeight,g=Math.ceil(m.scrollTop)<f;i(g)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?a.jsx(AB,{...e,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop+m.offsetHeight)}}):null});_B.displayName=GS;var AB=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Nu("SelectScrollButton",n),o=w.useRef(null),u=Jy(n),m=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),ua(()=>{var g;const f=u().find(x=>x.ref.current===document.activeElement);(g=f==null?void 0:f.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),a.jsx(_t.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ot(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ot(s.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ot(s.onPointerLeave,()=>{m()})})}),loe="SelectSeparator",coe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(_t.div,{"aria-hidden":!0,...r,ref:t})});coe.displayName=loe;var KS="SelectArrow",uoe=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=e1(n),i=ju(KS,n),o=Nu(KS,n);return i.open&&o.position==="popper"?a.jsx(fE,{...s,...r,ref:t}):null});uoe.displayName=KS;var doe="SelectBubbleInput",EB=w.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=w.useRef(null),i=Kt(r,s),o=QA(t);return w.useEffect(()=>{const u=s.current;if(!u)return;const m=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(o!==t&&g){const x=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(x)}},[o,t]),a.jsx(_t.select,{...n,style:{...X7,...n.style},ref:i,defaultValue:t})});EB.displayName=doe;function CB(e){return e===""||e===void 0}function TB(e){const t=Da(e),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(o=>{const u=n.current+o;t(u),function m(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(u)},[t]),i=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function OB(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=foe(e,Math.max(i,0));s.length===1&&(o=o.filter(f=>f!==n));const m=o.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return m!==n?m:void 0}function foe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var hoe=sB,moe=oB,goe=cB,poe=uB,xoe=dB,voe=fB,yoe=pB,boe=bB,woe=wB,joe=NB,Noe=SB,Soe=_B;function kt({...e}){return a.jsx(hoe,{"data-slot":"select",...e})}function Bt({...e}){return a.jsx(goe,{"data-slot":"select-value",...e})}function It({className:e,size:t="default",children:n,...r}){return a.jsxs(moe,{"data-slot":"select-trigger","data-size":t,className:yt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,a.jsx(poe,{asChild:!0,children:a.jsx(h7,{className:"size-4 opacity-50"})})]})}function Lt({className:e,children:t,position:n="popper",...r}){return a.jsx(xoe,{children:a.jsxs(voe,{"data-slot":"select-content",className:yt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(_oe,{}),a.jsx(yoe,{className:yt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(Aoe,{})]})})}function Ee({className:e,children:t,...n}){return a.jsxs(boe,{"data-slot":"select-item",className:yt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(joe,{children:a.jsx(Mh,{className:"size-4"})})}),a.jsx(woe,{children:t})]})}function _oe({className:e,...t}){return a.jsx(Noe,{"data-slot":"select-scroll-up-button",className:yt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(One,{className:"size-4"})})}function Aoe({className:e,...t}){return a.jsx(Soe,{"data-slot":"select-scroll-down-button",className:yt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(h7,{className:"size-4"})})}const Eoe=e=>({passenger:[e("features.digitalWallet"),e("features.qrPayments"),e("features.eventTickets"),e("features.transactionHistory")],driver:[e("features.driverDashboard"),e("features.earningsTracking"),e("features.qrGeneration"),e("features.tripManagement")],merchant:[e("features.businessDashboard"),e("features.paymentProcessing"),e("features.analyticsInsights"),e("features.customerManagement")],event_admin:[e("features.eventCreation"),e("features.ticketManagement"),e("features.attendeeAnalytics"),e("features.revenueTracking")]});function Coe(){const[e,t]=w.useState({email:"",password:"",confirmPassword:"",fullName:"",phoneNumber:"",userRole:"passenger"}),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[o,u]=w.useState(""),[m,f]=w.useState(!1),{signUp:g}=Ht(),{t:x}=Ft(),j=xo(),_=async M=>{if(M.preventDefault(),u(""),e.password!==e.confirmPassword){u("Passwords do not match");return}if(e.password.length<6){u("Password must be at least 6 characters");return}f(!0);try{const{error:D}=await g(e.email,e.password,{full_name:e.fullName,phone_number:e.phoneNumber,user_role:e.userRole});D?u(D.message):j(`/otp-verification?type=email_verification&email=${encodeURIComponent(e.email)}`)}catch{u("An unexpected error occurred")}finally{f(!1)}},C=(M,D)=>{t(R=>({...R,[M]:D}))},A=Eoe(x)[e.userRole]||[];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-syrian-black via-syrian-green/20 to-syrian-black flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-syrian-green rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-syrian-red rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gold rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),a.jsxs("div",{className:"w-full max-w-4xl relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs($t,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(sm,{className:"h-4 w-4"}),x("registration.backToHome")]}),a.jsxs(He.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/syrian-logo.svg",alt:"Syrian Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-syrian-green to-syrian-red rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:" "})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(XA,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{className:"text-white/70 text-sm",children:x("registration.joinRevolution")})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:a.jsxs(fe,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Te,{className:"text-center",children:[a.jsx(Oe,{className:"text-2xl font-bold text-white",children:x("auth.register")}),a.jsx(st,{className:"text-gray-400",children:x("auth.getStartedDescription")})]}),a.jsxs(he,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o&&a.jsx(us,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ds,{className:"text-red-400",children:o})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"userRole",className:"text-white",children:x("auth.accountType")}),a.jsxs(kt,{value:e.userRole,onValueChange:M=>C("userRole",M),children:[a.jsx(It,{className:"bg-white/5 border-white/10 text-white focus:border-syrian-green/50 focus:ring-syrian-green/20",children:a.jsx(Bt,{})}),a.jsxs(Lt,{className:"bg-slate-900 border-white/10",children:[a.jsx(Ee,{value:"passenger",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-green rounded-full"}),x("auth.passenger")]})}),a.jsx(Ee,{value:"driver",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-green rounded-full"}),x("auth.driver")]})}),a.jsx(Ee,{value:"merchant",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-red rounded-full"}),x("auth.merchant")]})}),a.jsx(Ee,{value:"event_admin",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-gold rounded-full"}),x("auth.eventAdmin")]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"fullName",className:"text-white",children:x("auth.fullName")}),a.jsx(ut,{id:"fullName",type:"text",value:e.fullName,onChange:M=>C("fullName",M.target.value),placeholder:x("auth.fullNamePlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-syrian-green/50 focus:ring-syrian-green/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"email",className:"text-white",children:x("auth.email")}),a.jsx(ut,{id:"email",type:"email",value:e.email,onChange:M=>C("email",M.target.value),placeholder:x("auth.emailPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-syrian-green/50 focus:ring-syrian-green/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ve,{htmlFor:"phoneNumber",className:"text-white",children:[x("auth.phoneNumber")," (",x("common.optional"),")"]}),a.jsx(ut,{id:"phoneNumber",type:"tel",value:e.phoneNumber,onChange:M=>C("phoneNumber",M.target.value),placeholder:x("auth.phoneNumberPlaceholder"),className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-syrian-green/50 focus:ring-syrian-green/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"password",className:"text-white",children:x("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(ut,{id:"password",type:n?"text":"password",value:e.password,onChange:M=>C("password",M.target.value),placeholder:x("auth.createPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"confirmPassword",className:"text-white",children:x("auth.confirmPassword")}),a.jsxs("div",{className:"relative",children:[a.jsx(ut,{id:"confirmPassword",type:s?"text":"password",value:e.confirmPassword,onChange:M=>C("confirmPassword",M.target.value),placeholder:x("auth.confirmPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>i(!s),children:s?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})})]})]}),a.jsxs(be,{type:"submit",className:"w-full syrian-gradient hover:syrian-gradient-dark border-0 text-white py-6 text-lg font-semibold glow-green",disabled:m,children:[m&&a.jsx(Vs,{className:"mr-2 h-5 w-5 animate-spin"}),x("auth.register")]})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[x("auth.alreadyHaveAccount")," ",a.jsx($t,{to:"/login",className:"text-syrian-green hover:text-syrian-green/80 transition-colors font-semibold",children:x("auth.signInHere")})]})})]})]})}),a.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[a.jsxs(fe,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"text-white flex items-center gap-2",children:[a.jsx(KA,{className:"h-5 w-5 text-gold"}),e.userRole==="passenger"&&x("registration.personalAccountFeatures"),e.userRole==="driver"&&x("registration.driverAccountFeatures"),e.userRole==="merchant"&&x("registration.businessAccountFeatures"),e.userRole==="event_admin"&&x("registration.eventOrganizerFeatures")]})}),a.jsx(he,{children:a.jsx("ul",{className:"space-y-3",children:A.map((M,D)=>a.jsxs(He.li,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:D*.1},className:"flex items-center gap-3 text-gray-300",children:[a.jsx(Tr,{className:"h-4 w-4 text-syrian-green flex-shrink-0"}),M]},M))})})]}),a.jsx(fe,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:a.jsxs(he,{className:"p-6",children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:x("registration.whyChooseTickets")}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-green rounded-full"}),a.jsx("span",{children:x("registration.bankGradeSecurity")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-green rounded-full"}),a.jsx("span",{children:x("registration.instantTransactions")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-red rounded-full"}),a.jsx("span",{children:x("registration.customerSupport")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-gold rounded-full"}),a.jsx("span",{children:x("registration.lowFees")})]})]})]})})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-green rounded-full"}),a.jsx("span",{children:x("registration.soc2Certified")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-green rounded-full"}),a.jsx("span",{children:x("registration.iso27001")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-red rounded-full"}),a.jsx("span",{children:x("registration.pciCompliant")})]})]})})]})]})}function Toe(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[o,u]=w.useState(!1),{t:m}=Ft(),f=xo(),g=async x=>{x.preventDefault(),i(""),r(""),u(!0);try{const{error:j}=await ze.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});j?i(j.message):f(`/otp-verification?type=password_reset&email=${encodeURIComponent(e)}`)}catch{i("An unexpected error occurred")}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-syrian-black via-syrian-green/20 to-syrian-black p-4",children:a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-syrian-green rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-syrian-red rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(fe,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl relative",children:[a.jsxs(Te,{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/syrian-logo.svg",alt:"Syrian Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-syrian-green to-syrian-red rounded-lg blur opacity-50"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:" "}),a.jsx("span",{className:"text-sm text-gold",children:" "})]})]}),a.jsx(Oe,{className:"text-2xl font-bold text-white",children:"  "}),a.jsxs(st,{className:"text-gray-400",children:["          ",a.jsx("br",{}),a.jsx("span",{className:"text-sm",children:"Enter your email address and we'll send you a reset link"})]})]}),a.jsxs(he,{children:[a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s&&a.jsx(us,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ds,{className:"text-red-400",children:s})}),n&&a.jsx(us,{className:"bg-green-500/10 border-green-500/20",children:a.jsx(ds,{className:"text-green-400",children:n})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"email",className:"text-white",children:m("auth.email")}),a.jsx(ut,{id:"email",type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"your@email.com",required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-syrian-green/50 focus:ring-syrian-green/20"})]}),a.jsxs(be,{type:"submit",className:"w-full syrian-gradient hover:syrian-gradient-dark border-0 text-white py-6 text-lg font-semibold glow-green",disabled:o,children:[o&&a.jsx(Vs,{className:"mr-2 h-4 w-4 animate-spin"}),"  ",a.jsx("span",{className:"block text-sm mt-1",children:"Send Reset Email"})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs($t,{to:"/login",className:"inline-flex items-center text-sm text-syrian-green hover:text-syrian-green/80 transition-colors",children:[a.jsx(sm,{className:"mr-1 h-4 w-4"}),"  ",a.jsx("span",{className:"ml-2",children:"Back to Login"})]})})]})]})]})})}var Ooe=Object.defineProperty,Moe=Object.defineProperties,Doe=Object.getOwnPropertyDescriptors,Bv=Object.getOwnPropertySymbols,MB=Object.prototype.hasOwnProperty,DB=Object.prototype.propertyIsEnumerable,yP=(e,t,n)=>t in e?Ooe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Poe=(e,t)=>{for(var n in t||(t={}))MB.call(t,n)&&yP(e,n,t[n]);if(Bv)for(var n of Bv(t))DB.call(t,n)&&yP(e,n,t[n]);return e},Roe=(e,t)=>Moe(e,Doe(t)),koe=(e,t)=>{var n={};for(var r in e)MB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bv)for(var r of Bv(e))t.indexOf(r)<0&&DB.call(e,r)&&(n[r]=e[r]);return n};function Ioe(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function Loe(e){let t=w.useRef();return w.useEffect(()=>{t.current=e}),t.current}var Boe=18,PB=40,Foe=`${PB}px`,Uoe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function zoe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=w.useState(!1),[o,u]=w.useState(!1),[m,f]=w.useState(!1),g=w.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&o,[s,o,n]),x=w.useCallback(()=>{let j=e.current,_=t.current;if(!j||!_||m||n==="none")return;let C=j,E=C.getBoundingClientRect().left+C.offsetWidth,A=C.getBoundingClientRect().top+C.offsetHeight/2,M=E-Boe,D=A;document.querySelectorAll(Uoe).length===0&&document.elementFromPoint(M,D)===j||(i(!0),f(!0))},[e,t,m,n]);return w.useEffect(()=>{let j=e.current;if(!j||n==="none")return;function _(){let E=window.innerWidth-j.getBoundingClientRect().right;u(E>=PB)}_();let C=setInterval(_,1e3);return()=>{clearInterval(C)}},[e,n]),w.useEffect(()=>{let j=r||document.activeElement===t.current;if(n==="none"||!j)return;let _=setTimeout(x,0),C=setTimeout(x,2e3),E=setTimeout(x,5e3),A=setTimeout(()=>{f(!0)},6e3);return()=>{clearTimeout(_),clearTimeout(C),clearTimeout(E),clearTimeout(A)}},[t,r,n,x]),{hasPWMBadge:s,willPushPWMBadge:g,PWM_BADGE_SPACE_WIDTH:Foe}}var RB=w.createContext({}),kB=w.forwardRef((e,t)=>{var n=e,{value:r,onChange:s,maxLength:i,textAlign:o="left",pattern:u,placeholder:m,inputMode:f="numeric",onComplete:g,pushPasswordManagerStrategy:x="increase-width",pasteTransformer:j,containerClassName:_,noScriptCSSFallback:C=Voe,render:E,children:A}=n,M=koe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),D,R,U,k,I;let[F,V]=w.useState(typeof M.defaultValue=="string"?M.defaultValue:""),L=r??F,$=Loe(L),Y=w.useCallback($e=>{s==null||s($e),V($e)},[s]),q=w.useMemo(()=>u?typeof u=="string"?new RegExp(u):u:null,[u]),X=w.useRef(null),Q=w.useRef(null),G=w.useRef({value:L,onChange:Y,isIOS:typeof window<"u"&&((R=(D=window==null?void 0:window.CSS)==null?void 0:D.supports)==null?void 0:R.call(D,"-webkit-touch-callout","none"))}),H=w.useRef({prev:[(U=X.current)==null?void 0:U.selectionStart,(k=X.current)==null?void 0:k.selectionEnd,(I=X.current)==null?void 0:I.selectionDirection]});w.useImperativeHandle(t,()=>X.current,[]),w.useEffect(()=>{let $e=X.current,Qe=Q.current;if(!$e||!Qe)return;G.current.value!==$e.value&&G.current.onChange($e.value),H.current.prev=[$e.selectionStart,$e.selectionEnd,$e.selectionDirection];function gt(){if(document.activeElement!==$e){xe(null),ye(null);return}let it=$e.selectionStart,wr=$e.selectionEnd,ct=$e.selectionDirection,bn=$e.maxLength,ea=$e.value,jr=H.current.prev,Ga=-1,An=-1,Qn;if(ea.length!==0&&it!==null&&wr!==null){let Wi=it===wr,yi=it===ea.length&&ea.length<bn;if(Wi&&!yi){let un=it;if(un===0)Ga=0,An=1,Qn="forward";else if(un===bn)Ga=un-1,An=un,Qn="backward";else if(bn>1&&ea.length>1){let rt=0;if(jr[0]!==null&&jr[1]!==null){Qn=un<jr[1]?"backward":"forward";let wn=jr[0]===jr[1]&&jr[0]<bn;Qn==="backward"&&!wn&&(rt=-1)}Ga=rt+un,An=rt+un+1}}Ga!==-1&&An!==-1&&Ga!==An&&X.current.setSelectionRange(Ga,An,Qn)}let Nr=Ga!==-1?Ga:it,sn=An!==-1?An:wr,qs=Qn??ct;xe(Nr),ye(sn),H.current.prev=[Nr,sn,qs]}if(document.addEventListener("selectionchange",gt,{capture:!0}),gt(),document.activeElement===$e&&re(!0),!document.getElementById("input-otp-style")){let it=document.createElement("style");if(it.id="input-otp-style",document.head.appendChild(it),it.sheet){let wr="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";jg(it.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),jg(it.sheet,`[data-input-otp]:autofill { ${wr} }`),jg(it.sheet,`[data-input-otp]:-webkit-autofill { ${wr} }`),jg(it.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),jg(it.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let et=()=>{Qe&&Qe.style.setProperty("--root-height",`${$e.clientHeight}px`)};et();let wt=new ResizeObserver(et);return wt.observe($e),()=>{document.removeEventListener("selectionchange",gt,{capture:!0}),wt.disconnect()}},[]);let[ee,Z]=w.useState(!1),[oe,re]=w.useState(!1),[de,xe]=w.useState(null),[_e,ye]=w.useState(null);w.useEffect(()=>{Ioe(()=>{var $e,Qe,gt,et;($e=X.current)==null||$e.dispatchEvent(new Event("input"));let wt=(Qe=X.current)==null?void 0:Qe.selectionStart,it=(gt=X.current)==null?void 0:gt.selectionEnd,wr=(et=X.current)==null?void 0:et.selectionDirection;wt!==null&&it!==null&&(xe(wt),ye(it),H.current.prev=[wt,it,wr])})},[L,oe]),w.useEffect(()=>{$!==void 0&&L!==$&&$.length<i&&L.length===i&&(g==null||g(L))},[i,g,$,L]);let ke=zoe({containerRef:Q,inputRef:X,pushPasswordManagerStrategy:x,isFocused:oe}),ae=w.useCallback($e=>{let Qe=$e.currentTarget.value.slice(0,i);if(Qe.length>0&&q&&!q.test(Qe)){$e.preventDefault();return}typeof $=="string"&&Qe.length<$.length&&document.dispatchEvent(new Event("selectionchange")),Y(Qe)},[i,Y,$,q]),ue=w.useCallback(()=>{var $e;if(X.current){let Qe=Math.min(X.current.value.length,i-1),gt=X.current.value.length;($e=X.current)==null||$e.setSelectionRange(Qe,gt),xe(Qe),ye(gt)}re(!0)},[i]),ce=w.useCallback($e=>{var Qe,gt;let et=X.current;if(!j&&(!G.current.isIOS||!$e.clipboardData||!et))return;let wt=$e.clipboardData.getData("text/plain"),it=j?j(wt):wt;$e.preventDefault();let wr=(Qe=X.current)==null?void 0:Qe.selectionStart,ct=(gt=X.current)==null?void 0:gt.selectionEnd,bn=(wr!==ct?L.slice(0,wr)+it+L.slice(ct):L.slice(0,wr)+it+L.slice(wr)).slice(0,i);if(bn.length>0&&q&&!q.test(bn))return;et.value=bn,Y(bn);let ea=Math.min(bn.length,i-1),jr=bn.length;et.setSelectionRange(ea,jr),xe(ea),ye(jr)},[i,Y,q,L]),ge=w.useMemo(()=>({position:"relative",cursor:M.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[M.disabled]),Me=w.useMemo(()=>({position:"absolute",inset:0,width:ke.willPushPWMBadge?`calc(100% + ${ke.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ke.willPushPWMBadge?`inset(0 ${ke.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ke.PWM_BADGE_SPACE_WIDTH,ke.willPushPWMBadge,o]),Ne=w.useMemo(()=>w.createElement("input",Roe(Poe({autoComplete:M.autoComplete||"one-time-code"},M),{"data-input-otp":!0,"data-input-otp-placeholder-shown":L.length===0||void 0,"data-input-otp-mss":de,"data-input-otp-mse":_e,inputMode:f,pattern:q==null?void 0:q.source,"aria-placeholder":m,style:Me,maxLength:i,value:L,ref:X,onPaste:$e=>{var Qe;ce($e),(Qe=M.onPaste)==null||Qe.call(M,$e)},onChange:ae,onMouseOver:$e=>{var Qe;Z(!0),(Qe=M.onMouseOver)==null||Qe.call(M,$e)},onMouseLeave:$e=>{var Qe;Z(!1),(Qe=M.onMouseLeave)==null||Qe.call(M,$e)},onFocus:$e=>{var Qe;ue(),(Qe=M.onFocus)==null||Qe.call(M,$e)},onBlur:$e=>{var Qe;re(!1),(Qe=M.onBlur)==null||Qe.call(M,$e)}})),[ae,ue,ce,f,Me,i,_e,de,M,q==null?void 0:q.source,L]),we=w.useMemo(()=>({slots:Array.from({length:i}).map(($e,Qe)=>{var gt;let et=oe&&de!==null&&_e!==null&&(de===_e&&Qe===de||Qe>=de&&Qe<_e),wt=L[Qe]!==void 0?L[Qe]:null,it=L[0]!==void 0?null:(gt=m==null?void 0:m[Qe])!=null?gt:null;return{char:wt,placeholderChar:it,isActive:et,hasFakeCaret:et&&wt===null}}),isFocused:oe,isHovering:!M.disabled&&ee}),[oe,ee,i,_e,de,M.disabled,L]),Ke=w.useMemo(()=>E?E(we):w.createElement(RB.Provider,{value:we},A),[A,we,E]);return w.createElement(w.Fragment,null,C!==null&&w.createElement("noscript",null,w.createElement("style",null,C)),w.createElement("div",{ref:Q,"data-input-otp-container":!0,style:ge,className:_},Ke,w.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ne)))});kB.displayName="Input";function jg(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var Voe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function $oe({className:e,containerClassName:t,...n}){return a.jsx(kB,{"data-slot":"input-otp",containerClassName:yt("flex items-center gap-2 has-disabled:opacity-50",t),className:yt("disabled:cursor-not-allowed",e),...n})}function Hoe({className:e,...t}){return a.jsx("div",{"data-slot":"input-otp-group",className:yt("flex items-center",e),...t})}function Jf({index:e,className:t,...n}){const r=w.useContext(RB),{char:s,hasFakeCaret:i,isActive:o}=(r==null?void 0:r.slots[e])??{};return a.jsxs("div",{"data-slot":"input-otp-slot","data-active":o,className:yt("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...n,children:[s,i&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function qoe(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),[o,u]=w.useState(!1),[m,f]=w.useState(""),[g,x]=w.useState(60),[j,_]=w.useState(!1),[C]=b5(),E=xo(),{t:A}=Ft(),{user:M}=Ht(),D=C.get("type")||"email_verification",R=C.get("email")||(M==null?void 0:M.email)||"",U=C.get("phone")||"";w.useEffect(()=>{if(g>0){const $=setTimeout(()=>x(g-1),1e3);return()=>clearTimeout($)}else _(!0)},[g]);const I=(()=>{switch(D){case"email_verification":return{title:"Verify Your Email",description:`We've sent a 6-digit verification code to ${R}. Please enter it below to verify your email address.`,icon:a.jsx($y,{className:"h-6 w-6"}),successMessage:"Email verified successfully!",resendText:"Resend verification email"};case"password_reset":return{title:"Reset Your Password",description:`We've sent a 6-digit code to ${R}. Enter it below to reset your password.`,icon:a.jsx(eu,{className:"h-6 w-6"}),successMessage:"Code verified! You can now reset your password.",resendText:"Resend reset code"};case"phone_verification":return{title:"Verify Your Phone",description:`We've sent a 6-digit verification code to ${U}. Please enter it below.`,icon:a.jsx(eu,{className:"h-6 w-6"}),successMessage:"Phone number verified successfully!",resendText:"Resend SMS code"};default:return{title:"Verify Code",description:"Please enter the verification code sent to you.",icon:a.jsx(eu,{className:"h-6 w-6"}),successMessage:"Code verified successfully!",resendText:"Resend code"}}})(),F=async()=>{if(e.length!==6){r("Please enter a 6-digit code");return}r(""),i(!0);try{switch(D){case"email_verification":const{error:$}=await ze.auth.verifyOtp({email:R,token:e,type:"signup"});$?r($.message):(f(I.successMessage),setTimeout(()=>E("/"),2e3));break;case"password_reset":const{error:Y}=await ze.auth.verifyOtp({email:R,token:e,type:"recovery"});Y?r(Y.message):(f(I.successMessage),setTimeout(()=>E(`/reset-password?token=${e}&email=${R}`),2e3));break;case"phone_verification":const{error:q}=await ze.auth.verifyOtp({phone:U,token:e,type:"sms"});q?r(q.message):(f(I.successMessage),setTimeout(()=>E("/"),2e3));break;default:r("Invalid verification type")}}catch{r("An unexpected error occurred. Please try again.")}finally{i(!1)}},V=async()=>{u(!0),r(""),f("");try{switch(D){case"email_verification":const{error:$}=await ze.auth.resend({type:"signup",email:R});$?r($.message):(f("Verification email sent again!"),x(60),_(!1));break;case"password_reset":const{error:Y}=await ze.auth.resetPasswordForEmail(R,{redirectTo:`${window.location.origin}/otp-verification?type=password_reset&email=${R}`});Y?r(Y.message):(f("Reset code sent again!"),x(60),_(!1));break;case"phone_verification":f("SMS code sent again!"),x(60),_(!1);break}}catch{r("Failed to resend code. Please try again.")}finally{u(!1)}},L=$=>{t($),r(""),$.length===6&&setTimeout(F,500)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs($t,{to:"/login",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(sm,{className:"h-4 w-4"}),"Back to Login"]}),a.jsxs(He.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/syrian-logo.svg",alt:"Syrian Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-syrian-green to-syrian-red rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:" "})]})]}),a.jsxs(fe,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Te,{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-syrian-green/20 to-syrian-red/20 border border-white/10",children:I.icon})}),a.jsx(Oe,{className:"text-2xl font-bold text-white",children:I.title}),a.jsx(st,{className:"text-center text-gray-400 leading-relaxed",children:I.description})]}),a.jsxs(he,{className:"space-y-6",children:[n&&a.jsx(us,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ds,{className:"text-red-400",children:n})}),m&&a.jsxs(us,{className:"bg-green-500/10 border-green-500/20",children:[a.jsx(Tr,{className:"h-4 w-4 text-green-400"}),a.jsx(ds,{className:"text-green-400",children:m})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ve,{className:"text-center block text-white",children:"Enter 6-digit verification code"}),a.jsx("div",{className:"flex justify-center",children:a.jsx($oe,{maxLength:6,value:e,onChange:L,className:"gap-3",children:a.jsxs(Hoe,{children:[a.jsx(Jf,{index:0,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-syrian-green/50"}),a.jsx(Jf,{index:1,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-syrian-green/50"}),a.jsx(Jf,{index:2,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-syrian-green/50"}),a.jsx(Jf,{index:3,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-syrian-green/50"}),a.jsx(Jf,{index:4,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-syrian-green/50"}),a.jsx(Jf,{index:5,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-syrian-green/50"})]})})})]}),a.jsxs(be,{onClick:F,className:"w-full syrian-gradient hover:syrian-gradient-dark border-0 text-white py-6 text-lg font-semibold glow-green",disabled:s||e.length!==6,children:[s&&a.jsx(Vs,{className:"mr-2 h-5 w-5 animate-spin"}),"Verify Code"]}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Didn't receive the code?"}),j?a.jsxs(be,{variant:"ghost",onClick:V,disabled:o,className:"text-syrian-green hover:text-syrian-green/80 hover:bg-syrian-green/10",children:[o?a.jsx(Vs,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Od,{className:"mr-2 h-4 w-4"}),I.resendText]}):a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[a.jsx(Hn,{className:"h-4 w-4"}),a.jsxs("span",{children:["Resend available in ",g,"s"]})]})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-green rounded-full"}),a.jsx("span",{children:"Secure Verification"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-green rounded-full"}),a.jsx("span",{children:"Encrypted"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-syrian-red rounded-full"}),a.jsx("span",{children:"Protected"})]})]})})]})]})}function Yoe(){const[e,t]=w.useState({password:"",confirmPassword:""}),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[o,u]=w.useState(""),[m,f]=w.useState(!1),[g,x]=w.useState(""),[j]=b5(),_=xo(),{t:C}=Ft(),E=j.get("token");j.get("email"),w.useEffect(()=>{E||_("/forgot-password")},[E,_]);const A=async D=>{if(D.preventDefault(),u(""),x(""),e.password!==e.confirmPassword){u("Passwords do not match");return}if(e.password.length<6){u("Password must be at least 6 characters");return}if(!E){u("Invalid reset token");return}f(!0);try{const{error:R}=await ze.auth.updateUser({password:e.password});R?u(R.message):(x("Password updated successfully! Redirecting to login..."),setTimeout(()=>_("/login"),3e3))}catch{u("An unexpected error occurred")}finally{f(!1)}},M=(D,R)=>{t(U=>({...U,[D]:R})),u("")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(ja,{className:"h-6 w-6"})}),a.jsx("h1",{className:"text-2xl font-bold text-primary",children:C("app.name")})]}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(eu,{className:"h-6 w-6"})})}),a.jsx(Oe,{className:"text-2xl font-bold",children:"Reset Your Password"}),a.jsx(st,{children:"Enter your new password below"})]}),a.jsxs(he,{children:[a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o&&a.jsx(us,{variant:"destructive",children:a.jsx(ds,{children:o})}),g&&a.jsx(us,{children:a.jsx(ds,{className:"text-green-600",children:g})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ut,{id:"password",type:n?"text":"password",value:e.password,onChange:D=>M("password",D.target.value),placeholder:"Enter new password",required:!0,minLength:6}),a.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),children:n?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Password must be at least 6 characters long"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ut,{id:"confirmPassword",type:s?"text":"password",value:e.confirmPassword,onChange:D=>M("confirmPassword",D.target.value),placeholder:"Confirm new password",required:!0}),a.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!s),children:s?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})})]})]}),a.jsxs(be,{type:"submit",className:"w-full",disabled:m,children:[m&&a.jsx(Vs,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs($t,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[a.jsx(sm,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})]})}var L2={exports:{}},B2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP;function Woe(){if(bP)return B2;bP=1;var e=Gh();function t(x,j){return x===j&&(x!==0||1/x===1/j)||x!==x&&j!==j}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function u(x,j){var _=j(),C=r({inst:{value:_,getSnapshot:j}}),E=C[0].inst,A=C[1];return i(function(){E.value=_,E.getSnapshot=j,m(E)&&A({inst:E})},[x,_,j]),s(function(){return m(E)&&A({inst:E}),x(function(){m(E)&&A({inst:E})})},[x]),o(_),_}function m(x){var j=x.getSnapshot;x=x.value;try{var _=j();return!n(x,_)}catch{return!0}}function f(x,j){return j()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return B2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,B2}var wP;function IB(){return wP||(wP=1,L2.exports=Woe()),L2.exports}var Goe=IB();function Koe(){return Goe.useSyncExternalStore(Xoe,()=>!0,()=>!1)}function Xoe(){return()=>{}}var mE="Avatar",[Qoe,d4e]=Ts(mE),[Zoe,LB]=Qoe(mE),BB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=w.useState("idle");return a.jsx(Zoe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(_t.span,{...r,ref:t})})});BB.displayName=mE;var FB="AvatarImage",UB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,o=LB(FB,n),u=Joe(r,i),m=Da(f=>{s(f),o.onImageLoadingStatusChange(f)});return ua(()=>{u!=="idle"&&m(u)},[u,m]),u==="loaded"?a.jsx(_t.img,{...i,ref:t,src:r}):null});UB.displayName=FB;var zB="AvatarFallback",VB=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=LB(zB,n),[o,u]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(m)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(_t.span,{...s,ref:t}):null});VB.displayName=zB;function jP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Joe(e,{referrerPolicy:t,crossOrigin:n}){const r=Koe(),s=w.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,u]=w.useState(()=>jP(i,e));return ua(()=>{u(jP(i,e))},[i,e]),ua(()=>{const m=x=>()=>{u(x)};if(!i)return;const f=m("loaded"),g=m("error");return i.addEventListener("load",f),i.addEventListener("error",g),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",f),i.removeEventListener("error",g)}},[i,n,t]),o}var ele=BB,tle=UB,nle=VB;function fp({className:e,...t}){return a.jsx(ele,{"data-slot":"avatar",className:yt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function hp({className:e,...t}){return a.jsx(tle,{"data-slot":"avatar-image",className:yt("aspect-square size-full",e),...t})}function mp({className:e,...t}){return a.jsx(nle,{"data-slot":"avatar-fallback",className:yt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const rle=HA("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Je({className:e,variant:t,asChild:n=!1,...r}){const s=n?JL:"span";return a.jsx(s,{"data-slot":"badge",className:yt(rle({variant:t}),e),...r})}var ale="Separator",NP="horizontal",sle=["horizontal","vertical"],$B=w.forwardRef((e,t)=>{const{decorative:n,orientation:r=NP,...s}=e,i=ile(r)?r:NP,u=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(_t.div,{"data-orientation":i,...u,...s,ref:t})});$B.displayName=ale;function ile(e){return sle.includes(e)}var ole=$B;function hi({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return a.jsx(ole,{"data-slot":"separator-root",decorative:n,orientation:t,className:yt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}var F2="rovingFocusGroup.onEntryFocus",lle={bubbles:!1,cancelable:!0},Wp="RovingFocusGroup",[XS,HB,cle]=eE(Wp),[ule,t1]=Ts(Wp,[cle]),[dle,fle]=ule(Wp),qB=w.forwardRef((e,t)=>a.jsx(XS.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(XS.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(hle,{...e,ref:t})})}));qB.displayName=Wp;var hle=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...x}=e,j=w.useRef(null),_=Kt(t,j),C=zp(i),[E,A]=Wl({prop:o,defaultProp:u??null,onChange:m,caller:Wp}),[M,D]=w.useState(!1),R=Da(f),U=HB(n),k=w.useRef(!1),[I,F]=w.useState(0);return w.useEffect(()=>{const V=j.current;if(V)return V.addEventListener(F2,R),()=>V.removeEventListener(F2,R)},[R]),a.jsx(dle,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:E,onItemFocus:w.useCallback(V=>A(V),[A]),onItemShiftTab:w.useCallback(()=>D(!0),[]),onFocusableItemAdd:w.useCallback(()=>F(V=>V+1),[]),onFocusableItemRemove:w.useCallback(()=>F(V=>V-1),[]),children:a.jsx(_t.div,{tabIndex:M||I===0?-1:0,"data-orientation":r,...x,ref:_,style:{outline:"none",...e.style},onMouseDown:ot(e.onMouseDown,()=>{k.current=!0}),onFocus:ot(e.onFocus,V=>{const L=!k.current;if(V.target===V.currentTarget&&L&&!M){const $=new CustomEvent(F2,lle);if(V.currentTarget.dispatchEvent($),!$.defaultPrevented){const Y=U().filter(H=>H.focusable),q=Y.find(H=>H.active),X=Y.find(H=>H.id===E),G=[q,X,...Y].filter(Boolean).map(H=>H.ref.current);GB(G,g)}}k.current=!1}),onBlur:ot(e.onBlur,()=>D(!1))})})}),YB="RovingFocusGroupItem",WB=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...u}=e,m=fo(),f=i||m,g=fle(YB,n),x=g.currentTabStopId===f,j=HB(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:E}=g;return w.useEffect(()=>{if(r)return _(),()=>C()},[r,_,C]),a.jsx(XS.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:a.jsx(_t.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:ot(e.onMouseDown,A=>{r?g.onItemFocus(f):A.preventDefault()}),onFocus:ot(e.onFocus,()=>g.onItemFocus(f)),onKeyDown:ot(e.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const M=ple(A,g.orientation,g.dir);if(M!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let R=j().filter(U=>U.focusable).map(U=>U.ref.current);if(M==="last")R.reverse();else if(M==="prev"||M==="next"){M==="prev"&&R.reverse();const U=R.indexOf(A.currentTarget);R=g.loop?xle(R,U+1):R.slice(U+1)}setTimeout(()=>GB(R))}}),children:typeof o=="function"?o({isCurrentTabStop:x,hasTabStop:E!=null}):o})})});WB.displayName=YB;var mle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ple(e,t,n){const r=gle(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mle[r]}function GB(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function xle(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var KB=qB,XB=WB,QS=["Enter"," "],vle=["ArrowDown","PageUp","Home"],QB=["ArrowUp","PageDown","End"],yle=[...vle,...QB],ble={ltr:[...QS,"ArrowRight"],rtl:[...QS,"ArrowLeft"]},wle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gp="Menu",[gp,jle,Nle]=eE(Gp),[qd,ZB]=Ts(Gp,[Nle,um,t1]),n1=um(),JB=t1(),[Sle,Yd]=qd(Gp),[_le,Kp]=qd(Gp),e9=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,u=n1(t),[m,f]=w.useState(null),g=w.useRef(!1),x=Da(i),j=zp(s);return w.useEffect(()=>{const _=()=>{g.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>g.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),a.jsx(uE,{...u,children:a.jsx(Sle,{scope:t,open:n,onOpenChange:x,content:m,onContentChange:f,children:a.jsx(_le,{scope:t,onClose:w.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:j,modal:o,children:r})})})};e9.displayName=Gp;var Ale="MenuAnchor",gE=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=n1(n);return a.jsx(Ky,{...s,...r,ref:t})});gE.displayName=Ale;var pE="MenuPortal",[Ele,t9]=qd(pE,{forceMount:void 0}),n9=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Yd(pE,t);return a.jsx(Ele,{scope:t,forceMount:n,children:a.jsx(gs,{present:n||i.open,children:a.jsx(qp,{asChild:!0,container:s,children:r})})})};n9.displayName=pE;var Li="MenuContent",[Cle,xE]=qd(Li),r9=w.forwardRef((e,t)=>{const n=t9(Li,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Yd(Li,e.__scopeMenu),o=Kp(Li,e.__scopeMenu);return a.jsx(gp.Provider,{scope:e.__scopeMenu,children:a.jsx(gs,{present:r||i.open,children:a.jsx(gp.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(Tle,{...s,ref:t}):a.jsx(Ole,{...s,ref:t})})})})}),Tle=w.forwardRef((e,t)=>{const n=Yd(Li,e.__scopeMenu),r=w.useRef(null),s=Kt(t,r);return w.useEffect(()=>{const i=r.current;if(i)return Xy(i)},[]),a.jsx(vE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ot(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ole=w.forwardRef((e,t)=>{const n=Yd(Li,e.__scopeMenu);return a.jsx(vE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Mle=iu("MenuContent.ScrollLock"),vE=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:m,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:j,onDismiss:_,disableOutsideScroll:C,...E}=e,A=Yd(Li,n),M=Kp(Li,n),D=n1(n),R=JB(n),U=jle(n),[k,I]=w.useState(null),F=w.useRef(null),V=Kt(t,F,A.onContentChange),L=w.useRef(0),$=w.useRef(""),Y=w.useRef(0),q=w.useRef(null),X=w.useRef("right"),Q=w.useRef(0),G=C?Yp:w.Fragment,H=C?{as:Mle,allowPinchZoom:!0}:void 0,ee=oe=>{var ue,ce;const re=$.current+oe,de=U().filter(ge=>!ge.disabled),xe=document.activeElement,_e=(ue=de.find(ge=>ge.ref.current===xe))==null?void 0:ue.textValue,ye=de.map(ge=>ge.textValue),ke=$le(ye,re,_e),ae=(ce=de.find(ge=>ge.textValue===ke))==null?void 0:ce.ref.current;(function ge(Me){$.current=Me,window.clearTimeout(L.current),Me!==""&&(L.current=window.setTimeout(()=>ge(""),1e3))})(re),ae&&setTimeout(()=>ae.focus())};w.useEffect(()=>()=>window.clearTimeout(L.current),[]),qy();const Z=w.useCallback(oe=>{var de,xe;return X.current===((de=q.current)==null?void 0:de.side)&&qle(oe,(xe=q.current)==null?void 0:xe.area)},[]);return a.jsx(Cle,{scope:n,searchRef:$,onItemEnter:w.useCallback(oe=>{Z(oe)&&oe.preventDefault()},[Z]),onItemLeave:w.useCallback(oe=>{var re;Z(oe)||((re=F.current)==null||re.focus(),I(null))},[Z]),onTriggerLeave:w.useCallback(oe=>{Z(oe)&&oe.preventDefault()},[Z]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:w.useCallback(oe=>{q.current=oe},[]),children:a.jsx(G,{...H,children:a.jsx($p,{asChild:!0,trapped:s,onMountAutoFocus:ot(i,oe=>{var re;oe.preventDefault(),(re=F.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Vp,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:j,onDismiss:_,children:a.jsx(KB,{asChild:!0,...R,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:I,onEntryFocus:ot(m,oe=>{M.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(dE,{role:"menu","aria-orientation":"vertical","data-state":y9(A.open),"data-radix-menu-content":"",dir:M.dir,...D,...E,ref:V,style:{outline:"none",...E.style},onKeyDown:ot(E.onKeyDown,oe=>{const de=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,xe=oe.ctrlKey||oe.altKey||oe.metaKey,_e=oe.key.length===1;de&&(oe.key==="Tab"&&oe.preventDefault(),!xe&&_e&&ee(oe.key));const ye=F.current;if(oe.target!==ye||!yle.includes(oe.key))return;oe.preventDefault();const ae=U().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);QB.includes(oe.key)&&ae.reverse(),zle(ae)}),onBlur:ot(e.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(L.current),$.current="")}),onPointerMove:ot(e.onPointerMove,pp(oe=>{const re=oe.target,de=Q.current!==oe.clientX;if(oe.currentTarget.contains(re)&&de){const xe=oe.clientX>Q.current?"right":"left";X.current=xe,Q.current=oe.clientX}}))})})})})})})});r9.displayName=Li;var Dle="MenuGroup",yE=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(_t.div,{role:"group",...r,ref:t})});yE.displayName=Dle;var Ple="MenuLabel",a9=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(_t.div,{...r,ref:t})});a9.displayName=Ple;var Fv="MenuItem",SP="menu.itemSelect",r1=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=w.useRef(null),o=Kp(Fv,e.__scopeMenu),u=xE(Fv,e.__scopeMenu),m=Kt(t,i),f=w.useRef(!1),g=()=>{const x=i.current;if(!n&&x){const j=new CustomEvent(SP,{bubbles:!0,cancelable:!0});x.addEventListener(SP,_=>r==null?void 0:r(_),{once:!0}),x7(x,j),j.defaultPrevented?f.current=!1:o.onClose()}};return a.jsx(s9,{...s,ref:m,disabled:n,onClick:ot(e.onClick,g),onPointerDown:x=>{var j;(j=e.onPointerDown)==null||j.call(e,x),f.current=!0},onPointerUp:ot(e.onPointerUp,x=>{var j;f.current||(j=x.currentTarget)==null||j.click()}),onKeyDown:ot(e.onKeyDown,x=>{const j=u.searchRef.current!=="";n||j&&x.key===" "||QS.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});r1.displayName=Fv;var s9=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=xE(Fv,n),u=JB(n),m=w.useRef(null),f=Kt(t,m),[g,x]=w.useState(!1),[j,_]=w.useState("");return w.useEffect(()=>{const C=m.current;C&&_((C.textContent??"").trim())},[i.children]),a.jsx(gp.ItemSlot,{scope:n,disabled:r,textValue:s??j,children:a.jsx(XB,{asChild:!0,...u,focusable:!r,children:a.jsx(_t.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:f,onPointerMove:ot(e.onPointerMove,pp(C=>{r?o.onItemLeave(C):(o.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ot(e.onPointerLeave,pp(C=>o.onItemLeave(C))),onFocus:ot(e.onFocus,()=>x(!0)),onBlur:ot(e.onBlur,()=>x(!1))})})})}),Rle="MenuCheckboxItem",i9=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(d9,{scope:e.__scopeMenu,checked:n,children:a.jsx(r1,{role:"menuitemcheckbox","aria-checked":Uv(n)?"mixed":n,...s,ref:t,"data-state":wE(n),onSelect:ot(s.onSelect,()=>r==null?void 0:r(Uv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});i9.displayName=Rle;var o9="MenuRadioGroup",[kle,Ile]=qd(o9,{value:void 0,onValueChange:()=>{}}),l9=w.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=Da(r);return a.jsx(kle,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(yE,{...s,ref:t})})});l9.displayName=o9;var c9="MenuRadioItem",u9=w.forwardRef((e,t)=>{const{value:n,...r}=e,s=Ile(c9,e.__scopeMenu),i=n===s.value;return a.jsx(d9,{scope:e.__scopeMenu,checked:i,children:a.jsx(r1,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":wE(i),onSelect:ot(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});u9.displayName=c9;var bE="MenuItemIndicator",[d9,Lle]=qd(bE,{checked:!1}),f9=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=Lle(bE,n);return a.jsx(gs,{present:r||Uv(i.checked)||i.checked===!0,children:a.jsx(_t.span,{...s,ref:t,"data-state":wE(i.checked)})})});f9.displayName=bE;var Ble="MenuSeparator",h9=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(_t.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});h9.displayName=Ble;var Fle="MenuArrow",m9=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=n1(n);return a.jsx(fE,{...s,...r,ref:t})});m9.displayName=Fle;var Ule="MenuSub",[f4e,g9]=qd(Ule),Fg="MenuSubTrigger",p9=w.forwardRef((e,t)=>{const n=Yd(Fg,e.__scopeMenu),r=Kp(Fg,e.__scopeMenu),s=g9(Fg,e.__scopeMenu),i=xE(Fg,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:m}=i,f={__scopeMenu:e.__scopeMenu},g=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>g,[g]),w.useEffect(()=>{const x=u.current;return()=>{window.clearTimeout(x),m(null)}},[u,m]),a.jsx(gE,{asChild:!0,...f,children:a.jsx(s9,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":y9(n.open),...e,ref:zy(t,s.onTriggerChange),onClick:x=>{var j;(j=e.onClick)==null||j.call(e,x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ot(e.onPointerMove,pp(x=>{i.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:ot(e.onPointerLeave,pp(x=>{var _,C;g();const j=(_=n.content)==null?void 0:_.getBoundingClientRect();if(j){const E=(C=n.content)==null?void 0:C.dataset.side,A=E==="right",M=A?-5:5,D=j[A?"left":"right"],R=j[A?"right":"left"];i.onPointerGraceIntentChange({area:[{x:x.clientX+M,y:x.clientY},{x:D,y:j.top},{x:R,y:j.top},{x:R,y:j.bottom},{x:D,y:j.bottom}],side:E}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(x),x.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ot(e.onKeyDown,x=>{var _;const j=i.searchRef.current!=="";e.disabled||j&&x.key===" "||ble[r.dir].includes(x.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),x.preventDefault())})})})});p9.displayName=Fg;var x9="MenuSubContent",v9=w.forwardRef((e,t)=>{const n=t9(Li,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Yd(Li,e.__scopeMenu),o=Kp(Li,e.__scopeMenu),u=g9(x9,e.__scopeMenu),m=w.useRef(null),f=Kt(t,m);return a.jsx(gp.Provider,{scope:e.__scopeMenu,children:a.jsx(gs,{present:r||i.open,children:a.jsx(gp.Slot,{scope:e.__scopeMenu,children:a.jsx(vE,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var x;o.isUsingKeyboardRef.current&&((x=m.current)==null||x.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ot(e.onFocusOutside,g=>{g.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ot(e.onEscapeKeyDown,g=>{o.onClose(),g.preventDefault()}),onKeyDown:ot(e.onKeyDown,g=>{var _;const x=g.currentTarget.contains(g.target),j=wle[o.dir].includes(g.key);x&&j&&(i.onOpenChange(!1),(_=u.trigger)==null||_.focus(),g.preventDefault())})})})})})});v9.displayName=x9;function y9(e){return e?"open":"closed"}function Uv(e){return e==="indeterminate"}function wE(e){return Uv(e)?"indeterminate":e?"checked":"unchecked"}function zle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Vle(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function $le(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Vle(e,Math.max(i,0));s.length===1&&(o=o.filter(f=>f!==n));const m=o.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return m!==n?m:void 0}function Hle(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const u=t[i],m=t[o],f=u.x,g=u.y,x=m.x,j=m.y;g>r!=j>r&&n<(x-f)*(r-g)/(j-g)+f&&(s=!s)}return s}function qle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Hle(n,t)}function pp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Yle=e9,Wle=gE,Gle=n9,Kle=r9,Xle=yE,Qle=a9,Zle=r1,Jle=i9,ece=l9,tce=u9,nce=f9,rce=h9,ace=m9,sce=p9,ice=v9,a1="DropdownMenu",[oce,h4e]=Ts(a1,[ZB]),Os=ZB(),[lce,b9]=oce(a1),w9=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=e,m=Os(t),f=w.useRef(null),[g,x]=Wl({prop:s,defaultProp:i??!1,onChange:o,caller:a1});return a.jsx(lce,{scope:t,triggerId:fo(),triggerRef:f,contentId:fo(),open:g,onOpenChange:x,onOpenToggle:w.useCallback(()=>x(j=>!j),[x]),modal:u,children:a.jsx(Yle,{...m,open:g,onOpenChange:x,dir:r,modal:u,children:n})})};w9.displayName=a1;var j9="DropdownMenuTrigger",N9=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=b9(j9,n),o=Os(n);return a.jsx(Wle,{asChild:!0,...o,children:a.jsx(_t.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:zy(t,i.triggerRef),onPointerDown:ot(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:ot(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});N9.displayName=j9;var cce="DropdownMenuPortal",S9=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Os(t);return a.jsx(Gle,{...r,...n})};S9.displayName=cce;var _9="DropdownMenuContent",A9=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=b9(_9,n),i=Os(n),o=w.useRef(!1);return a.jsx(Kle,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:ot(e.onCloseAutoFocus,u=>{var m;o.current||(m=s.triggerRef.current)==null||m.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:ot(e.onInteractOutside,u=>{const m=u.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0,g=m.button===2||f;(!s.modal||g)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A9.displayName=_9;var uce="DropdownMenuGroup",dce=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(Xle,{...s,...r,ref:t})});dce.displayName=uce;var fce="DropdownMenuLabel",E9=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(Qle,{...s,...r,ref:t})});E9.displayName=fce;var hce="DropdownMenuItem",C9=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(Zle,{...s,...r,ref:t})});C9.displayName=hce;var mce="DropdownMenuCheckboxItem",gce=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(Jle,{...s,...r,ref:t})});gce.displayName=mce;var pce="DropdownMenuRadioGroup",xce=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(ece,{...s,...r,ref:t})});xce.displayName=pce;var vce="DropdownMenuRadioItem",yce=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(tce,{...s,...r,ref:t})});yce.displayName=vce;var bce="DropdownMenuItemIndicator",wce=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(nce,{...s,...r,ref:t})});wce.displayName=bce;var jce="DropdownMenuSeparator",T9=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(rce,{...s,...r,ref:t})});T9.displayName=jce;var Nce="DropdownMenuArrow",Sce=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(ace,{...s,...r,ref:t})});Sce.displayName=Nce;var _ce="DropdownMenuSubTrigger",Ace=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(sce,{...s,...r,ref:t})});Ace.displayName=_ce;var Ece="DropdownMenuSubContent",Cce=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Os(n);return a.jsx(ice,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cce.displayName=Ece;var Tce=w9,Oce=N9,Mce=S9,Dce=A9,Pce=E9,Rce=C9,kce=T9;function O9({...e}){return a.jsx(Tce,{"data-slot":"dropdown-menu",...e})}function M9({...e}){return a.jsx(Oce,{"data-slot":"dropdown-menu-trigger",...e})}function D9({className:e,sideOffset:t=4,...n}){return a.jsx(Mce,{children:a.jsx(Dce,{"data-slot":"dropdown-menu-content",sideOffset:t,className:yt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function bh({className:e,inset:t,variant:n="default",...r}){return a.jsx(Rce,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:yt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function Ice({className:e,inset:t,...n}){return a.jsx(Pce,{"data-slot":"dropdown-menu-label","data-inset":t,className:yt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function _P({className:e,...t}){return a.jsx(kce,{"data-slot":"dropdown-menu-separator",className:yt("bg-border -mx-1 my-1 h-px",e),...t})}var s1="Dialog",[P9,R9]=Ts(s1),[Lce,vo]=P9(s1),k9=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,u=w.useRef(null),m=w.useRef(null),[f,g]=Wl({prop:r,defaultProp:s??!1,onChange:i,caller:s1});return a.jsx(Lce,{scope:t,triggerRef:u,contentRef:m,contentId:fo(),titleId:fo(),descriptionId:fo(),open:f,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),modal:o,children:n})};k9.displayName=s1;var I9="DialogTrigger",L9=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vo(I9,n),i=Kt(t,s.triggerRef);return a.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SE(s.open),...r,ref:i,onClick:ot(e.onClick,s.onOpenToggle)})});L9.displayName=I9;var jE="DialogPortal",[Bce,B9]=P9(jE,{forceMount:void 0}),F9=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=vo(jE,t);return a.jsx(Bce,{scope:t,forceMount:n,children:w.Children.map(r,o=>a.jsx(gs,{present:n||i.open,children:a.jsx(qp,{asChild:!0,container:s,children:o})}))})};F9.displayName=jE;var zv="DialogOverlay",U9=w.forwardRef((e,t)=>{const n=B9(zv,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=vo(zv,e.__scopeDialog);return i.modal?a.jsx(gs,{present:r||i.open,children:a.jsx(Uce,{...s,ref:t})}):null});U9.displayName=zv;var Fce=iu("DialogOverlay.RemoveScroll"),Uce=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vo(zv,n);return a.jsx(Yp,{as:Fce,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(_t.div,{"data-state":SE(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),kd="DialogContent",z9=w.forwardRef((e,t)=>{const n=B9(kd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=vo(kd,e.__scopeDialog);return a.jsx(gs,{present:r||i.open,children:i.modal?a.jsx(zce,{...s,ref:t}):a.jsx(Vce,{...s,ref:t})})});z9.displayName=kd;var zce=w.forwardRef((e,t)=>{const n=vo(kd,e.__scopeDialog),r=w.useRef(null),s=Kt(t,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return Xy(i)},[]),a.jsx(V9,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ot(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0;(o.button===2||u)&&i.preventDefault()}),onFocusOutside:ot(e.onFocusOutside,i=>i.preventDefault())})}),Vce=w.forwardRef((e,t)=>{const n=vo(kd,e.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return a.jsx(V9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,u;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),V9=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,u=vo(kd,n),m=w.useRef(null),f=Kt(t,m);return qy(),a.jsxs(a.Fragment,{children:[a.jsx($p,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Vp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":SE(u.open),...o,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Hce,{titleId:u.titleId}),a.jsx(Yce,{contentRef:m,descriptionId:u.descriptionId})]})]})}),NE="DialogTitle",$9=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vo(NE,n);return a.jsx(_t.h2,{id:s.titleId,...r,ref:t})});$9.displayName=NE;var H9="DialogDescription",q9=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vo(H9,n);return a.jsx(_t.p,{id:s.descriptionId,...r,ref:t})});q9.displayName=H9;var Y9="DialogClose",W9=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vo(Y9,n);return a.jsx(_t.button,{type:"button",...r,ref:t,onClick:ot(e.onClick,()=>s.onOpenChange(!1))})});W9.displayName=Y9;function SE(e){return e?"open":"closed"}var G9="DialogTitleWarning",[$ce,K9]=bae(G9,{contentName:kd,titleName:NE,docsSlug:"dialog"}),Hce=({titleId:e})=>{const t=K9(G9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qce="DialogDescriptionWarning",Yce=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K9(qce).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},_E=k9,AE=L9,EE=F9,CE=U9,TE=z9,X9=$9,Q9=q9,i1=W9;function Wce({...e}){return a.jsx(_E,{"data-slot":"sheet",...e})}function Gce({...e}){return a.jsx(AE,{"data-slot":"sheet-trigger",...e})}function Kce({...e}){return a.jsx(EE,{"data-slot":"sheet-portal",...e})}function Xce({className:e,...t}){return a.jsx(CE,{"data-slot":"sheet-overlay",className:yt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Qce({className:e,children:t,side:n="right",...r}){return a.jsxs(Kce,{children:[a.jsx(Xce,{}),a.jsxs(TE,{"data-slot":"sheet-content",className:yt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,a.jsxs(i1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(Hd,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Zce(){const{theme:e,setTheme:t}=J6(),n=()=>{switch(e){case"light":return a.jsx(LS,{className:"h-4 w-4"});case"dark":return a.jsx(PS,{className:"h-4 w-4"});default:return a.jsx(KD,{className:"h-4 w-4"})}};return a.jsxs(O9,{children:[a.jsx(M9,{asChild:!0,children:a.jsxs(be,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[n(),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),a.jsxs(D9,{align:"end",children:[a.jsxs(bh,{onClick:()=>t("light"),className:"cursor-pointer",children:[a.jsx(LS,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Light"})]}),a.jsxs(bh,{onClick:()=>t("dark"),className:"cursor-pointer",children:[a.jsx(PS,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Dark"})]}),a.jsxs(bh,{onClick:()=>t("system"),className:"cursor-pointer",children:[a.jsx(KD,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"System"})]})]})]})}function Jce(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var OE="ScrollArea",[Z9,m4e]=Ts(OE),[eue,Hi]=Z9(OE),J9=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[u,m]=w.useState(null),[f,g]=w.useState(null),[x,j]=w.useState(null),[_,C]=w.useState(null),[E,A]=w.useState(null),[M,D]=w.useState(0),[R,U]=w.useState(0),[k,I]=w.useState(!1),[F,V]=w.useState(!1),L=Kt(t,Y=>m(Y)),$=zp(s);return a.jsx(eue,{scope:n,type:r,dir:$,scrollHideDelay:i,scrollArea:u,viewport:f,onViewportChange:g,content:x,onContentChange:j,scrollbarX:_,onScrollbarXChange:C,scrollbarXEnabled:k,onScrollbarXEnabledChange:I,scrollbarY:E,onScrollbarYChange:A,scrollbarYEnabled:F,onScrollbarYEnabledChange:V,onCornerWidthChange:D,onCornerHeightChange:U,children:a.jsx(_t.div,{dir:$,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":R+"px",...e.style}})})});J9.displayName=OE;var eF="ScrollAreaViewport",tF=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=Hi(eF,n),u=w.useRef(null),m=Kt(t,u,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(_t.div,{"data-radix-scroll-area-viewport":"",...i,ref:m,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});tF.displayName=eF;var il="ScrollAreaScrollbar",nF=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hi(il,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,u=e.orientation==="horizontal";return w.useEffect(()=>(u?i(!0):o(!0),()=>{u?i(!1):o(!1)}),[u,i,o]),s.type==="hover"?a.jsx(tue,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(nue,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(rF,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(ME,{...r,ref:t}):null});nF.displayName=il;var tue=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hi(il,e.__scopeScrollArea),[i,o]=w.useState(!1);return w.useEffect(()=>{const u=s.scrollArea;let m=0;if(u){const f=()=>{window.clearTimeout(m),o(!0)},g=()=>{m=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(m),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(gs,{present:n||i,children:a.jsx(rF,{"data-state":i?"visible":"hidden",...r,ref:t})})}),nue=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hi(il,e.__scopeScrollArea),i=e.orientation==="horizontal",o=l1(()=>m("SCROLL_END"),100),[u,m]=Jce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>m("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,s.scrollHideDelay,m]),w.useEffect(()=>{const f=s.viewport,g=i?"scrollLeft":"scrollTop";if(f){let x=f[g];const j=()=>{const _=f[g];x!==_&&(m("SCROLL"),o()),x=_};return f.addEventListener("scroll",j),()=>f.removeEventListener("scroll",j)}},[s.viewport,i,m,o]),a.jsx(gs,{present:n||u!=="hidden",children:a.jsx(ME,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ot(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:ot(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),rF=w.forwardRef((e,t)=>{const n=Hi(il,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=w.useState(!1),u=e.orientation==="horizontal",m=l1(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;o(u?f:g)}},10);return kh(n.viewport,m),kh(n.content,m),a.jsx(gs,{present:r||i,children:a.jsx(ME,{"data-state":i?"visible":"hidden",...s,ref:t})})}),ME=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Hi(il,e.__scopeScrollArea),i=w.useRef(null),o=w.useRef(0),[u,m]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=lF(u.viewport,u.content),g={...r,sizes:u,onSizesChange:m,hasThumb:f>0&&f<1,onThumbChange:j=>i.current=j,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:j=>o.current=j};function x(j,_){return lue(j,o.current,u,_)}return n==="horizontal"?a.jsx(rue,{...g,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const j=s.viewport.scrollLeft,_=AP(j,u,s.dir);i.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:j=>{s.viewport&&(s.viewport.scrollLeft=j)},onDragScroll:j=>{s.viewport&&(s.viewport.scrollLeft=x(j,s.dir))}}):n==="vertical"?a.jsx(aue,{...g,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const j=s.viewport.scrollTop,_=AP(j,u);i.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:j=>{s.viewport&&(s.viewport.scrollTop=j)},onDragScroll:j=>{s.viewport&&(s.viewport.scrollTop=x(j))}}):null}),rue=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Hi(il,e.__scopeScrollArea),[o,u]=w.useState(),m=w.useRef(null),f=Kt(t,m,i.onScrollbarXChange);return w.useEffect(()=>{m.current&&u(getComputedStyle(m.current))},[m]),a.jsx(sF,{"data-orientation":"horizontal",...s,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":o1(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,x)=>{if(i.viewport){const j=i.viewport.scrollLeft+g.deltaX;e.onWheelScroll(j),uF(j,x)&&g.preventDefault()}},onResize:()=>{m.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:$v(o.paddingLeft),paddingEnd:$v(o.paddingRight)}})}})}),aue=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Hi(il,e.__scopeScrollArea),[o,u]=w.useState(),m=w.useRef(null),f=Kt(t,m,i.onScrollbarYChange);return w.useEffect(()=>{m.current&&u(getComputedStyle(m.current))},[m]),a.jsx(sF,{"data-orientation":"vertical",...s,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":o1(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,x)=>{if(i.viewport){const j=i.viewport.scrollTop+g.deltaY;e.onWheelScroll(j),uF(j,x)&&g.preventDefault()}},onResize:()=>{m.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:$v(o.paddingTop),paddingEnd:$v(o.paddingBottom)}})}})}),[sue,aF]=Z9(il),sF=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:u,onThumbPositionChange:m,onDragScroll:f,onWheelScroll:g,onResize:x,...j}=e,_=Hi(il,n),[C,E]=w.useState(null),A=Kt(t,L=>E(L)),M=w.useRef(null),D=w.useRef(""),R=_.viewport,U=r.content-r.viewport,k=Da(g),I=Da(m),F=l1(x,10);function V(L){if(M.current){const $=L.clientX-M.current.left,Y=L.clientY-M.current.top;f({x:$,y:Y})}}return w.useEffect(()=>{const L=$=>{const Y=$.target;(C==null?void 0:C.contains(Y))&&k($,U)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[R,C,U,k]),w.useEffect(I,[r,I]),kh(C,F),kh(_.content,F),a.jsx(sue,{scope:n,scrollbar:C,hasThumb:s,onThumbChange:Da(i),onThumbPointerUp:Da(o),onThumbPositionChange:I,onThumbPointerDown:Da(u),children:a.jsx(_t.div,{...j,ref:A,style:{position:"absolute",...j.style},onPointerDown:ot(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),M.current=C.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),V(L))}),onPointerMove:ot(e.onPointerMove,V),onPointerUp:ot(e.onPointerUp,L=>{const $=L.target;$.hasPointerCapture(L.pointerId)&&$.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=D.current,_.viewport&&(_.viewport.style.scrollBehavior=""),M.current=null})})})}),Vv="ScrollAreaThumb",iF=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=aF(Vv,e.__scopeScrollArea);return a.jsx(gs,{present:n||s.hasThumb,children:a.jsx(iue,{ref:t,...r})})}),iue=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Hi(Vv,n),o=aF(Vv,n),{onThumbPositionChange:u}=o,m=Kt(t,x=>o.onThumbChange(x)),f=w.useRef(void 0),g=l1(()=>{f.current&&(f.current(),f.current=void 0)},100);return w.useEffect(()=>{const x=i.viewport;if(x){const j=()=>{if(g(),!f.current){const _=cue(x,u);f.current=_,u()}};return u(),x.addEventListener("scroll",j),()=>x.removeEventListener("scroll",j)}},[i.viewport,g,u]),a.jsx(_t.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ot(e.onPointerDownCapture,x=>{const _=x.target.getBoundingClientRect(),C=x.clientX-_.left,E=x.clientY-_.top;o.onThumbPointerDown({x:C,y:E})}),onPointerUp:ot(e.onPointerUp,o.onThumbPointerUp)})});iF.displayName=Vv;var DE="ScrollAreaCorner",oF=w.forwardRef((e,t)=>{const n=Hi(DE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(oue,{...e,ref:t}):null});oF.displayName=DE;var oue=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Hi(DE,n),[i,o]=w.useState(0),[u,m]=w.useState(0),f=!!(i&&u);return kh(s.scrollbarX,()=>{var x;const g=((x=s.scrollbarX)==null?void 0:x.offsetHeight)||0;s.onCornerHeightChange(g),m(g)}),kh(s.scrollbarY,()=>{var x;const g=((x=s.scrollbarY)==null?void 0:x.offsetWidth)||0;s.onCornerWidthChange(g),o(g)}),f?a.jsx(_t.div,{...r,ref:t,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function $v(e){return e?parseInt(e,10):0}function lF(e,t){const n=e/t;return isNaN(n)?0:n}function o1(e){const t=lF(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function lue(e,t,n,r="ltr"){const s=o1(n),i=s/2,o=t||i,u=s-o,m=n.scrollbar.paddingStart+o,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,g=n.content-n.viewport,x=r==="ltr"?[0,g]:[g*-1,0];return cF([m,f],x)(e)}function AP(e,t,n="ltr"){const r=o1(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,u=i-r,m=n==="ltr"?[0,o]:[o*-1,0],f=FS(e,m);return cF([0,o],[0,u])(f)}function cF(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function uF(e,t){return e>0&&e<t}var cue=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,u=n.top!==i.top;(o||u)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function l1(e,t){const n=Da(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function kh(e,t){const n=Da(t);ua(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var uue=J9,due=tF,fue=oF;function Xl({className:e,children:t,...n}){return a.jsxs(uue,{"data-slot":"scroll-area",className:yt("relative",e),...n,children:[a.jsx(due,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),a.jsx(hue,{}),a.jsx(fue,{})]})}function hue({className:e,orientation:t="vertical",...n}){return a.jsx(nF,{"data-slot":"scroll-area-scrollbar",orientation:t,className:yt("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:a.jsx(iF,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var c1="Popover",[dF,g4e]=Ts(c1,[um]),Xp=um(),[mue,Su]=dF(c1),fF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,u=Xp(t),m=w.useRef(null),[f,g]=w.useState(!1),[x,j]=Wl({prop:r,defaultProp:s??!1,onChange:i,caller:c1});return a.jsx(uE,{...u,children:a.jsx(mue,{scope:t,contentId:fo(),triggerRef:m,open:x,onOpenChange:j,onOpenToggle:w.useCallback(()=>j(_=>!_),[j]),hasCustomAnchor:f,onCustomAnchorAdd:w.useCallback(()=>g(!0),[]),onCustomAnchorRemove:w.useCallback(()=>g(!1),[]),modal:o,children:n})})};fF.displayName=c1;var hF="PopoverAnchor",gue=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Su(hF,n),i=Xp(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:u}=s;return w.useEffect(()=>(o(),()=>u()),[o,u]),a.jsx(Ky,{...i,...r,ref:t})});gue.displayName=hF;var mF="PopoverTrigger",gF=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Su(mF,n),i=Xp(n),o=Kt(t,s.triggerRef),u=a.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bF(s.open),...r,ref:o,onClick:ot(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:a.jsx(Ky,{asChild:!0,...i,children:u})});gF.displayName=mF;var PE="PopoverPortal",[pue,xue]=dF(PE,{forceMount:void 0}),pF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=Su(PE,t);return a.jsx(pue,{scope:t,forceMount:n,children:a.jsx(gs,{present:n||i.open,children:a.jsx(qp,{asChild:!0,container:s,children:r})})})};pF.displayName=PE;var Ih="PopoverContent",xF=w.forwardRef((e,t)=>{const n=xue(Ih,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=Su(Ih,e.__scopePopover);return a.jsx(gs,{present:r||i.open,children:i.modal?a.jsx(yue,{...s,ref:t}):a.jsx(bue,{...s,ref:t})})});xF.displayName=Ih;var vue=iu("PopoverContent.RemoveScroll"),yue=w.forwardRef((e,t)=>{const n=Su(Ih,e.__scopePopover),r=w.useRef(null),s=Kt(t,r),i=w.useRef(!1);return w.useEffect(()=>{const o=r.current;if(o)return Xy(o)},[]),a.jsx(Yp,{as:vue,allowPinchZoom:!0,children:a.jsx(vF,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(e.onCloseAutoFocus,o=>{var u;o.preventDefault(),i.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ot(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,f=u.button===2||m;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:ot(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),bue=w.forwardRef((e,t)=>{const n=Su(Ih,e.__scopePopover),r=w.useRef(!1),s=w.useRef(!1);return a.jsx(vF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,u;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),vF=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,...x}=e,j=Su(Ih,n),_=Xp(n);return qy(),a.jsx($p,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Vp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:g,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onDismiss:()=>j.onOpenChange(!1),children:a.jsx(dE,{"data-state":bF(j.open),role:"dialog",id:j.contentId,..._,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yF="PopoverClose",wue=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Su(yF,n);return a.jsx(_t.button,{type:"button",...r,ref:t,onClick:ot(e.onClick,()=>s.onOpenChange(!1))})});wue.displayName=yF;var jue="PopoverArrow",Nue=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Xp(n);return a.jsx(fE,{...s,...r,ref:t})});Nue.displayName=jue;function bF(e){return e?"open":"closed"}var Sue=fF,_ue=gF,Aue=pF,Eue=xF;function Cue({...e}){return a.jsx(Sue,{"data-slot":"popover",...e})}function Tue({...e}){return a.jsx(_ue,{"data-slot":"popover-trigger",...e})}function Oue({className:e,align:t="center",sideOffset:n=4,...r}){return a.jsx(Aue,{children:a.jsx(Eue,{"data-slot":"popover-content",align:t,sideOffset:n,className:yt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function cn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function go(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function wF(e,t){const n=cn(e);return isNaN(t)?go(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Mue(e,t){const n=cn(e);if(isNaN(t))return go(e,NaN);if(!t)return n;const r=n.getDate(),s=go(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const jF=6048e5,Due=864e5,NF=6e4,SF=36e5,qx=43200,EP=1440;let Pue={};function Qp(){return Pue}function xp(e,t){var u,m,f,g;const n=Qp(),r=(t==null?void 0:t.weekStartsOn)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,s=cn(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Hv(e){return xp(e,{weekStartsOn:1})}function _F(e){const t=cn(e),n=t.getFullYear(),r=go(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Hv(r),i=go(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Hv(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function qv(e){const t=cn(e);return t.setHours(0,0,0,0),t}function Yv(e){const t=cn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Rue(e,t){const n=qv(e),r=qv(t),s=+n-Yv(n),i=+r-Yv(r);return Math.round((s-i)/Due)}function kue(e){const t=_F(e),n=go(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Hv(n)}function wv(e,t){const n=cn(e),r=cn(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function AF(e){return go(e,Date.now())}function Iue(e,t){const n=qv(e),r=qv(t);return+n==+r}function Lue(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bue(e){if(!Lue(e)&&typeof e!="number")return!1;const t=cn(e);return!isNaN(Number(t))}function Fue(e,t){const n=cn(e),r=cn(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Uue(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function zue(e,t){return+cn(e)-+cn(t)}function Vue(e){const t=cn(e);return t.setHours(23,59,59,999),t}function u1(e){const t=cn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function $ue(e){const t=cn(e);return+Vue(t)==+u1(t)}function Hue(e,t){const n=cn(e),r=cn(t),s=wv(n,r),i=Math.abs(Fue(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let u=wv(n,r)===-s;$ue(cn(e))&&i===1&&wv(e,r)===1&&(u=!1),o=s*(i-Number(u))}return o===0?0:o}function que(e,t,n){const r=zue(e,t)/1e3;return Uue(n==null?void 0:n.roundingMethod)(r)}function Yue(e,t){const n=cn(e.start),r=cn(e.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let u=1;const m=[];for(;+o<=i;)m.push(cn(o)),o.setDate(o.getDate()+u),o.setHours(0,0,0,0);return s?m.reverse():m}function Wue(e,t){const n=cn(e.start),r=cn(e.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let u=1;const m=[];for(;+o<=i;)m.push(cn(o)),o.setMonth(o.getMonth()+u);return s?m.reverse():m}function RE(e){const t=cn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Gue(e){const t=cn(e),n=go(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Kue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xue=(e,t,n)=>{let r;const s=Kue[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Que={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ede={date:wh({formats:Que,defaultWidth:"full"}),time:wh({formats:Zue,defaultWidth:"full"}),dateTime:wh({formats:Jue,defaultWidth:"full"})},tde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nde=(e,t,n,r)=>tde[e];function zo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):o;s=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const rde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ade={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ide={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ode={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cde=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ude={ordinalNumber:cde,era:zo({values:rde,defaultWidth:"wide"}),quarter:zo({values:ade,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zo({values:sde,defaultWidth:"wide"}),day:zo({values:ide,defaultWidth:"wide"}),dayPeriod:zo({values:ode,defaultWidth:"wide",formattingValues:lde,defaultFormattingWidth:"wide"})};function Vo(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(u)?fde(u,x=>x.test(o)):dde(u,x=>x.test(o));let f;f=e.valueCallback?e.valueCallback(m):m,f=n.valueCallback?n.valueCallback(f):f;const g=t.slice(o.length);return{value:f,rest:g}}}function dde(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function fde(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function EF(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=t.slice(s.length);return{value:o,rest:u}}}const hde=/^(\d+)(th|st|nd|rd)?/i,mde=/\d+/i,gde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pde={any:[/^b/i,/^(a|c)/i]},xde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vde={any:[/1/i,/2/i,/3/i,/4/i]},yde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_de={ordinalNumber:EF({matchPattern:hde,parsePattern:mde,valueCallback:e=>parseInt(e,10)}),era:Vo({matchPatterns:gde,defaultMatchWidth:"wide",parsePatterns:pde,defaultParseWidth:"any"}),quarter:Vo({matchPatterns:xde,defaultMatchWidth:"wide",parsePatterns:vde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vo({matchPatterns:yde,defaultMatchWidth:"wide",parsePatterns:bde,defaultParseWidth:"any"}),day:Vo({matchPatterns:wde,defaultMatchWidth:"wide",parsePatterns:jde,defaultParseWidth:"any"}),dayPeriod:Vo({matchPatterns:Nde,defaultMatchWidth:"any",parsePatterns:Sde,defaultParseWidth:"any"})},CF={code:"en-US",formatDistance:Xue,formatLong:ede,formatRelative:nde,localize:ude,match:_de,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ade(e){const t=cn(e);return Rue(t,Gue(t))+1}function Ede(e){const t=cn(e),n=+Hv(t)-+kue(t);return Math.round(n/jF)+1}function TF(e,t){var g,x,j,_;const n=cn(e),r=n.getFullYear(),s=Qp(),i=(t==null?void 0:t.firstWeekContainsDate)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(j=s.locale)==null?void 0:j.options)==null?void 0:_.firstWeekContainsDate)??1,o=go(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const u=xp(o,t),m=go(e,0);m.setFullYear(r,0,i),m.setHours(0,0,0,0);const f=xp(m,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function Cde(e,t){var u,m,f,g;const n=Qp(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,s=TF(e,t),i=go(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),xp(i,t)}function Tde(e,t){const n=cn(e),r=+xp(n,t)-+Cde(n,t);return Math.round(r/jF)+1}function In(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Vc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return In(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):In(n+1,2)},d(e,t){return In(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return In(e.getHours()%12||12,t.length)},H(e,t){return In(e.getHours(),t.length)},m(e,t){return In(e.getMinutes(),t.length)},s(e,t){return In(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return In(s,t.length)}},eh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CP={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Vc.y(e,t)},Y:function(e,t,n,r){const s=TF(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return In(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):In(i,t.length)},R:function(e,t){const n=_F(e);return In(n,t.length)},u:function(e,t){const n=e.getFullYear();return In(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return In(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return In(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Vc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return In(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=Tde(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):In(s,t.length)},I:function(e,t,n){const r=Ede(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):In(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Vc.d(e,t)},D:function(e,t,n){const r=Ade(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):In(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return In(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return In(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return In(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=eh.noon:r===0?s=eh.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=eh.evening:r>=12?s=eh.afternoon:r>=4?s=eh.morning:s=eh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Vc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):In(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):In(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Vc.s(e,t)},S:function(e,t){return Vc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return OP(r);case"XXXX":case"XX":return ld(r);case"XXXXX":case"XXX":default:return ld(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return OP(r);case"xxxx":case"xx":return ld(r);case"xxxxx":case"xxx":default:return ld(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+TP(r,":");case"OOOO":default:return"GMT"+ld(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+TP(r,":");case"zzzz":default:return"GMT"+ld(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return In(r,t.length)},T:function(e,t,n){const r=e.getTime();return In(r,t.length)}};function TP(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+In(i,2)}function OP(e,t){return e%60===0?(e>0?"-":"+")+In(Math.abs(e)/60,2):ld(e,t)}function ld(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=In(Math.trunc(r/60),2),i=In(r%60,2);return n+s+t+i}const MP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},OF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ode=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return MP(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",MP(r,t)).replace("{{time}}",OF(s,t))},Mde={p:OF,P:Ode},Dde=/^D+$/,Pde=/^Y+$/,Rde=["D","DD","YY","YYYY"];function kde(e){return Dde.test(e)}function Ide(e){return Pde.test(e)}function Lde(e,t,n){const r=Bde(e,t,n);if(console.warn(r),Rde.includes(e))throw new RangeError(r)}function Bde(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ude=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zde=/^'([^]*?)'?$/,Vde=/''/g,$de=/[a-zA-Z]/;function fr(e,t,n){var g,x,j,_,C,E,A,M;const r=Qp(),s=(n==null?void 0:n.locale)??r.locale??CF,i=(n==null?void 0:n.firstWeekContainsDate)??((x=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(j=r.locale)==null?void 0:j.options)==null?void 0:_.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((E=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((M=(A=r.locale)==null?void 0:A.options)==null?void 0:M.weekStartsOn)??0,u=cn(e);if(!Bue(u))throw new RangeError("Invalid time value");let m=t.match(Ude).map(D=>{const R=D[0];if(R==="p"||R==="P"){const U=Mde[R];return U(D,s.formatLong)}return D}).join("").match(Fde).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const R=D[0];if(R==="'")return{isToken:!1,value:Hde(D)};if(CP[R])return{isToken:!0,value:D};if(R.match($de))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:D}});s.localize.preprocessor&&(m=s.localize.preprocessor(u,m));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return m.map(D=>{if(!D.isToken)return D.value;const R=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ide(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&kde(R))&&Lde(R,t,String(e));const U=CP[R[0]];return U(u,R,s.localize,f)}).join("")}function Hde(e){const t=e.match(zde);return t?t[1].replace(Vde,"'"):e}function qde(e,t,n){const r=Qp(),s=(n==null?void 0:n.locale)??r.locale??CF,i=2520,o=wv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let m,f;o>0?(m=cn(t),f=cn(e)):(m=cn(e),f=cn(t));const g=que(f,m),x=(Yv(f)-Yv(m))/1e3,j=Math.round((g-x)/60);let _;if(j<2)return n!=null&&n.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,u):g<10?s.formatDistance("lessThanXSeconds",10,u):g<20?s.formatDistance("lessThanXSeconds",20,u):g<40?s.formatDistance("halfAMinute",0,u):g<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):j===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",j,u);if(j<45)return s.formatDistance("xMinutes",j,u);if(j<90)return s.formatDistance("aboutXHours",1,u);if(j<EP){const C=Math.round(j/60);return s.formatDistance("aboutXHours",C,u)}else{if(j<i)return s.formatDistance("xDays",1,u);if(j<qx){const C=Math.round(j/EP);return s.formatDistance("xDays",C,u)}else if(j<qx*2)return _=Math.round(j/qx),s.formatDistance("aboutXMonths",_,u)}if(_=Hue(f,m),_<12){const C=Math.round(j/qx);return s.formatDistance("xMonths",C,u)}else{const C=_%12,E=Math.trunc(_/12);return C<3?s.formatDistance("aboutXYears",E,u):C<9?s.formatDistance("overXYears",E,u):s.formatDistance("almostXYears",E+1,u)}}function Lh(e,t){return qde(e,AF(e),t)}function Wv(e){return Iue(e,AF(e))}function $o(e,t){return wF(e,-t)}function ia(e,t){const r=Kde(e);let s;if(r.date){const m=Xde(r.date,2);s=Qde(m.restDateString,m.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,u;if(r.time&&(o=Zde(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(u=Jde(r.timezone),isNaN(u))return new Date(NaN)}else{const m=new Date(i+o),f=new Date(0);return f.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),f.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),f}return new Date(i+o+u)}const Yx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Yde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Wde=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Gde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Kde(e){const t={},n=e.split(Yx.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Yx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Yx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=Yx.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function Xde(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function Qde(e,t){if(t===null)return new Date(NaN);const n=e.match(Yde);if(!n)return new Date(NaN);const r=!!n[4],s=Ng(n[1]),i=Ng(n[2])-1,o=Ng(n[3]),u=Ng(n[4]),m=Ng(n[5])-1;if(r)return afe(t,u,m)?efe(t,u,m):new Date(NaN);{const f=new Date(0);return!nfe(t,i,o)||!rfe(t,s)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(s,o)),f)}}function Ng(e){return e?parseInt(e):1}function Zde(e){const t=e.match(Wde);if(!t)return NaN;const n=U2(t[1]),r=U2(t[2]),s=U2(t[3]);return sfe(n,r,s)?n*SF+r*NF+s*1e3:NaN}function U2(e){return e&&parseFloat(e.replace(",","."))||0}function Jde(e){if(e==="Z")return 0;const t=e.match(Gde);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return ife(r,s)?n*(r*SF+s*NF):NaN}function efe(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const tfe=[31,null,31,30,31,30,31,31,30,31,30,31];function MF(e){return e%400===0||e%4===0&&e%100!==0}function nfe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(tfe[t]||(MF(e)?29:28))}function rfe(e,t){return t>=1&&t<=(MF(e)?366:365)}function afe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function sfe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function ife(e,t){return t>=0&&t<=59}function z2(e,t){return Mue(e,-t)}const ofe=()=>{const{notifications:e,unreadCount:t,markAsRead:n,markAllAsRead:r,deleteNotification:s}=nA(),{language:i}=Ft(),o=xo(),[u,m]=w.useState(!1),f=e.slice(0,10),g=A=>{switch(A){case"success":return"";case"warning":return"";case"error":return"";case"ticket":return"";case"payment":return"";case"refund":return"";case"event":return"";case"system":return"";default:return""}},x=A=>{if(A.priority==="urgent")return"text-red-600 bg-red-50 border-red-200";if(A.priority==="high")return"text-orange-600 bg-orange-50 border-orange-200";switch(A.type){case"success":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"error":return"text-red-600 bg-red-50 border-red-200";default:return"text-blue-600 bg-blue-50 border-blue-200"}},j=A=>{A.is_read||n(A.id),A.action_url&&(o(A.action_url),m(!1))},_=()=>{r()},E={en:{notifications:"Notifications",markAllRead:"Mark all as read",noNotifications:"No notifications",noNotificationsDesc:"You're all caught up!",viewAll:"View all notifications",delete:"Delete",just_now:"just now"},ar:{notifications:"",markAllRead:"  ",noNotifications:"  ",noNotificationsDesc:"  !",viewAll:"  ",delete:"",just_now:""}}[i];return a.jsxs(Cue,{open:u,onOpenChange:m,children:[a.jsx(Tue,{asChild:!0,children:a.jsxs(be,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-800",children:[a.jsx(Oh,{className:"h-5 w-5"}),a.jsx(Ch,{children:t>0&&a.jsx(He.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1",children:a.jsx(Je,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs",children:t>99?"99+":t})})})]})}),a.jsx(Oue,{className:"w-80 p-0 shadow-lg border",align:"end",sideOffset:5,children:a.jsxs(fe,{className:"border-0 shadow-none",children:[a.jsx(Te,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg font-semibold",children:E.notifications}),t>0&&a.jsx(be,{variant:"ghost",size:"sm",onClick:_,className:"text-xs text-muted-foreground hover:text-foreground",children:E.markAllRead})]})}),a.jsxs(he,{className:"p-0",children:[f.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(Oh,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"font-semibold text-muted-foreground",children:E.noNotifications}),a.jsx("p",{className:"text-sm text-muted-foreground",children:E.noNotificationsDesc})]}):a.jsx(Xl,{className:"h-80",children:a.jsx("div",{className:"space-y-1",children:f.map((A,M)=>a.jsxs("div",{children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},className:`p-3 cursor-pointer transition-colors border-l-4 ${A.is_read?"border-l-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800":x(A)}`,onClick:()=>j(A),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-lg flex-shrink-0 mt-0.5",children:g(A.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("h4",{className:`text-sm font-medium leading-tight ${A.is_read?"text-muted-foreground":"text-foreground"}`,children:A.title}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[A.action_url&&a.jsx(Mv,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 hover:text-red-600",onClick:D=>{D.stopPropagation(),s(A.id)},children:a.jsx(cp,{className:"h-3 w-3"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:A.message}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:Lh(new Date(A.created_at),{addSuffix:!0}).replace("about ","")}),!A.is_read&&a.jsx(Je,{variant:"secondary",className:"h-5 px-2 text-xs",children:"New"})]})]})]})}),M<f.length-1&&a.jsx(hi,{className:"mx-3"})]},A.id))})}),f.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(hi,{}),a.jsx("div",{className:"p-3",children:a.jsx(be,{variant:"ghost",className:"w-full text-sm",onClick:()=>{o("/notifications"),m(!1)},children:E.viewAll})})]})]})]})})]})},lfe=[{label:"nav.dashboard",href:"",icon:sre,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.wallet",href:"wallet",icon:Yl,roles:["passenger","driver","merchant","event_admin"]},{label:"nav.scanner",href:"scanner",icon:ir,roles:["passenger"]},{label:"nav.transactions",href:"transactions",icon:Dh,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.events",href:"events",icon:ka,roles:["passenger","event_admin"]},{label:"nav.tickets",href:"tickets",icon:ja,roles:["passenger"]},{label:"nav.gifts",href:"gifts",icon:Ho,roles:["passenger","driver","merchant"]},{label:"nav.earnings",href:"earnings",icon:qn,roles:["driver"]},{label:"nav.trips",href:"trips",icon:ls,roles:["driver"]},{label:"nav.verification",href:"verification",icon:cs,roles:["driver"]},{label:"nav.qrcode",href:"qr-generator",icon:ir,roles:["driver","merchant"]},{label:"nav.business",href:"business",icon:cu,roles:["merchant"]},{label:"nav.management",href:"management",icon:ka,roles:["event_admin"]},{label:"nav.promotions",href:"promotions",icon:DS,roles:["event_admin"]},{label:"nav.withdrawal",href:"withdrawal",icon:ba,roles:["merchant","event_admin"]},{label:"nav.analytics",href:"analytics",icon:Fp,roles:["admin"]},{label:"nav.users",href:"users",icon:wa,roles:["admin"]},{label:"nav.disputes",href:"disputes",icon:cs,roles:["admin"]},{label:"nav.verificationReview",href:"verification-review",icon:cs,roles:["admin"]},{label:"nav.notifications",href:"notifications",icon:Oh,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.chat",href:"chat",icon:Ph,roles:["passenger","driver","merchant","event_admin"]},{label:"nav.chatManagement",href:"chat-management",icon:Ph,roles:["admin"]},{label:"nav.broadcast",href:"broadcast",icon:DS,roles:["admin"]}];function Zp({children:e,userType:t}){var A;const[n,r]=w.useState(!1),{profile:s,signOut:i}=Ht(),{t:o,language:u,setLanguage:m,isRTL:f}=Ft(),g=al(),x=xo(),j=lfe.filter(M=>M.roles.includes(t)),_=async()=>{await i(),x("/login")},C=M=>{switch(M){case"passenger":return"bg-blue-500";case"driver":return"bg-green-500";case"merchant":return"bg-purple-500";case"event_admin":return"bg-orange-500";case"admin":return"bg-red-500";default:return"bg-gray-500"}},E=()=>{var M;return a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsxs("div",{className:"flex h-16 items-center gap-2 border-b px-6",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(ja,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-xl font-bold text-primary",children:o("app.name")})]}),a.jsx("div",{className:"border-b p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(fp,{className:"h-10 w-10",children:[a.jsx(hp,{src:s==null?void 0:s.avatar_url,alt:s==null?void 0:s.full_name}),a.jsx(mp,{children:(M=s==null?void 0:s.full_name)==null?void 0:M.split(" ").map(D=>D[0]).join("").toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:s==null?void 0:s.full_name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{variant:"secondary",className:`text-xs text-white ${C(t)}`,children:o(`auth.${t}`)}),(s==null?void 0:s.is_verified)&&a.jsx(xh,{className:"h-3 w-3 text-yellow-500"})]})]})]})}),a.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:j.map(D=>{const R=g.pathname===`/${t}/${D.href}`||D.href===""&&g.pathname===`/${t}`;return a.jsxs($t,{to:`/${t}/${D.href}`,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${R?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>r(!1),children:[a.jsx(D.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"flex-1",children:o(D.label)}),D.badge&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:D.badge}),a.jsx(Cne,{className:"h-4 w-4"})]},D.href)})}),a.jsx(hi,{}),a.jsxs("div",{className:"space-y-1 p-3",children:[a.jsxs($t,{to:`/${t}/profile`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[a.jsx(uu,{className:"h-5 w-5"}),a.jsx("span",{children:o("nav.profile")})]}),a.jsxs($t,{to:`/${t}/settings`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[a.jsx(lu,{className:"h-5 w-5"}),a.jsx("span",{children:o("nav.settings")})]})]})]})};return a.jsxs("div",{className:`flex h-screen bg-background ${f?"rtl":"ltr"}`,children:[a.jsx("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 lg:border-r",children:a.jsx(E,{})}),a.jsxs(Wce,{open:n,onOpenChange:r,children:[a.jsx(Gce,{asChild:!0,className:"lg:hidden",children:a.jsx(be,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50",children:a.jsx(GD,{className:"h-5 w-5"})})}),a.jsx(Qce,{side:f?"right":"left",className:"w-72 p-0",children:a.jsx(E,{})})]}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[a.jsxs("header",{className:"flex h-16 items-center justify-between border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 lg:px-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(be,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>r(!0),children:a.jsx(GD,{className:"h-5 w-5"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>m(u==="en"?"ar":"en"),children:[a.jsx(GA,{className:"h-4 w-4 mr-2"}),u==="en"?"":"English"]}),a.jsx(Zce,{}),a.jsx(ofe,{}),a.jsxs(O9,{children:[a.jsx(M9,{asChild:!0,children:a.jsx(be,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:a.jsxs(fp,{className:"h-8 w-8",children:[a.jsx(hp,{src:s==null?void 0:s.avatar_url,alt:s==null?void 0:s.full_name}),a.jsx(mp,{children:(A=s==null?void 0:s.full_name)==null?void 0:A.split(" ").map(M=>M[0]).join("").toUpperCase()})]})})}),a.jsxs(D9,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(Ice,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium",children:s==null?void 0:s.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:s==null?void 0:s.email})]})}),a.jsx(_P,{}),a.jsx(bh,{asChild:!0,children:a.jsxs($t,{to:`/${t}/profile`,children:[a.jsx(uu,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("nav.profile")})]})}),a.jsx(bh,{asChild:!0,children:a.jsxs($t,{to:`/${t}/settings`,children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("nav.settings")})]})}),a.jsx(_P,{}),a.jsxs(bh,{onClick:_,children:[a.jsx(ure,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("auth.logout")})]})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx(Ch,{mode:"wait",children:a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:e},g.pathname)})})]})]})}function cfe(){var U;const[e,t]=w.useState(null),[n,r]=w.useState([]),[s,i]=w.useState([]),[o,u]=w.useState([]),[m,f]=w.useState(!0),[g,x]=w.useState(!0),{profile:j}=Ht(),{t:_,isRTL:C}=Ft();w.useEffect(()=>{j&&E()},[j]);const E=async()=>{try{const{data:k}=await ze.from("wallets").select("*").eq("user_id",j==null?void 0:j.id).single();k&&t(k);const{data:I}=await ze.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${j==null?void 0:j.id},to_user_id.eq.${j==null?void 0:j.id}`).order("created_at",{ascending:!1}).limit(5);if(I){const L=I.map($=>{var Y,q;return{...$,from_user_name:(Y=$.from_profile)==null?void 0:Y.full_name,to_user_name:(q=$.to_profile)==null?void 0:q.full_name}});r(L)}const{data:F}=await ze.from("events").select("*").eq("is_active",!0).gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0}).limit(3);F&&i(F);const{data:V}=await ze.from("user_tickets").select("*").eq("user_id",j==null?void 0:j.id).eq("status","active").order("purchased_at",{ascending:!1}).limit(3);V&&u(V)}catch(k){console.error("Error fetching dashboard data:",k)}finally{x(!1)}},A=k=>new Intl.NumberFormat(C?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(k),M=k=>new Date(k).toLocaleDateString(C?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=(k,I)=>k==="recharge"?a.jsx(_s,{className:"h-4 w-4 text-green-600"}):I?a.jsx(ql,{className:"h-4 w-4 text-red-600"}):a.jsx(qn,{className:"h-4 w-4 text-green-600"}),R=()=>a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx($t,{to:"/passenger/scanner",children:a.jsx(fe,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:a.jsxs(he,{className:"flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"rounded-full bg-primary/10 p-3 mb-3",children:a.jsx(ir,{className:"h-6 w-6 text-primary"})}),a.jsx("h3",{className:"font-medium text-center",children:_("scanner.title")}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Pay with QR code"})]})})}),a.jsx($t,{to:"/passenger/wallet",children:a.jsx(fe,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:a.jsxs(he,{className:"flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"rounded-full bg-green-500/10 p-3 mb-3",children:a.jsx(_s,{className:"h-6 w-6 text-green-600"})}),a.jsx("h3",{className:"font-medium text-center",children:_("wallet.recharge")}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Add money to wallet"})]})})})]});return g?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:_("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold",children:[_("app.welcome"),", ",(U=j==null?void 0:j.full_name)==null?void 0:U.split(" ")[0],"!"]}),a.jsx("p",{className:"text-muted-foreground",children:new Date().toLocaleDateString(C?"ar-SY":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),a.jsx(Je,{variant:"outline",className:"hidden sm:flex",children:_("auth.passenger")})]})}),a.jsx(He.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.1},whileHover:{scale:1.02},className:"cursor-pointer",children:a.jsx($t,{to:"/passenger/wallet",children:a.jsx(fe,{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white border-0 shadow-xl overflow-hidden relative group",children:a.jsxs(he,{className:"p-4 relative z-10",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10 group-hover:opacity-20 transition-opacity duration-300",children:[a.jsx(He.div,{className:"absolute top-0 right-0 w-16 h-16 bg-white rounded-full",animate:{x:[8,12,8],y:[-8,-12,-8]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),a.jsx(He.div,{className:"absolute bottom-0 left-0 w-12 h-12 bg-white rounded-full",animate:{x:[-6,-10,-6],y:[6,10,6]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:.5}})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(He.div,{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",whileHover:{rotate:360},transition:{duration:.5},children:a.jsx(Yl,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm opacity-90",children:_("wallet.title")}),a.jsx(He.p,{className:"text-lg font-bold",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:m?A((e==null?void 0:e.balance)||0):""})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx(be,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-lg h-8 w-8 p-0",onClick:k=>{k.preventDefault(),f(!m)},children:m?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})}),(e==null?void 0:e.is_frozen)&&a.jsx(Je,{variant:"destructive",className:"text-xs px-2 py-0",children:"Frozen"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-white/20",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs opacity-75",children:[a.jsx(qn,{className:"h-3 w-3"}),a.jsx("span",{children:"Tap to manage"})]}),a.jsx(gd,{className:"h-4 w-4 opacity-75"})]})]})})})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx(R,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:_("transactions.recent")}),a.jsx($t,{to:"/passenger/transactions",children:a.jsxs(be,{variant:"ghost",size:"sm",children:["View All",a.jsx(gd,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(he,{className:"space-y-4",children:n.length>0?n.map(k=>{const I=k.from_user_id===(j==null?void 0:j.id),F=I?k.to_user_name:k.from_user_name;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[D(k.transaction_type,I),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:k.description||`${I?"Payment to":"Payment from"} ${F}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M(k.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium text-sm ${I?"text-red-600":"text-green-600"}`,children:[I?"-":"+",A(k.amount)]}),a.jsx(Je,{variant:k.status==="completed"?"default":"secondary",className:"text-xs",children:k.status})]})]},k.id)}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ba,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No transactions yet"})]})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:_("events.upcoming")}),a.jsx($t,{to:"/passenger/events",children:a.jsxs(be,{variant:"ghost",size:"sm",children:["View All",a.jsx(gd,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(he,{className:"space-y-4",children:s.length>0?s.map(k=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:a.jsx(ka,{className:"h-6 w-6 text-primary"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:k.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3"}),a.jsx("span",{children:M(k.start_date)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(Zo,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:k.location})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-sm",children:A(k.price||0)}),a.jsx($t,{to:"/passenger/events",children:a.jsx(be,{size:"sm",variant:"outline",className:"mt-1",children:"Buy"})})]})]},k.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ka,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No upcoming events"})]})})]})})]}),o.length>0&&a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:_("nav.tickets")}),a.jsx($t,{to:"/passenger/tickets",children:a.jsxs(be,{variant:"ghost",size:"sm",children:["View All",a.jsx(gd,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(k=>{var I;return a.jsxs("div",{className:"p-4 rounded-lg border bg-gradient-to-br from-blue-50 to-purple-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ja,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"text-sm font-medium",children:["#",k.ticket_number.slice(-6)]})]}),a.jsx("h4",{className:"font-medium text-sm mb-1",children:(I=k.event_details_snapshot)==null?void 0:I.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M(k.purchased_at)}),a.jsx(Je,{variant:"secondary",className:"mt-2 text-xs",children:k.status})]},k.id)})})})]})})]})}function pr({...e}){return a.jsx(_E,{"data-slot":"dialog",...e})}function mi({...e}){return a.jsx(AE,{"data-slot":"dialog-trigger",...e})}function ufe({...e}){return a.jsx(EE,{"data-slot":"dialog-portal",...e})}function dfe({className:e,...t}){return a.jsx(CE,{"data-slot":"dialog-overlay",className:yt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function xr({className:e,children:t,...n}){return a.jsxs(ufe,{"data-slot":"dialog-portal",children:[a.jsx(dfe,{}),a.jsxs(TE,{"data-slot":"dialog-content",className:yt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,a.jsxs(i1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Hd,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function vr({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:yt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function DF({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:yt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function yr({className:e,...t}){return a.jsx(X9,{"data-slot":"dialog-title",className:yt("text-lg leading-none font-semibold",e),...t})}function Qr({className:e,...t}){return a.jsx(Q9,{"data-slot":"dialog-description",className:yt("text-muted-foreground text-sm",e),...t})}function ffe({onCodeApplied:e,transactionAmount:t=0,showAsDialog:n=!1}){const[r,s]=w.useState(""),[i,o]=w.useState(!1),[u,m]=w.useState(!1),[f,g]=w.useState(null),{profile:x}=Ht(),{t:j,language:_}=Ft(),C=async()=>{if(!r.trim()){Se.error("Please enter a promotion code");return}try{o(!0);const{data:D,error:R}=await ze.rpc("apply_promotion_code",{p_code:r.trim().toUpperCase(),p_user_id:x==null?void 0:x.id,p_transaction_amount:t});if(R)throw R;const U=D[0];if(U.success){const k=U.discount_amount;g({id:U.promotion_id,code:r.trim().toUpperCase(),discount:k}),Se.success(U.message),e&&e(k,U.promotion_id),n&&m(!1)}else Se.error(U.message)}catch(D){console.error("Error applying promotion code:",D),Se.error("Failed to apply promotion code")}finally{o(!1)}},E=()=>{g(null),s(""),e&&e(0,"")},A=D=>new Intl.NumberFormat(_==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(D),M=()=>a.jsx("div",{className:"space-y-4",children:f?a.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg p-4 bg-green-50 border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500 text-white rounded-lg",children:a.jsx(Mh,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-green-800",children:"Code Applied Successfully!"}),a.jsxs("p",{className:"text-sm text-green-600",children:["Code: ",a.jsx("span",{className:"font-mono font-bold",children:f.code})]}),a.jsxs("p",{className:"text-sm text-green-600",children:["Discount: ",a.jsx("span",{className:"font-bold",children:A(f.discount)})]})]})]}),a.jsx(be,{variant:"ghost",size:"sm",onClick:E,className:"text-green-600 hover:text-green-800",children:a.jsx(Hd,{className:"h-4 w-4"})})]})}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"promotion-code",children:"Promotion Code"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ut,{id:"promotion-code",placeholder:"Enter promotion code",value:r,onChange:D=>s(D.target.value.toUpperCase()),className:"flex-1",disabled:i}),a.jsx(be,{onClick:C,disabled:!r.trim()||i,className:"shrink-0",children:i?a.jsx(Vs,{className:"h-4 w-4 animate-spin"}):"Apply"})]})]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsx("p",{children:" Codes are case-insensitive and will be automatically converted to uppercase"}),a.jsx("p",{children:" Each code can only be used once per user"}),a.jsx("p",{children:" Check your notifications for available promotion codes"})]})]})});return n?a.jsxs(pr,{open:u,onOpenChange:m,children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{variant:"outline",className:"gap-2",children:[a.jsx(Ho,{className:"h-4 w-4"}),"Apply Promotion Code"]})}),a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:"Apply Promotion Code"}),a.jsx(Qr,{children:"Enter a promotion code to get discounts or bonuses"})]}),a.jsx(M,{})]})]}):a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Ho,{className:"h-5 w-5"}),"Promotion Code"]}),a.jsx(st,{children:"Have a promotion code? Apply it here to get discounts or bonuses"})]}),a.jsx(he,{children:a.jsx(M,{})})]})}const Wx=[{id:"mtn_cash",name:"MTN Cash",icon:Xg,description:"Pay using MTN Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"syriatel_cash",name:"Syriatel Cash",icon:Xg,description:"Pay using Syriatel Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"sham_cash",name:"ShamCash",icon:Xg,description:"Pay using ShamCash mobile wallet",minAmount:1e3,maxAmount:3e5,fees:0,available:!0},{id:"fatora",name:"Fatora",icon:ba,description:"Pay using Fatora payment gateway",minAmount:500,maxAmount:1e6,fees:25,available:!0},{id:"stripe",name:"Credit Card",icon:ba,description:"International credit/debit cards via Stripe",minAmount:1e3,maxAmount:2e6,fees:50,available:!1}];function hfe(){const[e,t]=w.useState(null),[n,r]=w.useState([]),[s,i]=w.useState(!1),[o,u]=w.useState(""),[m,f]=w.useState(""),[g,x]=w.useState(!0),[j,_]=w.useState(!0),[C,E]=w.useState(!1),{profile:A}=Ht(),{t:M,isRTL:D}=Ft();w.useEffect(()=>{A&&(R(),U())},[A]);const R=async()=>{try{const{data:$,error:Y}=await ze.from("wallets").select("*").eq("user_id",A==null?void 0:A.id).single();if(Y)throw Y;t($)}catch($){console.error("Error fetching wallet data:",$),Se.error("Failed to load wallet data")}finally{_(!1)}},U=async()=>{try{const{data:$,error:Y}=await ze.from("transactions").select("*").or(`from_user_id.eq.${A==null?void 0:A.id},to_user_id.eq.${A==null?void 0:A.id}`).in("transaction_type",["recharge","withdrawal"]).order("created_at",{ascending:!1}).limit(10);if(Y)throw Y;r($||[])}catch($){console.error("Error fetching transactions:",$)}},k=async()=>{if(!o||!m)return;const $=parseFloat(m),Y=Wx.find(q=>q.id===o);if(Y){if($<Y.minAmount||$>Y.maxAmount){Se.error(`Amount must be between ${I(Y.minAmount)} and ${I(Y.maxAmount)}`);return}E(!0);try{await new Promise(Q=>setTimeout(Q,2e3));const{data:q,error:X}=await ze.rpc("handle_recharge",{p_user_id:A==null?void 0:A.id,p_amount:$,p_provider_type:Y.name});if(X)throw X;if(q&&q.length>0){const Q=q[0];Q.error_message?Se.error(Q.error_message):(Se.success(M("wallet.rechargeSuccess")),i(!1),f(""),u(""),R(),U())}}catch(q){console.error("Error processing recharge:",q),Se.error("Failed to process recharge")}finally{E(!1)}}},I=$=>new Intl.NumberFormat(D?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format($),F=$=>new Date($).toLocaleDateString(D?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=($,Y)=>Y==="pending"?a.jsx(Hn,{className:"h-4 w-4 text-yellow-500"}):Y==="failed"?a.jsx(Hd,{className:"h-4 w-4 text-red-500"}):$==="recharge"?a.jsx(qn,{className:"h-4 w-4 text-green-500"}):a.jsx(ql,{className:"h-4 w-4 text-red-500"}),L=$=>{switch($){case"completed":return a.jsx(Je,{className:"bg-green-500 text-white",children:M("transactions.completed")});case"pending":return a.jsx(Je,{variant:"secondary",children:M("transactions.pending")});case"failed":return a.jsx(Je,{variant:"destructive",children:M("transactions.failed")});default:return a.jsx(Je,{variant:"outline",children:$})}};return j?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:M("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:M("wallet.title")}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your digital wallet and transactions"})]}),a.jsxs(pr,{open:s,onOpenChange:i,children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{className:"gap-2",children:[a.jsx(_s,{className:"h-4 w-4"}),M("wallet.recharge")]})}),a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:M("wallet.recharge")}),a.jsx(Qr,{children:"Add money to your wallet using various payment methods"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"amount",children:M("wallet.rechargeAmount")}),a.jsx(ut,{id:"amount",type:"number",placeholder:"Enter amount",value:m,onChange:$=>f($.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:M("wallet.paymentMethod")}),a.jsxs(kt,{value:o,onValueChange:u,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Select payment method"})}),a.jsx(Lt,{children:Wx.map($=>a.jsx(Ee,{value:$.id,disabled:!$.available,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($.icon,{className:"h-4 w-4"}),a.jsx("span",{children:$.name}),!$.available&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:"Soon"})]})},$.id))})]})]}),o&&a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:(()=>{const $=Wx.find(Y=>Y.id===o);return $?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:$.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:$.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Min: ",I($.minAmount)]}),a.jsxs("span",{children:["Max: ",I($.maxAmount)]})]}),$.fees>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Processing fee: ",I($.fees)]})]}):null})()})}),a.jsx(be,{onClick:k,disabled:!o||!m||C,className:"w-full",children:C?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_s,{className:"mr-2 h-4 w-4"}),"Recharge ",m&&I(parseFloat(m))]})})]})]})]})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx("div",{className:"relative overflow-hidden",children:a.jsxs(fe,{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 text-white border-0 shadow-2xl",children:[a.jsxs(he,{className:"p-8 relative z-10",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-white to-purple-200 rounded-full transform translate-x-20 -translate-y-20"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-br from-white to-blue-200 rounded-full transform -translate-x-16 translate-y-16"}),a.jsx("div",{className:"absolute top-1/3 left-2/3 w-20 h-20 bg-gradient-to-br from-white to-pink-200 rounded-full transform -translate-x-10 -translate-y-10"}),a.jsx("div",{className:"absolute bottom-1/3 right-2/3 w-16 h-16 bg-gradient-to-br from-white to-indigo-200 rounded-full opacity-60"})]}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-white/20 rounded-full animate-pulse"}),a.jsx("div",{className:"absolute top-12 right-16 w-2 h-2 bg-white/30 rounded-full animate-pulse delay-300"}),a.jsx("div",{className:"absolute bottom-8 left-8 w-2 h-2 bg-white/25 rounded-full animate-pulse delay-700"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(Yl,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:M("wallet.balance")}),a.jsx("p",{className:"text-sm opacity-75",children:"Main Wallet"})]})]}),a.jsx(be,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-xl transition-all duration-200",onClick:()=>x(!g),children:g?a.jsx(hs,{className:"h-5 w-5"}):a.jsx(Gn,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He.p,{className:"text-5xl font-bold tracking-tight",initial:{scale:.9},animate:{scale:1},transition:{duration:.3},children:g?I((e==null?void 0:e.balance)||0):""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm opacity-75",children:(e==null?void 0:e.currency)||"SYP"}),a.jsx("div",{className:"h-1 w-1 bg-white/50 rounded-full"}),a.jsx("span",{className:"text-sm opacity-75",children:"Syrian Pound"})]})]}),(e==null?void 0:e.is_frozen)&&a.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cs,{className:"h-4 w-4 text-red-400"}),a.jsx("span",{className:"text-sm text-red-200",children:"Your wallet is currently frozen. Contact support for assistance."})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full bg-green-400 animate-pulse"}),a.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),a.jsxs("span",{className:"text-xs opacity-75",children:["Updated ",F((e==null?void 0:e.updated_at)||"")]})]})]})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/30 via-purple-600/20 to-pink-600/30 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-blue-600/10 via-transparent to-purple-600/10 animate-pulse delay-1000"})]})})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(He.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(fe,{className:"cursor-pointer hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-green-50 via-emerald-50 to-green-50 border-green-200 hover:border-green-300 group",onClick:()=>i(!0),children:a.jsxs(he,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl w-fit mx-auto group-hover:scale-110 transition-transform duration-300 shadow-lg",children:a.jsx(_s,{className:"h-8 w-8"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-bold text-lg text-green-700",children:M("wallet.addMoney")}),a.jsx("p",{className:"text-sm text-green-600",children:M("wallet.topUpDescription")})]})]})})}),a.jsx(He.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(fe,{className:"cursor-pointer hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-50 border-blue-200 hover:border-blue-300 group",children:a.jsxs(he,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-2xl w-fit mx-auto group-hover:scale-110 transition-transform duration-300 shadow-lg",children:a.jsx(Dh,{className:"h-8 w-8"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-bold text-lg text-blue-700",children:M("wallet.transactionHistory")}),a.jsx("p",{className:"text-sm text-blue-600",children:M("wallet.viewAllTransactions")})]})]})})}),a.jsx(He.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(fe,{className:"cursor-pointer hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 border-purple-200 hover:border-purple-300 group",children:a.jsxs(he,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-2xl w-fit mx-auto group-hover:scale-110 transition-transform duration-300 shadow-lg",children:a.jsx(ba,{className:"h-8 w-8"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-bold text-lg text-purple-700",children:M("wallet.giftCards")}),a.jsx("p",{className:"text-sm text-purple-600",children:M("wallet.sendReceiveGifts")})]})]})})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(fe,{className:"bg-gradient-to-br from-indigo-50 to-blue-50 border-indigo-200",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-indigo-600",children:M("wallet.totalSpent")}),a.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:I(n.filter($=>$.transaction_type==="payment").reduce(($,Y)=>$+Y.amount,0))})]}),a.jsx("div",{className:"p-3 bg-indigo-500 text-white rounded-xl",children:a.jsx(ql,{className:"h-6 w-6"})})]})})}),a.jsx(fe,{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-emerald-200",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-emerald-600",children:M("wallet.totalRecharged")}),a.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:I(n.filter($=>$.transaction_type==="recharge").reduce(($,Y)=>$+Y.amount,0))})]}),a.jsx("div",{className:"p-3 bg-emerald-500 text-white rounded-xl",children:a.jsx(qn,{className:"h-6 w-6"})})]})})}),a.jsx(fe,{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-amber-600",children:M("wallet.totalTransactions")}),a.jsx("p",{className:"text-2xl font-bold text-amber-700",children:n.length})]}),a.jsx("div",{className:"p-3 bg-amber-500 text-white rounded-xl",children:a.jsx(Yl,{className:"h-6 w-6"})})]})})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Dh,{className:"h-5 w-5"}),M("transactions.recent")]}),a.jsx(st,{children:"Recent wallet recharges and withdrawals"})]}),a.jsx(he,{children:n.length>0?a.jsx("div",{className:"space-y-4",children:n.map($=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[V($.transaction_type,$.status),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:$.description||`${$.transaction_type} transaction`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:F($.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium text-sm ${$.transaction_type==="recharge"?"text-green-600":"text-red-600"}`,children:[$.transaction_type==="recharge"?"+":"-",I($.amount)]}),L($.status)]})]},$.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ba,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No wallet transactions yet"}),a.jsx("p",{className:"text-sm",children:"Recharge your wallet to get started"})]})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsx(ffe,{})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Available Payment Methods"}),a.jsx(st,{children:"Various ways to add money to your wallet"})]}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Wx.map($=>a.jsx(fe,{className:$.available?"":"opacity-50",children:a.jsxs(he,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx($.icon,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"font-medium",children:$.name}),!$.available&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:"Soon"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:$.description}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("p",{children:["Min: ",I($.minAmount)]}),a.jsxs("p",{children:["Max: ",I($.maxAmount)]}),$.fees>0&&a.jsxs("p",{children:["Fee: ",I($.fees)]})]})]})},$.id))})})]})})]})}var d1="Tabs",[mfe,p4e]=Ts(d1,[t1]),PF=t1(),[gfe,kE]=mfe(d1),RF=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:u,activationMode:m="automatic",...f}=e,g=zp(u),[x,j]=Wl({prop:r,onChange:s,defaultProp:i??"",caller:d1});return a.jsx(gfe,{scope:n,baseId:fo(),value:x,onValueChange:j,orientation:o,dir:g,activationMode:m,children:a.jsx(_t.div,{dir:g,"data-orientation":o,...f,ref:t})})});RF.displayName=d1;var kF="TabsList",IF=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=kE(kF,n),o=PF(n);return a.jsx(KB,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(_t.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});IF.displayName=kF;var LF="TabsTrigger",BF=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=kE(LF,n),u=PF(n),m=zF(o.baseId,r),f=VF(o.baseId,r),g=r===o.value;return a.jsx(XB,{asChild:!0,...u,focusable:!s,active:g,children:a.jsx(_t.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:m,...i,ref:t,onMouseDown:ot(e.onMouseDown,x=>{!s&&x.button===0&&x.ctrlKey===!1?o.onValueChange(r):x.preventDefault()}),onKeyDown:ot(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&o.onValueChange(r)}),onFocus:ot(e.onFocus,()=>{const x=o.activationMode!=="manual";!g&&!s&&x&&o.onValueChange(r)})})})});BF.displayName=LF;var FF="TabsContent",UF=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,u=kE(FF,n),m=zF(u.baseId,r),f=VF(u.baseId,r),g=r===u.value,x=w.useRef(g);return w.useEffect(()=>{const j=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(j)},[]),a.jsx(gs,{present:s||g,children:({present:j})=>a.jsx(_t.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!j,id:f,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:j&&i})})});UF.displayName=FF;function zF(e,t){return`${e}-trigger-${t}`}function VF(e,t){return`${e}-content-${t}`}var pfe=RF,$F=IF,HF=BF,qF=UF;const xi=pfe,Hs=w.forwardRef(({className:e,...t},n)=>a.jsx($F,{ref:n,className:yt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hs.displayName=$F.displayName;const Et=w.forwardRef(({className:e,...t},n)=>a.jsx(HF,{ref:n,className:yt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Et.displayName=HF.displayName;const Ot=w.forwardRef(({className:e,...t},n)=>a.jsx(qF,{ref:n,className:yt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ot.displayName=qF.displayName;var ft;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ft||(ft={}));var DP=new Map([[ft.QR_CODE,"QR_CODE"],[ft.AZTEC,"AZTEC"],[ft.CODABAR,"CODABAR"],[ft.CODE_39,"CODE_39"],[ft.CODE_93,"CODE_93"],[ft.CODE_128,"CODE_128"],[ft.DATA_MATRIX,"DATA_MATRIX"],[ft.MAXICODE,"MAXICODE"],[ft.ITF,"ITF"],[ft.EAN_13,"EAN_13"],[ft.EAN_8,"EAN_8"],[ft.PDF_417,"PDF_417"],[ft.RSS_14,"RSS_14"],[ft.RSS_EXPANDED,"RSS_EXPANDED"],[ft.UPC_A,"UPC_A"],[ft.UPC_E,"UPC_E"],[ft.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),PP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(PP||(PP={}));function xfe(e){return Object.values(ft).includes(e)}var mu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(mu||(mu={}));var oo=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[mu.SCAN_TYPE_CAMERA,mu.SCAN_TYPE_FILE],e}(),YF=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!DP.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,DP.get(t))},e}(),RP=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),ZS;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ZS||(ZS={}));var WF=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ZS.UNKWOWN_ERROR}},e}(),GF=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Fo(e){return typeof e>"u"||e===null}function vfe(e,t,n){return e>n?n:e<t?t:e}var fh=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ln=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),kP=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),KF=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(s),o=Object.keys(t),u=0,m=o;u<m.length;u++){var f=m[u];if(i.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e}(),Ug={exports:{}},yfe=Ug.exports,IP;function bfe(){return IP||(IP=1,function(e,t){(function(n,r){r(t)})(yfe,function(n){function r(J){return J==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,c){J.__proto__=c}||function(J,c){for(var h in c)c.hasOwnProperty(h)&&(J[h]=c[h])};function i(J,c){s(J,c);function h(){this.constructor=J}J.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}function o(J,c){var h=Object.setPrototypeOf;h?h(J,c):J.__proto__=c}function u(J,c){c===void 0&&(c=J.constructor);var h=Error.captureStackTrace;h&&h(J,c)}var m=function(J){i(c,J);function c(h){var p=this.constructor,y=J.call(this,h)||this;return Object.defineProperty(y,"name",{value:p.name,enumerable:!1}),o(y,p.prototype),u(y),y}return c}(Error);class f extends m{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}f.kind="Exception";class g extends f{}g.kind="ArgumentException";class x extends f{}x.kind="IllegalArgumentException";class j{constructor(c){if(this.binarizer=c,c===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,h){return this.binarizer.getBlackRow(c,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,h,p,y){const b=this.binarizer.getLuminanceSource().crop(c,h,p,y);return new j(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new j(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new j(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends f{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class C{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class E{static arraycopy(c,h,p,y,b){for(;b--;)p[y++]=c[h++]}static currentTimeMillis(){return Date.now()}}class A extends f{}A.kind="IndexOutOfBoundsException";class M extends A{constructor(c=void 0,h=void 0){super(h),this.index=c,this.message=h}}M.kind="ArrayIndexOutOfBoundsException";class D{static fill(c,h){for(let p=0,y=c.length;p<y;p++)c[p]=h}static fillWithin(c,h,p,y){D.rangeCheck(c.length,h,p);for(let b=h;b<p;b++)c[b]=y}static rangeCheck(c,h,p){if(h>p)throw new x("fromIndex("+h+") > toIndex("+p+")");if(h<0)throw new M(h);if(p>c)throw new M(p)}static asList(...c){return c}static create(c,h,p){return Array.from({length:c}).map(b=>Array.from({length:h}).fill(p))}static createInt32Array(c,h,p){return Array.from({length:c}).map(b=>Int32Array.from({length:h}).fill(p))}static equals(c,h){if(!c||!h||!c.length||!h.length||c.length!==h.length)return!1;for(let p=0,y=c.length;p<y;p++)if(c[p]!==h[p])return!1;return!0}static hashCode(c){if(c===null)return 0;let h=1;for(const p of c)h=31*h+p;return h}static fillUint8Array(c,h){for(let p=0;p!==c.length;p++)c[p]=h}static copyOf(c,h){return c.slice(0,h)}static copyOfUint8Array(c,h){if(c.length<=h){const p=new Uint8Array(h);return p.set(c),p}return c.slice(0,h)}static copyOfRange(c,h,p){const y=p-h,b=new Int32Array(y);return E.arraycopy(c,h,b,0,y),b}static binarySearch(c,h,p){p===void 0&&(p=D.numberComparator);let y=0,b=c.length-1;for(;y<=b;){const S=b+y>>1,T=p(h,c[S]);if(T>0)y=S+1;else if(T<0)b=S-1;else return S}return-y-1}static numberComparator(c,h){return c-h}}class R{static numberOfTrailingZeros(c){let h;if(c===0)return 32;let p=31;return h=c<<16,h!==0&&(p-=16,c=h),h=c<<8,h!==0&&(p-=8,c=h),h=c<<4,h!==0&&(p-=4,c=h),h=c<<2,h!==0&&(p-=2,c=h),p-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let h=1;return c>>>16||(h+=16,c<<=16),c>>>24||(h+=8,c<<=8),c>>>28||(h+=4,c<<=4),c>>>30||(h+=2,c<<=2),h-=c>>>31,h}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,h){return Math.trunc(c/h)}static parseInt(c,h=void 0){return parseInt(c,h)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(c,h){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,h==null?this.bits=U.makeArray(c):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const h=U.makeArray(c);E.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const h=this.size;if(c>=h)return h;const p=this.bits;let y=Math.floor(c/32),b=p[y];b&=~((1<<(c&31))-1);const S=p.length;for(;b===0;){if(++y===S)return h;b=p[y]}const T=y*32+R.numberOfTrailingZeros(b);return T>h?h:T}getNextUnset(c){const h=this.size;if(c>=h)return h;const p=this.bits;let y=Math.floor(c/32),b=~p[y];b&=~((1<<(c&31))-1);const S=p.length;for(;b===0;){if(++y===S)return h;b=~p[y]}const T=y*32+R.numberOfTrailingZeros(b);return T>h?h:T}setBulk(c,h){this.bits[Math.floor(c/32)]=h}setRange(c,h){if(h<c||c<0||h>this.size)throw new x;if(h===c)return;h--;const p=Math.floor(c/32),y=Math.floor(h/32),b=this.bits;for(let S=p;S<=y;S++){const T=S>p?0:c&31,z=(2<<(S<y?31:h&31))-(1<<T);b[S]|=z}}clear(){const c=this.bits.length,h=this.bits;for(let p=0;p<c;p++)h[p]=0}isRange(c,h,p){if(h<c||c<0||h>this.size)throw new x;if(h===c)return!0;h--;const y=Math.floor(c/32),b=Math.floor(h/32),S=this.bits;for(let T=y;T<=b;T++){const P=T>y?0:c&31,W=(2<<(T<b?31:h&31))-(1<<P)&4294967295;if((S[T]&W)!==(p?W:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,h){if(h<0||h>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let p=h;p>0;p--)this.appendBit((c>>p-1&1)===1)}appendBitArray(c){const h=c.size;this.ensureCapacity(this.size+h);for(let p=0;p<h;p++)this.appendBit(c.get(p))}xor(c){if(this.size!==c.size)throw new x("Sizes don't match");const h=this.bits;for(let p=0,y=h.length;p<y;p++)h[p]^=c.bits[p]}toBytes(c,h,p,y){for(let b=0;b<y;b++){let S=0;for(let T=0;T<8;T++)this.get(c)&&(S|=1<<7-T),c++;h[p+b]=S}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),p=h+1,y=this.bits;for(let b=0;b<p;b++){let S=y[b];S=S>>1&1431655765|(S&1431655765)<<1,S=S>>2&858993459|(S&858993459)<<2,S=S>>4&252645135|(S&252645135)<<4,S=S>>8&16711935|(S&16711935)<<8,S=S>>16&65535|(S&65535)<<16,c[h-b]=S}if(this.size!==p*32){const b=p*32-this.size;let S=c[0]>>>b;for(let T=1;T<p;T++){const P=c[T];S|=P<<32-b,c[T-1]=S,S=P>>>b}c[p-1]=S}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof U))return!1;const h=c;return this.size===h.size&&D.equals(this.bits,h.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let c="";for(let h=0,p=this.size;h<p;h++)(h&7)===0&&(c+=" "),c+=this.get(h)?"X":".";return c}clone(){return new U(this.size,this.bits.slice())}}var k;(function(J){J[J.OTHER=0]="OTHER",J[J.PURE_BARCODE=1]="PURE_BARCODE",J[J.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",J[J.TRY_HARDER=3]="TRY_HARDER",J[J.CHARACTER_SET=4]="CHARACTER_SET",J[J.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",J[J.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",J[J.ASSUME_GS1=7]="ASSUME_GS1",J[J.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",J[J.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",J[J.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(k||(k={}));var I=k;class F extends f{static getFormatInstance(){return new F}}F.kind="FormatException";var V;(function(J){J[J.Cp437=0]="Cp437",J[J.ISO8859_1=1]="ISO8859_1",J[J.ISO8859_2=2]="ISO8859_2",J[J.ISO8859_3=3]="ISO8859_3",J[J.ISO8859_4=4]="ISO8859_4",J[J.ISO8859_5=5]="ISO8859_5",J[J.ISO8859_6=6]="ISO8859_6",J[J.ISO8859_7=7]="ISO8859_7",J[J.ISO8859_8=8]="ISO8859_8",J[J.ISO8859_9=9]="ISO8859_9",J[J.ISO8859_10=10]="ISO8859_10",J[J.ISO8859_11=11]="ISO8859_11",J[J.ISO8859_13=12]="ISO8859_13",J[J.ISO8859_14=13]="ISO8859_14",J[J.ISO8859_15=14]="ISO8859_15",J[J.ISO8859_16=15]="ISO8859_16",J[J.SJIS=16]="SJIS",J[J.Cp1250=17]="Cp1250",J[J.Cp1251=18]="Cp1251",J[J.Cp1252=19]="Cp1252",J[J.Cp1256=20]="Cp1256",J[J.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",J[J.UTF8=22]="UTF8",J[J.ASCII=23]="ASCII",J[J.Big5=24]="Big5",J[J.GB18030=25]="GB18030",J[J.EUC_KR=26]="EUC_KR"})(V||(V={}));class L{constructor(c,h,p,...y){this.valueIdentifier=c,this.name=p,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=y,L.VALUE_IDENTIFIER_TO_ECI.set(c,this),L.NAME_TO_ECI.set(p,this);const b=this.values;for(let S=0,T=b.length;S!==T;S++){const P=b[S];L.VALUES_TO_ECI.set(P,this)}for(const S of y)L.NAME_TO_ECI.set(S,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new F("incorect value");const h=L.VALUES_TO_ECI.get(c);if(h===void 0)throw new F("incorect value");return h}static getCharacterSetECIByName(c){const h=L.NAME_TO_ECI.get(c);if(h===void 0)throw new F("incorect value");return h}equals(c){if(!(c instanceof L))return!1;const h=c;return this.getName()===h.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(V.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(V.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(V.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(V.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(V.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(V.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(V.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(V.Big5,28,"Big5"),L.GB18030=new L(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(V.EUC_KR,30,"EUC_KR","EUC-KR");class $ extends f{}$.kind="UnsupportedOperationException";class Y{static decode(c,h){const p=this.encodingName(h);return this.customDecoder?this.customDecoder(c,p):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(p)?this.decodeFallback(c,p):new TextDecoder(p).decode(c)}static shouldDecodeOnFallback(c){return!Y.isBrowser()&&c==="ISO-8859-1"}static encode(c,h){const p=this.encodingName(h);return this.customEncoder?this.customEncoder(c,p):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof L?c:L.getCharacterSetECIByName(c)}static decodeFallback(c,h){const p=this.encodingCharacterSet(h);if(Y.isDecodeFallbackSupported(p)){let y="";for(let b=0,S=c.length;b<S;b++){let T=c[b].toString(16);T.length<2&&(T="0"+T),y+="%"+T}return decodeURIComponent(y)}if(p.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new $(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(L.UTF8)||c.equals(L.ISO8859_1)||c.equals(L.ASCII)}static encodeFallback(c){const p=btoa(unescape(encodeURIComponent(c))).split(""),y=[];for(let b=0;b<p.length;b++)y.push(p[b].charCodeAt(0));return new Uint8Array(y)}}class q{static castAsNonUtf8Char(c,h=null){const p=h?h.getName():this.ISO88591;return Y.decode(new Uint8Array([c]),p)}static guessEncoding(c,h){if(h!=null&&h.get(I.CHARACTER_SET)!==void 0)return h.get(I.CHARACTER_SET).toString();const p=c.length;let y=!0,b=!0,S=!0,T=0,P=0,z=0,W=0,te=0,ne=0,le=0,pe=0,ve=0,Ce=0,Le=0;const Ze=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let nt=0;nt<p&&(y||b||S);nt++){const Xe=c[nt]&255;S&&(T>0?(Xe&128)===0?S=!1:T--:(Xe&128)!==0&&((Xe&64)===0?S=!1:(T++,(Xe&32)===0?P++:(T++,(Xe&16)===0?z++:(T++,(Xe&8)===0?W++:S=!1))))),y&&(Xe>127&&Xe<160?y=!1:Xe>159&&(Xe<192||Xe===215||Xe===247)&&Le++),b&&(te>0?Xe<64||Xe===127||Xe>252?b=!1:te--:Xe===128||Xe===160||Xe>239?b=!1:Xe>160&&Xe<224?(ne++,pe=0,le++,le>ve&&(ve=le)):Xe>127?(te++,le=0,pe++,pe>Ce&&(Ce=pe)):(le=0,pe=0))}return S&&T>0&&(S=!1),b&&te>0&&(b=!1),S&&(Ze||P+z+W>0)?q.UTF8:b&&(q.ASSUME_SHIFT_JIS||ve>=3||Ce>=3)?q.SHIFT_JIS:y&&b?ve===2&&ne===2||Le*10>=p?q.SHIFT_JIS:q.ISO88591:y?q.ISO88591:b?q.SHIFT_JIS:S?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(c,...h){let p=-1;function y(S,T,P,z,W,te){if(S==="%%")return"%";if(h[++p]===void 0)return;S=z?parseInt(z.substr(1)):void 0;let ne=W?parseInt(W.substr(1)):void 0,le;switch(te){case"s":le=h[p];break;case"c":le=h[p][0];break;case"f":le=parseFloat(h[p]).toFixed(S);break;case"p":le=parseFloat(h[p]).toPrecision(S);break;case"e":le=parseFloat(h[p]).toExponential(S);break;case"x":le=parseInt(h[p]).toString(ne||16);break;case"d":le=parseFloat(parseInt(h[p],ne||10).toPrecision(S)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(ne);let pe=parseInt(P),ve=P&&P[0]+""=="0"?"0":" ";for(;le.length<pe;)le=T!==void 0?le+ve:ve+le;return le}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(b,y)}static getBytes(c,h){return Y.encode(c,h)}static getCharCode(c,h=0){return c.charCodeAt(h)}static getCharAt(c){return String.fromCharCode(c)}}q.SHIFT_JIS=L.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=L.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=L.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class X{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=q.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,h,p){for(let y=h;h<h+p;y++)this.append(c[y]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,h){this.value=this.value.substr(0,c)+h+this.value.substr(c+1)}substring(c,h){return this.value.substring(c,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,h){this.value=this.value.substr(0,c)+h+this.value.substr(c+h.length)}}class Q{constructor(c,h,p,y){if(this.width=c,this.height=h,this.rowSize=p,this.bits=y,h==null&&(h=c),this.height=h,c<1||h<1)throw new x("Both dimensions must be greater than 0");p==null&&(p=Math.floor((c+31)/32)),this.rowSize=p,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const h=c.length,p=c[0].length,y=new Q(p,h);for(let b=0;b<h;b++){const S=c[b];for(let T=0;T<p;T++)S[T]&&y.set(T,b)}return y}static parseFromString(c,h,p){if(c===null)throw new x("stringRepresentation cannot be null");const y=new Array(c.length);let b=0,S=0,T=-1,P=0,z=0;for(;z<c.length;)if(c.charAt(z)===`
`||c.charAt(z)==="\r"){if(b>S){if(T===-1)T=b-S;else if(b-S!==T)throw new x("row lengths do not match");S=b,P++}z++}else if(c.substring(z,z+h.length)===h)z+=h.length,y[b]=!0,b++;else if(c.substring(z,z+p.length)===p)z+=p.length,y[b]=!1,b++;else throw new x("illegal character encountered: "+c.substring(z));if(b>S){if(T===-1)T=b-S;else if(b-S!==T)throw new x("row lengths do not match");P++}const W=new Q(T,P);for(let te=0;te<b;te++)y[te]&&W.set(Math.floor(te%T),Math.floor(te/T));return W}get(c,h){const p=h*this.rowSize+Math.floor(c/32);return(this.bits[p]>>>(c&31)&1)!==0}set(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]|=1<<(c&31)&4294967295}unset(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]&=~(1<<(c&31)&4294967295)}flip(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new x("input matrix dimensions do not match");const h=new U(Math.floor(this.width/32)+1),p=this.rowSize,y=this.bits;for(let b=0,S=this.height;b<S;b++){const T=b*p,P=c.getRow(b,h).getBitArray();for(let z=0;z<p;z++)y[T+z]^=P[z]}}clear(){const c=this.bits,h=c.length;for(let p=0;p<h;p++)c[p]=0}setRegion(c,h,p,y){if(h<0||c<0)throw new x("Left and top must be nonnegative");if(y<1||p<1)throw new x("Height and width must be at least 1");const b=c+p,S=h+y;if(S>this.height||b>this.width)throw new x("The region must fit inside the matrix");const T=this.rowSize,P=this.bits;for(let z=h;z<S;z++){const W=z*T;for(let te=c;te<b;te++)P[W+Math.floor(te/32)]|=1<<(te&31)&4294967295}}getRow(c,h){h==null||h.getSize()<this.width?h=new U(this.width):h.clear();const p=this.rowSize,y=this.bits,b=c*p;for(let S=0;S<p;S++)h.setBulk(S*32,y[b+S]);return h}setRow(c,h){E.arraycopy(h.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),h=this.getHeight();let p=new U(c),y=new U(c);for(let b=0,S=Math.floor((h+1)/2);b<S;b++)p=this.getRow(b,p),y=this.getRow(h-1-b,y),p.reverse(),y.reverse(),this.setRow(b,y),this.setRow(h-1-b,p)}getEnclosingRectangle(){const c=this.width,h=this.height,p=this.rowSize,y=this.bits;let b=c,S=h,T=-1,P=-1;for(let z=0;z<h;z++)for(let W=0;W<p;W++){const te=y[z*p+W];if(te!==0){if(z<S&&(S=z),z>P&&(P=z),W*32<b){let ne=0;for(;(te<<31-ne&4294967295)===0;)ne++;W*32+ne<b&&(b=W*32+ne)}if(W*32+31>T){let ne=31;for(;!(te>>>ne);)ne--;W*32+ne>T&&(T=W*32+ne)}}}return T<b||P<S?null:Int32Array.from([b,S,T-b+1,P-S+1])}getTopLeftOnBit(){const c=this.rowSize,h=this.bits;let p=0;for(;p<h.length&&h[p]===0;)p++;if(p===h.length)return null;const y=p/c;let b=p%c*32;const S=h[p];let T=0;for(;(S<<31-T&4294967295)===0;)T++;return b+=T,Int32Array.from([b,y])}getBottomRightOnBit(){const c=this.rowSize,h=this.bits;let p=h.length-1;for(;p>=0&&h[p]===0;)p--;if(p<0)return null;const y=Math.floor(p/c);let b=Math.floor(p%c)*32;const S=h[p];let T=31;for(;!(S>>>T);)T--;return b+=T,Int32Array.from([b,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof Q))return!1;const h=c;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&D.equals(this.bits,h.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+D.hashCode(this.bits),c}toString(c="X ",h="  ",p=`
`){return this.buildToString(c,h,p)}buildToString(c,h,p){let y=new X;for(let b=0,S=this.height;b<S;b++){for(let T=0,P=this.width;T<P;T++)y.append(this.get(T,b)?c:h);y.append(p)}return y.toString()}clone(){return new Q(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends f{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class H extends C{constructor(c){super(c),this.luminances=H.EMPTY,this.buckets=new Int32Array(H.LUMINANCE_BUCKETS)}getBlackRow(c,h){const p=this.getLuminanceSource(),y=p.getWidth();h==null||h.getSize()<y?h=new U(y):h.clear(),this.initArrays(y);const b=p.getRow(c,this.luminances),S=this.buckets;for(let P=0;P<y;P++)S[(b[P]&255)>>H.LUMINANCE_SHIFT]++;const T=H.estimateBlackPoint(S);if(y<3)for(let P=0;P<y;P++)(b[P]&255)<T&&h.set(P);else{let P=b[0]&255,z=b[1]&255;for(let W=1;W<y-1;W++){const te=b[W+1]&255;(z*4-P-te)/2<T&&h.set(W),P=z,z=te}}return h}getBlackMatrix(){const c=this.getLuminanceSource(),h=c.getWidth(),p=c.getHeight(),y=new Q(h,p);this.initArrays(h);const b=this.buckets;for(let P=1;P<5;P++){const z=Math.floor(p*P/5),W=c.getRow(z,this.luminances),te=Math.floor(h*4/5);for(let ne=Math.floor(h/5);ne<te;ne++){const le=W[ne]&255;b[le>>H.LUMINANCE_SHIFT]++}}const S=H.estimateBlackPoint(b),T=c.getMatrix();for(let P=0;P<p;P++){const z=P*h;for(let W=0;W<h;W++)(T[z+W]&255)<S&&y.set(W,P)}return y}createBinarizer(c){return new H(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const h=this.buckets;for(let p=0;p<H.LUMINANCE_BUCKETS;p++)h[p]=0}static estimateBlackPoint(c){const h=c.length;let p=0,y=0,b=0;for(let W=0;W<h;W++)c[W]>b&&(y=W,b=c[W]),c[W]>p&&(p=c[W]);let S=0,T=0;for(let W=0;W<h;W++){const te=W-y,ne=c[W]*te*te;ne>T&&(S=W,T=ne)}if(y>S){const W=y;y=S,S=W}if(S-y<=h/16)throw new G;let P=S-1,z=-1;for(let W=S-1;W>y;W--){const te=W-y,ne=te*te*(S-W)*(p-c[W]);ne>z&&(P=W,z=ne)}return P<<H.LUMINANCE_SHIFT}}H.LUMINANCE_BITS=5,H.LUMINANCE_SHIFT=8-H.LUMINANCE_BITS,H.LUMINANCE_BUCKETS=1<<H.LUMINANCE_BITS,H.EMPTY=Uint8ClampedArray.from([0]);class ee extends H{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),h=c.getWidth(),p=c.getHeight();if(h>=ee.MINIMUM_DIMENSION&&p>=ee.MINIMUM_DIMENSION){const y=c.getMatrix();let b=h>>ee.BLOCK_SIZE_POWER;(h&ee.BLOCK_SIZE_MASK)!==0&&b++;let S=p>>ee.BLOCK_SIZE_POWER;(p&ee.BLOCK_SIZE_MASK)!==0&&S++;const T=ee.calculateBlackPoints(y,b,S,h,p),P=new Q(h,p);ee.calculateThresholdForBlock(y,b,S,h,p,T,P),this.matrix=P}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new ee(c)}static calculateThresholdForBlock(c,h,p,y,b,S,T){const P=b-ee.BLOCK_SIZE,z=y-ee.BLOCK_SIZE;for(let W=0;W<p;W++){let te=W<<ee.BLOCK_SIZE_POWER;te>P&&(te=P);const ne=ee.cap(W,2,p-3);for(let le=0;le<h;le++){let pe=le<<ee.BLOCK_SIZE_POWER;pe>z&&(pe=z);const ve=ee.cap(le,2,h-3);let Ce=0;for(let Ze=-2;Ze<=2;Ze++){const nt=S[ne+Ze];Ce+=nt[ve-2]+nt[ve-1]+nt[ve]+nt[ve+1]+nt[ve+2]}const Le=Ce/25;ee.thresholdBlock(c,pe,te,Le,y,T)}}}static cap(c,h,p){return c<h?h:c>p?p:c}static thresholdBlock(c,h,p,y,b,S){for(let T=0,P=p*b+h;T<ee.BLOCK_SIZE;T++,P+=b)for(let z=0;z<ee.BLOCK_SIZE;z++)(c[P+z]&255)<=y&&S.set(h+z,p+T)}static calculateBlackPoints(c,h,p,y,b){const S=b-ee.BLOCK_SIZE,T=y-ee.BLOCK_SIZE,P=new Array(p);for(let z=0;z<p;z++){P[z]=new Int32Array(h);let W=z<<ee.BLOCK_SIZE_POWER;W>S&&(W=S);for(let te=0;te<h;te++){let ne=te<<ee.BLOCK_SIZE_POWER;ne>T&&(ne=T);let le=0,pe=255,ve=0;for(let Le=0,Ze=W*y+ne;Le<ee.BLOCK_SIZE;Le++,Ze+=y){for(let nt=0;nt<ee.BLOCK_SIZE;nt++){const Xe=c[Ze+nt]&255;le+=Xe,Xe<pe&&(pe=Xe),Xe>ve&&(ve=Xe)}if(ve-pe>ee.MIN_DYNAMIC_RANGE)for(Le++,Ze+=y;Le<ee.BLOCK_SIZE;Le++,Ze+=y)for(let nt=0;nt<ee.BLOCK_SIZE;nt++)le+=c[Ze+nt]&255}let Ce=le>>ee.BLOCK_SIZE_POWER*2;if(ve-pe<=ee.MIN_DYNAMIC_RANGE&&(Ce=pe/2,z>0&&te>0)){const Le=(P[z-1][te]+2*P[z][te-1]+P[z-1][te-1])/4;pe<Le&&(Ce=Le)}P[z][te]=Ce}}return P}}ee.BLOCK_SIZE_POWER=3,ee.BLOCK_SIZE=1<<ee.BLOCK_SIZE_POWER,ee.BLOCK_SIZE_MASK=ee.BLOCK_SIZE-1,ee.MINIMUM_DIMENSION=ee.BLOCK_SIZE*5,ee.MIN_DYNAMIC_RANGE=24;class Z{constructor(c,h){this.width=c,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,h,p,y){throw new $("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new $("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new $("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let h=new X;for(let p=0;p<this.height;p++){const y=this.getRow(p,c);for(let b=0;b<this.width;b++){const S=y[b]&255;let T;S<64?T="#":S<128?T="+":S<192?T=".":T=" ",h.append(T)}h.append(`
`)}return h.toString()}}class oe extends Z{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,h){const p=this.delegate.getRow(c,h),y=this.getWidth();for(let b=0;b<y;b++)p[b]=255-(p[b]&255);return p}getMatrix(){const c=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(h);for(let y=0;y<h;y++)p[y]=255-(c[y]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(c,h,p,y){return new oe(this.delegate.crop(c,h,p,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new oe(this.delegate.rotateCounterClockwise45())}}class re extends Z{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=re.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const h=c.getContext("2d").getImageData(0,0,c.width,c.height);return re.toGrayscaleBuffer(h.data,c.width,c.height)}static toGrayscaleBuffer(c,h,p){const y=new Uint8ClampedArray(h*p);for(let b=0,S=0,T=c.length;b<T;b+=4,S++){let P;if(c[b+3]===0)P=255;else{const W=c[b],te=c[b+1],ne=c[b+2];P=306*W+601*te+117*ne+512>>10}y[S]=P}return y}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth(),y=c*p;return h===null?h=this.buffer.slice(y,y+p):(h.length<p&&(h=new Uint8ClampedArray(p)),h.set(this.buffer.slice(y,y+p))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,h,p,y){return super.crop(c,h,p,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const h=this.getTempCanvasElement(),p=h.getContext("2d"),y=c*re.DEGREE_TO_RADIANS,b=this.canvas.width,S=this.canvas.height,T=Math.ceil(Math.abs(Math.cos(y))*b+Math.abs(Math.sin(y))*S),P=Math.ceil(Math.abs(Math.sin(y))*b+Math.abs(Math.cos(y))*S);return h.width=T,h.height=P,p.translate(T/2,P/2),p.rotate(y),p.drawImage(this.canvas,b/-2,S/-2),this.buffer=re.makeBufferFromCanvasImageData(h),this}invert(){return new oe(this)}}re.DEGREE_TO_RADIANS=Math.PI/180;class de{constructor(c,h,p){this.deviceId=c,this.label=h,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||Ax||self||window||void 0)&&(globalThis||Ax||self||window||void 0).__awaiter||function(J,c,h,p){function y(b){return b instanceof h?b:new h(function(S){S(b)})}return new(h||(h=Promise))(function(b,S){function T(W){try{z(p.next(W))}catch(te){S(te)}}function P(W){try{z(p.throw(W))}catch(te){S(te)}}function z(W){W.done?b(W.value):y(W.value).then(T,P)}z((p=p.apply(J,c||[])).next())})};class _e{constructor(c,h=500,p){this.reader=c,this.timeBetweenScansMillis=h,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const p of c){const y=p.kind==="video"?"videoinput":p.kind;if(y!=="videoinput")continue;const b=p.deviceId||p.id,S=p.label||`Video device ${h.length+1}`,T=p.groupId,P={deviceId:b,label:S,kind:y,groupId:T};h.push(P)}return h})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new de(h.deviceId,h.label))})}findDeviceById(c){return xe(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(p=>p.deviceId===c):null})}decodeFromInputVideoDevice(c,h){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,h)})}decodeOnceFromVideoDevice(c,h){return xe(this,void 0,void 0,function*(){this.reset();let p;c?p={deviceId:{exact:c}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeOnceFromConstraints(y,h)})}decodeOnceFromConstraints(c,h){return xe(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(p,h)})}decodeOnceFromStream(c,h){return xe(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(c,h);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(c,h,p){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,h,p)})}decodeFromVideoDevice(c,h,p){return xe(this,void 0,void 0,function*(){let y;c?y={deviceId:{exact:c}}:y={facingMode:"environment"};const b={video:y};return yield this.decodeFromConstraints(b,h,p)})}decodeFromConstraints(c,h,p){return xe(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(y,h,p)})}decodeFromStream(c,h,p){return xe(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(c,h);return yield this.decodeContinuously(y,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,h){return xe(this,void 0,void 0,function*(){const p=this.prepareVideoElement(h);return this.addVideoSource(p,c),this.videoElement=p,this.stream=c,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(c){return new Promise((h,p)=>this.playVideoOnLoad(c,()=>h()))}playVideoOnLoad(c,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",h),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,h){const p=document.getElementById(c);if(!p)throw new g(`element with id '${c}' not found`);if(p.nodeName.toLowerCase()!==h.toLowerCase())throw new g(`element with id '${c}' must be an ${h} element`);return p}decodeFromImage(c,h){if(!c&&!h)throw new g("either imageElement with a src set or an url must be provided");return h&&!c?this.decodeFromImageUrl(h):this.decodeFromImageElement(c)}decodeFromVideo(c,h){if(!c&&!h)throw new g("Either an element with a src set or an URL must be provided");return h&&!c?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,h,p){if(c===void 0&&h===void 0)throw new g("Either an element with a src set or an URL must be provided");return h&&!c?this.decodeFromVideoUrlContinuously(h,p):this.decodeFromVideoElementContinuously(c,p)}decodeFromImageElement(c){if(!c)throw new g("An image element must be provided.");this.reset();const h=this.prepareImageElement(c);this.imageElement=h;let p;return this.isImageLoaded(h)?p=this.decodeOnce(h,!1,!0):p=this._decodeOnLoadImage(h),p}decodeFromVideoElement(c){const h=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(c,h){const p=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(p,h)}_decodeFromVideoElementSetup(c){if(!c)throw new g("A video element must be provided.");this.reset();const h=this.prepareVideoElement(c);return this.videoElement=h,h}decodeFromImageUrl(c){if(!c)throw new g("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const p=this._decodeOnLoadImage(h);return h.src=c,p}decodeFromVideoUrl(c){if(!c)throw new g("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElement(h);return h.src=c,p}decodeFromVideoUrlContinuously(c,h){if(!c)throw new g("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(p,h);return p.src=c,y}_decodeOnLoadImage(c){return new Promise((h,p)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(h,p),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,h){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,h)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let h;return typeof c>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof c=="string"&&(h=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(h=c),h}prepareVideoElement(c){let h;return!c&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof c=="string"&&(h=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(h=c),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(c,h=!0,p=!0){this._stopAsyncDecode=!1;const y=(b,S)=>{if(this._stopAsyncDecode){S(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const T=this.decode(c);b(T)}catch(T){const P=h&&T instanceof G,W=(T instanceof _||T instanceof F)&&p;if(P||W)return setTimeout(y,this._timeBetweenDecodingAttempts,b,S);S(T)}};return new Promise((b,S)=>y(b,S))}decodeContinuously(c,h){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(c);h(y,null),setTimeout(p,this.timeBetweenScansMillis)}catch(y){h(null,y);const b=y instanceof _||y instanceof F,S=y instanceof G;(b||S)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(c){const h=this.createBinaryBitmap(c);return this.decodeBitmap(h)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,h,p){h||(h={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(c,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(c,h,p=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(c,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const h=this.getCaptureCanvas(c),p=new re(h),y=new ee(p);return new j(y)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const h=this.createCaptureCanvas(c);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let p,y;return typeof c<"u"&&(c instanceof HTMLVideoElement?(p=c.videoWidth,y=c.videoHeight):c instanceof HTMLImageElement&&(p=c.naturalWidth||c.width,y=c.naturalHeight||c.height)),h.style.width=p+"px",h.style.height=y+"px",h.width=p,h.height=y,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,h){try{c.srcObject=h}catch{c.src=URL.createObjectURL(h)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class ye{constructor(c,h,p=h==null?0:8*h.length,y,b,S=E.currentTimeMillis()){this.text=c,this.rawBytes=h,this.numBits=p,this.resultPoints=y,this.format=b,this.timestamp=S,this.text=c,this.rawBytes=h,p==null?this.numBits=h==null?0:8*h.length:this.numBits=p,this.resultPoints=y,this.format=b,this.resultMetadata=null,S==null?this.timestamp=E.currentTimeMillis():this.timestamp=S}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,h)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const h=this.resultPoints;if(h===null)this.resultPoints=c;else if(c!==null&&c.length>0){const p=new Array(h.length+c.length);E.arraycopy(h,0,p,0,h.length),E.arraycopy(c,0,p,h.length,c.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ke;(function(J){J[J.AZTEC=0]="AZTEC",J[J.CODABAR=1]="CODABAR",J[J.CODE_39=2]="CODE_39",J[J.CODE_93=3]="CODE_93",J[J.CODE_128=4]="CODE_128",J[J.DATA_MATRIX=5]="DATA_MATRIX",J[J.EAN_8=6]="EAN_8",J[J.EAN_13=7]="EAN_13",J[J.ITF=8]="ITF",J[J.MAXICODE=9]="MAXICODE",J[J.PDF_417=10]="PDF_417",J[J.QR_CODE=11]="QR_CODE",J[J.RSS_14=12]="RSS_14",J[J.RSS_EXPANDED=13]="RSS_EXPANDED",J[J.UPC_A=14]="UPC_A",J[J.UPC_E=15]="UPC_E",J[J.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ke||(ke={}));var ae=ke,ue;(function(J){J[J.OTHER=0]="OTHER",J[J.ORIENTATION=1]="ORIENTATION",J[J.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",J[J.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",J[J.ISSUE_NUMBER=4]="ISSUE_NUMBER",J[J.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",J[J.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",J[J.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",J[J.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",J[J.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",J[J.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ue||(ue={}));var ce=ue;class ge{constructor(c,h,p,y,b=-1,S=-1){this.rawBytes=c,this.text=h,this.byteSegments=p,this.ecLevel=y,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=S,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Me{exp(c){return this.expTable[c]}log(c){if(c===0)throw new x;return this.logTable[c]}static addOrSubtract(c,h){return c^h}}class Ne{constructor(c,h){if(h.length===0)throw new x;this.field=c;const p=h.length;if(p>1&&h[0]===0){let y=1;for(;y<p&&h[y]===0;)y++;y===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-y),E.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const h=this.coefficients;let p;if(c===1){p=0;for(let S=0,T=h.length;S!==T;S++){const P=h[S];p=Me.addOrSubtract(p,P)}return p}p=h[0];const y=h.length,b=this.field;for(let S=1;S<y;S++)p=Me.addOrSubtract(b.multiply(c,p),h[S]);return p}addOrSubtract(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let h=this.coefficients,p=c.coefficients;if(h.length>p.length){const S=h;h=p,p=S}let y=new Int32Array(p.length);const b=p.length-h.length;E.arraycopy(p,0,y,0,b);for(let S=b;S<p.length;S++)y[S]=Me.addOrSubtract(h[S-b],p[S]);return new Ne(this.field,y)}multiply(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const h=this.coefficients,p=h.length,y=c.coefficients,b=y.length,S=new Int32Array(p+b-1),T=this.field;for(let P=0;P<p;P++){const z=h[P];for(let W=0;W<b;W++)S[P+W]=Me.addOrSubtract(S[P+W],T.multiply(z,y[W]))}return new Ne(T,S)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const h=this.coefficients.length,p=this.field,y=new Int32Array(h),b=this.coefficients;for(let S=0;S<h;S++)y[S]=p.multiply(b[S],c);return new Ne(p,y)}multiplyByMonomial(c,h){if(c<0)throw new x;if(h===0)return this.field.getZero();const p=this.coefficients,y=p.length,b=new Int32Array(y+c),S=this.field;for(let T=0;T<y;T++)b[T]=S.multiply(p[T],h);return new Ne(S,b)}divide(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new x("Divide by 0");const h=this.field;let p=h.getZero(),y=this;const b=c.getCoefficient(c.getDegree()),S=h.inverse(b);for(;y.getDegree()>=c.getDegree()&&!y.isZero();){const T=y.getDegree()-c.getDegree(),P=h.multiply(y.getCoefficient(y.getDegree()),S),z=c.multiplyByMonomial(T,P),W=h.buildMonomial(T,P);p=p.addOrSubtract(W),y=y.addOrSubtract(z)}return[p,y]}toString(){let c="";for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);if(p!==0){if(p<0?(c+=" - ",p=-p):c.length>0&&(c+=" + "),h===0||p!==1){const y=this.field.log(p);y===0?c+="1":y===1?c+="a":(c+="a^",c+=y)}h!==0&&(h===1?c+="x":(c+="x^",c+=h))}}return c}}class we extends f{}we.kind="ArithmeticException";class Ke extends Me{constructor(c,h,p){super(),this.primitive=c,this.size=h,this.generatorBase=p;const y=new Int32Array(h);let b=1;for(let T=0;T<h;T++)y[T]=b,b*=2,b>=h&&(b^=c,b&=h-1);this.expTable=y;const S=new Int32Array(h);for(let T=0;T<h-1;T++)S[y[T]]=T;this.logTable=S,this.zero=new Ne(this,Int32Array.from([0])),this.one=new Ne(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,h){if(c<0)throw new x;if(h===0)return this.zero;const p=new Int32Array(c+1);return p[0]=h,new Ne(this,p)}inverse(c){if(c===0)throw new we;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,h){return c===0||h===0?0:this.expTable[(this.logTable[c]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class $e extends f{}$e.kind="ReedSolomonException";class Qe extends f{}Qe.kind="IllegalStateException";class gt{constructor(c){this.field=c}decode(c,h){const p=this.field,y=new Ne(p,c),b=new Int32Array(h);let S=!0;for(let le=0;le<h;le++){const pe=y.evaluateAt(p.exp(le+p.getGeneratorBase()));b[b.length-1-le]=pe,pe!==0&&(S=!1)}if(S)return;const T=new Ne(p,b),P=this.runEuclideanAlgorithm(p.buildMonomial(h,1),T,h),z=P[0],W=P[1],te=this.findErrorLocations(z),ne=this.findErrorMagnitudes(W,te);for(let le=0;le<te.length;le++){const pe=c.length-1-p.log(te[le]);if(pe<0)throw new $e("Bad error location");c[pe]=Ke.addOrSubtract(c[pe],ne[le])}}runEuclideanAlgorithm(c,h,p){if(c.getDegree()<h.getDegree()){const le=c;c=h,h=le}const y=this.field;let b=c,S=h,T=y.getZero(),P=y.getOne();for(;S.getDegree()>=(p/2|0);){let le=b,pe=T;if(b=S,T=P,b.isZero())throw new $e("r_{i-1} was zero");S=le;let ve=y.getZero();const Ce=b.getCoefficient(b.getDegree()),Le=y.inverse(Ce);for(;S.getDegree()>=b.getDegree()&&!S.isZero();){const Ze=S.getDegree()-b.getDegree(),nt=y.multiply(S.getCoefficient(S.getDegree()),Le);ve=ve.addOrSubtract(y.buildMonomial(Ze,nt)),S=S.addOrSubtract(b.multiplyByMonomial(Ze,nt))}if(P=ve.multiply(T).addOrSubtract(pe),S.getDegree()>=b.getDegree())throw new Qe("Division algorithm failed to reduce polynomial?")}const z=P.getCoefficient(0);if(z===0)throw new $e("sigmaTilde(0) was zero");const W=y.inverse(z),te=P.multiplyScalar(W),ne=S.multiplyScalar(W);return[te,ne]}findErrorLocations(c){const h=c.getDegree();if(h===1)return Int32Array.from([c.getCoefficient(1)]);const p=new Int32Array(h);let y=0;const b=this.field;for(let S=1;S<b.getSize()&&y<h;S++)c.evaluateAt(S)===0&&(p[y]=b.inverse(S),y++);if(y!==h)throw new $e("Error locator degree does not match number of roots");return p}findErrorMagnitudes(c,h){const p=h.length,y=new Int32Array(p),b=this.field;for(let S=0;S<p;S++){const T=b.inverse(h[S]);let P=1;for(let z=0;z<p;z++)if(S!==z){const W=b.multiply(h[z],T),te=(W&1)===0?W|1:W&-2;P=b.multiply(P,te)}y[S]=b.multiply(c.evaluateAt(T),b.inverse(P)),b.getGeneratorBase()!==0&&(y[S]=b.multiply(y[S],T))}return y}}var et;(function(J){J[J.UPPER=0]="UPPER",J[J.LOWER=1]="LOWER",J[J.MIXED=2]="MIXED",J[J.DIGIT=3]="DIGIT",J[J.PUNCT=4]="PUNCT",J[J.BINARY=5]="BINARY"})(et||(et={}));class wt{decode(c){this.ddata=c;let h=c.getBits(),p=this.extractBits(h),y=this.correctBits(p),b=wt.convertBoolArrayToByteArray(y),S=wt.getEncodedData(y),T=new ge(b,S,null,null);return T.setNumBits(y.length),T}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let h=c.length,p=et.UPPER,y=et.UPPER,b="",S=0;for(;S<h;)if(y===et.BINARY){if(h-S<5)break;let T=wt.readCode(c,S,5);if(S+=5,T===0){if(h-S<11)break;T=wt.readCode(c,S,11)+31,S+=11}for(let P=0;P<T;P++){if(h-S<8){S=h;break}const z=wt.readCode(c,S,8);b+=q.castAsNonUtf8Char(z),S+=8}y=p}else{let T=y===et.DIGIT?4:5;if(h-S<T)break;let P=wt.readCode(c,S,T);S+=T;let z=wt.getCharacter(y,P);z.startsWith("CTRL_")?(p=y,y=wt.getTable(z.charAt(5)),z.charAt(6)==="L"&&(p=y)):(b+=z,y=p)}return b}static getTable(c){switch(c){case"L":return et.LOWER;case"P":return et.PUNCT;case"M":return et.MIXED;case"D":return et.DIGIT;case"B":return et.BINARY;case"U":default:return et.UPPER}}static getCharacter(c,h){switch(c){case et.UPPER:return wt.UPPER_TABLE[h];case et.LOWER:return wt.LOWER_TABLE[h];case et.MIXED:return wt.MIXED_TABLE[h];case et.PUNCT:return wt.PUNCT_TABLE[h];case et.DIGIT:return wt.DIGIT_TABLE[h];default:throw new Qe("Bad table")}}correctBits(c){let h,p;this.ddata.getNbLayers()<=2?(p=6,h=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,h=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,h=Ke.AZTEC_DATA_10):(p=12,h=Ke.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),b=c.length/p;if(b<y)throw new F;let S=c.length%p,T=new Int32Array(b);for(let ne=0;ne<b;ne++,S+=p)T[ne]=wt.readCode(c,S,p);try{new gt(h).decode(T,b-y)}catch(ne){throw new F(ne)}let P=(1<<p)-1,z=0;for(let ne=0;ne<y;ne++){let le=T[ne];if(le===0||le===P)throw new F;(le===1||le===P-1)&&z++}let W=new Array(y*p-z),te=0;for(let ne=0;ne<y;ne++){let le=T[ne];if(le===1||le===P-1)W.fill(le>1,te,te+p-1),te+=p-1;else for(let pe=p-1;pe>=0;--pe)W[te++]=(le&1<<pe)!==0}return W}extractBits(c){let h=this.ddata.isCompact(),p=this.ddata.getNbLayers(),y=(h?11:14)+p*4,b=new Int32Array(y),S=new Array(this.totalBitsInLayer(p,h));if(h)for(let T=0;T<b.length;T++)b[T]=T;else{let T=y+1+2*R.truncDivision(R.truncDivision(y,2)-1,15),P=y/2,z=R.truncDivision(T,2);for(let W=0;W<P;W++){let te=W+R.truncDivision(W,15);b[P-W-1]=z-te-1,b[P+W]=z+te+1}}for(let T=0,P=0;T<p;T++){let z=(p-T)*4+(h?9:12),W=T*2,te=y-1-W;for(let ne=0;ne<z;ne++){let le=ne*2;for(let pe=0;pe<2;pe++)S[P+le+pe]=c.get(b[W+pe],b[W+ne]),S[P+2*z+le+pe]=c.get(b[W+ne],b[te-pe]),S[P+4*z+le+pe]=c.get(b[te-pe],b[te-ne]),S[P+6*z+le+pe]=c.get(b[te-ne],b[W+pe])}P+=z*8}return S}static readCode(c,h,p){let y=0;for(let b=h;b<h+p;b++)y<<=1,c[b]&&(y|=1);return y}static readByte(c,h){let p=c.length-h;return p>=8?wt.readCode(c,h,8):wt.readCode(c,h,p)<<8-p}static convertBoolArrayToByteArray(c){let h=new Uint8Array((c.length+7)/8);for(let p=0;p<h.length;p++)h[p]=wt.readByte(c,8*p);return h}totalBitsInLayer(c,h){return((h?88:112)+16*c)*c}}wt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],wt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],wt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],wt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],wt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,h,p,y){const b=c-p,S=h-y;return Math.sqrt(b*b+S*S)}static sum(c){let h=0;for(let p=0,y=c.length;p!==y;p++){const b=c[p];h+=b}return h}}class wr{static floatToIntBits(c){return c}}wr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ct{constructor(c,h){this.x=c,this.y=h}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof ct){const h=c;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*wr.floatToIntBits(this.x)+wr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const h=this.distance(c[0],c[1]),p=this.distance(c[1],c[2]),y=this.distance(c[0],c[2]);let b,S,T;if(p>=h&&p>=y?(S=c[0],b=c[1],T=c[2]):y>=p&&y>=h?(S=c[1],b=c[0],T=c[2]):(S=c[2],b=c[0],T=c[1]),this.crossProductZ(b,S,T)<0){const P=b;b=T,T=P}c[0]=b,c[1]=S,c[2]=T}static distance(c,h){return it.distance(c.x,c.y,h.x,h.y)}static crossProductZ(c,h,p){const y=h.x,b=h.y;return(p.x-y)*(c.y-b)-(p.y-b)*(c.x-y)}}class bn{constructor(c,h){this.bits=c,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class ea extends bn{constructor(c,h,p,y,b){super(c,h),this.compact=p,this.nbDatablocks=y,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class jr{constructor(c,h,p,y){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),h==null&&(h=jr.INIT_SIZE),p==null&&(p=c.getWidth()/2|0),y==null&&(y=c.getHeight()/2|0);const b=h/2|0;if(this.leftInit=p-b,this.rightInit=p+b,this.upInit=y-b,this.downInit=y+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let c=this.leftInit,h=this.rightInit,p=this.upInit,y=this.downInit,b=!1,S=!0,T=!1,P=!1,z=!1,W=!1,te=!1;const ne=this.width,le=this.height;for(;S;){S=!1;let pe=!0;for(;(pe||!P)&&h<ne;)pe=this.containsBlackPoint(p,y,h,!1),pe?(h++,S=!0,P=!0):P||h++;if(h>=ne){b=!0;break}let ve=!0;for(;(ve||!z)&&y<le;)ve=this.containsBlackPoint(c,h,y,!0),ve?(y++,S=!0,z=!0):z||y++;if(y>=le){b=!0;break}let Ce=!0;for(;(Ce||!W)&&c>=0;)Ce=this.containsBlackPoint(p,y,c,!1),Ce?(c--,S=!0,W=!0):W||c--;if(c<0){b=!0;break}let Le=!0;for(;(Le||!te)&&p>=0;)Le=this.containsBlackPoint(c,h,p,!0),Le?(p--,S=!0,te=!0):te||p--;if(p<0){b=!0;break}S&&(T=!0)}if(!b&&T){const pe=h-c;let ve=null;for(let nt=1;ve===null&&nt<pe;nt++)ve=this.getBlackPointOnSegment(c,y-nt,c+nt,y);if(ve==null)throw new G;let Ce=null;for(let nt=1;Ce===null&&nt<pe;nt++)Ce=this.getBlackPointOnSegment(c,p+nt,c+nt,p);if(Ce==null)throw new G;let Le=null;for(let nt=1;Le===null&&nt<pe;nt++)Le=this.getBlackPointOnSegment(h,p+nt,h-nt,p);if(Le==null)throw new G;let Ze=null;for(let nt=1;Ze===null&&nt<pe;nt++)Ze=this.getBlackPointOnSegment(h,y-nt,h-nt,y);if(Ze==null)throw new G;return this.centerEdges(Ze,ve,Le,Ce)}else throw new G}getBlackPointOnSegment(c,h,p,y){const b=it.round(it.distance(c,h,p,y)),S=(p-c)/b,T=(y-h)/b,P=this.image;for(let z=0;z<b;z++){const W=it.round(c+z*S),te=it.round(h+z*T);if(P.get(W,te))return new ct(W,te)}return null}centerEdges(c,h,p,y){const b=c.getX(),S=c.getY(),T=h.getX(),P=h.getY(),z=p.getX(),W=p.getY(),te=y.getX(),ne=y.getY(),le=jr.CORR;return b<this.width/2?[new ct(te-le,ne+le),new ct(T+le,P+le),new ct(z-le,W-le),new ct(b+le,S-le)]:[new ct(te+le,ne+le),new ct(T+le,P-le),new ct(z-le,W+le),new ct(b-le,S-le)]}containsBlackPoint(c,h,p,y){const b=this.image;if(y){for(let S=c;S<=h;S++)if(b.get(S,p))return!0}else for(let S=c;S<=h;S++)if(b.get(p,S))return!0;return!1}}jr.INIT_SIZE=10,jr.CORR=1;class Ga{static checkAndNudgePoints(c,h){const p=c.getWidth(),y=c.getHeight();let b=!0;for(let S=0;S<h.length&&b;S+=2){const T=Math.floor(h[S]),P=Math.floor(h[S+1]);if(T<-1||T>p||P<-1||P>y)throw new G;b=!1,T===-1?(h[S]=0,b=!0):T===p&&(h[S]=p-1,b=!0),P===-1?(h[S+1]=0,b=!0):P===y&&(h[S+1]=y-1,b=!0)}b=!0;for(let S=h.length-2;S>=0&&b;S-=2){const T=Math.floor(h[S]),P=Math.floor(h[S+1]);if(T<-1||T>p||P<-1||P>y)throw new G;b=!1,T===-1?(h[S]=0,b=!0):T===p&&(h[S]=p-1,b=!0),P===-1?(h[S+1]=0,b=!0):P===y&&(h[S+1]=y-1,b=!0)}}}class An{constructor(c,h,p,y,b,S,T,P,z){this.a11=c,this.a21=h,this.a31=p,this.a12=y,this.a22=b,this.a32=S,this.a13=T,this.a23=P,this.a33=z}static quadrilateralToQuadrilateral(c,h,p,y,b,S,T,P,z,W,te,ne,le,pe,ve,Ce){const Le=An.quadrilateralToSquare(c,h,p,y,b,S,T,P);return An.squareToQuadrilateral(z,W,te,ne,le,pe,ve,Ce).times(Le)}transformPoints(c){const h=c.length,p=this.a11,y=this.a12,b=this.a13,S=this.a21,T=this.a22,P=this.a23,z=this.a31,W=this.a32,te=this.a33;for(let ne=0;ne<h;ne+=2){const le=c[ne],pe=c[ne+1],ve=b*le+P*pe+te;c[ne]=(p*le+S*pe+z)/ve,c[ne+1]=(y*le+T*pe+W)/ve}}transformPointsWithValues(c,h){const p=this.a11,y=this.a12,b=this.a13,S=this.a21,T=this.a22,P=this.a23,z=this.a31,W=this.a32,te=this.a33,ne=c.length;for(let le=0;le<ne;le++){const pe=c[le],ve=h[le],Ce=b*pe+P*ve+te;c[le]=(p*pe+S*ve+z)/Ce,h[le]=(y*pe+T*ve+W)/Ce}}static squareToQuadrilateral(c,h,p,y,b,S,T,P){const z=c-p+b-T,W=h-y+S-P;if(z===0&&W===0)return new An(p-c,b-p,c,y-h,S-y,h,0,0,1);{const te=p-b,ne=T-b,le=y-S,pe=P-S,ve=te*pe-ne*le,Ce=(z*pe-ne*W)/ve,Le=(te*W-z*le)/ve;return new An(p-c+Ce*p,T-c+Le*T,c,y-h+Ce*y,P-h+Le*P,h,Ce,Le,1)}}static quadrilateralToSquare(c,h,p,y,b,S,T,P){return An.squareToQuadrilateral(c,h,p,y,b,S,T,P).buildAdjoint()}buildAdjoint(){return new An(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new An(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class Qn extends Ga{sampleGrid(c,h,p,y,b,S,T,P,z,W,te,ne,le,pe,ve,Ce,Le,Ze,nt){const Xe=An.quadrilateralToQuadrilateral(y,b,S,T,P,z,W,te,ne,le,pe,ve,Ce,Le,Ze,nt);return this.sampleGridWithTransform(c,h,p,Xe)}sampleGridWithTransform(c,h,p,y){if(h<=0||p<=0)throw new G;const b=new Q(h,p),S=new Float32Array(2*h);for(let T=0;T<p;T++){const P=S.length,z=T+.5;for(let W=0;W<P;W+=2)S[W]=W/2+.5,S[W+1]=z;y.transformPoints(S),Ga.checkAndNudgePoints(c,S);try{for(let W=0;W<P;W+=2)c.get(Math.floor(S[W]),Math.floor(S[W+1]))&&b.set(W/2,T)}catch{throw new G}}return b}}class Nr{static setGridSampler(c){Nr.gridSampler=c}static getInstance(){return Nr.gridSampler}}Nr.gridSampler=new Qn;class sn{constructor(c,h){this.x=c,this.y=h}toResultPoint(){return new ct(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class qs{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let h=this.getMatrixCenter(),p=this.getBullsEyeCorners(h);if(c){let S=p[0];p[0]=p[2],p[2]=S}this.extractParameters(p);let y=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),b=this.getMatrixCornerPoints(p);return new ea(y,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new G;let h=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(c[0],c[1],h),this.sampleLine(c[1],c[2],h),this.sampleLine(c[2],c[3],h),this.sampleLine(c[3],c[0],h)]);this.shift=this.getRotation(p,h);let y=0;for(let S=0;S<4;S++){let T=p[(this.shift+S)%4];this.compact?(y<<=7,y+=T>>1&127):(y<<=10,y+=(T>>2&992)+(T>>1&31))}let b=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(c,h){let p=0;c.forEach((y,b,S)=>{let T=(y>>h-2<<1)+(y&1);p=(p<<3)+T}),p=((p&1)<<11)+(p>>1);for(let y=0;y<4;y++)if(R.bitCount(p^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new G}getCorrectedParameterData(c,h){let p,y;h?(p=7,y=2):(p=10,y=4);let b=p-y,S=new Int32Array(p);for(let P=p-1;P>=0;--P)S[P]=c&15,c>>=4;try{new gt(Ke.AZTEC_PARAM).decode(S,b)}catch{throw new G}let T=0;for(let P=0;P<y;P++)T=(T<<4)+S[P];return T}getBullsEyeCorners(c){let h=c,p=c,y=c,b=c,S=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let te=this.getFirstDifferent(h,S,1,-1),ne=this.getFirstDifferent(p,S,1,1),le=this.getFirstDifferent(y,S,-1,1),pe=this.getFirstDifferent(b,S,-1,-1);if(this.nbCenterLayers>2){let ve=this.distancePoint(pe,te)*this.nbCenterLayers/(this.distancePoint(b,h)*(this.nbCenterLayers+2));if(ve<.75||ve>1.25||!this.isWhiteOrBlackRectangle(te,ne,le,pe))break}h=te,p=ne,y=le,b=pe,S=!S}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let T=new ct(h.getX()+.5,h.getY()-.5),P=new ct(p.getX()+.5,p.getY()+.5),z=new ct(y.getX()-.5,y.getY()+.5),W=new ct(b.getX()-.5,b.getY()-.5);return this.expandSquare([T,P,z,W],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,h,p,y;try{let T=new jr(this.image).detect();c=T[0],h=T[1],p=T[2],y=T[3]}catch{let P=this.image.getWidth()/2,z=this.image.getHeight()/2;c=this.getFirstDifferent(new sn(P+7,z-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new sn(P+7,z+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new sn(P-7,z+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new sn(P-7,z-7),!1,-1,-1).toResultPoint()}let b=it.round((c.getX()+y.getX()+h.getX()+p.getX())/4),S=it.round((c.getY()+y.getY()+h.getY()+p.getY())/4);try{let T=new jr(this.image,15,b,S).detect();c=T[0],h=T[1],p=T[2],y=T[3]}catch{c=this.getFirstDifferent(new sn(b+7,S-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new sn(b+7,S+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new sn(b-7,S+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new sn(b-7,S-7),!1,-1,-1).toResultPoint()}return b=it.round((c.getX()+y.getX()+h.getX()+p.getX())/4),S=it.round((c.getY()+y.getY()+h.getY()+p.getY())/4),new sn(b,S)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,h,p,y,b){let S=Nr.getInstance(),T=this.getDimension(),P=T/2-this.nbCenterLayers,z=T/2+this.nbCenterLayers;return S.sampleGrid(c,T,T,P,P,z,P,z,z,P,z,h.getX(),h.getY(),p.getX(),p.getY(),y.getX(),y.getY(),b.getX(),b.getY())}sampleLine(c,h,p){let y=0,b=this.distanceResultPoint(c,h),S=b/p,T=c.getX(),P=c.getY(),z=S*(h.getX()-c.getX())/b,W=S*(h.getY()-c.getY())/b;for(let te=0;te<p;te++)this.image.get(it.round(T+te*z),it.round(P+te*W))&&(y|=1<<p-te-1);return y}isWhiteOrBlackRectangle(c,h,p,y){let b=3;c=new sn(c.getX()-b,c.getY()+b),h=new sn(h.getX()-b,h.getY()-b),p=new sn(p.getX()+b,p.getY()-b),y=new sn(y.getX()+b,y.getY()+b);let S=this.getColor(y,c);if(S===0)return!1;let T=this.getColor(c,h);return T!==S||(T=this.getColor(h,p),T!==S)?!1:(T=this.getColor(p,y),T===S)}getColor(c,h){let p=this.distancePoint(c,h),y=(h.getX()-c.getX())/p,b=(h.getY()-c.getY())/p,S=0,T=c.getX(),P=c.getY(),z=this.image.get(c.getX(),c.getY()),W=Math.ceil(p);for(let ne=0;ne<W;ne++)T+=y,P+=b,this.image.get(it.round(T),it.round(P))!==z&&S++;let te=S/p;return te>.1&&te<.9?0:te<=.1===z?1:-1}getFirstDifferent(c,h,p,y){let b=c.getX()+p,S=c.getY()+y;for(;this.isValid(b,S)&&this.image.get(b,S)===h;)b+=p,S+=y;for(b-=p,S-=y;this.isValid(b,S)&&this.image.get(b,S)===h;)b+=p;for(b-=p;this.isValid(b,S)&&this.image.get(b,S)===h;)S+=y;return S-=y,new sn(b,S)}expandSquare(c,h,p){let y=p/(2*h),b=c[0].getX()-c[2].getX(),S=c[0].getY()-c[2].getY(),T=(c[0].getX()+c[2].getX())/2,P=(c[0].getY()+c[2].getY())/2,z=new ct(T+y*b,P+y*S),W=new ct(T-y*b,P-y*S);b=c[1].getX()-c[3].getX(),S=c[1].getY()-c[3].getY(),T=(c[1].getX()+c[3].getX())/2,P=(c[1].getY()+c[3].getY())/2;let te=new ct(T+y*b,P+y*S),ne=new ct(T-y*b,P-y*S);return[z,te,W,ne]}isValid(c,h){return c>=0&&c<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(c){let h=it.round(c.getX()),p=it.round(c.getY());return this.isValid(h,p)}distancePoint(c,h){return it.distance(c.getX(),c.getY(),h.getX(),h.getY())}distanceResultPoint(c,h){return it.distance(c.getX(),c.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Wi{decode(c,h=null){let p=null,y=new qs(c.getBlackMatrix()),b=null,S=null;try{let W=y.detectMirror(!1);b=W.getPoints(),this.reportFoundResultPoints(h,b),S=new wt().decode(W)}catch(W){p=W}if(S==null)try{let W=y.detectMirror(!0);b=W.getPoints(),this.reportFoundResultPoints(h,b),S=new wt().decode(W)}catch(W){throw p??W}let T=new ye(S.getText(),S.getRawBytes(),S.getNumBits(),b,ae.AZTEC,E.currentTimeMillis()),P=S.getByteSegments();P!=null&&T.putMetadata(ce.BYTE_SEGMENTS,P);let z=S.getECLevel();return z!=null&&T.putMetadata(ce.ERROR_CORRECTION_LEVEL,z),T}reportFoundResultPoints(c,h){if(c!=null){let p=c.get(I.NEED_RESULT_POINT_CALLBACK);p!=null&&h.forEach((y,b,S)=>{p.foundPossibleResultPoint(y)})}}reset(){}}class yi extends _e{constructor(c=500){super(new Wi,c)}}class un{decode(c,h){try{return this.doDecode(c,h)}catch{if(h&&h.get(I.TRY_HARDER)===!0&&c.isRotateSupported()){const b=c.rotateCounterClockwise(),S=this.doDecode(b,h),T=S.getResultMetadata();let P=270;T!==null&&T.get(ce.ORIENTATION)===!0&&(P=P+T.get(ce.ORIENTATION)%360),S.putMetadata(ce.ORIENTATION,P);const z=S.getResultPoints();if(z!==null){const W=b.getHeight();for(let te=0;te<z.length;te++)z[te]=new ct(W-z[te].getY()-1,z[te].getX())}return S}else throw new G}}reset(){}doDecode(c,h){const p=c.getWidth(),y=c.getHeight();let b=new U(p);const S=h&&h.get(I.TRY_HARDER)===!0,T=Math.max(1,y>>(S?8:5));let P;S?P=y:P=15;const z=Math.trunc(y/2);for(let W=0;W<P;W++){const te=Math.trunc((W+1)/2),ne=(W&1)===0,le=z+T*(ne?te:-te);if(le<0||le>=y)break;try{b=c.getBlackRow(le,b)}catch{continue}for(let pe=0;pe<2;pe++){if(pe===1&&(b.reverse(),h&&h.get(I.NEED_RESULT_POINT_CALLBACK)===!0)){const ve=new Map;h.forEach((Ce,Le)=>ve.set(Le,Ce)),ve.delete(I.NEED_RESULT_POINT_CALLBACK),h=ve}try{const ve=this.decodeRow(le,b,h);if(pe===1){ve.putMetadata(ce.ORIENTATION,180);const Ce=ve.getResultPoints();Ce!==null&&(Ce[0]=new ct(p-Ce[0].getX()-1,Ce[0].getY()),Ce[1]=new ct(p-Ce[1].getX()-1,Ce[1].getY()))}return ve}catch{}}}throw new G}static recordPattern(c,h,p){const y=p.length;for(let z=0;z<y;z++)p[z]=0;const b=c.getSize();if(h>=b)throw new G;let S=!c.get(h),T=0,P=h;for(;P<b;){if(c.get(P)!==S)p[T]++;else{if(++T===y)break;p[T]=1,S=!S}P++}if(!(T===y||T===y-1&&P===b))throw new G}static recordPatternInReverse(c,h,p){let y=p.length,b=c.get(h);for(;h>0&&y>=0;)c.get(--h)!==b&&(y--,b=!b);if(y>=0)throw new G;un.recordPattern(c,h+1,p)}static patternMatchVariance(c,h,p){const y=c.length;let b=0,S=0;for(let z=0;z<y;z++)b+=c[z],S+=h[z];if(b<S)return Number.POSITIVE_INFINITY;const T=b/S;p*=T;let P=0;for(let z=0;z<y;z++){const W=c[z],te=h[z]*T,ne=W>te?W-te:te-W;if(ne>p)return Number.POSITIVE_INFINITY;P+=ne}return P/b}}class rt extends un{static findStartPattern(c){const h=c.getSize(),p=c.getNextSet(0);let y=0,b=Int32Array.from([0,0,0,0,0,0]),S=p,T=!1;const P=6;for(let z=p;z<h;z++)if(c.get(z)!==T)b[y]++;else{if(y===P-1){let W=rt.MAX_AVG_VARIANCE,te=-1;for(let ne=rt.CODE_START_A;ne<=rt.CODE_START_C;ne++){const le=un.patternMatchVariance(b,rt.CODE_PATTERNS[ne],rt.MAX_INDIVIDUAL_VARIANCE);le<W&&(W=le,te=ne)}if(te>=0&&c.isRange(Math.max(0,S-(z-S)/2),S,!1))return Int32Array.from([S,z,te]);S+=b[0]+b[1],b=b.slice(2,b.length-1),b[y-1]=0,b[y]=0,y--}else y++;b[y]=1,T=!T}throw new G}static decodeCode(c,h,p){un.recordPattern(c,p,h);let y=rt.MAX_AVG_VARIANCE,b=-1;for(let S=0;S<rt.CODE_PATTERNS.length;S++){const T=rt.CODE_PATTERNS[S],P=this.patternMatchVariance(h,T,rt.MAX_INDIVIDUAL_VARIANCE);P<y&&(y=P,b=S)}if(b>=0)return b;throw new G}decodeRow(c,h,p){const y=p&&p.get(I.ASSUME_GS1)===!0,b=rt.findStartPattern(h),S=b[2];let T=0;const P=new Uint8Array(20);P[T++]=S;let z;switch(S){case rt.CODE_START_A:z=rt.CODE_CODE_A;break;case rt.CODE_START_B:z=rt.CODE_CODE_B;break;case rt.CODE_START_C:z=rt.CODE_CODE_C;break;default:throw new F}let W=!1,te=!1,ne="",le=b[0],pe=b[1];const ve=Int32Array.from([0,0,0,0,0,0]);let Ce=0,Le=0,Ze=S,nt=0,Xe=!0,Vt=!1,Ut=!1;for(;!W;){const Mo=te;switch(te=!1,Ce=Le,Le=rt.decodeCode(h,ve,pe),P[T++]=Le,Le!==rt.CODE_STOP&&(Xe=!0),Le!==rt.CODE_STOP&&(nt++,Ze+=nt*Le),le=pe,pe+=ve.reduce((Gs,A0)=>Gs+A0,0),Le){case rt.CODE_START_A:case rt.CODE_START_B:case rt.CODE_START_C:throw new F}switch(z){case rt.CODE_CODE_A:if(Le<64)Ut===Vt?ne+=String.fromCharCode(32+Le):ne+=String.fromCharCode(32+Le+128),Ut=!1;else if(Le<96)Ut===Vt?ne+=String.fromCharCode(Le-64):ne+=String.fromCharCode(Le+64),Ut=!1;else switch(Le!==rt.CODE_STOP&&(Xe=!1),Le){case rt.CODE_FNC_1:y&&(ne.length===0?ne+="]C1":ne+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_A:!Vt&&Ut?(Vt=!0,Ut=!1):Vt&&Ut?(Vt=!1,Ut=!1):Ut=!0;break;case rt.CODE_SHIFT:te=!0,z=rt.CODE_CODE_B;break;case rt.CODE_CODE_B:z=rt.CODE_CODE_B;break;case rt.CODE_CODE_C:z=rt.CODE_CODE_C;break;case rt.CODE_STOP:W=!0;break}break;case rt.CODE_CODE_B:if(Le<96)Ut===Vt?ne+=String.fromCharCode(32+Le):ne+=String.fromCharCode(32+Le+128),Ut=!1;else switch(Le!==rt.CODE_STOP&&(Xe=!1),Le){case rt.CODE_FNC_1:y&&(ne.length===0?ne+="]C1":ne+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_B:!Vt&&Ut?(Vt=!0,Ut=!1):Vt&&Ut?(Vt=!1,Ut=!1):Ut=!0;break;case rt.CODE_SHIFT:te=!0,z=rt.CODE_CODE_A;break;case rt.CODE_CODE_A:z=rt.CODE_CODE_A;break;case rt.CODE_CODE_C:z=rt.CODE_CODE_C;break;case rt.CODE_STOP:W=!0;break}break;case rt.CODE_CODE_C:if(Le<100)Le<10&&(ne+="0"),ne+=Le;else switch(Le!==rt.CODE_STOP&&(Xe=!1),Le){case rt.CODE_FNC_1:y&&(ne.length===0?ne+="]C1":ne+="");break;case rt.CODE_CODE_A:z=rt.CODE_CODE_A;break;case rt.CODE_CODE_B:z=rt.CODE_CODE_B;break;case rt.CODE_STOP:W=!0;break}break}Mo&&(z=z===rt.CODE_CODE_A?rt.CODE_CODE_B:rt.CODE_CODE_A)}const Fa=pe-le;if(pe=h.getNextUnset(pe),!h.isRange(pe,Math.min(h.getSize(),pe+(pe-le)/2),!1))throw new G;if(Ze-=nt*Ce,Ze%103!==Ce)throw new _;const Ps=ne.length;if(Ps===0)throw new G;Ps>0&&Xe&&(z===rt.CODE_CODE_C?ne=ne.substring(0,Ps-2):ne=ne.substring(0,Ps-1));const Ja=(b[1]+b[0])/2,Pn=le+Fa/2,ga=P.length,es=new Uint8Array(ga);for(let Mo=0;Mo<ga;Mo++)es[Mo]=P[Mo];const fl=[new ct(Ja,c),new ct(Pn,c)];return new ye(ne,es,0,fl,ae.CODE_128,new Date().getTime())}}rt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],rt.MAX_AVG_VARIANCE=.25,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.CODE_SHIFT=98,rt.CODE_CODE_C=99,rt.CODE_CODE_B=100,rt.CODE_CODE_A=101,rt.CODE_FNC_1=102,rt.CODE_FNC_2=97,rt.CODE_FNC_3=96,rt.CODE_FNC_4_A=101,rt.CODE_FNC_4_B=100,rt.CODE_START_A=103,rt.CODE_START_B=104,rt.CODE_START_C=105,rt.CODE_STOP=106;class wn extends un{constructor(c=!1,h=!1){super(),this.usingCheckDigit=c,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,h,p){let y=this.counters;y.fill(0),this.decodeRowResult="";let b=wn.findAsteriskPattern(h,y),S=h.getNextSet(b[1]),T=h.getSize(),P,z;do{wn.recordPattern(h,S,y);let ve=wn.toNarrowWidePattern(y);if(ve<0)throw new G;P=wn.patternToChar(ve),this.decodeRowResult+=P,z=S;for(let Ce of y)S+=Ce;S=h.getNextSet(S)}while(P!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let W=0;for(let ve of y)W+=ve;let te=S-z-W;if(S!==T&&te*2<W)throw new G;if(this.usingCheckDigit){let ve=this.decodeRowResult.length-1,Ce=0;for(let Le=0;Le<ve;Le++)Ce+=wn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Le));if(this.decodeRowResult.charAt(ve)!==wn.ALPHABET_STRING.charAt(Ce%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ve)}if(this.decodeRowResult.length===0)throw new G;let ne;this.extendedMode?ne=wn.decodeExtended(this.decodeRowResult):ne=this.decodeRowResult;let le=(b[1]+b[0])/2,pe=z+W/2;return new ye(ne,null,0,[new ct(le,c),new ct(pe,c)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(c,h){let p=c.getSize(),y=c.getNextSet(0),b=0,S=y,T=!1,P=h.length;for(let z=y;z<p;z++)if(c.get(z)!==T)h[b]++;else{if(b===P-1){if(this.toNarrowWidePattern(h)===wn.ASTERISK_ENCODING&&c.isRange(Math.max(0,S-Math.floor((z-S)/2)),S,!1))return[S,z];S+=h[0]+h[1],h.copyWithin(0,2,2+b-1),h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,T=!T}throw new G}static toNarrowWidePattern(c){let h=c.length,p=0,y;do{let b=2147483647;for(let P of c)P<b&&P>p&&(b=P);p=b,y=0;let S=0,T=0;for(let P=0;P<h;P++){let z=c[P];z>p&&(T|=1<<h-1-P,y++,S+=z)}if(y===3){for(let P=0;P<h&&y>0;P++){let z=c[P];if(z>p&&(y--,z*2>=S))return-1}return T}}while(y>3);return-1}static patternToChar(c){for(let h=0;h<wn.CHARACTER_ENCODINGS.length;h++)if(wn.CHARACTER_ENCODINGS[h]===c)return wn.ALPHABET_STRING.charAt(h);if(c===wn.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(c){let h=c.length,p="";for(let y=0;y<h;y++){let b=c.charAt(y);if(b==="+"||b==="$"||b==="%"||b==="/"){let S=c.charAt(y+1),T="\0";switch(b){case"+":if(S>="A"&&S<="Z")T=String.fromCharCode(S.charCodeAt(0)+32);else throw new F;break;case"$":if(S>="A"&&S<="Z")T=String.fromCharCode(S.charCodeAt(0)-64);else throw new F;break;case"%":if(S>="A"&&S<="E")T=String.fromCharCode(S.charCodeAt(0)-38);else if(S>="F"&&S<="J")T=String.fromCharCode(S.charCodeAt(0)-11);else if(S>="K"&&S<="O")T=String.fromCharCode(S.charCodeAt(0)+16);else if(S>="P"&&S<="T")T=String.fromCharCode(S.charCodeAt(0)+43);else if(S==="U")T="\0";else if(S==="V")T="@";else if(S==="W")T="`";else if(S==="X"||S==="Y"||S==="Z")T="";else throw new F;break;case"/":if(S>="A"&&S<="O")T=String.fromCharCode(S.charCodeAt(0)-32);else if(S==="Z")T=":";else throw new F;break}p+=T,y++}else p+=b}return p}}wn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",wn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],wn.ASTERISK_ENCODING=148;class dn extends un{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,h,p){let y=this.decodeStart(h),b=this.decodeEnd(h),S=new X;dn.decodeMiddle(h,y[1],b[0],S);let T=S.toString(),P=null;p!=null&&(P=p.get(I.ALLOWED_LENGTHS)),P==null&&(P=dn.DEFAULT_ALLOWED_LENGTHS);let z=T.length,W=!1,te=0;for(let pe of P){if(z===pe){W=!0;break}pe>te&&(te=pe)}if(!W&&z>te&&(W=!0),!W)throw new F;const ne=[new ct(y[1],c),new ct(b[0],c)];return new ye(T,null,0,ne,ae.ITF,new Date().getTime())}static decodeMiddle(c,h,p,y){let b=new Int32Array(10),S=new Int32Array(5),T=new Int32Array(5);for(b.fill(0),S.fill(0),T.fill(0);h<p;){un.recordPattern(c,h,b);for(let z=0;z<5;z++){let W=2*z;S[z]=b[W],T[z]=b[W+1]}let P=dn.decodeDigit(S);y.append(P.toString()),P=this.decodeDigit(T),y.append(P.toString()),b.forEach(function(z){h+=z})}}decodeStart(c){let h=dn.skipWhiteSpace(c),p=dn.findGuardPattern(c,h,dn.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(c,p[0]),p}validateQuietZone(c,h){let p=this.narrowLineWidth*10;p=p<h?p:h;for(let y=h-1;p>0&&y>=0&&!c.get(y);y--)p--;if(p!==0)throw new G}static skipWhiteSpace(c){const h=c.getSize(),p=c.getNextSet(0);if(p===h)throw new G;return p}decodeEnd(c){c.reverse();try{let h=dn.skipWhiteSpace(c),p;try{p=dn.findGuardPattern(c,h,dn.END_PATTERN_REVERSED[0])}catch(b){b instanceof G&&(p=dn.findGuardPattern(c,h,dn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,p[0]);let y=p[0];return p[0]=c.getSize()-p[1],p[1]=c.getSize()-y,p}finally{c.reverse()}}static findGuardPattern(c,h,p){let y=p.length,b=new Int32Array(y),S=c.getSize(),T=!1,P=0,z=h;b.fill(0);for(let W=h;W<S;W++)if(c.get(W)!==T)b[P]++;else{if(P===y-1){if(un.patternMatchVariance(b,p,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return[z,W];z+=b[0]+b[1],E.arraycopy(b,2,b,0,P-1),b[P-1]=0,b[P]=0,P--}else P++;b[P]=1,T=!T}throw new G}static decodeDigit(c){let h=dn.MAX_AVG_VARIANCE,p=-1,y=dn.PATTERNS.length;for(let b=0;b<y;b++){let S=dn.PATTERNS[b],T=un.patternMatchVariance(c,S,dn.MAX_INDIVIDUAL_VARIANCE);T<h?(h=T,p=b):T===h&&(p=-1)}if(p>=0)return p%10;throw new G}}dn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dn.MAX_AVG_VARIANCE=.38,dn.MAX_INDIVIDUAL_VARIANCE=.5,dn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dn.START_PATTERN=Int32Array.from([1,1,1,1]),dn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Cn extends un{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let h=!1,p,y=0,b=Int32Array.from([0,0,0]);for(;!h;){b=Int32Array.from([0,0,0]),p=Cn.findGuardPattern(c,y,!1,this.START_END_PATTERN,b);let S=p[0];y=p[1];let T=S-(y-S);T>=0&&(h=c.isRange(T,S,!1))}return p}static checkChecksum(c){return Cn.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let h=c.length;if(h===0)return!1;let p=parseInt(c.charAt(h-1),10);return Cn.getStandardUPCEANChecksum(c.substring(0,h-1))===p}static getStandardUPCEANChecksum(c){let h=c.length,p=0;for(let y=h-1;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;p+=b}p*=3;for(let y=h-2;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;p+=b}return(1e3-p)%10}static decodeEnd(c,h){return Cn.findGuardPattern(c,h,!1,Cn.START_END_PATTERN,new Int32Array(Cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,h,p,y){return this.findGuardPattern(c,h,p,y,new Int32Array(y.length))}static findGuardPattern(c,h,p,y,b){let S=c.getSize();h=p?c.getNextUnset(h):c.getNextSet(h);let T=0,P=h,z=y.length,W=p;for(let te=h;te<S;te++)if(c.get(te)!==W)b[T]++;else{if(T===z-1){if(un.patternMatchVariance(b,y,Cn.MAX_INDIVIDUAL_VARIANCE)<Cn.MAX_AVG_VARIANCE)return Int32Array.from([P,te]);P+=b[0]+b[1];let ne=b.slice(2,b.length-1);for(let le=0;le<T-1;le++)b[le]=ne[le];b[T-1]=0,b[T]=0,T--}else T++;b[T]=1,W=!W}throw new G}static decodeDigit(c,h,p,y){this.recordPattern(c,p,h);let b=this.MAX_AVG_VARIANCE,S=-1,T=y.length;for(let P=0;P<T;P++){let z=y[P],W=un.patternMatchVariance(h,z,Cn.MAX_INDIVIDUAL_VARIANCE);W<b&&(b=W,S=P)}if(S>=0)return S;throw new G}}Cn.MAX_AVG_VARIANCE=.48,Cn.MAX_INDIVIDUAL_VARIANCE=.7,Cn.START_END_PATTERN=Int32Array.from([1,1,1]),Cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,h,p){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(h,p,y),S=y.toString(),T=Gi.parseExtensionString(S),P=[new ct((p[0]+p[1])/2,c),new ct(b,c)],z=new ye(S,null,0,P,ae.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&z.putAllMetadata(T),z}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],T=0;for(let z=0;z<5&&S<b;z++){let W=Cn.decodeDigit(c,y,S,Cn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+W%10);for(let te of y)S+=te;W>=10&&(T|=1<<4-z),z!==4&&(S=c.getNextSet(S),S=c.getNextUnset(S))}if(p.length!==5)throw new G;let P=this.determineCheckDigit(T);if(Gi.extensionChecksum(p.toString())!==P)throw new G;return S}static extensionChecksum(c){let h=c.length,p=0;for(let y=h-2;y>=0;y-=2)p+=c.charAt(y).charCodeAt(0)-48;p*=3;for(let y=h-1;y>=0;y-=2)p+=c.charAt(y).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(c){for(let h=0;h<10;h++)if(c===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new G}static parseExtensionString(c){if(c.length!==5)return null;let h=Gi.parseExtension5String(c);return h==null?null:new Map([[ce.SUGGESTED_PRICE,h]])}static parseExtension5String(c){let h;switch(c.charAt(0)){case"0":h="";break;case"5":h="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let p=parseInt(c.substring(1)),y=(p/100).toString(),b=p%100,S=b<10?"0"+b:b.toString();return h+y+"."+S}}class xs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,h,p){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(h,p,y),S=y.toString(),T=xs.parseExtensionString(S),P=[new ct((p[0]+p[1])/2,c),new ct(b,c)],z=new ye(S,null,0,P,ae.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&z.putAllMetadata(T),z}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],T=0;for(let P=0;P<2&&S<b;P++){let z=Cn.decodeDigit(c,y,S,Cn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+z%10);for(let W of y)S+=W;z>=10&&(T|=1<<1-P),P!==1&&(S=c.getNextSet(S),S=c.getNextUnset(S))}if(p.length!==2)throw new G;if(parseInt(p.toString())%4!==T)throw new G;return S}static parseExtensionString(c){return c.length!==2?null:new Map([[ce.ISSUE_NUMBER,parseInt(c)]])}}class Mu{static decodeRow(c,h,p){let y=Cn.findGuardPattern(h,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gi().decodeRow(c,h,y)}catch{return new xs().decodeRow(c,h,y)}}}Mu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class en extends Cn{constructor(){super(),this.decodeRowStringBuffer="",en.L_AND_G_PATTERNS=en.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let h=en.L_PATTERNS[c-10],p=new Int32Array(h.length);for(let y=0;y<h.length;y++)p[y]=h[h.length-y-1];en.L_AND_G_PATTERNS[c]=p}}decodeRow(c,h,p){let y=en.findStartGuardPattern(h),b=p==null?null:p.get(I.NEED_RESULT_POINT_CALLBACK);if(b!=null){const Xe=new ct((y[0]+y[1])/2,c);b.foundPossibleResultPoint(Xe)}let S=this.decodeMiddle(h,y,this.decodeRowStringBuffer),T=S.rowOffset,P=S.resultString;if(b!=null){const Xe=new ct(T,c);b.foundPossibleResultPoint(Xe)}let z=this.decodeEnd(h,T);if(b!=null){const Xe=new ct((z[0]+z[1])/2,c);b.foundPossibleResultPoint(Xe)}let W=z[1],te=W+(W-z[0]);if(te>=h.getSize()||!h.isRange(W,te,!1))throw new G;let ne=P.toString();if(ne.length<8)throw new F;if(!en.checkChecksum(ne))throw new _;let le=(y[1]+y[0])/2,pe=(z[1]+z[0])/2,ve=this.getBarcodeFormat(),Ce=[new ct(le,c),new ct(pe,c)],Le=new ye(ne,null,0,Ce,ve,new Date().getTime()),Ze=0;try{let Xe=Mu.decodeRow(c,h,z[1]);Le.putMetadata(ce.UPC_EAN_EXTENSION,Xe.getText()),Le.putAllMetadata(Xe.getResultMetadata()),Le.addResultPoints(Xe.getResultPoints()),Ze=Xe.getText().length}catch{}let nt=p==null?null:p.get(I.ALLOWED_EAN_EXTENSIONS);if(nt!=null){let Xe=!1;for(let Vt in nt)if(Ze.toString()===Vt){Xe=!0;break}if(!Xe)throw new G}return Le}decodeEnd(c,h){return en.findGuardPattern(c,h,!1,en.START_END_PATTERN,new Int32Array(en.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return en.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let h=c.length;if(h===0)return!1;let p=parseInt(c.charAt(h-1),10);return en.getStandardUPCEANChecksum(c.substring(0,h-1))===p}static getStandardUPCEANChecksum(c){let h=c.length,p=0;for(let y=h-1;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;p+=b}p*=3;for(let y=h-2;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;p+=b}return(1e3-p)%10}}class Ka extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],T=0;for(let z=0;z<6&&S<b;z++){let W=en.decodeDigit(c,y,S,en.L_AND_G_PATTERNS);p+=String.fromCharCode(48+W%10);for(let te of y)S+=te;W>=10&&(T|=1<<5-z)}p=Ka.determineFirstDigit(p,T),S=en.findGuardPattern(c,S,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let z=0;z<6&&S<b;z++){let W=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+W);for(let te of y)S+=te}return{rowOffset:S,resultString:p}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(c,h){for(let p=0;p<10;p++)if(h===this.FIRST_DIGIT_ENCODINGS[p])return c=String.fromCharCode(48+p)+c,c;throw new G}}Ka.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Du extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,h,p){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1];for(let P=0;P<4&&S<b;P++){let z=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+z);for(let W of y)S+=W}S=en.findGuardPattern(c,S,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<4&&S<b;P++){let z=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+z);for(let W of y)S+=W}return{rowOffset:S,resultString:p}}getBarcodeFormat(){return ae.EAN_8}}class Rt extends en{constructor(){super(...arguments),this.ean13Reader=new Ka}getBarcodeFormat(){return ae.UPC_A}decode(c,h){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,h,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,h,p))}decodeMiddle(c,h,p){return this.ean13Reader.decodeMiddle(c,h,p)}maybeReturnResult(c){let h=c.getText();if(h.charAt(0)==="0"){let p=new ye(h.substring(1),null,null,c.getResultPoints(),ae.UPC_A);return c.getResultMetadata()!=null&&p.putAllMetadata(c.getResultMetadata()),p}else throw new G}reset(){this.ean13Reader.reset()}}class xn extends en{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,h,p){const y=this.decodeMiddleCounters.map(z=>z);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const b=c.getSize();let S=h[1],T=0;for(let z=0;z<6&&S<b;z++){const W=xn.decodeDigit(c,y,S,xn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+W%10);for(let te of y)S+=te;W>=10&&(T|=1<<5-z)}let P=xn.determineNumSysAndCheckDigit(p,T);return{rowOffset:S,resultString:P}}decodeEnd(c,h){return xn.findGuardPatternWithoutCounters(c,h,!0,xn.MIDDLE_END_PATTERN)}checkChecksum(c){return en.checkChecksum(xn.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,h){for(let p=0;p<=1;p++)for(let y=0;y<10;y++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][y]){let b=String.fromCharCode(48+p),S=String.fromCharCode(48+y);return b+c+S}throw G.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(c){const h=c.slice(1,7).split("").map(b=>b.charCodeAt(0)),p=new X;p.append(c.charAt(0));let y=h[5];switch(y){case 0:case 1:case 2:p.appendChars(h,0,2),p.append(y),p.append("0000"),p.appendChars(h,2,3);break;case 3:p.appendChars(h,0,3),p.append("00000"),p.appendChars(h,3,2);break;case 4:p.appendChars(h,0,4),p.append("00000"),p.append(h[4]);break;default:p.appendChars(h,0,5),p.append("0000"),p.append(y);break}return c.length>=8&&p.append(c.charAt(7)),p.toString()}}xn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class or extends un{constructor(c){super();let h=c==null?null:c.get(I.POSSIBLE_FORMATS),p=[];r(h)?(p.push(new Ka),p.push(new Rt),p.push(new Du),p.push(new xn)):(h.indexOf(ae.EAN_13)>-1&&p.push(new Ka),h.indexOf(ae.UPC_A)>-1&&p.push(new Rt),h.indexOf(ae.EAN_8)>-1&&p.push(new Du),h.indexOf(ae.UPC_E)>-1&&p.push(new xn)),this.readers=p}decodeRow(c,h,p){for(let y of this.readers)try{const b=y.decodeRow(c,h,p),S=b.getBarcodeFormat()===ae.EAN_13&&b.getText().charAt(0)==="0",T=p==null?null:p.get(I.POSSIBLE_FORMATS),P=T==null||T.includes(ae.UPC_A);if(S&&P){const z=b.getRawBytes(),W=new ye(b.getText().substring(1),z,z?z.length:null,b.getResultPoints(),ae.UPC_A);return W.putAllMetadata(b.getResultMetadata()),W}return b}catch{}throw new G}reset(){for(let c of this.readers)c.reset()}}class hn extends un{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,h){for(let p=0;p<h.length;p++)if(un.patternMatchVariance(c,h[p],hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return p;throw new G}static count(c){return it.sum(new Int32Array(c))}static increment(c,h){let p=0,y=h[0];for(let b=1;b<c.length;b++)h[b]>y&&(y=h[b],p=b);c[p]++}static decrement(c,h){let p=0,y=h[0];for(let b=1;b<c.length;b++)h[b]<y&&(y=h[b],p=b);c[p]--}static isFinderPattern(c){let h=c[0]+c[1],p=h+c[2]+c[3],y=h/p;if(y>=hn.MIN_FINDER_PATTERN_RATIO&&y<=hn.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;for(let T of c)T>S&&(S=T),T<b&&(b=T);return S<10*b}return!1}}hn.MAX_AVG_VARIANCE=.2,hn.MAX_INDIVIDUAL_VARIANCE=.45,hn.MIN_FINDER_PATTERN_RATIO=9.5/12,hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ms{constructor(c,h){this.value=c,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof Ms))return!1;const h=c;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class lr{constructor(c,h,p,y,b){this.value=c,this.startEnd=h,this.value=c,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new ct(p,b)),this.resultPoints.push(new ct(y,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof lr))return!1;const h=c;return this.value===h.value}hashCode(){return this.value}}class jn{constructor(){}static getRSSvalue(c,h,p){let y=0;for(let P of c)y+=P;let b=0,S=0,T=c.length;for(let P=0;P<T-1;P++){let z;for(z=1,S|=1<<P;z<c[P];z++,S&=~(1<<P)){let W=jn.combins(y-z-1,T-P-2);if(p&&S===0&&y-z-(T-P-1)>=T-P-1&&(W-=jn.combins(y-z-(T-P),T-P-2)),T-P-1>1){let te=0;for(let ne=y-z-(T-P-2);ne>h;ne--)te+=jn.combins(y-z-ne-1,T-P-3);W-=te*(T-1-P)}else y-z>h&&W--;b+=W}y-=z}return b}static combins(c,h){let p,y;c-h>h?(y=h,p=c-h):(y=c-h,p=h);let b=1,S=1;for(let T=c;T>p;T--)b*=T,S<=y&&(b/=S,S++);for(;S<=y;)b/=S,S++;return b}}class Sr{static buildBitArray(c){let h=c.length*2-1;c[c.length-1].getRightChar()==null&&(h-=1);let p=12*h,y=new U(p),b=0,T=c[0].getRightChar().getValue();for(let P=11;P>=0;--P)(T&1<<P)!=0&&y.set(b),b++;for(let P=1;P<c.length;++P){let z=c[P],W=z.getLeftChar().getValue();for(let te=11;te>=0;--te)(W&1<<te)!=0&&y.set(b),b++;if(z.getRightChar()!=null){let te=z.getRightChar().getValue();for(let ne=11;ne>=0;--ne)(te&1<<ne)!=0&&y.set(b),b++}}return y}}class mn{constructor(c,h){h?this.decodedInformation=null:(this.finished=c,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Dr{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class Ur extends Dr{constructor(c,h){super(c),this.value=h}getValue(){return this.value}isFNC1(){return this.value===Ur.FNC1}}Ur.FNC1="$";class Ba extends Dr{constructor(c,h,p){super(c),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class vs extends Dr{constructor(c,h,p){if(super(c),h<0||h>10||p<0||p>10)throw new F;this.firstDigit=h,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===vs.FNC1}isSecondDigitFNC1(){return this.secondDigit===vs.FNC1}isAnyFNC1(){return this.firstDigit===vs.FNC1||this.secondDigit===vs.FNC1}}vs.FNC1=10;class dt{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new G;let h=c.substring(0,2);for(let b of dt.TWO_DIGIT_DATA_LENGTH)if(b[0]===h)return b[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(2,b[2],c):dt.processFixedAI(2,b[1],c);if(c.length<3)throw new G;let p=c.substring(0,3);for(let b of dt.THREE_DIGIT_DATA_LENGTH)if(b[0]===p)return b[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(3,b[2],c):dt.processFixedAI(3,b[1],c);for(let b of dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===p)return b[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,b[2],c):dt.processFixedAI(4,b[1],c);if(c.length<4)throw new G;let y=c.substring(0,4);for(let b of dt.FOUR_DIGIT_DATA_LENGTH)if(b[0]===y)return b[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,b[2],c):dt.processFixedAI(4,b[1],c);throw new G}static processFixedAI(c,h,p){if(p.length<c)throw new G;let y=p.substring(0,c);if(p.length<c+h)throw new G;let b=p.substring(c,c+h),S=p.substring(c+h),T="("+y+")"+b,P=dt.parseFieldsInGeneralPurpose(S);return P==null?T:T+P}static processVariableAI(c,h,p){let y=p.substring(0,c),b;p.length<c+h?b=p.length:b=c+h;let S=p.substring(c,b),T=p.substring(b),P="("+y+")"+S,z=dt.parseFieldsInGeneralPurpose(T);return z==null?P:P+z}}dt.VARIABLE_LENGTH=[],dt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",dt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",dt.VARIABLE_LENGTH,20],["22",dt.VARIABLE_LENGTH,29],["30",dt.VARIABLE_LENGTH,8],["37",dt.VARIABLE_LENGTH,8],["90",dt.VARIABLE_LENGTH,30],["91",dt.VARIABLE_LENGTH,30],["92",dt.VARIABLE_LENGTH,30],["93",dt.VARIABLE_LENGTH,30],["94",dt.VARIABLE_LENGTH,30],["95",dt.VARIABLE_LENGTH,30],["96",dt.VARIABLE_LENGTH,30],["97",dt.VARIABLE_LENGTH,3],["98",dt.VARIABLE_LENGTH,30],["99",dt.VARIABLE_LENGTH,30]],dt.THREE_DIGIT_DATA_LENGTH=[["240",dt.VARIABLE_LENGTH,30],["241",dt.VARIABLE_LENGTH,30],["242",dt.VARIABLE_LENGTH,6],["250",dt.VARIABLE_LENGTH,30],["251",dt.VARIABLE_LENGTH,30],["253",dt.VARIABLE_LENGTH,17],["254",dt.VARIABLE_LENGTH,20],["400",dt.VARIABLE_LENGTH,30],["401",dt.VARIABLE_LENGTH,30],["402",17],["403",dt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",dt.VARIABLE_LENGTH,20],["421",dt.VARIABLE_LENGTH,15],["422",3],["423",dt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",dt.VARIABLE_LENGTH,15],["391",dt.VARIABLE_LENGTH,18],["392",dt.VARIABLE_LENGTH,15],["393",dt.VARIABLE_LENGTH,18],["703",dt.VARIABLE_LENGTH,30]],dt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",dt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",dt.VARIABLE_LENGTH,20],["8003",dt.VARIABLE_LENGTH,30],["8004",dt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",dt.VARIABLE_LENGTH,30],["8008",dt.VARIABLE_LENGTH,12],["8018",18],["8020",dt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",dt.VARIABLE_LENGTH,70],["8200",dt.VARIABLE_LENGTH,70]];class bi{constructor(c){this.buffer=new X,this.information=c}decodeAllCodes(c,h){let p=h,y=null;do{let b=this.decodeGeneralPurposeField(p,y),S=dt.parseFieldsInGeneralPurpose(b.getNewString());if(S!=null&&c.append(S),b.isRemaining()?y=""+b.getRemainingValue():y=null,p===b.getNewPosition())break;p=b.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let h=c;h<c+3;++h)if(this.information.get(h))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(c,4);return b===0?new vs(this.information.getSize(),vs.FNC1,vs.FNC1):new vs(this.information.getSize(),b-1,vs.FNC1)}let h=this.extractNumericValueFromBitArray(c,7),p=(h-8)/11,y=(h-8)%11;return new vs(c+7,p,y)}extractNumericValueFromBitArray(c,h){return bi.extractNumericValueFromBitArray(this.information,c,h)}static extractNumericValueFromBitArray(c,h,p){let y=0;for(let b=0;b<p;++b)c.get(h+b)&&(y|=1<<p-b-1);return y}decodeGeneralPurposeField(c,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(c);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new Ba(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new Ba(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,h;do{let p=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),c=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),c=h.isFinished()):(h=this.parseNumericBlock(),c=h.isFinished()),!(p!==this.current.getPosition())&&!c)break}while(!c);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let h;return c.isSecondDigitFNC1()?h=new Ba(this.current.getPosition(),this.buffer.toString()):h=new Ba(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new mn(!0,h)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let h=new Ba(this.current.getPosition(),this.buffer.toString());return new mn(!0,h)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let h=new Ba(this.current.getPosition(),this.buffer.toString());return new mn(!0,h)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let h=new Ba(this.current.getPosition(),this.buffer.toString());return new mn(!0,h)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mn(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,5);if(h>=5&&h<16)return!0;if(c+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,7);if(p>=64&&p<116)return!0;if(c+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(c,8);return y>=232&&y<253}decodeIsoIec646(c){let h=this.extractNumericValueFromBitArray(c,5);if(h===15)return new Ur(c+5,Ur.FNC1);if(h>=5&&h<15)return new Ur(c+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(c,7);if(p>=64&&p<90)return new Ur(c+7,""+(p+1));if(p>=90&&p<116)return new Ur(c+7,""+(p+7));let y=this.extractNumericValueFromBitArray(c,8),b;switch(y){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new F}return new Ur(c+8,b)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,5);if(h>=5&&h<16)return!0;if(c+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,6);return p>=16&&p<63}decodeAlphanumeric(c){let h=this.extractNumericValueFromBitArray(c,5);if(h===15)return new Ur(c+5,Ur.FNC1);if(h>=5&&h<15)return new Ur(c+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(c,6);if(p>=32&&p<58)return new Ur(c+6,""+(p+33));let y;switch(p){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Qe("Decoding invalid alphanumeric value: "+p)}return new Ur(c+6,y)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let h=0;h<5&&h+c<this.information.getSize();++h)if(h===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+h))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let h=c;h<c+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let h=0;h<4&&h+c<this.information.getSize();++h)if(this.information.get(c+h))return!1;return!0}}class Pu{constructor(c){this.information=c,this.generalDecoder=new bi(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class zr extends Pu{constructor(c){super(c)}encodeCompressedGtin(c,h){c.append("(01)");let p=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,h,p)}encodeCompressedGtinWithoutAI(c,h,p){for(let y=0;y<4;++y){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*y,10);b/100===0&&c.append("0"),b/10===0&&c.append("0"),c.append(b)}zr.appendCheckDigit(c,p)}static appendCheckDigit(c,h){let p=0;for(let y=0;y<13;y++){let b=c.charAt(y+h).charCodeAt(0)-48;p+=(y&1)===0?3*b:b}p=10-p%10,p===10&&(p=0),c.append(p)}}zr.GTIN_SIZE=40;class Ys extends zr{constructor(c){super(c)}parseInformation(){let c=new X;c.append("(01)");let h=c.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(Ys.HEADER_SIZE,4);return c.append(p),this.encodeCompressedGtinWithoutAI(c,Ys.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(c,Ys.HEADER_SIZE+44)}}Ys.HEADER_SIZE=4;class bo extends Pu{constructor(c){super(c)}parseInformation(){let c=new X;return this.getGeneralDecoder().decodeAllCodes(c,bo.HEADER_SIZE)}}bo.HEADER_SIZE=5;class Ki extends zr{constructor(c){super(c)}encodeCompressedWeight(c,h,p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(h,p);this.addWeightCode(c,y);let b=this.checkWeight(y),S=1e5;for(let T=0;T<5;++T)b/S===0&&c.append("0"),S/=10;c.append(b)}}class Mn extends Ki{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=Mn.HEADER_SIZE+Ki.GTIN_SIZE+Mn.WEIGHT_SIZE)throw new G;let c=new X;return this.encodeCompressedGtin(c,Mn.HEADER_SIZE),this.encodeCompressedWeight(c,Mn.HEADER_SIZE+Ki.GTIN_SIZE,Mn.WEIGHT_SIZE),c.toString()}}Mn.HEADER_SIZE=5,Mn.WEIGHT_SIZE=15;class x0 extends Mn{constructor(c){super(c)}addWeightCode(c,h){c.append("(3103)")}checkWeight(c){return c}}class v0 extends Mn{constructor(c){super(c)}addWeightCode(c,h){h<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class _a extends zr{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<_a.HEADER_SIZE+zr.GTIN_SIZE)throw new G;let c=new X;this.encodeCompressedGtin(c,_a.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(_a.HEADER_SIZE+zr.GTIN_SIZE,_a.LAST_DIGIT_SIZE);c.append("(392"),c.append(h),c.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(_a.HEADER_SIZE+zr.GTIN_SIZE+_a.LAST_DIGIT_SIZE,null);return c.append(p.getNewString()),c.toString()}}_a.HEADER_SIZE=8,_a.LAST_DIGIT_SIZE=2;class Pr extends zr{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<Pr.HEADER_SIZE+zr.GTIN_SIZE)throw new G;let c=new X;this.encodeCompressedGtin(c,Pr.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Pr.HEADER_SIZE+zr.GTIN_SIZE,Pr.LAST_DIGIT_SIZE);c.append("(393"),c.append(h),c.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Pr.HEADER_SIZE+zr.GTIN_SIZE+Pr.LAST_DIGIT_SIZE,Pr.FIRST_THREE_DIGITS_SIZE);p/100==0&&c.append("0"),p/10==0&&c.append("0"),c.append(p);let y=this.getGeneralDecoder().decodeGeneralPurposeField(Pr.HEADER_SIZE+zr.GTIN_SIZE+Pr.LAST_DIGIT_SIZE+Pr.FIRST_THREE_DIGITS_SIZE,null);return c.append(y.getNewString()),c.toString()}}Pr.HEADER_SIZE=8,Pr.LAST_DIGIT_SIZE=2,Pr.FIRST_THREE_DIGITS_SIZE=10;class Zn extends Ki{constructor(c,h,p){super(c),this.dateCode=p,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=Zn.HEADER_SIZE+Zn.GTIN_SIZE+Zn.WEIGHT_SIZE+Zn.DATE_SIZE)throw new G;let c=new X;return this.encodeCompressedGtin(c,Zn.HEADER_SIZE),this.encodeCompressedWeight(c,Zn.HEADER_SIZE+Zn.GTIN_SIZE,Zn.WEIGHT_SIZE),this.encodeCompressedDate(c,Zn.HEADER_SIZE+Zn.GTIN_SIZE+Zn.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(h,Zn.DATE_SIZE);if(p==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let y=p%32;p/=32;let b=p%12+1;p/=12;let S=p;S/10==0&&c.append("0"),c.append(S),b/10==0&&c.append("0"),c.append(b),y/10==0&&c.append("0"),c.append(y)}addWeightCode(c,h){c.append("("),c.append(this.firstAIdigits),c.append(h/1e5),c.append(")")}checkWeight(c){return c%1e5}}Zn.HEADER_SIZE=8,Zn.WEIGHT_SIZE=20,Zn.DATE_SIZE=16;function Nm(J){try{if(J.get(1))return new Ys(J);if(!J.get(2))return new bo(J);switch(bi.extractNumericValueFromBitArray(J,1,4)){case 4:return new x0(J);case 5:return new v0(J)}switch(bi.extractNumericValueFromBitArray(J,1,5)){case 12:return new _a(J);case 13:return new Pr(J)}switch(bi.extractNumericValueFromBitArray(J,1,7)){case 56:return new Zn(J,"310","11");case 57:return new Zn(J,"320","11");case 58:return new Zn(J,"310","13");case 59:return new Zn(J,"320","13");case 60:return new Zn(J,"310","15");case 61:return new Zn(J,"320","15");case 62:return new Zn(J,"310","17");case 63:return new Zn(J,"320","17")}}catch(c){throw console.log(c),new Qe("unknown decoder: "+J)}}class Xi{constructor(c,h,p,y){this.leftchar=c,this.rightchar=h,this.finderpattern=p,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,h){return c instanceof Xi?Xi.equalsOrNull(c.leftchar,h.leftchar)&&Xi.equalsOrNull(c.rightchar,h.rightchar)&&Xi.equalsOrNull(c.finderpattern,h.finderpattern):!1}static equalsOrNull(c,h){return c===null?h===null:Xi.equals(c,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Sm{constructor(c,h,p){this.pairs=c,this.rowNumber=h,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,h){return c instanceof Sm?this.checkEqualitity(c,h)&&c.wasReversed===h.wasReversed:!1}checkEqualitity(c,h){if(!c||!h)return;let p;return c.forEach((y,b)=>{h.forEach(S=>{y.getLeftChar().getValue()===S.getLeftChar().getValue()&&y.getRightChar().getValue()===S.getRightChar().getValue()&&y.getFinderPatter().getValue()===S.getFinderPatter().getValue()&&(p=!0)})}),p}}class Ge extends hn{constructor(c){super(...arguments),this.pairs=new Array(Ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,h,p){this.pairs.length=0,this.startFromEven=!1;try{return Ge.constructResult(this.decodeRow2pairs(c,h))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Ge.constructResult(this.decodeRow2pairs(c,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,h){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,c))}catch(b){if(b instanceof G){if(!this.pairs.length)throw new G;p=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(c,!1),y){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new G}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return c&&(this.rows=this.rows.reverse()),h}checkRows(c,h){for(let p=h;p<this.rows.length;p++){let y=this.rows[p];this.pairs.length=0;for(let S of c)this.pairs.push(S.getPairs());if(this.pairs.push(y.getPairs()),!Ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(c);b.push(y);try{return this.checkRows(b,p+1)}catch(S){this.verbose&&console.log(S)}}throw new G}static isValidSequence(c){for(let h of Ge.FINDER_PATTERN_SEQUENCES){if(c.length>h.length)continue;let p=!0;for(let y=0;y<c.length;y++)if(c[y].getFinderPattern().getValue()!=h[y]){p=!1;break}if(p)return!0}return!1}storeRow(c,h){let p=0,y=!1,b=!1;for(;p<this.rows.length;){let S=this.rows[p];if(S.getRowNumber()>c){b=S.isEquivalent(this.pairs);break}y=S.isEquivalent(this.pairs),p++}b||y||Ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new Sm(this.pairs,c,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,h){for(let p of h)if(p.getPairs().length!==c.length){for(let y of p.getPairs())for(let b of c)if(Xi.equals(y,b))break}}static isPartialRow(c,h){for(let p of h){let y=!0;for(let b of c){let S=!1;for(let T of p.getPairs())if(b.equals(T)){S=!0;break}if(!S){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(c){let h=Sr.buildBitArray(c),y=Nm(h).parseInformation(),b=c[0].getFinderPattern().getResultPoints(),S=c[c.length-1].getFinderPattern().getResultPoints(),T=[b[0],b[1],S[0],S[1]];return new ye(y,null,null,T,ae.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),h=c.getLeftChar(),p=c.getRightChar();if(p==null)return!1;let y=p.getChecksumPortion(),b=2;for(let T=1;T<this.pairs.size();++T){let P=this.pairs.get(T);y+=P.getLeftChar().getChecksumPortion(),b++;let z=P.getRightChar();z!=null&&(y+=z.getChecksumPortion(),b++)}return y%=211,211*(b-4)+y==h.getValue()}static getNextSecondBar(c,h){let p;return c.get(h)?(p=c.getNextUnset(h),p=c.getNextSet(p)):(p=c.getNextSet(h),p=c.getNextUnset(p)),p}retrieveNextPair(c,h,p){let y=h.length%2==0;this.startFromEven&&(y=!y);let b,S=!0,T=-1;do this.findNextPair(c,h,T),b=this.parseFoundFinderPattern(c,p,y),b==null?T=Ge.getNextSecondBar(c,this.startEnd[0]):S=!1;while(S);let P=this.decodeDataCharacter(c,b,y,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new G;let z;try{z=this.decodeDataCharacter(c,b,y,!1)}catch(W){z=null,this.verbose&&console.log(W)}return new Xi(P,z,b,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,h,p){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S;p>=0?S=p:this.isEmptyPair(h)?S=0:S=h[h.length-1].getFinderPattern().getStartEnd()[1];let T=h.length%2!=0;this.startFromEven&&(T=!T);let P=!1;for(;S<b&&(P=!c.get(S),!!P);)S++;let z=0,W=S;for(let te=S;te<b;te++)if(c.get(te)!=P)y[z]++;else{if(z==3){if(T&&Ge.reverseCounters(y),Ge.isFinderPattern(y)){this.startEnd[0]=W,this.startEnd[1]=te;return}T&&Ge.reverseCounters(y),W+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,z--}else z++;y[z]=1,P=!P}throw new G}static reverseCounters(c){let h=c.length;for(let p=0;p<h/2;++p){let y=c[p];c[p]=c[h-p-1],c[h-p-1]=y}}parseFoundFinderPattern(c,h,p){let y,b,S;if(p){let z=this.startEnd[0]-1;for(;z>=0&&!c.get(z);)z--;z++,y=this.startEnd[0]-z,b=z,S=this.startEnd[1]}else b=this.startEnd[0],S=c.getNextUnset(this.startEnd[1]+1),y=S-this.startEnd[1];let T=this.getDecodeFinderCounters();E.arraycopy(T,0,T,1,T.length-1),T[0]=y;let P;try{P=this.parseFinderValue(T,Ge.FINDER_PATTERNS)}catch{return null}return new lr(P,[b,S],b,S,h)}decodeDataCharacter(c,h,p,y){let b=this.getDataCharacterCounters();for(let Pn=0;Pn<b.length;Pn++)b[Pn]=0;if(y)Ge.recordPatternInReverse(c,h.getStartEnd()[0],b);else{Ge.recordPattern(c,h.getStartEnd()[1],b);for(let Pn=0,ga=b.length-1;Pn<ga;Pn++,ga--){let es=b[Pn];b[Pn]=b[ga],b[ga]=es}}let S=17,T=it.sum(new Int32Array(b))/S,P=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(T-P)/P>.3)throw new G;let z=this.getOddCounts(),W=this.getEvenCounts(),te=this.getOddRoundingErrors(),ne=this.getEvenRoundingErrors();for(let Pn=0;Pn<b.length;Pn++){let ga=1*b[Pn]/T,es=ga+.5;if(es<1){if(ga<.3)throw new G;es=1}else if(es>8){if(ga>8.7)throw new G;es=8}let fl=Pn/2;(Pn&1)==0?(z[fl]=es,te[fl]=ga-es):(W[fl]=es,ne[fl]=ga-es)}this.adjustOddEvenCounts(S);let le=4*h.getValue()+(p?0:2)+(y?0:1)-1,pe=0,ve=0;for(let Pn=z.length-1;Pn>=0;Pn--){if(Ge.isNotA1left(h,p,y)){let ga=Ge.WEIGHTS[le][2*Pn];ve+=z[Pn]*ga}pe+=z[Pn]}let Ce=0;for(let Pn=W.length-1;Pn>=0;Pn--)if(Ge.isNotA1left(h,p,y)){let ga=Ge.WEIGHTS[le][2*Pn+1];Ce+=W[Pn]*ga}let Le=ve+Ce;if((pe&1)!=0||pe>13||pe<4)throw new G;let Ze=(13-pe)/2,nt=Ge.SYMBOL_WIDEST[Ze],Xe=9-nt,Vt=jn.getRSSvalue(z,nt,!0),Ut=jn.getRSSvalue(W,Xe,!1),Fa=Ge.EVEN_TOTAL_SUBSET[Ze],Ps=Ge.GSUM[Ze],Ja=Vt*Fa+Ut+Ps;return new Ms(Ja,Le)}static isNotA1left(c,h,p){return!(c.getValue()==0&&h&&p)}adjustOddEvenCounts(c){let h=it.sum(new Int32Array(this.getOddCounts())),p=it.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1;h>13?b=!0:h<4&&(y=!0);let S=!1,T=!1;p>13?T=!0:p<4&&(S=!0);let P=h+p-c,z=(h&1)==1,W=(p&1)==0;if(P==1)if(z){if(W)throw new G;b=!0}else{if(!W)throw new G;T=!0}else if(P==-1)if(z){if(W)throw new G;y=!0}else{if(!W)throw new G;S=!0}else if(P==0){if(z){if(!W)throw new G;h<p?(y=!0,T=!0):(b=!0,S=!0)}else if(W)throw new G}else throw new G;if(y){if(b)throw new G;Ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(T)throw new G;Ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ge.SYMBOL_WIDEST=[7,5,4,3,1],Ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ge.GSUM=[0,348,1388,2948,3988],Ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ge.FINDER_PAT_A=0,Ge.FINDER_PAT_B=1,Ge.FINDER_PAT_C=2,Ge.FINDER_PAT_D=3,Ge.FINDER_PAT_E=4,Ge.FINDER_PAT_F=5,Ge.FINDER_PATTERN_SEQUENCES=[[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_C,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_C],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_E],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F]],Ge.MAX_PAIRS=11;class ef extends Ms{constructor(c,h,p){super(c,h),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Nn extends hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,h,p){const y=this.decodePair(h,!1,c,p);Nn.addOrTally(this.possibleLeftPairs,y),h.reverse();let b=this.decodePair(h,!0,c,p);Nn.addOrTally(this.possibleRightPairs,b),h.reverse();for(let S of this.possibleLeftPairs)if(S.getCount()>1){for(let T of this.possibleRightPairs)if(T.getCount()>1&&Nn.checkChecksum(S,T))return Nn.constructResult(S,T)}throw new G}static addOrTally(c,h){if(h==null)return;let p=!1;for(let y of c)if(y.getValue()===h.getValue()){y.incrementCount(),p=!0;break}p||c.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,h){let p=4537077*c.getValue()+h.getValue(),y=new String(p).toString(),b=new X;for(let z=13-y.length;z>0;z--)b.append("0");b.append(y);let S=0;for(let z=0;z<13;z++){let W=b.charAt(z).charCodeAt(0)-48;S+=(z&1)===0?3*W:W}S=10-S%10,S===10&&(S=0),b.append(S.toString());let T=c.getFinderPattern().getResultPoints(),P=h.getFinderPattern().getResultPoints();return new ye(b.toString(),null,0,[T[0],T[1],P[0],P[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(c,h){let p=(c.getChecksumPortion()+16*h.getChecksumPortion())%79,y=9*c.getFinderPattern().getValue()+h.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,p===y}decodePair(c,h,p,y){try{let b=this.findFinderPattern(c,h),S=this.parseFoundFinderPattern(c,p,h,b),T=y==null?null:y.get(I.NEED_RESULT_POINT_CALLBACK);if(T!=null){let W=(b[0]+b[1])/2;h&&(W=c.getSize()-1-W),T.foundPossibleResultPoint(new ct(W,p))}let P=this.decodeDataCharacter(c,S,!0),z=this.decodeDataCharacter(c,S,!1);return new ef(1597*P.getValue()+z.getValue(),P.getChecksumPortion()+4*z.getChecksumPortion(),S)}catch{return null}}decodeDataCharacter(c,h,p){let y=this.getDataCharacterCounters();for(let Ce=0;Ce<y.length;Ce++)y[Ce]=0;if(p)un.recordPatternInReverse(c,h.getStartEnd()[0],y);else{un.recordPattern(c,h.getStartEnd()[1]+1,y);for(let Ce=0,Le=y.length-1;Ce<Le;Ce++,Le--){let Ze=y[Ce];y[Ce]=y[Le],y[Le]=Ze}}let b=p?16:15,S=it.sum(new Int32Array(y))/b,T=this.getOddCounts(),P=this.getEvenCounts(),z=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let Ce=0;Ce<y.length;Ce++){let Le=y[Ce]/S,Ze=Math.floor(Le+.5);Ze<1?Ze=1:Ze>8&&(Ze=8);let nt=Math.floor(Ce/2);(Ce&1)===0?(T[nt]=Ze,z[nt]=Le-Ze):(P[nt]=Ze,W[nt]=Le-Ze)}this.adjustOddEvenCounts(p,b);let te=0,ne=0;for(let Ce=T.length-1;Ce>=0;Ce--)ne*=9,ne+=T[Ce],te+=T[Ce];let le=0,pe=0;for(let Ce=P.length-1;Ce>=0;Ce--)le*=9,le+=P[Ce],pe+=P[Ce];let ve=ne+3*le;if(p){if((te&1)!==0||te>12||te<4)throw new G;let Ce=(12-te)/2,Le=Nn.OUTSIDE_ODD_WIDEST[Ce],Ze=9-Le,nt=jn.getRSSvalue(T,Le,!1),Xe=jn.getRSSvalue(P,Ze,!0),Vt=Nn.OUTSIDE_EVEN_TOTAL_SUBSET[Ce],Ut=Nn.OUTSIDE_GSUM[Ce];return new Ms(nt*Vt+Xe+Ut,ve)}else{if((pe&1)!==0||pe>10||pe<4)throw new G;let Ce=(10-pe)/2,Le=Nn.INSIDE_ODD_WIDEST[Ce],Ze=9-Le,nt=jn.getRSSvalue(T,Le,!0),Xe=jn.getRSSvalue(P,Ze,!1),Vt=Nn.INSIDE_ODD_TOTAL_SUBSET[Ce],Ut=Nn.INSIDE_GSUM[Ce];return new Ms(Xe*Vt+nt+Ut,ve)}}findFinderPattern(c,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=c.getSize(),b=!1,S=0;for(;S<y&&(b=!c.get(S),h!==b);)S++;let T=0,P=S;for(let z=S;z<y;z++)if(c.get(z)!==b)p[T]++;else{if(T===3){if(hn.isFinderPattern(p))return[P,z];P+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,T--}else T++;p[T]=1,b=!b}throw new G}parseFoundFinderPattern(c,h,p,y){let b=c.get(y[0]),S=y[0]-1;for(;S>=0&&b!==c.get(S);)S--;S++;const T=y[0]-S,P=this.getDecodeFinderCounters(),z=new Int32Array(P.length);E.arraycopy(P,0,z,1,P.length-1),z[0]=T;const W=this.parseFinderValue(z,Nn.FINDER_PATTERNS);let te=S,ne=y[1];return p&&(te=c.getSize()-1-te,ne=c.getSize()-1-ne),new lr(W,[S,y[1]],te,ne,h)}adjustOddEvenCounts(c,h){let p=it.sum(new Int32Array(this.getOddCounts())),y=it.sum(new Int32Array(this.getEvenCounts())),b=!1,S=!1,T=!1,P=!1;c?(p>12?S=!0:p<4&&(b=!0),y>12?P=!0:y<4&&(T=!0)):(p>11?S=!0:p<5&&(b=!0),y>10?P=!0:y<4&&(T=!0));let z=p+y-h,W=(p&1)===(c?1:0),te=(y&1)===1;if(z===1)if(W){if(te)throw new G;S=!0}else{if(!te)throw new G;P=!0}else if(z===-1)if(W){if(te)throw new G;b=!0}else{if(!te)throw new G;T=!0}else if(z===0){if(W){if(!te)throw new G;p<y?(b=!0,P=!0):(S=!0,T=!0)}else if(te)throw new G}else throw new G;if(b){if(S)throw new G;hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(S&&hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),T){if(P)throw new G;hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}P&&hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Nn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Nn.OUTSIDE_GSUM=[0,161,961,2015,2715],Nn.INSIDE_GSUM=[0,336,1036,1516],Nn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Nn.INSIDE_ODD_WIDEST=[2,4,6,8],Nn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class wo extends un{constructor(c,h){super(),this.readers=[],this.verbose=h===!0;const p=c?c.get(I.POSSIBLE_FORMATS):null,y=c&&c.get(I.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(ae.EAN_13)||p.includes(ae.UPC_A)||p.includes(ae.EAN_8)||p.includes(ae.UPC_E))&&this.readers.push(new or(c)),p.includes(ae.CODE_39)&&this.readers.push(new wn(y)),p.includes(ae.CODE_128)&&this.readers.push(new rt),p.includes(ae.ITF)&&this.readers.push(new dn),p.includes(ae.RSS_14)&&this.readers.push(new Nn),p.includes(ae.RSS_EXPANDED)&&this.readers.push(new Ge(this.verbose))):(this.readers.push(new or(c)),this.readers.push(new wn),this.readers.push(new or(c)),this.readers.push(new rt),this.readers.push(new dn),this.readers.push(new Nn),this.readers.push(new Ge(this.verbose)))}decodeRow(c,h,p){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(c,h,p)}catch{}throw new G}reset(){this.readers.forEach(c=>c.reset())}}class y0 extends _e{constructor(c=500,h){super(new wo(h),c,h)}}class tn{constructor(c,h,p){this.ecCodewords=c,this.ecBlocks=[h],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class fn{constructor(c,h){this.count=c,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xt{constructor(c,h,p,y,b,S){this.versionNumber=c,this.symbolSizeRows=h,this.symbolSizeColumns=p,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=b,this.ecBlocks=S;let T=0;const P=S.getECCodewords(),z=S.getECBlocks();for(let W of z)T+=W.getCount()*(W.getDataCodewords()+P);this.totalCodewords=T}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,h){if((c&1)!==0||(h&1)!==0)throw new F;for(let p of Xt.VERSIONS)if(p.symbolSizeRows===c&&p.symbolSizeColumns===h)return p;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Xt(1,10,10,8,8,new tn(5,new fn(1,3))),new Xt(2,12,12,10,10,new tn(7,new fn(1,5))),new Xt(3,14,14,12,12,new tn(10,new fn(1,8))),new Xt(4,16,16,14,14,new tn(12,new fn(1,12))),new Xt(5,18,18,16,16,new tn(14,new fn(1,18))),new Xt(6,20,20,18,18,new tn(18,new fn(1,22))),new Xt(7,22,22,20,20,new tn(20,new fn(1,30))),new Xt(8,24,24,22,22,new tn(24,new fn(1,36))),new Xt(9,26,26,24,24,new tn(28,new fn(1,44))),new Xt(10,32,32,14,14,new tn(36,new fn(1,62))),new Xt(11,36,36,16,16,new tn(42,new fn(1,86))),new Xt(12,40,40,18,18,new tn(48,new fn(1,114))),new Xt(13,44,44,20,20,new tn(56,new fn(1,144))),new Xt(14,48,48,22,22,new tn(68,new fn(1,174))),new Xt(15,52,52,24,24,new tn(42,new fn(2,102))),new Xt(16,64,64,14,14,new tn(56,new fn(2,140))),new Xt(17,72,72,16,16,new tn(36,new fn(4,92))),new Xt(18,80,80,18,18,new tn(48,new fn(4,114))),new Xt(19,88,88,20,20,new tn(56,new fn(4,144))),new Xt(20,96,96,22,22,new tn(68,new fn(4,174))),new Xt(21,104,104,24,24,new tn(56,new fn(6,136))),new Xt(22,120,120,18,18,new tn(68,new fn(6,175))),new Xt(23,132,132,20,20,new tn(62,new fn(8,163))),new Xt(24,144,144,22,22,new tn(62,new fn(8,156),new fn(2,155))),new Xt(25,8,18,6,16,new tn(7,new fn(1,5))),new Xt(26,8,32,6,14,new tn(11,new fn(1,10))),new Xt(27,12,26,10,24,new tn(14,new fn(1,16))),new Xt(28,12,36,10,16,new tn(18,new fn(1,22))),new Xt(29,16,36,14,16,new tn(24,new fn(1,32))),new Xt(30,16,48,14,22,new tn(28,new fn(1,49)))]}}Xt.VERSIONS=Xt.buildVersions();class _m{constructor(c){const h=c.getHeight();if(h<8||h>144||(h&1)!==0)throw new F;this.version=_m.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new Q(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const h=c.getHeight(),p=c.getWidth();return Xt.getVersionForDimensions(h,p)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let h=0,p=4,y=0;const b=this.mappingBitMatrix.getHeight(),S=this.mappingBitMatrix.getWidth();let T=!1,P=!1,z=!1,W=!1;do if(p===b&&y===0&&!T)c[h++]=this.readCorner1(b,S)&255,p-=2,y+=2,T=!0;else if(p===b-2&&y===0&&(S&3)!==0&&!P)c[h++]=this.readCorner2(b,S)&255,p-=2,y+=2,P=!0;else if(p===b+4&&y===2&&(S&7)===0&&!z)c[h++]=this.readCorner3(b,S)&255,p-=2,y+=2,z=!0;else if(p===b-2&&y===0&&(S&7)===4&&!W)c[h++]=this.readCorner4(b,S)&255,p-=2,y+=2,W=!0;else{do p<b&&y>=0&&!this.readMappingMatrix.get(y,p)&&(c[h++]=this.readUtah(p,y,b,S)&255),p-=2,y+=2;while(p>=0&&y<S);p+=1,y+=3;do p>=0&&y<S&&!this.readMappingMatrix.get(y,p)&&(c[h++]=this.readUtah(p,y,b,S)&255),p+=2,y-=2;while(p<b&&y>=0);p+=3,y+=1}while(p<b||y<S);if(h!==this.version.getTotalCodewords())throw new F;return c}readModule(c,h,p,y){return c<0&&(c+=p,h+=4-(p+4&7)),h<0&&(h+=y,c+=4-(y+4&7)),this.readMappingMatrix.set(h,c),this.mappingBitMatrix.get(h,c)}readUtah(c,h,p,y){let b=0;return this.readModule(c-2,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c-2,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h,p,y)&&(b|=1),b<<=1,this.readModule(c,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c,h,p,y)&&(b|=1),b}readCorner1(c,h){let p=0;return this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,1,c,h)&&(p|=1),p<<=1,this.readModule(c-1,2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(2,h-1,c,h)&&(p|=1),p<<=1,this.readModule(3,h-1,c,h)&&(p|=1),p}readCorner2(c,h){let p=0;return this.readModule(c-3,0,c,h)&&(p|=1),p<<=1,this.readModule(c-2,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(0,h-4,c,h)&&(p|=1),p<<=1,this.readModule(0,h-3,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p}readCorner3(c,h){let p=0;return this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(0,h-3,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-3,c,h)&&(p|=1),p<<=1,this.readModule(1,h-2,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p}readCorner4(c,h){let p=0;return this.readModule(c-3,0,c,h)&&(p|=1),p<<=1,this.readModule(c-2,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(2,h-1,c,h)&&(p|=1),p<<=1,this.readModule(3,h-1,c,h)&&(p|=1),p}extractDataRegion(c){const h=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(c.getHeight()!==h)throw new x("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),S=h/y|0,T=p/b|0,P=S*y,z=T*b,W=new Q(z,P);for(let te=0;te<S;++te){const ne=te*y;for(let le=0;le<T;++le){const pe=le*b;for(let ve=0;ve<y;++ve){const Ce=te*(y+2)+1+ve,Le=ne+ve;for(let Ze=0;Ze<b;++Ze){const nt=le*(b+2)+1+Ze;if(c.get(nt,Ce)){const Xe=pe+Ze;W.set(Xe,Le)}}}}}return W}}class tf{constructor(c,h){this.numDataCodewords=c,this.codewords=h}static getDataBlocks(c,h){const p=h.getECBlocks();let y=0;const b=p.getECBlocks();for(let ve of b)y+=ve.getCount();const S=new Array(y);let T=0;for(let ve of b)for(let Ce=0;Ce<ve.getCount();Ce++){const Le=ve.getDataCodewords(),Ze=p.getECCodewords()+Le;S[T++]=new tf(Le,new Uint8Array(Ze))}const z=S[0].codewords.length-p.getECCodewords(),W=z-1;let te=0;for(let ve=0;ve<W;ve++)for(let Ce=0;Ce<T;Ce++)S[Ce].codewords[ve]=c[te++];const ne=h.getVersionNumber()===24,le=ne?8:T;for(let ve=0;ve<le;ve++)S[ve].codewords[z-1]=c[te++];const pe=S[0].codewords.length;for(let ve=z;ve<pe;ve++)for(let Ce=0;Ce<T;Ce++){const Le=ne?(Ce+8)%T:Ce,Ze=ne&&Le>7?ve-1:ve;S[Le].codewords[Ze]=c[te++]}if(te!==c.length)throw new x;return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xa{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new x(""+c);let h=0,p=this.bitOffset,y=this.byteOffset;const b=this.bytes;if(p>0){const S=8-p,T=c<S?c:S,P=S-T,z=255>>8-T<<P;h=(b[y]&z)>>P,c-=T,p+=T,p===8&&(p=0,y++)}if(c>0){for(;c>=8;)h=h<<8|b[y]&255,y++,c-=8;if(c>0){const S=8-c,T=255>>S<<S;h=h<<c|(b[y]&T)>>S,p+=c}}return this.bitOffset=p,this.byteOffset=y,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Rr;(function(J){J[J.PAD_ENCODE=0]="PAD_ENCODE",J[J.ASCII_ENCODE=1]="ASCII_ENCODE",J[J.C40_ENCODE=2]="C40_ENCODE",J[J.TEXT_ENCODE=3]="TEXT_ENCODE",J[J.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",J[J.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",J[J.BASE256_ENCODE=6]="BASE256_ENCODE"})(Rr||(Rr={}));class jo{static decode(c){const h=new Xa(c),p=new X,y=new X,b=new Array;let S=Rr.ASCII_ENCODE;do if(S===Rr.ASCII_ENCODE)S=this.decodeAsciiSegment(h,p,y);else{switch(S){case Rr.C40_ENCODE:this.decodeC40Segment(h,p);break;case Rr.TEXT_ENCODE:this.decodeTextSegment(h,p);break;case Rr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,p);break;case Rr.EDIFACT_ENCODE:this.decodeEdifactSegment(h,p);break;case Rr.BASE256_ENCODE:this.decodeBase256Segment(h,p,b);break;default:throw new F}S=Rr.ASCII_ENCODE}while(S!==Rr.PAD_ENCODE&&h.available()>0);return y.length()>0&&p.append(y.toString()),new ge(c,p.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(c,h,p){let y=!1;do{let b=c.readBits(8);if(b===0)throw new F;if(b<=128)return y&&(b+=128),h.append(String.fromCharCode(b-1)),Rr.ASCII_ENCODE;if(b===129)return Rr.PAD_ENCODE;if(b<=229){const S=b-130;S<10&&h.append("0"),h.append(""+S)}else switch(b){case 230:return Rr.C40_ENCODE;case 231:return Rr.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:h.append("[)>05"),p.insert(0,"");break;case 237:h.append("[)>06"),p.insert(0,"");break;case 238:return Rr.ANSIX12_ENCODE;case 239:return Rr.TEXT_ENCODE;case 240:return Rr.EDIFACT_ENCODE;case 241:break;default:if(b!==254||c.available()!==0)throw new F;break}}while(c.available()>0);return Rr.ASCII_ENCODE}static decodeC40Segment(c,h){let p=!1;const y=[];let b=0;do{if(c.available()===8)return;const S=c.readBits(8);if(S===254)return;this.parseTwoBytes(S,c.readBits(8),y);for(let T=0;T<3;T++){const P=y[T];switch(b){case 0:if(P<3)b=P+1;else if(P<this.C40_BASIC_SET_CHARS.length){const z=this.C40_BASIC_SET_CHARS[P];p?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),p=!1):h.append(z)}else throw new F;break;case 1:p?(h.append(String.fromCharCode(P+128)),p=!1):h.append(String.fromCharCode(P)),b=0;break;case 2:if(P<this.C40_SHIFT2_SET_CHARS.length){const z=this.C40_SHIFT2_SET_CHARS[P];p?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),p=!1):h.append(z)}else switch(P){case 27:h.append("");break;case 30:p=!0;break;default:throw new F}b=0;break;case 3:p?(h.append(String.fromCharCode(P+224)),p=!1):h.append(String.fromCharCode(P+96)),b=0;break;default:throw new F}}}while(c.available()>0)}static decodeTextSegment(c,h){let p=!1,y=[],b=0;do{if(c.available()===8)return;const S=c.readBits(8);if(S===254)return;this.parseTwoBytes(S,c.readBits(8),y);for(let T=0;T<3;T++){const P=y[T];switch(b){case 0:if(P<3)b=P+1;else if(P<this.TEXT_BASIC_SET_CHARS.length){const z=this.TEXT_BASIC_SET_CHARS[P];p?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),p=!1):h.append(z)}else throw new F;break;case 1:p?(h.append(String.fromCharCode(P+128)),p=!1):h.append(String.fromCharCode(P)),b=0;break;case 2:if(P<this.TEXT_SHIFT2_SET_CHARS.length){const z=this.TEXT_SHIFT2_SET_CHARS[P];p?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),p=!1):h.append(z)}else switch(P){case 27:h.append("");break;case 30:p=!0;break;default:throw new F}b=0;break;case 3:if(P<this.TEXT_SHIFT3_SET_CHARS.length){const z=this.TEXT_SHIFT3_SET_CHARS[P];p?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),p=!1):h.append(z),b=0}else throw new F;break;default:throw new F}}}while(c.available()>0)}static decodeAnsiX12Segment(c,h){const p=[];do{if(c.available()===8)return;const y=c.readBits(8);if(y===254)return;this.parseTwoBytes(y,c.readBits(8),p);for(let b=0;b<3;b++){const S=p[b];switch(S){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(S<14)h.append(String.fromCharCode(S+44));else if(S<40)h.append(String.fromCharCode(S+51));else throw new F;break}}}while(c.available()>0)}static parseTwoBytes(c,h,p){let y=(c<<8)+h-1,b=Math.floor(y/1600);p[0]=b,y-=b*1600,b=Math.floor(y/40),p[1]=b,p[2]=y-b*40}static decodeEdifactSegment(c,h){do{if(c.available()<=16)return;for(let p=0;p<4;p++){let y=c.readBits(6);if(y===31){const b=8-c.getBitOffset();b!==8&&c.readBits(b);return}(y&32)===0&&(y|=64),h.append(String.fromCharCode(y))}}while(c.available()>0)}static decodeBase256Segment(c,h,p){let y=1+c.getByteOffset();const b=this.unrandomize255State(c.readBits(8),y++);let S;if(b===0?S=c.available()/8|0:b<250?S=b:S=250*(b-249)+this.unrandomize255State(c.readBits(8),y++),S<0)throw new F;const T=new Uint8Array(S);for(let P=0;P<S;P++){if(c.available()<8)throw new F;T[P]=this.unrandomize255State(c.readBits(8),y++)}p.push(T);try{h.append(Y.decode(T,q.ISO88591))}catch(P){throw new Qe("Platform does not support required encoding: "+P.message)}}static unrandomize255State(c,h){const p=149*h%255+1,y=c-p;return y>=0?y:y+256}}jo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],jo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],jo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],jo.TEXT_SHIFT2_SET_CHARS=jo.C40_SHIFT2_SET_CHARS,jo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class nf{constructor(){this.rsDecoder=new gt(Ke.DATA_MATRIX_FIELD_256)}decode(c){const h=new _m(c),p=h.getVersion(),y=h.readCodewords(),b=tf.getDataBlocks(y,p);let S=0;for(let z of b)S+=z.getNumDataCodewords();const T=new Uint8Array(S),P=b.length;for(let z=0;z<P;z++){const W=b[z],te=W.getCodewords(),ne=W.getNumDataCodewords();this.correctErrors(te,ne);for(let le=0;le<ne;le++)T[le*P+z]=te[le]}return jo.decode(T)}correctErrors(c,h){const p=new Int32Array(c);try{this.rsDecoder.decode(p,c.length-h)}catch{throw new _}for(let y=0;y<h;y++)c[y]=p[y]}}class cr{constructor(c){this.image=c,this.rectangleDetector=new jr(this.image)}detect(){const c=this.rectangleDetector.detect();let h=this.detectSolid1(c);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new G;h=this.shiftToModuleCenter(h);const p=h[0],y=h[1],b=h[2],S=h[3];let T=this.transitionsBetween(p,S)+1,P=this.transitionsBetween(b,S)+1;(T&1)===1&&(T+=1),(P&1)===1&&(P+=1),4*T<7*P&&4*P<7*T&&(T=P=Math.max(T,P));let z=cr.sampleGrid(this.image,p,y,b,S,T,P);return new bn(z,[p,y,b,S])}static shiftPoint(c,h,p){let y=(h.getX()-c.getX())/(p+1),b=(h.getY()-c.getY())/(p+1);return new ct(c.getX()+y,c.getY()+b)}static moveAway(c,h,p){let y=c.getX(),b=c.getY();return y<h?y-=1:y+=1,b<p?b-=1:b+=1,new ct(y,b)}detectSolid1(c){let h=c[0],p=c[1],y=c[3],b=c[2],S=this.transitionsBetween(h,p),T=this.transitionsBetween(p,y),P=this.transitionsBetween(y,b),z=this.transitionsBetween(b,h),W=S,te=[b,h,p,y];return W>T&&(W=T,te[0]=h,te[1]=p,te[2]=y,te[3]=b),W>P&&(W=P,te[0]=p,te[1]=y,te[2]=b,te[3]=h),W>z&&(te[0]=y,te[1]=b,te[2]=h,te[3]=p),te}detectSolid2(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b),T=cr.shiftPoint(p,y,(S+1)*4),P=cr.shiftPoint(y,p,(S+1)*4),z=this.transitionsBetween(T,h),W=this.transitionsBetween(P,b);return z<W?(c[0]=h,c[1]=p,c[2]=y,c[3]=b):(c[0]=p,c[1]=y,c[2]=b,c[3]=h),c}correctTopRight(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b),T=this.transitionsBetween(p,b),P=cr.shiftPoint(h,p,(T+1)*4),z=cr.shiftPoint(y,p,(S+1)*4);S=this.transitionsBetween(P,b),T=this.transitionsBetween(z,b);let W=new ct(b.getX()+(y.getX()-p.getX())/(S+1),b.getY()+(y.getY()-p.getY())/(S+1)),te=new ct(b.getX()+(h.getX()-p.getX())/(T+1),b.getY()+(h.getY()-p.getY())/(T+1));if(!this.isValid(W))return this.isValid(te)?te:null;if(!this.isValid(te))return W;let ne=this.transitionsBetween(P,W)+this.transitionsBetween(z,W),le=this.transitionsBetween(P,te)+this.transitionsBetween(z,te);return ne>le?W:te}shiftToModuleCenter(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b)+1,T=this.transitionsBetween(y,b)+1,P=cr.shiftPoint(h,p,T*4),z=cr.shiftPoint(y,p,S*4);S=this.transitionsBetween(P,b)+1,T=this.transitionsBetween(z,b)+1,(S&1)===1&&(S+=1),(T&1)===1&&(T+=1);let W=(h.getX()+p.getX()+y.getX()+b.getX())/4,te=(h.getY()+p.getY()+y.getY()+b.getY())/4;h=cr.moveAway(h,W,te),p=cr.moveAway(p,W,te),y=cr.moveAway(y,W,te),b=cr.moveAway(b,W,te);let ne,le;return P=cr.shiftPoint(h,p,T*4),P=cr.shiftPoint(P,b,S*4),ne=cr.shiftPoint(p,h,T*4),ne=cr.shiftPoint(ne,y,S*4),z=cr.shiftPoint(y,b,T*4),z=cr.shiftPoint(z,p,S*4),le=cr.shiftPoint(b,y,T*4),le=cr.shiftPoint(le,h,S*4),[P,ne,z,le]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,h,p,y,b,S,T){return Nr.getInstance().sampleGrid(c,S,T,.5,.5,S-.5,.5,S-.5,T-.5,.5,T-.5,h.getX(),h.getY(),b.getX(),b.getY(),y.getX(),y.getY(),p.getX(),p.getY())}transitionsBetween(c,h){let p=Math.trunc(c.getX()),y=Math.trunc(c.getY()),b=Math.trunc(h.getX()),S=Math.trunc(h.getY()),T=Math.abs(S-y)>Math.abs(b-p);if(T){let ve=p;p=y,y=ve,ve=b,b=S,S=ve}let P=Math.abs(b-p),z=Math.abs(S-y),W=-P/2,te=y<S?1:-1,ne=p<b?1:-1,le=0,pe=this.image.get(T?y:p,T?p:y);for(let ve=p,Ce=y;ve!==b;ve+=ne){let Le=this.image.get(T?Ce:ve,T?ve:Ce);if(Le!==pe&&(le++,pe=Le),W+=z,W>0){if(Ce===S)break;Ce+=te,W-=P}}return le}}class Ws{constructor(){this.decoder=new nf}decode(c,h=null){let p,y;if(h!=null&&h.has(I.PURE_BARCODE)){const z=Ws.extractPureBits(c.getBlackMatrix());p=this.decoder.decode(z),y=Ws.NO_POINTS}else{const z=new cr(c.getBlackMatrix()).detect();p=this.decoder.decode(z.getBits()),y=z.getPoints()}const b=p.getRawBytes(),S=new ye(p.getText(),b,8*b.length,y,ae.DATA_MATRIX,E.currentTimeMillis()),T=p.getByteSegments();T!=null&&S.putMetadata(ce.BYTE_SEGMENTS,T);const P=p.getECLevel();return P!=null&&S.putMetadata(ce.ERROR_CORRECTION_LEVEL,P),S}reset(){}static extractPureBits(c){const h=c.getTopLeftOnBit(),p=c.getBottomRightOnBit();if(h==null||p==null)throw new G;const y=this.moduleSize(h,c);let b=h[1];const S=p[1];let T=h[0];const z=(p[0]-T+1)/y,W=(S-b+1)/y;if(z<=0||W<=0)throw new G;const te=y/2;b+=te,T+=te;const ne=new Q(z,W);for(let le=0;le<W;le++){const pe=b+le*y;for(let ve=0;ve<z;ve++)c.get(T+ve*y,pe)&&ne.set(ve,le)}return ne}static moduleSize(c,h){const p=h.getWidth();let y=c[0];const b=c[1];for(;y<p&&h.get(y,b);)y++;if(y===p)throw new G;const S=y-c[0];if(S===0)throw new G;return S}}Ws.NO_POINTS=[];class tb extends _e{constructor(c=500){super(new Ws,c)}}var da;(function(J){J[J.L=0]="L",J[J.M=1]="M",J[J.Q=2]="Q",J[J.H=3]="H"})(da||(da={}));class Tn{constructor(c,h,p){this.value=c,this.stringValue=h,this.bits=p,Tn.FOR_BITS.set(p,this),Tn.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return Tn.L;case"M":return Tn.M;case"Q":return Tn.Q;case"H":return Tn.H;default:throw new g(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof Tn))return!1;const h=c;return this.value===h.value}static forBits(c){if(c<0||c>=Tn.FOR_BITS.size)throw new x;return Tn.FOR_BITS.get(c)}}Tn.FOR_BITS=new Map,Tn.FOR_VALUE=new Map,Tn.L=new Tn(da.L,"L",1),Tn.M=new Tn(da.M,"M",0),Tn.Q=new Tn(da.Q,"Q",3),Tn.H=new Tn(da.H,"H",2);class fa{constructor(c){this.errorCorrectionLevel=Tn.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,h){return R.bitCount(c^h)}static decodeFormatInformation(c,h){const p=fa.doDecodeFormatInformation(c,h);return p!==null?p:fa.doDecodeFormatInformation(c^fa.FORMAT_INFO_MASK_QR,h^fa.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,h){let p=Number.MAX_SAFE_INTEGER,y=0;for(const b of fa.FORMAT_INFO_DECODE_LOOKUP){const S=b[0];if(S===c||S===h)return new fa(b[1]);let T=fa.numBitsDiffering(c,S);T<p&&(y=b[1],p=T),c!==h&&(T=fa.numBitsDiffering(h,S),T<p&&(y=b[1],p=T))}return p<=3?new fa(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof fa))return!1;const h=c;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}fa.FORMAT_INFO_MASK_QR=21522,fa.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class De{constructor(c,...h){this.ecCodewordsPerBlock=c,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const h=this.ecBlocks;for(const p of h)c+=p.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ie{constructor(c,h){this.count=c,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class jt{constructor(c,h,...p){this.versionNumber=c,this.alignmentPatternCenters=h,this.ecBlocks=p;let y=0;const b=p[0].getECCodewordsPerBlock(),S=p[0].getECBlocks();for(const T of S)y+=T.getCount()*(T.getDataCodewords()+b);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new F;try{return this.getVersionForNumber((c-17)/4)}catch{throw new F}}static getVersionForNumber(c){if(c<1||c>40)throw new x;return jt.VERSIONS[c-1]}static decodeVersionInformation(c){let h=Number.MAX_SAFE_INTEGER,p=0;for(let y=0;y<jt.VERSION_DECODE_INFO.length;y++){const b=jt.VERSION_DECODE_INFO[y];if(b===c)return jt.getVersionForNumber(y+7);const S=fa.numBitsDiffering(c,b);S<h&&(p=y+7,h=S)}return h<=3?jt.getVersionForNumber(p):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),h=new Q(c);h.setRegion(0,0,9,9),h.setRegion(c-8,0,8,9),h.setRegion(0,c-8,9,8);const p=this.alignmentPatternCenters.length;for(let y=0;y<p;y++){const b=this.alignmentPatternCenters[y]-2;for(let S=0;S<p;S++)y===0&&(S===0||S===p-1)||y===p-1&&S===0||h.setRegion(this.alignmentPatternCenters[S]-2,b,5,5)}return h.setRegion(6,9,1,c-17),h.setRegion(9,6,c-17,1),this.versionNumber>6&&(h.setRegion(c-11,0,3,6),h.setRegion(0,c-11,6,3)),h}toString(){return""+this.versionNumber}}jt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),jt.VERSIONS=[new jt(1,new Int32Array(0),new De(7,new ie(1,19)),new De(10,new ie(1,16)),new De(13,new ie(1,13)),new De(17,new ie(1,9))),new jt(2,Int32Array.from([6,18]),new De(10,new ie(1,34)),new De(16,new ie(1,28)),new De(22,new ie(1,22)),new De(28,new ie(1,16))),new jt(3,Int32Array.from([6,22]),new De(15,new ie(1,55)),new De(26,new ie(1,44)),new De(18,new ie(2,17)),new De(22,new ie(2,13))),new jt(4,Int32Array.from([6,26]),new De(20,new ie(1,80)),new De(18,new ie(2,32)),new De(26,new ie(2,24)),new De(16,new ie(4,9))),new jt(5,Int32Array.from([6,30]),new De(26,new ie(1,108)),new De(24,new ie(2,43)),new De(18,new ie(2,15),new ie(2,16)),new De(22,new ie(2,11),new ie(2,12))),new jt(6,Int32Array.from([6,34]),new De(18,new ie(2,68)),new De(16,new ie(4,27)),new De(24,new ie(4,19)),new De(28,new ie(4,15))),new jt(7,Int32Array.from([6,22,38]),new De(20,new ie(2,78)),new De(18,new ie(4,31)),new De(18,new ie(2,14),new ie(4,15)),new De(26,new ie(4,13),new ie(1,14))),new jt(8,Int32Array.from([6,24,42]),new De(24,new ie(2,97)),new De(22,new ie(2,38),new ie(2,39)),new De(22,new ie(4,18),new ie(2,19)),new De(26,new ie(4,14),new ie(2,15))),new jt(9,Int32Array.from([6,26,46]),new De(30,new ie(2,116)),new De(22,new ie(3,36),new ie(2,37)),new De(20,new ie(4,16),new ie(4,17)),new De(24,new ie(4,12),new ie(4,13))),new jt(10,Int32Array.from([6,28,50]),new De(18,new ie(2,68),new ie(2,69)),new De(26,new ie(4,43),new ie(1,44)),new De(24,new ie(6,19),new ie(2,20)),new De(28,new ie(6,15),new ie(2,16))),new jt(11,Int32Array.from([6,30,54]),new De(20,new ie(4,81)),new De(30,new ie(1,50),new ie(4,51)),new De(28,new ie(4,22),new ie(4,23)),new De(24,new ie(3,12),new ie(8,13))),new jt(12,Int32Array.from([6,32,58]),new De(24,new ie(2,92),new ie(2,93)),new De(22,new ie(6,36),new ie(2,37)),new De(26,new ie(4,20),new ie(6,21)),new De(28,new ie(7,14),new ie(4,15))),new jt(13,Int32Array.from([6,34,62]),new De(26,new ie(4,107)),new De(22,new ie(8,37),new ie(1,38)),new De(24,new ie(8,20),new ie(4,21)),new De(22,new ie(12,11),new ie(4,12))),new jt(14,Int32Array.from([6,26,46,66]),new De(30,new ie(3,115),new ie(1,116)),new De(24,new ie(4,40),new ie(5,41)),new De(20,new ie(11,16),new ie(5,17)),new De(24,new ie(11,12),new ie(5,13))),new jt(15,Int32Array.from([6,26,48,70]),new De(22,new ie(5,87),new ie(1,88)),new De(24,new ie(5,41),new ie(5,42)),new De(30,new ie(5,24),new ie(7,25)),new De(24,new ie(11,12),new ie(7,13))),new jt(16,Int32Array.from([6,26,50,74]),new De(24,new ie(5,98),new ie(1,99)),new De(28,new ie(7,45),new ie(3,46)),new De(24,new ie(15,19),new ie(2,20)),new De(30,new ie(3,15),new ie(13,16))),new jt(17,Int32Array.from([6,30,54,78]),new De(28,new ie(1,107),new ie(5,108)),new De(28,new ie(10,46),new ie(1,47)),new De(28,new ie(1,22),new ie(15,23)),new De(28,new ie(2,14),new ie(17,15))),new jt(18,Int32Array.from([6,30,56,82]),new De(30,new ie(5,120),new ie(1,121)),new De(26,new ie(9,43),new ie(4,44)),new De(28,new ie(17,22),new ie(1,23)),new De(28,new ie(2,14),new ie(19,15))),new jt(19,Int32Array.from([6,30,58,86]),new De(28,new ie(3,113),new ie(4,114)),new De(26,new ie(3,44),new ie(11,45)),new De(26,new ie(17,21),new ie(4,22)),new De(26,new ie(9,13),new ie(16,14))),new jt(20,Int32Array.from([6,34,62,90]),new De(28,new ie(3,107),new ie(5,108)),new De(26,new ie(3,41),new ie(13,42)),new De(30,new ie(15,24),new ie(5,25)),new De(28,new ie(15,15),new ie(10,16))),new jt(21,Int32Array.from([6,28,50,72,94]),new De(28,new ie(4,116),new ie(4,117)),new De(26,new ie(17,42)),new De(28,new ie(17,22),new ie(6,23)),new De(30,new ie(19,16),new ie(6,17))),new jt(22,Int32Array.from([6,26,50,74,98]),new De(28,new ie(2,111),new ie(7,112)),new De(28,new ie(17,46)),new De(30,new ie(7,24),new ie(16,25)),new De(24,new ie(34,13))),new jt(23,Int32Array.from([6,30,54,78,102]),new De(30,new ie(4,121),new ie(5,122)),new De(28,new ie(4,47),new ie(14,48)),new De(30,new ie(11,24),new ie(14,25)),new De(30,new ie(16,15),new ie(14,16))),new jt(24,Int32Array.from([6,28,54,80,106]),new De(30,new ie(6,117),new ie(4,118)),new De(28,new ie(6,45),new ie(14,46)),new De(30,new ie(11,24),new ie(16,25)),new De(30,new ie(30,16),new ie(2,17))),new jt(25,Int32Array.from([6,32,58,84,110]),new De(26,new ie(8,106),new ie(4,107)),new De(28,new ie(8,47),new ie(13,48)),new De(30,new ie(7,24),new ie(22,25)),new De(30,new ie(22,15),new ie(13,16))),new jt(26,Int32Array.from([6,30,58,86,114]),new De(28,new ie(10,114),new ie(2,115)),new De(28,new ie(19,46),new ie(4,47)),new De(28,new ie(28,22),new ie(6,23)),new De(30,new ie(33,16),new ie(4,17))),new jt(27,Int32Array.from([6,34,62,90,118]),new De(30,new ie(8,122),new ie(4,123)),new De(28,new ie(22,45),new ie(3,46)),new De(30,new ie(8,23),new ie(26,24)),new De(30,new ie(12,15),new ie(28,16))),new jt(28,Int32Array.from([6,26,50,74,98,122]),new De(30,new ie(3,117),new ie(10,118)),new De(28,new ie(3,45),new ie(23,46)),new De(30,new ie(4,24),new ie(31,25)),new De(30,new ie(11,15),new ie(31,16))),new jt(29,Int32Array.from([6,30,54,78,102,126]),new De(30,new ie(7,116),new ie(7,117)),new De(28,new ie(21,45),new ie(7,46)),new De(30,new ie(1,23),new ie(37,24)),new De(30,new ie(19,15),new ie(26,16))),new jt(30,Int32Array.from([6,26,52,78,104,130]),new De(30,new ie(5,115),new ie(10,116)),new De(28,new ie(19,47),new ie(10,48)),new De(30,new ie(15,24),new ie(25,25)),new De(30,new ie(23,15),new ie(25,16))),new jt(31,Int32Array.from([6,30,56,82,108,134]),new De(30,new ie(13,115),new ie(3,116)),new De(28,new ie(2,46),new ie(29,47)),new De(30,new ie(42,24),new ie(1,25)),new De(30,new ie(23,15),new ie(28,16))),new jt(32,Int32Array.from([6,34,60,86,112,138]),new De(30,new ie(17,115)),new De(28,new ie(10,46),new ie(23,47)),new De(30,new ie(10,24),new ie(35,25)),new De(30,new ie(19,15),new ie(35,16))),new jt(33,Int32Array.from([6,30,58,86,114,142]),new De(30,new ie(17,115),new ie(1,116)),new De(28,new ie(14,46),new ie(21,47)),new De(30,new ie(29,24),new ie(19,25)),new De(30,new ie(11,15),new ie(46,16))),new jt(34,Int32Array.from([6,34,62,90,118,146]),new De(30,new ie(13,115),new ie(6,116)),new De(28,new ie(14,46),new ie(23,47)),new De(30,new ie(44,24),new ie(7,25)),new De(30,new ie(59,16),new ie(1,17))),new jt(35,Int32Array.from([6,30,54,78,102,126,150]),new De(30,new ie(12,121),new ie(7,122)),new De(28,new ie(12,47),new ie(26,48)),new De(30,new ie(39,24),new ie(14,25)),new De(30,new ie(22,15),new ie(41,16))),new jt(36,Int32Array.from([6,24,50,76,102,128,154]),new De(30,new ie(6,121),new ie(14,122)),new De(28,new ie(6,47),new ie(34,48)),new De(30,new ie(46,24),new ie(10,25)),new De(30,new ie(2,15),new ie(64,16))),new jt(37,Int32Array.from([6,28,54,80,106,132,158]),new De(30,new ie(17,122),new ie(4,123)),new De(28,new ie(29,46),new ie(14,47)),new De(30,new ie(49,24),new ie(10,25)),new De(30,new ie(24,15),new ie(46,16))),new jt(38,Int32Array.from([6,32,58,84,110,136,162]),new De(30,new ie(4,122),new ie(18,123)),new De(28,new ie(13,46),new ie(32,47)),new De(30,new ie(48,24),new ie(14,25)),new De(30,new ie(42,15),new ie(32,16))),new jt(39,Int32Array.from([6,26,54,82,110,138,166]),new De(30,new ie(20,117),new ie(4,118)),new De(28,new ie(40,47),new ie(7,48)),new De(30,new ie(43,24),new ie(22,25)),new De(30,new ie(10,15),new ie(67,16))),new jt(40,Int32Array.from([6,30,58,86,114,142,170]),new De(30,new ie(19,118),new ie(6,119)),new De(28,new ie(18,47),new ie(31,48)),new De(30,new ie(34,24),new ie(34,25)),new De(30,new ie(20,15),new ie(61,16)))];var Vr;(function(J){J[J.DATA_MASK_000=0]="DATA_MASK_000",J[J.DATA_MASK_001=1]="DATA_MASK_001",J[J.DATA_MASK_010=2]="DATA_MASK_010",J[J.DATA_MASK_011=3]="DATA_MASK_011",J[J.DATA_MASK_100=4]="DATA_MASK_100",J[J.DATA_MASK_101=5]="DATA_MASK_101",J[J.DATA_MASK_110=6]="DATA_MASK_110",J[J.DATA_MASK_111=7]="DATA_MASK_111"})(Vr||(Vr={}));class ha{constructor(c,h){this.value=c,this.isMasked=h}unmaskBitMatrix(c,h){for(let p=0;p<h;p++)for(let y=0;y<h;y++)this.isMasked(p,y)&&c.flip(y,p)}}ha.values=new Map([[Vr.DATA_MASK_000,new ha(Vr.DATA_MASK_000,(J,c)=>(J+c&1)===0)],[Vr.DATA_MASK_001,new ha(Vr.DATA_MASK_001,(J,c)=>(J&1)===0)],[Vr.DATA_MASK_010,new ha(Vr.DATA_MASK_010,(J,c)=>c%3===0)],[Vr.DATA_MASK_011,new ha(Vr.DATA_MASK_011,(J,c)=>(J+c)%3===0)],[Vr.DATA_MASK_100,new ha(Vr.DATA_MASK_100,(J,c)=>(Math.floor(J/2)+Math.floor(c/3)&1)===0)],[Vr.DATA_MASK_101,new ha(Vr.DATA_MASK_101,(J,c)=>J*c%6===0)],[Vr.DATA_MASK_110,new ha(Vr.DATA_MASK_110,(J,c)=>J*c%6<3)],[Vr.DATA_MASK_111,new ha(Vr.DATA_MASK_111,(J,c)=>(J+c+J*c%3&1)===0)]]);class nb{constructor(c){const h=c.getHeight();if(h<21||(h&3)!==1)throw new F;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let b=0;b<6;b++)c=this.copyBit(b,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let b=5;b>=0;b--)c=this.copyBit(8,b,c);const h=this.bitMatrix.getHeight();let p=0;const y=h-7;for(let b=h-1;b>=y;b--)p=this.copyBit(8,b,p);for(let b=h-8;b<h;b++)p=this.copyBit(b,8,p);if(this.parsedFormatInfo=fa.decodeFormatInformation(c,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),h=Math.floor((c-17)/4);if(h<=6)return jt.getVersionForNumber(h);let p=0;const y=c-11;for(let S=5;S>=0;S--)for(let T=c-9;T>=y;T--)p=this.copyBit(T,S,p);let b=jt.decodeVersionInformation(p);if(b!==null&&b.getDimensionForVersion()===c)return this.parsedVersion=b,b;p=0;for(let S=5;S>=0;S--)for(let T=c-9;T>=y;T--)p=this.copyBit(S,T,p);if(b=jt.decodeVersionInformation(p),b!==null&&b.getDimensionForVersion()===c)return this.parsedVersion=b,b;throw new F}copyBit(c,h,p){return(this.isMirror?this.bitMatrix.get(h,c):this.bitMatrix.get(c,h))?p<<1|1:p<<1}readCodewords(){const c=this.readFormatInformation(),h=this.readVersion(),p=ha.values.get(c.getDataMask()),y=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,y);const b=h.buildFunctionPattern();let S=!0;const T=new Uint8Array(h.getTotalCodewords());let P=0,z=0,W=0;for(let te=y-1;te>0;te-=2){te===6&&te--;for(let ne=0;ne<y;ne++){const le=S?y-1-ne:ne;for(let pe=0;pe<2;pe++)b.get(te-pe,le)||(W++,z<<=1,this.bitMatrix.get(te-pe,le)&&(z|=1),W===8&&(T[P++]=z,W=0,z=0))}S=!S}if(P!==h.getTotalCodewords())throw new F;return T}remask(){if(this.parsedFormatInfo===null)return;const c=ha.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let h=0,p=c.getWidth();h<p;h++)for(let y=h+1,b=c.getHeight();y<b;y++)c.get(h,y)!==c.get(y,h)&&(c.flip(y,h),c.flip(h,y))}}class rf{constructor(c,h){this.numDataCodewords=c,this.codewords=h}static getDataBlocks(c,h,p){if(c.length!==h.getTotalCodewords())throw new x;const y=h.getECBlocksForLevel(p);let b=0;const S=y.getECBlocks();for(const pe of S)b+=pe.getCount();const T=new Array(b);let P=0;for(const pe of S)for(let ve=0;ve<pe.getCount();ve++){const Ce=pe.getDataCodewords(),Le=y.getECCodewordsPerBlock()+Ce;T[P++]=new rf(Ce,new Uint8Array(Le))}const z=T[0].codewords.length;let W=T.length-1;for(;W>=0&&T[W].codewords.length!==z;)W--;W++;const te=z-y.getECCodewordsPerBlock();let ne=0;for(let pe=0;pe<te;pe++)for(let ve=0;ve<P;ve++)T[ve].codewords[pe]=c[ne++];for(let pe=W;pe<P;pe++)T[pe].codewords[te]=c[ne++];const le=T[0].codewords.length;for(let pe=te;pe<le;pe++)for(let ve=0;ve<P;ve++){const Ce=ve<W?pe:pe+1;T[ve].codewords[Ce]=c[ne++]}return T}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ys;(function(J){J[J.TERMINATOR=0]="TERMINATOR",J[J.NUMERIC=1]="NUMERIC",J[J.ALPHANUMERIC=2]="ALPHANUMERIC",J[J.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",J[J.BYTE=4]="BYTE",J[J.ECI=5]="ECI",J[J.KANJI=6]="KANJI",J[J.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",J[J.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",J[J.HANZI=9]="HANZI"})(ys||(ys={}));class Nt{constructor(c,h,p,y){this.value=c,this.stringValue=h,this.characterCountBitsForVersions=p,this.bits=y,Nt.FOR_BITS.set(y,this),Nt.FOR_VALUE.set(c,this)}static forBits(c){const h=Nt.FOR_BITS.get(c);if(h===void 0)throw new x;return h}getCharacterCountBits(c){const h=c.getVersionNumber();let p;return h<=9?p=0:h<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof Nt))return!1;const h=c;return this.value===h.value}toString(){return this.stringValue}}Nt.FOR_BITS=new Map,Nt.FOR_VALUE=new Map,Nt.TERMINATOR=new Nt(ys.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Nt.NUMERIC=new Nt(ys.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Nt.ALPHANUMERIC=new Nt(ys.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Nt.STRUCTURED_APPEND=new Nt(ys.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Nt.BYTE=new Nt(ys.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Nt.ECI=new Nt(ys.ECI,"ECI",Int32Array.from([0,0,0]),7),Nt.KANJI=new Nt(ys.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Nt.FNC1_FIRST_POSITION=new Nt(ys.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Nt.FNC1_SECOND_POSITION=new Nt(ys.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Nt.HANZI=new Nt(ys.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nr{static decode(c,h,p,y){const b=new Xa(c);let S=new X;const T=new Array;let P=-1,z=-1;try{let W=null,te=!1,ne;do{if(b.available()<4)ne=Nt.TERMINATOR;else{const le=b.readBits(4);ne=Nt.forBits(le)}switch(ne){case Nt.TERMINATOR:break;case Nt.FNC1_FIRST_POSITION:case Nt.FNC1_SECOND_POSITION:te=!0;break;case Nt.STRUCTURED_APPEND:if(b.available()<16)throw new F;P=b.readBits(8),z=b.readBits(8);break;case Nt.ECI:const le=nr.parseECIValue(b);if(W=L.getCharacterSetECIByValue(le),W===null)throw new F;break;case Nt.HANZI:const pe=b.readBits(4),ve=b.readBits(ne.getCharacterCountBits(h));pe===nr.GB2312_SUBSET&&nr.decodeHanziSegment(b,S,ve);break;default:const Ce=b.readBits(ne.getCharacterCountBits(h));switch(ne){case Nt.NUMERIC:nr.decodeNumericSegment(b,S,Ce);break;case Nt.ALPHANUMERIC:nr.decodeAlphanumericSegment(b,S,Ce,te);break;case Nt.BYTE:nr.decodeByteSegment(b,S,Ce,W,T,y);break;case Nt.KANJI:nr.decodeKanjiSegment(b,S,Ce);break;default:throw new F}break}}while(ne!==Nt.TERMINATOR)}catch{throw new F}return new ge(c,S.toString(),T.length===0?null:T,p===null?null:p.toString(),P,z)}static decodeHanziSegment(c,h,p){if(p*13>c.available())throw new F;const y=new Uint8Array(2*p);let b=0;for(;p>0;){const S=c.readBits(13);let T=S/96<<8&4294967295|S%96;T<959?T+=41377:T+=42657,y[b]=T>>8&255,y[b+1]=T&255,b+=2,p--}try{h.append(Y.decode(y,q.GB2312))}catch(S){throw new F(S)}}static decodeKanjiSegment(c,h,p){if(p*13>c.available())throw new F;const y=new Uint8Array(2*p);let b=0;for(;p>0;){const S=c.readBits(13);let T=S/192<<8&4294967295|S%192;T<7936?T+=33088:T+=49472,y[b]=T>>8,y[b+1]=T,b+=2,p--}try{h.append(Y.decode(y,q.SHIFT_JIS))}catch(S){throw new F(S)}}static decodeByteSegment(c,h,p,y,b,S){if(8*p>c.available())throw new F;const T=new Uint8Array(p);for(let z=0;z<p;z++)T[z]=c.readBits(8);let P;y===null?P=q.guessEncoding(T,S):P=y.getName();try{h.append(Y.decode(T,P))}catch(z){throw new F(z)}b.push(T)}static toAlphaNumericChar(c){if(c>=nr.ALPHANUMERIC_CHARS.length)throw new F;return nr.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,h,p,y){const b=h.length();for(;p>1;){if(c.available()<11)throw new F;const S=c.readBits(11);h.append(nr.toAlphaNumericChar(Math.floor(S/45))),h.append(nr.toAlphaNumericChar(S%45)),p-=2}if(p===1){if(c.available()<6)throw new F;h.append(nr.toAlphaNumericChar(c.readBits(6)))}if(y)for(let S=b;S<h.length();S++)h.charAt(S)==="%"&&(S<h.length()-1&&h.charAt(S+1)==="%"?h.deleteCharAt(S+1):h.setCharAt(S,""))}static decodeNumericSegment(c,h,p){for(;p>=3;){if(c.available()<10)throw new F;const y=c.readBits(10);if(y>=1e3)throw new F;h.append(nr.toAlphaNumericChar(Math.floor(y/100))),h.append(nr.toAlphaNumericChar(Math.floor(y/10)%10)),h.append(nr.toAlphaNumericChar(y%10)),p-=3}if(p===2){if(c.available()<7)throw new F;const y=c.readBits(7);if(y>=100)throw new F;h.append(nr.toAlphaNumericChar(Math.floor(y/10))),h.append(nr.toAlphaNumericChar(y%10))}else if(p===1){if(c.available()<4)throw new F;const y=c.readBits(4);if(y>=10)throw new F;h.append(nr.toAlphaNumericChar(y))}}static parseECIValue(c){const h=c.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const p=c.readBits(8);return(h&63)<<8&4294967295|p}if((h&224)===192){const p=c.readBits(16);return(h&31)<<16&4294967295|p}throw new F}}nr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nr.GB2312_SUBSET=1;class b0{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const h=c[0];c[0]=c[2],c[2]=h}}class af{constructor(){this.rsDecoder=new gt(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(c,h){return this.decodeBitMatrix(Q.parseFromBooleanArray(c),h)}decodeBitMatrix(c,h){const p=new nb(c);let y=null;try{return this.decodeBitMatrixParser(p,h)}catch(b){y=b}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const b=this.decodeBitMatrixParser(p,h);return b.setOther(new b0(!0)),b}catch(b){throw y!==null?y:b}}decodeBitMatrixParser(c,h){const p=c.readVersion(),y=c.readFormatInformation().getErrorCorrectionLevel(),b=c.readCodewords(),S=rf.getDataBlocks(b,p,y);let T=0;for(const W of S)T+=W.getNumDataCodewords();const P=new Uint8Array(T);let z=0;for(const W of S){const te=W.getCodewords(),ne=W.getNumDataCodewords();this.correctErrors(te,ne);for(let le=0;le<ne;le++)P[z++]=te[le]}return nr.decode(P,p,y,h)}correctErrors(c,h){const p=new Int32Array(c);try{this.rsDecoder.decode(p,c.length-h)}catch{throw new _}for(let y=0;y<h;y++)c[y]=p[y]}}class Ru extends ct{constructor(c,h,p){super(c,h),this.estimatedModuleSize=p}aboutEquals(c,h,p){if(Math.abs(h-this.getY())<=c&&Math.abs(p-this.getX())<=c){const y=Math.abs(c-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(c,h,p){const y=(this.getX()+h)/2,b=(this.getY()+c)/2,S=(this.estimatedModuleSize+p)/2;return new Ru(y,b,S)}}class lc{constructor(c,h,p,y,b,S,T){this.image=c,this.startX=h,this.startY=p,this.width=y,this.height=b,this.moduleSize=S,this.resultPointCallback=T,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,h=this.height,p=this.width,y=c+p,b=this.startY+h/2,S=new Int32Array(3),T=this.image;for(let P=0;P<h;P++){const z=b+((P&1)===0?Math.floor((P+1)/2):-Math.floor((P+1)/2));S[0]=0,S[1]=0,S[2]=0;let W=c;for(;W<y&&!T.get(W,z);)W++;let te=0;for(;W<y;){if(T.get(W,z))if(te===1)S[1]++;else if(te===2){if(this.foundPatternCross(S)){const ne=this.handlePossibleCenter(S,z,W);if(ne!==null)return ne}S[0]=S[2],S[1]=1,S[2]=0,te=1}else S[++te]++;else te===1&&te++,S[te]++;W++}if(this.foundPatternCross(S)){const ne=this.handlePossibleCenter(S,z,y);if(ne!==null)return ne}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(c,h){return h-c[2]-c[1]/2}foundPatternCross(c){const h=this.moduleSize,p=h/2;for(let y=0;y<3;y++)if(Math.abs(h-c[y])>=p)return!1;return!0}crossCheckVertical(c,h,p,y){const b=this.image,S=b.getHeight(),T=this.crossCheckStateCount;T[0]=0,T[1]=0,T[2]=0;let P=c;for(;P>=0&&b.get(h,P)&&T[1]<=p;)T[1]++,P--;if(P<0||T[1]>p)return NaN;for(;P>=0&&!b.get(h,P)&&T[0]<=p;)T[0]++,P--;if(T[0]>p)return NaN;for(P=c+1;P<S&&b.get(h,P)&&T[1]<=p;)T[1]++,P++;if(P===S||T[1]>p)return NaN;for(;P<S&&!b.get(h,P)&&T[2]<=p;)T[2]++,P++;if(T[2]>p)return NaN;const z=T[0]+T[1]+T[2];return 5*Math.abs(z-y)>=2*y?NaN:this.foundPatternCross(T)?lc.centerFromEnd(T,P):NaN}handlePossibleCenter(c,h,p){const y=c[0]+c[1]+c[2],b=lc.centerFromEnd(c,p),S=this.crossCheckVertical(h,b,2*c[1],y);if(!isNaN(S)){const T=(c[0]+c[1]+c[2])/3;for(const z of this.possibleCenters)if(z.aboutEquals(T,S,b))return z.combineEstimate(S,b,T);const P=new Ru(b,S,T);this.possibleCenters.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return null}}class No extends ct{constructor(c,h,p,y){super(c,h),this.estimatedModuleSize=p,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,h,p){if(Math.abs(h-this.getY())<=c&&Math.abs(p-this.getX())<=c){const y=Math.abs(c-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(c,h,p){const y=this.count+1,b=(this.count*this.getX()+h)/y,S=(this.count*this.getY()+c)/y,T=(this.count*this.estimatedModuleSize+p)/y;return new No(b,S,T,y)}}class cc{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $r{constructor(c,h){this.image=c,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const h=c!=null&&c.get(I.TRY_HARDER)!==void 0,p=c!=null&&c.get(I.PURE_BARCODE)!==void 0,y=this.image,b=y.getHeight(),S=y.getWidth();let T=Math.floor(3*b/(4*$r.MAX_MODULES));(T<$r.MIN_SKIP||h)&&(T=$r.MIN_SKIP);let P=!1;const z=new Int32Array(5);for(let te=T-1;te<b&&!P;te+=T){z[0]=0,z[1]=0,z[2]=0,z[3]=0,z[4]=0;let ne=0;for(let le=0;le<S;le++)if(y.get(le,te))(ne&1)===1&&ne++,z[ne]++;else if((ne&1)===0)if(ne===4)if($r.foundPatternCross(z)){if(this.handlePossibleCenter(z,te,le,p)===!0)if(T=2,this.hasSkipped===!0)P=this.haveMultiplyConfirmedCenters();else{const ve=this.findRowSkip();ve>z[2]&&(te+=ve-z[2]-T,le=S-1)}else{z[0]=z[2],z[1]=z[3],z[2]=z[4],z[3]=1,z[4]=0,ne=3;continue}ne=0,z[0]=0,z[1]=0,z[2]=0,z[3]=0,z[4]=0}else z[0]=z[2],z[1]=z[3],z[2]=z[4],z[3]=1,z[4]=0,ne=3;else z[++ne]++;else z[ne]++;$r.foundPatternCross(z)&&this.handlePossibleCenter(z,te,S,p)===!0&&(T=z[0],this.hasSkipped&&(P=this.haveMultiplyConfirmedCenters()))}const W=this.selectBestPatterns();return ct.orderBestPatterns(W),new cc(W)}static centerFromEnd(c,h){return h-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let h=0;for(let b=0;b<5;b++){const S=c[b];if(S===0)return!1;h+=S}if(h<7)return!1;const p=h/7,y=p/2;return Math.abs(p-c[0])<y&&Math.abs(p-c[1])<y&&Math.abs(3*p-c[2])<3*y&&Math.abs(p-c[3])<y&&Math.abs(p-c[4])<y}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,h,p,y){const b=this.getCrossCheckStateCount();let S=0;const T=this.image;for(;c>=S&&h>=S&&T.get(h-S,c-S);)b[2]++,S++;if(c<S||h<S)return!1;for(;c>=S&&h>=S&&!T.get(h-S,c-S)&&b[1]<=p;)b[1]++,S++;if(c<S||h<S||b[1]>p)return!1;for(;c>=S&&h>=S&&T.get(h-S,c-S)&&b[0]<=p;)b[0]++,S++;if(b[0]>p)return!1;const P=T.getHeight(),z=T.getWidth();for(S=1;c+S<P&&h+S<z&&T.get(h+S,c+S);)b[2]++,S++;if(c+S>=P||h+S>=z)return!1;for(;c+S<P&&h+S<z&&!T.get(h+S,c+S)&&b[3]<p;)b[3]++,S++;if(c+S>=P||h+S>=z||b[3]>=p)return!1;for(;c+S<P&&h+S<z&&T.get(h+S,c+S)&&b[4]<p;)b[4]++,S++;if(b[4]>=p)return!1;const W=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs(W-y)<2*y&&$r.foundPatternCross(b)}crossCheckVertical(c,h,p,y){const b=this.image,S=b.getHeight(),T=this.getCrossCheckStateCount();let P=c;for(;P>=0&&b.get(h,P);)T[2]++,P--;if(P<0)return NaN;for(;P>=0&&!b.get(h,P)&&T[1]<=p;)T[1]++,P--;if(P<0||T[1]>p)return NaN;for(;P>=0&&b.get(h,P)&&T[0]<=p;)T[0]++,P--;if(T[0]>p)return NaN;for(P=c+1;P<S&&b.get(h,P);)T[2]++,P++;if(P===S)return NaN;for(;P<S&&!b.get(h,P)&&T[3]<p;)T[3]++,P++;if(P===S||T[3]>=p)return NaN;for(;P<S&&b.get(h,P)&&T[4]<p;)T[4]++,P++;if(T[4]>=p)return NaN;const z=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(z-y)>=2*y?NaN:$r.foundPatternCross(T)?$r.centerFromEnd(T,P):NaN}crossCheckHorizontal(c,h,p,y){const b=this.image,S=b.getWidth(),T=this.getCrossCheckStateCount();let P=c;for(;P>=0&&b.get(P,h);)T[2]++,P--;if(P<0)return NaN;for(;P>=0&&!b.get(P,h)&&T[1]<=p;)T[1]++,P--;if(P<0||T[1]>p)return NaN;for(;P>=0&&b.get(P,h)&&T[0]<=p;)T[0]++,P--;if(T[0]>p)return NaN;for(P=c+1;P<S&&b.get(P,h);)T[2]++,P++;if(P===S)return NaN;for(;P<S&&!b.get(P,h)&&T[3]<p;)T[3]++,P++;if(P===S||T[3]>=p)return NaN;for(;P<S&&b.get(P,h)&&T[4]<p;)T[4]++,P++;if(T[4]>=p)return NaN;const z=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(z-y)>=y?NaN:$r.foundPatternCross(T)?$r.centerFromEnd(T,P):NaN}handlePossibleCenter(c,h,p,y){const b=c[0]+c[1]+c[2]+c[3]+c[4];let S=$r.centerFromEnd(c,p),T=this.crossCheckVertical(h,Math.floor(S),c[2],b);if(!isNaN(T)&&(S=this.crossCheckHorizontal(Math.floor(S),Math.floor(T),c[2],b),!isNaN(S)&&(!y||this.crossCheckDiagonal(Math.floor(T),Math.floor(S),c[2],b)))){const P=b/7;let z=!1;const W=this.possibleCenters;for(let te=0,ne=W.length;te<ne;te++){const le=W[te];if(le.aboutEquals(P,T,S)){W[te]=le.combineEstimate(T,S,P),z=!0;break}}if(!z){const te=new No(S,T,P);W.push(te),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(te)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const p of this.possibleCenters)if(p.getCount()>=$r.CENTER_QUORUM)if(h==null)h=p;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-p.getX())-Math.abs(h.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,h=0;const p=this.possibleCenters.length;for(const S of this.possibleCenters)S.getCount()>=$r.CENTER_QUORUM&&(c++,h+=S.getEstimatedModuleSize());if(c<3)return!1;const y=h/p;let b=0;for(const S of this.possibleCenters)b+=Math.abs(S.getEstimatedModuleSize()-y);return b<=.05*h}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new G;const h=this.possibleCenters;let p;if(c>3){let y=0,b=0;for(const P of this.possibleCenters){const z=P.getEstimatedModuleSize();y+=z,b+=z*z}p=y/c;let S=Math.sqrt(b/c-p*p);h.sort((P,z)=>{const W=Math.abs(z.getEstimatedModuleSize()-p),te=Math.abs(P.getEstimatedModuleSize()-p);return W<te?-1:W>te?1:0});const T=Math.max(.2*p,S);for(let P=0;P<h.length&&h.length>3;P++){const z=h[P];Math.abs(z.getEstimatedModuleSize()-p)>T&&(h.splice(P,1),P--)}}if(h.length>3){let y=0;for(const b of h)y+=b.getEstimatedModuleSize();p=y/h.length,h.sort((b,S)=>{if(S.getCount()===b.getCount()){const T=Math.abs(S.getEstimatedModuleSize()-p),P=Math.abs(b.getEstimatedModuleSize()-p);return T<P?1:T>P?-1:0}else return S.getCount()-b.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}$r.CENTER_QUORUM=2,$r.MIN_SKIP=3,$r.MAX_MODULES=57;class ll{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(I.NEED_RESULT_POINT_CALLBACK);const p=new $r(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(p)}processFinderPatternInfo(c){const h=c.getTopLeft(),p=c.getTopRight(),y=c.getBottomLeft(),b=this.calculateModuleSize(h,p,y);if(b<1)throw new G("No pattern found in proccess finder.");const S=ll.computeDimension(h,p,y,b),T=jt.getProvisionalVersionForDimension(S),P=T.getDimensionForVersion()-7;let z=null;if(T.getAlignmentPatternCenters().length>0){const le=p.getX()-h.getX()+y.getX(),pe=p.getY()-h.getY()+y.getY(),ve=1-3/P,Ce=Math.floor(h.getX()+ve*(le-h.getX())),Le=Math.floor(h.getY()+ve*(pe-h.getY()));for(let Ze=4;Ze<=16;Ze<<=1)try{z=this.findAlignmentInRegion(b,Ce,Le,Ze);break}catch(nt){if(!(nt instanceof G))throw nt}}const W=ll.createTransform(h,p,y,z,S),te=ll.sampleGrid(this.image,W,S);let ne;return z===null?ne=[y,h,p]:ne=[y,h,p,z],new bn(te,ne)}static createTransform(c,h,p,y,b){const S=b-3.5;let T,P,z,W;return y!==null?(T=y.getX(),P=y.getY(),z=S-3,W=z):(T=h.getX()-c.getX()+p.getX(),P=h.getY()-c.getY()+p.getY(),z=S,W=S),An.quadrilateralToQuadrilateral(3.5,3.5,S,3.5,z,W,3.5,S,c.getX(),c.getY(),h.getX(),h.getY(),T,P,p.getX(),p.getY())}static sampleGrid(c,h,p){return Nr.getInstance().sampleGridWithTransform(c,p,p,h)}static computeDimension(c,h,p,y){const b=it.round(ct.distance(c,h)/y),S=it.round(ct.distance(c,p)/y);let T=Math.floor((b+S)/2)+7;switch(T&3){case 0:T++;break;case 2:T--;break;case 3:throw new G("Dimensions could be not found.")}return T}calculateModuleSize(c,h,p){return(this.calculateModuleSizeOneWay(c,h)+this.calculateModuleSizeOneWay(c,p))/2}calculateModuleSizeOneWay(c,h){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(h.getX()),Math.floor(h.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(p)?y/7:isNaN(y)?p/7:(p+y)/14}sizeOfBlackWhiteBlackRunBothWays(c,h,p,y){let b=this.sizeOfBlackWhiteBlackRun(c,h,p,y),S=1,T=c-(p-c);T<0?(S=c/(c-T),T=0):T>=this.image.getWidth()&&(S=(this.image.getWidth()-1-c)/(T-c),T=this.image.getWidth()-1);let P=Math.floor(h-(y-h)*S);return S=1,P<0?(S=h/(h-P),P=0):P>=this.image.getHeight()&&(S=(this.image.getHeight()-1-h)/(P-h),P=this.image.getHeight()-1),T=Math.floor(c+(T-c)*S),b+=this.sizeOfBlackWhiteBlackRun(c,h,T,P),b-1}sizeOfBlackWhiteBlackRun(c,h,p,y){const b=Math.abs(y-h)>Math.abs(p-c);if(b){let le=c;c=h,h=le,le=p,p=y,y=le}const S=Math.abs(p-c),T=Math.abs(y-h);let P=-S/2;const z=c<p?1:-1,W=h<y?1:-1;let te=0;const ne=p+z;for(let le=c,pe=h;le!==ne;le+=z){const ve=b?pe:le,Ce=b?le:pe;if(te===1===this.image.get(ve,Ce)){if(te===2)return it.distance(le,pe,c,h);te++}if(P+=T,P>0){if(pe===y)break;pe+=W,P-=S}}return te===2?it.distance(p+z,y,c,h):NaN}findAlignmentInRegion(c,h,p,y){const b=Math.floor(y*c),S=Math.max(0,h-b),T=Math.min(this.image.getWidth()-1,h+b);if(T-S<c*3)throw new G("Alignment top exceeds estimated module size.");const P=Math.max(0,p-b),z=Math.min(this.image.getHeight()-1,p+b);if(z-P<c*3)throw new G("Alignment bottom exceeds estimated module size.");return new lc(this.image,S,P,T-S,z-P,c,this.resultPointCallback).find()}}class Qi{constructor(){this.decoder=new af}getDecoder(){return this.decoder}decode(c,h){let p,y;if(h!=null&&h.get(I.PURE_BARCODE)!==void 0){const P=Qi.extractPureBits(c.getBlackMatrix());p=this.decoder.decodeBitMatrix(P,h),y=Qi.NO_POINTS}else{const P=new ll(c.getBlackMatrix()).detect(h);p=this.decoder.decodeBitMatrix(P.getBits(),h),y=P.getPoints()}p.getOther()instanceof b0&&p.getOther().applyMirroredCorrection(y);const b=new ye(p.getText(),p.getRawBytes(),void 0,y,ae.QR_CODE,void 0),S=p.getByteSegments();S!==null&&b.putMetadata(ce.BYTE_SEGMENTS,S);const T=p.getECLevel();return T!==null&&b.putMetadata(ce.ERROR_CORRECTION_LEVEL,T),p.hasStructuredAppend()&&(b.putMetadata(ce.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),b.putMetadata(ce.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),b}reset(){}static extractPureBits(c){const h=c.getTopLeftOnBit(),p=c.getBottomRightOnBit();if(h===null||p===null)throw new G;const y=this.moduleSize(h,c);let b=h[1],S=p[1],T=h[0],P=p[0];if(T>=P||b>=S)throw new G;if(S-b!==P-T&&(P=T+(S-b),P>=c.getWidth()))throw new G;const z=Math.round((P-T+1)/y),W=Math.round((S-b+1)/y);if(z<=0||W<=0)throw new G;if(W!==z)throw new G;const te=Math.floor(y/2);b+=te,T+=te;const ne=T+Math.floor((z-1)*y)-P;if(ne>0){if(ne>te)throw new G;T-=ne}const le=b+Math.floor((W-1)*y)-S;if(le>0){if(le>te)throw new G;b-=le}const pe=new Q(z,W);for(let ve=0;ve<W;ve++){const Ce=b+Math.floor(ve*y);for(let Le=0;Le<z;Le++)c.get(T+Math.floor(Le*y),Ce)&&pe.set(Le,ve)}return pe}static moduleSize(c,h){const p=h.getHeight(),y=h.getWidth();let b=c[0],S=c[1],T=!0,P=0;for(;b<y&&S<p;){if(T!==h.get(b,S)){if(++P===5)break;T=!T}b++,S++}if(b===y||S===p)throw new G;return(b-c[0])/7}}Qi.NO_POINTS=new Array;class At{PDF417Common(){}static getBitCountSum(c){return it.sum(c)}static toIntArray(c){if(c==null||!c.length)return At.EMPTY_INT_ARRAY;const h=new Int32Array(c.length);let p=0;for(const y of c)h[p++]=y;return h}static getCodeword(c){const h=D.binarySearch(At.SYMBOL_TABLE,c&262143);return h<0?-1:(At.CODEWORD_TABLE[h]-1)%At.NUMBER_OF_CODEWORDS}}At.NUMBER_OF_CODEWORDS=929,At.MAX_CODEWORDS_IN_BARCODE=At.NUMBER_OF_CODEWORDS-1,At.MIN_ROWS_IN_BARCODE=3,At.MAX_ROWS_IN_BARCODE=90,At.MODULES_IN_CODEWORD=17,At.MODULES_IN_STOP_PATTERN=18,At.BARS_IN_MODULE=8,At.EMPTY_INT_ARRAY=new Int32Array([]),At.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),At.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Zi{constructor(c,h){this.bits=c,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class zt{static detectMultiple(c,h,p){let y=c.getBlackMatrix(),b=zt.detect(p,y);return b.length||(y=y.clone(),y.rotate180(),b=zt.detect(p,y)),new Zi(y,b)}static detect(c,h){const p=new Array;let y=0,b=0,S=!1;for(;y<h.getHeight();){const T=zt.findVertices(h,y,b);if(T[0]==null&&T[3]==null){if(!S)break;S=!1,b=0;for(const P of p)P[1]!=null&&(y=Math.trunc(Math.max(y,P[1].getY()))),P[3]!=null&&(y=Math.max(y,Math.trunc(P[3].getY())));y+=zt.ROW_STEP;continue}if(S=!0,p.push(T),!c)break;T[2]!=null?(b=Math.trunc(T[2].getX()),y=Math.trunc(T[2].getY())):(b=Math.trunc(T[4].getX()),y=Math.trunc(T[4].getY()))}return p}static findVertices(c,h,p){const y=c.getHeight(),b=c.getWidth(),S=new Array(8);return zt.copyToResult(S,zt.findRowsWithPattern(c,y,b,h,p,zt.START_PATTERN),zt.INDEXES_START_PATTERN),S[4]!=null&&(p=Math.trunc(S[4].getX()),h=Math.trunc(S[4].getY())),zt.copyToResult(S,zt.findRowsWithPattern(c,y,b,h,p,zt.STOP_PATTERN),zt.INDEXES_STOP_PATTERN),S}static copyToResult(c,h,p){for(let y=0;y<p.length;y++)c[p[y]]=h[y]}static findRowsWithPattern(c,h,p,y,b,S){const T=new Array(4);let P=!1;const z=new Int32Array(S.length);for(;y<h;y+=zt.ROW_STEP){let te=zt.findGuardPattern(c,b,y,p,!1,S,z);if(te!=null){for(;y>0;){const ne=zt.findGuardPattern(c,b,--y,p,!1,S,z);if(ne!=null)te=ne;else{y++;break}}T[0]=new ct(te[0],y),T[1]=new ct(te[1],y),P=!0;break}}let W=y+1;if(P){let te=0,ne=Int32Array.from([Math.trunc(T[0].getX()),Math.trunc(T[1].getX())]);for(;W<h;W++){const le=zt.findGuardPattern(c,ne[0],W,p,!1,S,z);if(le!=null&&Math.abs(ne[0]-le[0])<zt.MAX_PATTERN_DRIFT&&Math.abs(ne[1]-le[1])<zt.MAX_PATTERN_DRIFT)ne=le,te=0;else{if(te>zt.SKIPPED_ROW_COUNT_MAX)break;te++}}W-=te+1,T[2]=new ct(ne[0],W),T[3]=new ct(ne[1],W)}return W-y<zt.BARCODE_MIN_HEIGHT&&D.fill(T,null),T}static findGuardPattern(c,h,p,y,b,S,T){D.fillWithin(T,0,T.length,0);let P=h,z=0;for(;c.get(P,p)&&P>0&&z++<zt.MAX_PIXEL_DRIFT;)P--;let W=P,te=0,ne=S.length;for(let le=b;W<y;W++)if(c.get(W,p)!==le)T[te]++;else{if(te===ne-1){if(zt.patternMatchVariance(T,S,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE)return new Int32Array([P,W]);P+=T[0]+T[1],E.arraycopy(T,2,T,0,te-1),T[te-1]=0,T[te]=0,te--}else te++;T[te]=1,le=!le}return te===ne-1&&zt.patternMatchVariance(T,S,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE?new Int32Array([P,W-1]):null}static patternMatchVariance(c,h,p){let y=c.length,b=0,S=0;for(let z=0;z<y;z++)b+=c[z],S+=h[z];if(b<S)return 1/0;let T=b/S;p*=T;let P=0;for(let z=0;z<y;z++){let W=c[z],te=h[z]*T,ne=W>te?W-te:te-W;if(ne>p)return 1/0;P+=ne}return P/b}}zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),zt.MAX_AVG_VARIANCE=.42,zt.MAX_INDIVIDUAL_VARIANCE=.8,zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),zt.MAX_PIXEL_DRIFT=3,zt.MAX_PATTERN_DRIFT=5,zt.SKIPPED_ROW_COUNT_MAX=25,zt.ROW_STEP=5,zt.BARCODE_MIN_HEIGHT=10;class _r{constructor(c,h){if(h.length===0)throw new x;this.field=c;let p=h.length;if(p>1&&h[0]===0){let y=1;for(;y<p&&h[y]===0;)y++;y===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-y),E.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let y=0;for(let b of this.coefficients)y=this.field.add(y,b);return y}let h=this.coefficients[0],p=this.coefficients.length;for(let y=1;y<p;y++)h=this.field.add(this.field.multiply(c,h),this.coefficients[y]);return h}add(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let h=this.coefficients,p=c.coefficients;if(h.length>p.length){let S=h;h=p,p=S}let y=new Int32Array(p.length),b=p.length-h.length;E.arraycopy(p,0,y,0,b);for(let S=b;S<p.length;S++)y[S]=this.field.add(h[S-b],p[S]);return new _r(this.field,y)}subtract(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof _r?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new _r(this.field,new Int32Array([0]));let h=this.coefficients,p=h.length,y=c.coefficients,b=y.length,S=new Int32Array(p+b-1);for(let T=0;T<p;T++){let P=h[T];for(let z=0;z<b;z++)S[T+z]=this.field.add(S[T+z],this.field.multiply(P,y[z]))}return new _r(this.field,S)}negative(){let c=this.coefficients.length,h=new Int32Array(c);for(let p=0;p<c;p++)h[p]=this.field.subtract(0,this.coefficients[p]);return new _r(this.field,h)}multiplyScalar(c){if(c===0)return new _r(this.field,new Int32Array([0]));if(c===1)return this;let h=this.coefficients.length,p=new Int32Array(h);for(let y=0;y<h;y++)p[y]=this.field.multiply(this.coefficients[y],c);return new _r(this.field,p)}multiplyByMonomial(c,h){if(c<0)throw new x;if(h===0)return new _r(this.field,new Int32Array([0]));let p=this.coefficients.length,y=new Int32Array(p+c);for(let b=0;b<p;b++)y[b]=this.field.multiply(this.coefficients[b],h);return new _r(this.field,y)}toString(){let c=new X;for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);p!==0&&(p<0?(c.append(" - "),p=-p):c.length()>0&&c.append(" + "),(h===0||p!==1)&&c.append(p),h!==0&&(h===1?c.append("x"):(c.append("x^"),c.append(h))))}return c.toString()}}class So{add(c,h){return(c+h)%this.modulus}subtract(c,h){return(this.modulus+c-h)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new x;return this.logTable[c]}inverse(c){if(c===0)throw new we;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,h){return c===0||h===0?0:this.expTable[(this.logTable[c]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class ku extends So{constructor(c,h){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let p=1;for(let y=0;y<c;y++)this.expTable[y]=p,p=p*h%c;for(let y=0;y<c-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new _r(this,new Int32Array([0])),this.one=new _r(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,h){if(c<0)throw new x;if(h===0)return this.zero;let p=new Int32Array(c+1);return p[0]=h,new _r(this,p)}}ku.PDF417_GF=new ku(At.NUMBER_OF_CODEWORDS,3);class Iu{constructor(){this.field=ku.PDF417_GF}decode(c,h,p){let y=new _r(this.field,c),b=new Int32Array(h),S=!1;for(let pe=h;pe>0;pe--){let ve=y.evaluateAt(this.field.exp(pe));b[h-pe]=ve,ve!==0&&(S=!0)}if(!S)return 0;let T=this.field.getOne();if(p!=null)for(const pe of p){let ve=this.field.exp(c.length-1-pe),Ce=new _r(this.field,new Int32Array([this.field.subtract(0,ve),1]));T=T.multiply(Ce)}let P=new _r(this.field,b),z=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),P,h),W=z[0],te=z[1],ne=this.findErrorLocations(W),le=this.findErrorMagnitudes(te,W,ne);for(let pe=0;pe<ne.length;pe++){let ve=c.length-1-this.field.log(ne[pe]);if(ve<0)throw _.getChecksumInstance();c[ve]=this.field.subtract(c[ve],le[pe])}return ne.length}runEuclideanAlgorithm(c,h,p){if(c.getDegree()<h.getDegree()){let ne=c;c=h,h=ne}let y=c,b=h,S=this.field.getZero(),T=this.field.getOne();for(;b.getDegree()>=Math.round(p/2);){let ne=y,le=S;if(y=b,S=T,y.isZero())throw _.getChecksumInstance();b=ne;let pe=this.field.getZero(),ve=y.getCoefficient(y.getDegree()),Ce=this.field.inverse(ve);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){let Le=b.getDegree()-y.getDegree(),Ze=this.field.multiply(b.getCoefficient(b.getDegree()),Ce);pe=pe.add(this.field.buildMonomial(Le,Ze)),b=b.subtract(y.multiplyByMonomial(Le,Ze))}T=pe.multiply(S).subtract(le).negative()}let P=T.getCoefficient(0);if(P===0)throw _.getChecksumInstance();let z=this.field.inverse(P),W=T.multiply(z),te=b.multiply(z);return[W,te]}findErrorLocations(c){let h=c.getDegree(),p=new Int32Array(h),y=0;for(let b=1;b<this.field.getSize()&&y<h;b++)c.evaluateAt(b)===0&&(p[y]=this.field.inverse(b),y++);if(y!==h)throw _.getChecksumInstance();return p}findErrorMagnitudes(c,h,p){let y=h.getDegree(),b=new Int32Array(y);for(let z=1;z<=y;z++)b[y-z]=this.field.multiply(z,h.getCoefficient(z));let S=new _r(this.field,b),T=p.length,P=new Int32Array(T);for(let z=0;z<T;z++){let W=this.field.inverse(p[z]),te=this.field.subtract(0,c.evaluateAt(W)),ne=this.field.inverse(S.evaluateAt(W));P[z]=this.field.multiply(te,ne)}return P}}class _o{constructor(c,h,p,y,b){c instanceof _o?this.constructor_2(c):this.constructor_1(c,h,p,y,b)}constructor_1(c,h,p,y,b){const S=h==null||p==null,T=y==null||b==null;if(S&&T)throw new G;S?(h=new ct(0,y.getY()),p=new ct(0,b.getY())):T&&(y=new ct(c.getWidth()-1,h.getY()),b=new ct(c.getWidth()-1,p.getY())),this.image=c,this.topLeft=h,this.bottomLeft=p,this.topRight=y,this.bottomRight=b,this.minX=Math.trunc(Math.min(h.getX(),p.getX())),this.maxX=Math.trunc(Math.max(y.getX(),b.getX())),this.minY=Math.trunc(Math.min(h.getY(),y.getY())),this.maxY=Math.trunc(Math.max(p.getY(),b.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,h){return c==null?h:h==null?c:new _o(c.image,c.topLeft,c.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(c,h,p){let y=this.topLeft,b=this.bottomLeft,S=this.topRight,T=this.bottomRight;if(c>0){let P=p?this.topLeft:this.topRight,z=Math.trunc(P.getY()-c);z<0&&(z=0);let W=new ct(P.getX(),z);p?y=W:S=W}if(h>0){let P=p?this.bottomLeft:this.bottomRight,z=Math.trunc(P.getY()+h);z>=this.image.getHeight()&&(z=this.image.getHeight()-1);let W=new ct(P.getX(),z);p?b=W:T=W}return new _o(this.image,y,b,S,T)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class sf{constructor(c,h,p,y){this.columnCount=c,this.errorCorrectionLevel=y,this.rowCountUpperPart=h,this.rowCountLowerPart=p,this.rowCount=h+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ao{constructor(){this.buffer=""}static form(c,h){let p=-1;function y(S,T,P,z,W,te){if(S==="%%")return"%";if(h[++p]===void 0)return;S=z?parseInt(z.substr(1)):void 0;let ne=W?parseInt(W.substr(1)):void 0,le;switch(te){case"s":le=h[p];break;case"c":le=h[p][0];break;case"f":le=parseFloat(h[p]).toFixed(S);break;case"p":le=parseFloat(h[p]).toPrecision(S);break;case"e":le=parseFloat(h[p]).toExponential(S);break;case"x":le=parseInt(h[p]).toString(ne||16);break;case"d":le=parseFloat(parseInt(h[p],ne||10).toPrecision(S)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(ne);let pe=parseInt(P),ve=P&&P[0]+""=="0"?"0":" ";for(;le.length<pe;)le=T!==void 0?le+ve:ve+le;return le}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(b,y)}format(c,...h){this.buffer+=Ao.form(c,h)}toString(){return this.buffer}}class uc{constructor(c){this.boundingBox=new _o(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let h=this.getCodeword(c);if(h!=null)return h;for(let p=1;p<uc.MAX_NEARBY_DISTANCE;p++){let y=this.imageRowToCodewordIndex(c)-p;if(y>=0&&(h=this.codewords[y],h!=null)||(y=this.imageRowToCodewordIndex(c)+p,y<this.codewords.length&&(h=this.codewords[y],h!=null)))return h}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,h){this.codewords[this.imageRowToCodewordIndex(c)]=h}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new Ao;let h=0;for(const p of this.codewords){if(p==null){c.format("%3d:    |   %n",h++);continue}c.format("%3d: %3d|%3d%n",h++,p.getRowNumber(),p.getValue())}return c.toString()}}uc.MAX_NEARBY_DISTANCE=5;class ta{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let h=this.values.get(c);h==null&&(h=0),h++,this.values.set(c,h)}getValue(){let c=-1,h=new Array;for(const[p,y]of this.values.entries()){const b={getKey:()=>p,getValue:()=>y};b.getValue()>c?(c=b.getValue(),h=[],h.push(b.getKey())):b.getValue()===c&&h.push(b.getKey())}return At.toIntArray(h)}getConfidence(c){return this.values.get(c)}}class Eo extends uc{constructor(c,h){super(c),this._isLeft=h}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,c);let p=this.getBoundingBox(),y=this._isLeft?p.getTopLeft():p.getTopRight(),b=this._isLeft?p.getBottomLeft():p.getBottomRight(),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.imageRowToCodewordIndex(Math.trunc(b.getY())),P=-1,z=1,W=0;for(let te=S;te<T;te++){if(h[te]==null)continue;let ne=h[te],le=ne.getRowNumber()-P;if(le===0)W++;else if(le===1)z=Math.max(z,W),W=1,P=ne.getRowNumber();else if(le<0||ne.getRowNumber()>=c.getRowCount()||le>te)h[te]=null;else{let pe;z>2?pe=(z-2)*le:pe=le;let ve=pe>=te;for(let Ce=1;Ce<=pe&&!ve;Ce++)ve=h[te-Ce]!=null;ve?h[te]=null:(P=ne.getRowNumber(),W=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let h=new Int32Array(c.getRowCount());for(let p of this.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=h.length)continue;h[y]++}return h}adjustIncompleteIndicatorColumnRowNumbers(c){let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.getCodewords(),P=-1;for(let z=b;z<S;z++){if(T[z]==null)continue;let W=T[z];W.setRowNumberAsRowIndicatorColumn();let te=W.getRowNumber()-P;te===0||(te===1?P=W.getRowNumber():W.getRowNumber()>=c.getRowCount()?T[z]=null:P=W.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),h=new ta,p=new ta,y=new ta,b=new ta;for(let T of c){if(T==null)continue;T.setRowNumberAsRowIndicatorColumn();let P=T.getValue()%30,z=T.getRowNumber();switch(this._isLeft||(z+=2),z%3){case 0:p.setValue(P*3+1);break;case 1:b.setValue(P/3),y.setValue(P%3);break;case 2:h.setValue(P+1);break}}if(h.getValue().length===0||p.getValue().length===0||y.getValue().length===0||b.getValue().length===0||h.getValue()[0]<1||p.getValue()[0]+y.getValue()[0]<At.MIN_ROWS_IN_BARCODE||p.getValue()[0]+y.getValue()[0]>At.MAX_ROWS_IN_BARCODE)return null;let S=new sf(h.getValue()[0],p.getValue()[0],y.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(c,S),S}removeIncorrectCodewords(c,h){for(let p=0;p<c.length;p++){let y=c[p];if(c[p]==null)continue;let b=y.getValue()%30,S=y.getRowNumber();if(S>h.getRowCount()){c[p]=null;continue}switch(this._isLeft||(S+=2),S%3){case 0:b*3+1!==h.getRowCountUpperPart()&&(c[p]=null);break;case 1:(Math.trunc(b/3)!==h.getErrorCorrectionLevel()||b%3!==h.getRowCountLowerPart())&&(c[p]=null);break;case 2:b+1!==h.getColumnCount()&&(c[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Co{constructor(c,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=At.MAX_CODEWORDS_IN_BARCODE,h;do h=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let p=this.detectionResultColumns[h].getCodewords();for(let y=0;y<p.length;y++)p[y]!=null&&(p[y].hasValidRowNumber()||this.adjustRowNumbers(h,y,p))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<c.length;p++)if(c[p]!=null&&h[p]!=null&&c[p].getRowNumber()===h[p].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let b=this.detectionResultColumns[y].getCodewords()[p];b!=null&&(b.setRowNumber(c[p].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let y=h[p].getRowNumber(),b=0;for(let S=this.barcodeColumnCount+1;S>0&&b<this.ADJUST_ROW_NUMBER_SKIP;S--){let T=this.detectionResultColumns[S].getCodewords()[p];T!=null&&(b=Co.adjustRowNumberIfValid(y,b,T),T.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,h=this.detectionResultColumns[0].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let y=h[p].getRowNumber(),b=0;for(let S=1;S<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;S++){let T=this.detectionResultColumns[S].getCodewords()[p];T!=null&&(b=Co.adjustRowNumberIfValid(y,b,T),T.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,h,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(c)?(p.setRowNumber(c),h=0):++h),h}adjustRowNumbers(c,h,p){if(!this.detectionResultColumns[c-1])return;let y=p[h],b=this.detectionResultColumns[c-1].getCodewords(),S=b;this.detectionResultColumns[c+1]!=null&&(S=this.detectionResultColumns[c+1].getCodewords());let T=new Array(14);T[2]=b[h],T[3]=S[h],h>0&&(T[0]=p[h-1],T[4]=b[h-1],T[5]=S[h-1]),h>1&&(T[8]=p[h-2],T[10]=b[h-2],T[11]=S[h-2]),h<p.length-1&&(T[1]=p[h+1],T[6]=b[h+1],T[7]=S[h+1]),h<p.length-2&&(T[9]=p[h+2],T[12]=b[h+2],T[13]=S[h+2]);for(let P of T)if(Co.adjustRowNumber(y,P))return}static adjustRowNumber(c,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===c.getBucket()?(c.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,h){this.detectionResultColumns[c]=h}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new Ao;for(let p=0;p<c.getCodewords().length;p++){h.format("CW %3d:",p);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){h.format("    |   ");continue}let b=this.detectionResultColumns[y].getCodewords()[p];if(b==null){h.format("    |   ");continue}h.format(" %3d|%3d",b.getRowNumber(),b.getValue())}h.format("%n")}return h.toString()}}class Ji{constructor(c,h,p,y){this.rowNumber=Ji.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(h),this.bucket=Math.trunc(p),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==Ji.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}Ji.BARCODE_ROW_UNKNOWN=-1;class Qa{static initialize(){for(let c=0;c<At.SYMBOL_TABLE.length;c++){let h=At.SYMBOL_TABLE[c],p=h&1;for(let y=0;y<At.BARS_IN_MODULE;y++){let b=0;for(;(h&1)===p;)b+=1,h>>=1;p=h&1,Qa.RATIOS_TABLE[c]||(Qa.RATIOS_TABLE[c]=new Array(At.BARS_IN_MODULE)),Qa.RATIOS_TABLE[c][At.BARS_IN_MODULE-y-1]=Math.fround(b/At.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let h=Qa.getDecodedCodewordValue(Qa.sampleBitCounts(c));return h!==-1?h:Qa.getClosestDecodedValue(c)}static sampleBitCounts(c){let h=it.sum(c),p=new Int32Array(At.BARS_IN_MODULE),y=0,b=0;for(let S=0;S<At.MODULES_IN_CODEWORD;S++){let T=h/(2*At.MODULES_IN_CODEWORD)+S*h/At.MODULES_IN_CODEWORD;b+c[y]<=T&&(b+=c[y],y++),p[y]++}return p}static getDecodedCodewordValue(c){let h=Qa.getBitValue(c);return At.getCodeword(h)===-1?-1:h}static getBitValue(c){let h=0;for(let p=0;p<c.length;p++)for(let y=0;y<c[p];y++)h=h<<1|(p%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(c){let h=it.sum(c),p=new Array(At.BARS_IN_MODULE);if(h>1)for(let S=0;S<p.length;S++)p[S]=Math.fround(c[S]/h);let y=wr.MAX_VALUE,b=-1;this.bSymbolTableReady||Qa.initialize();for(let S=0;S<Qa.RATIOS_TABLE.length;S++){let T=0,P=Qa.RATIOS_TABLE[S];for(let z=0;z<At.BARS_IN_MODULE;z++){let W=Math.fround(P[z]-p[z]);if(T+=Math.fround(W*W),T>=y)break}T<y&&(y=T,b=At.SYMBOL_TABLE[S])}return b}}Qa.bSymbolTableReady=!1,Qa.RATIOS_TABLE=new Array(At.SYMBOL_TABLE.length).map(J=>new Array(At.BARS_IN_MODULE));class of{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class lf{static parseLong(c,h=void 0){return parseInt(c,h)}}class dc extends f{}dc.kind="NullPointerException";class cf{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,h,p){if(c==null)throw new dc;if(h<0||h>c.length||p<0||h+p>c.length||h+p<0)throw new A;if(p===0)return;for(let y=0;y<p;y++)this.write(c[h+y])}flush(){}close(){}}class w0 extends f{}class rb extends cf{constructor(c=32){if(super(),this.count=0,c<0)throw new x("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let p=this.buf.length<<1;if(p-c<0&&(p=c),p<0){if(c<0)throw new w0;p=R.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,p)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,h,p){if(h<0||h>c.length||p<0||h+p-c.length>0)throw new A;this.ensureCapacity(this.count+p),E.arraycopy(c,h,this.buf,this.count,p),this.count+=p}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var On;(function(J){J[J.ALPHA=0]="ALPHA",J[J.LOWER=1]="LOWER",J[J.MIXED=2]="MIXED",J[J.PUNCT=3]="PUNCT",J[J.ALPHA_SHIFT=4]="ALPHA_SHIFT",J[J.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(On||(On={}));function j0(){if(typeof window<"u")return window.BigInt||null;if(typeof Ax<"u")return Ax.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let fc;function To(J){if(typeof fc>"u"&&(fc=j0()),fc===null)throw new Error("BigInt is not supported!");return fc(J)}function ab(){let J=[];J[0]=To(1);let c=To(900);J[1]=c;for(let h=2;h<16;h++)J[h]=J[h-1]*c;return J}class Fe{static decode(c,h){let p=new X(""),y=L.ISO8859_1;p.enableDecoding(y);let b=1,S=c[b++],T=new of;for(;b<c[0];){switch(S){case Fe.TEXT_COMPACTION_MODE_LATCH:b=Fe.textCompaction(c,b,p);break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:b=Fe.byteCompaction(S,c,y,b,p);break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[b++]);break;case Fe.NUMERIC_COMPACTION_MODE_LATCH:b=Fe.numericCompaction(c,b,p);break;case Fe.ECI_CHARSET:L.getCharacterSetECIByValue(c[b++]);break;case Fe.ECI_GENERAL_PURPOSE:b+=2;break;case Fe.ECI_USER_DEFINED:b++;break;case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=Fe.decodeMacroBlock(c,b,T);break;case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:throw new F;default:b--,b=Fe.textCompaction(c,b,p);break}if(b<c.length)S=c[b++];else throw F.getFormatInstance()}if(p.length()===0)throw F.getFormatInstance();let P=new ge(null,p.toString(),null,h);return P.setOther(T),P}static decodeMacroBlock(c,h,p){if(h+Fe.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw F.getFormatInstance();let y=new Int32Array(Fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let T=0;T<Fe.NUMBER_OF_SEQUENCE_CODEWORDS;T++,h++)y[T]=c[h];p.setSegmentIndex(R.parseInt(Fe.decodeBase900toBase10(y,Fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new X;h=Fe.textCompaction(c,h,b),p.setFileId(b.toString());let S=-1;for(c[h]===Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(S=h+1);h<c[0];)switch(c[h]){case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,c[h]){case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let T=new X;h=Fe.textCompaction(c,h+1,T),p.setFileName(T.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let P=new X;h=Fe.textCompaction(c,h+1,P),p.setSender(P.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let z=new X;h=Fe.textCompaction(c,h+1,z),p.setAddressee(z.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let W=new X;h=Fe.numericCompaction(c,h+1,W),p.setSegmentCount(R.parseInt(W.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let te=new X;h=Fe.numericCompaction(c,h+1,te),p.setTimestamp(lf.parseLong(te.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ne=new X;h=Fe.numericCompaction(c,h+1,ne),p.setChecksum(R.parseInt(ne.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let le=new X;h=Fe.numericCompaction(c,h+1,le),p.setFileSize(lf.parseLong(le.toString()));break;default:throw F.getFormatInstance()}break;case Fe.MACRO_PDF417_TERMINATOR:h++,p.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(S!==-1){let T=h-S;p.isLastSegment()&&T--,p.setOptionalData(D.copyOfRange(c,S,S+T))}return h}static textCompaction(c,h,p){let y=new Int32Array((c[0]-h)*2),b=new Int32Array((c[0]-h)*2),S=0,T=!1;for(;h<c[0]&&!T;){let P=c[h++];if(P<Fe.TEXT_COMPACTION_MODE_LATCH)y[S]=P/30,y[S+1]=P%30,S+=2;else switch(P){case Fe.TEXT_COMPACTION_MODE_LATCH:y[S++]=Fe.TEXT_COMPACTION_MODE_LATCH;break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:h--,T=!0;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[S]=Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,P=c[h++],b[S]=P,S++;break}}return Fe.decodeTextCompaction(y,b,S,p),h}static decodeTextCompaction(c,h,p,y){let b=On.ALPHA,S=On.ALPHA,T=0;for(;T<p;){let P=c[T],z="";switch(b){case On.ALPHA:if(P<26)z=String.fromCharCode(65+P);else switch(P){case 26:z=" ";break;case Fe.LL:b=On.LOWER;break;case Fe.ML:b=On.MIXED;break;case Fe.PS:S=b,b=On.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.LOWER:if(P<26)z=String.fromCharCode(97+P);else switch(P){case 26:z=" ";break;case Fe.AS:S=b,b=On.ALPHA_SHIFT;break;case Fe.ML:b=On.MIXED;break;case Fe.PS:S=b,b=On.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.MIXED:if(P<Fe.PL)z=Fe.MIXED_CHARS[P];else switch(P){case Fe.PL:b=On.PUNCT;break;case 26:z=" ";break;case Fe.LL:b=On.LOWER;break;case Fe.AL:b=On.ALPHA;break;case Fe.PS:S=b,b=On.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.PUNCT:if(P<Fe.PAL)z=Fe.PUNCT_CHARS[P];else switch(P){case Fe.PAL:b=On.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.ALPHA_SHIFT:if(b=S,P<26)z=String.fromCharCode(65+P);else switch(P){case 26:z=" ";break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break;case On.PUNCT_SHIFT:if(b=S,P<Fe.PAL)z=Fe.PUNCT_CHARS[P];else switch(P){case Fe.PAL:b=On.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=On.ALPHA;break}break}z!==""&&y.append(z),T++}}static byteCompaction(c,h,p,y,b){let S=new rb,T=0,P=0,z=!1;switch(c){case Fe.BYTE_COMPACTION_MODE_LATCH:let W=new Int32Array(6),te=h[y++];for(;y<h[0]&&!z;)switch(W[T++]=te,P=900*P+te,te=h[y++],te){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:y--,z=!0;break;default:if(T%5===0&&T>0){for(let ne=0;ne<6;++ne)S.write(Number(To(P)>>To(8*(5-ne))));P=0,T=0}break}y===h[0]&&te<Fe.TEXT_COMPACTION_MODE_LATCH&&(W[T++]=te);for(let ne=0;ne<T;ne++)S.write(W[ne]);break;case Fe.BYTE_COMPACTION_MODE_LATCH_6:for(;y<h[0]&&!z;){let ne=h[y++];if(ne<Fe.TEXT_COMPACTION_MODE_LATCH)T++,P=900*P+ne;else switch(ne){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:y--,z=!0;break}if(T%5===0&&T>0){for(let le=0;le<6;++le)S.write(Number(To(P)>>To(8*(5-le))));P=0,T=0}}break}return b.append(Y.decode(S.toByteArray(),p)),y}static numericCompaction(c,h,p){let y=0,b=!1,S=new Int32Array(Fe.MAX_NUMERIC_CODEWORDS);for(;h<c[0]&&!b;){let T=c[h++];if(h===c[0]&&(b=!0),T<Fe.TEXT_COMPACTION_MODE_LATCH)S[y]=T,y++;else switch(T){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:h--,b=!0;break}(y%Fe.MAX_NUMERIC_CODEWORDS===0||T===Fe.NUMERIC_COMPACTION_MODE_LATCH||b)&&y>0&&(p.append(Fe.decodeBase900toBase10(S,y)),y=0)}return h}static decodeBase900toBase10(c,h){let p=To(0);for(let b=0;b<h;b++)p+=Fe.EXP900[h-b-1]*To(c[b]);let y=p.toString();if(y.charAt(0)!=="1")throw new F;return y.substring(1)}}Fe.TEXT_COMPACTION_MODE_LATCH=900,Fe.BYTE_COMPACTION_MODE_LATCH=901,Fe.NUMERIC_COMPACTION_MODE_LATCH=902,Fe.BYTE_COMPACTION_MODE_LATCH_6=924,Fe.ECI_USER_DEFINED=925,Fe.ECI_GENERAL_PURPOSE=926,Fe.ECI_CHARSET=927,Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Fe.MACRO_PDF417_TERMINATOR=922,Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Fe.MAX_NUMERIC_CODEWORDS=15,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Fe.PL=25,Fe.LL=27,Fe.AS=27,Fe.ML=28,Fe.AL=28,Fe.PS=29,Fe.PAL=29,Fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Fe.EXP900=j0()?ab():[],Fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Yt{constructor(){}static decode(c,h,p,y,b,S,T){let P=new _o(c,h,p,y,b),z=null,W=null,te;for(let pe=!0;;pe=!1){if(h!=null&&(z=Yt.getRowIndicatorColumn(c,P,h,!0,S,T)),y!=null&&(W=Yt.getRowIndicatorColumn(c,P,y,!1,S,T)),te=Yt.merge(z,W),te==null)throw G.getNotFoundInstance();let ve=te.getBoundingBox();if(pe&&ve!=null&&(ve.getMinY()<P.getMinY()||ve.getMaxY()>P.getMaxY()))P=ve;else break}te.setBoundingBox(P);let ne=te.getBarcodeColumnCount()+1;te.setDetectionResultColumn(0,z),te.setDetectionResultColumn(ne,W);let le=z!=null;for(let pe=1;pe<=ne;pe++){let ve=le?pe:ne-pe;if(te.getDetectionResultColumn(ve)!==void 0)continue;let Ce;ve===0||ve===ne?Ce=new Eo(P,ve===0):Ce=new uc(P),te.setDetectionResultColumn(ve,Ce);let Le=-1,Ze=Le;for(let nt=P.getMinY();nt<=P.getMaxY();nt++){if(Le=Yt.getStartColumn(te,ve,nt,le),Le<0||Le>P.getMaxX()){if(Ze===-1)continue;Le=Ze}let Xe=Yt.detectCodeword(c,P.getMinX(),P.getMaxX(),le,Le,nt,S,T);Xe!=null&&(Ce.setCodeword(nt,Xe),Ze=Le,S=Math.min(S,Xe.getWidth()),T=Math.max(T,Xe.getWidth()))}}return Yt.createDecoderResult(te)}static merge(c,h){if(c==null&&h==null)return null;let p=Yt.getBarcodeMetadata(c,h);if(p==null)return null;let y=_o.merge(Yt.adjustBoundingBox(c),Yt.adjustBoundingBox(h));return new Co(p,y)}static adjustBoundingBox(c){if(c==null)return null;let h=c.getRowHeights();if(h==null)return null;let p=Yt.getMax(h),y=0;for(let T of h)if(y+=p-T,T>0)break;let b=c.getCodewords();for(let T=0;y>0&&b[T]==null;T++)y--;let S=0;for(let T=h.length-1;T>=0&&(S+=p-h[T],!(h[T]>0));T--);for(let T=b.length-1;S>0&&b[T]==null;T--)S--;return c.getBoundingBox().addMissingRows(y,S,c.isLeft())}static getMax(c){let h=-1;for(let p of c)h=Math.max(h,p);return h}static getBarcodeMetadata(c,h){let p;if(c==null||(p=c.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let y;return h==null||(y=h.getBarcodeMetadata())==null?p:p.getColumnCount()!==y.getColumnCount()&&p.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&p.getRowCount()!==y.getRowCount()?null:p}static getRowIndicatorColumn(c,h,p,y,b,S){let T=new Eo(h,y);for(let P=0;P<2;P++){let z=P===0?1:-1,W=Math.trunc(Math.trunc(p.getX()));for(let te=Math.trunc(Math.trunc(p.getY()));te<=h.getMaxY()&&te>=h.getMinY();te+=z){let ne=Yt.detectCodeword(c,0,c.getWidth(),y,W,te,b,S);ne!=null&&(T.setCodeword(te,ne),y?W=ne.getStartX():W=ne.getEndX())}}return T}static adjustCodewordCount(c,h){let p=h[0][1],y=p.getValue(),b=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-Yt.getNumberOfECCodeWords(c.getBarcodeECLevel());if(y.length===0){if(b<1||b>At.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();p.setValue(b)}else y[0]!==b&&p.setValue(b)}static createDecoderResult(c){let h=Yt.createBarcodeMatrix(c);Yt.adjustCodewordCount(c,h);let p=new Array,y=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),b=[],S=new Array;for(let P=0;P<c.getBarcodeRowCount();P++)for(let z=0;z<c.getBarcodeColumnCount();z++){let W=h[P][z+1].getValue(),te=P*c.getBarcodeColumnCount()+z;W.length===0?p.push(te):W.length===1?y[te]=W[0]:(S.push(te),b.push(W))}let T=new Array(b.length);for(let P=0;P<T.length;P++)T[P]=b[P];return Yt.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),y,At.toIntArray(p),At.toIntArray(S),T)}static createDecoderResultFromAmbiguousValues(c,h,p,y,b){let S=new Int32Array(y.length),T=100;for(;T-- >0;){for(let P=0;P<S.length;P++)h[y[P]]=b[P][S[P]];try{return Yt.decodeCodewords(h,c,p)}catch(P){if(!(P instanceof _))throw P}if(S.length===0)throw _.getChecksumInstance();for(let P=0;P<S.length;P++)if(S[P]<b[P].length-1){S[P]++;break}else if(S[P]=0,P===S.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(c){let h=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let y=0;y<h.length;y++)for(let b=0;b<h[y].length;b++)h[y][b]=new ta;let p=0;for(let y of c.getDetectionResultColumns()){if(y!=null){for(let b of y.getCodewords())if(b!=null){let S=b.getRowNumber();if(S>=0){if(S>=h.length)continue;h[S][p].setValue(b.getValue())}}}p++}return h}static isValidBarcodeColumn(c,h){return h>=0&&h<=c.getBarcodeColumnCount()+1}static getStartColumn(c,h,p,y){let b=y?1:-1,S=null;if(Yt.isValidBarcodeColumn(c,h-b)&&(S=c.getDetectionResultColumn(h-b).getCodeword(p)),S!=null)return y?S.getEndX():S.getStartX();if(S=c.getDetectionResultColumn(h).getCodewordNearby(p),S!=null)return y?S.getStartX():S.getEndX();if(Yt.isValidBarcodeColumn(c,h-b)&&(S=c.getDetectionResultColumn(h-b).getCodewordNearby(p)),S!=null)return y?S.getEndX():S.getStartX();let T=0;for(;Yt.isValidBarcodeColumn(c,h-b);){h-=b;for(let P of c.getDetectionResultColumn(h).getCodewords())if(P!=null)return(y?P.getEndX():P.getStartX())+b*T*(P.getEndX()-P.getStartX());T++}return y?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,h,p,y,b,S,T,P){b=Yt.adjustCodewordStartColumn(c,h,p,y,b,S);let z=Yt.getModuleBitCount(c,h,p,y,b,S);if(z==null)return null;let W,te=it.sum(z);if(y)W=b+te;else{for(let pe=0;pe<z.length/2;pe++){let ve=z[pe];z[pe]=z[z.length-1-pe],z[z.length-1-pe]=ve}W=b,b=W-te}if(!Yt.checkCodewordSkew(te,T,P))return null;let ne=Qa.getDecodedValue(z),le=At.getCodeword(ne);return le===-1?null:new Ji(b,W,Yt.getCodewordBucketNumber(ne),le)}static getModuleBitCount(c,h,p,y,b,S){let T=b,P=new Int32Array(8),z=0,W=y?1:-1,te=y;for(;(y?T<p:T>=h)&&z<P.length;)c.get(T,S)===te?(P[z]++,T+=W):(z++,te=!te);return z===P.length||T===(y?p:h)&&z===P.length-1?P:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,h,p,y,b,S){let T=b,P=y?-1:1;for(let z=0;z<2;z++){for(;(y?T>=h:T<p)&&y===c.get(T,S);){if(Math.abs(b-T)>Yt.CODEWORD_SKEW_SIZE)return b;T+=P}P=-P,y=!y}return T}static checkCodewordSkew(c,h,p){return h-Yt.CODEWORD_SKEW_SIZE<=c&&c<=p+Yt.CODEWORD_SKEW_SIZE}static decodeCodewords(c,h,p){if(c.length===0)throw F.getFormatInstance();let y=1<<h+1,b=Yt.correctErrors(c,p,y);Yt.verifyCodewordCount(c,y);let S=Fe.decode(c,""+h);return S.setErrorsCorrected(b),S.setErasures(p.length),S}static correctErrors(c,h,p){if(h!=null&&h.length>p/2+Yt.MAX_ERRORS||p<0||p>Yt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Yt.errorCorrection.decode(c,p,h)}static verifyCodewordCount(c,h){if(c.length<4)throw F.getFormatInstance();let p=c[0];if(p>c.length)throw F.getFormatInstance();if(p===0)if(h<c.length)c[0]=c.length-h;else throw F.getFormatInstance()}static getBitCountForCodeword(c){let h=new Int32Array(8),p=0,y=h.length-1;for(;!((c&1)!==p&&(p=c&1,y--,y<0));)h[y]++,c>>=1;return h}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return Yt.getCodewordBucketNumber(Yt.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let h=new Ao;for(let p=0;p<c.length;p++){h.format("Row %2d: ",p);for(let y=0;y<c[p].length;y++){let b=c[p][y];b.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}h.format("%n")}return h.toString()}}Yt.CODEWORD_SKEW_SIZE=2,Yt.MAX_ERRORS=3,Yt.MAX_EC_CODEWORDS=512,Yt.errorCorrection=new Iu;class ma{decode(c,h=null){let p=ma.decode(c,h,!1);if(p==null||p.length===0||p[0]==null)throw G.getNotFoundInstance();return p[0]}decodeMultiple(c,h=null){try{return ma.decode(c,h,!0)}catch(p){throw p instanceof F||p instanceof _?G.getNotFoundInstance():p}}static decode(c,h,p){const y=new Array,b=zt.detectMultiple(c,h,p);for(const S of b.getPoints()){const T=Yt.decode(b.getBits(),S[4],S[5],S[6],S[7],ma.getMinCodewordWidth(S),ma.getMaxCodewordWidth(S)),P=new ye(T.getText(),T.getRawBytes(),void 0,S,ae.PDF_417);P.putMetadata(ce.ERROR_CORRECTION_LEVEL,T.getECLevel());const z=T.getOther();z!=null&&P.putMetadata(ce.PDF417_EXTRA_METADATA,z),y.push(P)}return y.map(S=>S)}static getMaxWidth(c,h){return c==null||h==null?0:Math.trunc(Math.abs(c.getX()-h.getX()))}static getMinWidth(c,h){return c==null||h==null?R.MAX_VALUE:Math.trunc(Math.abs(c.getX()-h.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(ma.getMaxWidth(c[0],c[4]),ma.getMaxWidth(c[6],c[2])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN),Math.max(ma.getMaxWidth(c[1],c[5]),ma.getMaxWidth(c[7],c[3])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(ma.getMinWidth(c[0],c[4]),ma.getMinWidth(c[6],c[2])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN),Math.min(ma.getMinWidth(c[1],c[5]),ma.getMinWidth(c[7],c[3])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN)))}reset(){}}class Lu extends f{}Lu.kind="ReaderException";class N0{constructor(c,h){this.verbose=c===!0,h&&this.setHints(h)}decode(c,h){return h&&this.setHints(h),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const h=!r(c)&&c.get(I.TRY_HARDER)===!0,p=r(c)?null:c.get(I.POSSIBLE_FORMATS),y=new Array;if(!r(p)){const b=p.some(S=>S===ae.UPC_A||S===ae.UPC_E||S===ae.EAN_13||S===ae.EAN_8||S===ae.CODABAR||S===ae.CODE_39||S===ae.CODE_93||S===ae.CODE_128||S===ae.ITF||S===ae.RSS_14||S===ae.RSS_EXPANDED);b&&!h&&y.push(new wo(c,this.verbose)),p.includes(ae.QR_CODE)&&y.push(new Qi),p.includes(ae.DATA_MATRIX)&&y.push(new Ws),p.includes(ae.AZTEC)&&y.push(new Wi),p.includes(ae.PDF_417)&&y.push(new ma),b&&h&&y.push(new wo(c,this.verbose))}y.length===0&&(h||y.push(new wo(c,this.verbose)),y.push(new Qi),y.push(new Ws),y.push(new Wi),y.push(new ma),h&&y.push(new wo(c,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new Lu("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(c,this.hints)}catch(p){if(p instanceof Lu)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class sb extends _e{constructor(c=null,h=500){const p=new N0;p.setHints(c),super(p,h)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class ib extends _e{constructor(c=500){super(new ma,c)}}class ob extends _e{constructor(c=500){super(new Qi,c)}}var Bu;(function(J){J[J.ERROR_CORRECTION=0]="ERROR_CORRECTION",J[J.CHARACTER_SET=1]="CHARACTER_SET",J[J.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",J[J.MIN_SIZE=3]="MIN_SIZE",J[J.MAX_SIZE=4]="MAX_SIZE",J[J.MARGIN=5]="MARGIN",J[J.PDF417_COMPACT=6]="PDF417_COMPACT",J[J.PDF417_COMPACTION=7]="PDF417_COMPACTION",J[J.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",J[J.AZTEC_LAYERS=9]="AZTEC_LAYERS",J[J.QR_VERSION=10]="QR_VERSION"})(Bu||(Bu={}));var Hr=Bu;class Am{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new Ne(c,Int32Array.from([1])))}buildGenerator(c){const h=this.cachedGenerators;if(c>=h.length){let p=h[h.length-1];const y=this.field;for(let b=h.length;b<=c;b++){const S=p.multiply(new Ne(y,Int32Array.from([1,y.exp(b-1+y.getGeneratorBase())])));h.push(S),p=S}}return h[c]}encode(c,h){if(h===0)throw new x("No error correction bytes");const p=c.length-h;if(p<=0)throw new x("No data bytes provided");const y=this.buildGenerator(h),b=new Int32Array(p);E.arraycopy(c,0,b,0,p);let S=new Ne(this.field,b);S=S.multiplyByMonomial(h,1);const P=S.divide(y)[1].getCoefficients(),z=h-P.length;for(let W=0;W<z;W++)c[p+W]=0;E.arraycopy(P,0,c,p+z,P.length)}}class ur{constructor(){}static applyMaskPenaltyRule1(c){return ur.applyMaskPenaltyRule1Internal(c,!0)+ur.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let S=0;S<b-1;S++){const T=p[S];for(let P=0;P<y-1;P++){const z=T[P];z===T[P+1]&&z===p[S+1][P]&&z===p[S+1][P+1]&&h++}}return ur.N2*h}static applyMaskPenaltyRule3(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let S=0;S<b;S++)for(let T=0;T<y;T++){const P=p[S];T+6<y&&P[T]===1&&P[T+1]===0&&P[T+2]===1&&P[T+3]===1&&P[T+4]===1&&P[T+5]===0&&P[T+6]===1&&(ur.isWhiteHorizontal(P,T-4,T)||ur.isWhiteHorizontal(P,T+7,T+11))&&h++,S+6<b&&p[S][T]===1&&p[S+1][T]===0&&p[S+2][T]===1&&p[S+3][T]===1&&p[S+4][T]===1&&p[S+5][T]===0&&p[S+6][T]===1&&(ur.isWhiteVertical(p,T,S-4,S)||ur.isWhiteVertical(p,T,S+7,S+11))&&h++}return h*ur.N3}static isWhiteHorizontal(c,h,p){h=Math.max(h,0),p=Math.min(p,c.length);for(let y=h;y<p;y++)if(c[y]===1)return!1;return!0}static isWhiteVertical(c,h,p,y){p=Math.max(p,0),y=Math.min(y,c.length);for(let b=p;b<y;b++)if(c[b][h]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let P=0;P<b;P++){const z=p[P];for(let W=0;W<y;W++)z[W]===1&&h++}const S=c.getHeight()*c.getWidth();return Math.floor(Math.abs(h*2-S)*10/S)*ur.N4}static getDataMaskBit(c,h,p){let y,b;switch(c){case 0:y=p+h&1;break;case 1:y=p&1;break;case 2:y=h%3;break;case 3:y=(p+h)%3;break;case 4:y=Math.floor(p/2)+Math.floor(h/3)&1;break;case 5:b=p*h,y=(b&1)+b%3;break;case 6:b=p*h,y=(b&1)+b%3&1;break;case 7:b=p*h,y=b%3+(p+h&1)&1;break;default:throw new x("Invalid mask pattern: "+c)}return y===0}static applyMaskPenaltyRule1Internal(c,h){let p=0;const y=h?c.getHeight():c.getWidth(),b=h?c.getWidth():c.getHeight(),S=c.getArray();for(let T=0;T<y;T++){let P=0,z=-1;for(let W=0;W<b;W++){const te=h?S[T][W]:S[W][T];te===z?P++:(P>=5&&(p+=ur.N1+(P-5)),P=1,z=te)}P>=5&&(p+=ur.N1+(P-5))}return p}}ur.N1=3,ur.N2=3,ur.N3=40,ur.N4=10;class Fu{constructor(c,h){this.width=c,this.height=h;const p=new Array(h);for(let y=0;y!==h;y++)p[y]=new Uint8Array(c);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(c,h){return this.bytes[h][c]}getArray(){return this.bytes}setNumber(c,h,p){this.bytes[h][c]=p}setBoolean(c,h,p){this.bytes[h][c]=p?1:0}clear(c){for(const h of this.bytes)D.fill(h,c)}equals(c){if(!(c instanceof Fu))return!1;const h=c;if(this.width!==h.width||this.height!==h.height)return!1;for(let p=0,y=this.height;p<y;++p){const b=this.bytes[p],S=h.bytes[p];for(let T=0,P=this.width;T<P;++T)if(b[T]!==S[T])return!1}return!0}toString(){const c=new X;for(let h=0,p=this.height;h<p;++h){const y=this.bytes[h];for(let b=0,S=this.width;b<S;++b)switch(y[b]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class cl{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new X;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<cl.NUM_MASK_PATTERNS}}cl.NUM_MASK_PATTERNS=8;class Dn extends f{}Dn.kind="WriterException";class Ct{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,h,p,y,b){Ct.clearMatrix(b),Ct.embedBasicPatterns(p,b),Ct.embedTypeInfo(h,y,b),Ct.maybeEmbedVersionInfo(p,b),Ct.embedDataBits(c,y,b)}static embedBasicPatterns(c,h){Ct.embedPositionDetectionPatternsAndSeparators(h),Ct.embedDarkDotAtLeftBottomCorner(h),Ct.maybeEmbedPositionAdjustmentPatterns(c,h),Ct.embedTimingPatterns(h)}static embedTypeInfo(c,h,p){const y=new U;Ct.makeTypeInfoBits(c,h,y);for(let b=0,S=y.getSize();b<S;++b){const T=y.get(y.getSize()-1-b),P=Ct.TYPE_INFO_COORDINATES[b],z=P[0],W=P[1];if(p.setBoolean(z,W,T),b<8){const te=p.getWidth()-b-1;p.setBoolean(te,8,T)}else{const ne=p.getHeight()-7+(b-8);p.setBoolean(8,ne,T)}}}static maybeEmbedVersionInfo(c,h){if(c.getVersionNumber()<7)return;const p=new U;Ct.makeVersionInfoBits(c,p);let y=6*3-1;for(let b=0;b<6;++b)for(let S=0;S<3;++S){const T=p.get(y);y--,h.setBoolean(b,h.getHeight()-11+S,T),h.setBoolean(h.getHeight()-11+S,b,T)}}static embedDataBits(c,h,p){let y=0,b=-1,S=p.getWidth()-1,T=p.getHeight()-1;for(;S>0;){for(S===6&&(S-=1);T>=0&&T<p.getHeight();){for(let P=0;P<2;++P){const z=S-P;if(!Ct.isEmpty(p.get(z,T)))continue;let W;y<c.getSize()?(W=c.get(y),++y):W=!1,h!==255&&ur.getDataMaskBit(h,z,T)&&(W=!W),p.setBoolean(z,T,W)}T+=b}b=-b,T+=b,S-=2}if(y!==c.getSize())throw new Dn("Not all bits consumed: "+y+"/"+c.getSize())}static findMSBSet(c){return 32-R.numberOfLeadingZeros(c)}static calculateBCHCode(c,h){if(h===0)throw new x("0 polynomial");const p=Ct.findMSBSet(h);for(c<<=p-1;Ct.findMSBSet(c)>=p;)c^=h<<Ct.findMSBSet(c)-p;return c}static makeTypeInfoBits(c,h,p){if(!cl.isValidMaskPattern(h))throw new Dn("Invalid mask pattern");const y=c.getBits()<<3|h;p.appendBits(y,5);const b=Ct.calculateBCHCode(y,Ct.TYPE_INFO_POLY);p.appendBits(b,10);const S=new U;if(S.appendBits(Ct.TYPE_INFO_MASK_PATTERN,15),p.xor(S),p.getSize()!==15)throw new Dn("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(c,h){h.appendBits(c.getVersionNumber(),6);const p=Ct.calculateBCHCode(c.getVersionNumber(),Ct.VERSION_INFO_POLY);if(h.appendBits(p,12),h.getSize()!==18)throw new Dn("should not happen but we got: "+h.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let h=8;h<c.getWidth()-8;++h){const p=(h+1)%2;Ct.isEmpty(c.get(h,6))&&c.setNumber(h,6,p),Ct.isEmpty(c.get(6,h))&&c.setNumber(6,h,p)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new Dn;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,h,p){for(let y=0;y<8;++y){if(!Ct.isEmpty(p.get(c+y,h)))throw new Dn;p.setNumber(c+y,h,0)}}static embedVerticalSeparationPattern(c,h,p){for(let y=0;y<7;++y){if(!Ct.isEmpty(p.get(c,h+y)))throw new Dn;p.setNumber(c,h+y,0)}}static embedPositionAdjustmentPattern(c,h,p){for(let y=0;y<5;++y){const b=Ct.POSITION_ADJUSTMENT_PATTERN[y];for(let S=0;S<5;++S)p.setNumber(c+S,h+y,b[S])}}static embedPositionDetectionPattern(c,h,p){for(let y=0;y<7;++y){const b=Ct.POSITION_DETECTION_PATTERN[y];for(let S=0;S<7;++S)p.setNumber(c+S,h+y,b[S])}}static embedPositionDetectionPatternsAndSeparators(c){const h=Ct.POSITION_DETECTION_PATTERN[0].length;Ct.embedPositionDetectionPattern(0,0,c),Ct.embedPositionDetectionPattern(c.getWidth()-h,0,c),Ct.embedPositionDetectionPattern(0,c.getWidth()-h,c);const p=8;Ct.embedHorizontalSeparationPattern(0,p-1,c),Ct.embedHorizontalSeparationPattern(c.getWidth()-p,p-1,c),Ct.embedHorizontalSeparationPattern(0,c.getWidth()-p,c);const y=7;Ct.embedVerticalSeparationPattern(y,0,c),Ct.embedVerticalSeparationPattern(c.getHeight()-y-1,0,c),Ct.embedVerticalSeparationPattern(y,c.getHeight()-y,c)}static maybeEmbedPositionAdjustmentPatterns(c,h){if(c.getVersionNumber()<2)return;const p=c.getVersionNumber()-1,y=Ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let b=0,S=y.length;b!==S;b++){const T=y[b];if(T>=0)for(let P=0;P!==S;P++){const z=y[P];z>=0&&Ct.isEmpty(h.get(z,T))&&Ct.embedPositionAdjustmentPattern(z-2,T-2,h)}}}}Ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ct.VERSION_INFO_POLY=7973,Ct.TYPE_INFO_POLY=1335,Ct.TYPE_INFO_MASK_PATTERN=21522;class lb{constructor(c,h){this.dataBytes=c,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Yn{constructor(){}static calculateMaskPenalty(c){return ur.applyMaskPenaltyRule1(c)+ur.applyMaskPenaltyRule2(c)+ur.applyMaskPenaltyRule3(c)+ur.applyMaskPenaltyRule4(c)}static encode(c,h,p=null){let y=Yn.DEFAULT_BYTE_MODE_ENCODING;const b=p!==null&&p.get(Hr.CHARACTER_SET)!==void 0;b&&(y=p.get(Hr.CHARACTER_SET).toString());const S=this.chooseMode(c,y),T=new U;if(S===Nt.BYTE&&(b||Yn.DEFAULT_BYTE_MODE_ENCODING!==y)){const nt=L.getCharacterSetECIByName(y);nt!==void 0&&this.appendECI(nt,T)}this.appendModeInfo(S,T);const P=new U;this.appendBytes(c,S,P,y);let z;if(p!==null&&p.get(Hr.QR_VERSION)!==void 0){const nt=Number.parseInt(p.get(Hr.QR_VERSION).toString(),10);z=jt.getVersionForNumber(nt);const Xe=this.calculateBitsNeeded(S,T,P,z);if(!this.willFit(Xe,z,h))throw new Dn("Data too big for requested version")}else z=this.recommendVersion(h,S,T,P);const W=new U;W.appendBitArray(T);const te=S===Nt.BYTE?P.getSizeInBytes():c.length;this.appendLengthInfo(te,z,S,W),W.appendBitArray(P);const ne=z.getECBlocksForLevel(h),le=z.getTotalCodewords()-ne.getTotalECCodewords();this.terminateBits(le,W);const pe=this.interleaveWithECBytes(W,z.getTotalCodewords(),le,ne.getNumBlocks()),ve=new cl;ve.setECLevel(h),ve.setMode(S),ve.setVersion(z);const Ce=z.getDimensionForVersion(),Le=new Fu(Ce,Ce),Ze=this.chooseMaskPattern(pe,h,z,Le);return ve.setMaskPattern(Ze),Ct.buildMatrix(pe,h,z,Ze,Le),ve.setMatrix(Le),ve}static recommendVersion(c,h,p,y){const b=this.calculateBitsNeeded(h,p,y,jt.getVersionForNumber(1)),S=this.chooseVersion(b,c),T=this.calculateBitsNeeded(h,p,y,S);return this.chooseVersion(T,c)}static calculateBitsNeeded(c,h,p,y){return h.getSize()+c.getCharacterCountBits(y)+p.getSize()}static getAlphanumericCode(c){return c<Yn.ALPHANUMERIC_TABLE.length?Yn.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,h=null){if(L.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(c))return Nt.KANJI;let p=!1,y=!1;for(let b=0,S=c.length;b<S;++b){const T=c.charAt(b);if(Yn.isDigit(T))p=!0;else if(this.getAlphanumericCode(T.charCodeAt(0))!==-1)y=!0;else return Nt.BYTE}return y?Nt.ALPHANUMERIC:p?Nt.NUMERIC:Nt.BYTE}static isOnlyDoubleByteKanji(c){let h;try{h=Y.encode(c,L.SJIS)}catch{return!1}const p=h.length;if(p%2!==0)return!1;for(let y=0;y<p;y+=2){const b=h[y]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(c,h,p,y){let b=Number.MAX_SAFE_INTEGER,S=-1;for(let T=0;T<cl.NUM_MASK_PATTERNS;T++){Ct.buildMatrix(c,h,p,T,y);let P=this.calculateMaskPenalty(y);P<b&&(b=P,S=T)}return S}static chooseVersion(c,h){for(let p=1;p<=40;p++){const y=jt.getVersionForNumber(p);if(Yn.willFit(c,y,h))return y}throw new Dn("Data too big")}static willFit(c,h,p){const y=h.getTotalCodewords(),S=h.getECBlocksForLevel(p).getTotalECCodewords(),T=y-S,P=(c+7)/8;return T>=P}static terminateBits(c,h){const p=c*8;if(h.getSize()>p)throw new Dn("data bits cannot fit in the QR Code"+h.getSize()+" > "+p);for(let S=0;S<4&&h.getSize()<p;++S)h.appendBit(!1);const y=h.getSize()&7;if(y>0)for(let S=y;S<8;S++)h.appendBit(!1);const b=c-h.getSizeInBytes();for(let S=0;S<b;++S)h.appendBits((S&1)===0?236:17,8);if(h.getSize()!==p)throw new Dn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,h,p,y,b,S){if(y>=p)throw new Dn("Block ID too large");const T=c%p,P=p-T,z=Math.floor(c/p),W=z+1,te=Math.floor(h/p),ne=te+1,le=z-te,pe=W-ne;if(le!==pe)throw new Dn("EC bytes mismatch");if(p!==P+T)throw new Dn("RS blocks mismatch");if(c!==(te+le)*P+(ne+pe)*T)throw new Dn("Total bytes mismatch");y<P?(b[0]=te,S[0]=le):(b[0]=ne,S[0]=pe)}static interleaveWithECBytes(c,h,p,y){if(c.getSizeInBytes()!==p)throw new Dn("Number of bits and data bytes does not match");let b=0,S=0,T=0;const P=new Array;for(let W=0;W<y;++W){const te=new Int32Array(1),ne=new Int32Array(1);Yn.getNumDataBytesAndNumECBytesForBlockID(h,p,y,W,te,ne);const le=te[0],pe=new Uint8Array(le);c.toBytes(8*b,pe,0,le);const ve=Yn.generateECBytes(pe,ne[0]);P.push(new lb(pe,ve)),S=Math.max(S,le),T=Math.max(T,ve.length),b+=te[0]}if(p!==b)throw new Dn("Data bytes does not match offset");const z=new U;for(let W=0;W<S;++W)for(const te of P){const ne=te.getDataBytes();W<ne.length&&z.appendBits(ne[W],8)}for(let W=0;W<T;++W)for(const te of P){const ne=te.getErrorCorrectionBytes();W<ne.length&&z.appendBits(ne[W],8)}if(h!==z.getSizeInBytes())throw new Dn("Interleaving error: "+h+" and "+z.getSizeInBytes()+" differ.");return z}static generateECBytes(c,h){const p=c.length,y=new Int32Array(p+h);for(let S=0;S<p;S++)y[S]=c[S]&255;new Am(Ke.QR_CODE_FIELD_256).encode(y,h);const b=new Uint8Array(h);for(let S=0;S<h;S++)b[S]=y[p+S];return b}static appendModeInfo(c,h){h.appendBits(c.getBits(),4)}static appendLengthInfo(c,h,p,y){const b=p.getCharacterCountBits(h);if(c>=1<<b)throw new Dn(c+" is bigger than "+((1<<b)-1));y.appendBits(c,b)}static appendBytes(c,h,p,y){switch(h){case Nt.NUMERIC:Yn.appendNumericBytes(c,p);break;case Nt.ALPHANUMERIC:Yn.appendAlphanumericBytes(c,p);break;case Nt.BYTE:Yn.append8BitBytes(c,p,y);break;case Nt.KANJI:Yn.appendKanjiBytes(c,p);break;default:throw new Dn("Invalid mode: "+h)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const h=Yn.getDigit(c);return h>=0&&h<=9}static appendNumericBytes(c,h){const p=c.length;let y=0;for(;y<p;){const b=Yn.getDigit(c.charAt(y));if(y+2<p){const S=Yn.getDigit(c.charAt(y+1)),T=Yn.getDigit(c.charAt(y+2));h.appendBits(b*100+S*10+T,10),y+=3}else if(y+1<p){const S=Yn.getDigit(c.charAt(y+1));h.appendBits(b*10+S,7),y+=2}else h.appendBits(b,4),y++}}static appendAlphanumericBytes(c,h){const p=c.length;let y=0;for(;y<p;){const b=Yn.getAlphanumericCode(c.charCodeAt(y));if(b===-1)throw new Dn;if(y+1<p){const S=Yn.getAlphanumericCode(c.charCodeAt(y+1));if(S===-1)throw new Dn;h.appendBits(b*45+S,11),y+=2}else h.appendBits(b,6),y++}}static append8BitBytes(c,h,p){let y;try{y=Y.encode(c,p)}catch(b){throw new Dn(b)}for(let b=0,S=y.length;b!==S;b++){const T=y[b];h.appendBits(T,8)}}static appendKanjiBytes(c,h){let p;try{p=Y.encode(c,L.SJIS)}catch(b){throw new Dn(b)}const y=p.length;for(let b=0;b<y;b+=2){const S=p[b]&255,T=p[b+1]&255,P=S<<8&4294967295|T;let z=-1;if(P>=33088&&P<=40956?z=P-33088:P>=57408&&P<=60351&&(z=P-49472),z===-1)throw new Dn("Invalid byte sequence");const W=(z>>8)*192+(z&255);h.appendBits(W,13)}}static appendECI(c,h){h.appendBits(Nt.ECI.getBits(),4),h.appendBits(c.getValue(),8)}}Yn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Yn.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class ul{write(c,h,p,y=null){if(c.length===0)throw new x("Found empty contents");if(h<0||p<0)throw new x("Requested dimensions are too small: "+h+"x"+p);let b=Tn.L,S=ul.QUIET_ZONE_SIZE;y!==null&&(y.get(Hr.ERROR_CORRECTION)!==void 0&&(b=Tn.fromString(y.get(Hr.ERROR_CORRECTION).toString())),y.get(Hr.MARGIN)!==void 0&&(S=Number.parseInt(y.get(Hr.MARGIN).toString(),10)));const T=Yn.encode(c,b,y);return this.renderResult(T,h,p,S)}writeToDom(c,h,p,y,b=null){typeof c=="string"&&(c=document.querySelector(c));const S=this.write(h,p,y,b);c&&c.appendChild(S)}renderResult(c,h,p,y){const b=c.getMatrix();if(b===null)throw new Qe;const S=b.getWidth(),T=b.getHeight(),P=S+y*2,z=T+y*2,W=Math.max(h,P),te=Math.max(p,z),ne=Math.min(Math.floor(W/P),Math.floor(te/z)),le=Math.floor((W-S*ne)/2),pe=Math.floor((te-T*ne)/2),ve=this.createSVGElement(W,te);for(let Ce=0,Le=pe;Ce<T;Ce++,Le+=ne)for(let Ze=0,nt=le;Ze<S;Ze++,nt+=ne)if(b.get(Ze,Ce)===1){const Xe=this.createSvgRectElement(nt,Le,ne,ne);ve.appendChild(Xe)}return ve}createSVGElement(c,h){const p=document.createElementNS(ul.SVG_NS,"svg");return p.setAttributeNS(null,"height",c.toString()),p.setAttributeNS(null,"width",h.toString()),p}createSvgRectElement(c,h,p,y){const b=document.createElementNS(ul.SVG_NS,"rect");return b.setAttributeNS(null,"x",c.toString()),b.setAttributeNS(null,"y",h.toString()),b.setAttributeNS(null,"height",p.toString()),b.setAttributeNS(null,"width",y.toString()),b.setAttributeNS(null,"fill","#000000"),b}}ul.QUIET_ZONE_SIZE=4,ul.SVG_NS="http://www.w3.org/2000/svg";class hc{encode(c,h,p,y,b){if(c.length===0)throw new x("Found empty contents");if(h!==ae.QR_CODE)throw new x("Can only encode QR_CODE, but got "+h);if(p<0||y<0)throw new x(`Requested dimensions are too small: ${p}x${y}`);let S=Tn.L,T=hc.QUIET_ZONE_SIZE;b!==null&&(b.get(Hr.ERROR_CORRECTION)!==void 0&&(S=Tn.fromString(b.get(Hr.ERROR_CORRECTION).toString())),b.get(Hr.MARGIN)!==void 0&&(T=Number.parseInt(b.get(Hr.MARGIN).toString(),10)));const P=Yn.encode(c,S,b);return hc.renderResult(P,p,y,T)}static renderResult(c,h,p,y){const b=c.getMatrix();if(b===null)throw new Qe;const S=b.getWidth(),T=b.getHeight(),P=S+y*2,z=T+y*2,W=Math.max(h,P),te=Math.max(p,z),ne=Math.min(Math.floor(W/P),Math.floor(te/z)),le=Math.floor((W-S*ne)/2),pe=Math.floor((te-T*ne)/2),ve=new Q(W,te);for(let Ce=0,Le=pe;Ce<T;Ce++,Le+=ne)for(let Ze=0,nt=le;Ze<S;Ze++,nt+=ne)b.get(Ze,Ce)===1&&ve.setRegion(nt,Le,ne,ne);return ve}}hc.QUIET_ZONE_SIZE=4;class cb{encode(c,h,p,y,b){let S;switch(h){case ae.QR_CODE:S=new hc;break;default:throw new x("No encoder available for format "+h)}return S.encode(c,h,p,y,b)}}class wi extends Z{constructor(c,h,p,y,b,S,T,P){if(super(S,T),this.yuvData=c,this.dataWidth=h,this.dataHeight=p,this.left=y,this.top=b,y+S>h||b+T>p)throw new x("Crop rectangle does not fit within image data.");P&&this.reverseHorizontal(S,T)}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const y=(c+this.top)*this.dataWidth+this.left;return E.arraycopy(this.yuvData,y,h,0,p),h}getMatrix(){const c=this.getWidth(),h=this.getHeight();if(c===this.dataWidth&&h===this.dataHeight)return this.yuvData;const p=c*h,y=new Uint8ClampedArray(p);let b=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return E.arraycopy(this.yuvData,b,y,0,p),y;for(let S=0;S<h;S++){const T=S*c;E.arraycopy(this.yuvData,b,y,T,c),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(c,h,p,y){return new wi(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+h,p,y,!1)}renderThumbnail(){const c=this.getWidth()/wi.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/wi.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(c*h),y=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let S=0;S<h;S++){const T=S*c;for(let P=0;P<c;P++){const z=y[b+P*wi.THUMBNAIL_SCALE_FACTOR]&255;p[T+P]=4278190080|z*65793}b+=this.dataWidth*wi.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/wi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/wi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,h){const p=this.yuvData;for(let y=0,b=this.top*this.dataWidth+this.left;y<h;y++,b+=this.dataWidth){const S=b+c/2;for(let T=b,P=b+c-1;T<S;T++,P--){const z=p[T];p[T]=p[P],p[P]=z}}}invert(){return new oe(this)}}wi.THUMBNAIL_SCALE_FACTOR=2;class Uu extends Z{constructor(c,h,p,y,b,S,T){if(super(h,p),this.dataWidth=y,this.dataHeight=b,this.left=S,this.top=T,c.BYTES_PER_ELEMENT===4){const P=h*p,z=new Uint8ClampedArray(P);for(let W=0;W<P;W++){const te=c[W],ne=te>>16&255,le=te>>7&510,pe=te&255;z[W]=(ne+le+pe)/4&255}this.luminances=z}else this.luminances=c;if(y===void 0&&(this.dataWidth=h),b===void 0&&(this.dataHeight=p),S===void 0&&(this.left=0),T===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+p>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const y=(c+this.top)*this.dataWidth+this.left;return E.arraycopy(this.luminances,y,h,0,p),h}getMatrix(){const c=this.getWidth(),h=this.getHeight();if(c===this.dataWidth&&h===this.dataHeight)return this.luminances;const p=c*h,y=new Uint8ClampedArray(p);let b=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return E.arraycopy(this.luminances,b,y,0,p),y;for(let S=0;S<h;S++){const T=S*c;E.arraycopy(this.luminances,b,y,T,c),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(c,h,p,y){return new Uu(this.luminances,p,y,this.dataWidth,this.dataHeight,this.left+c,this.top+h)}invert(){return new oe(this)}}class mc extends L{static forName(c){return this.getCharacterSetECIByName(c)}}class Em{}Em.ISO_8859_1=L.ISO8859_1;class Cm{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class Tm{static singletonList(c){return[c]}static min(c,h){return c.sort(h)[0]}}class S0{constructor(c){this.previous=c}getPrevious(){return this.previous}}class dl extends S0{constructor(c,h,p){super(c),this.value=h,this.bitCount=p}appendTo(c,h){c.appendBits(this.value,this.bitCount)}add(c,h){return new dl(this,c,h)}addBinaryShift(c,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new dl(this,c,h)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+R.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class uf extends dl{constructor(c,h,p){super(c,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=p}appendTo(c,h){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):p===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(h[this.binaryShiftStart+p],8)}addBinaryShift(c,h){return new uf(this,c,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function gc(J,c,h){return new uf(J,c,h)}function zu(J,c,h){return new dl(J,c,h)}const ub=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Oo=0,Vu=1,bs=2,pc=3,Za=4,db=new dl(null,0,0),xc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function _0(J){for(let c of J)D.fill(c,-1);return J[Oo][Za]=0,J[Vu][Za]=0,J[Vu][Oo]=28,J[pc][Za]=0,J[bs][Za]=0,J[bs][Oo]=15,J}const Om=_0(D.createInt32Array(6,6));class Ds{constructor(c,h,p,y){this.token=c,this.mode=h,this.binaryShiftByteCount=p,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,h){let p=this.bitCount,y=this.token;if(c!==this.mode){let S=xc[this.mode][c];y=zu(y,S&65535,S>>16),p+=S>>16}let b=c===bs?4:5;return y=zu(y,h,b),new Ds(y,c,0,p+b)}shiftAndAppend(c,h){let p=this.token,y=this.mode===bs?4:5;return p=zu(p,Om[this.mode][c],y),p=zu(p,h,5),new Ds(p,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(c){let h=this.token,p=this.mode,y=this.bitCount;if(this.mode===Za||this.mode===bs){let T=xc[p][Oo];h=zu(h,T&65535,T>>16),y+=T>>16,p=Oo}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,S=new Ds(h,p,this.binaryShiftByteCount+1,y+b);return S.binaryShiftByteCount===2078&&(S=S.endBinaryShift(c+1)),S}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=gc(h,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ds(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let h=this.bitCount+(xc[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?h+=Ds.calculateBinaryShiftCost(c)-Ds.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(h+=10),h<=c.bitCount}toBitArray(c){let h=[];for(let y=this.endBinaryShift(c.length).token;y!==null;y=y.getPrevious())h.unshift(y);let p=new U;for(const y of h)y.appendTo(p,c);return p}toString(){return q.format("%s bits=%d bytes=%d",ub[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}Ds.INITIAL_STATE=new Ds(db,Oo,0,0);function Mm(J){const c=q.getCharCode(" "),h=q.getCharCode("."),p=q.getCharCode(",");J[Oo][c]=1;const y=q.getCharCode("Z"),b=q.getCharCode("A");for(let ne=b;ne<=y;ne++)J[Oo][ne]=ne-b+2;J[Vu][c]=1;const S=q.getCharCode("z"),T=q.getCharCode("a");for(let ne=T;ne<=S;ne++)J[Vu][ne]=ne-T+2;J[bs][c]=1;const P=q.getCharCode("9"),z=q.getCharCode("0");for(let ne=z;ne<=P;ne++)J[bs][ne]=ne-z+2;J[bs][p]=12,J[bs][h]=13;const W=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ne=0;ne<W.length;ne++)J[pc][q.getCharCode(W[ne])]=ne;const te=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ne=0;ne<te.length;ne++)q.getCharCode(te[ne])>0&&(J[Za][q.getCharCode(te[ne])]=ne);return J}const df=Mm(D.createInt32Array(5,256));class vc{constructor(c){this.text=c}encode(){const c=q.getCharCode(" "),h=q.getCharCode(`
`);let p=Tm.singletonList(Ds.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let S,T=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case q.getCharCode("\r"):S=T===h?2:0;break;case q.getCharCode("."):S=T===c?3:0;break;case q.getCharCode(","):S=T===c?4:0;break;case q.getCharCode(":"):S=T===c?5:0;break;default:S=0}S>0?(p=vc.updateStateListForPair(p,b,S),b++):p=this.updateStateListForChar(p,b)}return Tm.min(p,(b,S)=>b.getBitCount()-S.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,h){const p=[];for(let y of c)this.updateStateForChar(y,h,p);return vc.simplifyStates(p)}updateStateForChar(c,h,p){let y=this.text[h]&255,b=df[c.getMode()][y]>0,S=null;for(let T=0;T<=Za;T++){let P=df[T][y];if(P>0){if(S==null&&(S=c.endBinaryShift(h)),!b||T===c.getMode()||T===bs){const z=S.latchAndAppend(T,P);p.push(z)}if(!b&&Om[c.getMode()][T]>=0){const z=S.shiftAndAppend(T,P);p.push(z)}}}if(c.getBinaryShiftByteCount()>0||df[c.getMode()][y]===0){let T=c.addBinaryShiftChar(h);p.push(T)}}static updateStateListForPair(c,h,p){const y=[];for(let b of c)this.updateStateForPair(b,h,p,y);return this.simplifyStates(y)}static updateStateForPair(c,h,p,y){let b=c.endBinaryShift(h);if(y.push(b.latchAndAppend(Za,p)),c.getMode()!==Za&&y.push(b.shiftAndAppend(Za,p)),p===3||p===4){let S=b.latchAndAppend(bs,16-p).latchAndAppend(bs,1);y.push(S)}if(c.getBinaryShiftByteCount()>0){let S=c.addBinaryShiftChar(h).addBinaryShiftChar(h+1);y.push(S)}}static simplifyStates(c){let h=[];for(const p of c){let y=!0;for(const b of h){if(b.isBetterThanOrEqualTo(p)){y=!1;break}p.isBetterThanOrEqualTo(b)&&(h=h.filter(S=>S!==b))}y&&h.push(p)}return h}}class on{constructor(){}static encodeBytes(c){return on.encode(c,on.DEFAULT_EC_PERCENT,on.DEFAULT_AZTEC_LAYERS)}static encode(c,h,p){let y=new vc(c).encode(),b=R.truncDivision(y.getSize()*h,100)+11,S=y.getSize()+b,T,P,z,W,te;if(p!==on.DEFAULT_AZTEC_LAYERS){if(T=p<0,P=Math.abs(p),P>(T?on.MAX_NB_BITS_COMPACT:on.MAX_NB_BITS))throw new x(q.format("Illegal value %s for layers",p));z=on.totalBitsInLayer(P,T),W=on.WORD_SIZE[P];let Xe=z-z%W;if(te=on.stuffBits(y,W),te.getSize()+b>Xe)throw new x("Data to large for user specified layer");if(T&&te.getSize()>W*64)throw new x("Data to large for user specified layer")}else{W=0,te=null;for(let Xe=0;;Xe++){if(Xe>on.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(T=Xe<=3,P=T?Xe+1:Xe,z=on.totalBitsInLayer(P,T),S>z)continue;(te==null||W!==on.WORD_SIZE[P])&&(W=on.WORD_SIZE[P],te=on.stuffBits(y,W));let Vt=z-z%W;if(!(T&&te.getSize()>W*64)&&te.getSize()+b<=Vt)break}}let ne=on.generateCheckWords(te,z,W),le=te.getSize()/W,pe=on.generateModeMessage(T,P,le),ve=(T?11:14)+P*4,Ce=new Int32Array(ve),Le;if(T){Le=ve;for(let Xe=0;Xe<Ce.length;Xe++)Ce[Xe]=Xe}else{Le=ve+1+2*R.truncDivision(R.truncDivision(ve,2)-1,15);let Xe=R.truncDivision(ve,2),Vt=R.truncDivision(Le,2);for(let Ut=0;Ut<Xe;Ut++){let Fa=Ut+R.truncDivision(Ut,15);Ce[Xe-Ut-1]=Vt-Fa-1,Ce[Xe+Ut]=Vt+Fa+1}}let Ze=new Q(Le);for(let Xe=0,Vt=0;Xe<P;Xe++){let Ut=(P-Xe)*4+(T?9:12);for(let Fa=0;Fa<Ut;Fa++){let Ps=Fa*2;for(let Ja=0;Ja<2;Ja++)ne.get(Vt+Ps+Ja)&&Ze.set(Ce[Xe*2+Ja],Ce[Xe*2+Fa]),ne.get(Vt+Ut*2+Ps+Ja)&&Ze.set(Ce[Xe*2+Fa],Ce[ve-1-Xe*2-Ja]),ne.get(Vt+Ut*4+Ps+Ja)&&Ze.set(Ce[ve-1-Xe*2-Ja],Ce[ve-1-Xe*2-Fa]),ne.get(Vt+Ut*6+Ps+Ja)&&Ze.set(Ce[ve-1-Xe*2-Fa],Ce[Xe*2+Ja])}Vt+=Ut*8}if(on.drawModeMessage(Ze,T,Le,pe),T)on.drawBullsEye(Ze,R.truncDivision(Le,2),5);else{on.drawBullsEye(Ze,R.truncDivision(Le,2),7);for(let Xe=0,Vt=0;Xe<R.truncDivision(ve,2)-1;Xe+=15,Vt+=16)for(let Ut=R.truncDivision(Le,2)&1;Ut<Le;Ut+=2)Ze.set(R.truncDivision(Le,2)-Vt,Ut),Ze.set(R.truncDivision(Le,2)+Vt,Ut),Ze.set(Ut,R.truncDivision(Le,2)-Vt),Ze.set(Ut,R.truncDivision(Le,2)+Vt)}let nt=new Cm;return nt.setCompact(T),nt.setSize(Le),nt.setLayers(P),nt.setCodeWords(le),nt.setMatrix(Ze),nt}static drawBullsEye(c,h,p){for(let y=0;y<p;y+=2)for(let b=h-y;b<=h+y;b++)c.set(b,h-y),c.set(b,h+y),c.set(h-y,b),c.set(h+y,b);c.set(h-p,h-p),c.set(h-p+1,h-p),c.set(h-p,h-p+1),c.set(h+p,h-p),c.set(h+p,h-p+1),c.set(h+p,h+p-1)}static generateModeMessage(c,h,p){let y=new U;return c?(y.appendBits(h-1,2),y.appendBits(p-1,6),y=on.generateCheckWords(y,28,4)):(y.appendBits(h-1,5),y.appendBits(p-1,11),y=on.generateCheckWords(y,40,4)),y}static drawModeMessage(c,h,p,y){let b=R.truncDivision(p,2);if(h)for(let S=0;S<7;S++){let T=b-3+S;y.get(S)&&c.set(T,b-5),y.get(S+7)&&c.set(b+5,T),y.get(20-S)&&c.set(T,b+5),y.get(27-S)&&c.set(b-5,T)}else for(let S=0;S<10;S++){let T=b-5+S+R.truncDivision(S,5);y.get(S)&&c.set(T,b-7),y.get(S+10)&&c.set(b+7,T),y.get(29-S)&&c.set(T,b+7),y.get(39-S)&&c.set(b-7,T)}}static generateCheckWords(c,h,p){let y=c.getSize()/p,b=new Am(on.getGF(p)),S=R.truncDivision(h,p),T=on.bitsToWords(c,p,S);b.encode(T,S-y);let P=h%p,z=new U;z.appendBits(0,P);for(const W of Array.from(T))z.appendBits(W,p);return z}static bitsToWords(c,h,p){let y=new Int32Array(p),b,S;for(b=0,S=c.getSize()/h;b<S;b++){let T=0;for(let P=0;P<h;P++)T|=c.get(b*h+P)?1<<h-P-1:0;y[b]=T}return y}static getGF(c){switch(c){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new x("Unsupported word size "+c)}}static stuffBits(c,h){let p=new U,y=c.getSize(),b=(1<<h)-2;for(let S=0;S<y;S+=h){let T=0;for(let P=0;P<h;P++)(S+P>=y||c.get(S+P))&&(T|=1<<h-1-P);(T&b)===b?(p.appendBits(T&b,h),S--):(T&b)===0?(p.appendBits(T|1,h),S--):p.appendBits(T,h)}return p}static totalBitsInLayer(c,h){return((h?88:112)+16*c)*c}}on.DEFAULT_EC_PERCENT=33,on.DEFAULT_AZTEC_LAYERS=0,on.MAX_NB_BITS=32,on.MAX_NB_BITS_COMPACT=4,on.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ff{encode(c,h,p,y){return this.encodeWithHints(c,h,p,y,null)}encodeWithHints(c,h,p,y,b){let S=Em.ISO_8859_1,T=on.DEFAULT_EC_PERCENT,P=on.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has(Hr.CHARACTER_SET)&&(S=mc.forName(b.get(Hr.CHARACTER_SET).toString())),b.has(Hr.ERROR_CORRECTION)&&(T=R.parseInt(b.get(Hr.ERROR_CORRECTION).toString())),b.has(Hr.AZTEC_LAYERS)&&(P=R.parseInt(b.get(Hr.AZTEC_LAYERS).toString()))),ff.encodeLayers(c,h,p,y,S,T,P)}static encodeLayers(c,h,p,y,b,S,T){if(h!==ae.AZTEC)throw new x("Can only encode AZTEC, but got "+h);let P=on.encode(q.getBytes(c,b),S,T);return ff.renderResult(P,p,y)}static renderResult(c,h,p){let y=c.getMatrix();if(y==null)throw new Qe;let b=y.getWidth(),S=y.getHeight(),T=Math.max(h,b),P=Math.max(p,S),z=Math.min(T/b,P/S),W=(T-b*z)/2,te=(P-S*z)/2,ne=new Q(T,P);for(let le=0,pe=te;le<S;le++,pe+=z)for(let ve=0,Ce=W;ve<b;ve++,Ce+=z)y.get(ve,le)&&ne.setRegion(Ce,pe,z,z);return ne}}n.AbstractExpandedDecoder=Pu,n.ArgumentException=g,n.ArithmeticException=we,n.AztecCode=Cm,n.AztecCodeReader=Wi,n.AztecCodeWriter=ff,n.AztecDecoder=wt,n.AztecDetector=qs,n.AztecDetectorResult=ea,n.AztecEncoder=on,n.AztecHighLevelEncoder=vc,n.AztecPoint=sn,n.BarcodeFormat=ae,n.Binarizer=C,n.BinaryBitmap=j,n.BitArray=U,n.BitMatrix=Q,n.BitSource=Xa,n.BrowserAztecCodeReader=yi,n.BrowserBarcodeReader=y0,n.BrowserCodeReader=_e,n.BrowserDatamatrixCodeReader=tb,n.BrowserMultiFormatReader=sb,n.BrowserPDF417Reader=ib,n.BrowserQRCodeReader=ob,n.BrowserQRCodeSvgWriter=ul,n.CharacterSetECI=L,n.ChecksumException=_,n.Code128Reader=rt,n.Code39Reader=wn,n.DataMatrixDecodedBitStreamParser=jo,n.DataMatrixReader=Ws,n.DecodeHintType=I,n.DecoderResult=ge,n.DefaultGridSampler=Qn,n.DetectorResult=bn,n.EAN13Reader=Ka,n.EncodeHintType=Hr,n.Exception=f,n.FormatException=F,n.GenericGF=Ke,n.GenericGFPoly=Ne,n.GlobalHistogramBinarizer=H,n.GridSampler=Ga,n.GridSamplerInstance=Nr,n.HTMLCanvasElementLuminanceSource=re,n.HybridBinarizer=ee,n.ITFReader=dn,n.IllegalArgumentException=x,n.IllegalStateException=Qe,n.InvertedLuminanceSource=oe,n.LuminanceSource=Z,n.MathUtils=it,n.MultiFormatOneDReader=wo,n.MultiFormatReader=N0,n.MultiFormatWriter=cb,n.NotFoundException=G,n.OneDReader=un,n.PDF417DecodedBitStreamParser=Fe,n.PDF417DecoderErrorCorrection=Iu,n.PDF417Reader=ma,n.PDF417ResultMetadata=of,n.PerspectiveTransform=An,n.PlanarYUVLuminanceSource=wi,n.QRCodeByteMatrix=Fu,n.QRCodeDataMask=ha,n.QRCodeDecodedBitStreamParser=nr,n.QRCodeDecoderErrorCorrectionLevel=Tn,n.QRCodeDecoderFormatInformation=fa,n.QRCodeEncoder=Yn,n.QRCodeEncoderQRCode=cl,n.QRCodeMaskUtil=ur,n.QRCodeMatrixUtil=Ct,n.QRCodeMode=Nt,n.QRCodeReader=Qi,n.QRCodeVersion=jt,n.QRCodeWriter=hc,n.RGBLuminanceSource=Uu,n.RSS14Reader=Nn,n.RSSExpandedReader=Ge,n.ReaderException=Lu,n.ReedSolomonDecoder=gt,n.ReedSolomonEncoder=Am,n.ReedSolomonException=$e,n.Result=ye,n.ResultMetadataType=ce,n.ResultPoint=ct,n.StringUtils=q,n.UnsupportedOperationException=$,n.VideoInputDevice=de,n.WhiteRectangleDetector=jr,n.WriterException=Dn,n.ZXingArrays=D,n.ZXingCharset=mc,n.ZXingInteger=R,n.ZXingStandardCharsets=Em,n.ZXingStringBuilder=X,n.ZXingStringEncoding=Y,n.ZXingSystem=E,n.createAbstractExpandedDecoder=Nm,Object.defineProperty(n,"__esModule",{value:!0})})}(Ug,Ug.exports)),Ug.exports}var rr=bfe();const wfe=Cs(rr),jfe=_6({__proto__:null,default:wfe},[rr]);var LP=function(){function e(t,n,r){if(this.formatMap=new Map([[ft.QR_CODE,rr.BarcodeFormat.QR_CODE],[ft.AZTEC,rr.BarcodeFormat.AZTEC],[ft.CODABAR,rr.BarcodeFormat.CODABAR],[ft.CODE_39,rr.BarcodeFormat.CODE_39],[ft.CODE_93,rr.BarcodeFormat.CODE_93],[ft.CODE_128,rr.BarcodeFormat.CODE_128],[ft.DATA_MATRIX,rr.BarcodeFormat.DATA_MATRIX],[ft.MAXICODE,rr.BarcodeFormat.MAXICODE],[ft.ITF,rr.BarcodeFormat.ITF],[ft.EAN_13,rr.BarcodeFormat.EAN_13],[ft.EAN_8,rr.BarcodeFormat.EAN_8],[ft.PDF_417,rr.BarcodeFormat.PDF_417],[ft.RSS_14,rr.BarcodeFormat.RSS_14],[ft.RSS_EXPANDED,rr.BarcodeFormat.RSS_EXPANDED],[ft.UPC_A,rr.BarcodeFormat.UPC_A],[ft.UPC_E,rr.BarcodeFormat.UPC_E],[ft.UPC_EAN_EXTENSION,rr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!jfe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),i=new Map;i.set(rr.DecodeHintType.POSSIBLE_FORMATS,s),i.set(rr.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(i){s(i)}})},e.prototype.decode=function(t){var n=new rr.MultiFormatReader(this.verbose,this.hints),r=new rr.HTMLCanvasElementLuminanceSource(t),s=new rr.BinaryBitmap(new rr.HybridBinarizer(r)),i=n.decode(s);return{text:i.text,format:YF.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var i=s[r];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Nfe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},Sfe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},BP=function(){function e(t,n,r){if(this.formatMap=new Map([[ft.QR_CODE,"qr_code"],[ft.AZTEC,"aztec"],[ft.CODABAR,"codabar"],[ft.CODE_39,"code_39"],[ft.CODE_93,"code_93"],[ft.CODE_128,"code_128"],[ft.DATA_MATRIX,"data_matrix"],[ft.ITF,"itf"],[ft.EAN_13,"ean_13"],[ft.EAN_8,"ean_8"],[ft.PDF_417,"pdf417"],[ft.UPC_A,"upc_a"],[ft.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Nfe(this,void 0,void 0,function(){var n,r;return Sfe(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:YF.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,i=t;s<i.length;s++){var o=i[s],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var i=s[r];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),FP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},UP=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},_fe=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&BP.isSupported()?(this.primaryDecoder=new BP(t,r,s),this.secondaryDecoder=new LP(t,r,s)):this.primaryDecoder=new LP(t,r,s)}return e.prototype.decodeAsync=function(t){return FP(this,void 0,void 0,function(){var n;return UP(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return FP(this,void 0,void 0,function(){var n,r;return UP(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),IE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},Kv=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},XF=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),Afe=function(e){IE(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(XF),Efe=function(e){IE(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(Afe),Cfe=function(e){IE(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(XF),Tfe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Efe(this.track)},e.prototype.torchFeature=function(){return new Cfe(this.track)},e}(),Ofe=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return Gv(this,void 0,void 0,function(){var i,o;return Kv(this,function(u){switch(u.label){case 0:return i=new e(t,n,s),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Gv(this,void 0,void 0,function(){return Kv(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),i=s.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Tfe(this.getFirstTrackOrFail())},e}(),Mfe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Gv(this,void 0,void 0,function(){return Kv(this,function(s){return[2,Ofe.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Gv(this,void 0,void 0,function(){var n,r;return Kv(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),zP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},VP=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Dfe=function(){function e(){}return e.failIfNotSupported=function(){return zP(this,void 0,void 0,function(){return VP(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return zP(this,void 0,void 0,function(){return VP(this,function(n){return[2,Mfe.create(t)]})})},e}(),Pfe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},Rfe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},kfe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=fh.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=fh.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Pfe(this,void 0,void 0,function(){var t,n,r,s,i,o,u;return Rfe(this,function(m){switch(m.label){case 0:return t=function(f){for(var g=f.getVideoTracks(),x=0,j=g;x<j.length;x++){var _=j[x];_.enabled=!1,_.stop(),f.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),s=[],i=0,o=r;i<o.length;i++)u=o[i],u.kind==="videoinput"&&s.push({id:u.deviceId,label:u.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(i){for(var o=[],u=0,m=i;u<m.length;u++){var f=m[u];f.kind==="video"&&o.push({id:f.id,label:f.label})}t(o)},s=MediaStreamTrack;s.getSources(r)})},e}(),Lr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Lr||(Lr={}));var Ife=function(){function e(){this.state=Lr.NOT_STARTED,this.onGoingTransactionNewState=Lr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Lr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Lr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Lr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Lr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Lr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Lr.UNKNOWN:throw"Transition from unknown is not allowed";case Lr.NOT_STARTED:this.failIfNewStateIs(t,[Lr.PAUSED]);break;case Lr.SCANNING:break;case Lr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var i=s[r];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Lfe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Lr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Lr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Lr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Lr.PAUSED},e}(),Bfe=function(){function e(){}return e.create=function(){return new Lfe(new Ife)},e}(),Ffe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ti=function(e){Ffe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(oo),Ufe=function(){function e(t,n){this.logger=n,this.fps=ti.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ti.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?KF.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Fo(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),$P=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new GF(this.verbose),this.qrcode=new _fe(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Bfe.create()}return e.prototype.start=function(t,n,r,s){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;s?o=s:o=this.verbose?this.logger.log:function(){};var u=Ufe.create(n,this.logger);this.clearElement();var m=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=m,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:ti.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var x=this,j=this.stateManagerProxy.startTransition(Lr.SCANNING);return new Promise(function(_,C){var E=f?u.videoConstraints:x.createVideoConstraints(t);if(!E){j.cancel(),C("videoConstraints should be defined");return}var A={};(!f||u.aspectRatio)&&(A.aspectRatio=u.aspectRatio);var M={onRenderSurfaceReady:function(D,R){x.setupUi(D,R,u),x.isScanning=!0,x.foreverScan(u,r,o)}};Dfe.failIfNotSupported().then(function(D){D.create(E).then(function(R){return R.render(i.element,A,M).then(function(U){x.renderedCamera=U,j.execute(),_(null)}).catch(function(U){j.cancel(),C(U)})}).catch(function(R){j.cancel(),C(fh.errorGettingUserMedia(R))})}).catch(function(D){j.cancel(),C(fh.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Lr.PAUSED),this.showPausedState(),(Fo(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Lr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Lr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var i=document.getElementById(ti.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Fo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,i){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,m=o.height,f=document.getElementById(r.elementId),g=f.clientWidth?f.clientWidth:ti.DEFAULT_WIDTH,x=Math.max(f.clientHeight?f.clientHeight:m,ti.FILE_SCAN_MIN_HEIGHT),j=r.computeCanvasDrawConfig(u,m,g,x);if(n){var _=r.createCanvasElement(g,x,"qr-canvas-visible");_.style.display="inline-block",f.appendChild(_);var C=_.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=g,C.canvas.height=x,C.drawImage(o,0,0,u,m,j.x,j.y,j.width,j.height)}var E=ti.FILE_SCAN_HIDDEN_CANVAS_PADDING,A=Math.max(o.width,j.width),M=Math.max(o.height,j.height),D=A+2*E,R=M+2*E,U=r.createCanvasElement(D,R);f.appendChild(U);var k=U.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=D,k.canvas.height=R,k.drawImage(o,0,0,u,m,E,E,A,M);try{r.qrcode.decodeRobustlyAsync(U).then(function(I){s(RP.createFromQrcodeResult(I))}).catch(i)}catch(I){i("QR code parse error, error = ".concat(I))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return kfe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!KF.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ft.QR_CODE,ft.AZTEC,ft.CODABAR,ft.CODE_39,ft.CODE_93,ft.CODE_128,ft.DATA_MATRIX,ft.MAXICODE,ft.ITF,ft.EAN_13,ft.EAN_8,ft.PDF_417,ft.RSS_14,ft.RSS_EXPANDED,ft.UPC_A,ft.UPC_E,ft.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,i=t.formatsToSupport;s<i.length;s++){var o=i[s];xfe(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Fo(t))return!0;if(!Fo(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Fo(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Fo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,i=r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i),u=function(f){if(f<ti.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ti.MIN_QR_BOX_SIZE,"px.")},m=function(f){return f>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};u(o.width),u(o.height),o.width=m(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=Fo(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var i=this.toQrdimensions(t,n,s);i.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&i.height<=n,u={x:0,y:0,width:t,height:n},m=o?this.getShadedRegionBounds(t,n,i):u,f=this.createCanvasElement(m.width,m.height),g={willReadFrequently:!0},x=f.getContext("2d",g);x.canvas.width=m.width,x.canvas.height=m.height,this.element.append(f),o&&this.possiblyInsertShadingElement(this.element,t,n,i),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=x,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=fh.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,RP.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var i=fh.codeParseError(s);return n(i,WF.createFrom(i)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,u=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*o,f=this.qrRegion.height*u,g=this.qrRegion.x*o,x=this.qrRegion.y*u;this.context.drawImage(i,g,x,m,f,0,0,this.qrRegion.width,this.qrRegion.height);var j=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(_){!_&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){j()})):j()}).catch(function(_){s.logger.logError("Error happend while scanning context",_),j()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},i="exact",o=function(C){if(C in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var f=t.facingMode;if(typeof f=="string"){if(o(f))return{facingMode:f}}else if(typeof f=="object")if(i in f){if(o(f["".concat(i)]))return{facingMode:{exact:f["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var g=typeof f;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var x=t.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(i in x)return{deviceId:{exact:x["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var j=typeof x;throw"Invalid type of 'deviceId' = ".concat(j)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var i=(r-t)/2,o=(s-n)/2;return{x:i,y:o,width:t,height:n}}else{var u=t,m=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ti.BORDER_SHADER_MATCH_COLOR:ti.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,i=n,o=document.createElement("canvas");return o.style.width="".concat(s,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=Fo(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(n-s.width)/2,u=(r-s.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(ti.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var m=5,f=40;this.insertShaderBorders(i,f,m,-m,null,0,!0),this.insertShaderBorders(i,f,m,-m,null,0,!1),this.insertShaderBorders(i,f,m,null,-m,0,!0),this.insertShaderBorders(i,f,m,null,-m,0,!1),this.insertShaderBorders(i,m,f+m,-m,null,-m,!0),this.insertShaderBorders(i,m,f+m,null,-m,-m,!0),this.insertShaderBorders(i,m,f+m,-m,null,-m,!1),this.insertShaderBorders(i,m,f+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,n,r,s,i,o,u){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=ti.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),s!==null&&(m.style.top="".concat(s,"px")),i!==null&&(m.style.bottom="".concat(i,"px")),u?m.style.left="".concat(o,"px"):m.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),LE="data:image/svg+xml;base64,",zfe=LE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Vfe=LE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",HP=LE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",$fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",qP=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Hfe=function(){function e(){this.data=qP.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=qP.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),qfe=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=kP.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var i=document.createElement("a");i.innerText=kP.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Yfe=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=HP,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=$fe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=HP,this.infoIcon.style.opacity="0.6")},e}(),Wfe=function(){function e(){var t=this;this.infoDiv=new qfe,this.infoIcon=new Yfe(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),Gfe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},Kfe=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},YP=function(){function e(){}return e.hasPermissions=function(){return Gfe(this,void 0,void 0,function(){var t,n,r,s;return Kfe(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=i.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),$c=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===mu.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===mu.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return oo.DEFAULT_SUPPORTED_SCAN_TYPE;var n=oo.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var i=s[r];if(!oo.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return t},e}(),ci=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Pl=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(ci.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),QF=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?i(g.value):s(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},ZF=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],s=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},WP=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return QF(this,void 0,void 0,function(){var t,n;return ZF(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ln.torchOffButton():Ln.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Ln.torchOnFailedMessage():Ln.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Xfe=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Pl.createElement("button",ci.TORCH_BUTTON_ID),this.torchController=new WP(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Ln.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(i){return QF(r,void 0,void 0,function(){return ZF(this,function(o){switch(o.label){case 0:return[4,s.torchController.flipState()];case 1:return o.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(ci.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(ci.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(ci.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(ci.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new WP(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ln.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var i=new e(n,s);return i.render(t,r),i},e}(),Qfe=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Pl.createElement("button",ci.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Pl.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var m=u.target;if(!(m.files&&m.files.length===0)){var f=m.files,g=f[0],x=g.name;i.setImageNameToButton(x),r(g)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var m=u.dataTransfer;if(m){var f=m.files;if(!f||f.length===0)return;for(var g=!1,x=0;x<f.length;++x){var j=f.item(x);if(j){var _=/image.*/;if(j.type.match(_)){g=!0;var C=j.name;i.setImageNameToButton(C),r(j),o.innerText=Ln.dragAndDropMessage();break}}}g||(o.innerText=Ln.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ln.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,i=t.substring(s-8,s);t="".concat(r,"....").concat(i)}var o=Ln.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=Ln.fileSelectionChooseImage()+" - "+Ln.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),Zfe=function(){function e(t){this.selectElement=Pl.createElement("select",ci.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=Ln.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var i=1,o=0,u=this.cameras;o<u.length;o++){var m=u[o],f=m.id,g=m.label==null?f:m.label;(!g||g==="")&&(g=[Ln.anonymousCameraPrefix(),i++].join(" "));var x=document.createElement("option");x.value=f,x.innerText=g,this.options.push(x),this.selectElement.appendChild(x)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),Jfe=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Pl.createElement("input",ci.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ln.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ln.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),ni;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ni||(ni={}));function ehe(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function the(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var nhe=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new $c(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new GF(this.verbose),this.persistedDataManager=new Hfe,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(i,o){if(t)t(i,o);else{if(r.lastMatchFound===i)return;r.lastMatchFound=i,r.setHeaderMessage(Ln.lastMatch(i),ni.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(i,o){n&&n(i,o)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new $P(this.getScanRegionId(),the(this.config,this.verbose))},e.prototype.pause=function(t){(Fo(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(i){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(i){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",i),s(i)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=oo.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!oo.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=oo.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=oo.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:oo.SCAN_DEFAULT_FPS,rememberLastUsedCamera:oo.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:oo.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),$c.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),i=this.getDashboardId();s.id=i,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new Wfe;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Ln.cameraPermissionRequesting());var i=function(){r||s.createPermissionButton(t,n)};$P.getCameras().then(function(o){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),o&&o.length>0?(t.removeChild(n),s.renderCameraSelection(o)):(s.setHeaderMessage(Ln.noCameraFound(),ni.STATUS_WARNING),i())}).catch(function(o){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:i(),s.setHeaderMessage(o,ni.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Pl.createElement("button",this.getCameraPermissionButtonId());s.innerText=Ln.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if($c.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){YP.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=$c.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=$c.isFileScanType(this.currentScanType),r=this,s=function(i){if(!r.html5Qrcode)throw"html5Qrcode not defined";$c.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ln.loadingImage()),r.html5Qrcode.scanFileV2(i,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,ni.STATUS_WARNING),r.qrCodeErrorCallback(o,WF.createFrom(o))}))};this.fileSelectionUi=Qfe.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var i=Jfe.create(s,!1),o=function(E){var A=E.zoomFeature();if(A.isSupported()){i.setOnCameraZoomValueChangeCallback(function(D){A.apply(D)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=vfe(M,A.min(),A.max()),i.setValues(A.min(),A.max(),M,A.step()),i.show()}},u=Zfe.create(s,t),m=document.createElement("span"),f=Pl.createElement("button",ci.CAMERA_START_BUTTON_ID);f.innerText=Ln.scanButtonStartScanningText(),m.appendChild(f);var g=Pl.createElement("button",ci.CAMERA_STOP_BUTTON_ID);g.innerText=Ln.scanButtonStopScanningText(),g.style.display="none",g.disabled=!0,m.appendChild(g);var x,j=function(E){if(!E.torchFeature().isSupported()){x&&x.hide();return}x?x.updateTorchCapability(E.torchFeature()):x=Xfe.create(m,E.torchFeature(),{display:"none",marginLeft:"5px"},function(A){r.setHeaderMessage(A,ni.STATUS_WARNING)}),x.show()};s.appendChild(m);var _=function(E){E||(f.style.display="none"),f.innerText=Ln.scanButtonStartScanningText(),f.style.opacity="1",f.disabled=!1,E&&(f.style.display="inline-block")};if(f.addEventListener("click",function(E){f.innerText=Ln.scanButtonScanningStarting(),u.disable(),f.disabled=!0,f.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var A=u.getValue();r.persistedDataManager.setLastUsedCameraId(A),r.html5Qrcode.start(A,ehe(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){g.disabled=!1,g.style.display="inline-block",_(!1);var D=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&j(D),n.config.showZoomSliderIfSupported===!0&&o(D)}).catch(function(M){r.showHideScanTypeSwapLink(!0),u.enable(),_(!0),r.setHeaderMessage(M,ni.STATUS_WARNING)})}),u.hasSingleItem()&&f.click(),g.addEventListener("click",function(E){if(!r.html5Qrcode)throw"html5Qrcode not defined";g.disabled=!0,r.html5Qrcode.stop().then(function(A){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),f.disabled=!1,g.style.display="none",f.style.display="inline-block",x&&(x.reset(),x.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(A){g.disabled=!1,r.setHeaderMessage(A,ni.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var C=r.persistedDataManager.getLastUsedCameraId();u.hasValue(C)?(u.setValue(C),f.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ln.textIfCameraScanSelected(),r=Ln.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var o=Pl.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=$c.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,$c.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=r,t.currentScanType=mu.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=n,t.currentScanType=mu.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),i.appendChild(o),s.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){YP.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=ni.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case ni.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ni.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ni.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=zfe,this.cameraScanImage.alt=Ln.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Vfe,this.fileScanImage.alt=Ln.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ci.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ci.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function rhe(){var _e,ye,ke;const[e,t]=w.useState(!1),[n,r]=w.useState(null),[s,i]=w.useState(""),[o,u]=w.useState(null),[m,f]=w.useState(""),[g,x]=w.useState(1),[j,_]=w.useState(!1),[C,E]=w.useState(null),[A,M]=w.useState([]),[D,R]=w.useState(""),[U,k]=w.useState(!1),[I,F]=w.useState(!1),[V,L]=w.useState(!0),$=w.useRef(null),{profile:Y}=Ht(),{t:q,isRTL:X}=Ft();w.useEffect(()=>(Y&&G(),Q(),()=>{ee()}),[Y]);const Q=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){L(!1);return}(await navigator.mediaDevices.enumerateDevices()).filter(ce=>ce.kind==="videoinput").length===0&&L(!1)}catch(ae){console.error("Error checking camera support:",ae),L(!1)}},G=async()=>{try{const{data:ae,error:ue}=await ze.from("wallets").select("*").eq("user_id",Y==null?void 0:Y.id).single();if(ue)throw ue;E(ae)}catch(ae){console.error("Error fetching wallet data:",ae)}},H=async()=>{if(!e){k(!0),R("");try{if(!V)throw new Error("Camera not supported on this device");(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}})).getTracks().forEach(ce=>ce.stop()),t(!0),r(null);const ue={fps:10,qrbox:{width:280,height:280},rememberLastUsedCamera:!0,aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:2,supportedScanTypes:[0],videoConstraints:{facingMode:"environment"}};$.current=new nhe("qr-reader",ue,!1),$.current.render(ce=>{Z(ce)},ce=>{console.debug("QR scan error (normal):",ce)}),Se.success("Camera started successfully! Point at a QR code to scan.")}catch(ae){console.error("Camera initialization error:",ae),t(!1),ae.name==="NotAllowedError"?(R("Camera permission denied. Please allow camera access and try again."),Se.error("Camera permission denied. Please allow camera access to scan QR codes.")):ae.name==="NotFoundError"?(R("No camera found on this device."),Se.error("No camera found on this device. Please use manual entry.")):ae.name==="NotSupportedError"?(R("Camera not supported on this browser."),Se.error("Camera not supported. Please try a different browser or use manual entry.")):(R("Camera initialization failed. Please try again or use manual entry."),Se.error("Failed to start camera. Please try again or use manual entry."))}finally{k(!1)}}},ee=()=>{$.current&&e&&$.current.clear().then(()=>{t(!1)}).catch(ae=>{console.error("Error stopping scanner:",ae),t(!1)})},Z=ae=>{ee(),oe(ae)},oe=async ae=>{var ue;try{let ce;try{ce=JSON.parse(ae)}catch{ce={raw:ae}}let ge;if(ce.type==="driver"||ce.driver_id){ge={type:"driver",data:ce,rawData:ae};const{data:Me}=await ze.from("qr_codes").select(`
            *,
            driver_profile:driver_profiles!qr_codes_driver_id_fkey(
              ticket_fee,
              route_name,
              vehicle_type
            ),
            profile:profiles!qr_codes_driver_id_fkey(full_name)
          `).eq("qr_data",ae).eq("is_active",!0).single();if(Me)ge.data={...ge.data,...Me},u({qrData:ge.data,amount:((ue=Me.driver_profile)==null?void 0:ue.ticket_fee)||500,quantity:1,type:"driver"});else throw new Error("Invalid or inactive driver QR code")}else ce.type==="merchant"||ce.merchant_id?(ge={type:"merchant",data:ce,rawData:ae},u({qrData:ge.data,amount:ce.amount,type:"merchant"})):(ge={type:"unknown",data:ce,rawData:ae},Se.error("Unrecognized QR code format"));r(ge),M(Me=>[ge,...Me.slice(0,4)])}catch(ce){console.error("Error processing QR code:",ce),Se.error("Invalid QR code or service unavailable")}},re=()=>{s.trim()&&(oe(s.trim()),i(""))},de=async()=>{if(!(!o||!Y)){_(!0);try{if(o.type==="driver"){const{data:ae,error:ue}=await ze.rpc("process_transport_payment",{p_passenger_id:Y.id,p_driver_id:o.qrData.driver_id,p_amount:(o.amount||500)*g,p_qr_code_id:o.qrData.id,p_quantity:g});if(ue)throw ue;if(ae&&ae.length>0){const ce=ae[0];ce.error_message?Se.error(ce.error_message):(Se.success(q("scanner.paymentSuccess")),u(null),G())}}else if(o.type==="merchant"){const ae=parseFloat(m)||o.amount||0;if(ae<=0){Se.error("Please enter a valid amount");return}const{data:ue,error:ce}=await ze.rpc("process_merchant_payment",{p_passenger_id:Y.id,p_merchant_id:o.qrData.merchant_id||o.qrData.user_id,p_amount:ae});if(ce)throw ce;if(ue&&ue.length>0){const ge=ue[0];ge.error_message?Se.error(ge.error_message):(Se.success(q("scanner.paymentSuccess")),u(null),G())}}}catch(ae){console.error("Error processing payment:",ae),Se.error(q("scanner.paymentFailed"))}finally{_(!1)}}},xe=ae=>new Intl.NumberFormat(X?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(ae);return a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:q("scanner.title")}),a.jsx("p",{className:"text-muted-foreground",children:"Scan QR codes to make instant payments"})]}),C&&a.jsx(fe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yl,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:xe(C.balance)})]})})]}),(C==null?void 0:C.is_frozen)&&a.jsxs(us,{variant:"destructive",children:[a.jsx(op,{className:"h-4 w-4"}),a.jsx(ds,{children:"Your wallet is frozen. You cannot make payments at this time."})]}),a.jsxs(xi,{defaultValue:"scan",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2",children:[a.jsxs(Et,{value:"scan",className:"flex items-center gap-2",children:[a.jsx(ph,{className:"h-4 w-4"}),"Scan QR Code"]}),a.jsxs(Et,{value:"manual",className:"flex items-center gap-2",children:[a.jsx(ir,{className:"h-4 w-4"}),"Manual Entry"]})]}),a.jsx(Ot,{value:"scan",className:"space-y-6",children:a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"h-5 w-5"}),"QR Code Scanner"]}),a.jsx(st,{children:"Point your camera at a QR code to scan"})]}),a.jsx(he,{children:e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{id:"qr-reader",className:"mx-auto max-w-sm"}),a.jsx(He.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center",children:[a.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(xh,{className:"h-3 w-3"}),"Scanning..."]}),a.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(eu,{className:"h-3 w-3"}),"Secure"]})]})})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs(be,{onClick:ee,variant:"outline",className:"gap-2",children:[a.jsx(MS,{className:"h-4 w-4"}),"Stop Scanning"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold your device steady and ensure the QR code is clearly visible"})]})]}):a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"mx-auto w-64 h-64 border-2 border-dashed border-primary/30 rounded-xl flex items-center justify-center bg-primary/5 relative overflow-hidden",children:[a.jsx("div",{className:"text-center z-10",children:D?a.jsxs(a.Fragment,{children:[a.jsx(MS,{className:"h-16 w-16 mx-auto text-red-500 mb-3"}),a.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Camera Error"}),a.jsx("p",{className:"text-xs text-muted-foreground px-4",children:D})]}):U?a.jsxs(a.Fragment,{children:[a.jsx(Vs,{className:"h-16 w-16 mx-auto text-primary mb-3 animate-spin"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Starting camera..."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Please allow camera access"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ph,{className:"h-16 w-16 mx-auto text-primary mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ready to scan QR codes"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Make sure to allow camera access"})]})}),!D&&!U&&a.jsx(He.div,{className:"absolute inset-0 border-2 border-primary/20",animate:{opacity:[.3,.7,.3],scale:[.9,1,.9]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),a.jsxs("div",{className:"space-y-3",children:[V?a.jsx(be,{onClick:H,disabled:U,className:"gap-2 px-8 py-3 text-base",children:U?a.jsxs(a.Fragment,{children:[a.jsx(Vs,{className:"h-5 w-5 animate-spin"}),"Starting Camera..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ph,{className:"h-5 w-5"}),"Start Camera Scanner"]})}):a.jsx("div",{className:"space-y-2",children:a.jsxs(us,{variant:"destructive",children:[a.jsx(op,{className:"h-4 w-4"}),a.jsx(ds,{children:"Camera not available on this device. Please use manual entry below."})]})}),a.jsxs(be,{variant:"outline",onClick:()=>F(!0),className:"gap-2",children:[a.jsx(WD,{className:"h-4 w-4"}),"How to Scan"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto",children:"Point your camera at a QR code to scan. Works with driver transport QR codes and merchant payment QR codes."})]})})]})})}),a.jsx(Ot,{value:"manual",className:"space-y-6",children:a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Manual QR Code Entry"}),a.jsx(st,{children:"Enter QR code data manually if scanning doesn't work"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"qr-input",children:"QR Code Data"}),a.jsx(ut,{id:"qr-input",placeholder:"Paste or type QR code data here",value:s,onChange:ae=>i(ae.target.value)})]}),a.jsxs(be,{onClick:re,disabled:!s.trim(),className:"w-full gap-2",children:[a.jsx(ir,{className:"h-4 w-4"}),"Process QR Code"]})]})]})})})]}),A.length>0&&a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Dh,{className:"h-5 w-5"}),"Recent Scans"]}),a.jsx(st,{children:"Previously scanned QR codes"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-3",children:A.map((ae,ue)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[ae.type==="driver"?a.jsx(ls,{className:"h-5 w-5 text-blue-500"}):ae.type==="merchant"?a.jsx(cu,{className:"h-5 w-5 text-green-500"}):a.jsx(ir,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:ae.type==="driver"?"Transport Payment":ae.type==="merchant"?"Merchant Payment":"Unknown QR"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-40",children:ae.rawData})]})]}),a.jsx(Je,{variant:ae.type==="unknown"?"destructive":"secondary",children:ae.type})]},ue))})})]})}),a.jsx(pr,{open:!!o,onOpenChange:ae=>!ae&&u(null),children:a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsxs(yr,{className:"flex items-center gap-2",children:[(o==null?void 0:o.type)==="driver"?a.jsx(ls,{className:"h-5 w-5 text-blue-500"}):a.jsx(cu,{className:"h-5 w-5 text-green-500"}),"Confirm Payment"]}),a.jsx(Qr,{children:(o==null?void 0:o.type)==="driver"?"Confirm your transport payment":"Confirm your merchant payment"})]}),o&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(fe,{children:a.jsxs(he,{className:"p-4 space-y-3",children:[o.type==="driver"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Driver:"}),a.jsx("span",{className:"text-sm font-medium",children:((_e=o.qrData.profile)==null?void 0:_e.full_name)||"Unknown Driver"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Route:"}),a.jsx("span",{className:"text-sm font-medium",children:((ye=o.qrData.driver_profile)==null?void 0:ye.route_name)||"City Route"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Vehicle:"}),a.jsx("span",{className:"text-sm font-medium",children:((ke=o.qrData.driver_profile)==null?void 0:ke.vehicle_type)||"Bus"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ticket Price:"}),a.jsx("span",{className:"text-sm font-medium",children:xe(o.amount||500)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[q("scanner.quantity"),":"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(be,{size:"sm",variant:"outline",onClick:()=>x(Math.max(1,g-1)),children:a.jsx(m7,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-8 text-center",children:g}),a.jsx(be,{size:"sm",variant:"outline",onClick:()=>x(g+1),children:a.jsx(_s,{className:"h-3 w-3"})})]})]})]}),o.type==="merchant"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Merchant:"}),a.jsx("span",{className:"text-sm font-medium",children:o.qrData.business_name||"Local Store"})]}),!o.amount&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"payment-amount",children:"Payment Amount"}),a.jsx(ut,{id:"payment-amount",type:"number",placeholder:"Enter amount",value:m,onChange:ae=>f(ae.target.value)})]})]}),a.jsx(hi,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:o.type==="driver"?xe((o.amount||500)*g):xe(parseFloat(m)||o.amount||0)})]})]})}),C&&a.jsxs(us,{children:[a.jsx(Yl,{className:"h-4 w-4"}),a.jsxs(ds,{children:["Current balance: ",xe(C.balance)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:"outline",className:"flex-1",onClick:()=>u(null),disabled:j,children:"Cancel"}),a.jsx(be,{className:"flex-1 gap-2",onClick:de,disabled:j||(C==null?void 0:C.is_frozen),children:j?a.jsxs(a.Fragment,{children:[a.jsx(Vs,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"h-4 w-4"}),"Pay Now"]})})]})]})]})}),a.jsx(pr,{open:I,onOpenChange:F,children:a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsxs(yr,{className:"flex items-center gap-2",children:[a.jsx(WD,{className:"h-5 w-5 text-primary"}),"How to Scan QR Codes"]}),a.jsx(Qr,{children:"Follow these simple steps to scan QR codes successfully"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Allow Camera Access"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When prompted, allow the website to access your camera. This is needed to scan QR codes."})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Position Your Device"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hold your device steady and point the camera at the QR code. Keep it about 6-12 inches away."})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Wait for Recognition"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The scanner will automatically detect and process the QR code. No need to take a photo!"})]})]})})})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Supported QR Codes"}),a.jsx("p",{className:"text-sm text-blue-700",children:"You can scan driver transport QR codes for ticket payments and merchant QR codes for purchases."})]})]})}),a.jsx(be,{onClick:()=>F(!1),className:"w-full",children:"Got it!"})]})]})})]})}var th={},V2,GP;function ahe(){return GP||(GP=1,V2=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),V2}var $2={},Hc={},KP;function Wd(){if(KP)return Hc;KP=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Hc.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Hc.getSymbolTotalCodewords=function(r){return t[r]},Hc.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Hc.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Hc.isKanjiModeEnabled=function(){return typeof e<"u"},Hc.toSJIS=function(r){return e(r)},Hc}var H2={},XP;function BE(){return XP||(XP=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}}(H2)),H2}var q2,QP;function she(){if(QP)return q2;QP=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},q2=e,q2}var Y2,ZP;function ihe(){if(ZP)return Y2;ZP=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,s){const i=t*this.size+n;this.data[i]=r,s&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Y2=e,Y2}var W2={},JP;function ohe(){return JP||(JP=1,function(e){const t=Wd().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,u=[i-7];for(let m=1;m<s-1;m++)u[m]=u[m-1]-o;return u.push(6),u.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),o=i.length;for(let u=0;u<o;u++)for(let m=0;m<o;m++)u===0&&m===0||u===0&&m===o-1||u===o-1&&m===0||s.push([i[u],i[m]]);return s}}(W2)),W2}var G2={},eR;function lhe(){if(eR)return G2;eR=1;const e=Wd().getSymbolSize,t=7;return G2.getPositions=function(r){const s=e(r);return[[0,0],[s-t,0],[0,s-t]]},G2}var K2={},tR;function che(){return tR||(tR=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let o=0,u=0,m=0,f=null,g=null;for(let x=0;x<i;x++){u=m=0,f=g=null;for(let j=0;j<i;j++){let _=s.get(x,j);_===f?u++:(u>=5&&(o+=t.N1+(u-5)),f=_,u=1),_=s.get(j,x),_===g?m++:(m>=5&&(o+=t.N1+(m-5)),g=_,m=1)}u>=5&&(o+=t.N1+(u-5)),m>=5&&(o+=t.N1+(m-5))}return o},e.getPenaltyN2=function(s){const i=s.size;let o=0;for(let u=0;u<i-1;u++)for(let m=0;m<i-1;m++){const f=s.get(u,m)+s.get(u,m+1)+s.get(u+1,m)+s.get(u+1,m+1);(f===4||f===0)&&o++}return o*t.N2},e.getPenaltyN3=function(s){const i=s.size;let o=0,u=0,m=0;for(let f=0;f<i;f++){u=m=0;for(let g=0;g<i;g++)u=u<<1&2047|s.get(f,g),g>=10&&(u===1488||u===93)&&o++,m=m<<1&2047|s.get(g,f),g>=10&&(m===1488||m===93)&&o++}return o*t.N3},e.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let m=0;m<o;m++)i+=s.data[m];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const o=i.size;for(let u=0;u<o;u++)for(let m=0;m<o;m++)i.isReserved(m,u)||i.xor(m,u,n(s,m,u))},e.getBestMask=function(s,i){const o=Object.keys(e.Patterns).length;let u=0,m=1/0;for(let f=0;f<o;f++){i(f),e.applyMask(f,s);const g=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(f,s),g<m&&(m=g,u=f)}return u}}(K2)),K2}var Gx={},nR;function JF(){if(nR)return Gx;nR=1;const e=BE(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Gx.getBlocksCount=function(s,i){switch(i){case e.L:return t[(s-1)*4+0];case e.M:return t[(s-1)*4+1];case e.Q:return t[(s-1)*4+2];case e.H:return t[(s-1)*4+3];default:return}},Gx.getTotalCodewordsCount=function(s,i){switch(i){case e.L:return n[(s-1)*4+0];case e.M:return n[(s-1)*4+1];case e.Q:return n[(s-1)*4+2];case e.H:return n[(s-1)*4+3];default:return}},Gx}var X2={},Sg={},rR;function uhe(){if(rR)return Sg;rR=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let s=0;s<255;s++)e[s]=r,t[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)e[s]=e[s-255]}(),Sg.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},Sg.exp=function(r){return e[r]},Sg.mul=function(r,s){return r===0||s===0?0:e[t[r]+t[s]]},Sg}var aR;function dhe(){return aR||(aR=1,function(e){const t=uhe();e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let u=0;u<s.length;u++)i[o+u]^=t.mul(r[o],s[u]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let m=0;m<s.length;m++)i[m]^=t.mul(s[m],o);let u=0;for(;u<i.length&&i[u]===0;)u++;i=i.slice(u)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}}(X2)),X2}var Q2,sR;function fhe(){if(sR)return Q2;sR=1;const e=dhe();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const i=e.mod(s,this.genPoly),o=this.degree-i.length;if(o>0){const u=new Uint8Array(this.degree);return u.set(i,o),u}return i},Q2=t,Q2}var Z2={},J2={},ej={},iR;function eU(){return iR||(iR=1,ej.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),ej}var Bo={},oR;function tU(){if(oR)return Bo;oR=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Bo.KANJI=new RegExp(n,"g"),Bo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Bo.BYTE=new RegExp(r,"g"),Bo.NUMERIC=new RegExp(e,"g"),Bo.ALPHANUMERIC=new RegExp(t,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+e+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Bo.testKanji=function(m){return s.test(m)},Bo.testNumeric=function(m){return i.test(m)},Bo.testAlphanumeric=function(m){return o.test(m)},Bo}var lR;function Gd(){return lR||(lR=1,function(e){const t=eU(),n=tU();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,o){if(e.isValid(i))return i;try{return r(i)}catch{return o}}}(J2)),J2}var cR;function hhe(){return cR||(cR=1,function(e){const t=Wd(),n=JF(),r=BE(),s=Gd(),i=eU(),o=7973,u=t.getBCHDigit(o);function m(j,_,C){for(let E=1;E<=40;E++)if(_<=e.getCapacity(E,C,j))return E}function f(j,_){return s.getCharCountIndicator(j,_)+4}function g(j,_){let C=0;return j.forEach(function(E){const A=f(E.mode,_);C+=A+E.getBitsLength()}),C}function x(j,_){for(let C=1;C<=40;C++)if(g(j,C)<=e.getCapacity(C,_,s.MIXED))return C}e.from=function(_,C){return i.isValid(_)?parseInt(_,10):C},e.getCapacity=function(_,C,E){if(!i.isValid(_))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=s.BYTE);const A=t.getSymbolTotalCodewords(_),M=n.getTotalCodewordsCount(_,C),D=(A-M)*8;if(E===s.MIXED)return D;const R=D-f(E,_);switch(E){case s.NUMERIC:return Math.floor(R/10*3);case s.ALPHANUMERIC:return Math.floor(R/11*2);case s.KANJI:return Math.floor(R/13);case s.BYTE:default:return Math.floor(R/8)}},e.getBestVersionForData=function(_,C){let E;const A=r.from(C,r.M);if(Array.isArray(_)){if(_.length>1)return x(_,A);if(_.length===0)return 1;E=_[0]}else E=_;return m(E.mode,E.getLength(),A)},e.getEncodedBits=function(_){if(!i.isValid(_)||_<7)throw new Error("Invalid QR Code version");let C=_<<12;for(;t.getBCHDigit(C)-u>=0;)C^=o<<t.getBCHDigit(C)-u;return _<<12|C}}(Z2)),Z2}var tj={},uR;function mhe(){if(uR)return tj;uR=1;const e=Wd(),t=1335,n=21522,r=e.getBCHDigit(t);return tj.getEncodedBits=function(i,o){const u=i.bit<<3|o;let m=u<<10;for(;e.getBCHDigit(m)-r>=0;)m^=t<<e.getBCHDigit(m)-r;return(u<<10|m)^n},tj}var nj={},rj,dR;function ghe(){if(dR)return rj;dR=1;const e=Gd();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let s,i,o;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),o=parseInt(i,10),r.put(o,10);const u=this.data.length-s;u>0&&(i=this.data.substr(s),o=parseInt(i,10),r.put(o,u*3+1))},rj=t,rj}var aj,fR;function phe(){if(fR)return aj;fR=1;const e=Gd(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let o=t.indexOf(this.data[i])*45;o+=t.indexOf(this.data[i+1]),s.put(o,11)}this.data.length%2&&s.put(t.indexOf(this.data[i]),6)},aj=n,aj}var sj,hR;function xhe(){if(hR)return sj;hR=1;const e=Gd();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,s=this.data.length;r<s;r++)n.put(this.data[r],8)},sj=t,sj}var ij,mR;function vhe(){if(mR)return ij;mR=1;const e=Gd(),t=Wd();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let i=t.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},ij=n,ij}var oj={exports:{}},gR;function yhe(){return gR||(gR=1,function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var m,f,g,x,j,_,C,E,A;!u.empty();){m=u.pop(),f=m.value,x=m.cost,j=n[f]||{};for(g in j)j.hasOwnProperty(g)&&(_=j[g],C=x+_,E=o[g],A=typeof o[g]>"u",(A||E>C)&&(o[g]=C,u.push(g,C),i[g]=f))}if(typeof s<"u"&&typeof o[s]>"u"){var M=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(M)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(oj)),oj.exports}var pR;function bhe(){return pR||(pR=1,function(e){const t=Gd(),n=ghe(),r=phe(),s=xhe(),i=vhe(),o=tU(),u=Wd(),m=yhe();function f(M){return unescape(encodeURIComponent(M)).length}function g(M,D,R){const U=[];let k;for(;(k=M.exec(R))!==null;)U.push({data:k[0],index:k.index,mode:D,length:k[0].length});return U}function x(M){const D=g(o.NUMERIC,t.NUMERIC,M),R=g(o.ALPHANUMERIC,t.ALPHANUMERIC,M);let U,k;return u.isKanjiModeEnabled()?(U=g(o.BYTE,t.BYTE,M),k=g(o.KANJI,t.KANJI,M)):(U=g(o.BYTE_KANJI,t.BYTE,M),k=[]),D.concat(R,U,k).sort(function(F,V){return F.index-V.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function j(M,D){switch(D){case t.NUMERIC:return n.getBitsLength(M);case t.ALPHANUMERIC:return r.getBitsLength(M);case t.KANJI:return i.getBitsLength(M);case t.BYTE:return s.getBitsLength(M)}}function _(M){return M.reduce(function(D,R){const U=D.length-1>=0?D[D.length-1]:null;return U&&U.mode===R.mode?(D[D.length-1].data+=R.data,D):(D.push(R),D)},[])}function C(M){const D=[];for(let R=0;R<M.length;R++){const U=M[R];switch(U.mode){case t.NUMERIC:D.push([U,{data:U.data,mode:t.ALPHANUMERIC,length:U.length},{data:U.data,mode:t.BYTE,length:U.length}]);break;case t.ALPHANUMERIC:D.push([U,{data:U.data,mode:t.BYTE,length:U.length}]);break;case t.KANJI:D.push([U,{data:U.data,mode:t.BYTE,length:f(U.data)}]);break;case t.BYTE:D.push([{data:U.data,mode:t.BYTE,length:f(U.data)}])}}return D}function E(M,D){const R={},U={start:{}};let k=["start"];for(let I=0;I<M.length;I++){const F=M[I],V=[];for(let L=0;L<F.length;L++){const $=F[L],Y=""+I+L;V.push(Y),R[Y]={node:$,lastCount:0},U[Y]={};for(let q=0;q<k.length;q++){const X=k[q];R[X]&&R[X].node.mode===$.mode?(U[X][Y]=j(R[X].lastCount+$.length,$.mode)-j(R[X].lastCount,$.mode),R[X].lastCount+=$.length):(R[X]&&(R[X].lastCount=$.length),U[X][Y]=j($.length,$.mode)+4+t.getCharCountIndicator($.mode,D))}}k=V}for(let I=0;I<k.length;I++)U[k[I]].end=0;return{map:U,table:R}}function A(M,D){let R;const U=t.getBestModeForData(M);if(R=t.from(D,U),R!==t.BYTE&&R.bit<U.bit)throw new Error('"'+M+'" cannot be encoded with mode '+t.toString(R)+`.
 Suggested mode is: `+t.toString(U));switch(R===t.KANJI&&!u.isKanjiModeEnabled()&&(R=t.BYTE),R){case t.NUMERIC:return new n(M);case t.ALPHANUMERIC:return new r(M);case t.KANJI:return new i(M);case t.BYTE:return new s(M)}}e.fromArray=function(D){return D.reduce(function(R,U){return typeof U=="string"?R.push(A(U,null)):U.data&&R.push(A(U.data,U.mode)),R},[])},e.fromString=function(D,R){const U=x(D,u.isKanjiModeEnabled()),k=C(U),I=E(k,R),F=m.find_path(I.map,"start","end"),V=[];for(let L=1;L<F.length-1;L++)V.push(I.table[F[L]].node);return e.fromArray(_(V))},e.rawSplit=function(D){return e.fromArray(x(D,u.isKanjiModeEnabled()))}}(nj)),nj}var xR;function whe(){if(xR)return $2;xR=1;const e=Wd(),t=BE(),n=she(),r=ihe(),s=ohe(),i=lhe(),o=che(),u=JF(),m=fhe(),f=hhe(),g=mhe(),x=Gd(),j=bhe();function _(I,F){const V=I.size,L=i.getPositions(F);for(let $=0;$<L.length;$++){const Y=L[$][0],q=L[$][1];for(let X=-1;X<=7;X++)if(!(Y+X<=-1||V<=Y+X))for(let Q=-1;Q<=7;Q++)q+Q<=-1||V<=q+Q||(X>=0&&X<=6&&(Q===0||Q===6)||Q>=0&&Q<=6&&(X===0||X===6)||X>=2&&X<=4&&Q>=2&&Q<=4?I.set(Y+X,q+Q,!0,!0):I.set(Y+X,q+Q,!1,!0))}}function C(I){const F=I.size;for(let V=8;V<F-8;V++){const L=V%2===0;I.set(V,6,L,!0),I.set(6,V,L,!0)}}function E(I,F){const V=s.getPositions(F);for(let L=0;L<V.length;L++){const $=V[L][0],Y=V[L][1];for(let q=-2;q<=2;q++)for(let X=-2;X<=2;X++)q===-2||q===2||X===-2||X===2||q===0&&X===0?I.set($+q,Y+X,!0,!0):I.set($+q,Y+X,!1,!0)}}function A(I,F){const V=I.size,L=f.getEncodedBits(F);let $,Y,q;for(let X=0;X<18;X++)$=Math.floor(X/3),Y=X%3+V-8-3,q=(L>>X&1)===1,I.set($,Y,q,!0),I.set(Y,$,q,!0)}function M(I,F,V){const L=I.size,$=g.getEncodedBits(F,V);let Y,q;for(Y=0;Y<15;Y++)q=($>>Y&1)===1,Y<6?I.set(Y,8,q,!0):Y<8?I.set(Y+1,8,q,!0):I.set(L-15+Y,8,q,!0),Y<8?I.set(8,L-Y-1,q,!0):Y<9?I.set(8,15-Y-1+1,q,!0):I.set(8,15-Y-1,q,!0);I.set(L-8,8,1,!0)}function D(I,F){const V=I.size;let L=-1,$=V-1,Y=7,q=0;for(let X=V-1;X>0;X-=2)for(X===6&&X--;;){for(let Q=0;Q<2;Q++)if(!I.isReserved($,X-Q)){let G=!1;q<F.length&&(G=(F[q]>>>Y&1)===1),I.set($,X-Q,G),Y--,Y===-1&&(q++,Y=7)}if($+=L,$<0||V<=$){$-=L,L=-L;break}}}function R(I,F,V){const L=new n;V.forEach(function(Q){L.put(Q.mode.bit,4),L.put(Q.getLength(),x.getCharCountIndicator(Q.mode,I)),Q.write(L)});const $=e.getSymbolTotalCodewords(I),Y=u.getTotalCodewordsCount(I,F),q=($-Y)*8;for(L.getLengthInBits()+4<=q&&L.put(0,4);L.getLengthInBits()%8!==0;)L.putBit(0);const X=(q-L.getLengthInBits())/8;for(let Q=0;Q<X;Q++)L.put(Q%2?17:236,8);return U(L,I,F)}function U(I,F,V){const L=e.getSymbolTotalCodewords(F),$=u.getTotalCodewordsCount(F,V),Y=L-$,q=u.getBlocksCount(F,V),X=L%q,Q=q-X,G=Math.floor(L/q),H=Math.floor(Y/q),ee=H+1,Z=G-H,oe=new m(Z);let re=0;const de=new Array(q),xe=new Array(q);let _e=0;const ye=new Uint8Array(I.buffer);for(let ge=0;ge<q;ge++){const Me=ge<Q?H:ee;de[ge]=ye.slice(re,re+Me),xe[ge]=oe.encode(de[ge]),re+=Me,_e=Math.max(_e,Me)}const ke=new Uint8Array(L);let ae=0,ue,ce;for(ue=0;ue<_e;ue++)for(ce=0;ce<q;ce++)ue<de[ce].length&&(ke[ae++]=de[ce][ue]);for(ue=0;ue<Z;ue++)for(ce=0;ce<q;ce++)ke[ae++]=xe[ce][ue];return ke}function k(I,F,V,L){let $;if(Array.isArray(I))$=j.fromArray(I);else if(typeof I=="string"){let G=F;if(!G){const H=j.rawSplit(I);G=f.getBestVersionForData(H,V)}$=j.fromString(I,G||40)}else throw new Error("Invalid data");const Y=f.getBestVersionForData($,V);if(!Y)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=Y;else if(F<Y)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Y+`.
`);const q=R(F,V,$),X=e.getSymbolSize(F),Q=new r(X);return _(Q,F),C(Q),E(Q,F),M(Q,V,0),F>=7&&A(Q,F),D(Q,q),isNaN(L)&&(L=o.getBestMask(Q,M.bind(null,Q,V))),o.applyMask(L,Q),M(Q,V,L),{modules:Q,version:F,errorCorrectionLevel:V,maskPattern:L,segments:$}}return $2.create=function(F,V){if(typeof F>"u"||F==="")throw new Error("No input text");let L=t.M,$,Y;return typeof V<"u"&&(L=t.from(V.errorCorrectionLevel,t.M),$=f.from(V.version),Y=o.from(V.maskPattern),V.toSJISFunc&&e.setToSJISFunction(V.toSJISFunc)),k(F,$,L,Y)},$2}var lj={},cj={},vR;function nU(){return vR||(vR=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const o=s.modules.size,u=s.modules.data,m=e.getScale(o,i),f=Math.floor((o+i.margin*2)*m),g=i.margin*m,x=[i.color.light,i.color.dark];for(let j=0;j<f;j++)for(let _=0;_<f;_++){let C=(j*f+_)*4,E=i.color.light;if(j>=g&&_>=g&&j<f-g&&_<f-g){const A=Math.floor((j-g)/m),M=Math.floor((_-g)/m);E=x[u[A*o+M]?1:0]}r[C++]=E.r,r[C++]=E.g,r[C++]=E.b,r[C]=E.a}}}(cj)),cj}var yR;function jhe(){return yR||(yR=1,function(e){const t=nU();function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,u){let m=u,f=o;typeof m>"u"&&(!o||!o.getContext)&&(m=o,o=void 0),o||(f=r()),m=t.getOptions(m);const g=t.getImageWidth(i.modules.size,m),x=f.getContext("2d"),j=x.createImageData(g,g);return t.qrToImageData(j.data,i,m),n(x,f,g),x.putImageData(j,0,0),f},e.renderToDataURL=function(i,o,u){let m=u;typeof m>"u"&&(!o||!o.getContext)&&(m=o,o=void 0),m||(m={});const f=e.render(i,o,m),g=m.type||"image/png",x=m.rendererOpts||{};return f.toDataURL(g,x.quality)}}(lj)),lj}var uj={},bR;function Nhe(){if(bR)return uj;bR=1;const e=nU();function t(s,i){const o=s.a/255,u=i+'="'+s.hex+'"';return o<1?u+" "+i+'-opacity="'+o.toFixed(2).slice(1)+'"':u}function n(s,i,o){let u=s+i;return typeof o<"u"&&(u+=" "+o),u}function r(s,i,o){let u="",m=0,f=!1,g=0;for(let x=0;x<s.length;x++){const j=Math.floor(x%i),_=Math.floor(x/i);!j&&!f&&(f=!0),s[x]?(g++,x>0&&j>0&&s[x-1]||(u+=f?n("M",j+o,.5+_+o):n("m",m,0),m=0,f=!1),j+1<i&&s[x+1]||(u+=n("h",g),g=0)):m++}return u}return uj.render=function(i,o,u){const m=e.getOptions(o),f=i.modules.size,g=i.modules.data,x=f+m.margin*2,j=m.color.light.a?"<path "+t(m.color.light,"fill")+' d="M0 0h'+x+"v"+x+'H0z"/>':"",_="<path "+t(m.color.dark,"stroke")+' d="'+r(g,f,m.margin)+'"/>',C='viewBox="0 0 '+x+" "+x+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(m.width?'width="'+m.width+'" height="'+m.width+'" ':"")+C+' shape-rendering="crispEdges">'+j+_+`</svg>
`;return typeof u=="function"&&u(null,A),A},uj}var wR;function She(){if(wR)return th;wR=1;const e=ahe(),t=whe(),n=jhe(),r=Nhe();function s(i,o,u,m,f){const g=[].slice.call(arguments,1),x=g.length,j=typeof g[x-1]=="function";if(!j&&!e())throw new Error("Callback required as last argument");if(j){if(x<2)throw new Error("Too few arguments provided");x===2?(f=u,u=o,o=m=void 0):x===3&&(o.getContext&&typeof f>"u"?(f=m,m=void 0):(f=m,m=u,u=o,o=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(u=o,o=m=void 0):x===2&&!o.getContext&&(m=u,u=o,o=void 0),new Promise(function(_,C){try{const E=t.create(u,m);_(i(E,o,m))}catch(E){C(E)}})}try{const _=t.create(u,m);f(null,i(_,o,m))}catch(_){f(_)}}return th.create=t.create,th.toCanvas=s.bind(null,n.render),th.toDataURL=s.bind(null,n.renderToDataURL),th.toString=s.bind(null,function(i,o,u){return r.render(i,u)}),th}var _he=She();const FE=Cs(_he);function Ahe({transaction:e,open:t,onOpenChange:n,userProfile:r}){const s=w.useRef(null),{t:i,isRTL:o}=Ft(),[u,m]=w.useState(null),[f,g]=w.useState(""),[x,j]=w.useState("");if(w.useEffect(()=>{e&&(async()=>{try{const q=JSON.stringify({id:e.id,amount:e.amount,type:e.transaction_type,timestamp:e.created_at}),X=await FE.toDataURL(q,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});m(X)}catch(q){console.error("Error generating QR code:",q)}})()},[e]),w.useEffect(()=>{t&&e&&(async()=>{if(e)try{if(e.from_user_id){const{data:q}=await ze.from("profiles").select("full_name").eq("id",e.from_user_id).single();g((q==null?void 0:q.full_name)||"Unknown User")}if(e.to_user_id){const{data:q}=await ze.from("profiles").select("full_name").eq("id",e.to_user_id).single();j((q==null?void 0:q.full_name)||"Unknown User")}}catch(q){console.error("Error fetching user names:",q)}})()},[e,t]),!e)return null;const _=Y=>new Intl.NumberFormat(o?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Y),C=Y=>new Date(Y).toLocaleDateString(o?"ar-SY":"en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),E=()=>{const Y=e.from_user_id===(r==null?void 0:r.id);switch(e.transaction_type){case"recharge":return a.jsx(ba,{className:"h-8 w-8 text-green-600"});case"payment":return e.qr_code_id?a.jsx(ls,{className:"h-8 w-8 text-blue-600"}):Y?a.jsx(cu,{className:"h-8 w-8 text-purple-600"}):a.jsx(ba,{className:"h-8 w-8 text-green-600"});case"refund":return a.jsx(xv,{className:"h-8 w-8 text-blue-600"});case"withdrawal":return a.jsx(ba,{className:"h-8 w-8 text-red-600"});default:return a.jsx(xv,{className:"h-8 w-8 text-gray-600"})}},A=()=>{switch(e.status){case"completed":return a.jsx(Tr,{className:"h-5 w-5 text-green-600"});case"pending":return a.jsx(Hn,{className:"h-5 w-5 text-yellow-600"});case"failed":return a.jsx(Hd,{className:"h-5 w-5 text-red-600"});case"cancelled":return a.jsx(Or,{className:"h-5 w-5 text-gray-600"});default:return a.jsx(Hn,{className:"h-5 w-5 text-gray-600"})}},M=()=>{switch(e.status){case"completed":return a.jsxs(Je,{className:"bg-green-500 text-white",children:[" ",i("transactions.completed")]});case"pending":return a.jsxs(Je,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[" ",i("transactions.pending")]});case"failed":return a.jsxs(Je,{variant:"destructive",children:[" ",i("transactions.failed")]});case"cancelled":return a.jsxs(Je,{variant:"outline",className:"border-gray-400 text-gray-600",children:[" ",i("transactions.cancelled")]});default:return a.jsx(Je,{variant:"outline",children:e.status})}},D=()=>{const Y=e.from_user_id===(r==null?void 0:r.id);if(e.description)return e.description;switch(e.transaction_type){case"recharge":return i("receipt.walletTopUp");case"payment":return e.qr_code_id?i(Y?"receipt.busTicketPayment":"receipt.busFareCollection"):i(Y?"receipt.paymentSent":"receipt.paymentReceived");case"refund":return i("receipt.transactionRefund");case"withdrawal":return i("receipt.walletWithdrawal");default:return i("receipt.transaction")}},R=()=>e.from_user_id===(r==null?void 0:r.id)?"outgoing":"incoming",U=()=>{switch(e.status){case"completed":return"text-green-600";case"pending":return"text-yellow-600";case"failed":return"text-red-600";case"cancelled":return"text-gray-600";default:return"text-gray-600"}},k=()=>{switch(e.transaction_type){case"recharge":return"text-green-600";case"payment":return e.qr_code_id?"text-blue-600":"text-purple-600";case"refund":return"text-blue-600";case"withdrawal":return"text-red-600";default:return"text-gray-600"}},I=()=>e.status==="completed"?"bg-green-50 text-green-800":e.status==="pending"?"bg-yellow-50 text-yellow-800":e.status==="failed"?"bg-red-50 text-red-800":"bg-gray-50 text-gray-800",F=()=>e.status==="completed"?"text-green-700":e.status==="pending"?"text-yellow-700":e.status==="failed"?"text-red-700":"text-gray-700",V=()=>{navigator.clipboard.writeText(e.id),Se.success(i("receipt.transactionIdCopied"))},L=async()=>{try{const Y=(await Td(async()=>{const{default:X}=await import("./html2canvas.esm-CBrSDip1.js");return{default:X}},[])).default,q=(await Td(async()=>{const{default:X}=await import("./jspdf.es.min-B4xBa5rE.js").then(Q=>Q.j);return{default:X}},[])).default;if(s.current){const X=await Y(s.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0}),Q=X.toDataURL("image/png"),G=new q("portrait","mm","a4"),H=190,ee=297,Z=X.height*H/X.width;let oe=Z,re=10;for(G.addImage(Q,"PNG",10,re,H,Z),oe-=ee;oe>=0;)re=oe-Z+10,G.addPage(),G.addImage(Q,"PNG",10,re,H,Z),oe-=ee;G.save(`receipt-${e.id.slice(0,8)}.pdf`),Se.success("Receipt downloaded successfully!")}}catch(Y){console.error("Error generating PDF:",Y),Se.error("Failed to generate PDF. Please try again.")}},$=async()=>{if(navigator.share)try{await navigator.share({title:"Transaction Receipt",text:`Receipt for ${D()} - ${_(e.amount)}`,url:window.location.href})}catch(Y){console.error("Error sharing:",Y)}else navigator.clipboard.writeText(window.location.href),Se.success("Receipt link copied to clipboard")};return a.jsx(pr,{open:t,onOpenChange:n,children:a.jsxs(xr,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(vr,{children:[a.jsxs(yr,{className:"flex items-center gap-2",children:[a.jsx(xv,{className:"h-5 w-5 text-primary"}),i("receipt.title")]}),a.jsx(Qr,{children:i("receipt.description")})]}),a.jsxs("div",{ref:s,className:"bg-white p-8 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:E()}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:D()}),a.jsxs("p",{className:"text-gray-700",children:[i("app.name")," ",i("app.subtitle")]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[A(),a.jsx("span",{className:`font-medium text-lg ${U()}`,children:e.status==="completed"?i("receipt.transactionSuccessful"):e.status==="pending"?i("receipt.transactionPending"):e.status==="failed"?i("receipt.transactionFailed"):i("receipt.transactionCancelled")})]}),M()]}),a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-700 mb-1",children:i("common.amount")}),a.jsxs("p",{className:`text-4xl font-bold ${R()==="incoming"?"text-green-600":"text-blue-600"}`,children:[R()==="incoming"?"+":"",_(e.amount)]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.currency})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:i("receipt.transactionDetails")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.transactionId")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:`font-mono text-sm px-2 py-1 rounded ${I()}`,children:[e.id.slice(0,8),"...",e.id.slice(-4)]}),a.jsx(be,{variant:"ghost",size:"sm",onClick:V,className:"h-8 w-8 p-0",children:a.jsx(Vy,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.dateTime")}),a.jsx("p",{className:`font-medium ${F()}`,children:C(e.created_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.type")}),a.jsx("p",{className:`font-medium capitalize ${k()}`,children:e.transaction_type})]})]}),a.jsxs("div",{className:"space-y-3",children:[e.reference_id&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.reference")}),a.jsx("p",{className:"font-mono text-sm",children:e.reference_id})]}),e.completed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:i("receipt.completed")}),a.jsx("p",{className:"font-medium",children:C(e.completed_at)})]}),(e.from_user_id||e.to_user_id)&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700",children:R()==="outgoing"?i("receipt.recipient"):i("receipt.sender")}),a.jsx("p",{className:`font-medium ${R()==="outgoing"?"text-blue-700":"text-green-700"}`,children:R()==="outgoing"?x||e.to_user_name||"Processing...":f||e.from_user_name||"Processing..."})]})]})]})]}),a.jsxs("div",{className:"text-center py-4 border-t",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-gray-700 mb-3",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:i("receipt.scanToVerify")})]}),a.jsx("div",{className:"mt-2 w-24 h-24 bg-white border-2 border-gray-200 rounded-lg mx-auto flex items-center justify-center p-1",children:u?a.jsx("img",{src:u,alt:"Transaction verification QR code",className:"w-full h-full object-contain"}):a.jsx(ir,{className:"h-8 w-8 text-gray-400 animate-pulse"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:i("receipt.qrCodeNote")})]}),a.jsxs("div",{className:"text-center text-xs text-gray-600 border-t pt-4",children:[a.jsx("p",{children:i("receipt.officialReceipt")}),a.jsxs("p",{children:[i("receipt.supportContact"),": support@tickets-ewallet.com"]}),a.jsxs("p",{className:"mt-2",children:[i("receipt.generatedOn"),": ",new Date().toLocaleDateString(o?"ar-SY":"en-US")," ",i("receipt.at")," ",new Date().toLocaleTimeString(o?"ar-SY":"en-US")]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsxs(be,{onClick:L,className:"flex-1 gap-2",children:[a.jsx(fs,{className:"h-4 w-4"}),i("receipt.downloadPdf")]}),a.jsxs(be,{variant:"outline",onClick:$,className:"gap-2",children:[a.jsx(IS,{className:"h-4 w-4"}),i("receipt.share")]}),a.jsxs(be,{variant:"outline",onClick:()=>window.print(),className:"gap-2",children:[a.jsx(kS,{className:"h-4 w-4"}),i("receipt.print")]})]})]})})}function Ehe(){const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState(null),[o,u]=w.useState(""),[m,f]=w.useState("all"),[g,x]=w.useState("all"),[j,_]=w.useState("date"),[C,E]=w.useState("desc"),[A,M]=w.useState(),[D,R]=w.useState(null),[U,k]=w.useState(!0),[I,F]=w.useState(1),[V,L]=w.useState(!0),[$,Y]=w.useState(null),[q,X]=w.useState(!1),[Q,G]=w.useState(!1),{profile:H}=Ht(),{t:ee,isRTL:Z}=Ft(),oe=20;w.useEffect(()=>{H&&(re(),de())},[H]),w.useEffect(()=>{xe()},[e,o,m,g,A,j,C]);const re=async(Ne=1,we=!1)=>{try{k(Ne===1);let Ke=ze.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${H==null?void 0:H.id},to_user_id.eq.${H==null?void 0:H.id}`).order("created_at",{ascending:!1}).range((Ne-1)*oe,Ne*oe-1);const{data:$e,error:Qe}=await Ke;if(Qe)throw Qe;if($e){const gt=$e.map(et=>{var wt,it;return{...et,from_user_name:(wt=et.from_profile)==null?void 0:wt.full_name,to_user_name:(it=et.to_profile)==null?void 0:it.full_name}});t(we?et=>[...et,...gt]:gt),L($e.length===oe),F(Ne)}}catch(Ke){console.error("Error fetching transactions:",Ke)}finally{k(!1)}},de=async()=>{try{const{data:Ne}=await ze.from("transactions").select("*").or(`from_user_id.eq.${H==null?void 0:H.id},to_user_id.eq.${H==null?void 0:H.id}`);if(Ne){const we=Ne.filter(et=>et.to_user_id===(H==null?void 0:H.id)&&et.status==="completed").reduce((et,wt)=>et+wt.amount,0),Ke=Ne.filter(et=>et.from_user_id===(H==null?void 0:H.id)&&et.status==="completed").reduce((et,wt)=>et+wt.amount,0),$e=Ne.filter(et=>et.status==="pending").length,Qe=new Date;Qe.setDate(1);const gt=Ne.filter(et=>new Date(et.created_at)>=Qe&&et.status==="completed").reduce((et,wt)=>et+(wt.to_user_id===(H==null?void 0:H.id)?wt.amount:-wt.amount),0);R({totalIncoming:we,totalOutgoing:Ke,totalTransactions:Ne.length,pendingCount:$e,thisMonthTotal:gt})}}catch(Ne){console.error("Error calculating stats:",Ne)}},xe=()=>{let Ne=[...e];if(o){const we=o.toLowerCase();Ne=Ne.filter(Ke=>{var $e,Qe,gt;return(($e=Ke.description)==null?void 0:$e.toLowerCase().includes(we))||((Qe=Ke.from_user_name)==null?void 0:Qe.toLowerCase().includes(we))||((gt=Ke.to_user_name)==null?void 0:gt.toLowerCase().includes(we))||Ke.id.toLowerCase().includes(we)})}m!=="all"&&(Ne=Ne.filter(we=>we.transaction_type===m)),g!=="all"&&(Ne=Ne.filter(we=>we.status===g)),A!=null&&A.from&&(A!=null&&A.to)&&(Ne=Ne.filter(we=>{const Ke=new Date(we.created_at);return Ke>=A.from&&Ke<=A.to})),Ne.sort((we,Ke)=>{if(j==="date"){const $e=new Date(we.created_at).getTime(),Qe=new Date(Ke.created_at).getTime();return C==="desc"?Qe-$e:$e-Qe}else return C==="desc"?Ke.amount-we.amount:we.amount-Ke.amount}),r(Ne)},_e=()=>{V&&!U&&re(I+1,!0)},ye=Ne=>new Intl.NumberFormat(Z?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Ne),ke=Ne=>new Date(Ne).toLocaleDateString(Z?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ae=Ne=>{const we=Ne.from_user_id===(H==null?void 0:H.id);switch(Ne.transaction_type){case"recharge":return a.jsx(_s,{className:"h-4 w-4 text-green-600"});case"payment":return Ne.qr_code_id?a.jsx(ls,{className:"h-4 w-4 text-blue-600"}):we?a.jsx(ql,{className:"h-4 w-4 text-red-600"}):a.jsx(qn,{className:"h-4 w-4 text-green-600"});case"refund":return a.jsx(Od,{className:"h-4 w-4 text-blue-600"});case"withdrawal":return a.jsx(m7,{className:"h-4 w-4 text-red-600"});default:return a.jsx(ba,{className:"h-4 w-4 text-gray-600"})}},ue=Ne=>{switch(Ne){case"completed":return a.jsx(Je,{className:"bg-green-500 text-white",children:"Completed"});case"pending":return a.jsx(Je,{variant:"secondary",children:"Pending"});case"failed":return a.jsx(Je,{variant:"destructive",children:"Failed"});case"cancelled":return a.jsx(Je,{variant:"outline",children:"Cancelled"});default:return a.jsx(Je,{variant:"outline",children:Ne})}},ce=Ne=>Ne.from_user_id===(H==null?void 0:H.id)?"outgoing":"incoming",ge=Ne=>{const we=Ne.from_user_id===(H==null?void 0:H.id);if(Ne.description)return Ne.description;switch(Ne.transaction_type){case"recharge":return"Wallet Recharge";case"payment":return Ne.qr_code_id?we?"Transport Payment":"Transport Fare Received":we?"Payment Sent":"Payment Received";case"refund":return"Refund";case"withdrawal":return"Withdrawal";default:return"Transaction"}},Me=()=>{const Ne=["Date","Type","Description","Amount","Status","Reference"],we=n.map(et=>[ke(et.created_at),et.transaction_type,ge(et),`${ce(et)==="incoming"?"+":"-"}${et.amount}`,et.status,et.id]),Ke=[Ne,...we].map(et=>et.join(",")).join(`
`),$e=new Blob([Ke],{type:"text/csv"}),Qe=window.URL.createObjectURL($e),gt=document.createElement("a");gt.href=Qe,gt.download=`transactions-${new Date().toISOString().split("T")[0]}.csv`,gt.click(),window.URL.revokeObjectURL(Qe)};return U&&I===1?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:ee("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:ee("transactions.title")}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage your transaction history"})]}),a.jsxs(be,{onClick:Me,variant:"outline",className:"gap-2",children:[a.jsx(fs,{className:"h-4 w-4"}),"Export"]})]}),D&&a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(fe,{children:a.jsxs(he,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qn,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Incoming"})]}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:ye(D.totalIncoming)})]})}),a.jsx(fe,{children:a.jsxs(he,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ql,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Outgoing"})]}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:ye(D.totalOutgoing)})]})}),a.jsx(fe,{children:a.jsxs(he,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dh,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]}),a.jsx("p",{className:"text-xl font-bold",children:D.totalTransactions})]})}),a.jsx(fe,{children:a.jsxs(he,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"This Month"})]}),a.jsx("p",{className:`text-xl font-bold ${D.thisMonthTotal>=0?"text-green-600":"text-red-600"}`,children:ye(Math.abs(D.thisMonthTotal))})]})})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"search",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{id:"search",placeholder:"Search transactions...",value:o,onChange:Ne=>u(Ne.target.value),className:"pl-8"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Type"}),a.jsxs(kt,{value:m,onValueChange:f,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:"All Types"}),a.jsx(Ee,{value:"payment",children:"Payments"}),a.jsx(Ee,{value:"recharge",children:"Recharges"}),a.jsx(Ee,{value:"refund",children:"Refunds"}),a.jsx(Ee,{value:"withdrawal",children:"Withdrawals"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Status"}),a.jsxs(kt,{value:g,onValueChange:x,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:"All Status"}),a.jsx(Ee,{value:"completed",children:"Completed"}),a.jsx(Ee,{value:"pending",children:"Pending"}),a.jsx(Ee,{value:"failed",children:"Failed"}),a.jsx(Ee,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Sort By"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(kt,{value:j,onValueChange:Ne=>_(Ne),children:[a.jsx(It,{className:"flex-1",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"date",children:"Date"}),a.jsx(Ee,{value:"amount",children:"Amount"})]})]}),a.jsx(be,{variant:"outline",size:"icon",onClick:()=>E(C==="asc"?"desc":"asc"),children:a.jsx(cne,{className:"h-4 w-4"})})]})]})]})})})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Dh,{className:"h-5 w-5"}),"Transactions (",n.length,")"]})}),a.jsx(he,{children:n.length>0?a.jsxs("div",{className:"space-y-4",children:[n.map(Ne=>{const we=ce(Ne)==="outgoing",Ke=we?Ne.to_user_name:Ne.from_user_name;return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>i(Ne),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[ae(Ne),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:ge(Ne)}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:ke(Ne.created_at)}),Ke&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[we?"To":"From",": ",Ke]})]})]})]})]}),a.jsxs("div",{className:"text-right space-y-2",children:[a.jsxs("p",{className:`font-medium text-sm ${we?"text-red-600":"text-green-600"}`,children:[we?"-":"+",ye(Ne.amount)]}),ue(Ne.status)]})]},Ne.id)}),V&&a.jsx("div",{className:"text-center pt-4",children:a.jsx(be,{variant:"outline",onClick:_e,disabled:U,className:"gap-2",children:U?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Loading..."]}):"Load More"})})]}):a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(ba,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or make your first transaction"})]})})]})}),a.jsx(pr,{open:!!s,onOpenChange:Ne=>!Ne&&i(null),children:a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:"Transaction Details"}),a.jsx(Qr,{children:"Complete information about this transaction"})]}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[ae(s),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:ge(s)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:ke(s.created_at)})]})]}),a.jsx(hi,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),a.jsxs("span",{className:`font-medium ${ce(s)==="outgoing"?"text-red-600":"text-green-600"}`,children:[ce(s)==="outgoing"?"-":"+",ye(s.amount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),ue(s.status)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"font-medium capitalize",children:s.transaction_type})]}),s.reference_id&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Reference:"}),a.jsx("span",{className:"font-mono text-sm",children:s.reference_id})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Transaction ID:"}),a.jsx("span",{className:"font-mono text-xs",children:s.id})]}),s.completed_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed:"}),a.jsx("span",{className:"text-sm",children:ke(s.completed_at)})]})]}),a.jsx(hi,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{onClick:()=>{Y(s),X(!0)},className:"w-full gap-2",children:[a.jsx(xv,{className:"h-4 w-4"}),"View Receipt"]}),s.status==="completed"&&a.jsxs(be,{variant:"outline",onClick:()=>G(!0),className:"w-full gap-2 text-red-600 hover:text-red-700",children:[a.jsx(Or,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}),a.jsx(Ahe,{transaction:$,open:q,onOpenChange:X,userProfile:H||void 0}),a.jsx(pr,{open:Q,onOpenChange:G,children:a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsxs(yr,{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-red-500"}),"Report Transaction Issue"]}),a.jsx(Qr,{children:"Describe the issue you're experiencing with this transaction"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"issue-type",children:"Issue Type"}),a.jsxs(kt,{children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Select issue type"})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"unauthorized",children:"Unauthorized Transaction"}),a.jsx(Ee,{value:"wrong-amount",children:"Wrong Amount Charged"}),a.jsx(Ee,{value:"service-not-received",children:"Service Not Received"}),a.jsx(Ee,{value:"duplicate",children:"Duplicate Charge"}),a.jsx(Ee,{value:"technical",children:"Technical Issue"}),a.jsx(Ee,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",className:"w-full p-3 border rounded-lg resize-none h-24",placeholder:"Please describe the issue in detail..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:"outline",className:"flex-1",onClick:()=>G(!1),children:"Cancel"}),a.jsx(be,{className:"flex-1",onClick:()=>{Se.success("Issue reported successfully. Our support team will contact you soon."),G(!1)},children:"Submit Report"})]})]})]})})]})}function ms({size:e="md",text:t}){const{t:n}=Ft(),r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Vs,{className:`animate-spin ${r[e]} text-primary`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t||n("common.loading")})]})})}function Che(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState([]),[u,m]=w.useState(!0),[f,g]=w.useState(""),[x,j]=w.useState("all"),[_,C]=w.useState("date"),[E,A]=w.useState(null),[M,D]=w.useState(1),[R,U]=w.useState(!1);w.useEffect(()=>{k()},[]),w.useEffect(()=>{I()},[r,f,x,_]);const k=async()=>{try{const{data:Y,error:q}=await ze.from("events").select(`
          *,
          sold_tickets:user_tickets(count),
          available_tickets:max_tickets
        `).eq("is_active",!0).gte("end_date",new Date().toISOString());if(q)throw q;const X=(Y==null?void 0:Y.map(Q=>{var G,H,ee,Z;return{...Q,sold_tickets:((H=(G=Q.sold_tickets)==null?void 0:G[0])==null?void 0:H.count)||0,available_tickets:Q.max_tickets-(((Z=(ee=Q.sold_tickets)==null?void 0:ee[0])==null?void 0:Z.count)||0)}}))||[];s(X)}catch(Y){console.error("Error fetching events:",Y),Se.error(t("error_fetch_events"))}finally{m(!1)}},I=()=>{let Y=r.filter(q=>{const X=q.title.toLowerCase().includes(f.toLowerCase())||(q.description||"").toLowerCase().includes(f.toLowerCase())||(q.location||"").toLowerCase().includes(f.toLowerCase()),Q=x==="all"||q.category===x;return X&&Q});Y.sort((q,X)=>{switch(_){case"date":return new Date(q.start_date||"").getTime()-new Date(X.start_date||"").getTime();case"price_low":return(q.price||0)-(X.price||0);case"price_high":return(X.price||0)-(q.price||0);case"popularity":return X.sold_tickets-q.sold_tickets;default:return 0}}),o(Y)},F=async()=>{if(!(!E||!e)){if(E.available_tickets<M){Se.error(t("insufficient_tickets"));return}U(!0);try{const{data:Y,error:q}=await ze.from("wallets").select("balance").eq("user_id",e.id).single();if(q)throw q;const X=(E.price||0)*M;if(Y.balance<X){Se.error(t("insufficient_balance"));return}const{data:Q,error:G}=await ze.rpc("purchase_event_tickets",{p_event_id:E.id,p_user_id:e.id,p_quantity:M});if(G)throw G;Se.success(t("tickets_purchased_success",{quantity:M.toString()})),A(null),D(1),k()}catch(Y){console.error("Error purchasing tickets:",Y),Se.error(t("error_purchase_tickets"))}finally{U(!1)}}},V=Y=>new Date(Y).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=Y=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(Y),$=[{value:"all",label:t("all_categories")},{value:"concert",label:t("concert")},{value:"sports",label:t("sports")},{value:"theater",label:t("theater")},{value:"conference",label:t("conference")},{value:"workshop",label:t("workshop")},{value:"other",label:t("other")}];return u?a.jsx(ms,{text:t("loading_events")}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("events")}),a.jsx("p",{className:"text-muted-foreground",children:t("events_description")})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(ut,{placeholder:t("search_events"),value:f,onChange:Y=>g(Y.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(kt,{value:x,onValueChange:j,children:[a.jsxs(It,{className:"w-[150px]",children:[a.jsx(im,{className:"h-4 w-4 mr-2"}),a.jsx(Bt,{})]}),a.jsx(Lt,{children:$.map(Y=>a.jsx(Ee,{value:Y.value,children:Y.label},Y.value))})]}),a.jsxs(kt,{value:_,onValueChange:C,children:[a.jsx(It,{className:"w-[150px]",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"date",children:t("sort_by_date")}),a.jsx(Ee,{value:"price_low",children:t("sort_by_price_low")}),a.jsx(Ee,{value:"price_high",children:t("sort_by_price_high")}),a.jsx(Ee,{value:"popularity",children:t("sort_by_popularity")})]})]})]})]})})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((Y,q)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:q*.1},children:a.jsxs(fe,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsx(Te,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Oe,{className:"line-clamp-2",children:Y.title}),a.jsx(st,{className:"line-clamp-2 mt-2",children:Y.description})]}),a.jsx(Je,{variant:"secondary",className:"ml-2",children:t(Y.category||"other")})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(ka,{className:"h-4 w-4 mr-2"}),V(Y.start_date||"")]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),Y.location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(wa,{className:"h-4 w-4 mr-2"}),Y.available_tickets," ",t("tickets_available")]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-lg font-bold",children:L(Y.price||0)}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(lp,{className:"h-4 w-4 mr-1 fill-yellow-400 text-yellow-400"}),Y.sold_tickets," ",t("sold")]})]}),a.jsxs(pr,{children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{className:"w-full",disabled:Y.available_tickets===0,onClick:()=>A(Y),children:[a.jsx(ja,{className:"h-4 w-4 mr-2"}),Y.available_tickets===0?t("sold_out"):t("buy_tickets")]})}),a.jsxs(xr,{children:[a.jsxs(vr,{children:[a.jsx(yr,{children:Y.title}),a.jsx(Qr,{children:Y.description})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[t("start_date"),":"]}),a.jsx("p",{children:V(Y.start_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("end_date"),":"]}),a.jsx("p",{children:V(Y.end_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("location"),":"]}),a.jsx("p",{children:Y.location})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("price"),":"]}),a.jsx("p",{children:L(Y.price||0)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("quantity")}),a.jsxs(kt,{value:M.toString(),onValueChange:X=>D(parseInt(X)),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsx(Lt,{children:Array.from({length:Math.min(Y.available_tickets,10)},(X,Q)=>a.jsxs(Ee,{value:(Q+1).toString(),children:[Q+1," ",t("tickets")]},Q+1))})]})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"font-medium",children:[t("total"),":"]}),a.jsx("span",{className:"text-lg font-bold",children:L((Y.price||0)*M)})]})}),a.jsx(be,{onClick:F,disabled:R,className:"w-full",children:R?a.jsx(ms,{text:t("processing")}):t("purchase_tickets")})]})]})]})]})]})},Y.id))}),i.length===0&&a.jsx(fe,{children:a.jsxs(he,{className:"text-center py-12",children:[a.jsx(ja,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_events_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_events_description")})]})})]})}function The(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState([]),[u,m]=w.useState(!0),[f,g]=w.useState(""),[x,j]=w.useState("all"),[_,C]=w.useState(null);w.useEffect(()=>{e&&E()},[e]),w.useEffect(()=>{A()},[r,f,x]);const E=async()=>{if(e)try{const{data:q,error:X}=await ze.from("user_tickets").select(`
          *,
          event:events (*)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(X)throw X;s(q||[])}catch(q){console.error("Error fetching tickets:",q),Se.error(t("error_fetch_tickets"))}finally{m(!1)}},A=()=>{let q=r.filter(X=>{const Q=X.event.title.toLowerCase().includes(f.toLowerCase())||(X.event.description||"").toLowerCase().includes(f.toLowerCase())||(X.event.location||"").toLowerCase().includes(f.toLowerCase()),G=x==="all"||X.status===x;return Q&&G});o(q)},M=q=>{const X={pending:{variant:"outline",label:t("pending")},confirmed:{variant:"default",label:t("confirmed")},used:{variant:"secondary",label:t("used")},cancelled:{variant:"destructive",label:t("cancelled")}},Q=X[q]||X.pending;return a.jsx(Je,{variant:Q.variant,children:Q.label})},D=q=>i.filter(X=>X.status===q),R=q=>new Date(q).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),U=q=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(q),k=q=>{var Z;const X={ticketId:q.id,eventTitle:q.event.title,eventDate:q.event.start_date,eventLocation:q.event.location,userName:((Z=e==null?void 0:e.user_metadata)==null?void 0:Z.full_name)||(e==null?void 0:e.email),purchaseDate:q.created_at,status:q.status},Q=JSON.stringify(X,null,2),G=new Blob([Q],{type:"application/json"}),H=URL.createObjectURL(G),ee=document.createElement("a");ee.href=H,ee.download=`ticket-${q.id}.json`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(H),Se.success(t("ticket_downloaded"))},I=q=>{const X=`TICKET:${q.id}:${q.event.id}:${e==null?void 0:e.id}`;return Se.info(t("qr_code_generated")),X};if(u)return a.jsx(ms,{text:t("loading_tickets")});const F=D("confirmed"),V=D("used"),L=D("pending"),$=D("cancelled");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("my_tickets")}),a.jsx("p",{className:"text-muted-foreground",children:t("tickets_description")})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(ut,{placeholder:t("search_tickets"),value:f,onChange:q=>g(q.target.value),className:"pl-10"})]})}),a.jsxs(kt,{value:x,onValueChange:j,children:[a.jsx(It,{className:"w-[150px]",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("all_statuses")}),a.jsx(Ee,{value:"confirmed",children:t("confirmed")}),a.jsx(Ee,{value:"used",children:t("used")}),a.jsx(Ee,{value:"pending",children:t("pending")}),a.jsx(Ee,{value:"cancelled",children:t("cancelled")})]})]})]})})})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs(xi,{defaultValue:"active",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-4",children:[a.jsxs(Et,{value:"active",children:[t("active")," (",F.length,")"]}),a.jsxs(Et,{value:"used",children:[t("used")," (",V.length,")"]}),a.jsxs(Et,{value:"pending",children:[t("pending")," (",L.length,")"]}),a.jsxs(Et,{value:"cancelled",children:[t("cancelled")," (",$.length,")"]})]}),a.jsx(Ot,{value:"active",className:"space-y-4",children:a.jsx(Y,{tickets:F})}),a.jsx(Ot,{value:"used",className:"space-y-4",children:a.jsx(Y,{tickets:V})}),a.jsx(Ot,{value:"pending",className:"space-y-4",children:a.jsx(Y,{tickets:L})}),a.jsx(Ot,{value:"cancelled",className:"space-y-4",children:a.jsx(Y,{tickets:$})})]})})]});function Y({tickets:q}){return q.length===0?a.jsx(fe,{children:a.jsxs(he,{className:"text-center py-12",children:[a.jsx(ja,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_tickets_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_tickets_description")})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map((X,Q)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Q*.1},children:a.jsxs(fe,{className:"h-full hover:shadow-lg transition-shadow",children:[a.jsx(Te,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Oe,{className:"line-clamp-2",children:X.event.title}),a.jsx(st,{className:"line-clamp-1 mt-2",children:X.event.description})]}),M(X.status)]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(ka,{className:"h-4 w-4 mr-2"}),R(X.event.start_date||"")]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),X.event.location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(ja,{className:"h-4 w-4 mr-2"}),t("ticket_id"),": ",X.id.slice(0,8),"..."]})]}),a.jsx("div",{className:"text-lg font-bold",children:U(X.event.price||0)}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(pr,{children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>C(X),children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),t("view")]})}),a.jsxs(xr,{children:[a.jsxs(vr,{children:[a.jsx(yr,{children:X.event.title}),a.jsx(Qr,{children:t("ticket_details")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[t("ticket_id"),":"]}),a.jsx("p",{className:"font-mono",children:X.id})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("status"),":"]}),a.jsx("div",{className:"mt-1",children:M(X.status)})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("event_date"),":"]}),a.jsx("p",{children:R(X.event.start_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("purchase_date"),":"]}),a.jsx("p",{children:R(X.created_at||"")})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsxs("strong",{children:[t("location"),":"]}),a.jsx("p",{children:X.event.location})]}),X.event.description&&a.jsxs("div",{className:"col-span-2",children:[a.jsxs("strong",{children:[t("description"),":"]}),a.jsx("p",{children:X.event.description})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(be,{onClick:()=>I(X),className:"flex-1",disabled:X.status!=="confirmed",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),t("show_qr_code")]}),a.jsxs(be,{variant:"outline",onClick:()=>k(X),className:"flex-1",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),t("download")]})]})]})]})]})})]})]})},X.id))})}}var dj={},fj={},jR;function Ohe(){return jR||(jR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(fj)),fj}var hj={},NR;function rU(){return NR||(NR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(hj)),hj}var mj={},SR;function aU(){return SR||(SR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(mj)),mj}var gj={},_R;function UE(){return _R||(_R=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],s=n.length;if(s===0)return r;let i=0,o="",u="",m=!1;for(n.charCodeAt(0)===46&&(r.push(""),i++);i<s;){const f=n[i];u?f==="\\"&&i+1<s?(i++,o+=n[i]):f===u?u="":o+=f:m?f==='"'||f==="'"?u=f:f==="]"?(m=!1,r.push(o),o=""):o+=f:f==="["?(m=!0,o&&(r.push(o),o="")):f==="."?o&&(r.push(o),o=""):o+=f,i++}return o&&r.push(o),r}e.toPath=t}(gj)),gj}var AR;function zE(){return AR||(AR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ohe(),n=rU(),r=aU(),s=UE();function i(u,m,f){if(u==null)return f;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return f;const g=u[m];return g===void 0?n.isDeepKey(m)?i(u,s.toPath(m),f):f:g}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const g=u[m];return g===void 0?f:g}default:{if(Array.isArray(m))return o(u,m,f);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return f;const g=u[m];return g===void 0?f:g}}}function o(u,m,f){if(m.length===0)return f;let g=u;for(let x=0;x<m.length;x++){if(g==null||t.isUnsafeProperty(m[x]))return f;g=g[m[x]]}return g===void 0?f:g}e.get=i}(dj)),dj}var pj,ER;function Mhe(){return ER||(ER=1,pj=zE().get),pj}var Dhe=Mhe();const gu=Cs(Dhe);var xj={exports:{}},$n={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR;function Phe(){if(CR)return $n;CR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function C(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case e:switch(E=E.type,E){case n:case s:case r:case m:case f:case j:return E;default:switch(E=E&&E.$$typeof,E){case o:case u:case x:case g:return E;case i:return E;default:return A}}case t:return A}}}return $n.ContextConsumer=i,$n.ContextProvider=o,$n.Element=e,$n.ForwardRef=u,$n.Fragment=n,$n.Lazy=x,$n.Memo=g,$n.Portal=t,$n.Profiler=s,$n.StrictMode=r,$n.Suspense=m,$n.SuspenseList=f,$n.isContextConsumer=function(E){return C(E)===i},$n.isContextProvider=function(E){return C(E)===o},$n.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},$n.isForwardRef=function(E){return C(E)===u},$n.isFragment=function(E){return C(E)===n},$n.isLazy=function(E){return C(E)===x},$n.isMemo=function(E){return C(E)===g},$n.isPortal=function(E){return C(E)===t},$n.isProfiler=function(E){return C(E)===s},$n.isStrictMode=function(E){return C(E)===r},$n.isSuspense=function(E){return C(E)===m},$n.isSuspenseList=function(E){return C(E)===f},$n.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===s||E===r||E===m||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===x||E.$$typeof===g||E.$$typeof===o||E.$$typeof===i||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},$n.typeOf=C,$n}var TR;function Rhe(){return TR||(TR=1,xj.exports=Phe()),xj.exports}var khe=Rhe(),Ra=e=>e===0?0:e>0?1:-1,$s=e=>typeof e=="number"&&e!=+e,pd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,lt=e=>(typeof e=="number"||e instanceof Number)&&!$s(e),el=e=>lt(e)||typeof e=="string",Ihe=0,pu=e=>{var t=++Ihe;return"".concat(e||"").concat(t)},As=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!lt(t)&&typeof t!="string")return r;var i;if(pd(t)){if(n==null)return r;var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return $s(i)&&(i=r),s&&n!=null&&i>n&&(i=n),i},sU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},oi=(e,t)=>lt(e)&&lt(t)?n=>e+n*(t-e):()=>t;function nh(e,t,n){return lt(e)&&lt(t)?e+n*(t-e):t}function iU(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):gu(r,t))===n)}var Fn=e=>e===null||typeof e>"u",Jp=e=>Fn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Lhe=["viewBox","children"],Bhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OR=["points","pathLength"],vj={svg:Lhe,polygon:OR,polyline:OR},VE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$E=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{VE.includes(s)&&(r[s]=i=>n[s](n,i))}),r},Fhe=(e,t,n)=>r=>(e(t,n,r),null),e0=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var i=e[s];VE.includes(s)&&typeof i=="function"&&(r||(r={}),r[s]=Fhe(i,t,n))}),r},MR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",DR=null,yj=null,oU=e=>{if(e===DR&&Array.isArray(yj))return yj;var t=[];return w.Children.forEach(e,n=>{Fn(n)||(khe.isFragment(n)?t=t.concat(oU(n.props.children)):t.push(n))}),yj=t,DR=e,t};function t0(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(s=>MR(s)):r=[MR(t)],oU(e).forEach(s=>{var i=gu(s,"type.displayName")||gu(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}var f1=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Uhe=(e,t,n,r)=>{var s,i=(s=r&&(vj==null?void 0:vj[r]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(r&&i.includes(t)||Bhe.includes(t))||n&&VE.includes(t)},Gt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(i=>{var o;Uhe((o=r)===null||o===void 0?void 0:o[i],i,t,n)&&(s[i]=r[i])}),s},zhe=["children","width","height","viewBox","className","style","title","desc"];function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(null,arguments)}function Vhe(e,t){if(e==null)return{};var n,r,s=$he(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function $he(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HE=w.forwardRef((e,t)=>{var{children:n,width:r,height:s,viewBox:i,className:o,style:u,title:m,desc:f}=e,g=Vhe(e,zhe),x=i||{width:r,height:s,x:0,y:0},j=ln("recharts-surface",o);return w.createElement("svg",JS({},Gt(g,!0,"svg"),{className:j,width:r,height:s,style:u,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),w.createElement("title",null,m),w.createElement("desc",null,f),n)}),Hhe=["children","className"];function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e_.apply(null,arguments)}function qhe(e,t){if(e==null)return{};var n,r,s=Yhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Yhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mr=w.forwardRef((e,t)=>{var{children:n,className:r}=e,s=qhe(e,Hhe),i=ln("recharts-layer",r);return w.createElement("g",e_({className:i},Gt(s,!0),{ref:t}),n)}),lU=w.createContext(null),Whe=()=>w.useContext(lU);function tr(e){return function(){return e}}const cU=Math.cos,Xv=Math.sin,yo=Math.sqrt,Qv=Math.PI,h1=2*Qv,t_=Math.PI,n_=2*t_,cd=1e-6,Ghe=n_-cd;function uU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Khe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uU;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class Xhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uU:Khe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,m=r-t,f=s-n,g=o-t,x=u-n,j=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(j>cd)if(!(Math.abs(x*m-f*g)>cd)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-o,C=s-u,E=m*m+f*f,A=_*_+C*C,M=Math.sqrt(E),D=Math.sqrt(j),R=i*Math.tan((t_-Math.acos((E+j-A)/(2*M*D)))/2),U=R/D,k=R/M;Math.abs(U-1)>cd&&this._append`L${t+U*g},${n+U*x}`,this._append`A${i},${i},0,0,${+(x*_>g*C)},${this._x1=t+k*m},${this._y1=n+k*f}`}}arc(t,n,r,s,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(s),m=r*Math.sin(s),f=t+u,g=n+m,x=1^o,j=o?s-i:i-s;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>cd||Math.abs(this._y1-g)>cd)&&this._append`L${f},${g}`,r&&(j<0&&(j=j%n_+n_),j>Ghe?this._append`A${r},${r},0,1,${x},${t-u},${n-m}A${r},${r},0,1,${x},${this._x1=f},${this._y1=g}`:j>cd&&this._append`A${r},${r},0,${+(j>=t_)},${x},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function qE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Xhe(t)}function YE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dU(e){this._context=e}dU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function m1(e){return new dU(e)}function fU(e){return e[0]}function hU(e){return e[1]}function mU(e,t){var n=tr(!0),r=null,s=m1,i=null,o=qE(u);e=typeof e=="function"?e:e===void 0?fU:tr(e),t=typeof t=="function"?t:t===void 0?hU:tr(t);function u(m){var f,g=(m=YE(m)).length,x,j=!1,_;for(r==null&&(i=s(_=o())),f=0;f<=g;++f)!(f<g&&n(x=m[f],f,m))===j&&((j=!j)?i.lineStart():i.lineEnd()),j&&i.point(+e(x,f,m),+t(x,f,m));if(_)return i=null,_+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:tr(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:tr(+m),u):t},u.defined=function(m){return arguments.length?(n=typeof m=="function"?m:tr(!!m),u):n},u.curve=function(m){return arguments.length?(s=m,r!=null&&(i=s(r)),u):s},u.context=function(m){return arguments.length?(m==null?r=i=null:i=s(r=m),u):r},u}function Kx(e,t,n){var r=null,s=tr(!0),i=null,o=m1,u=null,m=qE(f);e=typeof e=="function"?e:e===void 0?fU:tr(+e),t=typeof t=="function"?t:tr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?hU:tr(+n);function f(x){var j,_,C,E=(x=YE(x)).length,A,M=!1,D,R=new Array(E),U=new Array(E);for(i==null&&(u=o(D=m())),j=0;j<=E;++j){if(!(j<E&&s(A=x[j],j,x))===M)if(M=!M)_=j,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),C=j-1;C>=_;--C)u.point(R[C],U[C]);u.lineEnd(),u.areaEnd()}M&&(R[j]=+e(A,j,x),U[j]=+t(A,j,x),u.point(r?+r(A,j,x):R[j],n?+n(A,j,x):U[j]))}if(D)return u=null,D+""||null}function g(){return mU().defined(s).curve(o).context(i)}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:tr(+x),r=null,f):e},f.x0=function(x){return arguments.length?(e=typeof x=="function"?x:tr(+x),f):e},f.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:tr(+x),f):r},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:tr(+x),n=null,f):t},f.y0=function(x){return arguments.length?(t=typeof x=="function"?x:tr(+x),f):t},f.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:tr(+x),f):n},f.lineX0=f.lineY0=function(){return g().x(e).y(t)},f.lineY1=function(){return g().x(e).y(n)},f.lineX1=function(){return g().x(r).y(t)},f.defined=function(x){return arguments.length?(s=typeof x=="function"?x:tr(!!x),f):s},f.curve=function(x){return arguments.length?(o=x,i!=null&&(u=o(i)),f):o},f.context=function(x){return arguments.length?(x==null?i=u=null:u=o(i=x),f):i},f}class gU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Qhe(e){return new gU(e,!0)}function Zhe(e){return new gU(e,!1)}const WE={draw(e,t){const n=yo(t/Qv);e.moveTo(n,0),e.arc(0,0,n,0,h1)}},Jhe={draw(e,t){const n=yo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},pU=yo(1/3),eme=pU*2,tme={draw(e,t){const n=yo(t/eme),r=n*pU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nme={draw(e,t){const n=yo(t),r=-n/2;e.rect(r,r,n,n)}},rme=.8908130915292852,xU=Xv(Qv/10)/Xv(7*Qv/10),ame=Xv(h1/10)*xU,sme=-cU(h1/10)*xU,ime={draw(e,t){const n=yo(t*rme),r=ame*n,s=sme*n;e.moveTo(0,-n),e.lineTo(r,s);for(let i=1;i<5;++i){const o=h1*i/5,u=cU(o),m=Xv(o);e.lineTo(m*n,-u*n),e.lineTo(u*r-m*s,m*r+u*s)}e.closePath()}},bj=yo(3),ome={draw(e,t){const n=-yo(t/(bj*3));e.moveTo(0,n*2),e.lineTo(-bj*n,-n),e.lineTo(bj*n,-n),e.closePath()}},Oi=-.5,Mi=yo(3)/2,r_=1/yo(12),lme=(r_/2+1)*3,cme={draw(e,t){const n=yo(t/lme),r=n/2,s=n*r_,i=r,o=n*r_+n,u=-i,m=o;e.moveTo(r,s),e.lineTo(i,o),e.lineTo(u,m),e.lineTo(Oi*r-Mi*s,Mi*r+Oi*s),e.lineTo(Oi*i-Mi*o,Mi*i+Oi*o),e.lineTo(Oi*u-Mi*m,Mi*u+Oi*m),e.lineTo(Oi*r+Mi*s,Oi*s-Mi*r),e.lineTo(Oi*i+Mi*o,Oi*o-Mi*i),e.lineTo(Oi*u+Mi*m,Oi*m-Mi*u),e.closePath()}};function ume(e,t){let n=null,r=qE(s);e=typeof e=="function"?e:tr(e||WE),t=typeof t=="function"?t:tr(t===void 0?64:+t);function s(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:tr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:tr(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Zv(){}function Jv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function vU(e){this._context=e}vU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dme(e){return new vU(e)}function yU(e){this._context=e}yU.prototype={areaStart:Zv,areaEnd:Zv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fme(e){return new yU(e)}function bU(e){this._context=e}bU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hme(e){return new bU(e)}function wU(e){this._context=e}wU.prototype={areaStart:Zv,areaEnd:Zv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mme(e){return new wU(e)}function PR(e){return e<0?-1:1}function RR(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),u=(i*s+o*r)/(r+s);return(PR(i)+PR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function kR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function wj(e,t,n){var r=e._x0,s=e._y0,i=e._x1,o=e._y1,u=(i-r)/3;e._context.bezierCurveTo(r+u,s+u*t,i-u,o-u*n,i,o)}function ey(e){this._context=e}ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wj(this,this._t0,kR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wj(this,kR(this,n=RR(this,e,t)),n);break;default:wj(this,this._t0,n=RR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function jU(e){this._context=new NU(e)}(jU.prototype=Object.create(ey.prototype)).point=function(e,t){ey.prototype.point.call(this,t,e)};function NU(e){this._context=e}NU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,i){this._context.bezierCurveTo(t,e,r,n,i,s)}};function gme(e){return new ey(e)}function pme(e){return new jU(e)}function SU(e){this._context=e}SU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=IR(e),s=IR(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function IR(e){var t,n=e.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function xme(e){return new SU(e)}function g1(e,t){this._context=e,this._t=t}g1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vme(e){return new g1(e,.5)}function yme(e){return new g1(e,0)}function bme(e){return new g1(e,1)}function Bh(e,t){if((o=e.length)>1)for(var n=1,r,s,i=e[t[0]],o,u=i.length;n<o;++n)for(s=i,i=e[t[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function a_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function wme(e,t){return e[t]}function jme(e){const t=[];return t.key=e,t}function Nme(){var e=tr([]),t=a_,n=Bh,r=wme;function s(i){var o=Array.from(e.apply(this,arguments),jme),u,m=o.length,f=-1,g;for(const x of i)for(u=0,++f;u<m;++u)(o[u][f]=[0,+r(x,o[u].key,f,i)]).data=x;for(u=0,g=YE(t(o));u<m;++u)o[g[u]].index=u;return n(o,g),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:tr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:tr(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?a_:typeof i=="function"?i:tr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Bh,s):n},s}function Sme(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}Bh(e,t)}}function _me(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,i=r.length;n<i;++n){for(var o=0,u=0;o<s;++o)u+=e[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Bh(e,t)}}function Ame(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var u=0,m=0,f=0;u<o;++u){for(var g=e[t[u]],x=g[r][1]||0,j=g[r-1][1]||0,_=(x-j)/2,C=0;C<u;++C){var E=e[t[C]],A=E[r][1]||0,M=E[r-1][1]||0;_+=A-M}m+=x,f+=_*x}s[r-1][1]+=s[r-1][0]=n,m&&(n-=f/m)}s[r-1][1]+=s[r-1][0]=n,Bh(e,t)}}var Eme=["type","size","sizeType"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(null,arguments)}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function BR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(r){Cme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cme(e,t,n){return(t=Tme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tme(e){var t=Ome(e,"string");return typeof t=="symbol"?t:t+""}function Ome(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mme(e,t){if(e==null)return{};var n,r,s=Dme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Dme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _U={symbolCircle:WE,symbolCross:Jhe,symbolDiamond:tme,symbolSquare:nme,symbolStar:ime,symbolTriangle:ome,symbolWye:cme},Pme=Math.PI/180,Rme=e=>{var t="symbol".concat(Jp(e));return _U[t]||WE},kme=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Pme;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ime=(e,t)=>{_U["symbol".concat(Jp(e))]=t},GE=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,s=Mme(e,Eme),i=BR(BR({},s),{},{type:t,size:n,sizeType:r}),o=()=>{var x=Rme(t),j=ume().type(x).size(kme(n,r,t));return j()},{className:u,cx:m,cy:f}=i,g=Gt(i,!0);return m===+m&&f===+f&&n===+n?w.createElement("path",s_({},g,{className:ln("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(f,")"),d:o()})):null};GE.registerSymbol=Ime;function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i_.apply(null,arguments)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Lme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){KE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KE(e,t,n){return(t=Bme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bme(e){var t=Fme(e,"string");return typeof t=="symbol"?t:t+""}function Fme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var no=32;class XE extends w.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,s=no/2,i=no/6,o=no/3,u=t.inactive?r:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:no,y2:s,className:"recharts-legend-icon"});if(m==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(no,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(m==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(no/8,"h").concat(no,"v").concat(no*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var f=Lme({},t);return delete f.legendIcon,w.cloneElement(t.legendIcon,f)}return w.createElement(GE,{fill:u,cx:s,cy:s,size:no,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:s,inactiveColor:i,iconType:o}=this.props,u={x:0,y:0,width:no,height:no},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,x)=>{var j=g.formatter||s,_=ln({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:g.inactive});if(g.type==="none")return null;var C=g.inactive?i:g.color,E=j?j(g.value,g,x):g.value;return w.createElement("li",i_({className:_,style:m,key:"legend-item-".concat(x)},e0(this.props,g,x)),w.createElement(HE,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(E," legend icon")},this.renderIcon(g,o)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},E))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}KE(XE,"displayName","Legend");KE(XE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var jj={},Nj={},UR;function Ume(){return UR||(UR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const s=new Map;for(let i=0;i<n.length;i++){const o=n[i],u=r(o);s.has(u)||s.set(u,o)}return Array.from(s.values())}e.uniqBy=t}(Nj)),Nj}var Sj={},zR;function AU(){return zR||(zR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(Sj)),Sj}var _j={},Aj={},Ej={},VR;function zme(){return VR||(VR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(Ej)),Ej}var $R;function QE(){return $R||($R=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zme();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(Aj)),Aj}var Cj={},HR;function Vme(){return HR||(HR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(Cj)),Cj}var qR;function $me(){return qR||(qR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QE(),n=Vme();function r(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r}(_j)),_j}var Tj={},Oj={},YR;function Hme(){return YR||(YR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zE();function n(r){return function(s){return t.get(s,r)}}e.property=n}(Oj)),Oj}var Mj={},Dj={},Pj={},Rj={},WR;function EU(){return WR||(WR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(Rj)),Rj}var kj={},GR;function CU(){return GR||(GR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(kj)),kj}var Ij={},KR;function ZE(){return KR||(KR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(Ij)),Ij}var XR;function qme(){return XR||(XR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JE(),n=EU(),r=CU(),s=ZE();function i(x,j,_){return typeof _!="function"?t.isMatch(x,j):o(x,j,function C(E,A,M,D,R,U){const k=_(E,A,M,D,R,U);return k!==void 0?!!k:o(E,A,C,U)},new Map)}function o(x,j,_,C){if(j===x)return!0;switch(typeof j){case"object":return u(x,j,_,C);case"function":return Object.keys(j).length>0?o(x,{...j},_,C):s.eq(x,j);default:return n.isObject(x)?typeof j=="string"?j==="":!0:s.eq(x,j)}}function u(x,j,_,C){if(j==null)return!0;if(Array.isArray(j))return f(x,j,_,C);if(j instanceof Map)return m(x,j,_,C);if(j instanceof Set)return g(x,j,_,C);const E=Object.keys(j);if(x==null)return E.length===0;if(E.length===0)return!0;if(C&&C.has(j))return C.get(j)===x;C&&C.set(j,x);try{for(let A=0;A<E.length;A++){const M=E[A];if(!r.isPrimitive(x)&&!(M in x)||j[M]===void 0&&x[M]!==void 0||j[M]===null&&x[M]!==null||!_(x[M],j[M],M,x,j,C))return!1}return!0}finally{C&&C.delete(j)}}function m(x,j,_,C){if(j.size===0)return!0;if(!(x instanceof Map))return!1;for(const[E,A]of j.entries()){const M=x.get(E);if(_(M,A,E,x,j,C)===!1)return!1}return!0}function f(x,j,_,C){if(j.length===0)return!0;if(!Array.isArray(x))return!1;const E=new Set;for(let A=0;A<j.length;A++){const M=j[A];let D=!1;for(let R=0;R<x.length;R++){if(E.has(R))continue;const U=x[R];let k=!1;if(_(U,M,A,x,j,C)&&(k=!0),k){E.add(R),D=!0;break}}if(!D)return!1}return!0}function g(x,j,_,C){return j.size===0?!0:x instanceof Set?f([...x],[...j],_,C):!1}e.isMatchWith=i,e.isSetMatch=g}(Pj)),Pj}var QR;function JE(){return QR||(QR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qme();function n(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=n}(Dj)),Dj}var Lj={},Bj={},Fj={},ZR;function TU(){return ZR||(ZR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(Fj)),Fj}var Uj={},JR;function eC(){return JR||(JR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(Uj)),Uj}var zj={},ek;function tC(){return ek||(ek=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",u="[object Date]",m="[object Map]",f="[object Set]",g="[object Array]",x="[object Function]",j="[object ArrayBuffer]",_="[object Object]",C="[object Error]",E="[object DataView]",A="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]",U="[object BigUint64Array]",k="[object Int8Array]",I="[object Int16Array]",F="[object Int32Array]",V="[object BigInt64Array]",L="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=j,e.arrayTag=g,e.bigInt64ArrayTag=V,e.bigUint64ArrayTag=U,e.booleanTag=s,e.dataViewTag=E,e.dateTag=u,e.errorTag=C,e.float32ArrayTag=L,e.float64ArrayTag=$,e.functionTag=x,e.int16ArrayTag=I,e.int32ArrayTag=F,e.int8ArrayTag=k,e.mapTag=m,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=D,e.uint32ArrayTag=R,e.uint8ArrayTag=A,e.uint8ClampedArrayTag=M}(zj)),zj}var Vj={},tk;function Yme(){return tk||(tk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(Vj)),Vj}var nk;function OU(){return nk||(nk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TU(),n=eC(),r=tC(),s=CU(),i=Yme();function o(g,x){return u(g,void 0,g,new Map,x)}function u(g,x,j,_=new Map,C=void 0){const E=C==null?void 0:C(g,x,j,_);if(E!=null)return E;if(s.isPrimitive(g))return g;if(_.has(g))return _.get(g);if(Array.isArray(g)){const A=new Array(g.length);_.set(g,A);for(let M=0;M<g.length;M++)A[M]=u(g[M],M,j,_,C);return Object.hasOwn(g,"index")&&(A.index=g.index),Object.hasOwn(g,"input")&&(A.input=g.input),A}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const A=new RegExp(g.source,g.flags);return A.lastIndex=g.lastIndex,A}if(g instanceof Map){const A=new Map;_.set(g,A);for(const[M,D]of g)A.set(M,u(D,M,j,_,C));return A}if(g instanceof Set){const A=new Set;_.set(g,A);for(const M of g)A.add(u(M,void 0,j,_,C));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(i.isTypedArray(g)){const A=new(Object.getPrototypeOf(g)).constructor(g.length);_.set(g,A);for(let M=0;M<g.length;M++)A[M]=u(g[M],M,j,_,C);return A}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const A=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return _.set(g,A),m(A,g,j,_,C),A}if(typeof File<"u"&&g instanceof File){const A=new File([g],g.name,{type:g.type});return _.set(g,A),m(A,g,j,_,C),A}if(g instanceof Blob){const A=new Blob([g],{type:g.type});return _.set(g,A),m(A,g,j,_,C),A}if(g instanceof Error){const A=new g.constructor;return _.set(g,A),A.message=g.message,A.name=g.name,A.stack=g.stack,A.cause=g.cause,m(A,g,j,_,C),A}if(typeof g=="object"&&f(g)){const A=Object.create(Object.getPrototypeOf(g));return _.set(g,A),m(A,g,j,_,C),A}return g}function m(g,x,j=g,_,C){const E=[...Object.keys(x),...t.getSymbols(x)];for(let A=0;A<E.length;A++){const M=E[A],D=Object.getOwnPropertyDescriptor(g,M);(D==null||D.writable)&&(g[M]=u(x[M],M,j,_,C))}}function f(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=m}(Bj)),Bj}var rk;function Wme(){return rk||(rk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OU();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(Lj)),Lj}var ak;function Gme(){return ak||(ak=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JE(),n=Wme();function r(s){return s=n.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=r}(Mj)),Mj}var $j={},Hj={},qj={},sk;function Kme(){return sk||(sk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OU(),n=tC();function r(s,i){return t.cloneDeepWith(s,(o,u,m,f)=>{const g=i==null?void 0:i(o,u,m,f);if(g!=null)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r}(qj)),qj}var ik;function Xme(){return ik||(ik=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kme();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(Hj)),Hj}var Yj={},Wj={},ok;function MU(){return ok||(ok=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(Wj)),Wj}var Gj={},lk;function Qme(){return lk||(lk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(Gj)),Gj}var ck;function Zme(){return ck||(ck=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rU(),n=MU(),r=Qme(),s=UE();function i(o,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&(o==null?void 0:o[u])==null?m=s.toPath(u):m=[u],m.length===0)return!1;let f=o;for(let g=0;g<m.length;g++){const x=m[g];if((f==null||!Object.hasOwn(f,x))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(x)&&x<f.length))return!1;f=f[x]}return!0}e.has=i}(Yj)),Yj}var uk;function Jme(){return uk||(uk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JE(),n=aU(),r=Xme(),s=zE(),i=Zme();function o(u,m){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return m=r.cloneDeep(m),function(f){const g=s.get(f,u);return g===void 0?i.has(f,u):m===void 0?g===void 0:t.isMatch(g,m)}}e.matchesProperty=o}($j)),$j}var dk;function ege(){return dk||(dk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AU(),n=Hme(),r=Gme(),s=Jme();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i}(Tj)),Tj}var fk;function tge(){return fk||(fk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ume(),n=AU(),r=$me(),s=ege();function i(o,u=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(u)):[]}e.uniqBy=i}(jj)),jj}var Kj,hk;function nge(){return hk||(hk=1,Kj=tge().uniqBy),Kj}var rge=nge();const mk=Cs(rge);function DU(e,t,n){return t===!0?mk(e,n):typeof t=="function"?mk(e,t):e}var Xj={exports:{}},Qj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk;function age(){if(gk)return Qj;gk=1;var e=Gh(),t=IB();function n(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,u=e.useMemo,m=e.useDebugValue;return Qj.useSyncExternalStoreWithSelector=function(f,g,x,j,_){var C=i(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=u(function(){function M(I){if(!D){if(D=!0,R=I,I=j(I),_!==void 0&&E.hasValue){var F=E.value;if(_(F,I))return U=F}return U=I}if(F=U,r(R,I))return F;var V=j(I);return _!==void 0&&_(F,V)?(R=I,F):(R=I,U=V)}var D=!1,R,U,k=x===void 0?null:x;return[function(){return M(g())},k===null?void 0:function(){return M(k())}]},[g,x,j,_]);var A=s(f,C[0],C[1]);return o(function(){E.hasValue=!0,E.value=A},[A]),m(A),A},Qj}var pk;function sge(){return pk||(pk=1,Xj.exports=age()),Xj.exports}var ige=sge(),nC=w.createContext(null),oge=e=>e,br=()=>{var e=w.useContext(nC);return e?e.store.dispatch:oge},jv=()=>{},lge=()=>jv,cge=(e,t)=>e===t;function bt(e){var t=w.useContext(nC);return ige.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:lge,t?t.store.getState:jv,t?t.store.getState:jv,t?e:jv,cge)}function uge(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function dge(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function fge(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var xk=e=>Array.isArray(e)?e:[e];function hge(e){const t=Array.isArray(e[0])?e[0]:e;return fge(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function mge(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var gge=class{constructor(e){this.value=e}deref(){return this.value}},pge=typeof WeakRef<"u"?WeakRef:gge,xge=0,vk=1;function Xx(){return{s:xge,v:void 0,o:null,p:null}}function PU(e,t={}){let n=Xx();const{resultEqualityCheck:r}=t;let s,i=0;function o(){var x;let u=n;const{length:m}=arguments;for(let j=0,_=m;j<_;j++){const C=arguments[j];if(typeof C=="function"||typeof C=="object"&&C!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const A=E.get(C);A===void 0?(u=Xx(),E.set(C,u)):u=A}else{let E=u.p;E===null&&(u.p=E=new Map);const A=E.get(C);A===void 0?(u=Xx(),E.set(C,u)):u=A}}const f=u;let g;if(u.s===vk)g=u.v;else if(g=e.apply(null,arguments),i++,r){const j=((x=s==null?void 0:s.deref)==null?void 0:x.call(s))??s;j!=null&&r(j,g)&&(g=j,i!==0&&i--),s=typeof g=="object"&&g!==null||typeof g=="function"?new pge(g):g}return f.s=vk,f.v=g,g}return o.clearCache=()=>{n=Xx(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function vge(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let i=0,o=0,u,m={},f=s.pop();typeof f=="object"&&(m=f,f=s.pop()),uge(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const g={...n,...m},{memoize:x,memoizeOptions:j=[],argsMemoize:_=PU,argsMemoizeOptions:C=[]}=g,E=xk(j),A=xk(C),M=hge(s),D=x(function(){return i++,f.apply(null,arguments)},...E),R=_(function(){o++;const k=mge(M,arguments);return u=D.apply(null,k),u},...A);return Object.assign(R,{resultFunc:f,memoizedResultFunc:D,dependencies:M,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:x,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var Ue=vge(PU),yge=Object.assign((e,t=Ue)=>{dge(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((o,u,m)=>(o[n[m]]=u,o),{}))},{withTypes:()=>yge}),Zj={},Jj={},eN={},yk;function bge(){return yk||(yk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,i)=>{if(r!==s){const o=t(r),u=t(s);if(o===u&&o===0){if(r<s)return i==="desc"?1:-1;if(r>s)return i==="desc"?-1:1}return i==="desc"?u-o:o-u}return 0};e.compareValues=n}(eN)),eN}var tN={},nN={},bk;function RU(){return bk||(bk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(nN)),nN}var wk;function wge(){return wk||(wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s}(tN)),tN}var jk;function jge(){return jk||(jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bge(),n=wge(),r=UE();function s(i,o,u,m){if(i==null)return[];u=m?void 0:u,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const f=(_,C)=>{let E=_;for(let A=0;A<C.length&&E!=null;++A)E=E[C[A]];return E},g=(_,C)=>C==null||_==null?C:typeof _=="object"&&"key"in _?Object.hasOwn(C,_.key)?C[_.key]:f(C,_.path):typeof _=="function"?_(C):Array.isArray(_)?f(C,_):typeof C=="object"?C[_]:C,x=o.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return i.map(_=>({original:_,criteria:x.map(C=>g(C,_))})).slice().sort((_,C)=>{for(let E=0;E<x.length;E++){const A=t.compareValues(_.criteria[E],C.criteria[E],u[E]);if(A!==0)return A}return 0}).map(_=>_.original)}e.orderBy=s}(Jj)),Jj}var rN={},Nk;function Nge(){return Nk||(Nk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const s=[],i=Math.floor(r),o=(u,m)=>{for(let f=0;f<u.length;f++){const g=u[f];Array.isArray(g)&&m<i?o(g,m+1):s.push(g)}};return o(n,0),s}e.flatten=t}(rN)),rN}var aN={},Sk;function kU(){return Sk||(Sk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MU(),n=QE(),r=EU(),s=ZE();function i(o,u,m){return r.isObject(m)&&(typeof u=="number"&&n.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?s.eq(m[u],o):!1}e.isIterateeCall=i}(aN)),aN}var _k;function Sge(){return _k||(_k=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jge(),n=Nge(),r=kU();function s(i,...o){const u=o.length;return u>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=s}(Zj)),Zj}var sN,Ak;function _ge(){return Ak||(Ak=1,sN=Sge().sortBy),sN}var Age=_ge();const p1=Cs(Age);var IU=e=>e.legend.settings,Ege=e=>e.legend.size,Cge=e=>e.legend.payload,Tge=Ue([Cge,IU],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?p1(r,n):r});function Oge(){return bt(Tge)}var Qx=1;function LU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Qx||Math.abs(o.left-t.left)>Qx||Math.abs(o.top-t.top)>Qx||Math.abs(o.width-t.width)>Qx)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function $a(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Mge=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ek=Mge,iN=()=>Math.random().toString(36).substring(7).split("").join("."),Dge={INIT:`@@redux/INIT${iN()}`,REPLACE:`@@redux/REPLACE${iN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iN()}`},ty=Dge;function rC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function BU(e,t,n){if(typeof e!="function")throw new Error($a(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($a(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($a(1));return n(BU)(e,t)}let r=e,s=t,i=new Map,o=i,u=0,m=!1;function f(){o===i&&(o=new Map,i.forEach((A,M)=>{o.set(M,A)}))}function g(){if(m)throw new Error($a(3));return s}function x(A){if(typeof A!="function")throw new Error($a(4));if(m)throw new Error($a(5));let M=!0;f();const D=u++;return o.set(D,A),function(){if(M){if(m)throw new Error($a(6));M=!1,f(),o.delete(D),i=null}}}function j(A){if(!rC(A))throw new Error($a(7));if(typeof A.type>"u")throw new Error($a(8));if(typeof A.type!="string")throw new Error($a(17));if(m)throw new Error($a(9));try{m=!0,s=r(s,A)}finally{m=!1}return(i=o).forEach(D=>{D()}),A}function _(A){if(typeof A!="function")throw new Error($a(10));r=A,j({type:ty.REPLACE})}function C(){const A=x;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error($a(11));function D(){const U=M;U.next&&U.next(g())}return D(),{unsubscribe:A(D)}},[Ek](){return this}}}return j({type:ty.INIT}),{dispatch:j,subscribe:x,getState:g,replaceReducer:_,[Ek]:C}}function Pge(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ty.INIT})>"u")throw new Error($a(12));if(typeof n(void 0,{type:ty.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($a(13))})}function FU(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let s;try{Pge(n)}catch(i){s=i}return function(o={},u){if(s)throw s;let m=!1;const f={};for(let g=0;g<r.length;g++){const x=r[g],j=n[x],_=o[x],C=j(_,u);if(typeof C>"u")throw u&&u.type,new Error($a(14));f[x]=C,m=m||C!==_}return m=m||r.length!==Object.keys(o).length,m?f:o}}function ny(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Rge(...e){return t=>(n,r)=>{const s=t(n,r);let i=()=>{throw new Error($a(15))};const o={getState:s.getState,dispatch:(m,...f)=>i(m,...f)},u=e.map(m=>m(o));return i=ny(...u)(s.dispatch),{...s,dispatch:i}}}function UU(e){return rC(e)&&"type"in e&&typeof e.type=="string"}var zU=Symbol.for("immer-nothing"),Ck=Symbol.for("immer-draftable"),gi=Symbol.for("immer-state");function co(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fh=Object.getPrototypeOf;function Id(e){return!!e&&!!e[gi]}function Ql(e){var t;return e?VU(e)||Array.isArray(e)||!!e[Ck]||!!((t=e.constructor)!=null&&t[Ck])||v1(e)||y1(e):!1}var kge=Object.prototype.constructor.toString();function VU(e){if(!e||typeof e!="object")return!1;const t=Fh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===kge}function ry(e,t){x1(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function x1(e){const t=e[gi];return t?t.type_:Array.isArray(e)?1:v1(e)?2:y1(e)?3:0}function o_(e,t){return x1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $U(e,t,n){const r=x1(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Ige(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function v1(e){return e instanceof Map}function y1(e){return e instanceof Set}function ud(e){return e.copy_||e.base_}function l_(e,t){if(v1(e))return new Map(e);if(y1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=VU(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[gi];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(Fh(e),r)}else{const r=Fh(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function aC(e,t=!1){return b1(e)||Id(e)||!Ql(e)||(x1(e)>1&&(e.set=e.add=e.clear=e.delete=Lge),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>aC(r,!0))),e}function Lge(){co(2)}function b1(e){return Object.isFrozen(e)}var Bge={};function Ld(e){const t=Bge[e];return t||co(0,e),t}var vp;function HU(){return vp}function Fge(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Tk(e,t){t&&(Ld("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function c_(e){u_(e),e.drafts_.forEach(Uge),e.drafts_=null}function u_(e){e===vp&&(vp=e.parent_)}function Ok(e){return vp=Fge(vp,e)}function Uge(e){const t=e[gi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Mk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[gi].modified_&&(c_(t),co(4)),Ql(e)&&(e=ay(t,e),t.parent_||sy(t,e)),t.patches_&&Ld("Patches").generateReplacementPatches_(n[gi].base_,e,t.patches_,t.inversePatches_)):e=ay(t,n,[]),c_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zU?e:void 0}function ay(e,t,n){if(b1(t))return t;const r=t[gi];if(!r)return ry(t,(s,i)=>Dk(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return sy(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),ry(i,(u,m)=>Dk(e,r,s,u,m,n,o)),sy(e,s,!1),n&&e.patches_&&Ld("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Dk(e,t,n,r,s,i,o){if(Id(s)){const u=i&&t&&t.type_!==3&&!o_(t.assigned_,r)?i.concat(r):void 0,m=ay(e,s,u);if($U(n,r,m),Id(m))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Ql(s)&&!b1(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ay(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&sy(e,s)}}function sy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aC(t,n)}function zge(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:HU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=sC;n&&(s=[r],i=yp);const{revoke:o,proxy:u}=Proxy.revocable(s,i);return r.draft_=u,r.revoke_=o,u}var sC={get(e,t){if(t===gi)return e;const n=ud(e);if(!o_(n,t))return Vge(e,n,t);const r=n[t];return e.finalized_||!Ql(r)?r:r===oN(e.base_,t)?(lN(e),e.copy_[t]=f_(r,e)):r},has(e,t){return t in ud(e)},ownKeys(e){return Reflect.ownKeys(ud(e))},set(e,t,n){const r=qU(ud(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=oN(ud(e),t),i=s==null?void 0:s[gi];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Ige(n,s)&&(n!==void 0||o_(e.base_,t)))return!0;lN(e),d_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oN(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lN(e),d_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ud(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){co(11)},getPrototypeOf(e){return Fh(e.base_)},setPrototypeOf(){co(12)}},yp={};ry(sC,(e,t)=>{yp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yp.deleteProperty=function(e,t){return yp.set.call(this,e,t,void 0)};yp.set=function(e,t,n){return sC.set.call(this,e[0],t,n,e[0])};function oN(e,t){const n=e[gi];return(n?ud(n):e)[t]}function Vge(e,t,n){var s;const r=qU(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function qU(e,t){if(!(t in e))return;let n=Fh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fh(n)}}function d_(e){e.modified_||(e.modified_=!0,e.parent_&&d_(e.parent_))}function lN(e){e.copy_||(e.copy_=l_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $ge=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(m=i,...f){return o.produce(m,g=>n.call(this,g,...f))}}typeof n!="function"&&co(6),r!==void 0&&typeof r!="function"&&co(7);let s;if(Ql(t)){const i=Ok(this),o=f_(t,void 0);let u=!0;try{s=n(o),u=!1}finally{u?c_(i):u_(i)}return Tk(i,r),Mk(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===zU&&(s=void 0),this.autoFreeze_&&aC(s,!0),r){const i=[],o=[];Ld("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else co(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,m=>t(m,...u));let r,s;return[this.produce(t,n,(o,u)=>{r=o,s=u}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ql(e)||co(8),Id(e)&&(e=Bl(e));const t=Ok(this),n=f_(e,void 0);return n[gi].isManual_=!0,u_(t),n}finishDraft(e,t){const n=e&&e[gi];(!n||!n.isManual_)&&co(9);const{scope_:r}=n;return Tk(r,t),Mk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Ld("Patches").applyPatches_;return Id(e)?r(e,t):this.produce(e,s=>r(s,t))}};function f_(e,t){const n=v1(e)?Ld("MapSet").proxyMap_(e,t):y1(e)?Ld("MapSet").proxySet_(e,t):zge(e,t);return(t?t.scope_:HU()).drafts_.push(n),n}function Bl(e){return Id(e)||co(10,e),YU(e)}function YU(e){if(!Ql(e)||b1(e))return e;const t=e[gi];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=l_(e,t.scope_.immer_.useStrictShallowCopy_)}else n=l_(e,!0);return ry(n,(r,s)=>{$U(n,r,YU(s))}),t&&(t.finalized_=!1),n}var pi=new $ge,WU=pi.produce;pi.produceWithPatches.bind(pi);pi.setAutoFreeze.bind(pi);pi.setUseStrictShallowCopy.bind(pi);pi.applyPatches.bind(pi);pi.createDraft.bind(pi);pi.finishDraft.bind(pi);function GU(e){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,e):s(i)}var Hge=GU(),qge=GU,Yge=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ny:ny.apply(null,arguments)};function Ui(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(fi(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>UU(r)&&r.type===e,n}var KU=class zg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zg.prototype)}static get[Symbol.species](){return zg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zg(...t[0].concat(this)):new zg(...t.concat(this))}};function Pk(e){return Ql(e)?WU(e,()=>{}):e}function Zx(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Wge(e){return typeof e=="boolean"}var Gge=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new KU;return n&&(Wge(n)?o.push(Hge):o.push(qge(n.extraArgument))),o},Kge="RTK_autoBatch",Rk=e=>t=>{setTimeout(t,e)},Xge=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,i=!1,o=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Rk(10):e.type==="callback"?e.queueNotification:Rk(e.timeout),f=()=>{o=!1,i&&(i=!1,u.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const x=()=>s&&g(),j=r.subscribe(x);return u.add(g),()=>{j(),u.delete(g)}},dispatch(g){var x;try{return s=!((x=g==null?void 0:g.meta)!=null&&x[Kge]),i=!s,i&&(o||(o=!0,m(f))),r.dispatch(g)}finally{s=!0}}})},Qge=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new KU(e);return r&&s.push(Xge(typeof r=="object"?r:void 0)),s};function Zge(e){const t=Gge(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(rC(n))u=FU(n);else throw new Error(fi(1));let m;typeof r=="function"?m=r(t):m=t();let f=ny;s&&(f=Yge({trace:!1,...typeof s=="object"&&s}));const g=Rge(...m),x=Qge(g);let j=typeof o=="function"?o(x):x();const _=f(...j);return BU(u,i,_)}function XU(e){const t={},n=[];let r;const s={addCase(i,o){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(fi(28));if(u in t)throw new Error(fi(29));return t[u]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return e(s),[t,n,r]}function Jge(e){return typeof e=="function"}function epe(e,t){let[n,r,s]=XU(t),i;if(Jge(e))i=()=>Pk(e());else{const u=Pk(e);i=()=>u}function o(u=i(),m){let f=[n[m.type],...r.filter(({matcher:g})=>g(m)).map(({reducer:g})=>g)];return f.filter(g=>!!g).length===0&&(f=[s]),f.reduce((g,x)=>{if(x)if(Id(g)){const _=x(g,m);return _===void 0?g:_}else{if(Ql(g))return WU(g,j=>x(j,m));{const j=x(g,m);if(j===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return j}}return g},u)}return o.getInitialState=i,o}var tpe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",npe=(e=21)=>{let t="",n=e;for(;n--;)t+=tpe[Math.random()*64|0];return t},rpe=Symbol.for("rtk-slice-createasyncthunk");function ape(e,t){return`${e}/${t}`}function spe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[rpe];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(fi(11));const u=(typeof s.reducers=="function"?s.reducers(ope()):s.reducers)||{},m=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(U,k){const I=typeof U=="string"?U:U.type;if(!I)throw new Error(fi(12));if(I in f.sliceCaseReducersByType)throw new Error(fi(13));return f.sliceCaseReducersByType[I]=k,g},addMatcher(U,k){return f.sliceMatchers.push({matcher:U,reducer:k}),g},exposeAction(U,k){return f.actionCreators[U]=k,g},exposeCaseReducer(U,k){return f.sliceCaseReducersByName[U]=k,g}};m.forEach(U=>{const k=u[U],I={reducerName:U,type:ape(i,U),createNotation:typeof s.reducers=="function"};cpe(k)?dpe(I,k,g,t):lpe(I,k,g)});function x(){const[U={},k=[],I=void 0]=typeof s.extraReducers=="function"?XU(s.extraReducers):[s.extraReducers],F={...U,...f.sliceCaseReducersByType};return epe(s.initialState,V=>{for(let L in F)V.addCase(L,F[L]);for(let L of f.sliceMatchers)V.addMatcher(L.matcher,L.reducer);for(let L of k)V.addMatcher(L.matcher,L.reducer);I&&V.addDefaultCase(I)})}const j=U=>U,_=new Map,C=new WeakMap;let E;function A(U,k){return E||(E=x()),E(U,k)}function M(){return E||(E=x()),E.getInitialState()}function D(U,k=!1){function I(V){let L=V[U];return typeof L>"u"&&k&&(L=Zx(C,I,M)),L}function F(V=j){const L=Zx(_,k,()=>new WeakMap);return Zx(L,V,()=>{const $={};for(const[Y,q]of Object.entries(s.selectors??{}))$[Y]=ipe(q,V,()=>Zx(C,V,M),k);return $})}return{reducerPath:U,getSelectors:F,get selectors(){return F(I)},selectSlice:I}}const R={name:i,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:M,...D(o),injectInto(U,{reducerPath:k,...I}={}){const F=k??o;return U.inject({reducerPath:F,reducer:A},I),{...R,...D(F,!0)}}};return R}}function ipe(e,t,n,r){function s(i,...o){let u=t(i);return typeof u>"u"&&r&&(u=n()),e(u,...o)}return s.unwrapped=e,s}var qi=spe();function ope(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function lpe({type:e,reducerName:t,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!upe(r))throw new Error(fi(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ui(e,o):Ui(e))}function cpe(e){return e._reducerDefinitionType==="asyncThunk"}function upe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dpe({type:e,reducerName:t},n,r,s){if(!s)throw new Error(fi(18));const{payloadCreator:i,fulfilled:o,pending:u,rejected:m,settled:f,options:g}=n,x=s(e,i,g);r.exposeAction(t,x),o&&r.addCase(x.fulfilled,o),u&&r.addCase(x.pending,u),m&&r.addCase(x.rejected,m),f&&r.addMatcher(x.settled,f),r.exposeCaseReducer(t,{fulfilled:o||Jx,pending:u||Jx,rejected:m||Jx,settled:f||Jx})}function Jx(){}var fpe="task",QU="listener",ZU="completed",iC="cancelled",hpe=`task-${iC}`,mpe=`task-${ZU}`,h_=`${QU}-${iC}`,gpe=`${QU}-${ZU}`,w1=class{constructor(e){Kw(this,"name","TaskAbortError");Kw(this,"message");this.code=e,this.message=`${fpe} ${iC} (reason: ${e})`}},oC=(e,t)=>{if(typeof e!="function")throw new TypeError(fi(32))},iy=()=>{},JU=(e,t=iy)=>(e.catch(t),e),ez=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Sd=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},_d=e=>{if(e.aborted){const{reason:t}=e;throw new w1(t)}};function tz(e,t){let n=iy;return new Promise((r,s)=>{const i=()=>s(new w1(e.reason));if(e.aborted){i();return}n=ez(e,i),t.finally(()=>n()).then(r,s)}).finally(()=>{n=iy})}var ppe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof w1?"cancelled":"rejected",error:n}}finally{t==null||t()}},oy=e=>t=>JU(tz(e,t).then(n=>(_d(e),n))),nz=e=>{const t=oy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:jh}=Object,kk={},j1="listenerMiddleware",xpe=(e,t)=>{const n=r=>ez(e,()=>Sd(r,e.reason));return(r,s)=>{oC(r);const i=new AbortController;n(i);const o=ppe(async()=>{_d(e),_d(i.signal);const u=await r({pause:oy(i.signal),delay:nz(i.signal),signal:i.signal});return _d(i.signal),u},()=>Sd(i,mpe));return s!=null&&s.autoJoin&&t.push(o.catch(iy)),{result:oy(e)(o),cancel(){Sd(i,hpe)}}}},vpe=(e,t)=>{const n=async(r,s)=>{_d(t);let i=()=>{};const u=[new Promise((m,f)=>{let g=e({predicate:r,effect:(x,j)=>{j.unsubscribe(),m([x,j.getState(),j.getOriginalState()])}});i=()=>{g(),f()}})];s!=null&&u.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await tz(t,Promise.race(u));return _d(t),m}finally{i()}};return(r,s)=>JU(n(r,s))},rz=e=>{let{type:t,actionCreator:n,matcher:r,predicate:s,effect:i}=e;if(t)s=Ui(t).match;else if(n)t=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(fi(21));return oC(i),{predicate:s,type:t,effect:i}},az=jh(e=>{const{type:t,predicate:n,effect:r}=rz(e);return{id:npe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fi(22))}}},{withTypes:()=>az}),Ik=(e,t)=>{const{type:n,effect:r,predicate:s}=rz(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===s)&&i.effect===r)},m_=e=>{e.pending.forEach(t=>{Sd(t,h_)})},ype=e=>()=>{e.forEach(m_),e.clear()},Lk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},sz=jh(Ui(`${j1}/add`),{withTypes:()=>sz}),bpe=Ui(`${j1}/removeAll`),iz=jh(Ui(`${j1}/remove`),{withTypes:()=>iz}),wpe=(...e)=>{console.error(`${j1}/error`,...e)},n0=(e={})=>{const t=new Map,{extra:n,onError:r=wpe}=e;oC(r);const s=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x!=null&&x.cancelActive&&m_(g)}),i=g=>{const x=Ik(t,g)??az(g);return s(x)};jh(i,{withTypes:()=>i});const o=g=>{const x=Ik(t,g);return x&&(x.unsubscribe(),g.cancelActive&&m_(x)),!!x};jh(o,{withTypes:()=>o});const u=async(g,x,j,_)=>{const C=new AbortController,E=vpe(i,C.signal),A=[];try{g.pending.add(C),await Promise.resolve(g.effect(x,jh({},j,{getOriginalState:_,condition:(M,D)=>E(M,D).then(Boolean),take:E,delay:nz(C.signal),pause:oy(C.signal),extra:n,signal:C.signal,fork:xpe(C.signal,A),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,D,R)=>{M!==C&&(Sd(M,h_),R.delete(M))})},cancel:()=>{Sd(C,h_),g.pending.delete(C)},throwIfCancelled:()=>{_d(C.signal)}})))}catch(M){M instanceof w1||Lk(r,M,{raisedBy:"effect"})}finally{await Promise.all(A),Sd(C,gpe),g.pending.delete(C)}},m=ype(t);return{middleware:g=>x=>j=>{if(!UU(j))return x(j);if(sz.match(j))return i(j.payload);if(bpe.match(j)){m();return}if(iz.match(j))return o(j.payload);let _=g.getState();const C=()=>{if(_===kk)throw new Error(fi(23));return _};let E;try{if(E=x(j),t.size>0){const A=g.getState(),M=Array.from(t.values());for(const D of M){let R=!1;try{R=D.predicate(j,A,_)}catch(U){R=!1,Lk(r,U,{raisedBy:"predicate"})}R&&u(D,j,g,C)}}}finally{_=kk}return E},startListening:i,stopListening:o,clearListeners:m}};function fi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jpe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},oz=qi({name:"chartLayout",initialState:jpe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Npe,setLayout:Spe,setChartSize:_pe,setScale:Ape}=oz.actions,Epe=oz.reducer;function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(n),!0).forEach(function(r){Cpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cpe(e,t,n){return(t=Tpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tpe(e){var t=Ope(e,"string");return typeof t=="symbol"?t:t+""}function Ope(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ly=Math.PI/180,Mpe=e=>e*180/Math.PI,la=(e,t,n,r)=>({x:e+Math.cos(-ly*r)*n,y:t+Math.sin(-ly*r)*n}),lz=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Dpe=(e,t)=>{var{x:n,y:r}=e,{x:s,y:i}=t;return Math.sqrt((n-s)**2+(r-i)**2)},Ppe=(e,t)=>{var{x:n,y:r}=e,{cx:s,cy:i}=t,o=Dpe({x:n,y:r},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var u=(n-s)/o,m=Math.acos(u);return r>i&&(m=2*Math.PI-m),{radius:o,angle:Mpe(m),angleInRadian:m}},Rpe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),s=Math.floor(n/360),i=Math.min(r,s);return{startAngle:t-i*360,endAngle:n-i*360}},kpe=(e,t)=>{var{startAngle:n,endAngle:r}=t,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return e+o*360},Ipe=(e,t)=>{var{x:n,y:r}=e,{radius:s,angle:i}=Ppe({x:n,y:r},t),{innerRadius:o,outerRadius:u}=t;if(s<o||s>u||s===0)return null;var{startAngle:m,endAngle:f}=Rpe(t),g=i,x;if(m<=f){for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}else{for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}return x?Fk(Fk({},t),{},{radius:s,angle:kpe(g,t)}):null};function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(n),!0).forEach(function(r){Lpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lpe(e,t,n){return(t=Bpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bpe(e){var t=Fpe(e,"string");return typeof t=="symbol"?t:t+""}function Fpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kn(e,t,n){return Fn(e)||Fn(t)?n:el(t)?gu(e,t,n):typeof t=="function"?t(e):n}var Upe=(e,t,n,r,s)=>{var i,o=-1,u=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<u;m++){var f=m>0?n[m-1].coordinate:n[u-1].coordinate,g=n[m].coordinate,x=m>=u-1?n[0].coordinate:n[m+1].coordinate,j=void 0;if(Ra(g-f)!==Ra(x-g)){var _=[];if(Ra(x-g)===Ra(s[1]-s[0])){j=x;var C=g+s[1]-s[0];_[0]=Math.min(C,(C+f)/2),_[1]=Math.max(C,(C+f)/2)}else{j=f;var E=x+s[1]-s[0];_[0]=Math.min(g,(E+g)/2),_[1]=Math.max(g,(E+g)/2)}var A=[Math.min(g,(j+g)/2),Math.max(g,(j+g)/2)];if(e>A[0]&&e<=A[1]||e>=_[0]&&e<=_[1]){({index:o}=n[m]);break}}else{var M=Math.min(f,x),D=Math.max(f,x);if(e>(M+g)/2&&e<=(D+g)/2){({index:o}=n[m]);break}}}else if(t){for(var R=0;R<u;R++)if(R===0&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R>0&&R<u-1&&e>(t[R].coordinate+t[R-1].coordinate)/2&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R===u-1&&e>(t[R].coordinate+t[R-1].coordinate)/2){({index:o}=t[R]);break}}return o},zpe=(e,t,n)=>{if(t&&n){var{width:r,height:s}=n,{align:i,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&i!=="center"&&lt(e[i]))return Ri(Ri({},e),{},{[i]:e[i]+(r||0)});if((u==="horizontal"||u==="vertical"&&i==="center")&&o!=="middle"&&lt(e[o]))return Ri(Ri({},e),{},{[o]:e[o]+(s||0)})}return e},ol=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",cz=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var s,i,o=e.map(u=>(u.coordinate===t&&(s=!0),u.coordinate===n&&(i=!0),u.coordinate));return s||o.push(t),i||o.push(n),o},uz=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:i,scale:o,realScaleType:u,isCategorical:m,categoricalDomain:f,tickCount:g,ticks:x,niceTicks:j,axisType:_}=e;if(!o)return null;var C=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,E=s==="category"&&o.bandwidth?o.bandwidth()/C:0;if(E=_==="angleAxis"&&i&&i.length>=2?Ra(i[0]-i[1])*2*E:E,x||j){var A=(x||j||[]).map((M,D)=>{var R=r?r.indexOf(M):M;return{coordinate:o(R)+E,value:M,offset:E,index:D}});return A.filter(M=>!$s(M.coordinate))}return m&&f?f.map((M,D)=>({coordinate:o(M)+E,value:M,index:D,offset:E})):o.ticks&&g!=null?o.ticks(g).map((M,D)=>({coordinate:o(M)+E,value:M,offset:E,index:D})):o.domain().map((M,D)=>({coordinate:o(M)+E,value:r?r[M]:M,index:D,offset:E}))},zk=1e-4,Vpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),s=Math.min(r[0],r[1])-zk,i=Math.max(r[0],r[1])+zk,o=e(t[0]),u=e(t[n-1]);(o<s||o>i||u<s||u>i)&&e.domain([t[0],t[n-1]])}},$pe=(e,t)=>{if(!t||t.length!==2||!lt(t[0])||!lt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!lt(e[0])||e[0]<n)&&(s[0]=n),(!lt(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},Hpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,i=0,o=0;o<t;++o){var u=$s(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1])}},qpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,i=0;i<t;++i){var o=$s(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=s,e[i][n][1]=s+o,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},Ype={sign:Hpe,expand:Sme,none:Bh,silhouette:_me,wiggle:Ame,positive:qpe},Wpe=(e,t,n)=>{var r=Ype[n],s=Nme().keys(t).value((i,o)=>+Kn(i,o,0)).order(a_).offset(r);return s(e)};function lC(e){return e==null?void 0:String(e)}function cy(e){var{axis:t,ticks:n,bandSize:r,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fn(s[t.dataKey])){var u=iU(n,"value",s[t.dataKey]);if(u)return u.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var m=Kn(s,Fn(o)?t.dataKey:o);return Fn(m)?null:t.scale(m)}var Vk=e=>{var{axis:t,ticks:n,offset:r,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var u=Kn(i,t.dataKey,t.scale.domain()[o]);return Fn(u)?null:t.scale(u)-s/2+r},Gpe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},Kpe=e=>{var t=e.flat(2).filter(lt);return[Math.min(...t),Math.max(...t)]},Xpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Qpe=(e,t,n)=>{if(e!=null)return Xpe(Object.keys(e).reduce((r,s)=>{var i=e[s],{stackedData:o}=i,u=o.reduce((m,f)=>{var g=Kpe(f.slice(t,n+1));return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},$k=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var s=p1(t,g=>g.coordinate),i=1/0,o=1,u=s.length;o<u;o++){var m=s[o],f=s[o-1];i=Math.min((m.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function qk(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:s,name:i}=e;return Ri(Ri({},t),{},{dataKey:n,payload:r,value:s,name:i})}function _u(e,t){if(e)return String(e);if(typeof t=="string")return t}function Zpe(e,t,n,r,s){if(n==="horizontal"||n==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return r?Ipe({x:e,y:t},r):null}var Jpe=(e,t,n,r)=>{var s=t.find(f=>f&&f.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=r;return Ri(Ri(Ri({},r),la(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var u=s.coordinate,{angle:m}=r;return Ri(Ri(Ri({},r),la(r.cx,r.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},e0e=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,nc=e=>e.layout.width,rc=e=>e.layout.height,t0e=e=>e.layout.scale,dz=e=>e.layout.margin,cC=Ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),uC=Ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fz="data-recharts-item-index",hz="data-recharts-item-data-key",N1=60;function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(r){n0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n0e(e,t,n){return(t=r0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r0e(e){var t=a0e(e,"string");return typeof t=="symbol"?t:t+""}function a0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0e=e=>e.brush.height,Na=Ue([nc,rc,dz,s0e,cC,uC,IU,Ege],(e,t,n,r,s,i,o,u)=>{var m=i.reduce((C,E)=>{var{orientation:A}=E;if(!E.mirror&&!E.hide){var M=typeof E.width=="number"?E.width:N1;return qc(qc({},C),{},{[A]:C[A]+M})}return C},{left:n.left||0,right:n.right||0}),f=s.reduce((C,E)=>{var{orientation:A}=E;return!E.mirror&&!E.hide?qc(qc({},C),{},{[A]:gu(C,"".concat(A))+E.height}):C},{top:n.top||0,bottom:n.bottom||0}),g=qc(qc({},f),m),x=g.bottom;g.bottom+=r,g=zpe(g,o,u);var j=e-g.left-g.right,_=t-g.top-g.bottom;return qc(qc({brushBottom:x},g),{},{width:Math.max(j,0),height:Math.max(_,0)})}),i0e=Ue(Na,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mz=Ue(nc,rc,(e,t)=>({x:0,y:0,width:e,height:t})),o0e=w.createContext(null),ps=()=>w.useContext(o0e)!=null,S1=e=>e.brush,_1=Ue([S1,Na,dz],(e,t,n)=>({height:e.height,x:lt(e.x)?e.x:t.left,y:lt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:lt(e.width)?e.width:t.width})),dC=()=>{var e,t=ps(),n=bt(i0e),r=bt(_1),s=(e=bt(S1))===null||e===void 0?void 0:e.padding;return!t||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},l0e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},gz=()=>{var e;return(e=bt(Na))!==null&&e!==void 0?e:l0e},fC=()=>bt(nc),hC=()=>bt(rc),c0e={top:0,right:0,bottom:0,left:0},u0e=()=>{var e;return(e=bt(t=>t.layout.margin))!==null&&e!==void 0?e:c0e},pn=e=>e.layout.layoutType,r0=()=>bt(pn),d0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},pz=qi({name:"legend",initialState:d0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Bl(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Wk,setLegendSettings:f0e,addLegendPayload:xz,removeLegendPayload:vz}=pz.actions,h0e=pz.reducer,m0e=["contextPayload"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g_.apply(null,arguments)}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(r){mC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mC(e,t,n){return(t=g0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g0e(e){var t=p0e(e,"string");return typeof t=="symbol"?t:t+""}function p0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x0e(e,t){if(e==null)return{};var n,r,s=v0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function v0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function y0e(e){return e.value}function b0e(e){var{contextPayload:t}=e,n=x0e(e,m0e),r=DU(t,e.payloadUniqBy,y0e),s=Uh(Uh({},n),{},{payload:r});return w.isValidElement(e.content)?w.cloneElement(e.content,s):typeof e.content=="function"?w.createElement(e.content,s):w.createElement(XE,s)}function w0e(e,t,n,r,s,i){var{layout:o,align:u,verticalAlign:m}=t,f,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?f={left:((r||0)-i.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?g={top:((s||0)-i.height)/2}:g=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Uh(Uh({},f),g)}function j0e(e){var t=br();return w.useEffect(()=>{t(f0e(e))},[t,e]),null}function N0e(e){var t=br();return w.useEffect(()=>(t(Wk(e)),()=>{t(Wk({width:0,height:0}))}),[t,e]),null}function S0e(e){var t=Oge(),n=Whe(),r=u0e(),{width:s,height:i,wrapperStyle:o,portal:u}=e,[m,f]=LU([t]),g=fC(),x=hC(),j=g-(r.left||0)-(r.right||0),_=Pa.getWidthOrHeight(e.layout,i,s,j),C=u?o:Uh(Uh({position:"absolute",width:(_==null?void 0:_.width)||s||"auto",height:(_==null?void 0:_.height)||i||"auto"},w0e(o,e,r,g,x,m)),o),E=u??n;if(E==null)return null;var A=w.createElement("div",{className:"recharts-legend-wrapper",style:C,ref:f},w.createElement(j0e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(N0e,{width:m.width,height:m.height}),w.createElement(b0e,g_({},e,_,{margin:r,chartWidth:g,chartHeight:x,contextPayload:t})));return $d.createPortal(A,E)}class Pa extends w.PureComponent{static getWidthOrHeight(t,n,r,s){return t==="vertical"&&lt(n)?{height:n}:t==="horizontal"?{width:r||s}:null}render(){return w.createElement(S0e,this.props)}}mC(Pa,"displayName","Legend");mC(Pa,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p_.apply(null,arguments)}function Kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(n),!0).forEach(function(r){_0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _0e(e,t,n){return(t=A0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A0e(e){var t=E0e(e,"string");return typeof t=="symbol"?t:t+""}function E0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C0e(e){return Array.isArray(e)&&el(e[0])&&el(e[1])?e.join(" ~ "):e}var T0e=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:i,formatter:o,itemSorter:u,wrapperClassName:m,labelClassName:f,label:g,labelFormatter:x,accessibilityLayer:j=!1}=e,_=()=>{if(i&&i.length){var k={padding:0,margin:0},I=(u?p1(i,u):i).map((F,V)=>{if(F.type==="none")return null;var L=F.formatter||o||C0e,{value:$,name:Y}=F,q=$,X=Y;if(L){var Q=L($,Y,F,V,i);if(Array.isArray(Q))[q,X]=Q;else if(Q!=null)q=Q;else return null}var G=cN({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:G},el(X)?w.createElement("span",{className:"recharts-tooltip-item-name"},X):null,el(X)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},q),w.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:k},I)}return null},C=cN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=cN({margin:0},s),A=!Fn(g),M=A?g:"",D=ln("recharts-default-tooltip",m),R=ln("recharts-tooltip-label",f);A&&x&&i!==void 0&&i!==null&&(M=x(g,i));var U=j?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",p_({className:D,style:C},U),w.createElement("p",{className:R,style:E},w.isValidElement(M)?M:"".concat(M)),_())},_g="recharts-tooltip-wrapper",O0e={visibility:"hidden"};function M0e(e){var{coordinate:t,translateX:n,translateY:r}=e;return ln(_g,{["".concat(_g,"-right")]:lt(n)&&t&&lt(t.x)&&n>=t.x,["".concat(_g,"-left")]:lt(n)&&t&&lt(t.x)&&n<t.x,["".concat(_g,"-bottom")]:lt(r)&&t&&lt(t.y)&&r>=t.y,["".concat(_g,"-top")]:lt(r)&&t&&lt(t.y)&&r<t.y})}function Xk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:u,viewBox:m,viewBoxDimension:f}=e;if(i&&lt(i[r]))return i[r];var g=n[r]-u-(s>0?s:0),x=n[r]+s;if(t[r])return o[r]?g:x;var j=m[r];if(j==null)return 0;if(o[r]){var _=g,C=j;return _<C?Math.max(x,j):Math.max(g,j)}if(f==null)return 0;var E=x+u,A=j+f;return E>A?Math.max(g,j):Math.max(x,j)}function D0e(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function P0e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:u,viewBox:m}=e,f,g,x;return o.height>0&&o.width>0&&n?(g=Xk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:m,viewBoxDimension:m.width}),x=Xk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:m,viewBoxDimension:m.height}),f=D0e({translateX:g,translateY:x,useTranslate3d:u})):f=O0e,{cssProperties:f,cssClasses:M0e({translateX:g,translateY:x,coordinate:n})}}function Qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(n),!0).forEach(function(r){x_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x_(e,t,n){return(t=R0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R0e(e){var t=k0e(e,"string");return typeof t=="symbol"?t:t+""}function k0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class I0e extends w.PureComponent{constructor(){super(...arguments),x_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),x_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:i,coordinate:o,hasPayload:u,isAnimationActive:m,offset:f,position:g,reverseDirection:x,useTranslate3d:j,viewBox:_,wrapperStyle:C,lastBoundingBox:E,innerRef:A,hasPortalFromProps:M}=this.props,{cssClasses:D,cssProperties:R}=P0e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:g,reverseDirection:x,tooltipBox:{height:E.height,width:E.width},useTranslate3d:j,viewBox:_}),U=M?{}:ev(ev({transition:m&&t?"transform ".concat(r,"ms ").concat(s):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=ev(ev({},U),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},C);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:k,ref:A},i)}}var L0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Au={isSsr:L0e()},yz=()=>bt(e=>e.rootProps.accessibilityLayer);function Ya(e){return Number.isFinite(e)}function zh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(null,arguments)}function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Jk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(r){B0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B0e(e,t,n){return(t=F0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F0e(e){var t=U0e(e,"string");return typeof t=="symbol"?t:t+""}function U0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eI={curveBasisClosed:fme,curveBasisOpen:hme,curveBasis:dme,curveBumpX:Qhe,curveBumpY:Zhe,curveLinearClosed:mme,curveLinear:m1,curveMonotoneX:gme,curveMonotoneY:pme,curveNatural:xme,curveStep:vme,curveStepAfter:bme,curveStepBefore:yme},tv=e=>Ya(e.x)&&Ya(e.y),Ag=e=>e.x,Eg=e=>e.y,z0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Jp(e));return(n==="curveMonotone"||n==="curveBump")&&t?eI["".concat(n).concat(t==="vertical"?"Y":"X")]:eI[n]||m1},V0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:s,connectNulls:i=!1}=e,o=z0e(t,s),u=i?n.filter(tv):n,m;if(Array.isArray(r)){var f=i?r.filter(x=>tv(x)):r,g=u.map((x,j)=>Jk(Jk({},x),{},{base:f[j]}));return s==="vertical"?m=Kx().y(Eg).x1(Ag).x0(x=>x.base.x):m=Kx().x(Ag).y1(Eg).y0(x=>x.base.y),m.defined(tv).curve(o),m(g)}return s==="vertical"&&lt(r)?m=Kx().y(Eg).x1(Ag).x0(r):lt(r)?m=Kx().x(Ag).y1(Eg).y0(r):m=mU().x(Ag).y(Eg),m.defined(tv).curve(o),m(u)},Nh=e=>{var{className:t,points:n,path:r,pathRef:s}=e;if((!n||!n.length)&&!r)return null;var i=n&&n.length?V0e(e):r;return w.createElement("path",v_({},Gt(e,!1),$E(e),{className:ln("recharts-curve",t),d:i===null?void 0:i,ref:s}))},$0e=["x","y","top","left","width","height","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(null,arguments)}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function H0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){q0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q0e(e,t,n){return(t=Y0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y0e(e){var t=W0e(e,"string");return typeof t=="symbol"?t:t+""}function W0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G0e(e,t){if(e==null)return{};var n,r,s=K0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function K0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var X0e=(e,t,n,r,s,i)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),Q0e=e=>{var{x:t=0,y:n=0,top:r=0,left:s=0,width:i=0,height:o=0,className:u}=e,m=G0e(e,$0e),f=H0e({x:t,y:n,top:r,left:s,width:i,height:o},m);return!lt(t)||!lt(n)||!lt(i)||!lt(o)||!lt(r)||!lt(s)?null:w.createElement("path",y_({},Gt(f,!0),{className:ln("recharts-cross",u),d:X0e(t,n,i,o,r,s)}))};function Z0e(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function J0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){exe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function exe(e,t,n){return(t=txe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function txe(e){var t=nxe(e,"string");return typeof t=="symbol"?t:t+""}function nxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vi(e,t){var n=J0e({},e),r=t,s=Object.keys(t),i=s.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return i}var uN={},dN={},fN={},rI;function rxe(){return rI||(rI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(fN)),fN}var aI;function axe(){return aI||(aI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rxe(),n=TU(),r=eC(),s=tC(),i=ZE();function o(f,g,x){return u(f,g,void 0,void 0,void 0,void 0,x)}function u(f,g,x,j,_,C,E){const A=E(f,g,x,j,_,C);if(A!==void 0)return A;if(typeof f==typeof g)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===g;case"number":return f===g||Object.is(f,g);case"function":return f===g;case"object":return m(f,g,C,E)}return m(f,g,C,E)}function m(f,g,x,j){if(Object.is(f,g))return!0;let _=r.getTag(f),C=r.getTag(g);if(_===s.argumentsTag&&(_=s.objectTag),C===s.argumentsTag&&(C=s.objectTag),_!==C)return!1;switch(_){case s.stringTag:return f.toString()===g.toString();case s.numberTag:{const M=f.valueOf(),D=g.valueOf();return i.eq(M,D)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(f.valueOf(),g.valueOf());case s.regexpTag:return f.source===g.source&&f.flags===g.flags;case s.functionTag:return f===g}x=x??new Map;const E=x.get(f),A=x.get(g);if(E!=null&&A!=null)return E===g;x.set(f,g),x.set(g,f);try{switch(_){case s.mapTag:{if(f.size!==g.size)return!1;for(const[M,D]of f.entries())if(!g.has(M)||!u(D,g.get(M),M,f,g,x,j))return!1;return!0}case s.setTag:{if(f.size!==g.size)return!1;const M=Array.from(f.values()),D=Array.from(g.values());for(let R=0;R<M.length;R++){const U=M[R],k=D.findIndex(I=>u(U,I,void 0,f,g,x,j));if(k===-1)return!1;D.splice(k,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(g)||f.length!==g.length)return!1;for(let M=0;M<f.length;M++)if(!u(f[M],g[M],M,f,g,x,j))return!1;return!0}case s.arrayBufferTag:return f.byteLength!==g.byteLength?!1:m(new Uint8Array(f),new Uint8Array(g),x,j);case s.dataViewTag:return f.byteLength!==g.byteLength||f.byteOffset!==g.byteOffset?!1:m(new Uint8Array(f),new Uint8Array(g),x,j);case s.errorTag:return f.name===g.name&&f.message===g.message;case s.objectTag:{if(!(m(f.constructor,g.constructor,x,j)||t.isPlainObject(f)&&t.isPlainObject(g)))return!1;const D=[...Object.keys(f),...n.getSymbols(f)],R=[...Object.keys(g),...n.getSymbols(g)];if(D.length!==R.length)return!1;for(let U=0;U<D.length;U++){const k=D[U],I=f[k];if(!Object.hasOwn(g,k))return!1;const F=g[k];if(!u(I,F,k,f,g,x,j))return!1}return!0}default:return!1}}finally{x.delete(f),x.delete(g)}}e.isEqualWith=o}(dN)),dN}var hN={},sI;function sxe(){return sI||(sI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(hN)),hN}var iI;function ixe(){return iI||(iI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=axe(),n=sxe();function r(s,i){return t.isEqualWith(s,i,n.noop)}e.isEqual=r}(uN)),uN}var mN,oI;function oxe(){return oI||(oI=1,mN=ixe().isEqual),mN}var lxe=oxe();const cxe=Cs(lxe);function uxe(e){var t={},n=()=>null,r=!1,s=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[m,...f]=u;if(typeof m=="number"){s=e.setTimeout(i.bind(null,f),m);return}i(m),s=e.setTimeout(i.bind(null,f));return}typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,s&&(s(),s=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}var uy=1e-4,bz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],wz=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),lI=(e,t)=>n=>{var r=bz(e,t);return wz(r,n)},dxe=(e,t)=>n=>{var r=bz(e,t),s=[...r.map((i,o)=>i*o).slice(1),0];return wz(s,n)},cI=function(){for(var t,n,r,s,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[t,r,n,s]=[0,0,1,1];break;case"ease":[t,r,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,s]=[.42,0,1,1];break;case"ease-out":[t,r,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,s]=[0,0,.58,1];break;default:{var m=o[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,n,s]=m[1].split(")")[0].split(",").map(C=>parseFloat(C)))}}else o.length===4&&([t,r,n,s]=o);var f=lI(t,n),g=lI(r,s),x=dxe(t,n),j=C=>C>1?1:C<0?0:C,_=C=>{for(var E=C>1?1:C,A=E,M=0;M<8;++M){var D=f(A)-E,R=x(A);if(Math.abs(D-E)<uy||R<uy)return g(A);A=j(A-D/R)}return g(A)};return _.isStepper=!1,_},fxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=t,i=(o,u,m)=>{var f=-(o-u)*n,g=m*r,x=m+(f-g)*s/1e3,j=m*s/1e3+o;return Math.abs(j-u)<uy&&Math.abs(x)<uy?[u,0]:[j,x]};return i.isStepper=!0,i.dt=s,i},hxe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cI(e);case"spring":return fxe();default:if(e.split("(")[0]==="cubic-bezier")return cI(e)}return typeof e=="function"?e:null};function uI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(n),!0).forEach(function(r){mxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mxe(e,t,n){return(t=gxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gxe(e){var t=pxe(e,"string");return typeof t=="symbol"?t:t+""}function pxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xxe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),vxe=(e,t,n)=>e.map(r=>"".concat(xxe(r)," ").concat(t,"ms ").concat(n)).join(","),yxe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(s=>r.includes(s))),bp=(e,t)=>Object.keys(t).reduce((n,r)=>dI(dI({},n),{},{[r]:e(r,t[r])}),{});function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){bxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bxe(e,t,n){return(t=wxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wxe(e){var t=jxe(e,"string");return typeof t=="symbol"?t:t+""}function jxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=(e,t,n)=>e+(t-e)*n,b_=e=>{var{from:t,to:n}=e;return t!==n},jz=(e,t,n)=>{var r=bp((s,i)=>{if(b_(i)){var[o,u]=e(i.from,i.to,i.velocity);return qa(qa({},i),{},{from:o,velocity:u})}return i},t);return n<1?bp((s,i)=>b_(i)?qa(qa({},i),{},{velocity:dy(i.velocity,r[s].velocity,n),from:dy(i.from,r[s].from,n)}):i,t):jz(e,r,n-1)};function Nxe(e,t,n,r,s,i){var o,u=r.reduce((j,_)=>qa(qa({},j),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),m=()=>bp((j,_)=>_.from,u),f=()=>!Object.values(u).filter(b_).length,g=null,x=j=>{o||(o=j);var _=j-o,C=_/n.dt;u=jz(n,u,C),s(qa(qa(qa({},e),t),m())),o=j,f()||(g=i.setTimeout(x))};return()=>(g=i.setTimeout(x),()=>{g()})}function Sxe(e,t,n,r,s,i,o){var u=null,m=s.reduce((x,j)=>qa(qa({},x),{},{[j]:[e[j],t[j]]}),{}),f,g=x=>{f||(f=x);var j=(x-f)/r,_=bp((E,A)=>dy(...A,n(j)),m);if(i(qa(qa(qa({},e),t),_)),j<1)u=o.setTimeout(g);else{var C=bp((E,A)=>dy(...A,n(1)),m);i(qa(qa(qa({},e),t),C))}};return()=>(u=o.setTimeout(g),()=>{u()})}const _xe=(e,t,n,r,s,i)=>{var o=yxe(e,t);return n.isStepper===!0?Nxe(e,t,n,o,s,i):Sxe(e,t,n,r,o,s,i)};class Axe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}var Exe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w_.apply(null,arguments)}function Cxe(e,t){if(e==null)return{};var n,r,s=Txe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Txe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){xd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xd(e,t,n){return(t=Oxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oxe(e){var t=Mxe(e,"string");return typeof t=="symbol"?t:t+""}function Mxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dxe(){return uxe(new Axe)}class gC extends w.PureComponent{constructor(t,n){super(t,n),xd(this,"mounted",!1),xd(this,"manager",null),xd(this,"stopJSAnimation",null),xd(this,"unSubscribe",null);var{isActive:r,attributeName:s,from:i,to:o,children:u,duration:m,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||m<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:o});return}if(i){if(typeof u=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:s,shouldReAnimate:i,to:o,from:u}=this.props,{style:m}=this.state;if(r){if(!n){var f={style:s?{[s]:o}:o};this.state&&m&&(s&&m[s]!==o||!s&&m!==o)&&this.setState(f);return}if(!(cxe(t.to,o)&&t.canBegin&&t.isActive)){var g=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||i?u:t.to;if(this.state&&m){var j={style:s?{[s]:x}:x};(s&&m[s]!==x||!s&&m!==x)&&this.setState(j)}this.runAnimation(Yc(Yc({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:s,easing:i,begin:o,onAnimationEnd:u,onAnimationStart:m}=t,f=_xe(n,r,hxe(i),s,this.changeStyle,this.manager.getTimeoutController()),g=()=>{this.stopJSAnimation=f()};this.manager.start([m,o,g,s,u])}runAnimation(t){var{begin:n,duration:r,attributeName:s,to:i,easing:o,onAnimationStart:u,onAnimationEnd:m,children:f}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof f=="function"||o==="spring"){this.runJSAnimation(t);return}var g=s?{[s]:i}:i,x=vxe(Object.keys(g),r,o);this.manager.start([u,n,Yc(Yc({},g),{},{transition:x}),r,m])}render(){var t=this.props,{children:n,begin:r,duration:s,attributeName:i,easing:o,isActive:u,from:m,to:f,canBegin:g,onAnimationEnd:x,shouldReAnimate:j,onAnimationReStart:_,animationManager:C}=t,E=Cxe(t,Exe),A=w.Children.count(n),M=this.state.style;if(typeof n=="function")return n(M);if(!u||A===0||s<=0)return n;var D=R=>{var{style:U={},className:k}=R.props,I=w.cloneElement(R,Yc(Yc({},E),{},{style:Yc(Yc({},U),M),className:k}));return I};return A===1?D(w.Children.only(n)):w.createElement("div",null,w.Children.map(n,R=>D(R)))}}xd(gC,"displayName","Animate");xd(gC,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Pxe=w.createContext(null);function Zl(e){var t,n,r=w.useContext(Pxe);return w.createElement(gC,w_({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:r)!==null&&t!==void 0?t:Dxe()}))}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(null,arguments)}var mI=(e,t,n,r,s)=>{var i=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,f;if(i>0&&s instanceof Array){for(var g=[0,0,0,0],x=0,j=4;x<j;x++)g[x]=s[x]>i?i:s[x];f="M".concat(e,",").concat(t+o*g[0]),g[0]>0&&(f+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(m,",").concat(e+u*g[0],",").concat(t)),f+="L ".concat(e+n-u*g[1],",").concat(t),g[1]>0&&(f+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+o*g[1])),f+="L ".concat(e+n,",").concat(t+r-o*g[2]),g[2]>0&&(f+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(m,`,
        `).concat(e+n-u*g[2],",").concat(t+r)),f+="L ".concat(e+u*g[3],",").concat(t+r),g[3]>0&&(f+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-o*g[3])),f+="Z"}else if(i>0&&s===+s&&s>0){var _=Math.min(i,s);f="M ".concat(e,",").concat(t+o*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+n-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+n,",").concat(t+o*_,`
            L `).concat(e+n,",").concat(t+r-o*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+n-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e,",").concat(t+r-o*_," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Rxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nz=e=>{var t=vi(e,Rxe),n=w.useRef(null),[r,s]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&s(M)}catch{}},[]);var{x:i,y:o,width:u,height:m,radius:f,className:g}=t,{animationEasing:x,animationDuration:j,animationBegin:_,isAnimationActive:C,isUpdateAnimationActive:E}=t;if(i!==+i||o!==+o||u!==+u||m!==+m||u===0||m===0)return null;var A=ln("recharts-rectangle",g);return E?w.createElement(Zl,{canBegin:r>0,from:{width:u,height:m,x:i,y:o},to:{width:u,height:m,x:i,y:o},duration:j,animationEasing:x,isActive:E},M=>{var{width:D,height:R,x:U,y:k}=M;return w.createElement(Zl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:j,isActive:C,easing:x},w.createElement("path",fy({},Gt(t,!0),{className:A,d:mI(U,k,D,R,f),ref:n})))}):w.createElement("path",fy({},Gt(t,!0),{className:A,d:mI(i,o,u,m,f)}))};function Sz(e){var{cx:t,cy:n,radius:r,startAngle:s,endAngle:i}=e,o=la(t,n,r,s),u=la(t,n,r,i);return{points:[o,u],cx:t,cy:n,radius:r,startAngle:s,endAngle:i}}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(null,arguments)}var kxe=(e,t)=>{var n=Ra(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},nv=e=>{var{cx:t,cy:n,radius:r,angle:s,sign:i,isExternal:o,cornerRadius:u,cornerIsExternal:m}=e,f=u*(o?1:-1)+r,g=Math.asin(u/f)/ly,x=m?s:s+i*g,j=la(t,n,f,x),_=la(t,n,r,x),C=m?s-i*g:s,E=la(t,n,f*Math.cos(g*ly),C);return{center:j,circleTangency:_,lineTangency:E,theta:g}},_z=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:i,endAngle:o}=e,u=kxe(i,o),m=i+u,f=la(t,n,s,i),g=la(t,n,s,m),x="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(i>m),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var j=la(t,n,r,i),_=la(t,n,r,m);x+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(i<=m),`,
            `).concat(j.x,",").concat(j.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},Ixe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:u,startAngle:m,endAngle:f}=e,g=Ra(f-m),{circleTangency:x,lineTangency:j,theta:_}=nv({cx:t,cy:n,radius:s,angle:m,sign:g,cornerRadius:i,cornerIsExternal:u}),{circleTangency:C,lineTangency:E,theta:A}=nv({cx:t,cy:n,radius:s,angle:f,sign:-g,cornerRadius:i,cornerIsExternal:u}),M=u?Math.abs(m-f):Math.abs(m-f)-_-A;if(M<0)return o?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):_z({cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:m,endAngle:f});var D="M ".concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:U,theta:k}=nv({cx:t,cy:n,radius:r,angle:m,sign:g,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),{circleTangency:I,lineTangency:F,theta:V}=nv({cx:t,cy:n,radius:r,angle:f,sign:-g,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),L=u?Math.abs(m-f):Math.abs(m-f)-k-V;if(L<0&&i===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+="L".concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(g>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(U.x,",").concat(U.y,"Z")}else D+="L".concat(t,",").concat(n,"Z");return D},Lxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Az=e=>{var t=vi(e,Lxe),{cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:g,className:x}=t;if(i<s||f===g)return null;var j=ln("recharts-sector",x),_=i-s,C=As(o,_,0,!0),E;return C>0&&Math.abs(f-g)<360?E=Ixe({cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:Math.min(C,_/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:g}):E=_z({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:f,endAngle:g}),w.createElement("path",j_({},Gt(t,!0),{className:j,d:E}))};function Bxe(e,t,n){var r,s,i,o;if(e==="horizontal")r=t.x,i=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:f,outerRadius:g,angle:x}=t,j=la(u,m,f,x),_=la(u,m,g,x);r=j.x,s=j.y,i=_.x,o=_.y}else return Sz(t);return[{x:r,y:s},{x:i,y:o}]}var gN={},pN={},xN={},gI;function Fxe(){return gI||(gI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RU();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(xN)),xN}var pI;function Uxe(){return pI||(pI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fxe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(pN)),pN}var xI;function zxe(){return xI||(xI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kU(),n=Uxe();function r(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=n.toFinite(s),i===void 0?(i=s,s=0):i=n.toFinite(i),o=o===void 0?s<i?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((i-s)/(o||1)),0),m=new Array(u);for(let f=0;f<u;f++)m[f]=s,s+=o;return m}e.range=r}(gN)),gN}var vN,vI;function Vxe(){return vI||(vI=1,vN=zxe().range),vN}var $xe=Vxe();const Ez=Cs($xe);function nu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hxe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pC(e){let t,n,r;e.length!==2?(t=nu,n=(u,m)=>nu(e(u),m),r=(u,m)=>e(u)-m):(t=e===nu||e===Hxe?e:qxe,n=e,r=e);function s(u,m,f=0,g=u.length){if(f<g){if(t(m,m)!==0)return g;do{const x=f+g>>>1;n(u[x],m)<0?f=x+1:g=x}while(f<g)}return f}function i(u,m,f=0,g=u.length){if(f<g){if(t(m,m)!==0)return g;do{const x=f+g>>>1;n(u[x],m)<=0?f=x+1:g=x}while(f<g)}return f}function o(u,m,f=0,g=u.length){const x=s(u,m,f,g-1);return x>f&&r(u[x-1],m)>-r(u[x],m)?x-1:x}return{left:s,center:o,right:i}}function qxe(){return 0}function Cz(e){return e===null?NaN:+e}function*Yxe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Wxe=pC(nu),a0=Wxe.right;pC(Cz).center;class yI extends Map{constructor(t,n=Xxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(bI(this,t))}has(t){return super.has(bI(this,t))}set(t,n){return super.set(Gxe(this,t),n)}delete(t){return super.delete(Kxe(this,t))}}function bI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Gxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Kxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Xxe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Qxe(e=nu){if(e===nu)return Tz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Tz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Zxe=Math.sqrt(50),Jxe=Math.sqrt(10),eve=Math.sqrt(2);function hy(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=Zxe?10:i>=Jxe?5:i>=eve?2:1;let u,m,f;return s<0?(f=Math.pow(10,-s)/o,u=Math.round(e*f),m=Math.round(t*f),u/f<e&&++u,m/f>t&&--m,f=-f):(f=Math.pow(10,s)*o,u=Math.round(e/f),m=Math.round(t/f),u*f<e&&++u,m*f>t&&--m),m<u&&.5<=n&&n<2?hy(e,t,n*2):[u,m,f]}function N_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,o]=r?hy(t,e,n):hy(e,t,n);if(!(i>=s))return[];const u=i-s+1,m=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)m[f]=(i-f)/-o;else for(let f=0;f<u;++f)m[f]=(i-f)*o;else if(o<0)for(let f=0;f<u;++f)m[f]=(s+f)/-o;else for(let f=0;f<u;++f)m[f]=(s+f)*o;return m}function S_(e,t,n){return t=+t,e=+e,n=+n,hy(e,t,n)[2]}function __(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?S_(t,e,n):S_(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function wI(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jI(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Oz(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?Tz:Qxe(s);r>n;){if(r-n>600){const m=r-n+1,f=t-n+1,g=Math.log(m),x=.5*Math.exp(2*g/3),j=.5*Math.sqrt(g*x*(m-x)/m)*(f-m/2<0?-1:1),_=Math.max(n,Math.floor(t-f*x/m+j)),C=Math.min(r,Math.floor(t+(m-f)*x/m+j));Oz(e,t,_,C,s)}const i=e[t];let o=n,u=r;for(Cg(e,n,t),s(e[r],i)>0&&Cg(e,n,r);o<u;){for(Cg(e,o,u),++o,--u;s(e[o],i)<0;)++o;for(;s(e[u],i)>0;)--u}s(e[n],i)===0?Cg(e,n,u):(++u,Cg(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Cg(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function tve(e,t,n){if(e=Float64Array.from(Yxe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return jI(e);if(t>=1)return wI(e);var r,s=(r-1)*t,i=Math.floor(s),o=wI(Oz(e,i).subarray(0,i+1)),u=jI(e.subarray(i+1));return o+(u-o)*(s-i)}}function nve(e,t,n=Cz){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,i=Math.floor(s),o=+n(e[i],i,e),u=+n(e[i+1],i+1,e);return o+(u-o)*(s-i)}}function rve(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function Yi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ac(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const A_=Symbol("implicit");function xC(){var e=new yI,t=[],n=[],r=A_;function s(i){let o=e.get(i);if(o===void 0){if(r!==A_)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new yI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return xC(t,n).unknown(r)},Yi.apply(s,arguments),s}function vC(){var e=xC().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,o,u=!1,m=0,f=0,g=.5;delete e.unknown;function x(){var j=t().length,_=s<r,C=_?s:r,E=_?r:s;i=(E-C)/Math.max(1,j-m+f*2),u&&(i=Math.floor(i)),C+=(E-C-i*(j-m))*g,o=i*(1-m),u&&(C=Math.round(C),o=Math.round(o));var A=rve(j).map(function(M){return C+i*M});return n(_?A.reverse():A)}return e.domain=function(j){return arguments.length?(t(j),x()):t()},e.range=function(j){return arguments.length?([r,s]=j,r=+r,s=+s,x()):[r,s]},e.rangeRound=function(j){return[r,s]=j,r=+r,s=+s,u=!0,x()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(j){return arguments.length?(u=!!j,x()):u},e.padding=function(j){return arguments.length?(m=Math.min(1,f=+j),x()):m},e.paddingInner=function(j){return arguments.length?(m=Math.min(1,j),x()):m},e.paddingOuter=function(j){return arguments.length?(f=+j,x()):f},e.align=function(j){return arguments.length?(g=Math.max(0,Math.min(1,j)),x()):g},e.copy=function(){return vC(t(),[r,s]).round(u).paddingInner(m).paddingOuter(f).align(g)},Yi.apply(x(),arguments)}function Mz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Mz(t())},e}function ave(){return Mz(vC.apply(null,arguments).paddingInner(1))}function yC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Dz(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function s0(){}var wp=.7,my=1/wp,Sh="\\s*([+-]?\\d+)\\s*",jp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sve=/^#([0-9a-f]{3,8})$/,ive=new RegExp(`^rgb\\(${Sh},${Sh},${Sh}\\)$`),ove=new RegExp(`^rgb\\(${Xo},${Xo},${Xo}\\)$`),lve=new RegExp(`^rgba\\(${Sh},${Sh},${Sh},${jp}\\)$`),cve=new RegExp(`^rgba\\(${Xo},${Xo},${Xo},${jp}\\)$`),uve=new RegExp(`^hsl\\(${jp},${Xo},${Xo}\\)$`),dve=new RegExp(`^hsla\\(${jp},${Xo},${Xo},${jp}\\)$`),NI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yC(s0,Np,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SI,formatHex:SI,formatHex8:fve,formatHsl:hve,formatRgb:_I,toString:_I});function SI(){return this.rgb().formatHex()}function fve(){return this.rgb().formatHex8()}function hve(){return Pz(this).formatHsl()}function _I(){return this.rgb().formatRgb()}function Np(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sve.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?AI(t):n===3?new zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ive.exec(e))?new zs(t[1],t[2],t[3],1):(t=ove.exec(e))?new zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lve.exec(e))?rv(t[1],t[2],t[3],t[4]):(t=cve.exec(e))?rv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uve.exec(e))?TI(t[1],t[2]/100,t[3]/100,1):(t=dve.exec(e))?TI(t[1],t[2]/100,t[3]/100,t[4]):NI.hasOwnProperty(e)?AI(NI[e]):e==="transparent"?new zs(NaN,NaN,NaN,0):null}function AI(e){return new zs(e>>16&255,e>>8&255,e&255,1)}function rv(e,t,n,r){return r<=0&&(e=t=n=NaN),new zs(e,t,n,r)}function mve(e){return e instanceof s0||(e=Np(e)),e?(e=e.rgb(),new zs(e.r,e.g,e.b,e.opacity)):new zs}function E_(e,t,n,r){return arguments.length===1?mve(e):new zs(e,t,n,r??1)}function zs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yC(zs,E_,Dz(s0,{brighter(e){return e=e==null?my:Math.pow(my,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wp:Math.pow(wp,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zs(Ad(this.r),Ad(this.g),Ad(this.b),gy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EI,formatHex:EI,formatHex8:gve,formatRgb:CI,toString:CI}));function EI(){return`#${vd(this.r)}${vd(this.g)}${vd(this.b)}`}function gve(){return`#${vd(this.r)}${vd(this.g)}${vd(this.b)}${vd((isNaN(this.opacity)?1:this.opacity)*255)}`}function CI(){const e=gy(this.opacity);return`${e===1?"rgb(":"rgba("}${Ad(this.r)}, ${Ad(this.g)}, ${Ad(this.b)}${e===1?")":`, ${e})`}`}function gy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ad(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vd(e){return e=Ad(e),(e<16?"0":"")+e.toString(16)}function TI(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new uo(e,t,n,r)}function Pz(e){if(e instanceof uo)return new uo(e.h,e.s,e.l,e.opacity);if(e instanceof s0||(e=Np(e)),!e)return new uo;if(e instanceof uo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,u=i-s,m=(i+s)/2;return u?(t===i?o=(n-r)/u+(n<r)*6:n===i?o=(r-t)/u+2:o=(t-n)/u+4,u/=m<.5?i+s:2-i-s,o*=60):u=m>0&&m<1?0:o,new uo(o,u,m,e.opacity)}function pve(e,t,n,r){return arguments.length===1?Pz(e):new uo(e,t,n,r??1)}function uo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yC(uo,pve,Dz(s0,{brighter(e){return e=e==null?my:Math.pow(my,e),new uo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wp:Math.pow(wp,e),new uo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new zs(yN(e>=240?e-240:e+120,s,r),yN(e,s,r),yN(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new uo(OI(this.h),av(this.s),av(this.l),gy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gy(this.opacity);return`${e===1?"hsl(":"hsla("}${OI(this.h)}, ${av(this.s)*100}%, ${av(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OI(e){return e=(e||0)%360,e<0?e+360:e}function av(e){return Math.max(0,Math.min(1,e||0))}function yN(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bC=e=>()=>e;function xve(e,t){return function(n){return e+n*t}}function vve(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function yve(e){return(e=+e)==1?Rz:function(t,n){return n-t?vve(t,n,e):bC(isNaN(t)?n:t)}}function Rz(e,t){var n=t-e;return n?xve(e,n):bC(isNaN(e)?t:e)}const MI=function e(t){var n=yve(t);function r(s,i){var o=n((s=E_(s)).r,(i=E_(i)).r),u=n(s.g,i.g),m=n(s.b,i.b),f=Rz(s.opacity,i.opacity);return function(g){return s.r=o(g),s.g=u(g),s.b=m(g),s.opacity=f(g),s+""}}return r.gamma=e,r}(1);function bve(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function wve(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jve(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=fm(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(u){for(o=0;o<r;++o)i[o]=s[o](u);return i}}function Nve(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function py(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Sve(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=fm(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var C_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bN=new RegExp(C_.source,"g");function _ve(e){return function(){return e}}function Ave(e){return function(t){return e(t)+""}}function Eve(e,t){var n=C_.lastIndex=bN.lastIndex=0,r,s,i,o=-1,u=[],m=[];for(e=e+"",t=t+"";(r=C_.exec(e))&&(s=bN.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),u[o]?u[o]+=i:u[++o]=i),(r=r[0])===(s=s[0])?u[o]?u[o]+=s:u[++o]=s:(u[++o]=null,m.push({i:o,x:py(r,s)})),n=bN.lastIndex;return n<t.length&&(i=t.slice(n),u[o]?u[o]+=i:u[++o]=i),u.length<2?m[0]?Ave(m[0].x):_ve(t):(t=m.length,function(f){for(var g=0,x;g<t;++g)u[(x=m[g]).i]=x.x(f);return u.join("")})}function fm(e,t){var n=typeof t,r;return t==null||n==="boolean"?bC(t):(n==="number"?py:n==="string"?(r=Np(t))?(t=r,MI):Eve:t instanceof Np?MI:t instanceof Date?Nve:wve(t)?bve:Array.isArray(t)?jve:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Sve:py)(e,t)}function wC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Cve(e,t){t===void 0&&(t=e,e=fm);for(var n=0,r=t.length-1,s=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(s,s=t[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[u](o-u)}}function Tve(e){return function(){return e}}function xy(e){return+e}var DI=[0,1];function Ss(e){return e}function T_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Tve(isNaN(t)?NaN:.5)}function Ove(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Mve(e,t,n){var r=e[0],s=e[1],i=t[0],o=t[1];return s<r?(r=T_(s,r),i=n(o,i)):(r=T_(r,s),i=n(i,o)),function(u){return i(r(u))}}function Dve(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=T_(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(u){var m=a0(e,u,1,r)-1;return i[m](s[m](u))}}function i0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function A1(){var e=DI,t=DI,n=fm,r,s,i,o=Ss,u,m,f;function g(){var j=Math.min(e.length,t.length);return o!==Ss&&(o=Ove(e[0],e[j-1])),u=j>2?Dve:Mve,m=f=null,x}function x(j){return j==null||isNaN(j=+j)?i:(m||(m=u(e.map(r),t,n)))(r(o(j)))}return x.invert=function(j){return o(s((f||(f=u(t,e.map(r),py)))(j)))},x.domain=function(j){return arguments.length?(e=Array.from(j,xy),g()):e.slice()},x.range=function(j){return arguments.length?(t=Array.from(j),g()):t.slice()},x.rangeRound=function(j){return t=Array.from(j),n=wC,g()},x.clamp=function(j){return arguments.length?(o=j?!0:Ss,g()):o!==Ss},x.interpolate=function(j){return arguments.length?(n=j,g()):n},x.unknown=function(j){return arguments.length?(i=j,x):i},function(j,_){return r=j,s=_,g()}}function jC(){return A1()(Ss,Ss)}function Pve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vh(e){return e=vy(Math.abs(e)),e?e[1]:NaN}function Rve(e,t){return function(n,r){for(var s=n.length,i=[],o=0,u=e[0],m=0;s>0&&u>0&&(m+u+1>r&&(u=Math.max(1,r-m)),i.push(n.substring(s-=u,s+u)),!((m+=u+1)>r));)u=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kve(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ive=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sp(e){if(!(t=Ive.exec(e)))throw new Error("invalid format: "+e);var t;return new NC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sp.prototype=NC.prototype;function NC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}NC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lve(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var kz;function Bve(e,t){var n=vy(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(kz=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+vy(e,Math.max(0,t+i-1))[0]}function PI(e,t){var n=vy(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const RI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PI(e*100,t),r:PI,s:Bve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kI(e){return e}var II=Array.prototype.map,LI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fve(e){var t=e.grouping===void 0||e.thousands===void 0?kI:Rve(II.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?kI:kve(II.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(x){x=Sp(x);var j=x.fill,_=x.align,C=x.sign,E=x.symbol,A=x.zero,M=x.width,D=x.comma,R=x.precision,U=x.trim,k=x.type;k==="n"?(D=!0,k="g"):RI[k]||(R===void 0&&(R=12),U=!0,k="g"),(A||j==="0"&&_==="=")&&(A=!0,j="0",_="=");var I=E==="$"?n:E==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",F=E==="$"?r:/[%p]/.test(k)?o:"",V=RI[k],L=/[defgprs%]/.test(k);R=R===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function $(Y){var q=I,X=F,Q,G,H;if(k==="c")X=V(Y)+X,Y="";else{Y=+Y;var ee=Y<0||1/Y<0;if(Y=isNaN(Y)?m:V(Math.abs(Y),R),U&&(Y=Lve(Y)),ee&&+Y==0&&C!=="+"&&(ee=!1),q=(ee?C==="("?C:u:C==="-"||C==="("?"":C)+q,X=(k==="s"?LI[8+kz/3]:"")+X+(ee&&C==="("?")":""),L){for(Q=-1,G=Y.length;++Q<G;)if(H=Y.charCodeAt(Q),48>H||H>57){X=(H===46?s+Y.slice(Q+1):Y.slice(Q))+X,Y=Y.slice(0,Q);break}}}D&&!A&&(Y=t(Y,1/0));var Z=q.length+Y.length+X.length,oe=Z<M?new Array(M-Z+1).join(j):"";switch(D&&A&&(Y=t(oe+Y,oe.length?M-X.length:1/0),oe=""),_){case"<":Y=q+Y+X+oe;break;case"=":Y=q+oe+Y+X;break;case"^":Y=oe.slice(0,Z=oe.length>>1)+q+Y+X+oe.slice(Z);break;default:Y=oe+q+Y+X;break}return i(Y)}return $.toString=function(){return x+""},$}function g(x,j){var _=f((x=Sp(x),x.type="f",x)),C=Math.max(-8,Math.min(8,Math.floor(Vh(j)/3)))*3,E=Math.pow(10,-C),A=LI[8+C/3];return function(M){return _(E*M)+A}}return{format:f,formatPrefix:g}}var sv,SC,Iz;Uve({thousands:",",grouping:[3],currency:["$",""]});function Uve(e){return sv=Fve(e),SC=sv.format,Iz=sv.formatPrefix,sv}function zve(e){return Math.max(0,-Vh(Math.abs(e)))}function Vve(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vh(t)/3)))*3-Vh(Math.abs(e)))}function $ve(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vh(t)-Vh(e))+1}function Lz(e,t,n,r){var s=__(e,t,n),i;switch(r=Sp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Vve(s,o))&&(r.precision=i),Iz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=$ve(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=zve(s))&&(r.precision=i-(r.type==="%")*2);break}}return SC(r)}function Eu(e){var t=e.domain;return e.ticks=function(n){var r=t();return N_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return Lz(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,o=r[s],u=r[i],m,f,g=10;for(u<o&&(f=o,o=u,u=f,f=s,s=i,i=f);g-- >0;){if(f=S_(o,u,n),f===m)return r[s]=o,r[i]=u,t(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;m=f}return e},e}function Bz(){var e=jC();return e.copy=function(){return i0(e,Bz())},Yi.apply(e,arguments),Eu(e)}function Fz(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,xy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Fz(e).unknown(t)},e=arguments.length?Array.from(e,xy):[0,1],Eu(n)}function Uz(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),e[n]=t.floor(s),e[r]=t.ceil(i),e}function BI(e){return Math.log(e)}function FI(e){return Math.exp(e)}function Hve(e){return-Math.log(-e)}function qve(e){return-Math.exp(-e)}function Yve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Wve(e){return e===10?Yve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Gve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function UI(e){return(t,n)=>-e(-t,n)}function _C(e){const t=e(BI,FI),n=t.domain;let r=10,s,i;function o(){return s=Gve(r),i=Wve(r),n()[0]<0?(s=UI(s),i=UI(i),e(Hve,qve)):e(BI,FI),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=u=>{const m=n();let f=m[0],g=m[m.length-1];const x=g<f;x&&([f,g]=[g,f]);let j=s(f),_=s(g),C,E;const A=u==null?10:+u;let M=[];if(!(r%1)&&_-j<A){if(j=Math.floor(j),_=Math.ceil(_),f>0){for(;j<=_;++j)for(C=1;C<r;++C)if(E=j<0?C/i(-j):C*i(j),!(E<f)){if(E>g)break;M.push(E)}}else for(;j<=_;++j)for(C=r-1;C>=1;--C)if(E=j>0?C/i(-j):C*i(j),!(E<f)){if(E>g)break;M.push(E)}M.length*2<A&&(M=N_(f,g,A))}else M=N_(j,_,Math.min(_-j,A)).map(i);return x?M.reverse():M},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=Sp(m)).precision==null&&(m.trim=!0),m=SC(m)),u===1/0)return m;const f=Math.max(1,r*u/t.ticks().length);return g=>{let x=g/i(Math.round(s(g)));return x*r<r-.5&&(x*=r),x<=f?m(g):""}},t.nice=()=>n(Uz(n(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function zz(){const e=_C(A1()).domain([1,10]);return e.copy=()=>i0(e,zz()).base(e.base()),Yi.apply(e,arguments),e}function zI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function AC(e){var t=1,n=e(zI(t),VI(t));return n.constant=function(r){return arguments.length?e(zI(t=+r),VI(t)):t},Eu(n)}function Vz(){var e=AC(A1());return e.copy=function(){return i0(e,Vz()).constant(e.constant())},Yi.apply(e,arguments)}function $I(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Kve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Xve(e){return e<0?-e*e:e*e}function EC(e){var t=e(Ss,Ss),n=1;function r(){return n===1?e(Ss,Ss):n===.5?e(Kve,Xve):e($I(n),$I(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Eu(t)}function CC(){var e=EC(A1());return e.copy=function(){return i0(e,CC()).exponent(e.exponent())},Yi.apply(e,arguments),e}function Qve(){return CC.apply(null,arguments).exponent(.5)}function HI(e){return Math.sign(e)*e*e}function Zve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $z(){var e=jC(),t=[0,1],n=!1,r;function s(i){var o=Zve(e(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return e.invert(HI(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,xy)).map(HI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return $z(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Yi.apply(s,arguments),Eu(s)}function Hz(){var e=[],t=[],n=[],r;function s(){var o=0,u=Math.max(1,t.length);for(n=new Array(u-1);++o<u;)n[o-1]=nve(e,o/u);return i}function i(o){return o==null||isNaN(o=+o)?r:t[a0(n,o)]}return i.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(nu),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Hz().domain(e).range(t).unknown(r)},Yi.apply(i,arguments)}function qz(){var e=0,t=1,n=1,r=[.5],s=[0,1],i;function o(m){return m!=null&&m<=m?s[a0(r,m,0,n)]:i}function u(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*t-(m-n)*e)/(n+1);return o}return o.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},o.range=function(m){return arguments.length?(n=(s=Array.from(m)).length-1,u()):s.slice()},o.invertExtent=function(m){var f=s.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(m){return arguments.length&&(i=m),o},o.thresholds=function(){return r.slice()},o.copy=function(){return qz().domain([e,t]).range(s).unknown(i)},Yi.apply(Eu(o),arguments)}function Yz(){var e=[.5],t=[0,1],n,r=1;function s(i){return i!=null&&i<=i?t[a0(e,i,0,r)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Yz().domain(e).range(t).unknown(n)},Yi.apply(s,arguments)}const wN=new Date,jN=new Date;function Sa(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),u=s.ceil(i);return i-o<u-i?o:u},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,u)=>{const m=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return m;let f;do m.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<o);return m},s.filter=i=>Sa(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!i(o););else for(;--u>=0;)for(;t(o,1),!i(o););}),n&&(s.count=(i,o)=>(wN.setTime(+i),jN.setTime(+o),e(wN),e(jN),Math.floor(n(wN,jN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const yy=Sa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sa(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yy);yy.range;const Rl=1e3,ki=Rl*60,kl=ki*60,Jl=kl*24,TC=Jl*7,qI=Jl*30,NN=Jl*365,yd=Sa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rl)},(e,t)=>(t-e)/Rl,e=>e.getUTCSeconds());yd.range;const OC=Sa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rl)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getMinutes());OC.range;const MC=Sa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCMinutes());MC.range;const DC=Sa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rl-e.getMinutes()*ki)},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getHours());DC.range;const PC=Sa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getUTCHours());PC.range;const o0=Sa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ki)/Jl,e=>e.getDate()-1);o0.range;const E1=Sa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jl,e=>e.getUTCDate()-1);E1.range;const Wz=Sa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jl,e=>Math.floor(e/Jl));Wz.range;function Kd(e){return Sa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ki)/TC)}const C1=Kd(0),by=Kd(1),Jve=Kd(2),eye=Kd(3),$h=Kd(4),tye=Kd(5),nye=Kd(6);C1.range;by.range;Jve.range;eye.range;$h.range;tye.range;nye.range;function Xd(e){return Sa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/TC)}const T1=Xd(0),wy=Xd(1),rye=Xd(2),aye=Xd(3),Hh=Xd(4),sye=Xd(5),iye=Xd(6);T1.range;wy.range;rye.range;aye.range;Hh.range;sye.range;iye.range;const RC=Sa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());RC.range;const kC=Sa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kC.range;const ec=Sa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ec.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ec.range;const tc=Sa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});tc.range;function Gz(e,t,n,r,s,i){const o=[[yd,1,Rl],[yd,5,5*Rl],[yd,15,15*Rl],[yd,30,30*Rl],[i,1,ki],[i,5,5*ki],[i,15,15*ki],[i,30,30*ki],[s,1,kl],[s,3,3*kl],[s,6,6*kl],[s,12,12*kl],[r,1,Jl],[r,2,2*Jl],[n,1,TC],[t,1,qI],[t,3,3*qI],[e,1,NN]];function u(f,g,x){const j=g<f;j&&([f,g]=[g,f]);const _=x&&typeof x.range=="function"?x:m(f,g,x),C=_?_.range(f,+g+1):[];return j?C.reverse():C}function m(f,g,x){const j=Math.abs(g-f)/x,_=pC(([,,A])=>A).right(o,j);if(_===o.length)return e.every(__(f/NN,g/NN,x));if(_===0)return yy.every(Math.max(__(f,g,x),1));const[C,E]=o[j/o[_-1][2]<o[_][2]/j?_-1:_];return C.every(E)}return[u,m]}const[oye,lye]=Gz(tc,kC,T1,Wz,PC,MC),[cye,uye]=Gz(ec,RC,C1,o0,DC,OC);function SN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _N(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function dye(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,o=e.shortDays,u=e.months,m=e.shortMonths,f=Og(s),g=Mg(s),x=Og(i),j=Mg(i),_=Og(o),C=Mg(o),E=Og(u),A=Mg(u),M=Og(m),D=Mg(m),R={a:ee,A:Z,b:oe,B:re,c:null,d:QI,e:QI,f:Rye,g:Hye,G:Yye,H:Mye,I:Dye,j:Pye,L:Kz,m:kye,M:Iye,p:de,q:xe,Q:e8,s:t8,S:Lye,u:Bye,U:Fye,V:Uye,w:zye,W:Vye,x:null,X:null,y:$ye,Y:qye,Z:Wye,"%":JI},U={a:_e,A:ye,b:ke,B:ae,c:null,d:ZI,e:ZI,f:Qye,g:o1e,G:c1e,H:Gye,I:Kye,j:Xye,L:Qz,m:Zye,M:Jye,p:ue,q:ce,Q:e8,s:t8,S:e1e,u:t1e,U:n1e,V:r1e,w:a1e,W:s1e,x:null,X:null,y:i1e,Y:l1e,Z:u1e,"%":JI},k={a:$,A:Y,b:q,B:X,c:Q,d:KI,e:KI,f:Eye,g:GI,G:WI,H:XI,I:XI,j:Nye,L:Aye,m:jye,M:Sye,p:L,q:wye,Q:Tye,s:Oye,S:_ye,u:pye,U:xye,V:vye,w:gye,W:yye,x:G,X:H,y:GI,Y:WI,Z:bye,"%":Cye};R.x=I(n,R),R.X=I(r,R),R.c=I(t,R),U.x=I(n,U),U.X=I(r,U),U.c=I(t,U);function I(ge,Me){return function(Ne){var we=[],Ke=-1,$e=0,Qe=ge.length,gt,et,wt;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ke<Qe;)ge.charCodeAt(Ke)===37&&(we.push(ge.slice($e,Ke)),(et=YI[gt=ge.charAt(++Ke)])!=null?gt=ge.charAt(++Ke):et=gt==="e"?" ":"0",(wt=Me[gt])&&(gt=wt(Ne,et)),we.push(gt),$e=Ke+1);return we.push(ge.slice($e,Ke)),we.join("")}}function F(ge,Me){return function(Ne){var we=Tg(1900,void 0,1),Ke=V(we,ge,Ne+="",0),$e,Qe;if(Ke!=Ne.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Me&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?($e=_N(Tg(we.y,0,1)),Qe=$e.getUTCDay(),$e=Qe>4||Qe===0?wy.ceil($e):wy($e),$e=E1.offset($e,(we.V-1)*7),we.y=$e.getUTCFullYear(),we.m=$e.getUTCMonth(),we.d=$e.getUTCDate()+(we.w+6)%7):($e=SN(Tg(we.y,0,1)),Qe=$e.getDay(),$e=Qe>4||Qe===0?by.ceil($e):by($e),$e=o0.offset($e,(we.V-1)*7),we.y=$e.getFullYear(),we.m=$e.getMonth(),we.d=$e.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),Qe="Z"in we?_N(Tg(we.y,0,1)).getUTCDay():SN(Tg(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(Qe+5)%7:we.w+we.U*7-(Qe+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,_N(we)):SN(we)}}function V(ge,Me,Ne,we){for(var Ke=0,$e=Me.length,Qe=Ne.length,gt,et;Ke<$e;){if(we>=Qe)return-1;if(gt=Me.charCodeAt(Ke++),gt===37){if(gt=Me.charAt(Ke++),et=k[gt in YI?Me.charAt(Ke++):gt],!et||(we=et(ge,Ne,we))<0)return-1}else if(gt!=Ne.charCodeAt(we++))return-1}return we}function L(ge,Me,Ne){var we=f.exec(Me.slice(Ne));return we?(ge.p=g.get(we[0].toLowerCase()),Ne+we[0].length):-1}function $(ge,Me,Ne){var we=_.exec(Me.slice(Ne));return we?(ge.w=C.get(we[0].toLowerCase()),Ne+we[0].length):-1}function Y(ge,Me,Ne){var we=x.exec(Me.slice(Ne));return we?(ge.w=j.get(we[0].toLowerCase()),Ne+we[0].length):-1}function q(ge,Me,Ne){var we=M.exec(Me.slice(Ne));return we?(ge.m=D.get(we[0].toLowerCase()),Ne+we[0].length):-1}function X(ge,Me,Ne){var we=E.exec(Me.slice(Ne));return we?(ge.m=A.get(we[0].toLowerCase()),Ne+we[0].length):-1}function Q(ge,Me,Ne){return V(ge,t,Me,Ne)}function G(ge,Me,Ne){return V(ge,n,Me,Ne)}function H(ge,Me,Ne){return V(ge,r,Me,Ne)}function ee(ge){return o[ge.getDay()]}function Z(ge){return i[ge.getDay()]}function oe(ge){return m[ge.getMonth()]}function re(ge){return u[ge.getMonth()]}function de(ge){return s[+(ge.getHours()>=12)]}function xe(ge){return 1+~~(ge.getMonth()/3)}function _e(ge){return o[ge.getUTCDay()]}function ye(ge){return i[ge.getUTCDay()]}function ke(ge){return m[ge.getUTCMonth()]}function ae(ge){return u[ge.getUTCMonth()]}function ue(ge){return s[+(ge.getUTCHours()>=12)]}function ce(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Me=I(ge+="",R);return Me.toString=function(){return ge},Me},parse:function(ge){var Me=F(ge+="",!1);return Me.toString=function(){return ge},Me},utcFormat:function(ge){var Me=I(ge+="",U);return Me.toString=function(){return ge},Me},utcParse:function(ge){var Me=F(ge+="",!0);return Me.toString=function(){return ge},Me}}}var YI={"-":"",_:" ",0:"0"},Ia=/^\s*\d+/,fye=/^%/,hye=/[\\^$*+?|[\]().{}]/g;function _n(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function mye(e){return e.replace(hye,"\\$&")}function Og(e){return new RegExp("^(?:"+e.map(mye).join("|")+")","i")}function Mg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function gye(e,t,n){var r=Ia.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pye(e,t,n){var r=Ia.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xye(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vye(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yye(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function WI(e,t,n){var r=Ia.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function GI(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wye(e,t,n){var r=Ia.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function jye(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function KI(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Nye(e,t,n){var r=Ia.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function XI(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Sye(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _ye(e,t,n){var r=Ia.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Aye(e,t,n){var r=Ia.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Eye(e,t,n){var r=Ia.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cye(e,t,n){var r=fye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Tye(e,t,n){var r=Ia.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Oye(e,t,n){var r=Ia.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function QI(e,t){return _n(e.getDate(),t,2)}function Mye(e,t){return _n(e.getHours(),t,2)}function Dye(e,t){return _n(e.getHours()%12||12,t,2)}function Pye(e,t){return _n(1+o0.count(ec(e),e),t,3)}function Kz(e,t){return _n(e.getMilliseconds(),t,3)}function Rye(e,t){return Kz(e,t)+"000"}function kye(e,t){return _n(e.getMonth()+1,t,2)}function Iye(e,t){return _n(e.getMinutes(),t,2)}function Lye(e,t){return _n(e.getSeconds(),t,2)}function Bye(e){var t=e.getDay();return t===0?7:t}function Fye(e,t){return _n(C1.count(ec(e)-1,e),t,2)}function Xz(e){var t=e.getDay();return t>=4||t===0?$h(e):$h.ceil(e)}function Uye(e,t){return e=Xz(e),_n($h.count(ec(e),e)+(ec(e).getDay()===4),t,2)}function zye(e){return e.getDay()}function Vye(e,t){return _n(by.count(ec(e)-1,e),t,2)}function $ye(e,t){return _n(e.getFullYear()%100,t,2)}function Hye(e,t){return e=Xz(e),_n(e.getFullYear()%100,t,2)}function qye(e,t){return _n(e.getFullYear()%1e4,t,4)}function Yye(e,t){var n=e.getDay();return e=n>=4||n===0?$h(e):$h.ceil(e),_n(e.getFullYear()%1e4,t,4)}function Wye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_n(t/60|0,"0",2)+_n(t%60,"0",2)}function ZI(e,t){return _n(e.getUTCDate(),t,2)}function Gye(e,t){return _n(e.getUTCHours(),t,2)}function Kye(e,t){return _n(e.getUTCHours()%12||12,t,2)}function Xye(e,t){return _n(1+E1.count(tc(e),e),t,3)}function Qz(e,t){return _n(e.getUTCMilliseconds(),t,3)}function Qye(e,t){return Qz(e,t)+"000"}function Zye(e,t){return _n(e.getUTCMonth()+1,t,2)}function Jye(e,t){return _n(e.getUTCMinutes(),t,2)}function e1e(e,t){return _n(e.getUTCSeconds(),t,2)}function t1e(e){var t=e.getUTCDay();return t===0?7:t}function n1e(e,t){return _n(T1.count(tc(e)-1,e),t,2)}function Zz(e){var t=e.getUTCDay();return t>=4||t===0?Hh(e):Hh.ceil(e)}function r1e(e,t){return e=Zz(e),_n(Hh.count(tc(e),e)+(tc(e).getUTCDay()===4),t,2)}function a1e(e){return e.getUTCDay()}function s1e(e,t){return _n(wy.count(tc(e)-1,e),t,2)}function i1e(e,t){return _n(e.getUTCFullYear()%100,t,2)}function o1e(e,t){return e=Zz(e),_n(e.getUTCFullYear()%100,t,2)}function l1e(e,t){return _n(e.getUTCFullYear()%1e4,t,4)}function c1e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Hh(e):Hh.ceil(e),_n(e.getUTCFullYear()%1e4,t,4)}function u1e(){return"+0000"}function JI(){return"%"}function e8(e){return+e}function t8(e){return Math.floor(+e/1e3)}var rh,Jz,eV;d1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d1e(e){return rh=dye(e),Jz=rh.format,rh.parse,eV=rh.utcFormat,rh.utcParse,rh}function f1e(e){return new Date(e)}function h1e(e){return e instanceof Date?+e:+new Date(+e)}function IC(e,t,n,r,s,i,o,u,m,f){var g=jC(),x=g.invert,j=g.domain,_=f(".%L"),C=f(":%S"),E=f("%I:%M"),A=f("%I %p"),M=f("%a %d"),D=f("%b %d"),R=f("%B"),U=f("%Y");function k(I){return(m(I)<I?_:u(I)<I?C:o(I)<I?E:i(I)<I?A:r(I)<I?s(I)<I?M:D:n(I)<I?R:U)(I)}return g.invert=function(I){return new Date(x(I))},g.domain=function(I){return arguments.length?j(Array.from(I,h1e)):j().map(f1e)},g.ticks=function(I){var F=j();return e(F[0],F[F.length-1],I??10)},g.tickFormat=function(I,F){return F==null?k:f(F)},g.nice=function(I){var F=j();return(!I||typeof I.range!="function")&&(I=t(F[0],F[F.length-1],I??10)),I?j(Uz(F,I)):g},g.copy=function(){return i0(g,IC(e,t,n,r,s,i,o,u,m,f))},g}function m1e(){return Yi.apply(IC(cye,uye,ec,RC,C1,o0,DC,OC,yd,Jz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g1e(){return Yi.apply(IC(oye,lye,tc,kC,T1,E1,PC,MC,yd,eV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function O1(){var e=0,t=1,n,r,s,i,o=Ss,u=!1,m;function f(x){return x==null||isNaN(x=+x)?m:o(s===0?.5:(x=(i(x)-n)*s,u?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([e,t]=x,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(x){return arguments.length?(u=!!x,f):u},f.interpolator=function(x){return arguments.length?(o=x,f):o};function g(x){return function(j){var _,C;return arguments.length?([_,C]=j,o=x(_,C),f):[o(0),o(1)]}}return f.range=g(fm),f.rangeRound=g(wC),f.unknown=function(x){return arguments.length?(m=x,f):m},function(x){return i=x,n=x(e),r=x(t),s=n===r?0:1/(r-n),f}}function Cu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tV(){var e=Eu(O1()(Ss));return e.copy=function(){return Cu(e,tV())},ac.apply(e,arguments)}function nV(){var e=_C(O1()).domain([1,10]);return e.copy=function(){return Cu(e,nV()).base(e.base())},ac.apply(e,arguments)}function rV(){var e=AC(O1());return e.copy=function(){return Cu(e,rV()).constant(e.constant())},ac.apply(e,arguments)}function LC(){var e=EC(O1());return e.copy=function(){return Cu(e,LC()).exponent(e.exponent())},ac.apply(e,arguments)}function p1e(){return LC.apply(null,arguments).exponent(.5)}function aV(){var e=[],t=Ss;function n(r){if(r!=null&&!isNaN(r=+r))return t((a0(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(nu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>tve(e,i/r))},n.copy=function(){return aV(t).domain(e)},ac.apply(n,arguments)}function M1(){var e=0,t=.5,n=1,r=1,s,i,o,u,m,f=Ss,g,x=!1,j;function _(E){return isNaN(E=+E)?j:(E=.5+((E=+g(E))-i)*(r*E<r*i?u:m),f(x?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([e,t,n]=E,s=g(e=+e),i=g(t=+t),o=g(n=+n),u=s===i?0:.5/(i-s),m=i===o?0:.5/(o-i),r=i<s?-1:1,_):[e,t,n]},_.clamp=function(E){return arguments.length?(x=!!E,_):x},_.interpolator=function(E){return arguments.length?(f=E,_):f};function C(E){return function(A){var M,D,R;return arguments.length?([M,D,R]=A,f=Cve(E,[M,D,R]),_):[f(0),f(.5),f(1)]}}return _.range=C(fm),_.rangeRound=C(wC),_.unknown=function(E){return arguments.length?(j=E,_):j},function(E){return g=E,s=E(e),i=E(t),o=E(n),u=s===i?0:.5/(i-s),m=i===o?0:.5/(o-i),r=i<s?-1:1,_}}function sV(){var e=Eu(M1()(Ss));return e.copy=function(){return Cu(e,sV())},ac.apply(e,arguments)}function iV(){var e=_C(M1()).domain([.1,1,10]);return e.copy=function(){return Cu(e,iV()).base(e.base())},ac.apply(e,arguments)}function oV(){var e=AC(M1());return e.copy=function(){return Cu(e,oV()).constant(e.constant())},ac.apply(e,arguments)}function BC(){var e=EC(M1());return e.copy=function(){return Cu(e,BC()).exponent(e.exponent())},ac.apply(e,arguments)}function x1e(){return BC.apply(null,arguments).exponent(.5)}const Vg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vC,scaleDiverging:sV,scaleDivergingLog:iV,scaleDivergingPow:BC,scaleDivergingSqrt:x1e,scaleDivergingSymlog:oV,scaleIdentity:Fz,scaleImplicit:A_,scaleLinear:Bz,scaleLog:zz,scaleOrdinal:xC,scalePoint:ave,scalePow:CC,scaleQuantile:Hz,scaleQuantize:qz,scaleRadial:$z,scaleSequential:tV,scaleSequentialLog:nV,scaleSequentialPow:LC,scaleSequentialQuantile:aV,scaleSequentialSqrt:p1e,scaleSequentialSymlog:rV,scaleSqrt:Qve,scaleSymlog:Vz,scaleThreshold:Yz,scaleTime:m1e,scaleUtc:g1e,tickFormat:Lz},Symbol.toStringTag,{value:"Module"}));var Qd=e=>e.chartData,FC=Ue([Qd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),D1=(e,t,n,r)=>r?FC(e):Qd(e);function qh(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ya(t)&&Ya(n))return!0}return!1}function n8(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function v1e(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,s,i;if(Ya(n))s=n;else if(typeof n=="function")return;if(Ya(r))i=r;else if(typeof r=="function")return;var o=[s,i];if(qh(o))return o}}function y1e(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(qh(r))return n8(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,u;if(s==="auto")t!=null&&(o=Math.min(...t));else if(lt(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&$k.test(s)){var m=$k.exec(s);if(m==null||t==null)o=void 0;else{var f=+m[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(u=Math.max(...t));else if(lt(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Hk.test(i)){var g=Hk.exec(i);if(g==null||t==null)u=void 0;else{var x=+g[1];u=t[1]+x}}else u=t==null?void 0:t[1];var j=[o,u];if(qh(j))return t==null?j:n8(j,t,n)}}}var hm=1e9,b1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zC,mr=!0,zi="[DecimalError] ",Ed=zi+"Invalid argument: ",UC=zi+"Exponent out of range: ",mm=Math.floor,dd=Math.pow,w1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ui,Ma=1e7,ar=7,lV=9007199254740991,jy=mm(lV/ar),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,n,r,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ar;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};mt.dividedBy=mt.div=function(e){return Fl(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,n=t.constructor;return Xn(Fl(t,new n(e),0,1),n.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return ca(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ui))throw Error(zi+"NaN");if(n.s<1)throw Error(zi+(n.s?"NaN":"-Infinity"));return n.eq(ui)?new r(0):(mr=!1,t=Fl(_p(n,i),_p(e,i),i),mr=!0,Xn(t,s))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dV(t,e):cV(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(zi+"NaN");return n.s?(mr=!1,t=Fl(n,e,0,1).times(e),mr=!0,n.minus(t)):Xn(new r(n),s)};mt.naturalExponential=mt.exp=function(){return uV(this)};mt.naturalLogarithm=mt.ln=function(){return _p(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cV(t,e):dV(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ed+e);if(t=ca(s)+1,r=s.d.length-1,n=r*ar+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};mt.squareRoot=mt.sqrt=function(){var e,t,n,r,s,i,o,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(zi+"NaN")}for(e=ca(u),mr=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=qo(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=mm((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(s.toString()),n=m.precision,s=o=n+3;;)if(i=r,r=i.plus(Fl(u,i,o+2)).times(.5),qo(i.d).slice(0,o)===(t=qo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Xn(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(t!="9999")break;o+=4}return mr=!0,Xn(r,n)};mt.times=mt.mul=function(e){var t,n,r,s,i,o,u,m,f,g=this,x=g.constructor,j=g.d,_=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,n=g.e+e.e,m=j.length,f=_.length,m<f&&(i=j,j=_,_=i,o=m,m=f,f=o),i=[],o=m+f,r=o;r--;)i.push(0);for(r=f;--r>=0;){for(t=0,s=m+r;s>r;)u=i[s]+_[r]*j[s-r-1]+t,i[s--]=u%Ma|0,t=u/Ma|0;i[s]=(i[s]+t)%Ma|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,mr?Xn(e,x.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(tl(e,0,hm),t===void 0?t=r.rounding:tl(t,0,8),Xn(n,e+ca(n)+1,t))};mt.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Fd(r,!0):(tl(e,0,hm),t===void 0?t=s.rounding:tl(t,0,8),r=Xn(new s(r),e+1,t),n=Fd(r,!0,e+1)),n};mt.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?Fd(s):(tl(e,0,hm),t===void 0?t=i.rounding:tl(t,0,8),r=Xn(new i(s),e+ca(s)+1,t),n=Fd(r.abs(),!1,e+ca(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return Xn(new t(e),ca(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,n,r,s,i,o,u=this,m=u.constructor,f=12,g=+(e=new m(e));if(!e.s)return new m(ui);if(u=new m(u),!u.s){if(e.s<1)throw Error(zi+"Infinity");return u}if(u.eq(ui))return u;if(r=m.precision,e.eq(ui))return Xn(u,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=u.s,o){if((n=g<0?-g:g)<=lV){for(s=new m(ui),t=Math.ceil(r/ar+4),mr=!1;n%2&&(s=s.times(u),a8(s.d,t)),n=mm(n/2),n!==0;)u=u.times(u),a8(u.d,t);return mr=!0,e.s<0?new m(ui).div(s):Xn(s,r)}}else if(i<0)throw Error(zi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,mr=!1,s=e.times(_p(u,r+f)),mr=!0,s=uV(s),s.s=i,s};mt.toPrecision=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?(n=ca(s),r=Fd(s,n<=i.toExpNeg||n>=i.toExpPos)):(tl(e,1,hm),t===void 0?t=i.rounding:tl(t,0,8),s=Xn(new i(s),e,t),n=ca(s),r=Fd(s,e<=n||n<=i.toExpNeg,e)),r};mt.toSignificantDigits=mt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(tl(e,1,hm),t===void 0?t=r.rounding:tl(t,0,8)),Xn(new r(n),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ca(e),n=e.constructor;return Fd(e,t<=n.toExpNeg||t>=n.toExpPos)};function cV(e,t){var n,r,s,i,o,u,m,f,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),mr?Xn(t,x):t;if(m=e.d,f=t.d,o=e.e,s=t.e,m=m.slice(),i=o-s,i){for(i<0?(r=m,i=-i,u=f.length):(r=f,s=o,u=m.length),o=Math.ceil(x/ar),u=o>u?o+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=m.length,i=f.length,u-i<0&&(i=u,r=f,f=m,m=r),n=0;i;)n=(m[--i]=m[i]+f[i]+n)/Ma|0,m[i]%=Ma;for(n&&(m.unshift(n),++s),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=s,mr?Xn(t,x):t}function tl(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ed+e)}function qo(e){var t,n,r,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)r=e[t]+"",n=ar-r.length,n&&(i+=Qc(n)),i+=r;o=e[t],r=o+"",n=ar-r.length,n&&(i+=Qc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fl=function(){function e(r,s){var i,o=0,u=r.length;for(r=r.slice();u--;)i=r[u]*s+o,r[u]=i%Ma|0,o=i/Ma|0;return o&&r.unshift(o),r}function t(r,s,i,o){var u,m;if(i!=o)m=i>o?1:-1;else for(u=m=0;u<i;u++)if(r[u]!=s[u]){m=r[u]>s[u]?1:-1;break}return m}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*Ma+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var u,m,f,g,x,j,_,C,E,A,M,D,R,U,k,I,F,V,L=r.constructor,$=r.s==s.s?1:-1,Y=r.d,q=s.d;if(!r.s)return new L(r);if(!s.s)throw Error(zi+"Division by zero");for(m=r.e-s.e,F=q.length,k=Y.length,_=new L($),C=_.d=[],f=0;q[f]==(Y[f]||0);)++f;if(q[f]>(Y[f]||0)&&--m,i==null?D=i=L.precision:o?D=i+(ca(r)-ca(s))+1:D=i,D<0)return new L(0);if(D=D/ar+2|0,f=0,F==1)for(g=0,q=q[0],D++;(f<k||g)&&D--;f++)R=g*Ma+(Y[f]||0),C[f]=R/q|0,g=R%q|0;else{for(g=Ma/(q[0]+1)|0,g>1&&(q=e(q,g),Y=e(Y,g),F=q.length,k=Y.length),U=F,E=Y.slice(0,F),A=E.length;A<F;)E[A++]=0;V=q.slice(),V.unshift(0),I=q[0],q[1]>=Ma/2&&++I;do g=0,u=t(q,E,F,A),u<0?(M=E[0],F!=A&&(M=M*Ma+(E[1]||0)),g=M/I|0,g>1?(g>=Ma&&(g=Ma-1),x=e(q,g),j=x.length,A=E.length,u=t(x,E,j,A),u==1&&(g--,n(x,F<j?V:q,j))):(g==0&&(u=g=1),x=q.slice()),j=x.length,j<A&&x.unshift(0),n(E,x,A),u==-1&&(A=E.length,u=t(q,E,F,A),u<1&&(g++,n(E,F<A?V:q,A))),A=E.length):u===0&&(g++,E=[0]),C[f++]=g,u&&E[0]?E[A++]=Y[U]||0:(E=[Y[U]],A=1);while((U++<k||E[0]!==void 0)&&D--)}return C[0]||C.shift(),_.e=m,Xn(_,o?i+ca(_)+1:i)}}();function uV(e,t){var n,r,s,i,o,u,m=0,f=0,g=e.constructor,x=g.precision;if(ca(e)>16)throw Error(UC+ca(e));if(!e.s)return new g(ui);for(mr=!1,u=x,o=new g(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(dd(2,f))/Math.LN10*2+5|0,u+=r,n=s=i=new g(ui),g.precision=u;;){if(s=Xn(s.times(e),u),n=n.times(++m),o=i.plus(Fl(s,n,u)),qo(o.d).slice(0,u)===qo(i.d).slice(0,u)){for(;f--;)i=Xn(i.times(i),u);return g.precision=x,t==null?(mr=!0,Xn(i,x)):i}i=o}}function ca(e){for(var t=e.e*ar,n=e.d[0];n>=10;n/=10)t++;return t}function AN(e,t,n){if(t>e.LN10.sd())throw mr=!0,n&&(e.precision=n),Error(zi+"LN10 precision limit exceeded");return Xn(new e(e.LN10),t)}function Qc(e){for(var t="";e--;)t+="0";return t}function _p(e,t){var n,r,s,i,o,u,m,f,g,x=1,j=10,_=e,C=_.d,E=_.constructor,A=E.precision;if(_.s<1)throw Error(zi+(_.s?"NaN":"-Infinity"));if(_.eq(ui))return new E(0);if(t==null?(mr=!1,f=A):f=t,_.eq(10))return t==null&&(mr=!0),AN(E,f);if(f+=j,E.precision=f,n=qo(C),r=n.charAt(0),i=ca(_),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=qo(_.d),r=n.charAt(0),x++;i=ca(_),r>1?(_=new E("0."+n),i++):_=new E(r+"."+n.slice(1))}else return m=AN(E,f+2,A).times(i+""),_=_p(new E(r+"."+n.slice(1)),f-j).plus(m),E.precision=A,t==null?(mr=!0,Xn(_,A)):_;for(u=o=_=Fl(_.minus(ui),_.plus(ui),f),g=Xn(_.times(_),f),s=3;;){if(o=Xn(o.times(g),f),m=u.plus(Fl(o,new E(s),f)),qo(m.d).slice(0,f)===qo(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(AN(E,f+2,A).times(i+""))),u=Fl(u,new E(x),f),E.precision=A,t==null?(mr=!0,Xn(u,A)):u;u=m,s+=2}}function r8(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=mm(n/ar),e.d=[],r=(n+1)%ar,n<0&&(r+=ar),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=ar;r<s;)e.d.push(+t.slice(r,r+=ar));t=t.slice(r),r=ar-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),mr&&(e.e>jy||e.e<-jy))throw Error(UC+n)}else e.s=0,e.e=0,e.d=[0];return e}function Xn(e,t,n){var r,s,i,o,u,m,f,g,x=e.d;for(o=1,i=x[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=ar,s=t,f=x[g=0];else{if(g=Math.ceil((r+1)/ar),i=x.length,g>=i)return e;for(f=i=x[g],o=1;i>=10;i/=10)o++;r%=ar,s=r-ar+o}if(n!==void 0&&(i=dd(10,o-s-1),u=f/i%10|0,m=t<0||x[g+1]!==void 0||f%i,m=n<4?(u||m)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||m||n==6&&(r>0?s>0?f/dd(10,o-s):0:x[g-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return m?(i=ca(e),x.length=1,t=t-i-1,x[0]=dd(10,(ar-t%ar)%ar),e.e=mm(-t/ar)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=g,i=1,g--):(x.length=g+1,i=dd(10,ar-r),x[g]=s>0?(f/dd(10,o-s)%dd(10,s)|0)*i:0),m)for(;;)if(g==0){(x[0]+=i)==Ma&&(x[0]=1,++e.e);break}else{if(x[g]+=i,x[g]!=Ma)break;x[g--]=0,i=1}for(r=x.length;x[--r]===0;)x.pop();if(mr&&(e.e>jy||e.e<-jy))throw Error(UC+ca(e));return e}function dV(e,t){var n,r,s,i,o,u,m,f,g,x,j=e.constructor,_=j.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new j(e),mr?Xn(t,_):t;if(m=e.d,x=t.d,r=t.e,f=e.e,m=m.slice(),o=f-r,o){for(g=o<0,g?(n=m,o=-o,u=x.length):(n=x,r=f,u=m.length),s=Math.max(Math.ceil(_/ar),u)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=m.length,u=x.length,g=s<u,g&&(u=s),s=0;s<u;s++)if(m[s]!=x[s]){g=m[s]<x[s];break}o=0}for(g&&(n=m,m=x,x=n,t.s=-t.s),u=m.length,s=x.length-u;s>0;--s)m[u++]=0;for(s=x.length;s>o;){if(m[--s]<x[s]){for(i=s;i&&m[--i]===0;)m[i]=Ma-1;--m[i],m[s]+=Ma}m[s]-=x[s]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,mr?Xn(t,_):t):new j(0)}function Fd(e,t,n){var r,s=ca(e),i=qo(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qc(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Qc(-s-1)+i,n&&(r=n-o)>0&&(i+=Qc(r))):s>=o?(i+=Qc(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+Qc(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=Qc(r))),e.s<0?"-"+i:i}function a8(e,t){if(e.length>t)return e.length=t,!0}function fV(e){var t,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ed+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return r8(o,i.toString())}else if(typeof i!="string")throw Error(Ed+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,w1e.test(i))r8(o,i);else throw Error(Ed+i)}if(s.prototype=mt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=fV,s.config=s.set=j1e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function j1e(e){if(!e||typeof e!="object")throw Error(zi+"Object expected");var t,n,r,s=["precision",1,hm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(mm(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Ed+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ed+n+": "+r);return this}var zC=fV(b1e);ui=new zC(1);const Bn=zC;var N1e=e=>e,hV={},mV=e=>e===hV,s8=e=>function t(){return arguments.length===0||arguments.length===1&&mV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},gV=(e,t)=>e===1?t:s8(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var i=r.filter(o=>o!==hV).length;return i>=e?t(...r):gV(e-i,s8(function(){for(var o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];var f=r.map(g=>mV(g)?u.shift():g);return t(...f,...u)}))}),P1=e=>gV(e.length,e),O_=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},S1e=P1((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),_1e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return N1e;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((u,m)=>m(u),i(...arguments))}},M_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),pV=e=>{var t=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t&&s.every((o,u)=>{var m;return o===((m=t)===null||m===void 0?void 0:m[u])})||(t=s,n=e(...s)),n}};function xV(e){var t;return e===0?t=1:t=Math.floor(new Bn(e).abs().log(10).toNumber())+1,t}function vV(e,t,n){for(var r=new Bn(e),s=0,i=[];r.lt(t)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}P1((e,t,n)=>{var r=+e,s=+t;return r+n*(s-r)});P1((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});P1((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var yV=e=>{var[t,n]=e,[r,s]=[t,n];return t>n&&([r,s]=[n,t]),[r,s]},bV=(e,t,n)=>{if(e.lte(0))return new Bn(0);var r=xV(e.toNumber()),s=new Bn(10).pow(r),i=e.div(s),o=r!==1?.05:.1,u=new Bn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),m=u.mul(s);return t?new Bn(m.toNumber()):new Bn(Math.ceil(m.toNumber()))},A1e=(e,t,n)=>{var r=new Bn(1),s=new Bn(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(r=new Bn(10).pow(xV(e)-1),s=new Bn(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new Bn(Math.floor(e)))}else e===0?s=new Bn(Math.floor((t-1)/2)):n||(s=new Bn(Math.floor(e)));var o=Math.floor((t-1)/2),u=_1e(S1e(m=>s.add(new Bn(m-o).mul(r)).toNumber()),O_);return u(0,t)},wV=function(t,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Bn(0),tickMin:new Bn(0),tickMax:new Bn(0)};var o=bV(new Bn(n).sub(t).div(r-1),s,i),u;t<=0&&n>=0?u=new Bn(0):(u=new Bn(t).add(n).div(2),u=u.sub(new Bn(u).mod(o)));var m=Math.ceil(u.sub(t).div(o).toNumber()),f=Math.ceil(new Bn(n).sub(u).div(o).toNumber()),g=m+f+1;return g>r?wV(t,n,r,s,i+1):(g<r&&(f=n>0?f+(r-g):f,m=n>0?m:m+(r-g)),{step:o,tickMin:u.sub(new Bn(m).mul(o)),tickMax:u.add(new Bn(f).mul(o))})};function E1e(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,u]=yV([t,n]);if(o===-1/0||u===1/0){var m=u===1/0?[o,...O_(0,r-1).map(()=>1/0)]:[...O_(0,r-1).map(()=>-1/0),u];return t>n?M_(m):m}if(o===u)return A1e(o,r,s);var{step:f,tickMin:g,tickMax:x}=wV(o,u,i,s,0),j=vV(g,x.add(new Bn(.1).mul(f)),f);return t>n?M_(j):j}function C1e(e,t){var[n,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=yV([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var u=Math.max(t,2),m=bV(new Bn(o).sub(i).div(u-1),s,0),f=[...vV(new Bn(i),new Bn(o),m),o];return s===!1&&(f=f.map(g=>Math.round(g))),n>r?M_(f):f}var T1e=pV(E1e),O1e=pV(C1e),jV=e=>e.rootProps.maxBarSize,M1e=e=>e.rootProps.barGap,NV=e=>e.rootProps.barCategoryGap,D1e=e=>e.rootProps.barSize,l0=e=>e.rootProps.stackOffset,VC=e=>e.options.chartName,$C=e=>e.rootProps.syncId,SV=e=>e.rootProps.syncMethod,HC=e=>e.options.eventEmitter,Ml={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},si={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},R1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},P1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ml.angleAxisId,includeHidden:!1,name:void 0,reversed:Ml.reversed,scale:Ml.scale,tick:Ml.tick,tickCount:void 0,ticks:void 0,type:Ml.type,unit:void 0},R1e={allowDataOverflow:si.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:si.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:si.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:si.scale,tick:si.tick,tickCount:si.tickCount,ticks:void 0,type:si.type,unit:void 0},k1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ml.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ml.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ml.scale,tick:Ml.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},I1e={allowDataOverflow:si.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:si.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:si.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:si.scale,tick:si.tick,tickCount:si.tickCount,ticks:void 0,type:"category",unit:void 0},qC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?k1e:P1e,YC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?I1e:R1e,k1=e=>e.polarOptions,WC=Ue([nc,rc,Na],lz),_V=Ue([k1,WC],(e,t)=>{if(e!=null)return As(e.innerRadius,t,0)}),AV=Ue([k1,WC],(e,t)=>{if(e!=null)return As(e.outerRadius,t,t*.8)}),L1e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},EV=Ue([k1],L1e);Ue([qC,EV],R1);var CV=Ue([WC,_V,AV],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ue([YC,CV],R1);var B1e=Ue([pn,k1,_V,AV,nc,rc],(e,t,n,r,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:u,startAngle:m,endAngle:f}=t;return{cx:As(o,s,s/2),cy:As(u,i,i/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:f,clockWise:!1}}}),Zr=(e,t)=>t,c0=(e,t,n)=>n;function i8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(n),!0).forEach(function(r){F1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F1e(e,t,n){return(t=U1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U1e(e){var t=z1e(e,"string");return typeof t=="symbol"?t:t+""}function z1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D_=[0,"auto"],ri={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},sc=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??ri},ai={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:D_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:N1},Tu=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??ai},V1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},GC=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??V1e},Jr=(e,t,n)=>{switch(t){case"xAxis":return sc(e,n);case"yAxis":return Tu(e,n);case"zAxis":return GC(e,n);case"angleAxis":return qC(e,n);case"radiusAxis":return YC(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$1e=(e,t,n)=>{switch(t){case"xAxis":return sc(e,n);case"yAxis":return Tu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},u0=(e,t,n)=>{switch(t){case"xAxis":return sc(e,n);case"yAxis":return Tu(e,n);case"angleAxis":return qC(e,n);case"radiusAxis":return YC(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},TV=e=>e.graphicalItems.countOfBars>0;function KC(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var d0=e=>e.graphicalItems.cartesianItems,H1e=Ue([Zr,c0],KC),XC=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),f0=Ue([d0,Jr,H1e],XC),OV=e=>e.filter(t=>t.stackId===void 0),q1e=Ue([f0],OV),QC=e=>e.map(t=>t.data).filter(Boolean).flat(1),Y1e=Ue([f0],QC),ZC=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:n.slice(r,s+1)},I1=Ue([Y1e,D1],ZC),JC=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Kn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Kn(s,r)}))):e.map(r=>({value:r})),L1=Ue([I1,Jr,f0],JC);function MV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Zd(e){return e.filter(t=>el(t)||t instanceof Date).map(Number).filter(t=>$s(t)===!1)}function W1e(e,t,n){return!n||typeof t!="number"||$s(t)?[]:n.length?Zd(n.flatMap(r=>{var s=Kn(e,r.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!Ya(i)||!Ya(o)))return[t-i,t+o]})):[]}var DV=(e,t,n)=>{var r={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),r);return Object.fromEntries(Object.entries(s).map(i=>{var[o,u]=i,m=u.map(f=>f.dataKey);return[o,{stackedData:Wpe(e,m,n),graphicalItems:u}]}))},Ap=Ue([I1,f0,l0],DV),PV=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(n!=="zAxis"){var i=Qpe(e,r,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},G1e=Ue([Ap,Qd,Zr],PV),RV=(e,t,n,r)=>n.length>0?e.flatMap(s=>n.flatMap(i=>{var o,u,m=(o=i.errorBars)===null||o===void 0?void 0:o.filter(g=>MV(r,g)),f=Kn(s,(u=t.dataKey)!==null&&u!==void 0?u:i.dataKey);return{value:f,errorDomain:W1e(s,f,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Kn(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),K1e=Ue(I1,Jr,q1e,Zr,RV);function X1e(e){var{value:t}=e;if(el(t)||t instanceof Date)return t}var Q1e=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Zd(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Z1e=(e,t,n)=>{var r=e.map(X1e).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&sU(r))?Ez(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},eT=e=>{var t;if(e==null||!("domain"in e))return D_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Zd(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:D_},tT=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),u=Math.max(...i);return[o,u]}},kV=e=>e.referenceElements.dots,gm=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),J1e=Ue([kV,Zr,c0],gm),IV=e=>e.referenceElements.areas,ebe=Ue([IV,Zr,c0],gm),LV=e=>e.referenceElements.lines,tbe=Ue([LV,Zr,c0],gm),BV=(e,t)=>{var n=Zd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nbe=Ue(J1e,Zr,BV),FV=(e,t)=>{var n=Zd(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rbe=Ue([ebe,Zr],FV),UV=(e,t)=>{var n=Zd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},abe=Ue(tbe,Zr,UV),sbe=Ue(nbe,abe,rbe,(e,t,n)=>tT(e,n,t)),zV=Ue([Jr],eT),nT=(e,t,n,r,s)=>{var i=v1e(t,e.allowDataOverflow);return i??y1e(t,tT(n,s,Q1e(r)),e.allowDataOverflow)},ibe=Ue([Jr,zV,G1e,K1e,sbe],nT),obe=[0,1],rT=(e,t,n,r,s,i,o)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:u,type:m}=e,f=ol(t,i);return f&&u==null?Ez(0,n.length):m==="category"?Z1e(r,e,f):s==="expand"?obe:o}},aT=Ue([Jr,pn,I1,L1,l0,Zr,ibe],rT),VV=(e,t,n,r,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var u="scale".concat(Jp(i));return u in Vg?u:"point"}}},pm=Ue([Jr,pn,TV,VC,Zr],VV);function lbe(e){if(e!=null){if(e in Vg)return Vg[e]();var t="scale".concat(Jp(e));if(t in Vg)return Vg[t]()}}function sT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var s=lbe(t);if(s!=null){var i=s.domain(n).range(r);return Vpe(i),i}}}var iT=(e,t,n)=>{var r=eT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&qh(e))return T1e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&qh(e))return O1e(e,t.tickCount,t.allowDecimals)}},oT=Ue([aT,u0,pm],iT),lT=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&qh(t)&&Array.isArray(n)&&n.length>0){var s=t[0],i=n[0],o=t[1],u=n[n.length-1];return[Math.min(s,i),Math.max(o,u)]}return t},cbe=Ue([Jr,aT,oT,Zr],lT),ube=Ue(L1,Jr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Zd(e.map(u=>u.value))).sort((u,m)=>u-m);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/s}}),$V=Ue(ube,pn,NV,Na,(e,t,n,r)=>r,(e,t,n,r,s)=>{if(!Ya(e))return 0;var i=t==="vertical"?r.height:r.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=As(n,e*i),u=e*i/2;return u-o-(u-o)/i*o}return 0}),dbe=(e,t)=>{var n=sc(e,t);return n==null||typeof n.padding!="string"?0:$V(e,"xAxis",t,n.padding)},fbe=(e,t)=>{var n=Tu(e,t);return n==null||typeof n.padding!="string"?0:$V(e,"yAxis",t,n.padding)},hbe=Ue(sc,dbe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),mbe=Ue(Tu,fbe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),gbe=Ue([Na,hbe,_1,S1,(e,t,n)=>n],(e,t,n,r,s)=>{var{padding:i}=r;return s?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),pbe=Ue([Na,pn,mbe,_1,S1,(e,t,n)=>n],(e,t,n,r,s,i)=>{var{padding:o}=s;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),h0=(e,t,n,r)=>{var s;switch(t){case"xAxis":return gbe(e,n,r);case"yAxis":return pbe(e,n,r);case"zAxis":return(s=GC(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return EV(e);case"radiusAxis":return CV(e,n);default:return}},HV=Ue([Jr,h0],R1),xm=Ue([Jr,pm,cbe,HV],sT);Ue(f0,Zr,(e,t)=>e.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>MV(t,n)));function qV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var B1=(e,t)=>t,F1=(e,t,n)=>n,xbe=Ue(cC,B1,F1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(qV)),vbe=Ue(uC,B1,F1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(qV)),YV=(e,t)=>({width:e.width,height:t.height}),ybe=(e,t)=>{var n=typeof t.width=="number"?t.width:N1;return{width:n,height:e.height}},WV=Ue(Na,sc,YV),bbe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},wbe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},jbe=Ue(rc,Na,xbe,B1,F1,(e,t,n,r,s)=>{var i={},o;return n.forEach(u=>{var m=YV(t,u);o==null&&(o=bbe(t,r,e));var f=r==="top"&&!s||r==="bottom"&&s;i[u.id]=o-Number(f)*m.height,o+=(f?-1:1)*m.height}),i}),Nbe=Ue(nc,Na,vbe,B1,F1,(e,t,n,r,s)=>{var i={},o;return n.forEach(u=>{var m=ybe(t,u);o==null&&(o=wbe(t,r,e));var f=r==="left"&&!s||r==="right"&&s;i[u.id]=o-Number(f)*m.width,o+=(f?-1:1)*m.width}),i}),Sbe=(e,t)=>{var n=Na(e),r=sc(e,t);if(r!=null){var s=jbe(e,r.orientation,r.mirror),i=s[t];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}},_be=(e,t)=>{var n=Na(e),r=Tu(e,t);if(r!=null){var s=Nbe(e,r.orientation,r.mirror),i=s[t];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}},GV=Ue(Na,Tu,(e,t)=>{var n=typeof t.width=="number"?t.width:N1;return{width:n,height:e.height}}),o8=(e,t,n)=>{switch(t){case"xAxis":return WV(e,n).width;case"yAxis":return GV(e,n).height;default:return}},KV=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=n,u=ol(e,r),m=t.map(f=>f.value);if(o&&u&&i==="category"&&s&&sU(m))return m}},cT=Ue([pn,L1,Jr,Zr],KV),XV=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:i}=n,o=ol(e,r);if(o&&(s==="number"||i!=="auto"))return t.map(u=>u.value)}},uT=Ue([pn,L1,u0,Zr],XV),l8=Ue([pn,$1e,pm,xm,cT,uT,h0,oT,Zr],(e,t,n,r,s,i,o,u,m)=>{if(t==null)return null;var f=ol(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:i,duplicateDomain:s,isCategorical:f,niceTicks:u,range:o,realScaleType:n,scale:r}}),Abe=(e,t,n,r,s,i,o,u,m)=>{if(!(t==null||r==null)){var f=ol(e,m),{type:g,ticks:x,tickCount:j}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,C=g==="category"&&r.bandwidth?r.bandwidth()/_:0;C=m==="angleAxis"&&i!=null&&i.length>=2?Ra(i[0]-i[1])*2*C:C;var E=x||s;if(E){var A=E.map((M,D)=>{var R=o?o.indexOf(M):M;return{index:D,coordinate:r(R)+C,value:M,offset:C}});return A.filter(M=>!$s(M.coordinate))}return f&&u?u.map((M,D)=>({coordinate:r(M)+C,value:M,index:D,offset:C})):r.ticks?r.ticks(j).map(M=>({coordinate:r(M)+C,value:M,offset:C})):r.domain().map((M,D)=>({coordinate:r(M)+C,value:o?o[M]:M,index:D,offset:C}))}},QV=Ue([pn,u0,pm,xm,oT,h0,cT,uT,Zr],Abe),Ebe=(e,t,n,r,s,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ol(e,o),{tickCount:m}=t,f=0;return f=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ra(r[0]-r[1])*2*f:f,u&&i?i.map((g,x)=>({coordinate:n(g)+f,value:g,index:x,offset:f})):n.ticks?n.ticks(m).map(g=>({coordinate:n(g)+f,value:g,offset:f})):n.domain().map((g,x)=>({coordinate:n(g)+f,value:s?s[g]:g,index:x,offset:f}))}},nl=Ue([pn,u0,xm,h0,cT,uT,Zr],Ebe),Vi=Ue(Jr,xm,(e,t)=>{if(!(e==null||t==null))return Ny(Ny({},e),{},{scale:t})}),Cbe=Ue([Jr,pm,aT,HV],sT);Ue((e,t,n)=>GC(e,n),Cbe,(e,t)=>{if(!(e==null||t==null))return Ny(Ny({},e),{},{scale:t})});var Tbe=Ue([pn,cC,uC],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ZV=e=>e.options.defaultTooltipEventType,JV=e=>e.options.validateTooltipEventTypes;function e$(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function dT(e,t){var n=ZV(e),r=JV(e);return e$(t,n,r)}function Obe(e){return bt(t=>dT(t,e))}var t$=(e,t)=>{var n,r=Number(t);if(!($s(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Mbe=e=>e.tooltip.settings,Jc={active:!1,index:null,dataKey:void 0,coordinate:void 0},Dbe={itemInteraction:{click:Jc,hover:Jc},axisInteraction:{click:Jc,hover:Jc},keyboardInteraction:Jc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},n$=qi({name:"tooltip",initialState:Dbe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Bl(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Pbe,removeTooltipEntrySettings:Rbe,setTooltipSettingsState:kbe,setActiveMouseOverItemIndex:r$,mouseLeaveItem:Ibe,mouseLeaveChart:a$,setActiveClickItemIndex:Lbe,setMouseOverAxisIndex:s$,setMouseClickAxisIndex:Bbe,setSyncInteraction:P_,setKeyboardInteraction:R_}=n$.actions,Fbe=n$.reducer;function c8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function iv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c8(Object(n),!0).forEach(function(r){Ube(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ube(e,t,n){return(t=zbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zbe(e){var t=Vbe(e,"string");return typeof t=="symbol"?t:t+""}function Vbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $be(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Hbe(e){return e.index!=null}var i$=(e,t,n,r)=>{if(t==null)return Jc;var s=$be(e,t,n);if(s==null)return Jc;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Hbe(s)){if(i)return iv(iv({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return iv(iv({},Jc),{},{coordinate:s.coordinate})},fT=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Ya(r))return n;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(r,i)))},o$=(e,t,n,r,s,i,o,u)=>{if(!(i==null||u==null)){var m=o[0],f=m==null?void 0:u(m.positions,i);if(f!=null)return f;var g=s==null?void 0:s[Number(i)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},l$=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},m0=e=>e.options.tooltipPayloadSearcher,vm=e=>e.tooltip;function u8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function d8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(n),!0).forEach(function(r){qbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qbe(e,t,n){return(t=Ybe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ybe(e){var t=Wbe(e,"string");return typeof t=="symbol"?t:t+""}function Wbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gbe(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Kbe(e,t){return e??t}var c$=(e,t,n,r,s,i,o)=>{if(!(t==null||i==null)){var{chartData:u,computedData:m,dataStartIndex:f,dataEndIndex:g}=n,x=[];return e.reduce((j,_)=>{var C,{dataDefinedOnItem:E,settings:A}=_,M=Kbe(E,u),D=Gbe(M,f,g),R=(C=A==null?void 0:A.dataKey)!==null&&C!==void 0?C:r==null?void 0:r.dataKey,U=A==null?void 0:A.nameKey,k;if(r!=null&&r.dataKey&&Array.isArray(D)&&!Array.isArray(D[0])&&o==="axis"?k=iU(D,r.dataKey,s):k=i(D,t,m,U),Array.isArray(k))k.forEach(F=>{var V=d8(d8({},A),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});j.push(qk({tooltipEntrySettings:V,dataKey:F.dataKey,payload:F.payload,value:Kn(F.payload,F.dataKey),name:F.name}))});else{var I;j.push(qk({tooltipEntrySettings:A,dataKey:R,payload:k,value:Kn(k,R),name:(I=Kn(k,U))!==null&&I!==void 0?I:A==null?void 0:A.name}))}return j},x)}},La=e=>{var t=pn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ym=e=>e.tooltip.settings.axisId,Wa=e=>{var t=La(e),n=ym(e);return u0(e,t,n)},hT=Ue([Wa,pn,TV,VC,La],VV),Xbe=Ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Qbe=Ue([La,ym],KC),U1=Ue([Xbe,Wa,Qbe],XC),Zbe=Ue([U1],QC),Jd=Ue([Zbe,Qd],ZC),mT=Ue([Jd,Wa,U1],JC),Jbe=Ue([Wa],eT),ewe=Ue([Jd,U1,l0],DV),twe=Ue([ewe,Qd,La],PV),nwe=Ue([U1],OV),rwe=Ue([Jd,Wa,nwe,La],RV),awe=Ue([kV,La,ym],gm),swe=Ue([awe,La],BV),iwe=Ue([IV,La,ym],gm),owe=Ue([iwe,La],FV),lwe=Ue([LV,La,ym],gm),cwe=Ue([lwe,La],UV),uwe=Ue([swe,cwe,owe],tT),dwe=Ue([Wa,Jbe,twe,rwe,uwe],nT),u$=Ue([Wa,pn,Jd,mT,l0,La,dwe],rT),fwe=Ue([u$,Wa,hT],iT),hwe=Ue([Wa,u$,fwe,La],lT),d$=e=>{var t=La(e),n=ym(e),r=!1;return h0(e,t,n,r)},f$=Ue([Wa,d$],R1),h$=Ue([Wa,hT,hwe,f$],sT),mwe=Ue([pn,mT,Wa,La],KV),gwe=Ue([pn,mT,Wa,La],XV),pwe=(e,t,n,r,s,i,o,u)=>{if(t){var{type:m}=t,f=ol(e,u);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=m==="category"&&r.bandwidth?r.bandwidth()/g:0;return x=u==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Ra(s[0]-s[1])*2*x:x,f&&o?o.map((j,_)=>({coordinate:r(j)+x,value:j,index:_,offset:x})):r.domain().map((j,_)=>({coordinate:r(j)+x,value:i?i[j]:j,index:_,offset:x}))}}},ic=Ue([pn,Wa,hT,h$,d$,mwe,gwe,La],pwe),gT=Ue([ZV,JV,Mbe],(e,t,n)=>e$(n.shared,e,t)),m$=e=>e.tooltip.settings.trigger,pT=e=>e.tooltip.settings.defaultIndex,z1=Ue([vm,gT,m$,pT],i$),xu=Ue([z1,Jd],fT),g$=Ue([ic,xu],t$),p$=Ue([z1],e=>{if(e)return e.dataKey}),x$=Ue([vm,gT,m$,pT],l$),xwe=Ue([nc,rc,pn,Na,ic,pT,x$,m0],o$),vwe=Ue([z1,xwe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ywe=Ue([z1],e=>e.active),bwe=Ue([x$,xu,Qd,Wa,g$,m0,gT],c$),wwe=Ue([bwe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function f8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function h8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(n),!0).forEach(function(r){jwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jwe(e,t,n){return(t=Nwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nwe(e){var t=Swe(e,"string");return typeof t=="symbol"?t:t+""}function Swe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _we=()=>bt(Wa),Awe=()=>{var e=_we(),t=bt(ic),n=bt(h$);return Bd(h8(h8({},e),{},{scale:n}),t)},v$=()=>bt(VC),xT=(e,t)=>t,y$=(e,t,n)=>n,vT=(e,t,n,r)=>r,Ewe=Ue(ic,e=>p1(e,t=>t.coordinate)),yT=Ue([vm,xT,y$,vT],i$),b$=Ue([yT,Jd],fT),Cwe=(e,t,n)=>{if(t!=null){var r=vm(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},w$=Ue([vm,xT,y$,vT],l$),Sy=Ue([nc,rc,pn,Na,ic,vT,w$,m0],o$),Twe=Ue([yT,Sy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),j$=Ue(ic,b$,t$),Owe=Ue([w$,b$,Qd,Wa,j$,m0,xT],c$),Mwe=Ue([yT],e=>({isActive:e.active,activeIndex:e.index})),Dwe=(e,t,n,r,s,i,o,u)=>{if(!(!e||!t||!r||!s||!i)){var m=Zpe(e.chartX,e.chartY,t,n,u);if(m){var f=e0e(m,t),g=Upe(f,o,i,r,s),x=Jpe(t,i,g,m);return{activeIndex:String(g),activeCoordinate:x}}}};function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k_.apply(null,arguments)}function m8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(n),!0).forEach(function(r){Pwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pwe(e,t,n){return(t=Rwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rwe(e){var t=kwe(e,"string");return typeof t=="symbol"?t:t+""}function kwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iwe(e){var{coordinate:t,payload:n,index:r,offset:s,tooltipAxisBandSize:i,layout:o,cursor:u,tooltipEventType:m,chartName:f}=e,g=t,x=n,j=r;if(!u||!g||f!=="ScatterChart"&&m!=="axis")return null;var _,C;if(f==="ScatterChart")_=g,C=Q0e;else if(f==="BarChart")_=Z0e(o,g,s,i),C=Nz;else if(o==="radial"){var{cx:E,cy:A,radius:M,startAngle:D,endAngle:R}=Sz(g);_={cx:E,cy:A,startAngle:D,endAngle:R,innerRadius:M,outerRadius:M},C=Az}else _={points:Bxe(o,g,s)},C=Nh;var U=typeof u=="object"&&"className"in u?u.className:void 0,k=ov(ov(ov(ov({stroke:"#ccc",pointerEvents:"none"},s),_),Gt(u,!1)),{},{payload:x,payloadIndex:j,className:ln("recharts-tooltip-cursor",U)});return w.isValidElement(u)?w.cloneElement(u,k):w.createElement(C,k)}function Lwe(e){var t=Awe(),n=gz(),r=r0(),s=v$();return w.createElement(Iwe,k_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:s}))}var N$=w.createContext(null),Bwe=()=>w.useContext(N$),EN={exports:{}},g8;function Fwe(){return g8||(g8=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(m,f,g){this.fn=m,this.context=f,this.once=g||!1}function i(m,f,g,x,j){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new s(g,x||m,j),C=n?n+f:f;return m._events[C]?m._events[C].fn?m._events[C]=[m._events[C],_]:m._events[C].push(_):(m._events[C]=_,m._eventsCount++),m}function o(m,f){--m._eventsCount===0?m._events=new r:delete m._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],g,x;if(this._eventsCount===0)return f;for(x in g=this._events)t.call(g,x)&&f.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},u.prototype.listeners=function(f){var g=n?n+f:f,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var j=0,_=x.length,C=new Array(_);j<_;j++)C[j]=x[j].fn;return C},u.prototype.listenerCount=function(f){var g=n?n+f:f,x=this._events[g];return x?x.fn?1:x.length:0},u.prototype.emit=function(f,g,x,j,_,C){var E=n?n+f:f;if(!this._events[E])return!1;var A=this._events[E],M=arguments.length,D,R;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,x),!0;case 4:return A.fn.call(A.context,g,x,j),!0;case 5:return A.fn.call(A.context,g,x,j,_),!0;case 6:return A.fn.call(A.context,g,x,j,_,C),!0}for(R=1,D=new Array(M-1);R<M;R++)D[R-1]=arguments[R];A.fn.apply(A.context,D)}else{var U=A.length,k;for(R=0;R<U;R++)switch(A[R].once&&this.removeListener(f,A[R].fn,void 0,!0),M){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,g);break;case 3:A[R].fn.call(A[R].context,g,x);break;case 4:A[R].fn.call(A[R].context,g,x,j);break;default:if(!D)for(k=1,D=new Array(M-1);k<M;k++)D[k-1]=arguments[k];A[R].fn.apply(A[R].context,D)}}return!0},u.prototype.on=function(f,g,x){return i(this,f,g,x,!1)},u.prototype.once=function(f,g,x){return i(this,f,g,x,!0)},u.prototype.removeListener=function(f,g,x,j){var _=n?n+f:f;if(!this._events[_])return this;if(!g)return o(this,_),this;var C=this._events[_];if(C.fn)C.fn===g&&(!j||C.once)&&(!x||C.context===x)&&o(this,_);else{for(var E=0,A=[],M=C.length;E<M;E++)(C[E].fn!==g||j&&!C[E].once||x&&C[E].context!==x)&&A.push(C[E]);A.length?this._events[_]=A.length===1?A[0]:A:o(this,_)}return this},u.prototype.removeAllListeners=function(f){var g;return f?(g=n?n+f:f,this._events[g]&&o(this,g)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u}(EN)),EN.exports}var Uwe=Fwe();const zwe=Cs(Uwe);var Ep=new zwe,I_="recharts.syncEvent.tooltip",p8="recharts.syncEvent.brush";function V1(e,t){if(t){var n=Number.parseInt(t,10);if(!$s(n))return e==null?void 0:e[n]}}var Vwe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},S$=qi({name:"options",initialState:Vwe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$we=S$.reducer,{createEventEmitter:Hwe}=S$.actions;function qwe(e){return e.tooltip.syncInteraction}var Ywe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_$=qi({name:"chartData",initialState:Ywe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:x8,setDataStartEndIndexes:Wwe,setComputedData:x4e}=_$.actions,Gwe=_$.reducer,A$=()=>{};function Kwe(){var e=bt($C),t=bt(HC),n=br(),r=bt(SV),s=bt(ic),i=r0(),o=dC(),u=bt(m=>m.rootProps.className);w.useEffect(()=>{if(e==null)return A$;var m=(f,g,x)=>{if(t!==x&&e===f){if(r==="index"){n(g);return}if(s!=null){var j;if(typeof r=="function"){var _={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},C=r(s,_);j=s[C]}else r==="value"&&(j=s.find(I=>String(I.value)===g.payload.label));var{coordinate:E}=g.payload;if(j==null||g.payload.active===!1||E==null||o==null){n(P_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:M}=E,D=Math.min(A,o.x+o.width),R=Math.min(M,o.y+o.height),U={x:i==="horizontal"?j.coordinate:D,y:i==="horizontal"?R:j.coordinate},k=P_({active:g.payload.active,coordinate:U,dataKey:g.payload.dataKey,index:String(j.index),label:g.payload.label});n(k)}}};return Ep.on(I_,m),()=>{Ep.off(I_,m)}},[u,n,t,e,r,s,i,o])}function Xwe(){var e=bt($C),t=bt(HC),n=br();w.useEffect(()=>{if(e==null)return A$;var r=(s,i,o)=>{t!==o&&e===s&&n(Wwe(i))};return Ep.on(p8,r),()=>{Ep.off(p8,r)}},[n,t,e])}function Qwe(){var e=br();w.useEffect(()=>{e(Hwe())},[e]),Kwe(),Xwe()}function Zwe(e,t,n,r,s,i){var o=bt(j=>Cwe(j,e,t)),u=bt(HC),m=bt($C),f=bt(SV),g=bt(qwe),x=g==null?void 0:g.active;w.useEffect(()=>{if(!x&&m!=null&&u!=null){var j=P_({active:i,coordinate:n,dataKey:o,index:s,label:typeof r=="number"?String(r):r});Ep.emit(I_,m,j,u)}},[x,n,o,s,r,u,m,f,i])}function v8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function y8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(n),!0).forEach(function(r){Jwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jwe(e,t,n){return(t=e2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e2e(e){var t=t2e(e,"string");return typeof t=="symbol"?t:t+""}function t2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n2e(e){return e.dataKey}function r2e(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(T0e,t)}var b8=[],a2e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Au.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Er(e){var t=vi(e,a2e),{active:n,allowEscapeViewBox:r,animationDuration:s,animationEasing:i,content:o,filterNull:u,isAnimationActive:m,offset:f,payloadUniqBy:g,position:x,reverseDirection:j,useTranslate3d:_,wrapperStyle:C,cursor:E,shared:A,trigger:M,defaultIndex:D,portal:R,axisId:U}=t,k=br(),I=typeof D=="number"?String(D):D;w.useEffect(()=>{k(kbe({shared:A,trigger:M,axisId:U,active:n,defaultIndex:I}))},[k,A,M,U,n,I]);var F=dC(),V=yz(),L=Obe(A),{activeIndex:$,isActive:Y}=bt(ke=>Mwe(ke,L,M,I)),q=bt(ke=>Owe(ke,L,M,I)),X=bt(ke=>j$(ke,L,M,I)),Q=bt(ke=>Twe(ke,L,M,I)),G=q,H=Bwe(),ee=n??Y,[Z,oe]=LU([G,ee]),re=L==="axis"?X:void 0;Zwe(L,M,Q,re,$,ee);var de=R??H;if(de==null)return null;var xe=G??b8;ee||(xe=b8),u&&xe.length&&(xe=DU(G.filter(ke=>ke.value!=null&&(ke.hide!==!0||t.includeHidden)),g,n2e));var _e=xe.length>0,ye=w.createElement(I0e,{allowEscapeViewBox:r,animationDuration:s,animationEasing:i,isAnimationActive:m,active:ee,coordinate:Q,hasPayload:_e,offset:f,position:x,reverseDirection:j,useTranslate3d:_,viewBox:F,wrapperStyle:C,lastBoundingBox:Z,innerRef:oe,hasPortalFromProps:!!R},r2e(o,y8(y8({},t),{},{payload:xe,label:re,active:ee,coordinate:Q,accessibilityLayer:V})));return w.createElement(w.Fragment,null,$d.createPortal(ye,de),ee&&w.createElement(Lwe,{cursor:E,tooltipEventType:L,coordinate:Q,payload:G,index:$}))}var CN={},TN={},ON={},w8;function s2e(){return w8||(w8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:s,edges:i}={}){let o,u=null;const m=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),g=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},x=()=>{f&&g(),E()};let j=null;const _=()=>{j!=null&&clearTimeout(j),j=setTimeout(()=>{j=null,x()},r)},C=()=>{j!==null&&(clearTimeout(j),j=null)},E=()=>{C(),o=void 0,u=null},A=()=>{g()},M=function(...D){if(s!=null&&s.aborted)return;o=this,u=D;const R=j==null;_(),m&&R&&g()};return M.schedule=_,M.cancel=E,M.flush=A,s==null||s.addEventListener("abort",E,{once:!0}),M}e.debounce=t}(ON)),ON}var j8;function i2e(){return j8||(j8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s2e();function n(r,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:u=!0,maxWait:m}=i,f=Array(2);o&&(f[0]="leading"),u&&(f[1]="trailing");let g,x=null;const j=t.debounce(function(...E){g=r.apply(this,E),x=null},s,{edges:f}),_=function(...E){return m!=null&&(x===null&&(x=Date.now()),Date.now()-x>=m)?(g=r.apply(this,E),x=Date.now(),j.cancel(),j.schedule(),g):(j.apply(this,E),g)},C=()=>(j.flush(),g);return _.cancel=j.cancel,_.flush=C,_}e.debounce=n}(TN)),TN}var N8;function o2e(){return N8||(N8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i2e();function n(r,s=0,i={}){const{leading:o=!0,trailing:u=!0}=i;return t.debounce(r,s,{leading:o,maxWait:s,trailing:u})}e.throttle=n}(CN)),CN}var MN,S8;function l2e(){return S8||(S8=1,MN=o2e().throttle),MN}var c2e=l2e();const u2e=Cs(c2e);var Qg=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function _8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(r){d2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d2e(e,t,n){return(t=f2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f2e(e){var t=h2e(e,"string");return typeof t=="symbol"?t:t+""}function h2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var js=w.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:u,maxHeight:m,children:f,debounce:g=0,id:x,className:j,onResize:_,style:C={}}=e,E=w.useRef(null),A=w.useRef();A.current=_,w.useImperativeHandle(t,()=>E.current);var[M,D]=w.useState({containerWidth:r.width,containerHeight:r.height}),R=w.useCallback((k,I)=>{D(F=>{var V=Math.round(k),L=Math.round(I);return F.containerWidth===V&&F.containerHeight===L?F:{containerWidth:V,containerHeight:L}})},[]);w.useEffect(()=>{var k=L=>{var $,{width:Y,height:q}=L[0].contentRect;R(Y,q),($=A.current)===null||$===void 0||$.call(A,Y,q)};g>0&&(k=u2e(k,g,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),{width:F,height:V}=E.current.getBoundingClientRect();return R(F,V),I.observe(E.current),()=>{I.disconnect()}},[R,g]);var U=w.useMemo(()=>{var{containerWidth:k,containerHeight:I}=M;if(k<0||I<0)return null;Qg(pd(s)||pd(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Qg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=pd(s)?k:s,V=pd(i)?I:i;return n&&n>0&&(F?V=F/n:V&&(F=V*n),m&&V>m&&(V=m)),Qg(F>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,V,s,i,o,u,n),w.Children.map(f,L=>w.cloneElement(L,{width:F,height:V,style:DN({width:F,height:V},L.props.style)}))},[n,f,i,m,u,o,M,s]);return w.createElement("div",{id:x?"".concat(x):void 0,className:ln("recharts-responsive-container",j),style:DN(DN({},C),{},{width:s,height:i,minWidth:o,minHeight:u,maxHeight:m}),ref:E},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),vu=e=>null;vu.displayName="Cell";function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function L_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){m2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m2e(e,t,n){return(t=g2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g2e(e){var t=p2e(e,"string");return typeof t=="symbol"?t:t+""}function p2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ah={widthCache:{},cacheCount:0},x2e=2e3,v2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},E8="recharts_measurement_span";function y2e(e){var t=L_({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var Zg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Au.isSsr)return{width:0,height:0};var r=y2e(n),s=JSON.stringify({text:t,copyStyle:r});if(ah.widthCache[s])return ah.widthCache[s];try{var i=document.getElementById(E8);i||(i=document.createElement("span"),i.setAttribute("id",E8),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=L_(L_({},v2e),r);Object.assign(i.style,o),i.textContent="".concat(t);var u=i.getBoundingClientRect(),m={width:u.width,height:u.height};return ah.widthCache[s]=m,++ah.cacheCount>x2e&&(ah.cacheCount=0,ah.widthCache={}),m}catch{return{width:0,height:0}}},C8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,w2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,E$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},j2e=Object.keys(E$),hh="NaN";function N2e(e,t){return e*E$[t]}class Fs{static parse(t){var n,[,r,s]=(n=w2e.exec(t))!==null&&n!==void 0?n:[];return new Fs(parseFloat(r),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$s(t)&&(this.unit=""),n!==""&&!b2e.test(n)&&(this.num=NaN,this.unit=""),j2e.includes(n)&&(this.num=N2e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Fs(NaN,""):new Fs(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fs(NaN,""):new Fs(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fs(NaN,""):new Fs(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fs(NaN,""):new Fs(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $s(this.num)}}function C$(e){if(e.includes(hh))return hh;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,s,i]=(n=C8.exec(t))!==null&&n!==void 0?n:[],o=Fs.parse(r??""),u=Fs.parse(i??""),m=s==="*"?o.multiply(u):o.divide(u);if(m.isNaN())return hh;t=t.replace(C8,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,g,x,j]=(f=T8.exec(t))!==null&&f!==void 0?f:[],_=Fs.parse(g??""),C=Fs.parse(j??""),E=x==="+"?_.add(C):_.subtract(C);if(E.isNaN())return hh;t=t.replace(T8,E.toString())}return t}var O8=/\(([^()]*)\)/;function S2e(e){for(var t=e,n;(n=O8.exec(t))!=null;){var[,r]=n;t=t.replace(O8,C$(r))}return t}function _2e(e){var t=e.replace(/\s+/g,"");return t=S2e(t),t=C$(t),t}function A2e(e){try{return _2e(e)}catch{return hh}}function PN(e){var t=A2e(e.slice(5,-1));return t===hh?"":t}var E2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],C2e=["dx","dy","angle","className","breakAll"];function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B_.apply(null,arguments)}function M8(e,t){if(e==null)return{};var n,r,s=T2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function T2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var T$=/[ \f\n\r\t\v\u2028\u2029]+/,O$=e=>{var{children:t,breakAll:n,style:r}=e;try{var s=[];Fn(t)||(n?s=t.toString().split(""):s=t.toString().split(T$));var i=s.map(u=>({word:u,width:Zg(u,r).width})),o=n?0:Zg("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},O2e=(e,t,n,r,s)=>{var{maxLines:i,children:o,style:u,breakAll:m}=e,f=lt(i),g=o,x=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce((q,X)=>{var{word:Q,width:G}=X,H=q[q.length-1];if(H&&(r==null||s||H.width+G+n<Number(r)))H.words.push(Q),H.width+=G+n;else{var ee={words:[Q],width:G};q.push(ee)}return q},[])},j=x(t),_=$=>$.reduce((Y,q)=>Y.width>q.width?Y:q);if(!f||s)return j;var C=j.length>i||_(j).width>Number(r);if(!C)return j;for(var E="",A=$=>{var Y=g.slice(0,$),q=O$({breakAll:m,style:u,children:Y+E}).wordsWithComputedWidth,X=x(q),Q=X.length>i||_(X).width>Number(r);return[Q,X]},M=0,D=g.length-1,R=0,U;M<=D&&R<=g.length-1;){var k=Math.floor((M+D)/2),I=k-1,[F,V]=A(I),[L]=A(k);if(!F&&!L&&(M=k+1),F&&L&&(D=k-1),!F&&L){U=V;break}R++}return U||j},D8=e=>{var t=Fn(e)?[]:e.toString().split(T$);return[{words:t}]},M2e=e=>{var{width:t,scaleToFit:n,children:r,style:s,breakAll:i,maxLines:o}=e;if((t||n)&&!Au.isSsr){var u,m,f=O$({breakAll:i,children:r,style:s});if(f){var{wordsWithComputedWidth:g,spaceWidth:x}=f;u=g,m=x}else return D8(r);return O2e({breakAll:i,children:r,maxLines:o,style:s},u,m,t,n)}return D8(r)},P8="#808080",$1=w.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:m="end",fill:f=P8}=e,g=M8(e,E2e),x=w.useMemo(()=>M2e({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:o,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,o,g.style,g.width]),{dx:j,dy:_,angle:C,className:E,breakAll:A}=g,M=M8(g,C2e);if(!el(n)||!el(r))return null;var D=n+(lt(j)?j:0),R=r+(lt(_)?_:0),U;switch(m){case"start":U=PN("calc(".concat(i,")"));break;case"middle":U=PN("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:U=PN("calc(".concat(x.length-1," * -").concat(s,")"));break}var k=[];if(o){var I=x[0].width,{width:F}=g;k.push("scale(".concat(lt(F)?F/I:1,")"))}return C&&k.push("rotate(".concat(C,", ").concat(D,", ").concat(R,")")),k.length&&(M.transform=k.join(" ")),w.createElement("text",B_({},Gt(M,!0),{ref:t,x:D,y:R,className:ln("recharts-text",E),textAnchor:u,fill:f.includes("url")?P8:f}),x.map((V,L)=>{var $=V.words.join(A?"":" ");return w.createElement("tspan",{x:D,dy:L===0?U:s,key:"".concat($,"-").concat(L)},$)}))});$1.displayName="Text";var D2e=["offset"],P2e=["labelRef"];function R8(e,t){if(e==null)return{};var n,r,s=R2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function R2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function k8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(n),!0).forEach(function(r){k2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k2e(e,t,n){return(t=I2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I2e(e){var t=L2e(e,"string");return typeof t=="symbol"?t:t+""}function L2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(null,arguments)}var B2e=e=>{var{value:t,formatter:n}=e,r=Fn(e.children)?t:e.children;return typeof n=="function"?n(r):r},bT=e=>e!=null&&typeof e=="function",F2e=(e,t)=>{var n=Ra(t-e),r=Math.min(Math.abs(t-e),360);return n*r},U2e=(e,t,n)=>{var{position:r,viewBox:s,offset:i,className:o}=e,{cx:u,cy:m,innerRadius:f,outerRadius:g,startAngle:x,endAngle:j,clockWise:_}=s,C=(f+g)/2,E=F2e(x,j),A=E>=0?1:-1,M,D;r==="insideStart"?(M=x+A*i,D=_):r==="insideEnd"?(M=j-A*i,D=!_):r==="end"&&(M=j+A*i,D=_),D=E<=0?D:!D;var R=la(u,m,C,M),U=la(u,m,C,M+(D?1:-1)*359),k="M".concat(R.x,",").concat(R.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(D?0:1,`,
    `).concat(U.x,",").concat(U.y),I=Fn(e.id)?pu("recharts-radial-line-"):e.id;return w.createElement("text",Dl({},n,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:I,d:k})),w.createElement("textPath",{xlinkHref:"#".concat(I)},t))},z2e=e=>{var{viewBox:t,offset:n,position:r}=e,{cx:s,cy:i,innerRadius:o,outerRadius:u,startAngle:m,endAngle:f}=t,g=(m+f)/2;if(r==="outside"){var{x,y:j}=la(s,i,u+n,g);return{x,y:j,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(o+u)/2,{x:C,y:E}=la(s,i,_,g);return{x:C,y:E,textAnchor:"middle",verticalAnchor:"middle"}},V2e=(e,t)=>{var{parentViewBox:n,offset:r,position:s}=e,{x:i,y:o,width:u,height:m}=t,f=m>=0?1:-1,g=f*r,x=f>0?"end":"start",j=f>0?"start":"end",_=u>=0?1:-1,C=_*r,E=_>0?"end":"start",A=_>0?"start":"end";if(s==="top"){var M={x:i+u/2,y:o-f*r,textAnchor:"middle",verticalAnchor:x};return aa(aa({},M),n?{height:Math.max(o-n.y,0),width:u}:{})}if(s==="bottom"){var D={x:i+u/2,y:o+m+g,textAnchor:"middle",verticalAnchor:j};return aa(aa({},D),n?{height:Math.max(n.y+n.height-(o+m),0),width:u}:{})}if(s==="left"){var R={x:i-C,y:o+m/2,textAnchor:E,verticalAnchor:"middle"};return aa(aa({},R),n?{width:Math.max(R.x-n.x,0),height:m}:{})}if(s==="right"){var U={x:i+u+C,y:o+m/2,textAnchor:A,verticalAnchor:"middle"};return aa(aa({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:m}:{})}var k=n?{width:u,height:m}:{};return s==="insideLeft"?aa({x:i+C,y:o+m/2,textAnchor:A,verticalAnchor:"middle"},k):s==="insideRight"?aa({x:i+u-C,y:o+m/2,textAnchor:E,verticalAnchor:"middle"},k):s==="insideTop"?aa({x:i+u/2,y:o+g,textAnchor:"middle",verticalAnchor:j},k):s==="insideBottom"?aa({x:i+u/2,y:o+m-g,textAnchor:"middle",verticalAnchor:x},k):s==="insideTopLeft"?aa({x:i+C,y:o+g,textAnchor:A,verticalAnchor:j},k):s==="insideTopRight"?aa({x:i+u-C,y:o+g,textAnchor:E,verticalAnchor:j},k):s==="insideBottomLeft"?aa({x:i+C,y:o+m-g,textAnchor:A,verticalAnchor:x},k):s==="insideBottomRight"?aa({x:i+u-C,y:o+m-g,textAnchor:E,verticalAnchor:x},k):s&&typeof s=="object"&&(lt(s.x)||pd(s.x))&&(lt(s.y)||pd(s.y))?aa({x:i+As(s.x,u),y:o+As(s.y,m),textAnchor:"end",verticalAnchor:"end"},k):aa({x:i+u/2,y:o+m/2,textAnchor:"middle",verticalAnchor:"middle"},k)},$2e=e=>"cx"in e&&lt(e.cx);function li(e){var{offset:t=5}=e,n=R8(e,D2e),r=aa({offset:t},n),{viewBox:s,position:i,value:o,children:u,content:m,className:f="",textBreakAll:g,labelRef:x}=r,j=dC(),_=s||j;if(!_||Fn(o)&&Fn(u)&&!w.isValidElement(m)&&typeof m!="function")return null;if(w.isValidElement(m)){var{labelRef:C}=r,E=R8(r,P2e);return w.cloneElement(m,E)}var A;if(typeof m=="function"){if(A=w.createElement(m,r),w.isValidElement(A))return A}else A=B2e(r);var M=$2e(_),D=Gt(r,!0);if(M&&(i==="insideStart"||i==="insideEnd"||i==="end"))return U2e(r,A,D);var R=M?z2e(r):V2e(r,_);return w.createElement($1,Dl({ref:x,className:ln("recharts-label",f)},D,R,{breakAll:g}),A)}li.displayName="Label";var M$=e=>{var{cx:t,cy:n,angle:r,startAngle:s,endAngle:i,r:o,radius:u,innerRadius:m,outerRadius:f,x:g,y:x,top:j,left:_,width:C,height:E,clockWise:A,labelViewBox:M}=e;if(M)return M;if(lt(C)&&lt(E)){if(lt(g)&&lt(x))return{x:g,y:x,width:C,height:E};if(lt(j)&&lt(_))return{x:j,y:_,width:C,height:E}}if(lt(g)&&lt(x))return{x:g,y:x,width:0,height:0};if(lt(t)&&lt(n))return{cx:t,cy:n,startAngle:s||r||0,endAngle:i||r||0,innerRadius:m||0,outerRadius:f||u||o||0,clockWise:A};if(e.viewBox)return e.viewBox},H2e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?w.createElement(li,Dl({key:"label-implicit"},r)):el(e)?w.createElement(li,Dl({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===li?w.cloneElement(e,aa({key:"label-implicit"},r)):w.createElement(li,Dl({key:"label-implicit",content:e},r)):bT(e)?w.createElement(li,Dl({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(li,Dl({},e,{key:"label-implicit"},r)):null},q2e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:s,labelRef:i}=t,o=M$(t),u=t0(s,li).map((f,g)=>w.cloneElement(f,{viewBox:n||o,key:"label-".concat(g)}));if(!r)return u;var m=H2e(t.label,n||o,i);return[m,...u]};li.parseViewBox=M$;li.renderCallByParent=q2e;var RN={},kN={},I8;function Y2e(){return I8||(I8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(kN)),kN}var IN={},L8;function W2e(){return L8||(L8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(IN)),IN}var B8;function G2e(){return B8||(B8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y2e(),n=W2e(),r=QE();function s(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=s}(RN)),RN}var LN,F8;function K2e(){return F8||(F8=1,LN=G2e().last),LN}var X2e=K2e();const Q2e=Cs(X2e);var Z2e=["valueAccessor"],J2e=["data","dataKey","clockWise","id","textBreakAll"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(null,arguments)}function U8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function z8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(n),!0).forEach(function(r){eje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eje(e,t,n){return(t=tje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tje(e){var t=nje(e,"string");return typeof t=="symbol"?t:t+""}function nje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V8(e,t){if(e==null)return{};var n,r,s=rje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aje=e=>Array.isArray(e.value)?Q2e(e.value):e.value;function Ul(e){var{valueAccessor:t=aje}=e,n=V8(e,Z2e),{data:r,dataKey:s,clockWise:i,id:o,textBreakAll:u}=n,m=V8(n,J2e);return!r||!r.length?null:w.createElement(Mr,{className:"recharts-label-list"},r.map((f,g)=>{var x=Fn(s)?t(f,g):Kn(f&&f.payload,s),j=Fn(o)?{}:{id:"".concat(o,"-").concat(g)};return w.createElement(li,_y({},Gt(f,!0),m,j,{parentViewBox:f.parentViewBox,value:x,textBreakAll:u,viewBox:li.parseViewBox(Fn(i)?f:z8(z8({},f),{},{clockWise:i})),key:"label-".concat(g),index:g}))}))}Ul.displayName="LabelList";function sje(e,t){return e?e===!0?w.createElement(Ul,{key:"labelList-implicit",data:t}):w.isValidElement(e)||bT(e)?w.createElement(Ul,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?w.createElement(Ul,_y({data:t},e,{key:"labelList-implicit"})):null:null}function ije(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,s=t0(r,Ul).map((o,u)=>w.cloneElement(o,{data:t,key:"labelList-".concat(u)}));if(!n)return s;var i=sje(e.label,t);return[i,...s]}Ul.renderCallByParent=ije;function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F_.apply(null,arguments)}var wT=e=>{var{cx:t,cy:n,r,className:s}=e,i=ln("recharts-dot",s);return t===+t&&n===+n&&r===+r?w.createElement("circle",F_({},Gt(e,!1),$E(e),{className:i,cx:t,cy:n,r})):null},D$=e=>e.graphicalItems.polarItems,oje=Ue([Zr,c0],KC),jT=Ue([D$,Jr,oje],XC),lje=Ue([jT],QC),NT=Ue([lje,FC],ZC),cje=Ue([NT,Jr,jT],JC),uje=Ue([NT,Jr,jT],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(s=>{var i,o=Kn(r,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Kn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),$8=()=>{},dje=Ue([Jr,zV,$8,uje,$8],nT),P$=Ue([Jr,pn,NT,cje,l0,Zr,dje],rT),fje=Ue([P$,Jr,pm],iT);Ue([Jr,P$,fje,Zr],lT);var hje={radiusAxis:{},angleAxis:{}},R$=qi({name:"polarAxis",initialState:hje,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:v4e,removeRadiusAxis:y4e,addAngleAxis:b4e,removeAngleAxis:w4e}=R$.actions,mje=R$.reducer;function H8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function q8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(n),!0).forEach(function(r){gje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gje(e,t,n){return(t=pje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pje(e){var t=xje(e,"string");return typeof t=="symbol"?t:t+""}function xje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ST=(e,t)=>t,vje=[],_T=(e,t,n)=>(n==null?void 0:n.length)===0?vje:n,k$=Ue([FC,ST,_T],(e,t,n)=>{var{chartData:r}=e,s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(i=>q8(q8({},t.presentationProps),i.props))),s!=null)return s}),yje=Ue([k$,ST,_T],(e,t,n)=>{if(e!=null)return e.map((r,s)=>{var i,o=Kn(r,t.nameKey,t.name),u;return n!=null&&(i=n[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?u=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:_u(o,t.dataKey),color:u,payload:r,type:t.legendType}})}),bje=Ue([D$,ST],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),wje=Ue([k$,bje,_T,Na],(e,t,n,r)=>{if(!(t==null||e==null))return fNe({offset:r,pieSettings:t,displayedData:e,cells:n})}),jje={countOfBars:0,cartesianItems:[],polarItems:[]},I$=qi({name:"graphicalItems",initialState:jje,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,s=Bl(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=r)},removeCartesianGraphicalItem(e,t){var n=Bl(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Bl(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:Nje,removeBar:Sje,addCartesianGraphicalItem:_je,replaceCartesianGraphicalItem:Aje,removeCartesianGraphicalItem:Eje,addPolarGraphicalItem:Cje,removePolarGraphicalItem:Tje}=I$.actions,Oje=I$.reducer;function Y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function W8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(n),!0).forEach(function(r){Mje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mje(e,t,n){return(t=Dje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dje(e){var t=Pje(e,"string");return typeof t=="symbol"?t:t+""}function Pje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rje(e){var t=br(),n=w.useRef(null);return w.useEffect(()=>{var r=W8(W8({},e),{},{stackId:lC(e.stackId)});n.current===null?t(_je(r)):n.current!==r&&t(Aje({prev:n.current,next:r})),n.current=r},[t,e]),w.useEffect(()=>()=>{n.current&&(t(Eje(n.current)),n.current=null)},[t]),null}function kje(e){var t=br();return w.useEffect(()=>(t(Cje(e)),()=>{t(Tje(e))}),[t,e]),null}var BN={},G8;function Ije(){return G8||(G8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(BN)),BN}var FN,K8;function Lje(){return K8||(K8=1,FN=Ije().isPlainObject),FN}var Bje=Lje();const Fje=Cs(Bje);function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(null,arguments)}var X8=(e,t,n,r,s)=>{var i=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+s),o+="L ".concat(e+n-i/2-r,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},Uje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zje=e=>{var t=vi(e,Uje),n=w.useRef(),[r,s]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&s(A)}catch{}},[]);var{x:i,y:o,upperWidth:u,lowerWidth:m,height:f,className:g}=t,{animationEasing:x,animationDuration:j,animationBegin:_,isUpdateAnimationActive:C}=t;if(i!==+i||o!==+o||u!==+u||m!==+m||f!==+f||u===0&&m===0||f===0)return null;var E=ln("recharts-trapezoid",g);return C?w.createElement(Zl,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:i,y:o},to:{upperWidth:u,lowerWidth:m,height:f,x:i,y:o},duration:j,animationEasing:x,isActive:C},A=>{var{upperWidth:M,lowerWidth:D,height:R,x:U,y:k}=A;return w.createElement(Zl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:j,easing:x},w.createElement("path",Ay({},Gt(t,!0),{className:E,d:X8(U,k,M,D,R),ref:n})))}):w.createElement("g",null,w.createElement("path",Ay({},Gt(t,!0),{className:E,d:X8(i,o,u,m,f)})))},Vje=["option","shapeType","propTransformer","activeClassName","isActive"];function $je(e,t){if(e==null)return{};var n,r,s=Hje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Hje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Q8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(n),!0).forEach(function(r){qje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qje(e,t,n){return(t=Yje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yje(e){var t=Wje(e,"string");return typeof t=="symbol"?t:t+""}function Wje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gje(e,t){return Ey(Ey({},t),e)}function Kje(e,t){return e==="symbols"}function Z8(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return w.createElement(Nz,n);case"trapezoid":return w.createElement(zje,n);case"sector":return w.createElement(Az,n);case"symbols":if(Kje(t))return w.createElement(GE,n);break;default:return null}}function Xje(e){return w.isValidElement(e)?e.props:e}function L$(e){var{option:t,shapeType:n,propTransformer:r=Gje,activeClassName:s="recharts-active-shape",isActive:i}=e,o=$je(e,Vje),u;if(w.isValidElement(t))u=w.cloneElement(t,Ey(Ey({},o),Xje(t)));else if(typeof t=="function")u=t(o);else if(Fje(t)&&typeof t!="boolean"){var m=r(t,o);u=w.createElement(Z8,{shapeType:n,elementProps:m})}else{var f=o;u=w.createElement(Z8,{shapeType:n,elementProps:f})}return i?w.createElement(Mr,{className:s},u):u}var AT=(e,t)=>{var n=br();return(r,s)=>i=>{e==null||e(r,s,i),n(r$({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},ET=e=>{var t=br();return(n,r)=>s=>{e==null||e(n,r,s),t(Ibe())}},CT=(e,t)=>{var n=br();return(r,s)=>i=>{e==null||e(r,s,i),n(Lbe({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function H1(e){var{fn:t,args:n}=e,r=br(),s=ps();return w.useEffect(()=>{if(!s){var i=t(n);return r(Pbe(i)),()=>{r(Rbe(i))}}},[t,n,r,s]),null}var B$=()=>{};function TT(e){var{legendPayload:t}=e,n=br(),r=ps();return w.useEffect(()=>r?B$:(n(xz(t)),()=>{n(vz(t))}),[n,r,t]),null}function Qje(e){var{legendPayload:t}=e,n=br(),r=bt(pn);return w.useEffect(()=>r!=="centric"&&r!=="radial"?B$:(n(xz(t)),()=>{n(vz(t))}),[n,r,t]),null}function q1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(pu(t)),r=w.useRef(e);return r.current!==e&&(n.current=pu(t),r.current=e),n.current}var Zje=["onMouseEnter","onClick","onMouseLeave"];function Jje(e,t){if(e==null)return{};var n,r,s=eNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function eNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function J8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(n),!0).forEach(function(r){Y1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y1(e,t,n){return(t=tNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tNe(e){var t=nNe(e,"string");return typeof t=="symbol"?t:t+""}function nNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(null,arguments)}function rNe(e){var t=w.useMemo(()=>Gt(e,!1),[e]),n=w.useMemo(()=>t0(e.children,vu),[e.children]),r=w.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),s=bt(i=>yje(i,r,n));return w.createElement(Qje,{legendPayload:s})}function aNe(e){var{dataKey:t,nameKey:n,sectors:r,stroke:s,strokeWidth:i,fill:o,name:u,hide:m,tooltipType:f}=e;return{dataDefinedOnItem:r==null?void 0:r.map(g=>g.tooltipPayload),positions:r==null?void 0:r.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:_u(u,t),hide:m,type:f,color:o,unit:""}}}var sNe=(e,t)=>e>t?"start":e<t?"end":"middle",iNe=(e,t,n)=>typeof t=="function"?t(e):As(t,n,n*.8),oNe=(e,t,n)=>{var{top:r,left:s,width:i,height:o}=t,u=lz(i,o),m=s+As(e.cx,i,i/2),f=r+As(e.cy,o,o/2),g=As(e.innerRadius,u,0),x=iNe(n,e.outerRadius,u),j=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:m,cy:f,innerRadius:g,outerRadius:x,maxRadius:j}},lNe=(e,t)=>{var n=Ra(t-e),r=Math.min(Math.abs(t-e),360);return n*r},cNe=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ln("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return w.createElement(Nh,Ud({},t,{type:"linear",className:n}))},uNe=(e,t,n)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),w.isValidElement(r)))return r;var s=ln("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return w.createElement($1,Ud({},t,{alignmentBaseline:"middle",className:s}),r)};function dNe(e){var{sectors:t,props:n,showLabels:r}=e,{label:s,labelLine:i,dataKey:o}=n;if(!r||!s||!t)return null;var u=Gt(n,!1),m=Gt(s,!1),f=Gt(i,!1),g=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,x=t.map((j,_)=>{var C=(j.startAngle+j.endAngle)/2,E=la(j.cx,j.cy,j.outerRadius+g,C),A=Fr(Fr(Fr(Fr({},u),j),{},{stroke:"none"},m),{},{index:_,textAnchor:sNe(E.x,j.cx)},E),M=Fr(Fr(Fr(Fr({},u),j),{},{fill:"none",stroke:j.fill},f),{},{index:_,points:[la(j.cx,j.cy,j.outerRadius,C),E],key:"line"});return w.createElement(Mr,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(_)},i&&cNe(i,M),uNe(s,A,Kn(j,o)))});return w.createElement(Mr,{className:"recharts-pie-labels"},x)}function F$(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:s,showLabels:i}=e,o=bt(xu),{onMouseEnter:u,onClick:m,onMouseLeave:f}=s,g=Jje(s,Zje),x=AT(u,s.dataKey),j=ET(f),_=CT(m,s.dataKey);return t==null?null:w.createElement(w.Fragment,null,t.map((C,E)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&t.length!==1)return null;var A=n&&String(E)===o,M=o?r:null,D=A?n:M,R=Fr(Fr({},C),{},{stroke:C.stroke,tabIndex:-1,[fz]:E,[hz]:s.dataKey});return w.createElement(Mr,Ud({tabIndex:-1,className:"recharts-pie-sector"},e0(g,C,E),{onMouseEnter:x(C,E),onMouseLeave:j(C,E),onClick:_(C,E),key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(E)}),w.createElement(L$,Ud({option:D,isActive:A,shapeType:"sector"},R)))}),w.createElement(dNe,{sectors:t,props:s,showLabels:i}))}function fNe(e){var t,{pieSettings:n,displayedData:r,cells:s,offset:i}=e,{cornerRadius:o,startAngle:u,endAngle:m,dataKey:f,nameKey:g,tooltipType:x}=n,j=Math.abs(n.minAngle),_=lNe(u,m),C=Math.abs(_),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,A=r.filter(I=>Kn(I,f,0)!==0).length,M=(C>=360?A:A-1)*E,D=C-A*j-M,R=r.reduce((I,F)=>{var V=Kn(F,f,0);return I+(lt(V)?V:0)},0),U;if(R>0){var k;U=r.map((I,F)=>{var V=Kn(I,f,0),L=Kn(I,g,F),$=oNe(n,i,I),Y=(lt(V)?V:0)/R,q,X=Fr(Fr({},I),s&&s[F]&&s[F].props);F?q=k.endAngle+Ra(_)*E*(V!==0?1:0):q=u;var Q=q+Ra(_)*((V!==0?j:0)+Y*D),G=(q+Q)/2,H=($.innerRadius+$.outerRadius)/2,ee=[{name:L,value:V,payload:X,dataKey:f,type:x}],Z=la($.cx,$.cy,H,G);return k=Fr(Fr(Fr(Fr({},n.presentationProps),{},{percent:Y,cornerRadius:o,name:L,tooltipPayload:ee,midAngle:G,middleRadius:H,tooltipPosition:Z},X),$),{},{value:Kn(I,f),startAngle:q,endAngle:Q,payload:X,paddingAngle:Ra(_)*E}),k})}return U}function hNe(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:u,activeShape:m,inactiveShape:f,onAnimationStart:g,onAnimationEnd:x}=t,j=q1(t,"recharts-pie-"),_=n.current,[C,E]=w.useState(!0),A=w.useCallback(()=>{typeof x=="function"&&x(),E(!1)},[x]),M=w.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]);return w.createElement(Zl,{begin:i,duration:o,isActive:s,easing:u,from:{t:0},to:{t:1},onAnimationStart:M,onAnimationEnd:A,key:j},D=>{var{t:R}=D,U=[],k=r&&r[0],I=k.startAngle;return r.forEach((F,V)=>{var L=_&&_[V],$=V>0?gu(F,"paddingAngle",0):0;if(L){var Y=oi(L.endAngle-L.startAngle,F.endAngle-F.startAngle),q=Fr(Fr({},F),{},{startAngle:I+$,endAngle:I+Y(R)+$});U.push(q),I=q.endAngle}else{var{endAngle:X,startAngle:Q}=F,G=oi(0,X-Q),H=G(R),ee=Fr(Fr({},F),{},{startAngle:I+$,endAngle:I+H+$});U.push(ee),I=ee.endAngle}}),n.current=U,w.createElement(Mr,null,w.createElement(F$,{sectors:U,activeShape:m,inactiveShape:f,allOtherPieProps:t,showLabels:!C}))})}function mNe(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:s}=e,i=w.useRef(null),o=i.current;return n&&t&&t.length&&(!o||o!==t)?w.createElement(hNe,{props:e,previousSectorsRef:i}):w.createElement(F$,{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function gNe(e){var{hide:t,className:n,rootTabIndex:r}=e,s=ln("recharts-pie",n);return t?null:w.createElement(Mr,{tabIndex:r,className:s},w.createElement(mNe,e))}var U$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Au.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function pNe(e){var t=vi(e,U$),n=w.useMemo(()=>t0(e.children,vu),[e.children]),r=Gt(t,!1),s=w.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),i=bt(o=>wje(o,s,n));return w.createElement(w.Fragment,null,w.createElement(H1,{fn:aNe,args:Fr(Fr({},t),{},{sectors:i})}),w.createElement(gNe,Ud({},t,{sectors:i})))}class Yh extends w.PureComponent{constructor(){super(...arguments),Y1(this,"id",pu("recharts-pie-"))}render(){return w.createElement(w.Fragment,null,w.createElement(kje,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),w.createElement(rNe,this.props),w.createElement(pNe,this.props),this.props.children)}}Y1(Yh,"displayName","Pie");Y1(Yh,"defaultProps",U$);var xNe=Ue([Na],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),vNe=Ue([xNe,nc,rc],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),yNe=e=>{var t=ps();return bt(n=>Vi(n,"xAxis",e,t))},bNe=e=>{var t=ps();return bt(n=>Vi(n,"yAxis",e,t))},W1=()=>bt(vNe),wNe=()=>bt(wwe);function e6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function t6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(n),!0).forEach(function(r){jNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jNe(e,t,n){return(t=NNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NNe(e){var t=SNe(e,"string");return typeof t=="symbol"?t:t+""}function SNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ne=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=t6(t6({index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Gt(s,!1)),$E(s)),u;return w.isValidElement(s)?u=w.cloneElement(s,o):typeof s=="function"?u=s(o):u=w.createElement(wT,o),w.createElement(Mr,{className:"recharts-active-dot"},u)};function U_(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:s}=e,i=bt(xu),o=wNe();if(t==null||o==null)return null;var u=t.find(m=>o.includes(m.payload));return Fn(u)?null:_Ne({point:u,childIndex:Number(i),mainColor:n,dataKey:s,activeDot:r})}var ANe=()=>{var e=br();return w.useEffect(()=>(e(Nje()),()=>{e(Sje())})),null},ENe=["children"];function CNe(e,t){if(e==null)return{};var n,r,s=TNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function TNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var n6=()=>{},z$=w.createContext({addErrorBar:n6,removeErrorBar:n6}),ONe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},V$=w.createContext(ONe);function $$(e){var{children:t}=e,n=CNe(e,ENe);return w.createElement(V$.Provider,{value:n},t)}var MNe=()=>w.useContext(V$),OT=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:s,dataKey:i,data:o,stackId:u,hide:m,type:f,barSize:g}=e,[x,j]=w.useState([]),_=w.useCallback(A=>{j(M=>[...M,A])},[j]),C=w.useCallback(A=>{j(M=>M.filter(D=>D!==A))},[j]),E=ps();return w.createElement(z$.Provider,{value:{addErrorBar:_,removeErrorBar:C}},w.createElement(Rje,{type:f,data:o,xAxisId:n,yAxisId:r,zAxisId:s,dataKey:i,errorBars:x,stackId:u,hide:m,barSize:g,isPanorama:E}),t)};function DNe(e){var{addErrorBar:t,removeErrorBar:n}=w.useContext(z$);return w.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var PNe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function H$(e,t,n){return(t=RNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RNe(e){var t=kNe(e,"string");return typeof t=="symbol"?t:t+""}function kNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(null,arguments)}function INe(e,t){if(e==null)return{};var n,r,s=LNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function LNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function BNe(e){var{direction:t,width:n,dataKey:r,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:u}=e,m=INe(e,PNe),f=Gt(m,!1),{data:g,dataPointFormatter:x,xAxisId:j,yAxisId:_,errorBarOffset:C}=MNe(),E=yNe(j),A=bNe(_);if((E==null?void 0:E.scale)==null||(A==null?void 0:A.scale)==null||g==null||t==="x"&&E.type!=="number")return null;var M=g.map(D=>{var{x:R,y:U,value:k,errorVal:I}=x(D,r,t);if(!I)return null;var F=[],V,L;if(Array.isArray(I)?[V,L]=I:V=L=I,t==="x"){var{scale:$}=E,Y=U+C,q=Y+n,X=Y-n,Q=$(k-V),G=$(k+L);F.push({x1:G,y1:q,x2:G,y2:X}),F.push({x1:Q,y1:Y,x2:G,y2:Y}),F.push({x1:Q,y1:q,x2:Q,y2:X})}else if(t==="y"){var{scale:H}=A,ee=R+C,Z=ee-n,oe=ee+n,re=H(k-V),de=H(k+L);F.push({x1:Z,y1:de,x2:oe,y2:de}),F.push({x1:ee,y1:re,x2:ee,y2:de}),F.push({x1:Z,y1:re,x2:oe,y2:re})}var xe="".concat(R+C,"px ").concat(U+C,"px");return w.createElement(Mr,Cp({className:"recharts-errorBar",key:"bar-".concat(F.map(_e=>"".concat(_e.x1,"-").concat(_e.x2,"-").concat(_e.y1,"-").concat(_e.y2)))},f),F.map(_e=>{var ye=s?{transformOrigin:"".concat(_e.x1-5,"px")}:void 0;return w.createElement(Zl,{from:{transform:"scaleY(0)",transformOrigin:xe},to:{transform:"scaleY(1)",transformOrigin:xe},begin:i,easing:u,isActive:s,duration:o,key:"line-".concat(_e.x1,"-").concat(_e.x2,"-").concat(_e.y1,"-").concat(_e.y2),style:{transformOrigin:xe}},w.createElement("line",Cp({},_e,{style:ye})))}))});return w.createElement(Mr,{className:"recharts-errorBars"},M)}var q$=w.createContext(void 0);function FNe(e){var t=w.useContext(q$);return e??t??"x"}function Y$(e){var{direction:t,children:n}=e;return w.createElement(q$.Provider,{value:t},n)}var W$={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function UNe(e){var t=FNe(e.direction),{width:n,isAnimationActive:r,animationBegin:s,animationDuration:i,animationEasing:o}=vi(e,W$);return w.createElement(w.Fragment,null,w.createElement(DNe,{dataKey:e.dataKey,direction:t}),w.createElement(BNe,Cp({},e,{direction:t,width:n,isAnimationActive:r,animationBegin:s,animationDuration:i,animationEasing:o})))}class G$ extends w.Component{render(){return w.createElement(UNe,this.props)}}H$(G$,"defaultProps",W$);H$(G$,"displayName","ErrorBar");var zNe="Invariant failed";function VNe(e,t){throw new Error(zNe)}var $Ne=["x","y"];function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z_.apply(null,arguments)}function r6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(n),!0).forEach(function(r){HNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HNe(e,t,n){return(t=qNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qNe(e){var t=YNe(e,"string");return typeof t=="symbol"?t:t+""}function YNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WNe(e,t){if(e==null)return{};var n,r,s=GNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function GNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KNe(e,t){var{x:n,y:r}=e,s=WNe(e,$Ne),i="".concat(n),o=parseInt(i,10),u="".concat(r),m=parseInt(u,10),f="".concat(t.height||s.height),g=parseInt(f,10),x="".concat(t.width||s.width),j=parseInt(x,10);return Dg(Dg(Dg(Dg(Dg({},t),s),o?{x:o}:{}),m?{y:m}:{}),{},{height:g,width:j,name:t.name,radius:t.radius})}function K$(e){return w.createElement(L$,z_({shapeType:"rectangle",propTransformer:KNe,activeClassName:"recharts-active-bar"},e))}var XNe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(lt(t))return t;var i=lt(r)||Fn(r);return i?t(r,s):(i||VNe(),n)}};function G1(e,t){var n,r,s=bt(f=>sc(f,e)),i=bt(f=>Tu(f,t)),o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:ri.allowDataOverflow,u=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ai.allowDataOverflow,m=o||u;return{needClip:m,needClipX:o,needClipY:u}}function MT(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,s=W1(),{needClipX:i,needClipY:o,needClip:u}=G1(t,n);if(!u)return null;var{x:m,y:f,width:g,height:x}=s;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:i?m:m-g/2,y:o?f:f-x/2,width:i?g:g*2,height:o?x:x*2}))}var QNe=["onMouseEnter","onMouseLeave","onClick"],ZNe=["value","background","tooltipPosition"],JNe=["onMouseEnter","onClick","onMouseLeave"];function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tp.apply(null,arguments)}function a6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(n),!0).forEach(function(r){K1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K1(e,t,n){return(t=eSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eSe(e){var t=tSe(e,"string");return typeof t=="symbol"?t:t+""}function tSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V_(e,t){if(e==null)return{};var n,r,s=nSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rSe=e=>{var{dataKey:t,name:n,fill:r,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:r,value:_u(n,t),payload:e}]};function aSe(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:s,name:i,hide:o,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:_u(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:u}}}function sSe(e){var t=bt(xu),{data:n,dataKey:r,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:u,onClick:m}=i,f=V_(i,QNe),g=AT(o,r),x=ET(u),j=CT(m,r);if(!s||n==null)return null;var _=Gt(s,!1);return w.createElement(w.Fragment,null,n.map((C,E)=>{var{value:A,background:M,tooltipPosition:D}=C,R=V_(C,ZNe);if(!M)return null;var U=g(C,E),k=x(C,E),I=j(C,E),F=ss(ss(ss(ss(ss({option:s,isActive:String(E)===t},R),{},{fill:"#eee"},M),_),e0(f,C,E)),{},{onMouseEnter:U,onMouseLeave:k,onClick:I,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return w.createElement(K$,Tp({key:"background-bar-".concat(E)},F))}))}function X$(e){var{data:t,props:n,showLabels:r}=e,s=Gt(n,!1),{shape:i,dataKey:o,activeBar:u}=n,m=bt(xu),f=bt(p$),{onMouseEnter:g,onClick:x,onMouseLeave:j}=n,_=V_(n,JNe),C=AT(g,o),E=ET(j),A=CT(x,o);return t?w.createElement(w.Fragment,null,t.map((M,D)=>{var R=u&&String(D)===m&&(f==null||o===f),U=R?u:i,k=ss(ss(ss({},s),M),{},{isActive:R,option:U,index:D,dataKey:o});return w.createElement(Mr,Tp({className:"recharts-bar-rectangle"},e0(_,M,D),{onMouseEnter:C(M,D),onMouseLeave:E(M,D),onClick:A(M,D),key:"rectangle-".concat(M==null?void 0:M.x,"-").concat(M==null?void 0:M.y,"-").concat(M==null?void 0:M.value,"-").concat(D)}),w.createElement(K$,k))}),r&&Ul.renderCallByParent(n,t)):null}function iSe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:m,onAnimationEnd:f,onAnimationStart:g}=t,x=n.current,j=q1(t,"recharts-bar-"),[_,C]=w.useState(!1),E=w.useCallback(()=>{typeof f=="function"&&f(),C(!1)},[f]),A=w.useCallback(()=>{typeof g=="function"&&g(),C(!0)},[g]);return w.createElement(Zl,{begin:o,duration:u,isActive:i,easing:m,from:{t:0},to:{t:1},onAnimationEnd:E,onAnimationStart:A,key:j},M=>{var{t:D}=M,R=D===1?r:r.map((U,k)=>{var I=x&&x[k];if(I){var F=oi(I.x,U.x),V=oi(I.y,U.y),L=oi(I.width,U.width),$=oi(I.height,U.height);return ss(ss({},U),{},{x:F(D),y:V(D),width:L(D),height:$(D)})}if(s==="horizontal"){var Y=oi(0,U.height),q=Y(D);return ss(ss({},U),{},{y:U.y+U.height-q,height:q})}var X=oi(0,U.width),Q=X(D);return ss(ss({},U),{},{width:Q})});return D>0&&(n.current=R),w.createElement(Mr,null,w.createElement(X$,{props:t,data:R,showLabels:!_}))})}function oSe(e){var{data:t,isAnimationActive:n}=e,r=w.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?w.createElement(iSe,{previousRectanglesRef:r,props:e}):w.createElement(X$,{props:e,data:t,showLabels:!0})}var Q$=0,lSe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Kn(e,t)}};class cSe extends w.PureComponent{constructor(){super(...arguments),K1(this,"id",pu("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:r,className:s,xAxisId:i,yAxisId:o,needClip:u,background:m,id:f,layout:g}=this.props;if(t)return null;var x=ln("recharts-bar",s),j=Fn(f)?this.id:f;return w.createElement(Mr,{className:x},u&&w.createElement("defs",null,w.createElement(MT,{clipPathId:j,xAxisId:i,yAxisId:o})),w.createElement(Mr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(j,")"):null},w.createElement(sSe,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),w.createElement(oSe,this.props)),w.createElement(Y$,{direction:g==="horizontal"?"y":"x"},this.props.children))}}var Z$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Au.isSsr,legendType:"rect",minPointSize:Q$,xAxisId:0,yAxisId:0};function uSe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:g}=vi(e,Z$),{needClip:x}=G1(t,n),j=r0(),_=ps(),C=w.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:lC(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),E=t0(e.children,vu),A=bt(R=>BSe(R,t,n,_,C,E));if(j!=="vertical"&&j!=="horizontal")return null;var M,D=A==null?void 0:A[0];return D==null||D.height==null||D.width==null?M=0:M=j==="vertical"?D.height/2:D.width/2,w.createElement($$,{xAxisId:t,yAxisId:n,data:A,dataPointFormatter:lSe,errorBarOffset:M},w.createElement(cSe,Tp({},e,{layout:j,needClip:x,data:A,xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:g})))}function dSe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:i,xAxis:o,yAxis:u,xAxisTicks:m,yAxisTicks:f,stackedData:g,displayedData:x,offset:j,cells:_}=e,C=t==="horizontal"?u:o,E=g?C.scale.domain():null,A=Gpe({numericAxis:C});return x.map((M,D)=>{var R,U,k,I,F,V;g?R=$pe(g[D],E):(R=Kn(M,n),Array.isArray(R)||(R=[A,R]));var L=XNe(r,Q$)(R[1],D);if(t==="horizontal"){var $,[Y,q]=[u.scale(R[0]),u.scale(R[1])];U=Vk({axis:o,ticks:m,bandSize:i,offset:s.offset,entry:M,index:D}),k=($=q??Y)!==null&&$!==void 0?$:void 0,I=s.size;var X=Y-q;if(F=$s(X)?0:X,V={x:U,y:j.top,width:I,height:j.height},Math.abs(L)>0&&Math.abs(F)<Math.abs(L)){var Q=Ra(F||L)*(Math.abs(L)-Math.abs(F));k-=Q,F+=Q}}else{var[G,H]=[o.scale(R[0]),o.scale(R[1])];if(U=G,k=Vk({axis:u,ticks:f,bandSize:i,offset:s.offset,entry:M,index:D}),I=H-G,F=s.size,V={x:j.left,y:k,width:j.width,height:F},Math.abs(L)>0&&Math.abs(I)<Math.abs(L)){var ee=Ra(I||L)*(Math.abs(L)-Math.abs(I));I+=ee}}var Z=ss(ss({},M),{},{x:U,y:k,width:I,height:F,value:g?R:R[1],payload:M,background:V,tooltipPosition:{x:U+I/2,y:k+F/2}},_&&_[D]&&_[D].props);return Z})}class Gr extends w.PureComponent{render(){return w.createElement(OT,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},w.createElement(ANe,null),w.createElement(TT,{legendPayload:rSe(this.props)}),w.createElement(H1,{fn:aSe,args:this.props}),w.createElement(uSe,this.props))}}K1(Gr,"displayName","Bar");K1(Gr,"defaultProps",Z$);function s6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(n),!0).forEach(function(r){fSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fSe(e,t,n){return(t=hSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hSe(e){var t=mSe(e,"string");return typeof t=="symbol"?t:t+""}function mSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gSe=(e,t)=>t,pSe=(e,t,n)=>n,xSe=(e,t,n,r)=>r,DT=(e,t,n,r,s)=>s,vSe=(e,t,n,r,s)=>s.maxBarSize,ySe=(e,t,n,r,s,i)=>i,i6=(e,t,n)=>{var r=n??e;if(!Fn(r))return As(r,t,0)},bSe=Ue([pn,d0,gSe,pSe,xSe],(e,t,n,r,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),wSe=(e,t,n,r)=>{var s=pn(e);return s==="horizontal"?Ap(e,"yAxis",n,r):Ap(e,"xAxis",t,r)},jSe=(e,t,n)=>{var r=pn(e);return r==="horizontal"?o8(e,"xAxis",t):o8(e,"yAxis",n)};function NSe(e){return e.stackId!=null&&e.dataKey!=null}var SSe=(e,t,n)=>{var r={},s=e.filter(NSe),i=e.filter(f=>f.stackId==null),o=s.reduce((f,g)=>(f[g.stackId]||(f[g.stackId]=[]),f[g.stackId].push(g),f),r),u=Object.entries(o).map(f=>{var[g,x]=f,j=x.map(C=>C.dataKey),_=i6(t,n,x[0].barSize);return{stackId:g,dataKeys:j,barSize:_}}),m=i.map(f=>{var g=[f.dataKey].filter(j=>j!=null),x=i6(t,n,f.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...u,...m]},_Se=Ue([bSe,D1e,jSe],SSe),ASe=(e,t,n,r,s)=>{var i,o,u=pn(e),m=jV(e),{maxBarSize:f}=s,g=Fn(f)?m:f,x,j;return u==="horizontal"?(x=Vi(e,"xAxis",t,r),j=nl(e,"xAxis",t,r)):(x=Vi(e,"yAxis",n,r),j=nl(e,"yAxis",n,r)),(i=(o=Bd(x,j,!0))!==null&&o!==void 0?o:g)!==null&&i!==void 0?i:0},J$=(e,t,n,r)=>{var s=pn(e),i,o;return s==="horizontal"?(i=Vi(e,"xAxis",t,r),o=nl(e,"xAxis",t,r)):(i=Vi(e,"yAxis",n,r),o=nl(e,"yAxis",n,r)),Bd(i,o)};function ESe(e,t,n,r,s){var i=r.length;if(!(i<1)){var o=As(e,n,0,!0),u,m=[];if(Ya(r[0].barSize)){var f=!1,g=n/i,x=r.reduce((M,D)=>M+(D.barSize||0),0);x+=(i-1)*o,x>=n&&(x-=(i-1)*o,o=0),x>=n&&g>0&&(f=!0,g*=.9,x=i*g);var j=(n-x)/2>>0,_={offset:j-o,size:0};u=r.reduce((M,D)=>{var R,U={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:_.offset+_.size+o,size:f?g:(R=D.barSize)!==null&&R!==void 0?R:0}},k=[...M,U];return _=k[k.length-1].position,k},m)}else{var C=As(t,n,0,!0);n-2*C-(i-1)*o<=0&&(o=0);var E=(n-2*C-(i-1)*o)/i;E>1&&(E>>=0);var A=Ya(s)?Math.min(E,s):E;u=r.reduce((M,D,R)=>[...M,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:C+(E+o)*R+(E-A)/2,size:A}}],m)}return u}}var CSe=(e,t,n,r,s,i,o)=>{var u=Fn(o)?t:o,m=ESe(n,r,s!==i?s:i,e,u);return s!==i&&m!=null&&(m=m.map(f=>lv(lv({},f),{},{position:lv(lv({},f.position),{},{offset:f.position.offset-s/2})}))),m},TSe=Ue([_Se,jV,M1e,NV,ASe,J$,vSe],CSe),OSe=(e,t,n,r)=>Vi(e,"xAxis",t,r),MSe=(e,t,n,r)=>Vi(e,"yAxis",n,r),DSe=(e,t,n,r)=>nl(e,"xAxis",t,r),PSe=(e,t,n,r)=>nl(e,"yAxis",n,r),RSe=Ue([TSe,DT],(e,t)=>{if(e!=null){var n=e.find(r=>r.stackId===t.stackId&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),kSe=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:n}=t;if(n!=null){var r=e[n];if(r){var{stackedData:s}=r;if(s){var i=s.find(o=>o.key===t.dataKey);return i}}}}},ISe=Ue([d0,DT],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),LSe=Ue([wSe,DT],kSe),BSe=Ue([Na,OSe,MSe,DSe,PSe,RSe,pn,D1,J$,LSe,ISe,ySe],(e,t,n,r,s,i,o,u,m,f,g,x)=>{var{chartData:j,dataStartIndex:_,dataEndIndex:C}=u;if(!(g==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||n==null||r==null||s==null||m==null)){var{data:E}=g,A;if(E!=null&&E.length>0?A=E:A=j==null?void 0:j.slice(_,C+1),A!=null)return dSe({layout:o,barSettings:g,pos:i,bandSize:m,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,stackedData:f,displayedData:A,offset:e,cells:x})}}),eH=e=>{var{chartData:t}=e,n=br(),r=ps();return w.useEffect(()=>r?()=>{}:(n(x8(t)),()=>{n(x8(void 0))}),[t,n,r]),null},o6={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tH=qi({name:"brush",initialState:o6,reducers:{setBrushSettings(e,t){return t.payload==null?o6:t.payload}}}),{setBrushSettings:j4e}=tH.actions,FSe=tH.reducer;function USe(e,t,n){return(t=zSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zSe(e){var t=VSe(e,"string");return typeof t=="symbol"?t:t+""}function VSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PT{static create(t){return new PT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}USe(PT,"EPS",1e-4);function $Se(e){return(e%180+180)%180}var HSe=function(t){var{width:n,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=$Se(s),o=i*Math.PI/180,u=Math.atan(r/n),m=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(m)},qSe={dots:[],areas:[],lines:[]},nH=qi({name:"referenceElements",initialState:qSe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Bl(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Bl(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Bl(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:N4e,removeDot:S4e,addArea:_4e,removeArea:A4e,addLine:E4e,removeLine:C4e}=nH.actions,YSe=nH.reducer,WSe=w.createContext(void 0),GSe=e=>{var{children:t}=e,[n]=w.useState("".concat(pu("recharts"),"-clip")),r=W1();if(r==null)return null;var{x:s,y:i,width:o,height:u}=r;return w.createElement(WSe.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:s,y:i,height:u,width:o}))),t)};function UN(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function rH(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function KSe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return HSe(r,n)}function XSe(e,t,n){var r=n==="width",{x:s,y:i,width:o,height:u}=e;return t===1?{start:r?s:i,end:r?s+o:i+u}:{start:r?s+o:i+u,end:r?s:i}}function Cy(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-s)<=0}function QSe(e,t){return rH(e,t+1)}function ZSe(e,t,n,r,s){for(var i=(r||[]).slice(),{start:o,end:u}=t,m=0,f=1,g=o,x=function(){var C=r==null?void 0:r[m];if(C===void 0)return{v:rH(r,f)};var E=m,A,M=()=>(A===void 0&&(A=n(C,E)),A),D=C.coordinate,R=m===0||Cy(e,D,M,g,u);R||(m=0,g=o,f+=1),R&&(g=D+e*(M()/2+s),m+=f)},j;f<=i.length;)if(j=x(),j)return j.v;return[]}function l6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(n),!0).forEach(function(r){JSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JSe(e,t,n){return(t=e_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_e(e){var t=t_e(e,"string");return typeof t=="symbol"?t:t+""}function t_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n_e(e,t,n,r,s){for(var i=(r||[]).slice(),o=i.length,{start:u}=t,{end:m}=t,f=function(j){var _=i[j],C,E=()=>(C===void 0&&(C=n(_,j)),C);if(j===o-1){var A=e*(_.coordinate+e*E()/2-m);i[j]=_=as(as({},_),{},{tickCoord:A>0?_.coordinate-A*e:_.coordinate})}else i[j]=_=as(as({},_),{},{tickCoord:_.coordinate});var M=Cy(e,_.tickCoord,E,u,m);M&&(m=_.tickCoord-e*(E()/2+s),i[j]=as(as({},_),{},{isShow:!0}))},g=o-1;g>=0;g--)f(g);return i}function r_e(e,t,n,r,s,i){var o=(r||[]).slice(),u=o.length,{start:m,end:f}=t;if(i){var g=r[u-1],x=n(g,u-1),j=e*(g.coordinate+e*x/2-f);o[u-1]=g=as(as({},g),{},{tickCoord:j>0?g.coordinate-j*e:g.coordinate});var _=Cy(e,g.tickCoord,()=>x,m,f);_&&(f=g.tickCoord-e*(x/2+s),o[u-1]=as(as({},g),{},{isShow:!0}))}for(var C=i?u-1:u,E=function(D){var R=o[D],U,k=()=>(U===void 0&&(U=n(R,D)),U);if(D===0){var I=e*(R.coordinate-e*k()/2-m);o[D]=R=as(as({},R),{},{tickCoord:I<0?R.coordinate-I*e:R.coordinate})}else o[D]=R=as(as({},R),{},{tickCoord:R.coordinate});var F=Cy(e,R.tickCoord,k,m,f);F&&(m=R.tickCoord+e*(k()/2+s),o[D]=as(as({},R),{},{isShow:!0}))},A=0;A<C;A++)E(A);return o}function RT(e,t,n){var{tick:r,ticks:s,viewBox:i,minTickGap:o,orientation:u,interval:m,tickFormatter:f,unit:g,angle:x}=e;if(!s||!s.length||!r)return[];if(lt(m)||Au.isSsr){var j;return(j=QSe(s,lt(m)?m:0))!==null&&j!==void 0?j:[]}var _=[],C=u==="top"||u==="bottom"?"width":"height",E=g&&C==="width"?Zg(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},A=(R,U)=>{var k=typeof f=="function"?f(R.value,U):R.value;return C==="width"?KSe(Zg(k,{fontSize:t,letterSpacing:n}),E,x):Zg(k,{fontSize:t,letterSpacing:n})[C]},M=s.length>=2?Ra(s[1].coordinate-s[0].coordinate):1,D=XSe(i,M,C);return m==="equidistantPreserveStart"?ZSe(M,D,A,s,o):(m==="preserveStart"||m==="preserveStartEnd"?_=r_e(M,D,A,s,o,m==="preserveStartEnd"):_=n_e(M,D,A,s,o),_.filter(R=>R.isShow))}var a_e=["viewBox"],s_e=["viewBox"];function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(null,arguments)}function c6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(n),!0).forEach(function(r){kT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u6(e,t){if(e==null)return{};var n,r,s=i_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function i_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kT(e,t,n){return(t=o_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_e(e){var t=l_e(e,"string");return typeof t=="symbol"?t:t+""}function l_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ou extends w.Component{constructor(t){super(t),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,s=u6(t,a_e),i=this.props,{viewBox:o}=i,u=u6(i,s_e);return!UN(r,o)||!UN(s,u)||!UN(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:s,height:i,orientation:o,tickSize:u,mirror:m,tickMargin:f}=this.props,g,x,j,_,C,E,A=m?-1:1,M=t.tickSize||u,D=lt(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":g=x=t.coordinate,_=r+ +!m*i,j=_-A*M,E=j-A*f,C=D;break;case"left":j=_=t.coordinate,x=n+ +!m*s,g=x-A*M,C=g-A*f,E=D;break;case"right":j=_=t.coordinate,x=n+ +m*s,g=x+A*M,C=g+A*f,E=D;break;default:g=x=t.coordinate,_=r+ +m*i,j=_+A*M,E=j+A*f,C=D;break}return{line:{x1:g,y1:j,x2:x,y2:_},tick:{x:C,y:E}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:s,orientation:i,mirror:o,axisLine:u}=this.props,m=ya(ya(ya({},Gt(this.props,!1)),Gt(u,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);m=ya(ya({},m),{},{x1:t,y1:n+f*s,x2:t+r,y2:n+f*s})}else{var g=+(i==="left"&&!o||i==="right"&&o);m=ya(ya({},m),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+s})}return w.createElement("line",mh({},m,{className:ln("recharts-cartesian-axis-line",gu(u,"className"))}))}static renderTickItem(t,n,r){var s,i=ln(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))s=w.cloneElement(t,ya(ya({},n),{},{className:i}));else if(typeof t=="function")s=t(ya(ya({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ln(o,t.className)),s=w.createElement($1,mh({},n,{className:o}),r)}return s}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:u,unit:m}=this.props,f=RT(ya(ya({},this.props),{},{ticks:r}),t,n),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),j=Gt(this.props,!1),_=Gt(o,!1),C=ya(ya({},j),{},{fill:"none"},Gt(s,!1)),E=f.map((A,M)=>{var{line:D,tick:R}=this.getTickLineCoord(A),U=ya(ya(ya(ya({textAnchor:g,verticalAnchor:x},j),{},{stroke:"none",fill:i},_),R),{},{index:M,payload:A,visibleTicksCount:f.length,tickFormatter:u});return w.createElement(Mr,mh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},e0(this.props,A,M)),s&&w.createElement("line",mh({},C,D,{className:ln("recharts-cartesian-axis-tick-line",gu(s,"className"))})),o&&Ou.renderTickItem(o,U,"".concat(typeof u=="function"?u(A.value,M):A.value).concat(m||"")))});return E.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}render(){var{axisLine:t,width:n,height:r,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:w.createElement(Mr,{className:ln("recharts-cartesian-axis",s),ref:u=>{if(u){var m=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var f=m[0];if(f){var g=window.getComputedStyle(f).fontSize,x=window.getComputedStyle(f).letterSpacing;(g!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),li.renderCallByParent(this.props))}}kT(Ou,"displayName","CartesianAxis");kT(Ou,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var c_e=["x1","y1","x2","y2","key"],u_e=["offset"],d_e=["xAxisId","yAxisId"],f_e=["xAxisId","yAxisId"];function d6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(n),!0).forEach(function(r){h_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h_e(e,t,n){return(t=m_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m_e(e){var t=g_e(e,"string");return typeof t=="symbol"?t:t+""}function g_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd.apply(null,arguments)}function Ty(e,t){if(e==null)return{};var n,r,s=p_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function p_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x_e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:s,width:i,height:o,ry:u}=e;return w.createElement("rect",{x:r,y:s,ry:u,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aH(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:s,x2:i,y2:o,key:u}=t,m=Ty(t,c_e),f=Gt(m,!1),{offset:g}=f,x=Ty(f,u_e);n=w.createElement("line",bd({},x,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:u}))}return n}function v_e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,u=Ty(e,d_e),m=s.map((f,g)=>{var x=is(is({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(g),index:g});return aH(r,x)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function y_e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,u=Ty(e,f_e),m=s.map((f,g)=>{var x=is(is({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(g),index:g});return aH(r,x)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function b_e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:s,width:i,height:o,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var f=u.map(x=>Math.round(x+s-s)).sort((x,j)=>x-j);s!==f[0]&&f.unshift(0);var g=f.map((x,j)=>{var _=!f[j+1],C=_?s+o-x:f[j+1]-x;if(C<=0)return null;var E=j%t.length;return w.createElement("rect",{key:"react-".concat(j),y:x,x:r,height:C,width:i,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function w_e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:s,y:i,width:o,height:u,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var f=m.map(x=>Math.round(x+s-s)).sort((x,j)=>x-j);s!==f[0]&&f.unshift(0);var g=f.map((x,j)=>{var _=!f[j+1],C=_?s+o-x:f[j+1]-x;if(C<=0)return null;var E=j%n.length;return w.createElement("rect",{key:"react-".concat(j),x,y:i,width:C,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var j_e=(e,t)=>{var{xAxis:n,width:r,height:s,offset:i}=e;return cz(RT(is(is(is({},Ou.defaultProps),n),{},{ticks:uz(n),viewBox:{x:0,y:0,width:r,height:s}})),i.left,i.left+i.width,t)},N_e=(e,t)=>{var{yAxis:n,width:r,height:s,offset:i}=e;return cz(RT(is(is(is({},Ou.defaultProps),n),{},{ticks:uz(n),viewBox:{x:0,y:0,width:r,height:s}})),i.top,i.top+i.height,t)},S_e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function oa(e){var t=fC(),n=hC(),r=gz(),s=is(is({},vi(e,S_e)),{},{x:lt(e.x)?e.x:r.left,y:lt(e.y)?e.y:r.top,width:lt(e.width)?e.width:r.width,height:lt(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:u,y:m,width:f,height:g,syncWithTicks:x,horizontalValues:j,verticalValues:_}=s,C=ps(),E=bt(L=>l8(L,"xAxis",i,C)),A=bt(L=>l8(L,"yAxis",o,C));if(!lt(f)||f<=0||!lt(g)||g<=0||!lt(u)||u!==+u||!lt(m)||m!==+m)return null;var M=s.verticalCoordinatesGenerator||j_e,D=s.horizontalCoordinatesGenerator||N_e,{horizontalPoints:R,verticalPoints:U}=s;if((!R||!R.length)&&typeof D=="function"){var k=j&&j.length,I=D({yAxis:A?is(is({},A),{},{ticks:k?j:A.ticks}):void 0,width:t,height:n,offset:r},k?!0:x);Qg(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(R=I)}if((!U||!U.length)&&typeof M=="function"){var F=_&&_.length,V=M({xAxis:E?is(is({},E),{},{ticks:F?_:E.ticks}):void 0,width:t,height:n,offset:r},F?!0:x);Qg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(U=V)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(x_e,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),w.createElement(b_e,bd({},s,{horizontalPoints:R})),w.createElement(w_e,bd({},s,{verticalPoints:U})),w.createElement(v_e,bd({},s,{offset:r,horizontalPoints:R,xAxis:E,yAxis:A})),w.createElement(y_e,bd({},s,{offset:r,verticalPoints:U,xAxis:E,yAxis:A})))}oa.displayName="CartesianGrid";var sH=(e,t,n,r)=>Vi(e,"xAxis",t,r),iH=(e,t,n,r)=>nl(e,"xAxis",t,r),oH=(e,t,n,r)=>Vi(e,"yAxis",n,r),lH=(e,t,n,r)=>nl(e,"yAxis",n,r),__e=Ue([pn,sH,oH,iH,lH],(e,t,n,r,s)=>ol(e,"xAxis")?Bd(t,r,!1):Bd(n,s,!1)),A_e=(e,t,n,r,s)=>s,E_e=Ue([d0,A_e],(e,t)=>{if(e.some(n=>n.type==="line"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),C_e=Ue([pn,sH,oH,iH,lH,E_e,__e,D1],(e,t,n,r,s,i,o,u)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:g}=u;if(!(i==null||t==null||n==null||r==null||s==null||r.length===0||s.length===0||o==null)){var{dataKey:x,data:j}=i,_;if(j!=null&&j.length>0?_=j:_=m==null?void 0:m.slice(f,g+1),_!=null)return W_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:x,bandSize:o,displayedData:_})}}),T_e=["type","layout","connectNulls","needClip"],O_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function cH(e,t){if(e==null)return{};var n,r,s=M_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function M_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function f6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(n),!0).forEach(function(r){X1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X1(e,t,n){return(t=D_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_e(e){var t=P_e(e,"string");return typeof t=="symbol"?t:t+""}function P_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh.apply(null,arguments)}var R_e=e=>{var{dataKey:t,name:n,stroke:r,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:r,value:_u(n,t),payload:e}]};function k_e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:i,name:o,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:_u(o,t),hide:u,type:e.tooltipType,color:e.stroke,unit:m}}}var uH=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function I_e(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...n];return r}var L_e=(e,t,n)=>{var r=n.reduce((x,j)=>x+j);if(!r)return uH(t,e);for(var s=Math.floor(e/r),i=e%r,o=t-e,u=[],m=0,f=0;m<n.length;f+=n[m],++m)if(f+n[m]>i){u=[...n.slice(0,m),i-f];break}var g=u.length%2===0?[0,o]:[o];return[...I_e(n,s),...u,...g].map(x=>"".concat(x,"px")).join(", ")};function B_e(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ln("recharts-line-dot",typeof e!="boolean"?e.className:"");n=w.createElement(wT,Wh({},t,{className:r}))}return n}function F_e(e,t){return e==null?!1:t?!0:e.length===1}function U_e(e){var{clipPathId:t,points:n,props:r}=e,{dot:s,dataKey:i,needClip:o}=r;if(!F_e(n,s))return null;var u=f1(s),m=Gt(r,!1),f=Gt(s,!0),g=n.map((j,_)=>{var C=lo(lo(lo({key:"dot-".concat(_),r:3},m),f),{},{index:_,cx:j.x,cy:j.y,dataKey:i,value:j.value,payload:j.payload,points:n});return B_e(s,C)}),x={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):null};return w.createElement(Mr,Wh({className:"recharts-line-dots",key:"dots"},x),g)}function $_(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:s,props:i,showLabels:o}=e,{type:u,layout:m,connectNulls:f,needClip:g}=i,x=cH(i,T_e),j=lo(lo({},Gt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(t,")"):null,points:r,type:u,layout:m,connectNulls:f,strokeDasharray:s??i.strokeDasharray});return w.createElement(w.Fragment,null,(r==null?void 0:r.length)>1&&w.createElement(Nh,Wh({},j,{pathRef:n})),w.createElement(U_e,{points:r,clipPathId:t,props:i}),o&&Ul.renderCallByParent(i,r))}function z_e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function V_e(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:u,isAnimationActive:m,animationBegin:f,animationDuration:g,animationEasing:x,animateNewValues:j,width:_,height:C,onAnimationEnd:E,onAnimationStart:A}=n,M=s.current,D=q1(n,"recharts-line-"),[R,U]=w.useState(!1),k=w.useCallback(()=>{typeof E=="function"&&E(),U(!1)},[E]),I=w.useCallback(()=>{typeof A=="function"&&A(),U(!0)},[A]),F=z_e(r.current),V=i.current;return w.createElement(Zl,{begin:f,duration:g,isActive:m,easing:x,from:{t:0},to:{t:1},onAnimationEnd:k,onAnimationStart:I,key:D},L=>{var{t:$}=L,Y=oi(V,F+V),q=Math.min(Y($),F),X;if(u){var Q="".concat(u).split(/[,\s]+/gim).map(ee=>parseFloat(ee));X=L_e(q,F,Q)}else X=uH(F,q);if(M){var G=M.length/o.length,H=$===1?o:o.map((ee,Z)=>{var oe=Math.floor(Z*G);if(M[oe]){var re=M[oe],de=oi(re.x,ee.x),xe=oi(re.y,ee.y);return lo(lo({},ee),{},{x:de($),y:xe($)})}if(j){var _e=oi(_*2,ee.x),ye=oi(C/2,ee.y);return lo(lo({},ee),{},{x:_e($),y:ye($)})}return lo(lo({},ee),{},{x:ee.x,y:ee.y})});return s.current=H,w.createElement($_,{props:n,points:H,clipPathId:t,pathRef:r,showLabels:!R,strokeDasharray:X})}return $>0&&F>0&&(s.current=o,i.current=q),w.createElement($_,{props:n,points:o,clipPathId:t,pathRef:r,showLabels:!R,strokeDasharray:X})})}function $_e(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:s}=n,i=w.useRef(null),o=w.useRef(0),u=w.useRef(null),m=i.current;return s&&r&&r.length&&m!==r?w.createElement(V_e,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:u}):w.createElement($_,{props:n,points:r,clipPathId:t,pathRef:u,showLabels:!0})}var H_e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Kn(e.payload,t)});class q_e extends w.Component{constructor(){super(...arguments),X1(this,"id",pu("recharts-line-"))}render(){var t,{hide:n,dot:r,points:s,className:i,xAxisId:o,yAxisId:u,top:m,left:f,width:g,height:x,id:j,needClip:_,layout:C}=this.props;if(n)return null;var E=ln("recharts-line",i),A=Fn(j)?this.id:j,{r:M=3,strokeWidth:D=2}=(t=Gt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=f1(r),U=M*2+D;return w.createElement(w.Fragment,null,w.createElement(Mr,{className:E},_&&w.createElement("defs",null,w.createElement(MT,{clipPathId:A,xAxisId:o,yAxisId:u}),!R&&w.createElement("clipPath",{id:"clipPath-dots-".concat(A)},w.createElement("rect",{x:f-U/2,y:m-U/2,width:g+U,height:x+U}))),w.createElement($_e,{props:this.props,clipPathId:A}),w.createElement(Y$,{direction:C==="horizontal"?"y":"x"},w.createElement($$,{xAxisId:o,yAxisId:u,data:s,dataPointFormatter:H_e,errorBarOffset:0},this.props.children))),w.createElement(U_,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var dH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Au.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Y_e(e){var t=vi(e,dH),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:u,dot:m,hide:f,isAnimationActive:g,label:x,legendType:j,xAxisId:_,yAxisId:C}=t,E=cH(t,O_e),{needClip:A}=G1(_,C),{height:M,width:D,x:R,y:U}=W1(),k=r0(),I=ps(),F=w.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),V=bt(L=>C_e(L,_,C,I,F));return k!=="horizontal"&&k!=="vertical"?null:w.createElement(q_e,Wh({},E,{connectNulls:u,dot:m,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:g,hide:f,label:x,legendType:j,xAxisId:_,yAxisId:C,points:V,layout:k,height:M,width:D,left:R,top:U,needClip:A}))}function W_e(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:u,displayedData:m}=e;return m.map((f,g)=>{var x=Kn(f,o);return t==="horizontal"?{x:cy({axis:n,ticks:s,bandSize:u,entry:f,index:g}),y:Fn(x)?null:r.scale(x),value:x,payload:f}:{x:Fn(x)?null:n.scale(x),y:cy({axis:r,ticks:i,bandSize:u,entry:f,index:g}),value:x,payload:f}})}class Bi extends w.PureComponent{render(){return w.createElement(OT,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},w.createElement(TT,{legendPayload:R_e(this.props)}),w.createElement(H1,{fn:k_e,args:this.props}),w.createElement(Y_e,this.props))}}X1(Bi,"displayName","Line");X1(Bi,"defaultProps",dH);var fH=(e,t,n,r)=>Vi(e,"xAxis",t,r),hH=(e,t,n,r)=>nl(e,"xAxis",t,r),mH=(e,t,n,r)=>Vi(e,"yAxis",n,r),gH=(e,t,n,r)=>nl(e,"yAxis",n,r),G_e=Ue([pn,fH,mH,hH,gH],(e,t,n,r,s)=>ol(e,"xAxis")?Bd(t,r,!1):Bd(n,s,!1)),K_e=(e,t,n,r,s)=>{var i,o=pn(e),u=ol(o,"xAxis"),m;if(u?m=Ap(e,"yAxis",n,r):m=Ap(e,"xAxis",t,r),m!=null){var{dataKey:f,stackId:g}=s;if(g!=null){var x=(i=m[g])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(j=>j.key===f)}}},X_e=(e,t,n,r,s)=>s,Q_e=Ue([d0,X_e],(e,t)=>{if(e.some(n=>n.type==="area"&&t.dataKey===n.dataKey&&lC(t.stackId)===n.stackId&&t.data===n.data))return t}),Z_e=Ue([pn,fH,mH,hH,gH,K_e,D1,G_e,Q_e],(e,t,n,r,s,i,o,u,m)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:x}=o;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||s==null||r.length===0||s.length===0||u==null)){var{data:j}=m,_;if(j&&j.length>0?_=j:_=f==null?void 0:f.slice(g,x+1),_!=null){var C=void 0;return xAe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataStartIndex:g,areaSettings:m,stackedData:i,displayedData:_,chartBaseValue:C,bandSize:u})}}}),J_e=["layout","type","stroke","connectNulls","isRange"],eAe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function pH(e,t){if(e==null)return{};var n,r,s=tAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function tAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function h6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(n),!0).forEach(function(r){Q1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q1(e,t,n){return(t=nAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nAe(e){var t=rAe(e,"string");return typeof t=="symbol"?t:t+""}function rAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(null,arguments)}function Oy(e,t){return e&&e!=="none"?e:t}var aAe=e=>{var{dataKey:t,name:n,stroke:r,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Oy(r,s),value:_u(n,t),payload:e}]};function sAe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:i,name:o,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:_u(o,t),hide:u,type:e.tooltipType,color:Oy(r,i),unit:m}}}var iAe=(e,t)=>{var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ln("recharts-area-dot",typeof e!="boolean"?e.className:"");n=w.createElement(wT,ru({},t,{className:r}))}return n};function oAe(e,t){return e==null?!1:t?!0:e.length===1}function lAe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:s,dot:i,dataKey:o}=r;if(!oAe(n,i))return null;var u=f1(i),m=Gt(r,!1),f=Gt(i,!0),g=n.map((j,_)=>{var C=wd(wd(wd({key:"dot-".concat(_),r:3},m),f),{},{index:_,cx:j.x,cy:j.y,dataKey:o,value:j.value,payload:j.payload,points:n});return iAe(i,C)}),x={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return w.createElement(Mr,ru({className:"recharts-area-dots"},x),g)}function H_(e){var{points:t,baseLine:n,needClip:r,clipPathId:s,props:i,showLabels:o}=e,{layout:u,type:m,stroke:f,connectNulls:g,isRange:x}=i,j=pH(i,J_e);return w.createElement(w.Fragment,null,(t==null?void 0:t.length)>1&&w.createElement(Mr,{clipPath:r?"url(#clipPath-".concat(s,")"):void 0},w.createElement(Nh,ru({},Gt(j,!0),{points:t,connectNulls:g,type:m,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&w.createElement(Nh,ru({},Gt(i,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:g,fill:"none",points:t})),f!=="none"&&x&&w.createElement(Nh,ru({},Gt(i,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:g,fill:"none",points:n}))),w.createElement(lAe,{points:t,props:i,clipPathId:s}),o&&Ul.renderCallByParent(i,t))}function cAe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:s}=e,i=r[0].y,o=r[r.length-1].y;if(!Ya(i)||!Ya(o))return null;var u=t*Math.abs(i-o),m=Math.max(...r.map(f=>f.x||0));return lt(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(f=>f.x||0),m)),lt(m)?w.createElement("rect",{x:0,y:i<o?i:i-u,width:m+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function uAe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:s}=e,i=r[0].x,o=r[r.length-1].x;if(!Ya(i)||!Ya(o))return null;var u=t*Math.abs(i-o),m=Math.max(...r.map(f=>f.y||0));return lt(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(f=>f.y||0),m)),lt(m)?w.createElement("rect",{x:i<o?i:i-u,y:0,width:u,height:Math.floor(m+(s?parseInt("".concat(s),10):1))}):null}function dAe(e){var{alpha:t,layout:n,points:r,baseLine:s,strokeWidth:i}=e;return n==="vertical"?w.createElement(cAe,{alpha:t,points:r,baseLine:s,strokeWidth:i}):w.createElement(uAe,{alpha:t,points:r,baseLine:s,strokeWidth:i})}function fAe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:u,isAnimationActive:m,animationBegin:f,animationDuration:g,animationEasing:x,onAnimationStart:j,onAnimationEnd:_}=r,C=q1(r,"recharts-area-"),[E,A]=w.useState(!0),M=w.useCallback(()=>{typeof _=="function"&&_(),A(!1)},[_]),D=w.useCallback(()=>{typeof j=="function"&&j(),A(!0)},[j]),R=s.current,U=i.current;return w.createElement(Zl,{begin:f,duration:g,isActive:m,easing:x,from:{t:0},to:{t:1},onAnimationEnd:M,onAnimationStart:D,key:C},k=>{var{t:I}=k;if(R){var F=R.length/o.length,V=I===1?o:o.map(($,Y)=>{var q=Math.floor(Y*F);if(R[q]){var X=R[q];return wd(wd({},$),{},{x:nh(X.x,$.x,I),y:nh(X.y,$.y,I)})}return $}),L;return lt(u)?L=nh(U,u,I):Fn(u)||$s(u)?L=nh(U,0,I):L=u.map(($,Y)=>{var q=Math.floor(Y*F);if(Array.isArray(U)&&U[q]){var X=U[q];return wd(wd({},$),{},{x:nh(X.x,$.x,I),y:nh(X.y,$.y,I)})}return $}),I>0&&(s.current=V,i.current=L),w.createElement(H_,{points:V,baseLine:L,needClip:t,clipPathId:n,props:r,showLabels:!E})}return I>0&&(s.current=o,i.current=u),w.createElement(Mr,null,w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(dAe,{alpha:I,points:o,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),w.createElement(Mr,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(H_,{points:o,baseLine:u,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function hAe(e){var{needClip:t,clipPathId:n,props:r}=e,{points:s,baseLine:i,isAnimationActive:o}=r,u=w.useRef(null),m=w.useRef(),f=u.current,g=m.current;return o&&s&&s.length&&(f!==s||g!==i)?w.createElement(fAe,{needClip:t,clipPathId:n,props:r,previousPointsRef:u,previousBaselineRef:m}):w.createElement(H_,{points:s,baseLine:i,needClip:t,clipPathId:n,props:r,showLabels:!0})}class mAe extends w.PureComponent{constructor(){super(...arguments),Q1(this,"id",pu("recharts-area-"))}render(){var t,{hide:n,dot:r,points:s,className:i,top:o,left:u,needClip:m,xAxisId:f,yAxisId:g,width:x,height:j,id:_,baseLine:C}=this.props;if(n)return null;var E=ln("recharts-area",i),A=Fn(_)?this.id:_,{r:M=3,strokeWidth:D=2}=(t=Gt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=f1(r),U=M*2+D;return w.createElement(w.Fragment,null,w.createElement(Mr,{className:E},m&&w.createElement("defs",null,w.createElement(MT,{clipPathId:A,xAxisId:f,yAxisId:g}),!R&&w.createElement("clipPath",{id:"clipPath-dots-".concat(A)},w.createElement("rect",{x:u-U/2,y:o-U/2,width:x+U,height:j+U}))),w.createElement(hAe,{needClip:m,clipPathId:A,props:this.props})),w.createElement(U_,{points:s,mainColor:Oy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(C)&&w.createElement(U_,{points:C,mainColor:Oy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var xH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Au.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function gAe(e){var t,n=vi(e,xH),{activeDot:r,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:u,dot:m,fill:f,fillOpacity:g,hide:x,isAnimationActive:j,legendType:_,stroke:C,xAxisId:E,yAxisId:A}=n,M=pH(n,eAe),D=r0(),R=v$(),{needClip:U}=G1(E,A),k=ps(),I=w.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:u,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,u,e.data,e.dataKey]),{points:F,isRange:V,baseLine:L}=(t=bt(Q=>Z_e(Q,E,A,k,I)))!==null&&t!==void 0?t:{},{height:$,width:Y,x:q,y:X}=W1();return D!=="horizontal"&&D!=="vertical"||R!=="AreaChart"&&R!=="ComposedChart"?null:w.createElement(mAe,ru({},M,{activeDot:r,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:L,connectNulls:u,dot:m,fill:f,fillOpacity:g,height:$,hide:x,layout:D,isAnimationActive:j,isRange:V,legendType:_,needClip:U,points:F,stroke:C,width:Y,left:q,top:X,xAxisId:E,yAxisId:A}))}var pAe=(e,t,n,r,s)=>{var i=n??t;if(lt(i))return i;var o=e==="horizontal"?s:r,u=o.scale.domain();if(o.type==="number"){var m=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return i==="dataMin"?f:i==="dataMax"||m<0?m:Math.max(Math.min(u[0],u[1]),0)}return i==="dataMin"?u[0]:i==="dataMax"?u[1]:u[0]};function xAe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:s,layout:i,chartBaseValue:o,xAxis:u,yAxis:m,displayedData:f,dataStartIndex:g,xAxisTicks:x,yAxisTicks:j,bandSize:_}=e,C=s&&s.length,E=pAe(i,o,n,u,m),A=i==="horizontal",M=!1,D=f.map((U,k)=>{var I;C?I=s[g+k]:(I=Kn(U,r),Array.isArray(I)?M=!0:I=[E,I]);var F=I[1]==null||C&&!t&&Kn(U,r)==null;return A?{x:cy({axis:u,ticks:x,bandSize:_,entry:U,index:k}),y:F?null:m.scale(I[1]),value:I,payload:U}:{x:F?null:u.scale(I[1]),y:cy({axis:m,ticks:j,bandSize:_,entry:U,index:k}),value:I,payload:U}}),R;return C||M?R=D.map(U=>{var k=Array.isArray(U.value)?U.value[0]:null;return A?{x:U.x,y:k!=null&&U.y!=null?m.scale(k):null}:{x:k!=null?u.scale(k):null,y:U.y}}):R=A?m.scale(E):u.scale(E),{points:D,baseLine:R,isRange:M}}class zd extends w.PureComponent{render(){return w.createElement(OT,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},w.createElement(TT,{legendPayload:aAe(this.props)}),w.createElement(H1,{fn:sAe,args:this.props}),w.createElement(gAe,this.props))}}Q1(zd,"displayName","Area");Q1(zd,"defaultProps",xH);function m6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function g6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(n),!0).forEach(function(r){vAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vAe(e,t,n){return(t=yAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yAe(e){var t=bAe(e,"string");return typeof t=="symbol"?t:t+""}function bAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wAe={xAxis:{},yAxis:{},zAxis:{}},vH=qi({name:"cartesianAxis",initialState:wAe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=g6(g6({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:jAe,removeXAxis:NAe,addYAxis:SAe,removeYAxis:_Ae,addZAxis:T4e,removeZAxis:O4e,updateYAxisWidth:AAe}=vH.actions,EAe=vH.reducer,CAe=["children"],TAe=["dangerouslySetInnerHTML","ticks"];function yH(e,t,n){return(t=OAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OAe(e){var t=MAe(e,"string");return typeof t=="symbol"?t:t+""}function MAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q_.apply(null,arguments)}function bH(e,t){if(e==null)return{};var n,r,s=DAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function DAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PAe(e){var t=br(),n=w.useMemo(()=>{var{children:i}=e,o=bH(e,CAe);return o},[e]),r=bt(i=>sc(i,n.id)),s=n===r;return w.useEffect(()=>(t(jAe(n)),()=>{t(NAe(n))}),[n,t]),s?e.children:null}var RAe=e=>{var{xAxisId:t,className:n}=e,r=bt(mz),s=ps(),i="xAxis",o=bt(_=>xm(_,i,t,s)),u=bt(_=>QV(_,i,t,s)),m=bt(_=>WV(_,t)),f=bt(_=>Sbe(_,t));if(m==null||f==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,j=bH(e,TAe);return w.createElement(Ou,q_({},j,{scale:o,x:f.x,y:f.y,width:m.width,height:m.height,className:ln("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:u}))},kAe=e=>{var t,n,r,s,i;return w.createElement(PAe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},w.createElement(RAe,e))};class Kr extends w.Component{render(){return w.createElement(kAe,this.props)}}yH(Kr,"displayName","XAxis");yH(Kr,"defaultProps",{allowDataOverflow:ri.allowDataOverflow,allowDecimals:ri.allowDecimals,allowDuplicatedCategory:ri.allowDuplicatedCategory,height:ri.height,hide:!1,mirror:ri.mirror,orientation:ri.orientation,padding:ri.padding,reversed:ri.reversed,scale:ri.scale,tickCount:ri.tickCount,type:ri.type,xAxisId:0});var IAe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>o&&(o=x.width)}});var u=n?n.getBoundingClientRect().width:0,m=s+i,f=o+m+u+(n?r:0);return Math.round(f)}return 0},LAe=["dangerouslySetInnerHTML","ticks"];function wH(e,t,n){return(t=BAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BAe(e){var t=FAe(e,"string");return typeof t=="symbol"?t:t+""}function FAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y_.apply(null,arguments)}function UAe(e,t){if(e==null)return{};var n,r,s=zAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function zAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VAe(e){var t=br();return w.useEffect(()=>(t(SAe(e)),()=>{t(_Ae(e))}),[e,t]),null}var $Ae=e=>{var t,{yAxisId:n,className:r,width:s,label:i}=e,o=w.useRef(null),u=w.useRef(null),m=bt(mz),f=ps(),g=br(),x="yAxis",j=bt(R=>xm(R,x,n,f)),_=bt(R=>GV(R,n)),C=bt(R=>_be(R,n)),E=bt(R=>QV(R,x,n,f));if(w.useLayoutEffect(()=>{var R;if(!(s!=="auto"||!_||bT(i)||w.isValidElement(i))){var U=o.current,k=U==null||(R=U.tickRefs)===null||R===void 0?void 0:R.current,{tickSize:I,tickMargin:F}=U.props,V=IAe({ticks:k,label:u.current,labelGapWithTick:5,tickSize:I,tickMargin:F});Math.round(_.width)!==Math.round(V)&&g(AAe({id:n,width:V}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,_==null?void 0:_.width,_,g,i,n,s]),_==null||C==null)return null;var{dangerouslySetInnerHTML:A,ticks:M}=e,D=UAe(e,LAe);return w.createElement(Ou,Y_({},D,{ref:o,labelRef:u,scale:j,x:C.x,y:C.y,width:_.width,height:_.height,className:ln("recharts-".concat(x," ").concat(x),r),viewBox:m,ticks:E}))},HAe=e=>{var t,n,r,s,i;return w.createElement(w.Fragment,null,w.createElement(VAe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),w.createElement($Ae,e))},qAe={allowDataOverflow:ai.allowDataOverflow,allowDecimals:ai.allowDecimals,allowDuplicatedCategory:ai.allowDuplicatedCategory,hide:!1,mirror:ai.mirror,orientation:ai.orientation,padding:ai.padding,reversed:ai.reversed,scale:ai.scale,tickCount:ai.tickCount,type:ai.type,width:ai.width,yAxisId:0};class Xr extends w.Component{render(){return w.createElement(HAe,this.props)}}wH(Xr,"displayName","YAxis");wH(Xr,"defaultProps",qAe);var zN={exports:{}},VN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p6;function YAe(){if(p6)return VN;p6=1;var e=Gh();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,u=e.useDebugValue;return VN.useSyncExternalStoreWithSelector=function(m,f,g,x,j){var _=s(null);if(_.current===null){var C={hasValue:!1,value:null};_.current=C}else C=_.current;_=o(function(){function A(k){if(!M){if(M=!0,D=k,k=x(k),j!==void 0&&C.hasValue){var I=C.value;if(j(I,k))return R=I}return R=k}if(I=R,n(D,k))return I;var F=x(k);return j!==void 0&&j(I,F)?(D=k,I):(D=k,R=F)}var M=!1,D,R,U=g===void 0?null:g;return[function(){return A(f())},U===null?void 0:function(){return A(U())}]},[f,g,x,j]);var E=r(m,_[0],_[1]);return i(function(){C.hasValue=!0,C.value=E},[E]),u(E),E},VN}var x6;function WAe(){return x6||(x6=1,zN.exports=YAe()),zN.exports}WAe();function GAe(e){e()}function KAe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){GAe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var v6={notify(){},get:()=>[]};function XAe(e,t){let n,r=v6,s=0,i=!1;function o(E){g();const A=r.subscribe(E);let M=!1;return()=>{M||(M=!0,A(),x())}}function u(){r.notify()}function m(){C.onStateChange&&C.onStateChange()}function f(){return i}function g(){s++,n||(n=e.subscribe(m),r=KAe())}function x(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=v6)}function j(){i||(i=!0,g())}function _(){i&&(i=!1,x())}const C={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:f,trySubscribe:j,tryUnsubscribe:_,getListeners:()=>r};return C}var QAe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZAe=QAe(),JAe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eEe=JAe(),tEe=()=>ZAe||eEe?w.useLayoutEffect:w.useEffect,nEe=tEe(),$N=Symbol.for("react-redux-context"),HN=typeof globalThis<"u"?globalThis:{};function rEe(){if(!w.createContext)return{};const e=HN[$N]??(HN[$N]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var aEe=rEe();function sEe(e){const{children:t,context:n,serverState:r,store:s}=e,i=w.useMemo(()=>{const m=XAe(s);return{store:s,subscription:m,getServerState:r?()=>r:void 0}},[s,r]),o=w.useMemo(()=>s.getState(),[s]);nEe(()=>{const{subscription:m}=i;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),o!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[i,o]);const u=n||aEe;return w.createElement(u.Provider,{value:i},t)}var iEe=sEe,oEe=(e,t)=>t,IT=Ue([oEe,pn,B1e,La,f$,ic,Ewe,Na],Dwe),LT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},jH=Ui("mouseClick"),NH=n0();NH.startListening({actionCreator:jH,effect:(e,t)=>{var n=e.payload,r=IT(t.getState(),LT(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Bbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var W_=Ui("mouseMove"),SH=n0();SH.startListening({actionCreator:W_,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=dT(r,r.tooltip.settings.shared),i=IT(r,LT(n));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(s$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(a$()))}});function lEe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var y6={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},_H=qi({name:"rootProps",initialState:y6,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:y6.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),cEe=_H.reducer,{updateOptions:uEe}=_H.actions,AH=qi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:dEe}=AH.actions,fEe=AH.reducer,EH=Ui("keyDown"),CH=Ui("focus"),BT=n0();BT.startListening({actionCreator:EH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(fT(s,Jd(n))),u=ic(n);if(i==="Enter"){var m=Sy(n,"axis","hover",String(s.index));t.dispatch(R_({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var f=Tbe(n),g=f==="left-to-right"?1:-1,x=i==="ArrowRight"?1:-1,j=o+x*g;if(!(u==null||j>=u.length||j<0)){var _=Sy(n,"axis","hover",String(j));t.dispatch(R_({active:!0,activeIndex:j.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});BT.startListening({actionCreator:CH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var i="0",o=Sy(n,"axis","hover",String(i));t.dispatch(R_({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Di=Ui("externalEvent"),TH=n0();TH.startListening({actionCreator:Di,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:vwe(n),activeDataKey:p$(n),activeIndex:xu(n),activeLabel:g$(n),activeTooltipIndex:xu(n),isTooltipActive:ywe(n)};e.payload.handler(r,e.payload.reactEvent)}}});var hEe=Ue([vm],e=>e.tooltipItemPayloads),mEe=Ue([hEe,m0,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var s=e.find(u=>u.settings.dataKey===r);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,n);return o}}}),OH=Ui("touchMove"),MH=n0();MH.startListening({actionCreator:OH,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=dT(r,r.tooltip.settings.shared);if(s==="axis"){var i=IT(r,LT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(s$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,u=n.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(fz),g=(o=m.getAttribute(hz))!==null&&o!==void 0?o:void 0,x=mEe(t.getState(),f,g);t.dispatch(r$({activeDataKey:g,activeIndex:f,activeCoordinate:x}))}}});var gEe=FU({brush:FSe,cartesianAxis:EAe,chartData:Gwe,graphicalItems:Oje,layout:Epe,legend:h0e,options:$we,polarAxis:mje,polarOptions:fEe,referenceElements:YSe,rootProps:cEe,tooltip:Fbe}),pEe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Zge({reducer:gEe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([NH.middleware,SH.middleware,BT.middleware,TH.middleware,MH.middleware]),devTools:{serialize:{replacer:lEe},name:"recharts-".concat(n)}})};function DH(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,s=ps(),i=w.useRef(null);if(s)return n;i.current==null&&(i.current=pEe(t,r));var o=nC;return w.createElement(iEe,{context:o,store:i.current},n)}function PH(e){var{layout:t,width:n,height:r,margin:s}=e,i=br(),o=ps();return w.useEffect(()=>{o||(i(Spe(t)),i(_pe({width:n,height:r})),i(Npe(s)))},[i,o,t,n,r,s]),null}function RH(e){var t=br();return w.useEffect(()=>{t(uEe(e))},[t,e]),null}var xEe=["children"];function vEe(e,t){if(e==null)return{};var n,r,s=yEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function yEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}var bEe={width:"100%",height:"100%"},wEe=w.forwardRef((e,t)=>{var n=fC(),r=hC(),s=yz();if(!zh(n)||!zh(r))return null;var{children:i,otherAttributes:o,title:u,desc:m}=e,f,g;return typeof o.tabIndex=="number"?f=o.tabIndex:f=s?0:void 0,typeof o.role=="string"?g=o.role:g=s?"application":void 0,w.createElement(HE,My({},o,{title:u,desc:m,role:g,tabIndex:f,width:n,height:r,style:bEe,ref:t}),i)}),jEe=e=>{var{children:t}=e,n=bt(_1);if(!n)return null;var{width:r,height:s,y:i,x:o}=n;return w.createElement(HE,{width:r,height:s,x:o,y:i},t)},b6=w.forwardRef((e,t)=>{var{children:n}=e,r=vEe(e,xEe),s=ps();return s?w.createElement(jEe,null,n):w.createElement(wEe,My({ref:t},r),n)});function NEe(){var e=br(),[t,n]=w.useState(null),r=bt(t0e);return w.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;Ya(i)&&i!==r&&e(Ape(i))}},[t,e,r]),n}function w6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function SEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(n),!0).forEach(function(r){_Ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Ee(e,t,n){return(t=AEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AEe(e){var t=EEe(e,"string");return typeof t=="symbol"?t:t+""}function EEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CEe=w.forwardRef((e,t)=>{var{children:n,className:r,height:s,onClick:i,onContextMenu:o,onDoubleClick:u,onMouseDown:m,onMouseEnter:f,onMouseLeave:g,onMouseMove:x,onMouseUp:j,onTouchEnd:_,onTouchMove:C,onTouchStart:E,style:A,width:M}=e,D=br(),[R,U]=w.useState(null),[k,I]=w.useState(null);Qwe();var F=NEe(),V=w.useCallback(xe=>{F(xe),typeof t=="function"&&t(xe),U(xe),I(xe)},[F,t,U,I]),L=w.useCallback(xe=>{D(jH(xe)),D(Di({handler:i,reactEvent:xe}))},[D,i]),$=w.useCallback(xe=>{D(W_(xe)),D(Di({handler:f,reactEvent:xe}))},[D,f]),Y=w.useCallback(xe=>{D(a$()),D(Di({handler:g,reactEvent:xe}))},[D,g]),q=w.useCallback(xe=>{D(W_(xe)),D(Di({handler:x,reactEvent:xe}))},[D,x]),X=w.useCallback(()=>{D(CH())},[D]),Q=w.useCallback(xe=>{D(EH(xe.key))},[D]),G=w.useCallback(xe=>{D(Di({handler:o,reactEvent:xe}))},[D,o]),H=w.useCallback(xe=>{D(Di({handler:u,reactEvent:xe}))},[D,u]),ee=w.useCallback(xe=>{D(Di({handler:m,reactEvent:xe}))},[D,m]),Z=w.useCallback(xe=>{D(Di({handler:j,reactEvent:xe}))},[D,j]),oe=w.useCallback(xe=>{D(Di({handler:E,reactEvent:xe}))},[D,E]),re=w.useCallback(xe=>{D(OH(xe)),D(Di({handler:C,reactEvent:xe}))},[D,C]),de=w.useCallback(xe=>{D(Di({handler:_,reactEvent:xe}))},[D,_]);return w.createElement(N$.Provider,{value:R},w.createElement(lU.Provider,{value:k},w.createElement("div",{className:ln("recharts-wrapper",r),style:SEe({position:"relative",cursor:"default",width:M,height:s},A),onClick:L,onContextMenu:G,onDoubleClick:H,onFocus:X,onKeyDown:Q,onMouseDown:ee,onMouseEnter:$,onMouseLeave:Y,onMouseMove:q,onMouseUp:Z,onTouchEnd:de,onTouchMove:re,onTouchStart:oe,ref:V},n)))}),TEe=["children","className","width","height","style","compact","title","desc"];function OEe(e,t){if(e==null)return{};var n,r,s=MEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function MEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kH=w.forwardRef((e,t)=>{var{children:n,className:r,width:s,height:i,style:o,compact:u,title:m,desc:f}=e,g=OEe(e,TEe),x=Gt(g,!1);return u?w.createElement(b6,{otherAttributes:x,title:m,desc:f},n):w.createElement(CEe,{className:r,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(b6,{otherAttributes:x,title:m,desc:f,ref:t},w.createElement(GSe,null,n)))}),DEe=["width","height"];function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G_.apply(null,arguments)}function PEe(e,t){if(e==null)return{};var n,r,s=REe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function REe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kEe={top:5,right:5,bottom:5,left:5},IEe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:kEe,reverseStackOrder:!1,syncMethod:"index"},FT=w.forwardRef(function(t,n){var r,s=vi(t.categoricalChartProps,IEe),{width:i,height:o}=s,u=PEe(s,DEe);if(!zh(i)||!zh(o))return null;var{chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,categoricalChartProps:j}=t,_={chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return w.createElement(DH,{preloadedState:{options:_},reduxStoreName:(r=j.id)!==null&&r!==void 0?r:m},w.createElement(eH,{chartData:j.data}),w.createElement(PH,{width:i,height:o,layout:s.layout,margin:s.margin}),w.createElement(RH,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),w.createElement(kH,G_({},u,{width:i,height:o,ref:n})))}),LEe=["axis"],Op=w.forwardRef((e,t)=>w.createElement(FT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LEe,tooltipPayloadSearcher:V1,categoricalChartProps:e,ref:t})),BEe=["axis","item"],Qo=w.forwardRef((e,t)=>w.createElement(FT,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:BEe,tooltipPayloadSearcher:V1,categoricalChartProps:e,ref:t}));function FEe(e){var t=br();return w.useEffect(()=>{t(dEe(e))},[t,e]),null}var UEe=["width","height","layout"];function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K_.apply(null,arguments)}function zEe(e,t){if(e==null)return{};var n,r,s=VEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function VEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $Ee={top:5,right:5,bottom:5,left:5},HEe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$Ee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},qEe=w.forwardRef(function(t,n){var r,s=vi(t.categoricalChartProps,HEe),{width:i,height:o,layout:u}=s,m=zEe(s,UEe);if(!zh(i)||!zh(o))return null;var{chartName:f,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:j}=t,_={chartName:f,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:j,eventEmitter:void 0};return w.createElement(DH,{preloadedState:{options:_},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:f},w.createElement(eH,{chartData:s.data}),w.createElement(PH,{width:i,height:o,layout:u,margin:s.margin}),w.createElement(RH,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),w.createElement(FEe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),w.createElement(kH,K_({width:i,height:o},m,{ref:n})))}),YEe=["item"],WEe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Dy=w.forwardRef((e,t)=>{var n=vi(e,WEe);return w.createElement(qEe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:YEe,tooltipPayloadSearcher:V1,categoricalChartProps:n,ref:t})}),GEe=["axis"],Z1=w.forwardRef((e,t)=>w.createElement(FT,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:GEe,tooltipPayloadSearcher:V1,categoricalChartProps:e,ref:t}));const Wc=["#8884d8","#82ca9d","#ffc658","#ff7300","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function KEe(){var C;const{profile:e}=Ht(),{t,language:n}=Ft(),[r,s]=w.useState({spendingTrend:[],categoryBreakdown:[],monthlyComparison:[],topMerchants:[],paymentMethods:[],weeklyPattern:[],hourlyPattern:[],budgetAnalysis:{monthlyAverage:0,currentMonth:0,projection:0,variance:0},kpis:{totalSpent:0,averageTransaction:0,transactionCount:0,topCategory:"",savingsRate:0,spendingGrowth:0}}),[i,o]=w.useState(!0),[u,m]=w.useState("last_30_days"),[f,g]=w.useState("line");w.useEffect(()=>{e&&x()},[e,u]);const x=async()=>{var E,A,M,D;if(e)try{o(!0);const R=new Date;let U=new Date;switch(u){case"last_7_days":U=$o(R,7);break;case"last_30_days":U=$o(R,30);break;case"last_90_days":U=$o(R,90);break;case"last_year":U=$o(R,365);break;default:U=$o(R,30)}const{data:k,error:I}=await ze.from("transactions").select(`
          *,
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name,
            user_type
          )
        `).eq("from_user_id",e.id).gte("created_at",U.toISOString()).lte("created_at",R.toISOString()).order("created_at",{ascending:!0});if(I)throw I;const F=k||[],V=Yue({start:U,end:R}).map(ae=>{const ue=F.filter(ce=>fr(new Date(ce.created_at),"yyyy-MM-dd")===fr(ae,"yyyy-MM-dd"));return{date:fr(ae,"MMM dd"),amount:ue.reduce((ce,ge)=>ce+ge.amount,0),transactions:ue.length}}),L=new Map;F.forEach(ae=>{const ue=ae.transaction_type;if(L.has(ue)){const ce=L.get(ue);L.set(ue,{amount:ce.amount+ae.amount,count:ce.count+1})}else L.set(ue,{amount:ae.amount,count:1})});const $=F.reduce((ae,ue)=>ae+ue.amount,0),Y=Array.from(L.entries()).map(([ae,ue],ce)=>({category:ae,amount:ue.amount,count:ue.count,percentage:$>0?ue.amount/$*100:0,color:Wc[ce%Wc.length]})).sort((ae,ue)=>ue.amount-ae.amount),q=Wue({start:z2(R,11),end:R}).map(ae=>{const ue=RE(ae),ce=u1(ae),ge=F.filter(Ke=>{const $e=new Date(Ke.created_at);return $e>=ue&&$e<=ce}),Me=z2(ue,12),Ne=z2(ce,12),we=ge.reduce((Ke,$e)=>Ke+$e.amount,0)*.8;return{month:fr(ae,"MMM"),currentYear:ge.reduce((Ke,$e)=>Ke+$e.amount,0),previousYear:we}}),X=new Map;F.forEach(ae=>{var ce;const ue=((ce=ae.to_profile)==null?void 0:ce.full_name)||"Unknown";if(X.has(ue)){const ge=X.get(ue);X.set(ue,{amount:ge.amount+ae.amount,transactions:ge.transactions+1})}else X.set(ue,{amount:ae.amount,transactions:1})});const Q=Array.from(X.entries()).map(([ae,ue])=>({name:ae,amount:ue.amount,transactions:ue.transactions})).sort((ae,ue)=>ue.amount-ae.amount).slice(0,5),G=new Map;F.forEach(ae=>{const ue=ae.payment_method||"wallet";if(G.has(ue)){const ce=G.get(ue);G.set(ue,{amount:ce.amount+ae.amount,count:ce.count+1})}else G.set(ue,{amount:ae.amount,count:1})});const H=Array.from(G.entries()).map(([ae,ue])=>({method:ae,amount:ue.amount,count:ue.count,percentage:$>0?ue.amount/$*100:0})),Z=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(ae=>{const ue=F.filter(ce=>fr(new Date(ce.created_at),"EEE")===ae);return{day:ae,amount:ue.reduce((ce,ge)=>ce+ge.amount,0),transactions:ue.length}}),oe=Array.from({length:24},(ae,ue)=>{const ce=F.filter(ge=>new Date(ge.created_at).getHours()===ue);return{hour:`${ue.toString().padStart(2,"0")}:00`,amount:ce.reduce((ge,Me)=>ge+Me.amount,0),transactions:ce.length}}),re=F.filter(ae=>{const ue=new Date(ae.created_at),ce=new Date;return ue.getMonth()===ce.getMonth()&&ue.getFullYear()===ce.getFullYear()}).reduce((ae,ue)=>ae+ue.amount,0),de=$/Math.max(1,Math.ceil((R.getTime()-U.getTime())/(30*24*60*60*1e3))),xe=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),_e=new Date().getDate(),ye=re/_e*xe,ke={totalSpent:$,averageTransaction:F.length>0?$/F.length:0,transactionCount:F.length,topCategory:((E=Y[0])==null?void 0:E.category)||"",savingsRate:Math.max(0,(de-re)/Math.max(de,1)*100),spendingGrowth:q.length>=2?((((A=q[q.length-1])==null?void 0:A.currentYear)||0)-(((M=q[q.length-2])==null?void 0:M.currentYear)||0))/Math.max(((D=q[q.length-2])==null?void 0:D.currentYear)||1,1)*100:0};s({spendingTrend:V,categoryBreakdown:Y,monthlyComparison:q,topMerchants:Q,paymentMethods:H,weeklyPattern:Z,hourlyPattern:oe,budgetAnalysis:{monthlyAverage:de,currentMonth:re,projection:ye,variance:(ye-de)/Math.max(de,1)*100},kpis:ke})}catch(R){console.error("Error fetching analytics:",R)}finally{o(!1)}},j=E=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(E),_=()=>{const E={generatedAt:new Date().toISOString(),period:u,...r},A=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),M=URL.createObjectURL(A),D=document.createElement("a");D.href=M,D.download=`spending-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,D.click(),URL.revokeObjectURL(M)};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("spendingAnalytics")}),a.jsx("p",{className:"text-muted-foreground",children:t("detailedInsightsIntoYourSpending")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(kt,{value:u,onValueChange:m,children:[a.jsx(It,{className:"w-[160px]",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"last_7_days",children:t("last7Days")}),a.jsx(Ee,{value:"last_30_days",children:t("last30Days")}),a.jsx(Ee,{value:"last_90_days",children:t("last90Days")}),a.jsx(Ee,{value:"last_year",children:t("lastYear")})]})]}),a.jsxs(be,{variant:"outline",onClick:_,children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),t("exportReport")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalSpent")}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:j(r.kpis.totalSpent)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[r.kpis.spendingGrowth>=0?a.jsx(qn,{className:"h-4 w-4 text-red-500"}):a.jsx(ql,{className:"h-4 w-4 text-green-500"}),a.jsxs("p",{className:`text-xs ${r.kpis.spendingGrowth>=0?"text-red-500":"text-green-500"}`,children:[r.kpis.spendingGrowth>=0?"+":"",r.kpis.spendingGrowth.toFixed(1),"% ",t("fromLastMonth")]})]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("avgTransaction")}),a.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:j(r.kpis.averageTransaction)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.kpis.transactionCount," ",t("transactions")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("monthlyBudget")}),a.jsx(om,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:j(r.budgetAnalysis.projection)}),a.jsxs("p",{className:`text-xs ${r.budgetAnalysis.variance>=0?"text-red-500":"text-green-500"}`,children:[r.budgetAnalysis.variance>=0?"+":"",r.budgetAnalysis.variance.toFixed(1),"% ",t("projected")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("topCategory")}),a.jsx(Fp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t(r.kpis.topCategory)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(C=r.categoryBreakdown[0])==null?void 0:C.percentage.toFixed(1),"% ",t("ofSpending")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("savingsRate")}),a.jsx(qn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[r.kpis.savingsRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("comparedToAverage")})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("frequency")}),a.jsx(WA,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r.kpis.transactionCount/Math.max(1,parseInt(u.split("_")[1]))).toFixed(1)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("transactionsPerDay")})]})]})})]}),a.jsxs(xi,{defaultValue:"trend",className:"space-y-4",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-6",children:[a.jsx(Et,{value:"trend",children:t("spendingTrend")}),a.jsx(Et,{value:"category",children:t("categories")}),a.jsx(Et,{value:"comparison",children:t("comparison")}),a.jsx(Et,{value:"patterns",children:t("patterns")}),a.jsx(Et,{value:"merchants",children:t("merchants")}),a.jsx(Et,{value:"methods",children:t("paymentMethods")})]}),a.jsx(Ot,{value:"trend",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:t("spendingTrend")}),a.jsx(st,{children:t("dailySpendingPattern")})]}),a.jsxs(kt,{value:f,onValueChange:g,children:[a.jsx(It,{className:"w-[120px]",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"line",children:t("line")}),a.jsx(Ee,{value:"area",children:t("area")}),a.jsx(Ee,{value:"bar",children:t("bar")})]})]})]}),a.jsx(he,{children:a.jsx(js,{width:"100%",height:400,children:f==="line"?a.jsxs(Op,{data:r.spendingTrend,children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:E=>[j(Number(E)),t("amount")]}),a.jsx(Pa,{}),a.jsx(Bi,{type:"monotone",dataKey:"amount",stroke:"#8884d8",strokeWidth:2})]}):f==="area"?a.jsxs(Z1,{data:r.spendingTrend,children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:E=>[j(Number(E)),t("amount")]}),a.jsx(zd,{type:"monotone",dataKey:"amount",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Qo,{data:r.spendingTrend,children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:E=>[j(Number(E)),t("amount")]}),a.jsx(Gr,{dataKey:"amount",fill:"#8884d8"})]})})})]})}),a.jsx(Ot,{value:"category",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("spendingByCategory")}),a.jsx(st,{children:t("categoryDistribution")})]}),a.jsx(he,{children:a.jsx(js,{width:"100%",height:300,children:a.jsxs(Dy,{children:[a.jsx(Yh,{data:r.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({name:E,percentage:A})=>`${t(E)} ${A.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.categoryBreakdown.map((E,A)=>a.jsx(vu,{fill:E.color},`cell-${A}`))}),a.jsx(Er,{formatter:E=>[j(Number(E)),t("amount")]})]})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("categoryBreakdown")}),a.jsx(st,{children:t("detailedCategoryAnalysis")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:r.categoryBreakdown.map((E,A)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:E.color}}),a.jsx("span",{className:"font-medium",children:t(E.category)})]}),a.jsx("span",{className:"text-sm font-medium",children:j(E.amount)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[E.count," ",t("transactions")]}),a.jsxs("span",{children:[E.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${E.percentage}%`,backgroundColor:E.color}})})]},E.category))})})]})]})}),a.jsx(Ot,{value:"comparison",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("monthlyComparison")}),a.jsx(st,{children:t("currentVsPreviousYear")})]}),a.jsx(he,{children:a.jsx(js,{width:"100%",height:400,children:a.jsxs(Qo,{data:r.monthlyComparison,children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:E=>[j(Number(E)),""]}),a.jsx(Pa,{}),a.jsx(Gr,{dataKey:"currentYear",fill:"#8884d8",name:t("currentYear")}),a.jsx(Gr,{dataKey:"previousYear",fill:"#82ca9d",name:t("previousYear")})]})})})]})}),a.jsx(Ot,{value:"patterns",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("weeklyPattern")}),a.jsx(st,{children:t("spendingByDayOfWeek")})]}),a.jsx(he,{children:a.jsx(js,{width:"100%",height:300,children:a.jsxs(Qo,{data:r.weeklyPattern,children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"day"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:E=>[j(Number(E)),t("amount")]}),a.jsx(Gr,{dataKey:"amount",fill:"#8884d8"})]})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("hourlyPattern")}),a.jsx(st,{children:t("spendingByHourOfDay")})]}),a.jsx(he,{children:a.jsx(js,{width:"100%",height:300,children:a.jsxs(Op,{data:r.hourlyPattern,children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"hour"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:E=>[j(Number(E)),t("amount")]}),a.jsx(Bi,{type:"monotone",dataKey:"amount",stroke:"#82ca9d",strokeWidth:2})]})})})]})]})}),a.jsx(Ot,{value:"merchants",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("topMerchants")}),a.jsx(st,{children:t("merchantsBySpending")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:r.topMerchants.map((E,A)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:A*.1},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-2xl font-bold text-muted-foreground",children:["#",A+1]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:E.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.transactions," ",t("transactions")]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold",children:j(E.amount)}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[j(E.amount/E.transactions)," ",t("avg")]})]})]},E.name))})})]})}),a.jsx(Ot,{value:"methods",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("paymentMethods")}),a.jsx(st,{children:t("methodDistribution")})]}),a.jsx(he,{children:a.jsx(js,{width:"100%",height:300,children:a.jsxs(Dy,{children:[a.jsx(Yh,{data:r.paymentMethods,cx:"50%",cy:"50%",labelLine:!1,label:({method:E,percentage:A})=>`${t(E)} ${A.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.paymentMethods.map((E,A)=>a.jsx(vu,{fill:Wc[A%Wc.length]},`cell-${A}`))}),a.jsx(Er,{formatter:E=>[j(Number(E)),t("amount")]})]})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("methodBreakdown")}),a.jsx(st,{children:t("detailedMethodAnalysis")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:r.paymentMethods.map((E,A)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Wc[A%Wc.length]}}),a.jsx("span",{className:"font-medium",children:t(E.method)})]}),a.jsx("span",{className:"text-sm font-medium",children:j(E.amount)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[E.count," ",t("transactions")]}),a.jsxs("span",{children:[E.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${E.percentage}%`,backgroundColor:Wc[A%Wc.length]}})})]},E.method))})})]})]})})]}),r.budgetAnalysis.variance>20&&a.jsx(fe,{className:"border-orange-200 bg-orange-50",children:a.jsxs(he,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(op,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"font-medium text-orange-800",children:t("budgetWarning")}),a.jsxs(Je,{variant:"outline",className:"bg-orange-100 text-orange-800",children:["+",r.budgetAnalysis.variance.toFixed(1),"% ",t("overBudget")]})]}),a.jsxs("p",{className:"text-sm text-orange-700 mt-2",children:[t("yourProjectedSpendingIs")," ",j(r.budgetAnalysis.projection)," ",t("comparedToYourAverage")," ",j(r.budgetAnalysis.monthlyAverage)]})]})})]})}const Es=w.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:yt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Es.displayName="Textarea";const bm=w.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:yt("w-full caption-bottom text-sm",e),...t})}));bm.displayName="Table";const wm=w.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:yt("[&_tr]:border-b",e),...t}));wm.displayName="TableHeader";const jm=w.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:yt("[&_tr:last-child]:border-0",e),...t}));jm.displayName="TableBody";const XEe=w.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:yt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));XEe.displayName="TableFooter";const yu=w.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:yt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));yu.displayName="TableRow";const vn=w.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:yt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));vn.displayName="TableHead";const yn=w.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:yt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));yn.displayName="TableCell";const QEe=w.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:yt("mt-4 text-sm text-muted-foreground",e),...t}));QEe.displayName="TableCaption";function ZEe(){const[e,t]=w.useState([]),[n,r]=w.useState(0),[s,i]=w.useState(!1),[o,u]=w.useState(!0),[m,f]=w.useState(!1),[g,x]=w.useState(!1),[j,_]=w.useState(null),[C,E]=w.useState({recipientEmail:"",amount:0,message:""}),{profile:A}=Ht(),{t:M,language:D}=Ft();w.useEffect(()=>{A&&(R(),U())},[A]),w.useEffect(()=>{C.recipientEmail&&C.recipientEmail.includes("@")?k():_(null)},[C.recipientEmail]);const R=async()=>{try{const{data:L,error:$}=await ze.from("wallets").select("balance").eq("user_id",A==null?void 0:A.id).single();if($)throw $;r((L==null?void 0:L.balance)||0)}catch(L){console.error("Error fetching wallet balance:",L)}},U=async()=>{try{u(!0);const{data:L,error:$}=await ze.from("transactions").select(`
          id,
          amount,
          description,
          status,
          created_at,
          from_user:profiles!transactions_from_user_id_fkey(full_name, email),
          to_user:profiles!transactions_to_user_id_fkey(full_name, email)
        `).or(`from_user_id.eq.${A==null?void 0:A.id},to_user_id.eq.${A==null?void 0:A.id}`).eq("transaction_type","gift").order("created_at",{ascending:!1}).limit(20);if($)throw $;const Y=(L||[]).map(q=>({...q,from_user:Array.isArray(q.from_user)?q.from_user[0]:q.from_user,to_user:Array.isArray(q.to_user)?q.to_user[0]:q.to_user}));t(Y)}catch(L){console.error("Error fetching gift history:",L)}finally{u(!1)}},k=async()=>{try{x(!0);const{data:L,error:$}=await ze.from("profiles").select("id, full_name, email").eq("email",C.recipientEmail.toLowerCase()).single();if($){_(null);return}if(L.email===(A==null?void 0:A.email)){_({error:"Cannot send gift to yourself"});return}_(L)}catch{_(null)}finally{x(!1)}},I=async()=>{if(!j||j.error){Se.error("Please enter a valid recipient email");return}if(C.amount<=0){Se.error("Please enter a valid amount");return}if(C.amount>n){Se.error("Insufficient wallet balance");return}try{f(!0);const{data:L,error:$}=await ze.rpc("send_gift",{p_from_user_id:A==null?void 0:A.id,p_to_user_id:j.id,p_amount:C.amount,p_message:C.message||`Gift from ${A==null?void 0:A.full_name}`});if($)throw $;const Y=L[0];Y.success?(Se.success(`Gift sent successfully to ${j.full_name}!`),i(!1),E({recipientEmail:"",amount:0,message:""}),_(null),R(),U()):Se.error(Y.error_message||"Failed to send gift")}catch(L){console.error("Error sending gift:",L),Se.error("Failed to send gift")}finally{f(!1)}},F=L=>new Intl.NumberFormat(D==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(L),V=L=>new Date(L).toLocaleDateString(D==="ar"?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gift System"}),a.jsx("p",{className:"text-muted-foreground",children:"Send credits to friends and family"})]}),a.jsxs(pr,{open:s,onOpenChange:i,children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{className:"gap-2",children:[a.jsx(Ho,{className:"h-4 w-4"}),"Send Gift"]})}),a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:"Send Gift"}),a.jsx(Qr,{children:"Send credits from your wallet to another user"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Current Balance"}),a.jsx("span",{className:"font-bold text-blue-900",children:F(n)})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Recipient Email"}),a.jsx(ut,{type:"email",placeholder:"Enter recipient's email address",value:C.recipientEmail,onChange:L=>E($=>({...$,recipientEmail:L.target.value}))}),g&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Vs,{className:"h-3 w-3 animate-spin"}),"Validating recipient..."]}),j&&!g&&a.jsx("div",{className:"flex items-center gap-2 text-sm",children:j.error?a.jsxs(a.Fragment,{children:[a.jsx(op,{className:"h-3 w-3 text-red-500"}),a.jsx("span",{className:"text-red-600",children:j.error})]}):a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{className:"text-green-600",children:["Recipient found: ",j.full_name]})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Gift Amount"}),a.jsx(ut,{type:"number",placeholder:"Enter amount to send",value:C.amount||"",onChange:L=>E($=>({...$,amount:parseFloat(L.target.value)||0}))}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Minimum: ",F(1e3)]}),a.jsxs("span",{children:["Maximum: ",F(n)]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Personal Message (Optional)"}),a.jsx(Es,{placeholder:"Add a personal message with your gift",value:C.message,onChange:L=>E($=>({...$,message:L.target.value})),rows:3})]}),a.jsx(be,{onClick:I,disabled:m||!j||j.error||C.amount<=0||C.amount>n,className:"w-full",children:m?a.jsxs(a.Fragment,{children:[a.jsx(Vs,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Gift..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Md,{className:"mr-2 h-4 w-4"}),"Send Gift (",F(C.amount),")"]})})]})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Sent"}),a.jsx(Md,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:F(e.filter(L=>{var $;return(($=L.from_user)==null?void 0:$.email)===(A==null?void 0:A.email)}).reduce((L,$)=>L+$.amount,0))}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(L=>{var $;return(($=L.from_user)==null?void 0:$.email)===(A==null?void 0:A.email)}).length," gifts sent"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Received"}),a.jsx(Ho,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:F(e.filter(L=>{var $;return(($=L.to_user)==null?void 0:$.email)===(A==null?void 0:A.email)}).reduce((L,$)=>L+$.amount,0))}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(L=>{var $;return(($=L.to_user)==null?void 0:$.email)===(A==null?void 0:A.email)}).length," gifts received"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Current Balance"}),a.jsx(Jne,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:F(n)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Available to send"})]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Gift History"}),a.jsx(st,{children:"Your sent and received gifts"})]}),a.jsx(he,{children:o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Vs,{className:"h-6 w-6 animate-spin"})}):e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ho,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No gifts yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Start spreading joy by sending your first gift!"}),a.jsxs(be,{onClick:()=>i(!0),children:[a.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Send Your First Gift"]})]}):a.jsxs(bm,{children:[a.jsx(wm,{children:a.jsxs(yu,{children:[a.jsx(vn,{children:"Type"}),a.jsx(vn,{children:"Amount"}),a.jsx(vn,{children:"From/To"}),a.jsx(vn,{children:"Message"}),a.jsx(vn,{children:"Date"}),a.jsx(vn,{children:"Status"})]})}),a.jsx(jm,{children:e.map(L=>{var Y,q,X,Q,G;const $=((Y=L.from_user)==null?void 0:Y.email)===(A==null?void 0:A.email);return a.jsxs(yu,{children:[a.jsx(yn,{children:a.jsx("div",{className:"flex items-center gap-2",children:$?a.jsxs(a.Fragment,{children:[a.jsx(gd,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Sent"})]}):a.jsxs(a.Fragment,{children:[a.jsx(sm,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Received"})]})})}),a.jsxs(yn,{className:$?"text-red-600":"text-green-600",children:[$?"-":"+",F(L.amount)]}),a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:$?(q=L.to_user)==null?void 0:q.full_name:(X=L.from_user)==null?void 0:X.full_name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:$?(Q=L.to_user)==null?void 0:Q.email:(G=L.from_user)==null?void 0:G.email})]})}),a.jsx(yn,{children:a.jsx("div",{className:"max-w-xs truncate",title:L.description,children:L.description})}),a.jsx(yn,{children:V(L.created_at)}),a.jsx(yn,{children:a.jsx(Je,{variant:L.status==="completed"?"default":"secondary",children:L.status})})]},L.id)})})]})})]})]})}var IH="AlertDialog",[JEe,M4e]=Ts(IH,[R9]),oc=R9(),LH=e=>{const{__scopeAlertDialog:t,...n}=e,r=oc(t);return a.jsx(_E,{...r,...n,modal:!0})};LH.displayName=IH;var eCe="AlertDialogTrigger",BH=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=oc(n);return a.jsx(AE,{...s,...r,ref:t})});BH.displayName=eCe;var tCe="AlertDialogPortal",FH=e=>{const{__scopeAlertDialog:t,...n}=e,r=oc(t);return a.jsx(EE,{...r,...n})};FH.displayName=tCe;var nCe="AlertDialogOverlay",UH=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=oc(n);return a.jsx(CE,{...s,...r,ref:t})});UH.displayName=nCe;var _h="AlertDialogContent",[rCe,aCe]=JEe(_h),sCe=mte("AlertDialogContent"),zH=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=oc(n),o=w.useRef(null),u=Kt(t,o),m=w.useRef(null);return a.jsx($ce,{contentName:_h,titleName:VH,docsSlug:"alert-dialog",children:a.jsx(rCe,{scope:n,cancelRef:m,children:a.jsxs(TE,{role:"alertdialog",...i,...s,ref:u,onOpenAutoFocus:ot(s.onOpenAutoFocus,f=>{var g;f.preventDefault(),(g=m.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[a.jsx(sCe,{children:r}),a.jsx(oCe,{contentRef:o})]})})})});zH.displayName=_h;var VH="AlertDialogTitle",$H=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=oc(n);return a.jsx(X9,{...s,...r,ref:t})});$H.displayName=VH;var HH="AlertDialogDescription",qH=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=oc(n);return a.jsx(Q9,{...s,...r,ref:t})});qH.displayName=HH;var iCe="AlertDialogAction",YH=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=oc(n);return a.jsx(i1,{...s,...r,ref:t})});YH.displayName=iCe;var WH="AlertDialogCancel",GH=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=aCe(WH,n),i=oc(n),o=Kt(t,s);return a.jsx(i1,{...i,...r,ref:o})});GH.displayName=WH;var oCe=({contentRef:e})=>{const t=`\`${_h}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_h}\` by passing a \`${HH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_h}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},lCe=LH,cCe=BH,uCe=FH,dCe=UH,fCe=zH,hCe=YH,mCe=GH,gCe=$H,pCe=qH;function xCe({...e}){return a.jsx(lCe,{"data-slot":"alert-dialog",...e})}function vCe({...e}){return a.jsx(cCe,{"data-slot":"alert-dialog-trigger",...e})}function yCe({...e}){return a.jsx(uCe,{"data-slot":"alert-dialog-portal",...e})}function bCe({className:e,...t}){return a.jsx(dCe,{"data-slot":"alert-dialog-overlay",className:yt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function wCe({className:e,...t}){return a.jsxs(yCe,{children:[a.jsx(bCe,{}),a.jsx(fCe,{"data-slot":"alert-dialog-content",className:yt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function jCe({className:e,...t}){return a.jsx("div",{"data-slot":"alert-dialog-header",className:yt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function NCe({className:e,...t}){return a.jsx("div",{"data-slot":"alert-dialog-footer",className:yt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function SCe({className:e,...t}){return a.jsx(gCe,{"data-slot":"alert-dialog-title",className:yt("text-lg font-semibold",e),...t})}function _Ce({className:e,...t}){return a.jsx(pCe,{"data-slot":"alert-dialog-description",className:yt("text-muted-foreground text-sm",e),...t})}function ACe({className:e,...t}){return a.jsx(hCe,{className:yt(YA(),e),...t})}function ECe({className:e,...t}){return a.jsx(mCe,{className:yt(YA({variant:"outline"}),e),...t})}function g0(){const{profile:e,user:t,refreshProfile:n,signOut:r}=Ht(),{t:s,language:i,setLanguage:o}=Ft(),[u,m]=w.useState(!1),[f,g]=w.useState(!1),[x,j]=w.useState(!1),[_,C]=w.useState(!1),[E,A]=w.useState(""),[M,D]=w.useState(""),[R,U]=w.useState(!1),k=w.useRef(null),[I,F]=w.useState({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),V=(oe,re)=>{F(de=>({...de,[oe]:re}))},L=async()=>{if(e){g(!0);try{const{error:oe}=await ze.from("profiles").update({full_name:I.full_name,phone_number:I.phone_number,language_preference:I.language_preference,updated_at:new Date().toISOString()}).eq("id",e.id);if(oe)throw oe;I.language_preference!==i&&o(I.language_preference),await n(),m(!1),Se.success(s("profileUpdated"))}catch(oe){console.error("Error updating profile:",oe),Se.error(s("errorUpdatingProfile"))}finally{g(!1)}}},$=()=>{F({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),m(!1)},Y=()=>{var oe;(oe=k.current)==null||oe.click()},q=async oe=>{var de;const re=(de=oe.target.files)==null?void 0:de[0];if(!(!re||!e)){if(!re.type.startsWith("image/")){Se.error(s("pleaseSelectAnImageFile"));return}if(re.size>5*1024*1024){Se.error(s("fileSizeTooLarge"));return}j(!0);try{const xe=re.name.split(".").pop(),_e=`${e.id}.${xe}`,{error:ye}=await ze.storage.from("avatars").upload(_e,re,{upsert:!0});if(ye)throw ye;const{data:ke}=ze.storage.from("avatars").getPublicUrl(_e),{error:ae}=await ze.from("profiles").update({avatar_url:ke.publicUrl}).eq("id",e.id);if(ae)throw ae;await n(),Se.success(s("profilePictureUpdated"))}catch(xe){console.error("Error uploading avatar:",xe),Se.error(s("errorUploadingProfilePicture"))}finally{j(!1)}}},X=async()=>{if(!E||!M){Se.error(s("pleaseEnterBothPasswords"));return}if(E!==M){Se.error(s("passwordsDoNotMatch"));return}if(E.length<6){Se.error(s("passwordTooShort"));return}C(!0);try{const{error:oe}=await ze.auth.updateUser({password:E});if(oe)throw oe;Se.success(s("passwordChangedSuccessfully")),U(!1),A(""),D("")}catch(oe){console.error("Error changing password:",oe),Se.error(s("errorChangingPassword"))}finally{C(!1)}},Q=async()=>{if(e)try{Se.info(s("preparingDataDownload"));const[{data:oe},{data:re},{data:de}]=await Promise.all([ze.from("transactions").select("*").or(`from_user_id.eq.${e.id},to_user_id.eq.${e.id}`),ze.from("user_tickets").select("*").eq("user_id",e.id),ze.from("notifications").select("*").eq("user_id",e.id)]),xe={profile:e,transactions:oe||[],tickets:re||[],notifications:de||[],exportDate:new Date().toISOString()},_e=JSON.stringify(xe,null,2),ye=new Blob([_e],{type:"application/json"}),ke=URL.createObjectURL(ye),ae=document.createElement("a");ae.href=ke,ae.download=`user-data-${e.id}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(ke),Se.success(s("dataDownloadComplete"))}catch(oe){console.error("Error downloading data:",oe),Se.error(s("errorDownloadingData"))}},G=()=>{Se.info(s("twoFactorAuthNotAvailable"))},H=async()=>{if(e)try{const{error:oe}=await ze.from("profiles").update({is_active:!1}).eq("id",e.id);if(oe)throw oe;Se.success(s("accountDeactivated")),await r()}catch(oe){console.error("Error deactivating account:",oe),Se.error(s("errorDeactivatingAccount"))}},ee=oe=>({passenger:s("passenger"),driver:s("driver"),merchant:s("merchant"),event_admin:s("eventAdmin"),admin:s("systemAdmin")})[oe]||oe,Z=oe=>oe.split(" ").map(re=>re[0]).join("").toUpperCase();return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("profile")}),a.jsx("p",{className:"text-muted-foreground",children:s("manageYourAccountInformation")})]}),!u&&a.jsxs(be,{onClick:()=>m(!0),variant:"outline",children:[a.jsx(p7,{className:"h-4 w-4 mr-2"}),s("editProfile")]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{className:"text-lg",children:s("profilePicture")})}),a.jsxs(he,{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(fp,{className:"h-24 w-24",children:[a.jsx(hp,{src:e.avatar_url}),a.jsx(mp,{className:"text-lg",children:Z(e.full_name)})]}),a.jsx(be,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",onClick:Y,disabled:x,children:x?a.jsx(tae,{className:"h-4 w-4 animate-spin"}):a.jsx(ph,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:s(x?"uploadingPicture":"clickToUploadNewPicture")}),a.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:q,className:"hidden"})]})]}),a.jsxs(fe,{className:"md:col-span-2",children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(Oe,{className:"text-lg",children:s("personalInformation")}),a.jsx(st,{children:s("updateYourPersonalDetails")})]}),u&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(be,{size:"sm",onClick:L,disabled:f,children:[a.jsx(g7,{className:"h-4 w-4 mr-2"}),s("save")]}),a.jsxs(be,{size:"sm",variant:"outline",onClick:$,children:[a.jsx(Hd,{className:"h-4 w-4 mr-2"}),s("cancel")]})]})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"full_name",children:s("fullName")}),u?a.jsx(ut,{id:"full_name",value:I.full_name,onChange:oe=>V("full_name",oe.target.value)}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(uu,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.full_name})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"phone_number",children:s("phoneNumber")}),u?a.jsx(ut,{id:"phone_number",value:I.phone_number,onChange:oe=>V("phone_number",oe.target.value)}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(RS,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.phone_number||s("notProvided")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:s("email")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($y,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.email})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:s("language")}),u?a.jsxs(kt,{value:I.language_preference,onValueChange:oe=>V("language_preference",oe),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"en",children:"English"}),a.jsx(Ee,{value:"ar",children:""})]})]}):a.jsx("span",{children:e.language_preference==="ar"?"":"English"})]})]}),a.jsx(hi,{}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:s("accountType")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(Je,{variant:"secondary",children:ee(e.user_type)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:s("memberSince")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString(i==="ar"?"ar-SY":"en-US")})]})]}),e.user_type!=="passenger"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:s("verificationStatus")}),a.jsx(Je,{variant:e.is_verified?"default":"secondary",children:e.is_verified?s("verified"):s("unverified")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:s("accountStatus")}),a.jsx(Je,{variant:e.is_active?"default":"destructive",children:e.is_active?s("active"):s("inactive")})]})]})]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:s("accountActions")}),a.jsx(st,{children:s("manageYourAccountSecurity")})]}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs(pr,{open:R,onOpenChange:U,children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{variant:"outline",children:[a.jsx(lre,{className:"h-4 w-4 mr-2"}),s("changePassword")]})}),a.jsxs(xr,{children:[a.jsxs(vr,{children:[a.jsx(yr,{children:s("changePassword")}),a.jsx(Qr,{children:s("enterNewPasswordBelow")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"newPassword",children:s("newPassword")}),a.jsx(ut,{id:"newPassword",type:"password",value:E,onChange:oe=>A(oe.target.value),placeholder:s("enterNewPassword")})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"confirmPassword",children:s("confirmPassword")}),a.jsx(ut,{id:"confirmPassword",type:"password",value:M,onChange:oe=>D(oe.target.value),placeholder:s("confirmNewPassword")})]})]}),a.jsxs(DF,{children:[a.jsx(be,{variant:"outline",onClick:()=>U(!1),children:s("cancel")}),a.jsx(be,{onClick:X,disabled:_,children:s(_?"changing":"changePassword")})]})]})]}),a.jsxs(be,{variant:"outline",onClick:Q,children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),s("downloadData")]}),a.jsxs(be,{variant:"outline",onClick:G,disabled:!0,children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),s("twoFactorAuth")]}),a.jsxs(xCe,{children:[a.jsx(vCe,{asChild:!0,children:a.jsxs(be,{variant:"destructive",children:[a.jsx(cp,{className:"h-4 w-4 mr-2"}),s("deleteAccount")]})}),a.jsxs(wCe,{children:[a.jsxs(jCe,{children:[a.jsx(SCe,{children:s("areYouAbsolutelySure")}),a.jsx(_Ce,{children:s("accountDeletionWarning")})]}),a.jsxs(NCe,{children:[a.jsx(ECe,{children:s("cancel")}),a.jsx(ACe,{onClick:H,className:"bg-red-600 hover:bg-red-700",children:s("deactivateAccount")})]})]})]})]})})]})]}):null}var J1="Switch",[CCe,D4e]=Ts(J1),[TCe,OCe]=CCe(J1),KH=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:u,value:m="on",onCheckedChange:f,form:g,...x}=e,[j,_]=w.useState(null),C=Kt(t,R=>_(R)),E=w.useRef(!1),A=j?g||!!j.closest("form"):!0,[M,D]=Wl({prop:s,defaultProp:i??!1,onChange:f,caller:J1});return a.jsxs(TCe,{scope:n,checked:M,disabled:u,children:[a.jsx(_t.button,{type:"button",role:"switch","aria-checked":M,"aria-required":o,"data-state":JH(M),"data-disabled":u?"":void 0,disabled:u,value:m,...x,ref:C,onClick:ot(e.onClick,R=>{D(U=>!U),A&&(E.current=R.isPropagationStopped(),E.current||R.stopPropagation())})}),A&&a.jsx(ZH,{control:j,bubbles:!E.current,name:r,value:m,checked:M,required:o,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});KH.displayName=J1;var XH="SwitchThumb",QH=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=OCe(XH,n);return a.jsx(_t.span,{"data-state":JH(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});QH.displayName=XH;var MCe="SwitchBubbleInput",ZH=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=w.useRef(null),u=Kt(o,i),m=QA(n),f=ZA(t);return w.useEffect(()=>{const g=o.current;if(!g)return;const x=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(x,"checked").set;if(m!==n&&_){const C=new Event("click",{bubbles:r});_.call(g,n),g.dispatchEvent(C)}},[m,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZH.displayName=MCe;function JH(e){return e?"checked":"unchecked"}var DCe=KH,PCe=QH;function Cl({className:e,...t}){return a.jsx(DCe,{"data-slot":"switch",className:yt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(PCe,{"data-slot":"switch-thumb",className:yt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function p0(){const{profile:e}=Ht(),{t,language:n,setLanguage:r}=Ft(),{theme:s,setTheme:i}=J6(),[o,u]=w.useState(!1),[m,f]=w.useState(!0),[g,x]=w.useState(!1),[j,_]=w.useState(!1),[C,E]=w.useState({email:!0,push:!0,sms:!1,transactions:!0,marketing:!1,security:!0});w.useEffect(()=>{e!=null&&e.notification_preferences&&E({...C,...e.notification_preferences})},[e]);const A=async(U,k)=>{const I={...C,[U]:k};if(E(I),e)try{const{error:F}=await ze.from("profiles").update({notification_preferences:I}).eq("id",e.id);if(F)throw F;Se.success(t("settingUpdated"))}catch(F){console.error("Error updating notification preferences:",F),Se.error(t("errorUpdatingSetting"))}},M=U=>{r(U),Se.success(t("languageChanged"))},D=U=>{i(U?"dark":"light"),Se.success(t("themeUpdated"))},R=async U=>{if(f(U),e)try{const k=e.notification_preferences||{},{error:I}=await ze.from("profiles").update({notification_preferences:{...k,showWalletBalance:U}}).eq("id",e.id);if(I)throw I;Se.success(t("settingUpdated"))}catch(k){console.error("Error updating wallet visibility:",k),Se.error(t("errorUpdatingSetting"))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("settings")}),a.jsx("p",{className:"text-muted-foreground",children:t("manageYourAppPreferences")})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(GA,{className:"h-5 w-5"}),a.jsx("span",{children:t("languageAndAppearance")})]}),a.jsx(st,{children:t("customizeYourAppExperience")})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:t("language")}),a.jsxs(kt,{value:n,onValueChange:M,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"en",children:"English"}),a.jsx(Ee,{value:"ar",children:""})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Ve,{children:t("darkMode")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("toggleDarkMode")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(LS,{className:"h-4 w-4"}),a.jsx(Cl,{checked:s==="dark",onCheckedChange:D}),a.jsx(PS,{className:"h-4 w-4"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Ve,{children:t("showWalletBalance")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("displayBalanceInDashboard")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(hs,{className:"h-4 w-4"}),a.jsx(Cl,{checked:m,onCheckedChange:R}),a.jsx(Gn,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(Oh,{className:"h-5 w-5"}),a.jsx("span",{children:t("notifications")})]}),a.jsx(st,{children:t("controlWhenAndHowYouReceiveNotifications")})]}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(Ve,{className:"flex items-center space-x-2",children:[a.jsx($y,{className:"h-4 w-4"}),a.jsx("span",{children:t("emailNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveEmailUpdates")})]}),a.jsx(Cl,{checked:C.email,onCheckedChange:U=>A("email",U)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(Ve,{className:"flex items-center space-x-2",children:[a.jsx(Xg,{className:"h-4 w-4"}),a.jsx("span",{children:t("pushNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePushNotifications")})]}),a.jsx(Cl,{checked:C.push,onCheckedChange:U=>A("push",U)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Ve,{children:t("smsNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveSmsUpdates")})]}),a.jsx(Cl,{checked:C.sms,onCheckedChange:U=>A("sms",U)})]}),a.jsx(hi,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(Ve,{className:"flex items-center space-x-2",children:[a.jsx(ba,{className:"h-4 w-4"}),a.jsx("span",{children:t("transactionNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnTransactions")})]}),a.jsx(Cl,{checked:C.transactions,onCheckedChange:U=>A("transactions",U)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Ve,{children:t("marketingNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePromotionalEmails")})]}),a.jsx(Cl,{checked:C.marketing,onCheckedChange:U=>A("marketing",U)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(Ve,{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4"}),a.jsx("span",{children:t("securityNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnSecurityEvents")})]}),a.jsx(Cl,{checked:C.security,onCheckedChange:U=>A("security",U)})]})]})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-5 w-5"}),a.jsx("span",{children:t("legalAndCompany")})]}),a.jsx(st,{children:t("importantLegalInformation")})]}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs(pr,{open:g,onOpenChange:x,children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{variant:"outline",children:[a.jsx(Up,{className:"h-4 w-4 mr-2"}),t("privacyPolicy")]})}),a.jsxs(xr,{className:"max-w-4xl max-h-[80vh]",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:t("privacyPolicy")}),a.jsxs(Qr,{children:[t("lastUpdated"),": ",new Date().toLocaleDateString()]})]}),a.jsx(Xl,{className:"h-[60vh] pr-4",children:a.jsxs("div",{className:"space-y-4 text-sm",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("informationCollection")}),a.jsx("p",{className:"mb-2",children:"We collect information you provide directly to us, such as when you create an account, make a transaction, or contact us for support. This includes your name, email address, phone number, and transaction history."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("informationUse")}),a.jsx("p",{className:"mb-2",children:"We use your information to provide, maintain, and improve our services, process transactions, send you technical notices and support messages, and communicate with you about products, services, and promotional offers."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("informationSharing")}),a.jsx("p",{className:"mb-2",children:"We do not sell, trade, or otherwise transfer your personal information to third parties without your consent, except as described in this policy. We may share information with service providers who assist us in operating our platform."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("dataSecurity")}),a.jsx("p",{className:"mb-2",children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. We use encryption for sensitive data transmission and storage."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("yourRights")}),a.jsx("p",{className:"mb-2",children:"You have the right to access, update, or delete your personal information. You may also opt out of certain communications from us. To exercise these rights, please contact our support team."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("contactUs")}),a.jsx("p",{className:"mb-2",children:"If you have any questions about this Privacy Policy, please contact us at privacy@tickets-ewallet.com or through our support channels."})]})]})})]})]}),a.jsxs(pr,{open:j,onOpenChange:_,children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{variant:"outline",children:[a.jsx(OS,{className:"h-4 w-4 mr-2"}),t("aboutCompany")]})}),a.jsxs(xr,{className:"max-w-3xl max-h-[80vh]",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:t("aboutOurCompany")}),a.jsx(Qr,{children:t("learnMoreAboutUs")})]}),a.jsx(Xl,{className:"h-[60vh] pr-4",children:a.jsxs("div",{className:"space-y-4 text-sm",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("ourMission")}),a.jsx("p",{className:"mb-2",children:"We're dedicated to revolutionizing digital payments and transportation ticketing in Syria. Our mission is to provide secure, convenient, and accessible digital financial services that empower individuals and businesses."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("whatWeDo")}),a.jsx("p",{className:"mb-2",children:"Tickets E-Wallet is a comprehensive digital platform that combines e-wallet functionality with transportation ticketing. Users can store money digitally, make payments, purchase transport tickets, and manage their finances all in one place."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("ourValues")}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsxs("li",{children:[a.jsxs("strong",{children:[t("security"),":"]})," Your financial security is our top priority"]}),a.jsxs("li",{children:[a.jsxs("strong",{children:[t("convenience"),":"]})," Making digital payments simple and accessible"]}),a.jsxs("li",{children:[a.jsxs("strong",{children:[t("innovation"),":"]})," Continuously improving our services"]}),a.jsxs("li",{children:[a.jsxs("strong",{children:[t("community"),":"]})," Supporting local transportation and businesses"]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("supportedServices")}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Digital wallet with secure money storage"}),a.jsx("li",{children:"Bus and transportation ticket purchases"}),a.jsx("li",{children:"Event ticket booking and management"}),a.jsx("li",{children:"Merchant payment processing"}),a.jsx("li",{children:"24/7 customer support"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:t("contactInformation")}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("email"),":"]})," support@tickets-ewallet.com"]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("website"),":"]})," www.tickets-ewallet.com"]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("address"),":"]})," Damascus, Syria"]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("businessHours"),":"]})," Sunday - Thursday, 9:00 AM - 6:00 PM"]})]})]})]})})]})]})]})})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:t("appInformation")})}),a.jsxs(he,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("version")}),a.jsx("span",{children:"1.0.0"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("lastUpdate")}),a.jsx("span",{children:new Date().toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("buildNumber")}),a.jsx("span",{children:"1.0.0-beta"})]})]})]})]})]})}const eq=()=>{var H,ee;const{notifications:e,unreadCount:t,loading:n,stats:r,fetchNotifications:s,markAsRead:i,markAllAsRead:o,deleteNotification:u}=nA(),{language:m}=Ft(),f=xo(),[g,x]=w.useState({}),[j,_]=w.useState(""),[C,E]=w.useState([]),[A,M]=w.useState("desc"),[D,R]=w.useState(!1),U=e.filter(Z=>{if(j){const oe=j.toLowerCase();if(!(Z.title.toLowerCase().includes(oe)||Z.message.toLowerCase().includes(oe)))return!1}return!(g.type&&g.type.length>0&&!g.type.includes(Z.type)||g.priority&&g.priority.length>0&&!g.priority.includes(Z.priority)||g.is_read!==void 0&&Z.is_read!==g.is_read||g.date_from&&new Date(Z.created_at)<new Date(g.date_from)||g.date_to&&new Date(Z.created_at)>new Date(g.date_to))}),k=[...U].sort((Z,oe)=>{const re=new Date(Z.created_at).getTime(),de=new Date(oe.created_at).getTime();return A==="asc"?re-de:de-re}),I=Z=>{switch(Z){case"success":return a.jsx(Tr,{className:"h-5 w-5 text-green-600"});case"warning":return a.jsx(Or,{className:"h-5 w-5 text-yellow-600"});case"error":return a.jsx(ou,{className:"h-5 w-5 text-red-600"});case"ticket":return a.jsx(ja,{className:"h-5 w-5 text-blue-600"});case"payment":return a.jsx(ba,{className:"h-5 w-5 text-green-600"});case"refund":return a.jsx(sr,{className:"h-5 w-5 text-orange-600"});case"event":return a.jsx(xne,{className:"h-5 w-5 text-purple-600"});case"system":return a.jsx(lu,{className:"h-5 w-5 text-gray-600"});default:return a.jsx(Dv,{className:"h-5 w-5 text-blue-600"})}},F=Z=>{const oe={low:"bg-gray-100 text-gray-800",normal:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"};return a.jsx(Je,{variant:"secondary",className:oe[Z],children:Z.toUpperCase()})},V=Z=>{Z.is_read||i(Z.id),Z.action_url&&f(Z.action_url)},L=()=>{C.forEach(Z=>{const oe=e.find(re=>re.id===Z);oe&&!oe.is_read&&i(Z)}),E([])},$=()=>{C.forEach(Z=>{u(Z)}),E([])},Y=()=>{C.length===k.length?E([]):E(k.map(Z=>Z.id))},q=(Z,oe)=>{const re={...g,[Z]:oe};x(re),s(re)},X=()=>{x({}),_(""),s()};w.useEffect(()=>{const Z=setTimeout(()=>{j!==g.search&&q("search",j||void 0)},500);return()=>clearTimeout(Z)},[j]);const G={en:{title:"Notifications",description:"Stay updated with your latest notifications",search:"Search notifications...",filters:"Filters",showFilters:"Show Filters",hideFilters:"Hide Filters",type:"Type",priority:"Priority",status:"Status",dateFrom:"From Date",dateTo:"To Date",clearFilters:"Clear Filters",markAllRead:"Mark All Read",markSelectedRead:"Mark Selected Read",deleteSelected:"Delete Selected",selectAll:"Select All",sortNewest:"Newest First",sortOldest:"Oldest First",noNotifications:"No notifications found",noNotificationsDesc:"Try adjusting your filters or check back later",all:"All",read:"Read",unread:"Unread",selected:"selected"},ar:{title:"",description:"   ",search:"  ...",filters:"",showFilters:" ",hideFilters:" ",type:"",priority:"",status:"",dateFrom:" ",dateTo:" ",clearFilters:" ",markAllRead:"  ",markSelectedRead:"  ",deleteSelected:" ",selectAll:" ",sortNewest:" ",sortOldest:" ",noNotifications:"    ",noNotificationsDesc:"     ",all:"",read:"",unread:" ",selected:""}}[m];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:G.title}),a.jsx("p",{className:"text-muted-foreground",children:G.description})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oh,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center",children:r.unread}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread"}),a.jsx("p",{className:"text-2xl font-bold",children:r.unread})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-orange-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"}),a.jsx("p",{className:"text-2xl font-bold",children:r.by_priority.high+r.by_priority.urgent})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Read"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total-r.unread})]})]})})})]}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{placeholder:G.search,value:j,onChange:Z=>_(Z.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>R(!D),children:[a.jsx(im,{className:"h-4 w-4 mr-2"}),D?G.hideFilters:G.showFilters]}),a.jsx(be,{variant:"outline",size:"sm",onClick:()=>M(A==="asc"?"desc":"asc"),children:A==="desc"?a.jsxs(a.Fragment,{children:[a.jsx(sne,{className:"h-4 w-4 mr-2"}),G.sortNewest]}):a.jsxs(a.Fragment,{children:[a.jsx(dne,{className:"h-4 w-4 mr-2"}),G.sortOldest]})})]})]}),a.jsx(Ch,{children:D&&a.jsxs(He.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[a.jsx(hi,{className:"mb-4"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{children:G.type}),a.jsxs(kt,{value:((H=g.type)==null?void 0:H[0])||"all",onValueChange:Z=>q("type",Z==="all"?void 0:[Z]),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:G.all}),a.jsx(Ee,{value:"info",children:"Info"}),a.jsx(Ee,{value:"success",children:"Success"}),a.jsx(Ee,{value:"warning",children:"Warning"}),a.jsx(Ee,{value:"error",children:"Error"}),a.jsx(Ee,{value:"system",children:"System"}),a.jsx(Ee,{value:"ticket",children:"Ticket"}),a.jsx(Ee,{value:"payment",children:"Payment"}),a.jsx(Ee,{value:"refund",children:"Refund"}),a.jsx(Ee,{value:"event",children:"Event"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{children:G.priority}),a.jsxs(kt,{value:((ee=g.priority)==null?void 0:ee[0])||"all",onValueChange:Z=>q("priority",Z==="all"?void 0:[Z]),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:G.all}),a.jsx(Ee,{value:"low",children:"Low"}),a.jsx(Ee,{value:"normal",children:"Normal"}),a.jsx(Ee,{value:"high",children:"High"}),a.jsx(Ee,{value:"urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{children:G.status}),a.jsxs(kt,{value:g.is_read===void 0?"all":g.is_read?"read":"unread",onValueChange:Z=>q("is_read",Z==="all"?void 0:Z==="read"),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:G.all}),a.jsx(Ee,{value:"read",children:G.read}),a.jsx(Ee,{value:"unread",children:G.unread})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{children:G.dateFrom}),a.jsx(ut,{type:"date",value:g.date_from||"",onChange:Z=>q("date_from",Z.target.value||void 0)})]}),a.jsxs("div",{children:[a.jsx(Ve,{children:G.dateTo}),a.jsx(ut,{type:"date",value:g.date_to||"",onChange:Z=>q("date_to",Z.target.value||void 0)})]})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx(be,{variant:"outline",size:"sm",onClick:X,children:G.clearFilters})})]})}),C.length>0&&a.jsxs(He.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-3 bg-blue-50 rounded-lg border",children:[a.jsxs("span",{className:"text-sm font-medium",children:[C.length," ",G.selected]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(be,{size:"sm",variant:"outline",onClick:L,children:[a.jsx(Mh,{className:"h-4 w-4 mr-2"}),G.markSelectedRead]}),a.jsxs(be,{size:"sm",variant:"outline",onClick:$,children:[a.jsx(cp,{className:"h-4 w-4 mr-2"}),G.deleteSelected]})]})]})]})})}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Oe,{children:["Notifications (",U.length,")"]}),t>0&&a.jsxs(st,{children:[t," unread notifications"]})]}),a.jsxs("div",{className:"flex gap-2",children:[k.length>0&&a.jsxs(be,{variant:"outline",size:"sm",onClick:Y,children:[a.jsx(du,{checked:C.length===k.length,className:"mr-2"}),G.selectAll]}),t>0&&a.jsxs(be,{size:"sm",onClick:o,children:[a.jsx(Sne,{className:"h-4 w-4 mr-2"}),G.markAllRead]})]})]})}),a.jsx(he,{className:"p-0",children:n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Oh,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"font-semibold text-muted-foreground mb-2",children:G.noNotifications}),a.jsx("p",{className:"text-sm text-muted-foreground",children:G.noNotificationsDesc})]}):a.jsx(Xl,{className:"h-96",children:a.jsx("div",{className:"space-y-1",children:k.map((Z,oe)=>a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:oe*.05},className:`flex items-start gap-4 p-4 border-l-4 cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-800 ${Z.is_read?"border-l-gray-200":"border-l-blue-500 bg-blue-50 dark:bg-blue-950"} ${C.includes(Z.id)?"bg-blue-100 dark:bg-blue-900":""}`,onClick:()=>V(Z),children:[a.jsx(du,{checked:C.includes(Z.id),onCheckedChange:re=>{E(re?de=>[...de,Z.id]:de=>de.filter(xe=>xe!==Z.id))},onClick:re=>re.stopPropagation()}),a.jsx("div",{className:"flex-shrink-0 mt-1",children:I(Z.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-medium ${Z.is_read?"text-muted-foreground":"text-foreground"}`,children:Z.title}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Z.message})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[F(Z.priority),!Z.is_read&&a.jsx(Je,{variant:"destructive",className:"h-2 w-2 p-0 rounded-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:fr(new Date(Z.created_at),"MMM dd, yyyy  HH:mm")}),a.jsxs("div",{className:"flex items-center gap-2",children:[Z.action_url&&a.jsxs(be,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:re=>{re.stopPropagation(),V(Z)},children:[a.jsx(Mv,{className:"h-3 w-3 mr-1"}),Z.action_label||"View"]}),a.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 hover:text-red-600",onClick:re=>{re.stopPropagation(),u(Z.id)},children:a.jsx(cp,{className:"h-3 w-3"})})]})]})]})]},Z.id))})})})]})]})},eb=()=>{const{user:e}=Ht(),{conversations:t,activeConversation:n,messages:r,loading:s,fetchConversations:i,createConversation:o,sendMessage:u,setActiveConversation:m}=s5(),[f,g]=w.useState(""),[x,j]=w.useState(!1),[_,C]=w.useState({subject:"",initial_message:"",category:"general",priority:"normal"}),E=w.useRef(null);w.useEffect(()=>{var k;(k=E.current)==null||k.scrollIntoView({behavior:"smooth"})},[r]);const A=async()=>{if(!_.subject.trim()||!_.initial_message.trim()){Se.error("Please fill in all required fields");return}const k=await o(_);k&&(j(!1),C({subject:"",initial_message:"",category:"general",priority:"normal"}),setTimeout(()=>{const I=t.find(F=>F.id===k);I&&m(I)},1e3))},M=async()=>{!f.trim()||!n||(await u({conversation_id:n.id,content:f.trim(),message_type:"text"}),g(""))},D=k=>{switch(k){case"open":return"bg-blue-500";case"assigned":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},R=k=>{switch(k){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"normal":return"bg-blue-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},U=k=>Lh(new Date(k),{addSuffix:!0});return e?a.jsxs("div",{className:"flex h-[600px] gap-4",children:[a.jsxs("div",{className:"w-1/3 border-r",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Support Conversations"}),a.jsxs(pr,{open:x,onOpenChange:j,children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{size:"sm",children:[a.jsx(_s,{className:"h-4 w-4 mr-2"}),"New Chat"]})}),a.jsxs(xr,{children:[a.jsx(vr,{children:a.jsx(yr,{children:"Start New Support Conversation"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"subject",children:"Subject *"}),a.jsx(ut,{id:"subject",placeholder:"Brief description of your issue",value:_.subject,onChange:k=>C(I=>({...I,subject:k.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"category",children:"Category"}),a.jsxs(kt,{value:_.category,onValueChange:k=>C(I=>({...I,category:k})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"general",children:"General Support"}),a.jsx(Ee,{value:"technical",children:"Technical Issue"}),a.jsx(Ee,{value:"billing",children:"Billing & Payments"}),a.jsx(Ee,{value:"account",children:"Account Management"}),a.jsx(Ee,{value:"refund",children:"Refund Request"}),a.jsx(Ee,{value:"feedback",children:"Feedback"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"priority",children:"Priority"}),a.jsxs(kt,{value:_.priority,onValueChange:k=>C(I=>({...I,priority:k})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"low",children:"Low"}),a.jsx(Ee,{value:"normal",children:"Normal"}),a.jsx(Ee,{value:"high",children:"High"}),a.jsx(Ee,{value:"urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"message",children:"Initial Message *"}),a.jsx(Es,{id:"message",placeholder:"Describe your issue in detail...",rows:4,value:_.initial_message,onChange:k=>C(I=>({...I,initial_message:k.target.value}))})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(be,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),a.jsx(be,{onClick:A,disabled:s,children:s?"Creating...":"Start Conversation"})]})]})]})]})]})}),a.jsx(Xl,{className:"h-[calc(100%-120px)]",children:a.jsx("div",{className:"p-4 space-y-2",children:t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ph,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No conversations yet"}),a.jsx(be,{onClick:()=>j(!0),size:"sm",children:"Start your first conversation"})]}):t.map(k=>a.jsx(fe,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${(n==null?void 0:n.id)===k.id?"ring-2 ring-primary":""}`,onClick:()=>m(k),children:a.jsxs(he,{className:"p-3",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate flex-1",children:k.subject}),k.unread_count&&k.unread_count>0&&a.jsx(Je,{variant:"destructive",className:"text-xs",children:k.unread_count})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Je,{variant:"outline",className:`text-xs ${D(k.status)}`,children:k.status}),a.jsx(Je,{variant:"outline",className:`text-xs ${R(k.priority)}`,children:k.priority}),k.category&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:k.category})]}),k.last_message&&a.jsx("p",{className:"text-xs text-muted-foreground truncate mb-1",children:k.last_message.content}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),U(k.updated_at)]})]})},k.id))})})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:n.subject}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Je,{variant:"outline",className:D(n.status),children:n.status}),a.jsx(Je,{variant:"outline",className:R(n.priority),children:n.priority}),n.category&&a.jsx(Je,{variant:"secondary",children:n.category})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ka,{className:"h-4 w-4"}),"Created ",U(n.created_at)]}),n.assigned_admin&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(uu,{className:"h-4 w-4"}),"Assigned to ",n.assigned_admin.full_name]})]})]})}),a.jsx(Xl,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(k=>{var I,F,V,L,$;return a.jsx("div",{className:`flex ${k.sender_id===e.id?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${k.sender_id===e.id?"flex-row-reverse":"flex-row"}`,children:[a.jsxs(fp,{className:"h-8 w-8",children:[a.jsx(hp,{src:(I=k.sender)==null?void 0:I.avatar_url}),a.jsx(mp,{children:((V=(F=k.sender)==null?void 0:F.full_name)==null?void 0:V.charAt(0))||"U"})]}),a.jsxs("div",{className:`rounded-lg p-3 ${k.sender_id===e.id?"bg-primary text-primary-foreground":"bg-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:((L=k.sender)==null?void 0:L.full_name)||"Unknown User"}),(($=k.sender)==null?void 0:$.role)==="admin"&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:"Support"})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.content}),a.jsx("p",{className:`text-xs mt-1 ${k.sender_id===e.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:U(k.created_at)})]})]})},k.id)}),a.jsx("div",{ref:E})]})}),a.jsx("div",{className:"p-4 border-t",children:n.status==="closed"?a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"This conversation has been closed"})}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ut,{placeholder:"Type your message...",value:f,onChange:k=>g(k.target.value),onKeyPress:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),M())},disabled:s}),a.jsx(be,{onClick:M,disabled:s||!f.trim(),children:a.jsx(Md,{className:"h-4 w-4"})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ph,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Choose a conversation from the sidebar to start chatting"}),a.jsxs(be,{onClick:()=>j(!0),children:[a.jsx(_s,{className:"h-4 w-4 mr-2"}),"Start New Conversation"]})]})})})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Please log in to access support chat"})})};function RCe(){return a.jsx(Zp,{userType:"passenger",children:a.jsxs(Jh,{children:[a.jsx(ht,{index:!0,element:a.jsx(cfe,{})}),a.jsx(ht,{path:"wallet",element:a.jsx(hfe,{})}),a.jsx(ht,{path:"scanner",element:a.jsx(rhe,{})}),a.jsx(ht,{path:"transactions",element:a.jsx(Ehe,{})}),a.jsx(ht,{path:"events",element:a.jsx(Che,{})}),a.jsx(ht,{path:"tickets",element:a.jsx(The,{})}),a.jsx(ht,{path:"gifts",element:a.jsx(ZEe,{})}),a.jsx(ht,{path:"analytics",element:a.jsx(KEe,{})}),a.jsx(ht,{path:"notifications",element:a.jsx(eq,{})}),a.jsx(ht,{path:"chat",element:a.jsx(eb,{})}),a.jsx(ht,{path:"profile",element:a.jsx(g0,{})}),a.jsx(ht,{path:"settings",element:a.jsx(p0,{})})]})})}var UT="Progress",zT=100,[kCe,P4e]=Ts(UT),[ICe,LCe]=kCe(UT),tq=w.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=BCe,...o}=e;(s||s===0)&&!j6(s)&&console.error(FCe(`${s}`,"Progress"));const u=j6(s)?s:zT;r!==null&&!N6(r,u)&&console.error(UCe(`${r}`,"Progress"));const m=N6(r,u)?r:null,f=Py(m)?i(m,u):void 0;return a.jsx(ICe,{scope:n,value:m,max:u,children:a.jsx(_t.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Py(m)?m:void 0,"aria-valuetext":f,role:"progressbar","data-state":aq(m,u),"data-value":m??void 0,"data-max":u,...o,ref:t})})});tq.displayName=UT;var nq="ProgressIndicator",rq=w.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=LCe(nq,n);return a.jsx(_t.div,{"data-state":aq(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});rq.displayName=nq;function BCe(e,t){return`${Math.round(e/t*100)}%`}function aq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Py(e){return typeof e=="number"}function j6(e){return Py(e)&&!isNaN(e)&&e>0}function N6(e,t){return Py(e)&&!isNaN(e)&&e<=t&&e>=0}function FCe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zT}\`.`}function UCe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var zCe=tq,VCe=rq;function Cd({className:e,value:t,...n}){return a.jsx(zCe,{"data-slot":"progress",className:yt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:a.jsx(VCe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function $Ce(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTrips:0,dailyTrips:0,activeQRCodes:0,averageRating:0}),[i,o]=w.useState([]),[u,m]=w.useState("not_submitted"),[f,g]=w.useState(!0),[x,j]=w.useState(!1);w.useEffect(()=>{e&&Promise.all([_(),C(),E()]).finally(()=>g(!1))},[e]);const _=async()=>{if(e)try{const{data:k,error:I}=await ze.from("transactions").select("amount, created_at").eq("to_user_id",e.id).eq("type","transport_payment");if(I)throw I;const F=new Date,V=new Date(F.getFullYear(),F.getMonth(),F.getDate()),L=new Date(V.getTime()-7*24*60*60*1e3),$=new Date(V.getTime()-30*24*60*60*1e3),Y=k||[],q=Y.reduce((re,de)=>re+de.amount,0),X=Y.filter(re=>new Date(re.created_at)>=V).reduce((re,de)=>re+de.amount,0),Q=Y.filter(re=>new Date(re.created_at)>=L).reduce((re,de)=>re+de.amount,0),G=Y.filter(re=>new Date(re.created_at)>=$).reduce((re,de)=>re+de.amount,0),H=Y.length,ee=Y.filter(re=>new Date(re.created_at)>=V).length,{data:Z,error:oe}=await ze.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(oe)throw oe;s({totalEarnings:q,dailyEarnings:X,weeklyEarnings:Q,monthlyEarnings:G,totalTrips:H,dailyTrips:ee,activeQRCodes:(Z==null?void 0:Z.length)||0,averageRating:4.5})}catch(k){console.error("Error fetching driver stats:",k)}},C=async()=>{if(e)try{const{data:k,error:I}=await ze.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1}).limit(5);if(I)throw I;const F=(k==null?void 0:k.map(V=>{var L;return{id:V.id,passenger_name:((L=V.profiles)==null?void 0:L.full_name)||t("unknown_passenger"),amount:V.amount,created_at:V.created_at,status:V.status,pickup_location:"Damascus",dropoff_location:"Aleppo"}}))||[];o(F)}catch(k){console.error("Error fetching recent trips:",k)}},E=async()=>{if(e)try{const{data:k,error:I}=await ze.from("driver_profiles").select("verification_status").eq("user_id",e.id).single();if(I){console.error("Error fetching verification status:",I);return}k&&m(k.verification_status||"not_submitted")}catch(k){console.error("Error:",k)}},A=k=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(k),M=k=>new Date(k).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=k=>{const I={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},F=I[k]||I.pending;return a.jsx(Je,{variant:F.variant,children:F.label})};if(f)return a.jsx(ms,{text:t("loading_dashboard")});const U=r.dailyEarnings/5e4*100;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("driver_dashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("driver_dashboard_description")})]}),u!=="approved"&&a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(us,{className:`border-l-4 ${u==="rejected"?"border-l-red-500 bg-red-50 dark:bg-red-950":u==="pending"?"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950":"border-l-blue-500 bg-blue-50 dark:bg-blue-950"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[u==="rejected"?a.jsx(Or,{className:"h-5 w-5 text-red-600"}):u==="pending"?a.jsx(Hn,{className:"h-5 w-5 text-yellow-600"}):a.jsx(cs,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium mb-1",children:[u==="rejected"&&t("driver.verification.status.rejected"),u==="pending"&&t("driver.verification.status.pending"),u==="not_submitted"&&t("driver.verification.title")]}),a.jsxs(ds,{className:"text-sm",children:[u==="rejected"&&t("driver.verification.rejectedMessage"),u==="pending"&&"Your verification is being reviewed. You will be notified once approved.",u==="not_submitted"&&"Complete your driver verification to start earning with passengers."]})]}),a.jsx($t,{to:"/driver/verification",children:a.jsx(be,{variant:u==="rejected"?"destructive":"default",size:"sm",children:u==="rejected"?"Resubmit":u==="pending"?"View Status":"Start Verification"})})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("daily_earnings")}),a.jsx(be,{variant:"ghost",size:"icon",onClick:()=>j(!x),className:"h-4 w-4",children:x?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:x?A(r.dailyEarnings):""}),a.jsxs("div",{className:"mt-2",children:[a.jsx(Cd,{value:U,className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(U),"% ",t("of_daily_goal")]})]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:x?A(r.totalEarnings):""}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(qn,{className:"inline h-3 w-3 mr-1"}),t("weekly"),": ",x?A(r.weeklyEarnings):""]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("total_trips")}),a.jsx(ls,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTrips}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTrips," ",t("today")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("active_qr_codes")}),a.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.activeQRCodes}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",r.averageRating.toFixed(1)," ",t("rating")]})]})]})})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("quick_actions")}),a.jsx(st,{children:t("quick_actions_description")})]}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(be,{asChild:!0,className:"h-20 flex flex-col",children:a.jsxs($t,{to:"/driver/qr-generator",children:[a.jsx(ir,{className:"h-6 w-6 mb-2"}),t("generate_qr_code")]})}),a.jsx(be,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs($t,{to:"/driver/trips",children:[a.jsx(ls,{className:"h-6 w-6 mb-2"}),t("view_trips")]})}),a.jsx(be,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs($t,{to:"/driver/earnings",children:[a.jsx(sr,{className:"h-6 w-6 mb-2"}),t("view_earnings")]})}),a.jsx(be,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs($t,{to:"/driver/analytics",children:[a.jsx(Fp,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recent_trips")}),a.jsx(st,{children:t("recent_trips_description")})]}),a.jsx(he,{children:i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ls,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_yet")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]}):a.jsxs("div",{className:"space-y-4",children:[i.map((k,I)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*I},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(wa,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:k.passenger_name}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Zo,{className:"h-3 w-3 mr-1"}),k.pickup_location,"  ",k.dropoff_location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),M(k.created_at)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:A(k.amount)}),D(k.status)]})]},k.id)),a.jsx(be,{asChild:!0,variant:"outline",className:"w-full",children:a.jsx($t,{to:"/driver/trips",children:t("view_all_trips")})})]})})]})})]})}function HCe(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,yearlyEarnings:0,averagePerTrip:0,totalTrips:0,peakHours:[]}),[i,o]=w.useState([]),[u,m]=w.useState([]),[f,g]=w.useState(!0),[x,j]=w.useState({from:wF(new Date,-30),to:new Date}),[_,C]=w.useState("all"),[E,A]=w.useState("");w.useEffect(()=>{e&&M()},[e,x]),w.useEffect(()=>{R()},[i,_,E]);const M=async()=>{if(e)try{let L=ze.from("transactions").select(`
          id,
          amount,
          created_at,
          from_user_id,
          commission,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1});x!=null&&x.from&&(L=L.gte("created_at",x.from.toISOString())),x!=null&&x.to&&(L=L.lte("created_at",x.to.toISOString()));const{data:$,error:Y}=await L;if(Y)throw Y;const q=($==null?void 0:$.map(X=>{var Q;return{id:X.id,amount:X.amount,created_at:X.created_at,passenger_name:((Q=X.profiles)==null?void 0:Q.full_name)||t("unknown_passenger"),commission:X.commission||0}}))||[];o(q),D(q)}catch(L){console.error("Error fetching earnings:",L),Se.error(t("error_fetch_earnings"))}finally{g(!1)}},D=L=>{if(L.length===0)return;const $=new Date,Y=new Date($.getFullYear(),$.getMonth(),$.getDate()),q=new Date(Y.getTime()-7*24*60*60*1e3),X=new Date(Y.getTime()-30*24*60*60*1e3),Q=new Date(Y.getTime()-365*24*60*60*1e3),G=L.reduce((ke,ae)=>ke+ae.amount,0),H=L.filter(ke=>new Date(ke.created_at)>=Y).reduce((ke,ae)=>ke+ae.amount,0),ee=L.filter(ke=>new Date(ke.created_at)>=q).reduce((ke,ae)=>ke+ae.amount,0),Z=L.filter(ke=>new Date(ke.created_at)>=X).reduce((ke,ae)=>ke+ae.amount,0),oe=L.filter(ke=>new Date(ke.created_at)>=Q).reduce((ke,ae)=>ke+ae.amount,0),re=L.length,de=re>0?G/re:0,xe=new Array(24).fill(0);L.forEach(ke=>{const ae=new Date(ke.created_at).getHours();xe[ae]++});const _e=Math.max(...xe),ye=xe.map((ke,ae)=>({hour:ae,count:ke})).filter(ke=>ke.count===_e&&ke.count>0).map(ke=>`${ke.hour}:00`);s({totalEarnings:G,dailyEarnings:H,weeklyEarnings:ee,monthlyEarnings:Z,yearlyEarnings:oe,averagePerTrip:de,totalTrips:re,peakHours:ye})},R=()=>{let L=i;E&&(L=L.filter($=>$.passenger_name.toLowerCase().includes(E.toLowerCase())||$.id.toLowerCase().includes(E.toLowerCase()))),m(L)},U=()=>{const L=[["Date","Passenger","Amount","Commission","Net Earnings","Transaction ID"],...u.map(X=>[fr(new Date(X.created_at),"yyyy-MM-dd HH:mm"),X.passenger_name,X.amount.toString(),(X.commission||0).toString(),(X.amount-(X.commission||0)).toString(),X.id])].map(X=>X.join(",")).join(`
`),$=new Blob([L],{type:"text/csv"}),Y=URL.createObjectURL($),q=document.createElement("a");q.href=Y,q.download=`earnings-${fr(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(Y),Se.success(t("earnings_exported"))},k=L=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(L),I=L=>new Date(L).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(f)return a.jsx(ms,{text:t("loading_earnings")});const F=r.monthlyEarnings*.85,V=F>0?(r.monthlyEarnings-F)/F*100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("earnings")}),a.jsx("p",{className:"text-muted-foreground",children:t("earnings_description")})]}),a.jsxs(be,{onClick:U,variant:"outline",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),t("export")]})]}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("date_range")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ut,{type:"date",value:x!=null&&x.from?fr(x.from,"yyyy-MM-dd"):"",onChange:L=>j($=>({from:L.target.value?new Date(L.target.value):void 0,to:$==null?void 0:$.to}))}),a.jsx(ut,{type:"date",value:x!=null&&x.to?fr(x.to,"yyyy-MM-dd"):"",onChange:L=>j($=>({from:$==null?void 0:$.from,to:L.target.value?new Date(L.target.value):void 0}))})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"w-48",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("search")}),a.jsx(ut,{placeholder:t("search_transactions"),value:E,onChange:L=>A(L.target.value)})]})})]})})}),a.jsxs(xi,{defaultValue:"overview",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-3",children:[a.jsx(Et,{value:"overview",children:t("overview")}),a.jsx(Et,{value:"details",children:t("details")}),a.jsx(Et,{value:"analytics",children:t("analytics")})]}),a.jsx(Ot,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k(r.totalEarnings)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.totalTrips," ",t("trips_completed")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("monthly_earnings")}),V>=0?a.jsx(qn,{className:"h-4 w-4 text-green-600"}):a.jsx(ql,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k(r.monthlyEarnings)}),a.jsxs("p",{className:`text-xs ${V>=0?"text-green-600":"text-red-600"}`,children:[V>=0?"+":"",V.toFixed(1),"% ",t("from_last_month")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("average_per_trip")}),a.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k(r.averagePerTrip)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[t("daily"),": ",k(r.dailyEarnings)]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("peak_hours")}),a.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.peakHours.length>0?r.peakHours[0]:"--:--"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r.peakHours.length>1&&`+${r.peakHours.length-1} ${t("more")}`})]})]})})]})}),a.jsx(Ot,{value:"details",className:"space-y-6",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recent_earnings")}),a.jsxs(st,{children:[t("showing")," ",u.length," ",t("transactions")]})]}),a.jsx(he,{children:u.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_earnings_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_earnings_description")})]}):a.jsx("div",{className:"space-y-4",children:u.map((L,$)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*$},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(sr,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:L.passenger_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:I(L.created_at)}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[L.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",k(L.amount)]}),L.commission&&L.commission>0&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("commission"),": -",k(L.commission)]}),a.jsx(Je,{variant:"outline",className:"mt-1",children:t("trip_payment")})]})]},L.id))})})]})}),a.jsx(Ot,{value:"analytics",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:t("earnings_breakdown")})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("daily_average")}),a.jsx("span",{className:"font-medium",children:k(r.dailyEarnings)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("weekly_average")}),a.jsx("span",{className:"font-medium",children:k(r.weeklyEarnings/7)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("monthly_average")}),a.jsx("span",{className:"font-medium",children:k(r.monthlyEarnings/30)})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[a.jsx("span",{className:"font-medium",children:t("total_net_earnings")}),a.jsx("span",{className:"font-bold text-lg",children:k(r.totalEarnings)})]})]})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:t("performance_metrics")})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("total_trips")}),a.jsx("span",{className:"font-medium",children:r.totalTrips})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("average_per_trip")}),a.jsx("span",{className:"font-medium",children:k(r.averagePerTrip)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("peak_hours")}),a.jsx("span",{className:"font-medium",children:r.peakHours.length>0?r.peakHours.join(", "):t("no_data")})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[a.jsx("span",{className:"font-medium",children:t("efficiency_rating")}),a.jsxs(Je,{variant:"outline",children:[" ",t("excellent")]})]})]})]})]})})]})]})}function qCe(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState([]),[u,m]=w.useState(!0),[f,g]=w.useState(""),[x,j]=w.useState("all"),[_,C]=w.useState(null);w.useEffect(()=>{e&&E()},[e]),w.useEffect(()=>{A()},[r,f,x]);const E=async()=>{if(e)try{const{data:q,error:X}=await ze.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("transaction_type","payment").not("qr_code_id","is",null).order("created_at",{ascending:!1});if(X)throw X;const Q=(q==null?void 0:q.map(G=>{var ee;const H=G.metadata||{};return{id:G.id,passenger_name:((ee=G.profiles)==null?void 0:ee.full_name)||t("unknown_passenger"),passenger_id:G.from_user_id,amount:G.amount,created_at:G.created_at,status:G.status,pickup_location:H.pickup_location||"Damascus City Center",dropoff_location:H.dropoff_location||"Damascus Airport",distance:H.distance||Math.floor(Math.random()*20)+5,duration:H.duration||Math.floor(Math.random()*45)+15,rating:H.rating||Math.floor(Math.random()*2)+4,notes:H.notes}}))||[];s(Q)}catch(q){console.error("Error fetching trips:",q),Se.error(t("error_fetch_trips"))}finally{m(!1)}},A=()=>{let q=r.filter(X=>{const Q=X.passenger_name.toLowerCase().includes(f.toLowerCase())||(X.pickup_location||"").toLowerCase().includes(f.toLowerCase())||(X.dropoff_location||"").toLowerCase().includes(f.toLowerCase())||X.id.toLowerCase().includes(f.toLowerCase()),G=x==="all"||X.status===x;return Q&&G});o(q)},M=q=>{const X={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")},in_progress:{variant:"secondary",label:t("in_progress")}},Q=X[q]||X.pending;return a.jsx(Je,{variant:Q.variant,children:Q.label})},D=q=>"".repeat(Math.floor(q))+(q%1>=.5?"":""),R=q=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(q),U=q=>new Date(q).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=q=>{const X=Math.floor(q/60),Q=q%60;return X>0?`${X}h ${Q}m`:`${Q}m`},I=q=>i.filter(X=>X.status===q);if(u)return a.jsx(ms,{text:t("loading_trips")});const F=I("completed"),V=I("pending"),L=I("cancelled"),$=I("in_progress");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("trips")}),a.jsx("p",{className:"text-muted-foreground",children:t("trips_description")})]}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(ut,{placeholder:t("search_trips"),value:f,onChange:q=>g(q.target.value),className:"pl-10"})]})}),a.jsxs(kt,{value:x,onValueChange:j,children:[a.jsxs(It,{className:"w-[150px]",children:[a.jsx(im,{className:"h-4 w-4 mr-2"}),a.jsx(Bt,{})]}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("all_statuses")}),a.jsx(Ee,{value:"completed",children:t("completed")}),a.jsx(Ee,{value:"pending",children:t("pending")}),a.jsx(Ee,{value:"in_progress",children:t("in_progress")}),a.jsx(Ee,{value:"cancelled",children:t("cancelled")})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("completed")}),a.jsx("p",{className:"text-2xl font-bold",children:F.length})]}),a.jsx(ls,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("pending")}),a.jsx("p",{className:"text-2xl font-bold",children:V.length})]}),a.jsx(Hn,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("in_progress")}),a.jsx("p",{className:"text-2xl font-bold",children:$.length})]}),a.jsx(XD,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("cancelled")}),a.jsx("p",{className:"text-2xl font-bold",children:L.length})]}),a.jsx(ls,{className:"h-8 w-8 text-red-600"})]})})})]}),a.jsxs(xi,{defaultValue:"all",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-5",children:[a.jsxs(Et,{value:"all",children:[t("all")," (",i.length,")"]}),a.jsxs(Et,{value:"completed",children:[t("completed")," (",F.length,")"]}),a.jsxs(Et,{value:"pending",children:[t("pending")," (",V.length,")"]}),a.jsxs(Et,{value:"in_progress",children:[t("in_progress")," (",$.length,")"]}),a.jsxs(Et,{value:"cancelled",children:[t("cancelled")," (",L.length,")"]})]}),a.jsx(Ot,{value:"all",className:"space-y-4",children:a.jsx(Y,{trips:i})}),a.jsx(Ot,{value:"completed",className:"space-y-4",children:a.jsx(Y,{trips:F})}),a.jsx(Ot,{value:"pending",className:"space-y-4",children:a.jsx(Y,{trips:V})}),a.jsx(Ot,{value:"in_progress",className:"space-y-4",children:a.jsx(Y,{trips:$})}),a.jsx(Ot,{value:"cancelled",className:"space-y-4",children:a.jsx(Y,{trips:L})})]})]});function Y({trips:q}){return q.length===0?a.jsx(fe,{children:a.jsxs(he,{className:"text-center py-12",children:[a.jsx(ls,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]})}):a.jsx("div",{className:"space-y-4",children:q.map((X,Q)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Q*.1},children:a.jsx(fe,{className:"hover:shadow-lg transition-shadow",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(wa,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:X.passenger_name}),M(X.status)]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("pickup")}),a.jsx("p",{children:X.pickup_location})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(XD,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("dropoff")}),a.jsx("p",{children:X.dropoff_location})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("date_time")}),a.jsx("p",{children:U(X.created_at)})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("span",{children:[a.jsxs("strong",{children:[t("distance"),":"]})," ",X.distance,"km"]}),a.jsxs("span",{children:[a.jsxs("strong",{children:[t("duration"),":"]})," ",k(X.duration||0)]}),X.rating&&a.jsxs("span",{children:[a.jsxs("strong",{children:[t("rating"),":"]})," ",D(X.rating)]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(X.amount)})})]})]})]}),a.jsxs(pr,{children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>C(X),children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),t("details")]})}),a.jsxs(xr,{className:"max-w-2xl",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:t("trip_details")}),a.jsxs(Qr,{children:[t("trip_id"),": ",X.id]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("passenger_info")}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("name"),":"]})," ",X.passenger_name]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("rating"),":"]})," ",X.rating?D(X.rating):t("no_rating")]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("trip_info")}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("date"),":"]})," ",U(X.created_at)]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("status"),":"]})," ",M(X.status)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("route_details")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-600",children:t("pickup_location")}),a.jsx("p",{children:X.pickup_location})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-600",children:t("dropoff_location")}),a.jsx("p",{children:X.dropoff_location})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("trip_metrics")}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("distance")}),a.jsxs("p",{className:"text-lg font-bold",children:[X.distance,"km"]})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("duration")}),a.jsx("p",{className:"text-lg font-bold",children:k(X.duration||0)})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("earnings")}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:R(X.amount)})]})]})]}),X.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("notes")}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:X.notes})]})]})]})]})]})})})},X.id))})}}function YCe(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState(!0),[u,m]=w.useState(!1),[f,g]=w.useState({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""});w.useEffect(()=>{e&&x()},[e]);const x=async()=>{if(e)try{const{data:I,error:F}=await ze.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(F)throw F;const V=(I==null?void 0:I.map(L=>{var $,Y;return{...L,usage_count:((Y=($=L.usage_count)==null?void 0:$[0])==null?void 0:Y.count)||0}}))||[];s(V)}catch(I){console.error("Error fetching QR codes:",I),Se.error(t("error_fetch_qr_codes"))}finally{o(!1)}},j=async()=>{if(!e||!f.amount){Se.error(t("please_fill_required_fields"));return}m(!0);try{const I=parseFloat(f.amount);if(I<=0){Se.error(t("invalid_amount"));return}const F={type:"transport_payment",driver_id:e.id,amount:I,pickup_location:f.pickup_location||null,dropoff_location:f.dropoff_location||null,timestamp:Date.now()},{data:V,error:L}=await ze.from("qr_codes").insert({driver_id:e.id,qr_data:JSON.stringify(F),is_active:!0,expires_at:f.expires_at||null,route_info:`${f.pickup_location}  ${f.dropoff_location}`,vehicle_info:f.description||null}).select().single();if(L)throw L;Se.success(t("qr_code_generated_successfully")),g({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""}),x()}catch(I){console.error("Error generating QR code:",I),Se.error(t("error_generate_qr_code"))}finally{m(!1)}},_=async(I,F)=>{try{const{error:V}=await ze.from("qr_codes").update({is_active:!F}).eq("id",I).eq("driver_id",e==null?void 0:e.id);if(V)throw V;Se.success(t(F?"qr_code_deactivated":"qr_code_activated")),x()}catch(V){console.error("Error toggling QR code status:",V),Se.error(t("error_toggle_qr_status"))}},C=I=>{const F=I.qr_data;navigator.clipboard.writeText(F),Se.success(t("qr_data_copied"))},E=I=>{const F=I.qr_data,V=new Blob([F],{type:"application/json"}),L=URL.createObjectURL(V),$=document.createElement("a");$.href=L,$.download=`qr-code-${I.id}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(L),Se.success(t("qr_code_downloaded"))},A=I=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(I),M=I=>new Date(I).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=I=>I?new Date(I)<new Date:!1,R=I=>D(I.expires_at)?a.jsx(Je,{variant:"destructive",children:t("expired")}):I.is_active?a.jsx(Je,{variant:"default",children:t("active")}):a.jsx(Je,{variant:"outline",children:t("inactive")});if(i)return a.jsx(ms,{text:t("loading_qr_codes")});const U=r.filter(I=>I.is_active&&!D(I.expires_at)),k=r.filter(I=>!I.is_active||D(I.expires_at));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("qr_code_generator")}),a.jsx("p",{className:"text-muted-foreground",children:t("qr_generator_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),a.jsx("p",{className:"text-2xl font-bold",children:U.length})]}),a.jsx(ir,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_usage")}),a.jsx("p",{className:"text-2xl font-bold",children:r.reduce((I,F)=>I+F.usage_count,0)})]}),a.jsx(Gn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),a.jsx("p",{className:"text-2xl font-bold",children:A(r.reduce((I,F)=>I+15e3*F.usage_count,0))})]}),a.jsx(sr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("generate_new_qr_code")}),a.jsx(st,{children:t("create_qr_description")})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ve,{htmlFor:"amount",children:[t("amount")," *"]}),a.jsx(ut,{id:"amount",type:"number",placeholder:"0",value:f.amount,onChange:I=>g(F=>({...F,amount:I.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"expires_at",children:t("expires_at")}),a.jsx(ut,{id:"expires_at",type:"datetime-local",value:f.expires_at,onChange:I=>g(F=>({...F,expires_at:I.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"pickup_location",children:t("pickup_location")}),a.jsx(ut,{id:"pickup_location",placeholder:t("pickup_location_placeholder"),value:f.pickup_location,onChange:I=>g(F=>({...F,pickup_location:I.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"dropoff_location",children:t("dropoff_location")}),a.jsx(ut,{id:"dropoff_location",placeholder:t("dropoff_location_placeholder"),value:f.dropoff_location,onChange:I=>g(F=>({...F,dropoff_location:I.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"description",children:t("description")}),a.jsx(Es,{id:"description",placeholder:t("qr_description_placeholder"),value:f.description,onChange:I=>g(F=>({...F,description:I.target.value}))})]}),a.jsx(be,{onClick:j,disabled:u,className:"w-full",children:u?a.jsx(ms,{text:t("generating")}):a.jsxs(a.Fragment,{children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:[t("active_qr_codes")," (",U.length,")"]}),a.jsx(st,{children:t("manage_active_qr_codes")})]}),a.jsx(he,{children:U.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ir,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("generate_first_qr_code")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map((I,F)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},children:a.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Te,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:A(I.amount||0)}),R(I)]}),I.description&&a.jsx(st,{children:I.description})]}),a.jsxs(he,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[I.route_info&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:I.route_info})]}),I.vehicle_info&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2 text-gray-600"}),a.jsx("span",{children:I.vehicle_info})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:M(I.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{className:"h-4 w-4 mr-2 text-purple-600"}),a.jsxs("span",{children:[I.usage_count," ",t("times_used")]})]}),I.expires_at&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-orange-600"}),a.jsxs("span",{children:[t("expires"),": ",M(I.expires_at)]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>C(I),className:"flex-1",children:[a.jsx(Vy,{className:"h-4 w-4 mr-1"}),t("copy")]}),a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>E(I),className:"flex-1",children:[a.jsx(fs,{className:"h-4 w-4 mr-1"}),t("download")]})]}),a.jsx(be,{variant:I.is_active?"destructive":"default",size:"sm",onClick:()=>_(I.id,I.is_active),className:"w-full",children:I.is_active?a.jsxs(a.Fragment,{children:[a.jsx(hs,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},I.id))})})]}),k.length>0&&a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:[t("inactive_expired_qr_codes")," (",k.length,")"]}),a.jsx(st,{children:t("manage_inactive_qr_codes")})]}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map((I,F)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},children:a.jsxs(fe,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[a.jsxs(Te,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:A(I.amount||0)}),R(I)]}),I.description&&a.jsx(st,{children:I.description})]}),a.jsxs(he,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:M(I.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[I.usage_count," ",t("times_used")]})]})]}),!D(I.expires_at)&&a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>_(I.id,I.is_active),className:"w-full",children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},I.id))})})]})]})}const WCe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},GCe=(e,t,n)=>{const r=WCe[e];let s;return typeof r=="string"?s=r:t===1?s=r.one:t===2?s=r.two:t<=10?s=r.threeToTen.replace("{{count}}",String(t)):s=r.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+s:" "+s:s},KCe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},XCe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},QCe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZCe={date:wh({formats:KCe,defaultWidth:"full"}),time:wh({formats:XCe,defaultWidth:"full"}),dateTime:wh({formats:QCe,defaultWidth:"full"})},JCe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},eTe=e=>JCe[e],tTe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},nTe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},rTe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},aTe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},sTe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},iTe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},oTe=e=>String(e),lTe={ordinalNumber:oTe,era:zo({values:tTe,defaultWidth:"wide"}),quarter:zo({values:nTe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zo({values:rTe,defaultWidth:"wide"}),day:zo({values:aTe,defaultWidth:"wide"}),dayPeriod:zo({values:sTe,defaultWidth:"wide",formattingValues:iTe,defaultFormattingWidth:"wide"})},cTe=/^(\d+)(th|st|nd|rd)?/i,uTe=/\d+/i,dTe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},fTe={any:[//,//]},hTe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},mTe={any:[/1/i,/2/i,/3/i,/4/i]},gTe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},pTe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},xTe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},vTe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},yTe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},bTe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},wTe={ordinalNumber:EF({matchPattern:cTe,parsePattern:uTe,valueCallback:e=>parseInt(e,10)}),era:Vo({matchPatterns:dTe,defaultMatchWidth:"wide",parsePatterns:fTe,defaultParseWidth:"any"}),quarter:Vo({matchPatterns:hTe,defaultMatchWidth:"wide",parsePatterns:mTe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vo({matchPatterns:gTe,defaultMatchWidth:"wide",parsePatterns:pTe,defaultParseWidth:"any"}),day:Vo({matchPatterns:xTe,defaultMatchWidth:"wide",parsePatterns:vTe,defaultParseWidth:"any"}),dayPeriod:Vo({matchPatterns:yTe,defaultMatchWidth:"any",parsePatterns:bTe,defaultParseWidth:"any"})},Mp={code:"ar",formatDistance:GCe,formatLong:ZCe,formatRelative:eTe,localize:lTe,match:wTe,options:{weekStartsOn:6,firstWeekContainsDate:1}},jTe=()=>{const{user:e}=Ht(),{language:t,t:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState([]),[u,m]=w.useState(!0),[f,g]=w.useState("30"),[x,j]=w.useState("line");w.useEffect(()=>{e&&_()},[e,f]);const _=async()=>{if(e){m(!0);try{const k=$o(new Date,parseInt(f)),{data:I,error:F}=await ze.from("transactions").select(`
          *,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").gte("created_at",k.toISOString()).order("created_at",{ascending:!0});if(F)throw F;const{data:V,error:L}=await ze.from("qr_codes").select("*").eq("driver_id",e.id).gte("created_at",k.toISOString()).order("created_at",{ascending:!0});if(L)throw L;s(I||[]),o(V||[])}catch(k){console.error("Error fetching analytics data:",k)}finally{m(!1)}}},C=()=>{const k=r.filter(ue=>ue.status==="completed"),I=k.reduce((ue,ce)=>ue+ce.amount,0),F=15,V=30,L=k.length*F,$=k.length*V,Y=4.5,X=k.filter(ue=>Wv(ia(ue.created_at))).reduce((ue,ce)=>ue+ce.amount,0),Q=k.length>0?I/k.length:0,G=F,H=V,ee=L>0?I/L:0,Z=$>0?I/($/60):0,oe=r.length>0?r.filter(ue=>ue.status==="cancelled").length/r.length*100:0,re=Math.floor(parseInt(f)/2),de=$o(new Date,re),xe=k.filter(ue=>ia(ue.created_at)>=de),_e=k.filter(ue=>ia(ue.created_at)<de),ye=xe.reduce((ue,ce)=>ue+ce.amount,0),ke=_e.reduce((ue,ce)=>ue+ce.amount,0),ae=ke>0?(ye-ke)/ke*100:0;return{totalTrips:k.length,totalEarnings:I,avgRating:Y,todayEarnings:X,avgTripFare:Q,avgTripDistance:G,avgTripDuration:H,earningsPerKm:ee,earningsPerHour:Z,cancellationRate:oe,earningsGrowth:ae,totalDistance:L,totalDuration:$}},E=()=>{const k=new Map;return r.filter(I=>I.status==="completed").forEach(I=>{const F=fr(ia(I.created_at),"yyyy-MM-dd");k.set(F,(k.get(F)||0)+I.amount)}),Array.from(k.entries()).map(([I,F])=>({date:fr(ia(I),"MMM dd",{locale:t==="ar"?Mp:void 0}),earnings:F,trips:r.filter(V=>fr(ia(V.created_at),"yyyy-MM-dd")===I&&V.status==="completed").length})).sort((I,F)=>I.date.localeCompare(F.date))},A=()=>{const k=new Map;for(let I=0;I<24;I++)k.set(I,{trips:0,earnings:0});return r.filter(I=>I.status==="completed").forEach(I=>{const F=ia(I.created_at).getHours(),V=k.get(F)||{trips:0,earnings:0};k.set(F,{trips:V.trips+1,earnings:V.earnings+I.amount})}),Array.from(k.entries()).map(([I,F])=>({hour:`${I.toString().padStart(2,"0")}:00`,trips:F.trips,earnings:F.earnings,avgFare:F.trips>0?F.earnings/F.trips:0}))},M=()=>{const k=[],I=new Date;for(let F=5;F>=0;F--){const V=new Date(I.getFullYear(),I.getMonth()-F,1),L=RE(V),$=u1(V),Y=r.filter(q=>{const X=ia(q.created_at);return X>=L&&X<=$&&q.status==="completed"});k.push({month:fr(V,"MMM yyyy",{locale:t==="ar"?Mp:void 0}),trips:Y.length,earnings:Y.reduce((q,X)=>q+X.amount,0),avgRating:4.5})}return k},D=()=>[{location:"Damascus City Center",trips:Math.floor(Math.random()*50)+10,earnings:Math.floor(Math.random()*5e5)+1e5},{location:"Aleppo",trips:Math.floor(Math.random()*40)+8,earnings:Math.floor(Math.random()*4e5)+8e4},{location:"Lattakia",trips:Math.floor(Math.random()*30)+5,earnings:Math.floor(Math.random()*3e5)+6e4},{location:"Homs",trips:Math.floor(Math.random()*25)+5,earnings:Math.floor(Math.random()*25e4)+5e4},{location:"Daraa",trips:Math.floor(Math.random()*20)+3,earnings:Math.floor(Math.random()*2e5)+4e4}].map(I=>({...I,avgFare:I.earnings/I.trips,avgRating:4+Math.random()*1})).sort((I,F)=>F.earnings-I.earnings),R=()=>{const k=C(),I={metadata:{exportDate:new Date().toISOString(),dateRange:`${f} days`,driverId:e==null?void 0:e.id,generatedBy:"Tickets Driver Analytics"},kpis:k,earningsTrend:E(),hourlyPerformance:A(),monthlyComparison:M(),locationPerformance:D(),rawData:{transactions:r.length,qrCodes:i.length}},F=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),V=URL.createObjectURL(F),L=document.createElement("a");L.href=V,L.download=`driver-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,L.click(),URL.revokeObjectURL(V)},U=C();return u?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n("driver.analytics")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n("Track your earnings, performance, and business insights")})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:f,onChange:k=>g(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:n("Last 7 days")}),a.jsx("option",{value:"30",children:n("Last 30 days")}),a.jsx("option",{value:"90",children:n("Last 90 days")}),a.jsx("option",{value:"365",children:n("Last year")})]}),a.jsxs(be,{onClick:R,variant:"outline",size:"sm",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),n("export")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:n("driver.totalEarnings")}),a.jsx(sr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(he,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[U.totalEarnings.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[U.earningsGrowth>0?a.jsx(qn,{className:"h-3 w-3 text-green-600 mr-1"}):a.jsx(ql,{className:"h-3 w-3 text-red-600 mr-1"}),a.jsxs("span",{className:U.earningsGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(U.earningsGrowth).toFixed(1),"% vs last period"]})]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:n("totalTrips")}),a.jsx(ls,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:U.totalTrips}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Avg fare: ",U.avgTripFare.toLocaleString()," SYP"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:n("averageRating")}),a.jsx(lp,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:U.avgRating.toFixed(1)}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Cancellation rate: ",U.cancellationRate.toFixed(1),"%"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:n("driver.earningsPerHour")}),a.jsx(Hn,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:U.earningsPerHour.toLocaleString()}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Per km: ",U.earningsPerKm.toLocaleString()," SYP"]})]})]})]}),a.jsxs(xi,{defaultValue:"earnings",className:"space-y-4",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Et,{value:"earnings",children:n("earnings")}),a.jsx(Et,{value:"performance",children:n("driver.performance")}),a.jsx(Et,{value:"monthly",children:n("monthly")}),a.jsx(Et,{value:"hourly",children:n("hourly")}),a.jsx(Et,{value:"locations",children:n("locations")}),a.jsx(Et,{value:"efficiency",children:n("driver.efficiency")})]}),a.jsx(Ot,{value:"earnings",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:n("driver.earningsTrend")}),a.jsx(st,{children:n("Daily earnings and trip volume over time")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:x==="line"?"default":"outline",size:"sm",onClick:()=>j("line"),children:n("Line")}),a.jsx(be,{variant:x==="area"?"default":"outline",size:"sm",onClick:()=>j("area"),children:n("Area")}),a.jsx(be,{variant:x==="bar"?"default":"outline",size:"sm",onClick:()=>j("bar"),children:n("Bar")})]})]}),a.jsx(he,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(js,{width:"100%",height:"100%",children:x==="line"?a.jsxs(Op,{data:E(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(k,I)=>[`${k} ${I==="earnings"?"SYP":""}`,I==="earnings"?"Earnings":"Trips"]}),a.jsx(Pa,{}),a.jsx(Bi,{type:"monotone",dataKey:"earnings",stroke:"#8884d8",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"trips",stroke:"#82ca9d",strokeWidth:2})]}):x==="area"?a.jsxs(Z1,{data:E(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(k,I)=>[`${k} ${I==="earnings"?"SYP":""}`,I==="earnings"?"Earnings":"Trips"]}),a.jsx(Pa,{}),a.jsx(zd,{type:"monotone",dataKey:"earnings",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Qo,{data:E(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(k,I)=>[`${k} ${I==="earnings"?"SYP":""}`,I==="earnings"?"Earnings":"Trips"]}),a.jsx(Pa,{}),a.jsx(Gr,{dataKey:"earnings",fill:"#8884d8"}),a.jsx(Gr,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"performance",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:n("driver.performanceMetrics")})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Distance"}),a.jsxs("span",{className:"font-semibold",children:[U.avgTripDistance.toFixed(1)," km"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Duration"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(U.avgTripDuration/60)," min"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Distance"}),a.jsxs("span",{className:"font-semibold",children:[U.totalDistance.toLocaleString()," km"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Duration"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(U.totalDuration/3600)," hrs"]})]})]}),U.cancellationRate>10&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[a.jsx(Or,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"High cancellation rate detected"})]})]})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:n("driver.ratingDistribution")})}),a.jsx(he,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(js,{width:"100%",height:"100%",children:a.jsxs(Dy,{children:[a.jsx(Yh,{data:[{name:"5 Stars",value:Math.floor(r.length*.6),fill:"#10B981"},{name:"4 Stars",value:Math.floor(r.length*.3),fill:"#84CC16"},{name:"3 Stars",value:Math.floor(r.length*.08),fill:"#F59E0B"},{name:"2 Stars",value:Math.floor(r.length*.02),fill:"#F97316"},{name:"1 Star",value:Math.floor(r.length*.01),fill:"#EF4444"}].filter(k=>k.value>0),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:k,percent:I})=>`${k}: ${((I||0)*100).toFixed(0)}%`,children:[{name:"5 Stars",value:Math.floor(r.length*.6),fill:"#10B981"},{name:"4 Stars",value:Math.floor(r.length*.3),fill:"#84CC16"},{name:"3 Stars",value:Math.floor(r.length*.08),fill:"#F59E0B"},{name:"2 Stars",value:Math.floor(r.length*.02),fill:"#F97316"},{name:"1 Star",value:Math.floor(r.length*.01),fill:"#EF4444"}].filter(k=>k.value>0).map((k,I)=>a.jsx(vu,{fill:k.fill},`cell-${I}`))}),a.jsx(Er,{})]})})})})]})]})}),a.jsx(Ot,{value:"monthly",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:n("driver.monthlyComparison")}),a.jsx(st,{children:n("Compare performance across different months")})]}),a.jsx(he,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(js,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:M(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(k,I)=>[I==="earnings"?`${k} SYP`:I==="avgRating"?`${k}/5`:k,I==="earnings"?"Earnings":I==="trips"?"Trips":"Avg Rating"]}),a.jsx(Pa,{}),a.jsx(Gr,{dataKey:"earnings",fill:"#8884d8"}),a.jsx(Gr,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"hourly",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:n("driver.hourlyPerformance")}),a.jsx(st,{children:n("Analyze your busiest hours and earnings patterns")})]}),a.jsx(he,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(js,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:A(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"hour"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(k,I)=>[I==="earnings"||I==="avgFare"?`${k} SYP`:k,I==="earnings"?"Earnings":I==="trips"?"Trips":"Avg Fare"]}),a.jsx(Pa,{}),a.jsx(Gr,{dataKey:"trips",fill:"#82ca9d"}),a.jsx(Gr,{dataKey:"earnings",fill:"#8884d8"})]})})})})]})}),a.jsx(Ot,{value:"locations",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:n("driver.locationPerformance")}),a.jsx(st,{children:n("Areas with highest earnings and trip frequency")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:D().map((k,I)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Je,{variant:"outline",className:"text-sm",children:["#",I+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:k.location}),a.jsxs("p",{className:"text-sm text-gray-600",children:[k.trips," trips ",k.avgRating.toFixed(1)," "]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[k.earnings.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[k.avgFare.toLocaleString()," SYP/trip"]})]})]},k.location))})})]})}),a.jsx(Ot,{value:"efficiency",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:n("driver.efficiency")})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Earnings per KM"}),a.jsxs("span",{className:"font-bold text-green-600",children:[U.earningsPerKm.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Earnings per Hour"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[U.earningsPerHour.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Average Trip Fare"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[U.avgTripFare.toLocaleString()," SYP"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[U.avgRating<4.5&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(om,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on improving customer service to boost ratings"})]}),U.cancellationRate>10&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Or,{className:"h-4 w-4"}),a.jsx("span",{children:"Work on reducing trip cancellations"})]}),U.earningsPerHour<500&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(qn,{className:"h-4 w-4"}),a.jsx("span",{children:"Consider working during peak hours for better earnings"})]})]})]})]})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:n("driver.todaySnapshot")})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:U.todayEarnings.toLocaleString()}),a.jsx("p",{className:"text-purple-100",children:"Today's Earnings"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:r.filter(k=>Wv(ia(k.created_at))&&k.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Today's Trips"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:U.avgRating.toFixed(1)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Rating"})]})]})]})})]})]})})]})]})},qN=[{type:"license_front",label:"Driver License (Front)",icon:ba},{type:"license_back",label:"Driver License (Back)",icon:ba},{type:"vehicle_registration",label:"Vehicle Registration",icon:Up},{type:"vehicle_photo",label:"Vehicle Photo",icon:ls}],NTe=["bus","microbus","taxi","private_car","motorcycle","truck"];function STe(){const{user:e}=Ht(),{t,language:n}=Ft(),[r,s]=w.useState(!1),[i,o]=w.useState(!1),[u,m]=w.useState({license_number:"",license_expiry:"",vehicle_type:"",vehicle_model:"",vehicle_plate:"",route_name:"",route_description:"",verification_status:"not_submitted"}),[f,g]=w.useState(qN.map(k=>({type:k.type,file:null,uploaded:!1}))),[x,j]=w.useState({});w.useEffect(()=>{_()},[e]);const _=async()=>{if(e){s(!0);try{const{data:k,error:I}=await ze.from("driver_profiles").select("*").eq("user_id",e.id).single();if(I){console.error("Error fetching driver profile:",I);return}if(k&&(m({license_number:k.license_number||"",license_expiry:k.license_expiry||"",vehicle_type:k.vehicle_type||"",vehicle_model:k.vehicle_model||"",vehicle_plate:k.vehicle_plate||"",route_name:k.route_name||"",route_description:k.route_description||"",verification_status:k.verification_status,verification_documents:k.verification_documents}),k.verification_documents)){const F=f.map(V=>{var L,$,Y,q;return{...V,url:($=(L=k.verification_documents)==null?void 0:L[V.type])==null?void 0:$.url,uploaded:!!((q=(Y=k.verification_documents)==null?void 0:Y[V.type])!=null&&q.url)}});g(F)}}catch(k){console.error("Error:",k),Se.error(t("common.error"))}finally{s(!1)}}},C=async(k,I)=>{try{j(q=>({...q,[k]:0}));const F=I.name.split(".").pop(),V=`${e==null?void 0:e.id}/${k}_${Date.now()}.${F}`,{data:L,error:$}=await ze.storage.from("verification-docs").upload(V,I,{cacheControl:"3600",upsert:!1});if($)throw console.error("Upload error:",$),$;j(q=>({...q,[k]:100}));const{data:Y}=ze.storage.from("verification-docs").getPublicUrl(V);return Y.publicUrl}catch(F){return console.error("Error uploading document:",F),j(V=>({...V,[k]:0})),null}},E=async(k,I)=>{if(!I)return;if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(I.type)){Se.error(t("driver.verification.invalidFileType"));return}if(I.size>5*1024*1024){Se.error(t("driver.verification.fileTooLarge"));return}const V=await C(k,I);V?(g(L=>L.map($=>$.type===k?{...$,file:I,url:V,uploaded:!0}:$)),Se.success(t("driver.verification.documentUploaded"))):Se.error(t("driver.verification.uploadFailed"))},A=async()=>{if(!u.license_number||!u.license_expiry||!u.vehicle_type||!u.vehicle_model||!u.vehicle_plate){Se.error(t("driver.verification.fillRequired"));return}if(!f.every(I=>I.uploaded)){Se.error(t("driver.verification.uploadAllDocuments"));return}o(!0);try{const I=f.reduce((V,L)=>(L.url&&(V[L.type]={url:L.url,uploaded_at:new Date().toISOString(),status:"uploaded"}),V),{}),{error:F}=await ze.from("driver_profiles").update({license_number:u.license_number,license_expiry:u.license_expiry,vehicle_type:u.vehicle_type,vehicle_model:u.vehicle_model,vehicle_plate:u.vehicle_plate,route_name:u.route_name,route_description:u.route_description,verification_status:"pending",verification_documents:I,updated_at:new Date().toISOString()}).eq("user_id",e==null?void 0:e.id);if(F)throw F;m(V=>({...V,verification_status:"pending"})),Se.success(t("driver.verification.submitted"))}catch(I){console.error("Error submitting verification:",I),Se.error(t("common.error"))}finally{o(!1)}},M=()=>{switch(u.verification_status){case"approved":return a.jsx(Tr,{className:"w-5 h-5 text-green-500"});case"pending":return a.jsx(Hn,{className:"w-5 h-5 text-yellow-500"});case"rejected":return a.jsx(ou,{className:"w-5 h-5 text-red-500"});default:return a.jsx(Or,{className:"w-5 h-5 text-gray-500"})}},D=()=>{const k={not_submitted:"secondary",pending:"default",approved:"default",rejected:"destructive"};return a.jsxs(Je,{variant:k[u.verification_status],className:"flex items-center gap-1",children:[M(),t(`driver.verification.status.${u.verification_status}`)]})},R=()=>{const k=[u.license_number,u.vehicle_type,u.vehicle_plate,f.filter(I=>I.uploaded).length===qN.length];return k.filter(Boolean).length/k.length*100};if(r)return a.jsxs("div",{className:"flex justify-center p-8",children:[t("common.loading"),"..."]});const U=u.verification_status==="approved"||u.verification_status==="pending";return a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:t("driver.verification.title")}),a.jsx("p",{className:"text-muted-foreground",children:t("driver.verification.description")})]}),a.jsxs(fe,{className:"mb-6",children:[a.jsxs(Te,{children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[t("driver.verification.status.title"),D()]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:t("driver.verification.progress")}),a.jsxs("span",{children:[Math.round(R()),"%"]})]}),a.jsx(Cd,{value:R(),className:"w-full"})]})]}),u.verification_status==="rejected"&&a.jsx(he,{children:a.jsxs(us,{variant:"destructive",children:[a.jsx(Or,{className:"h-4 w-4"}),a.jsx(ds,{children:t("driver.verification.rejectedMessage")})]})})]}),a.jsxs(fe,{className:"mb-6",children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("driver.verification.driverInfo")}),a.jsx(st,{children:t("driver.verification.driverInfoDesc")})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ve,{htmlFor:"license_number",children:[t("driver.verification.licenseNumber")," *"]}),a.jsx(ut,{id:"license_number",value:u.license_number,onChange:k=>m(I=>({...I,license_number:k.target.value})),placeholder:t("driver.verification.licenseNumberPlaceholder"),disabled:U})]}),a.jsxs("div",{children:[a.jsxs(Ve,{htmlFor:"license_expiry",children:[t("driver.verification.licenseExpiry")," *"]}),a.jsx(ut,{id:"license_expiry",type:"date",value:u.license_expiry,onChange:k=>m(I=>({...I,license_expiry:k.target.value})),disabled:U})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ve,{htmlFor:"vehicle_type",children:[t("driver.verification.vehicleType")," *"]}),a.jsxs(kt,{value:u.vehicle_type,onValueChange:k=>m(I=>({...I,vehicle_type:k})),disabled:U,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:t("driver.verification.selectVehicleType")})}),a.jsx(Lt,{children:NTe.map(k=>a.jsx(Ee,{value:k,children:t(`driver.verification.vehicleTypes.${k}`)},k))})]})]}),a.jsxs("div",{children:[a.jsxs(Ve,{htmlFor:"vehicle_model",children:[t("driver.verification.vehicleModel")," *"]}),a.jsx(ut,{id:"vehicle_model",value:u.vehicle_model,onChange:k=>m(I=>({...I,vehicle_model:k.target.value})),placeholder:t("driver.verification.vehicleModelPlaceholder"),disabled:U})]})]}),a.jsxs("div",{children:[a.jsxs(Ve,{htmlFor:"vehicle_plate",children:[t("driver.verification.vehiclePlate")," *"]}),a.jsx(ut,{id:"vehicle_plate",value:u.vehicle_plate,onChange:k=>m(I=>({...I,vehicle_plate:k.target.value})),placeholder:t("driver.verification.vehiclePlatePlaceholder"),disabled:U})]}),a.jsx(hi,{}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"route_name",children:t("driver.verification.routeName")}),a.jsx(ut,{id:"route_name",value:u.route_name,onChange:k=>m(I=>({...I,route_name:k.target.value})),placeholder:t("driver.verification.routeNamePlaceholder"),disabled:U})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"route_description",children:t("driver.verification.routeDescription")}),a.jsx(Es,{id:"route_description",value:u.route_description,onChange:k=>m(I=>({...I,route_description:k.target.value})),placeholder:t("driver.verification.routeDescriptionPlaceholder"),disabled:U,rows:3})]})]})]}),a.jsxs(fe,{className:"mb-6",children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("driver.verification.documents")}),a.jsx(st,{children:t("driver.verification.documentsDesc")})]}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((k,I)=>{const V=qN[I].icon;return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(V,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:t(`driver.verification.documentTypes.${k.type}`)}),k.uploaded&&a.jsx(Tr,{className:"w-4 h-4 text-green-500"})]}),!U&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ut,{type:"file",accept:"image/*,.pdf",onChange:L=>{var Y;const $=(Y=L.target.files)==null?void 0:Y[0];$&&E(k.type,$)},disabled:k.uploaded}),x[k.type]>0&&x[k.type]<100&&a.jsx(Cd,{value:x[k.type],className:"w-full"})]}),k.url&&a.jsx("div",{className:"mt-2",children:a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>window.open(k.url,"_blank"),className:"flex items-center gap-1",children:[a.jsx(Up,{className:"w-4 h-4"}),t("driver.verification.viewDocument")]})})]},k.type)})})})]}),!U&&a.jsx("div",{className:"flex justify-end",children:a.jsx(be,{onClick:A,disabled:i||f.some(k=>!k.uploaded),className:"min-w-32",children:t(i?"common.saving":"driver.verification.submit")})}),u.verification_status==="approved"&&a.jsxs(us,{className:"mt-4",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx(ds,{children:t("driver.verification.approvedMessage")})]})]})}function _Te(){return tA(["driver"]),a.jsx(Zp,{userType:"driver",children:a.jsxs(Jh,{children:[a.jsx(ht,{path:"/",element:a.jsx(Vl,{to:"/driver/home",replace:!0})}),a.jsx(ht,{path:"/home",element:a.jsx($Ce,{})}),a.jsx(ht,{path:"/earnings",element:a.jsx(HCe,{})}),a.jsx(ht,{path:"/trips",element:a.jsx(qCe,{})}),a.jsx(ht,{path:"/qr-generator",element:a.jsx(YCe,{})}),a.jsx(ht,{path:"/analytics",element:a.jsx(jTe,{})}),a.jsx(ht,{path:"/verification",element:a.jsx(STe,{})}),a.jsx(ht,{path:"/profile",element:a.jsx(g0,{})}),a.jsx(ht,{path:"/settings",element:a.jsx(p0,{})}),a.jsx(ht,{path:"/chat",element:a.jsx(eb,{})})]})})}function ATe(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTransactions:0,dailyTransactions:0,activeQRCodes:0,uniqueCustomers:0}),[i,o]=w.useState([]),[u,m]=w.useState(!0),[f,g]=w.useState(!1);w.useEffect(()=>{e&&Promise.all([x(),j()]).finally(()=>m(!1))},[e]);const x=async()=>{if(e)try{const{data:D,error:R}=await ze.from("transactions").select("amount, created_at, from_user_id").eq("to_user_id",e.id).eq("type","merchant_payment");if(R)throw R;const U=new Date,k=new Date(U.getFullYear(),U.getMonth(),U.getDate()),I=new Date(k.getTime()-7*24*60*60*1e3),F=new Date(k.getTime()-30*24*60*60*1e3),V=D||[],L=V.reduce((Z,oe)=>Z+oe.amount,0),$=V.filter(Z=>new Date(Z.created_at)>=k).reduce((Z,oe)=>Z+oe.amount,0),Y=V.filter(Z=>new Date(Z.created_at)>=I).reduce((Z,oe)=>Z+oe.amount,0),q=V.filter(Z=>new Date(Z.created_at)>=F).reduce((Z,oe)=>Z+oe.amount,0),X=V.length,Q=V.filter(Z=>new Date(Z.created_at)>=k).length,G=new Set(V.map(Z=>Z.from_user_id)).size,{data:H,error:ee}=await ze.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(ee)throw ee;s({totalEarnings:L,dailyEarnings:$,weeklyEarnings:Y,monthlyEarnings:q,totalTransactions:X,dailyTransactions:Q,activeQRCodes:(H==null?void 0:H.length)||0,uniqueCustomers:G})}catch(D){console.error("Error fetching merchant stats:",D)}},j=async()=>{if(e)try{const{data:D,error:R}=await ze.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1}).limit(5);if(R)throw R;const U=(D==null?void 0:D.map(k=>{var I,F;return{id:k.id,customer_name:((I=k.profiles)==null?void 0:I.full_name)||t("unknown_customer"),amount:k.amount,created_at:k.created_at,status:k.status,payment_method:((F=k.metadata)==null?void 0:F.payment_method)||"wallet"}}))||[];o(U)}catch(D){console.error("Error fetching recent transactions:",D)}},_=D=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(D),C=D=>new Date(D).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=D=>{const R={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},U=R[D]||R.pending;return a.jsx(Je,{variant:U.variant,children:U.label})};if(u)return a.jsx(ms,{text:t("loading_dashboard")});const M=r.dailyEarnings/1e5*100;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_dashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_dashboard_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("daily_earnings")}),a.jsx(be,{variant:"ghost",size:"icon",onClick:()=>g(!f),className:"h-4 w-4",children:f?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.dailyEarnings):""}),a.jsxs("div",{className:"mt-2",children:[a.jsx(Cd,{value:M,className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(M),"% ",t("of_daily_goal")]})]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.totalEarnings):""}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(qn,{className:"inline h-3 w-3 mr-1"}),t("monthly"),": ",f?_(r.monthlyEarnings):""]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("transactions")}),a.jsx(ZD,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTransactions," ",t("today")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("customers")}),a.jsx(wa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.uniqueCustomers}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeQRCodes," ",t("active_qr_codes")]})]})]})})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("quick_actions")}),a.jsx(st,{children:t("merchant_quick_actions_description")})]}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(be,{asChild:!0,className:"h-20 flex flex-col",children:a.jsxs($t,{to:"/merchant/qr-codes",children:[a.jsx(ir,{className:"h-6 w-6 mb-2"}),t("create_qr_code")]})}),a.jsx(be,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs($t,{to:"/merchant/payments",children:[a.jsx(sr,{className:"h-6 w-6 mb-2"}),t("view_payments")]})}),a.jsx(be,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs($t,{to:"/merchant/business",children:[a.jsx(cu,{className:"h-6 w-6 mb-2"}),t("manage_business")]})}),a.jsx(be,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs($t,{to:"/merchant/analytics",children:[a.jsx(qn,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recent_transactions")}),a.jsx(st,{children:t("recent_merchant_transactions_description")})]}),a.jsx(he,{children:i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ZD,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_transactions_yet")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_merchant_transactions_description")})]}):a.jsxs("div",{className:"space-y-4",children:[i.map((D,R)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*R},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(wa,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:D.customer_name}),a.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:a.jsxs("span",{className:"mr-2",children:[t("payment_method"),": ",t(D.payment_method)]})}),a.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:a.jsx("span",{children:C(D.created_at)})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:_(D.amount)}),E(D.status)]})]},D.id)),a.jsx(be,{asChild:!0,variant:"outline",className:"w-full",children:a.jsx($t,{to:"/merchant/payments",children:t("view_all_payments")})})]})})]})})]})}function ETe(){const{t:e}=Ft();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:e("business_management")}),a.jsx("p",{className:"text-muted-foreground",children:e("business_management_description")})]}),a.jsx(fe,{children:a.jsxs(he,{className:"text-center py-12",children:[a.jsx(cu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e("business_page_coming_soon")}),a.jsx("p",{className:"text-muted-foreground",children:e("business_page_description")})]})})]})}function CTe(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState([]),[u,m]=w.useState(!0),[f,g]=w.useState(""),[x,j]=w.useState("all");w.useEffect(()=>{e&&_()},[e]),w.useEffect(()=>{C()},[r,f,x]);const _=async()=>{if(e)try{const{data:F,error:V}=await ze.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1});if(V)throw V;const L=(F==null?void 0:F.map($=>{var Y,q,X;return{id:$.id,customer_name:((Y=$.profiles)==null?void 0:Y.full_name)||t("unknown_customer"),amount:$.amount,created_at:$.created_at,status:$.status,payment_method:((q=$.metadata)==null?void 0:q.payment_method)||"wallet",description:(X=$.metadata)==null?void 0:X.description}}))||[];s(L)}catch(F){console.error("Error fetching payments:",F),Se.error(t("error_fetch_payments"))}finally{m(!1)}},C=()=>{let F=r.filter(V=>{const L=V.customer_name.toLowerCase().includes(f.toLowerCase())||V.id.toLowerCase().includes(f.toLowerCase()),$=x==="all"||V.status===x;return L&&$});o(F)},E=F=>{const V={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},L=V[F]||V.pending;return a.jsx(Je,{variant:L.variant,children:L.label})},A=F=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(F),M=F=>new Date(F).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=()=>{const F=[["Date","Customer","Amount","Status","Payment Method","Transaction ID"],...i.map(Y=>[M(Y.created_at),Y.customer_name,Y.amount.toString(),Y.status,Y.payment_method,Y.id])].map(Y=>Y.join(",")).join(`
`),V=new Blob([F],{type:"text/csv"}),L=URL.createObjectURL(V),$=document.createElement("a");$.href=L,$.download=`merchant-payments-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(L),Se.success(t("payments_exported"))};if(u)return a.jsx(ms,{text:t("loading_payments")});const R=i.filter(F=>F.status==="completed"),U=i.filter(F=>F.status==="pending"),k=i.filter(F=>F.status==="cancelled");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("payments")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_payments_description")})]}),a.jsxs(be,{onClick:D,variant:"outline",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),t("export")]})]}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(ut,{placeholder:t("search_payments"),value:f,onChange:F=>g(F.target.value),className:"pl-10"})]})}),a.jsxs(kt,{value:x,onValueChange:j,children:[a.jsxs(It,{className:"w-[150px]",children:[a.jsx(im,{className:"h-4 w-4 mr-2"}),a.jsx(Bt,{})]}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("all_statuses")}),a.jsx(Ee,{value:"completed",children:t("completed")}),a.jsx(Ee,{value:"pending",children:t("pending")}),a.jsx(Ee,{value:"cancelled",children:t("cancelled")})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_payments")}),a.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),a.jsx(sr,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_amount")}),a.jsx("p",{className:"text-2xl font-bold",children:A(i.reduce((F,V)=>F+V.amount,0))})]}),a.jsx(sr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("unique_customers")}),a.jsx("p",{className:"text-2xl font-bold",children:new Set(i.map(F=>F.customer_name)).size})]}),a.jsx(wa,{className:"h-8 w-8 text-purple-600"})]})})})]}),a.jsxs(xi,{defaultValue:"all",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-4",children:[a.jsxs(Et,{value:"all",children:[t("all")," (",i.length,")"]}),a.jsxs(Et,{value:"completed",children:[t("completed")," (",R.length,")"]}),a.jsxs(Et,{value:"pending",children:[t("pending")," (",U.length,")"]}),a.jsxs(Et,{value:"cancelled",children:[t("cancelled")," (",k.length,")"]})]}),a.jsx(Ot,{value:"all",className:"space-y-4",children:a.jsx(I,{payments:i})}),a.jsx(Ot,{value:"completed",className:"space-y-4",children:a.jsx(I,{payments:R})}),a.jsx(Ot,{value:"pending",className:"space-y-4",children:a.jsx(I,{payments:U})}),a.jsx(Ot,{value:"cancelled",className:"space-y-4",children:a.jsx(I,{payments:k})})]})]});function I({payments:F}){return F.length===0?a.jsx(fe,{children:a.jsxs(he,{className:"text-center py-12",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_payments_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_payments_description")})]})}):a.jsx("div",{className:"space-y-4",children:F.map((V,L)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},children:a.jsx(fe,{className:"hover:shadow-lg transition-shadow",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(sr,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:V.customer_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("payment_method"),": ",t(V.payment_method)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:M(V.created_at)}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[V.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",A(V.amount)]}),E(V.status)]})]})})})},V.id))})}}function TTe(){const{user:e}=Ht(),{t,isRTL:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState(!0),[u,m]=w.useState(!1),[f,g]=w.useState(null),[x,j]=w.useState(!1);w.useRef(null);const[_,C]=w.useState({amount:"",description:"",business_name:"",expires_at:""});w.useEffect(()=>{e&&E()},[e]);const E=async()=>{if(e)try{const{data:Q,error:G}=await ze.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(G)throw G;const H=(Q==null?void 0:Q.map(ee=>{var Z,oe;return{...ee,usage_count:((oe=(Z=ee.usage_count)==null?void 0:Z[0])==null?void 0:oe.count)||0,business_name:ee.route_info,description:ee.vehicle_info}}))||[];s(H)}catch(Q){console.error("Error fetching QR codes:",Q),Se.error(t("error_fetch_qr_codes"))}finally{o(!1)}},A=async Q=>{try{return await FE.toDataURL(Q,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(G){return console.error("Error generating QR image:",G),null}},M=async()=>{if(!e||!_.amount){Se.error(t("please_fill_required_fields"));return}m(!0);try{const Q=parseFloat(_.amount);if(Q<=0){Se.error(t("invalid_amount"));return}const G={type:"merchant",merchant_id:e.id,amount:Q,business_name:_.business_name||null,description:_.description||null,timestamp:Date.now()},H=JSON.stringify(G),ee=await A(H),{data:Z,error:oe}=await ze.from("qr_codes").insert({driver_id:e.id,qr_data:H,is_active:!0,expires_at:_.expires_at||null,route_info:_.business_name||null,vehicle_info:_.description||null}).select().single();if(oe)throw oe;Se.success(t("qr_code_generated_successfully")),C({amount:"",description:"",business_name:"",expires_at:""}),E()}catch(Q){console.error("Error generating QR code:",Q),Se.error(t("error_generate_qr_code"))}finally{m(!1)}},D=async(Q,G)=>{try{const{error:H}=await ze.from("qr_codes").update({is_active:!G}).eq("id",Q).eq("driver_id",e==null?void 0:e.id);if(H)throw H;Se.success(t(G?"qr_code_deactivated":"qr_code_activated")),E()}catch(H){console.error("Error toggling QR code status:",H),Se.error(t("error_toggle_qr_status"))}},R=Q=>{const G=Q.qr_data;navigator.clipboard.writeText(G),Se.success(t("qr_data_copied"))},U=async Q=>{try{const G=await A(Q.qr_data);if(!G){Se.error("Failed to generate QR code image");return}const H=document.createElement("a");H.href=G,H.download=`merchant-qr-${Q.business_name||Q.id}.png`,document.body.appendChild(H),H.click(),document.body.removeChild(H),Se.success(t("qr_code_downloaded"))}catch(G){console.error("Error downloading QR code:",G),Se.error("Failed to download QR code")}},k=async Q=>{try{const G=await A(Q.qr_data);if(!G){Se.error("Failed to generate QR code image");return}const H=window.open("","_blank");if(H){const ee=JSON.parse(Q.qr_data);H.document.write(`
          <html>
            <head>
              <title>QR Code - ${Q.business_name||"Merchant Payment"}</title>
              <style>
                body { 
                  font-family: Arial, sans-serif; 
                  text-align: center; 
                  padding: 20px;
                  background: white;
                }
                .qr-container {
                  max-width: 400px;
                  margin: 0 auto;
                  padding: 30px;
                  border: 2px solid #ddd;
                  border-radius: 10px;
                }
                .business-name { 
                  font-size: 24px; 
                  font-weight: bold; 
                  margin-bottom: 10px;
                  color: #333;
                }
                .amount { 
                  font-size: 32px; 
                  font-weight: bold; 
                  color: #059669;
                  margin: 20px 0;
                }
                .description { 
                  font-size: 16px; 
                  color: #666;
                  margin-bottom: 20px;
                }
                .qr-image { 
                  margin: 20px 0;
                }
                .instructions {
                  font-size: 14px;
                  color: #666;
                  margin-top: 20px;
                }
                @media print {
                  body { margin: 0; }
                }
              </style>
            </head>
            <body>
              <div class="qr-container">
                <div class="business-name">${Q.business_name||"Merchant Payment"}</div>
                ${Q.description?`<div class="description">${Q.description}</div>`:""}
                <div class="amount">${V(ee.amount||0)}</div>
                <div class="qr-image">
                  <img src="${G}" alt="QR Code" style="max-width: 200px; height: auto;" />
                </div>
                <div class="instructions">
                  Scan this QR code with the Tickets app to make a payment
                </div>
              </div>
            </body>
          </html>
        `),H.document.close(),H.print()}}catch(G){console.error("Error printing QR code:",G),Se.error("Failed to print QR code")}},I=async Q=>{try{const G=await A(Q.qr_data);if(!G){Se.error("Failed to generate QR code image");return}const ee=await(await fetch(G)).blob(),Z=new File([ee],`merchant-qr-${Q.business_name||Q.id}.png`,{type:"image/png"});if(navigator.share&&navigator.canShare({files:[Z]}))await navigator.share({title:`QR Code - ${Q.business_name||"Merchant Payment"}`,text:`Payment QR Code for ${V(JSON.parse(Q.qr_data).amount||0)}`,files:[Z]});else{const oe=document.createElement("canvas"),re=oe.getContext("2d"),de=new Image;de.onload=()=>{oe.width=de.width,oe.height=de.height,re==null||re.drawImage(de,0,0),oe.toBlob(xe=>{xe&&(navigator.clipboard.write([new ClipboardItem({"image/png":xe})]),Se.success("QR code copied to clipboard"))})},de.src=G}}catch(G){console.error("Error sharing QR code:",G),navigator.clipboard.writeText(Q.qr_data),Se.success("QR data copied to clipboard")}},F=Q=>{g(Q),j(!0)},V=Q=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(Q),L=Q=>new Date(Q).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=Q=>Q?new Date(Q)<new Date:!1,Y=Q=>$(Q.expires_at)?a.jsx(Je,{variant:"destructive",children:t("expired")}):Q.is_active?a.jsx(Je,{variant:"default",children:t("active")}):a.jsx(Je,{variant:"outline",children:t("inactive")});if(i)return a.jsx(ms,{text:t("loading_qr_codes")});const q=r.filter(Q=>Q.is_active&&!$(Q.expires_at)),X=r.filter(Q=>!Q.is_active||$(Q.expires_at));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_qr_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),a.jsx("p",{className:"text-2xl font-bold",children:q.length})]}),a.jsx(ir,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_scans")}),a.jsx("p",{className:"text-2xl font-bold",children:r.reduce((Q,G)=>Q+G.usage_count,0)})]}),a.jsx(Gn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),a.jsx("p",{className:"text-2xl font-bold",children:V(r.reduce((Q,G)=>Q+25e3*G.usage_count,0))})]}),a.jsx(sr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("generate_merchant_qr_code")}),a.jsx(st,{children:t("create_merchant_qr_description")})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ve,{htmlFor:"amount",children:[t("amount")," *"]}),a.jsx(ut,{id:"amount",type:"number",placeholder:"0",value:_.amount,onChange:Q=>C(G=>({...G,amount:Q.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"business_name",children:t("business_name")}),a.jsx(ut,{id:"business_name",placeholder:t("business_name_placeholder"),value:_.business_name,onChange:Q=>C(G=>({...G,business_name:Q.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"description",children:t("description")}),a.jsx(ut,{id:"description",placeholder:t("qr_description_placeholder"),value:_.description,onChange:Q=>C(G=>({...G,description:Q.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"expires_at",children:t("expires_at")}),a.jsx(ut,{id:"expires_at",type:"datetime-local",value:_.expires_at,onChange:Q=>C(G=>({...G,expires_at:Q.target.value}))})]})]}),a.jsx(be,{onClick:M,disabled:u,className:"w-full",children:u?a.jsx(ms,{text:t("generating")}):a.jsxs(a.Fragment,{children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:[t("active_qr_codes")," (",q.length,")"]}),a.jsx(st,{children:t("manage_active_merchant_qr_codes")})]}),a.jsx(he,{children:q.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ir,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("generate_first_merchant_qr_code")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map((Q,G)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:G*.1},children:a.jsxs(fe,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Te,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:Q.business_name||t("merchant_payment")}),Y(Q)]}),Q.description&&a.jsx(st,{children:Q.description})]}),a.jsxs(he,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(cu,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:Q.business_name||t("merchant_business")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:L(Q.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{className:"h-4 w-4 mr-2 text-purple-600"}),a.jsxs("span",{children:[Q.usage_count," ",t("times_scanned")]})]}),Q.expires_at&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-orange-600"}),a.jsxs("span",{children:[t("expires"),": ",L(Q.expires_at)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>F(Q),className:"gap-1",children:[a.jsx(mre,{className:"h-3 w-3"}),"View"]}),a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>U(Q),className:"gap-1",children:[a.jsx(fs,{className:"h-3 w-3"}),"Download"]}),a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>k(Q),className:"gap-1",children:[a.jsx(kS,{className:"h-3 w-3"}),"Print"]}),a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>I(Q),className:"gap-1",children:[a.jsx(IS,{className:"h-3 w-3"}),"Share"]})]}),a.jsx(be,{variant:Q.is_active?"destructive":"default",size:"sm",onClick:()=>D(Q.id,Q.is_active),className:"w-full",children:Q.is_active?a.jsxs(a.Fragment,{children:[a.jsx(hs,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},Q.id))})})]}),X.length>0&&a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:[t("inactive_expired_qr_codes")," (",X.length,")"]}),a.jsx(st,{children:t("manage_inactive_merchant_qr_codes")})]}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map((Q,G)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:G*.1},children:a.jsxs(fe,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[a.jsxs(Te,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg",children:Q.business_name||t("merchant_payment")}),Y(Q)]}),Q.description&&a.jsx(st,{children:Q.description})]}),a.jsxs(he,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:L(Q.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[Q.usage_count," ",t("times_scanned")]})]})]}),!$(Q.expires_at)&&a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>D(Q.id,Q.is_active),className:"w-full",children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},Q.id))})})]}),a.jsx(pr,{open:x,onOpenChange:j,children:a.jsxs(xr,{className:"max-w-md",children:[a.jsxs(vr,{children:[a.jsx(yr,{className:"text-center",children:(f==null?void 0:f.business_name)||t("merchant_payment")}),(f==null?void 0:f.description)&&a.jsx(Qr,{className:"text-center",children:f.description})]}),f&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(OTe,{qrData:f.qr_data})}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("amount"),":"]}),a.jsx("span",{className:"font-bold text-green-600",children:V(JSON.parse(f.qr_data).amount||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("status"),":"]}),Y(f)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("scans"),":"]}),a.jsx("span",{children:f.usage_count})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("created"),":"]}),a.jsx("span",{children:L(f.created_at)})]}),f.expires_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("expires"),":"]}),a.jsx("span",{children:L(f.expires_at)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(be,{variant:"outline",onClick:()=>U(f),className:"gap-2",children:[a.jsx(fs,{className:"h-4 w-4"}),t("download")]}),a.jsxs(be,{variant:"outline",onClick:()=>k(f),className:"gap-2",children:[a.jsx(kS,{className:"h-4 w-4"}),t("print")]}),a.jsxs(be,{variant:"outline",onClick:()=>I(f),className:"gap-2",children:[a.jsx(IS,{className:"h-4 w-4"}),t("share")]}),a.jsxs(be,{variant:"outline",onClick:()=>R(f),className:"gap-2",children:[a.jsx(Vy,{className:"h-4 w-4"}),t("copy")]})]}),a.jsx(be,{variant:f.is_active?"destructive":"default",onClick:()=>{D(f.id,f.is_active),j(!1)},className:"w-full gap-2",disabled:$(f.expires_at),children:f.is_active?a.jsxs(a.Fragment,{children:[a.jsx(hs,{className:"h-4 w-4"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"h-4 w-4"}),t("activate")]})})]})]})})]})}function OTe({qrData:e,size:t=200}){const[n,r]=w.useState("");return w.useEffect(()=>{e&&(async()=>{try{const i=await FE.toDataURL(e,{width:t,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"});r(i)}catch(i){console.error("Error generating QR code:",i)}})()},[e,t]),n?a.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:a.jsx("img",{src:n,alt:"QR Code",className:"rounded",style:{width:t,height:t}})}):a.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-lg",style:{width:t,height:t},children:a.jsx(ms,{text:""})})}function MTe(){const{t:e}=Ft();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:e("analytics")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]}),a.jsx(fe,{children:a.jsxs(he,{className:"text-center py-12",children:[a.jsx(qn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e("analytics_coming_soon")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]})})]})}const sq=()=>{const{user:e}=Ht(),[t,n]=w.useState(null),[r,s]=w.useState([]),[i,o]=w.useState(!1),[u,m]=w.useState(!1),[f,g]=w.useState(""),[x,j]=w.useState("bank_transfer"),[_,C]=w.useState({bank_name:"",account_number:"",account_holder:"",swift_code:""}),[E,A]=w.useState({provider:"syriatel",phone_number:""}),[M,D]=w.useState(""),R=async()=>{if(e)try{const{data:L,error:$}=await ze.from("wallets").select("balance, currency").eq("user_id",e.id).single();if($){console.error("Error fetching wallet:",$);return}n(L)}catch(L){console.error("Error fetching wallet:",L)}},U=async()=>{if(e){o(!0);try{const{data:L,error:$}=await ze.from("withdrawal_requests").select("*").eq("user_id",e.id).order("requested_at",{ascending:!1});if($){console.error("Error fetching withdrawal requests:",$),Se.error("Failed to load withdrawal history");return}s(L||[])}catch(L){console.error("Error fetching withdrawal requests:",L),Se.error("Failed to load withdrawal history")}finally{o(!1)}}},k=async()=>{if(!e||!t)return;const L=parseFloat(f);if(isNaN(L)||L<=0){Se.error("Please enter a valid amount");return}if(L>t.balance){Se.error("Insufficient balance");return}if(L<1e3){Se.error("Minimum withdrawal amount is 1,000 SYP");return}let $={};if(x==="bank_transfer"){if(!_.bank_name||!_.account_number||!_.account_holder){Se.error("Please fill in all bank details");return}$={type:"bank_transfer",..._}}else if(x==="mobile_wallet"){if(!E.phone_number){Se.error("Please enter your mobile wallet phone number");return}$={type:"mobile_wallet",...E}}m(!0);try{const{error:Y}=await ze.from("withdrawal_requests").insert({user_id:e.id,amount:L,currency:t.currency,payment_method:$,request_notes:M.trim()||null});if(Y){console.error("Error submitting withdrawal request:",Y),Se.error("Failed to submit withdrawal request");return}Se.success("Withdrawal request submitted successfully"),g(""),D(""),C({bank_name:"",account_number:"",account_holder:"",swift_code:""}),A({provider:"syriatel",phone_number:""}),U()}catch(Y){console.error("Error submitting withdrawal request:",Y),Se.error("Failed to submit withdrawal request")}finally{m(!1)}};w.useEffect(()=>{e&&(R(),U())},[e]);const I=L=>{switch(L){case"pending":return"bg-yellow-500";case"approved":return"bg-green-500";case"rejected":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},F=L=>{switch(L){case"pending":return Hn;case"approved":return Mh;case"rejected":return Hd;case"completed":return Mh;default:return op}},V=(L,$="SYP")=>new Intl.NumberFormat("en-US",{style:"currency",currency:$==="SYP"?"USD":$,minimumFractionDigits:0}).format(L).replace("$","")+" "+$;return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Yl,{className:"h-5 w-5"}),"Wallet Balance"]})}),a.jsx(he,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold",children:t?V(t.balance,t.currency):"..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for withdrawal"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(qn,{className:"h-8 w-8 text-green-500 mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total earnings"})]})]})})]}),a.jsxs(xi,{defaultValue:"request",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2",children:[a.jsx(Et,{value:"request",children:"Request Withdrawal"}),a.jsx(Et,{value:"history",children:"Withdrawal History"})]}),a.jsxs(Ot,{value:"request",className:"space-y-6",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(fs,{className:"h-5 w-5"}),"Request Withdrawal"]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"amount",children:"Withdrawal Amount *"}),a.jsxs("div",{className:"relative",children:[a.jsx(sr,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),a.jsx(ut,{id:"amount",type:"number",placeholder:"Enter amount",value:f,onChange:L=>g(L.target.value),className:"pl-10",min:"1000",max:(t==null?void 0:t.balance)||0})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Minimum: 1,000 SYP  Available: ",t?V(t.balance,t.currency):"0 SYP"]})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"payment-method",children:"Payment Method *"}),a.jsxs(kt,{value:x,onValueChange:j,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"bank_transfer",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(OS,{className:"h-4 w-4"}),"Bank Transfer"]})}),a.jsx(Ee,{value:"mobile_wallet",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(RS,{className:"h-4 w-4"}),"Mobile Wallet"]})})]})]})]}),x==="bank_transfer"&&a.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[a.jsx(OS,{className:"h-4 w-4"}),"Bank Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"bank-name",children:"Bank Name *"}),a.jsx(ut,{id:"bank-name",placeholder:"e.g., Bank Audi",value:_.bank_name,onChange:L=>C($=>({...$,bank_name:L.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"account-number",children:"Account Number *"}),a.jsx(ut,{id:"account-number",placeholder:"1234567890",value:_.account_number,onChange:L=>C($=>({...$,account_number:L.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"account-holder",children:"Account Holder Name *"}),a.jsx(ut,{id:"account-holder",placeholder:"Full name as on bank account",value:_.account_holder,onChange:L=>C($=>({...$,account_holder:L.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"swift-code",children:"SWIFT/BIC Code"}),a.jsx(ut,{id:"swift-code",placeholder:"Optional",value:_.swift_code,onChange:L=>C($=>({...$,swift_code:L.target.value}))})]})]})]}),x==="mobile_wallet"&&a.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[a.jsx(RS,{className:"h-4 w-4"}),"Mobile Wallet Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"wallet-provider",children:"Provider"}),a.jsxs(kt,{value:E.provider,onValueChange:L=>A($=>({...$,provider:L})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"syriatel",children:"Syriatel Cash"}),a.jsx(Ee,{value:"mtn",children:"MTN Cash"}),a.jsx(Ee,{value:"bemo",children:"Bemo Pay"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"wallet-phone",children:"Phone Number *"}),a.jsx(ut,{id:"wallet-phone",placeholder:"+963 XXX XXX XXX",value:E.phone_number,onChange:L=>A($=>({...$,phone_number:L.target.value}))})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"notes",children:"Additional Notes"}),a.jsx(Es,{id:"notes",placeholder:"Any special instructions or notes...",value:M,onChange:L=>D(L.target.value),rows:3})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(be,{onClick:k,disabled:u||!f||parseFloat(f)<=0,className:"w-full md:w-auto",children:u?"Submitting...":"Submit Withdrawal Request"})})]})]}),a.jsx(fe,{children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Dv,{className:"h-5 w-5 text-blue-500 mt-0.5"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Important Information"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("li",{children:" Minimum withdrawal amount is 1,000 SYP"}),a.jsx("li",{children:" Processing time: 2-5 business days"}),a.jsx("li",{children:" Bank transfers may incur additional fees"}),a.jsx("li",{children:" Ensure your payment details are accurate to avoid delays"}),a.jsx("li",{children:" You'll receive a notification once your request is processed"})]})]})]})})})]}),a.jsx(Ot,{value:"history",children:a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"h-5 w-5"}),"Withdrawal History"]})}),a.jsx(he,{children:i?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal history..."})}):r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(fs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No withdrawal requests yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your withdrawal history will appear here"})]}):a.jsx(Xl,{className:"h-[400px]",children:a.jsx("div",{className:"space-y-4",children:r.map(L=>{var Y,q,X;const $=F(L.status);return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Je,{variant:"outline",className:`${I(L.status)} text-white`,children:[a.jsx($,{className:"h-3 w-3 mr-1"}),L.status.charAt(0).toUpperCase()+L.status.slice(1)]}),a.jsx("span",{className:"text-lg font-medium",children:V(L.amount,L.currency)})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:Lh(new Date(L.requested_at),{addSuffix:!0})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Payment Method:"}),a.jsx("p",{className:"font-medium",children:((Y=L.payment_method)==null?void 0:Y.type)==="bank_transfer"?`Bank Transfer - ${L.payment_method.bank_name}`:`${(q=L.payment_method)==null?void 0:q.provider} - ${(X=L.payment_method)==null?void 0:X.phone_number}`})]}),L.processed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Processed:"}),a.jsx("p",{className:"font-medium",children:Lh(new Date(L.processed_at),{addSuffix:!0})})]})]}),L.request_notes&&a.jsxs("div",{className:"mt-3 p-2 bg-muted/30 rounded text-sm",children:[a.jsx("p",{className:"text-muted-foreground",children:"Your notes:"}),a.jsx("p",{children:L.request_notes})]}),L.admin_notes&&a.jsxs("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:[a.jsx("p",{className:"text-muted-foreground",children:"Admin notes:"}),a.jsx("p",{children:L.admin_notes})]})]},L.id)})})})})]})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Please log in to access withdrawal features"})})};function DTe(){return tA(["merchant"]),a.jsx(Zp,{userType:"merchant",children:a.jsxs(Jh,{children:[a.jsx(ht,{path:"/",element:a.jsx(Vl,{to:"/merchant/home",replace:!0})}),a.jsx(ht,{path:"/home",element:a.jsx(ATe,{})}),a.jsx(ht,{path:"/business",element:a.jsx(ETe,{})}),a.jsx(ht,{path:"/payments",element:a.jsx(CTe,{})}),a.jsx(ht,{path:"/qr-codes",element:a.jsx(TTe,{})}),a.jsx(ht,{path:"/analytics",element:a.jsx(MTe,{})}),a.jsx(ht,{path:"/profile",element:a.jsx(g0,{})}),a.jsx(ht,{path:"/settings",element:a.jsx(p0,{})}),a.jsx(ht,{path:"/chat",element:a.jsx(eb,{})}),a.jsx(ht,{path:"/withdrawal",element:a.jsx(sq,{})})]})})}function PTe(){const{profile:e}=Ht(),{t,language:n}=Ft(),[r,s]=w.useState({totalEvents:0,activeEvents:0,totalTicketsSold:0,totalRevenue:0,pendingValidations:0,recentEvents:[],recentTickets:[]}),[i,o]=w.useState(!0),[u,m]=w.useState(!0);w.useEffect(()=>{e&&f()},[e]);const f=async()=>{if(e)try{o(!0);const{data:_,error:C}=await ze.from("events").select("*").eq("created_by",e.id);if(C)throw C;const E=(_==null?void 0:_.map(L=>L.id))||[],{data:A,error:M}=await ze.from("user_tickets").select(`
          *,
          events (
            title,
            price
          ),
          profiles (
            full_name
          )
        `).in("event_id",E);if(M)throw M;const D=(_==null?void 0:_.length)||0,R=(_==null?void 0:_.filter(L=>new Date(L.start_date||L.created_at)>new Date&&L.is_active).length)||0,U=(A==null?void 0:A.length)||0,k=(A==null?void 0:A.reduce((L,$)=>{var Y;return L+(((Y=$.events)==null?void 0:Y.price)||0)},0))||0,I=(A==null?void 0:A.filter(L=>L.status==="pending").length)||0,F=(_==null?void 0:_.sort((L,$)=>new Date($.created_at).getTime()-new Date(L.created_at).getTime()).slice(0,5))||[],V=(A==null?void 0:A.sort((L,$)=>new Date($.created_at).getTime()-new Date(L.created_at).getTime()).slice(0,5))||[];s({totalEvents:D,activeEvents:R,totalTicketsSold:U,totalRevenue:k,pendingValidations:I,recentEvents:F,recentTickets:V})}catch(_){console.error("Error fetching event stats:",_)}finally{o(!1)}},g=_=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(_),x=_=>{switch(_){case"active":return"default";case"pending":return"secondary";case"used":return"default";case"cancelled":return"destructive";default:return"secondary"}},j=_=>{switch(_){case"active":return a.jsx(Tr,{className:"h-4 w-4"});case"pending":return a.jsx(Hn,{className:"h-4 w-4"});case"used":return a.jsx(Tr,{className:"h-4 w-4"});case"cancelled":return a.jsx(ou,{className:"h-4 w-4"});default:return a.jsx(Hn,{className:"h-4 w-4"})}};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[t("welcome"),", ",e==null?void 0:e.full_name]}),a.jsx("p",{className:"text-muted-foreground",children:t("eventAdminDashboardOverview")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(be,{children:[a.jsx(_s,{className:"h-4 w-4 mr-2"}),t("createEvent")]}),a.jsxs(be,{variant:"outline",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),t("validateTickets")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalEvents")}),a.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalEvents}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeEvents," ",t("activeEvents")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("ticketsSold")}),a.jsx(ja,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTicketsSold}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.pendingValidations," ",t("pendingValidation")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalRevenue")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(be,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>m(!u),children:u?a.jsx(Gn,{className:"h-3 w-3"}):a.jsx(hs,{className:"h-3 w-3"})})]})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:u?g(r.totalRevenue):""}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(qn,{className:"h-3 w-3 inline mr-1"}),t("fromTicketSales")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("pendingValidations")}),a.jsx(wa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.pendingValidations}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recentEvents")}),a.jsx(st,{children:t("yourLatestEventActivities")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:r.recentEvents.length>0?r.recentEvents.map((_,C)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:_.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(_.start_date||_.created_at).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Je,{variant:_.is_active?"default":"secondary",children:_.is_active?t("active"):t("inactive")}),a.jsx("span",{className:"text-sm font-medium",children:g(_.ticket_price)})]})]},_.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noEventsYet")})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recentTicketActivity")}),a.jsx(st,{children:t("latestTicketPurchasesAndValidations")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:r.recentTickets.length>0?r.recentTickets.map((_,C)=>{var E,A;return a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:(E=_.events)==null?void 0:E.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("purchasedBy")," ",(A=_.profiles)==null?void 0:A.full_name]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Je,{variant:x(_.status),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[j(_.status),a.jsx("span",{children:t(_.status)})]})})})]},_.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noTicketActivityYet")})})})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("quickActions")}),a.jsx(st,{children:t("commonTasksAndActions")})]}),a.jsx(he,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(be,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(_s,{className:"h-6 w-6"}),a.jsx("span",{children:t("createNewEvent")})]})}),a.jsx(be,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(ir,{className:"h-6 w-6"}),a.jsx("span",{children:t("validateTickets")})]})}),a.jsx(be,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(qn,{className:"h-6 w-6"}),a.jsx("span",{children:t("viewAnalytics")})]})})]})})]})]})}const S6=["concert","sports","conference","workshop","festival","theater","exhibition","other"];function RTe(){const{profile:e}=Ht(),{t,language:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState([]),[u,m]=w.useState(!0),[f,g]=w.useState(""),[x,j]=w.useState("all"),[_,C]=w.useState("all"),[E,A]=w.useState(!1),[M,D]=w.useState(null),[R,U]=w.useState({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0});w.useEffect(()=>{k()},[]),w.useEffect(()=>{I()},[r,f,x,_]);const k=async()=>{if(e)try{m(!0);const{data:H,error:ee}=await ze.from("events").select(`
          *,
          user_tickets (
            id
          )
        `).eq("created_by",e.id).order("created_at",{ascending:!1});if(ee)throw ee;const Z=H.map(oe=>{var re;return{...oe,current_bookings:((re=oe.user_tickets)==null?void 0:re.length)||0}});s(Z)}catch(H){console.error("Error fetching events:",H),Se.error(t("errorFetchingEvents"))}finally{m(!1)}},I=()=>{let H=r;f&&(H=H.filter(ee=>ee.title.toLowerCase().includes(f.toLowerCase())||ee.description.toLowerCase().includes(f.toLowerCase())||ee.location.toLowerCase().includes(f.toLowerCase()))),x!=="all"&&(H=H.filter(ee=>ee.category===x)),_!=="all"&&(_==="active"?H=H.filter(ee=>ee.is_active):_==="inactive"?H=H.filter(ee=>!ee.is_active):_==="upcoming"?H=H.filter(ee=>new Date(ee.event_date)>new Date):_==="past"&&(H=H.filter(ee=>new Date(ee.event_date)<new Date))),o(H)},F=(H,ee)=>{U(Z=>({...Z,[H]:ee}))},V=async()=>{if(e)try{const H={...R,created_by:e.id,updated_at:new Date().toISOString()};let ee;if(M?ee=await ze.from("events").update(H).eq("id",M.id).select():ee=await ze.from("events").insert(H).select(),ee.error)throw ee.error;Se.success(t(M?"eventUpdated":"eventCreated")),A(!1),D(null),q(),k()}catch(H){console.error("Error saving event:",H),Se.error(t("errorSavingEvent"))}},L=H=>{D(H),U({title:H.title,description:H.description,event_date:H.event_date.split("T")[0],location:H.location,ticket_price:H.ticket_price,max_capacity:H.max_capacity,category:H.category,is_active:H.is_active}),A(!0)},$=async H=>{if(confirm(t("confirmDeleteEvent")))try{const{error:ee}=await ze.from("events").delete().eq("id",H);if(ee)throw ee;Se.success(t("eventDeleted")),k()}catch(ee){console.error("Error deleting event:",ee),Se.error(t("errorDeletingEvent"))}},Y=async H=>{try{const{error:ee}=await ze.from("events").update({is_active:!H.is_active}).eq("id",H.id);if(ee)throw ee;Se.success(t("eventStatusUpdated")),k()}catch(ee){console.error("Error updating event status:",ee),Se.error(t("errorUpdatingEvent"))}},q=()=>{U({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0})},X=H=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(H),Q=H=>H.is_active?new Date(H.event_date)<new Date?"destructive":"default":"secondary",G=H=>H.is_active?new Date(H.event_date)<new Date?t("ended"):t("active"):t("inactive");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("eventManagement")}),a.jsx("p",{className:"text-muted-foreground",children:t("createAndManageYourEvents")})]}),a.jsxs(pr,{open:E,onOpenChange:A,children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{onClick:()=>{q(),D(null)},children:[a.jsx(_s,{className:"h-4 w-4 mr-2"}),t("createEvent")]})}),a.jsxs(xr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:t(M?"editEvent":"createNewEvent")}),a.jsx(Qr,{children:t(M?"updateEventDetails":"fillEventInformation")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"title",children:t("eventTitle")}),a.jsx(ut,{id:"title",value:R.title,onChange:H=>F("title",H.target.value),placeholder:t("enterEventTitle")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"category",children:t("category")}),a.jsxs(kt,{value:R.category,onValueChange:H=>F("category",H),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsx(Lt,{children:S6.map(H=>a.jsx(Ee,{value:H,children:t(H)},H))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"description",children:t("description")}),a.jsx(Es,{id:"description",value:R.description,onChange:H=>F("description",H.target.value),placeholder:t("enterEventDescription"),rows:3})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"event_date",children:t("eventDate")}),a.jsx(ut,{id:"event_date",type:"datetime-local",value:R.event_date,onChange:H=>F("event_date",H.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"location",children:t("location")}),a.jsx(ut,{id:"location",value:R.location,onChange:H=>F("location",H.target.value),placeholder:t("enterEventLocation")})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ve,{htmlFor:"ticket_price",children:[t("ticketPrice")," (SYP)"]}),a.jsx(ut,{id:"ticket_price",type:"number",value:R.ticket_price,onChange:H=>F("ticket_price",Number(H.target.value)),min:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"max_capacity",children:t("maxCapacity")}),a.jsx(ut,{id:"max_capacity",type:"number",value:R.max_capacity,onChange:H=>F("max_capacity",Number(H.target.value)),min:"1"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cl,{id:"is_active",checked:R.is_active,onCheckedChange:H=>F("is_active",H)}),a.jsx(Ve,{htmlFor:"is_active",children:t("eventActive")})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(be,{variant:"outline",onClick:()=>A(!1),children:t("cancel")}),a.jsx(be,{onClick:V,children:t(M?"updateEvent":"createEvent")})]})]})]})]})]}),a.jsx(fe,{children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{placeholder:t("searchEvents"),value:f,onChange:H=>g(H.target.value),className:"pl-9"})]})}),a.jsxs(kt,{value:x,onValueChange:j,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByCategory")})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("allCategories")}),S6.map(H=>a.jsx(Ee,{value:H,children:t(H)},H))]})]}),a.jsxs(kt,{value:_,onValueChange:C,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByStatus")})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("allStatuses")}),a.jsx(Ee,{value:"active",children:t("active")}),a.jsx(Ee,{value:"inactive",children:t("inactive")}),a.jsx(Ee,{value:"upcoming",children:t("upcoming")}),a.jsx(Ee,{value:"past",children:t("past")})]})]})]})})}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("eventsList")}),a.jsxs(st,{children:[t("totalEvents"),": ",i.length]})]}),a.jsx(he,{children:u?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(bm,{children:[a.jsx(wm,{children:a.jsxs(yu,{children:[a.jsx(vn,{children:t("event")}),a.jsx(vn,{children:t("date")}),a.jsx(vn,{children:t("location")}),a.jsx(vn,{children:t("price")}),a.jsx(vn,{children:t("capacity")}),a.jsx(vn,{children:t("status")}),a.jsx(vn,{className:"text-right",children:t("actions")})]})}),a.jsx(jm,{children:i.map((H,ee)=>a.jsxs(He.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ee*.1},className:"hover:bg-muted/50",children:[a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:H.title}),a.jsx(Je,{variant:"outline",children:t(H.category)})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:new Date(H.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"truncate max-w-[120px]",children:H.location})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:X(H.ticket_price)})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wa,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:[H.current_bookings,"/",H.max_capacity]})]})}),a.jsx(yn,{children:a.jsx(Je,{variant:Q(H),children:G(H)})}),a.jsx(yn,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>L(H),children:a.jsx(p7,{className:"h-4 w-4"})}),a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>Y(H),children:a.jsx(lu,{className:"h-4 w-4"})}),a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>$(H.id),children:a.jsx(cp,{className:"h-4 w-4"})})]})})]},H.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ka,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noEventsFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("createYourFirstEvent")})]})})]})]})}function kTe(){const{profile:e}=Ht(),{t,language:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState(""),[u,m]=w.useState([]),[f,g]=w.useState([]),[x,j]=w.useState(!0),[_,C]=w.useState(!1),[E,A]=w.useState(null),[M,D]=w.useState(""),[R,U]=w.useState(""),[k,I]=w.useState(null),[F,V]=w.useState(""),[L,$]=w.useState("all"),[Y,q]=w.useState(!1),X=w.useRef(null),Q=w.useRef(null),G=w.useRef(null),H=w.useRef(null);w.useEffect(()=>(ee(),()=>{de()}),[]),w.useEffect(()=>{i&&Z()},[i]),w.useEffect(()=>{oe()},[u,F,L]);const ee=async()=>{if(e)try{const{data:ce,error:ge}=await ze.from("event_admins").select(`
          event_id,
          events (
            id,
            title,
            description,
            category,
            start_date,
            location,
            image_url,
            is_active
          )
        `).eq("user_id",e.id).eq("is_active",!0);if(ge)throw ge;const{data:Me,error:Ne}=await ze.from("events").select("id, title, description, category, start_date, location, image_url, is_active").eq("created_by",e.id);if(Ne)throw Ne;const we=(ce||[]).map(Qe=>Qe.events).filter(Boolean),$e=[...Me||[],...we].reduce((Qe,gt)=>(gt&&!Qe.find(et=>et.id===gt.id)&&Qe.push(gt),Qe),[]);s($e.filter(Qe=>Qe.is_active))}catch(ce){console.error("Error fetching events:",ce),Se.error(t("errorFetchingEvents"))}finally{j(!1)}},Z=async()=>{if(i)try{const{data:ce,error:ge}=await ze.from("qr_validations").select(`
          *,
          user_tickets (
            ticket_number,
            event_details_snapshot,
            profiles (
              full_name,
              email
            )
          )
        `).eq("event_id",i).order("validated_at",{ascending:!1});if(ge)throw ge;const Me=(ce||[]).map(Ne=>({...Ne,ticket:Ne.user_tickets?{ticket_number:Ne.user_tickets.ticket_number,user:Ne.user_tickets.profiles,event_details_snapshot:Ne.user_tickets.event_details_snapshot}:null}));m(Me)}catch(ce){console.error("Error fetching validations:",ce),Se.error("Error fetching validations")}},oe=()=>{let ce=u;F&&(ce=ce.filter(ge=>{var Me,Ne,we,Ke,$e;return((Me=ge.ticket)==null?void 0:Me.ticket_number.toLowerCase().includes(F.toLowerCase()))||((we=(Ne=ge.ticket)==null?void 0:Ne.user)==null?void 0:we.full_name.toLowerCase().includes(F.toLowerCase()))||(($e=(Ke=ge.ticket)==null?void 0:Ke.user)==null?void 0:$e.email.toLowerCase().includes(F.toLowerCase()))})),L!=="all"&&(ce=ce.filter(ge=>ge.validation_status===L)),g(ce)},re=async()=>{try{A(null);const ce=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});X.current&&(X.current.srcObject=ce,G.current=ce,C(!0),H.current=setInterval(xe,1e3))}catch(ce){console.error("Camera error:",ce),A(t("cameraAccessDenied")),C(!1)}},de=()=>{G.current&&(G.current.getTracks().forEach(ce=>ce.stop()),G.current=null),H.current&&(clearInterval(H.current),H.current=null),C(!1)},xe=()=>{if(!X.current||!Q.current||!_)return;const ce=X.current,ge=Q.current,Me=ge.getContext("2d");!Me||ce.readyState!==ce.HAVE_ENOUGH_DATA||(ge.width=ce.videoWidth,ge.height=ce.videoHeight,Me.drawImage(ce,0,0,ge.width,ge.height))},_e=async ce=>{if(!i){Se.error(t("selectEventFirst"));return}try{j(!0);const{data:ge,error:Me}=await ze.rpc("validate_event_qr",{p_ticket_qr_data:ce,p_event_id:i,p_validator_id:e==null?void 0:e.id,p_validation_location:R||null});if(Me)throw Me;const Ne=ge[0];I(Ne),q(!0),Ne.success?(Se.success(t("ticketValidatedSuccessfully")),Z()):Se.error(Ne.message),D("")}catch(ge){console.error("Validation error:",ge),Se.error(t("validationError")),I({success:!1,message:t("validationError")}),q(!0)}finally{j(!1)}},ye=()=>{if(!M.trim()){Se.error(t("enterQRCode"));return}_e(M.trim())},ke=ce=>new Date(ce).toLocaleString(n==="ar"?"ar-SY":"en-US"),ae=ce=>{switch(ce){case"valid":return"default";case"invalid":return"destructive";case"expired":return"secondary";case"used":return"outline";default:return"secondary"}},ue=ce=>{switch(ce){case"valid":return a.jsx(Tr,{className:"h-4 w-4 text-green-500"});case"invalid":return a.jsx(ou,{className:"h-4 w-4 text-red-500"});case"expired":return a.jsx(Hn,{className:"h-4 w-4 text-gray-500"});case"used":return a.jsx(Or,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(Or,{className:"h-4 w-4"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("ticketValidation")}),a.jsx("p",{className:"text-muted-foreground",children:t("scanAndValidateEventTickets")})]})}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("selectEvent")}),a.jsx(st,{children:t("chooseEventToValidateTickets")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:t("event")}),a.jsxs(kt,{value:i,onValueChange:o,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:t("selectEvent")})}),a.jsx(Lt,{children:r.map(ce=>a.jsx(Ee,{value:ce.id,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:ce.title}),a.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",new Date(ce.start_date).toLocaleDateString(),")"]})]})},ce.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ve,{children:[t("validationLocation")," (",t("optional"),")"]}),a.jsx(ut,{value:R,onChange:ce=>U(ce.target.value),placeholder:t("enterValidationLocation")})]})]})})})]}),i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"h-5 w-5"}),a.jsx("span",{children:t("qrScanner")})]}),a.jsx(st,{children:t("scanTicketQRCode")})]}),a.jsx(he,{className:"space-y-4",children:a.jsx("div",{className:"relative",children:_?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[a.jsx("video",{ref:X,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),a.jsx("canvas",{ref:Q,className:"hidden"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx("div",{className:"w-48 h-48 border-2 border-white border-dashed rounded-lg"})})]}),a.jsxs(be,{variant:"outline",onClick:de,className:"w-full",children:[a.jsx(MS,{className:"h-4 w-4 mr-2"}),t("stopCamera")]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center h-64 bg-muted rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ph,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"font-medium",children:t("cameraNotActive")}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("startCameraToScan")})]})}),E?a.jsxs(us,{children:[a.jsx(Or,{className:"h-4 w-4"}),a.jsx(ds,{children:E})]}):a.jsxs(be,{onClick:re,className:"w-full",children:[a.jsx(ph,{className:"h-4 w-4 mr-2"}),t("startCamera")]})]})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center space-x-2",children:[a.jsx(ja,{className:"h-5 w-5"}),a.jsx("span",{children:t("manualValidation")})]}),a.jsx(st,{children:t("enterQRCodeManually")})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:t("qrCodeData")}),a.jsx(ut,{value:M,onChange:ce=>D(ce.target.value),placeholder:t("pasteQRCodeData")})]}),a.jsxs(be,{onClick:ye,disabled:!M.trim()||x,className:"w-full",children:[x?a.jsx(Od,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Tr,{className:"h-4 w-4 mr-2"}),t("validateTicket")]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-medium mb-2",children:t("todayStats")}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"text-center p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[a.jsx("div",{className:"font-medium text-green-700 dark:text-green-400",children:u.filter(ce=>ce.validation_status==="valid"&&new Date(ce.validated_at).toDateString()===new Date().toDateString()).length}),a.jsx("div",{className:"text-green-600 dark:text-green-500",children:t("valid")})]}),a.jsxs("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[a.jsx("div",{className:"font-medium text-red-700 dark:text-red-400",children:u.filter(ce=>ce.validation_status==="invalid"&&new Date(ce.validated_at).toDateString()===new Date().toDateString()).length}),a.jsx("div",{className:"text-red-600 dark:text-red-500",children:t("invalid")})]})]})]})]})]})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:t("validationHistory")}),a.jsx(st,{children:t("recentTicketValidations")})]}),a.jsxs(be,{variant:"outline",size:"sm",onClick:Z,children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),t("refresh")]})]})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{placeholder:t("searchValidations"),value:F,onChange:ce=>V(ce.target.value),className:"pl-9"})]})}),a.jsxs(kt,{value:L,onValueChange:$,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByStatus")})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("allStatuses")}),a.jsx(Ee,{value:"valid",children:t("valid")}),a.jsx(Ee,{value:"invalid",children:t("invalid")}),a.jsx(Ee,{value:"expired",children:t("expired")}),a.jsx(Ee,{value:"used",children:t("used")})]})]})]}),f.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(bm,{children:[a.jsx(wm,{children:a.jsxs(yu,{children:[a.jsx(vn,{children:t("ticket")}),a.jsx(vn,{children:t("holder")}),a.jsx(vn,{children:t("status")}),a.jsx(vn,{children:t("location")}),a.jsx(vn,{children:t("validatedAt")})]})}),a.jsx(jm,{children:f.map((ce,ge)=>{var Me,Ne,we,Ke,$e,Qe,gt;return a.jsxs(He.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ge*.1},className:"hover:bg-muted/50",children:[a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-medium",children:["#",(Me=ce.ticket)==null?void 0:Me.ticket_number]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(we=(Ne=ce.ticket)==null?void 0:Ne.event_details_snapshot)==null?void 0:we.event_title})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:($e=(Ke=ce.ticket)==null?void 0:Ke.user)==null?void 0:$e.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(gt=(Qe=ce.ticket)==null?void 0:Qe.user)==null?void 0:gt.email})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[ue(ce.validation_status),a.jsx(Je,{variant:ae(ce.validation_status),children:t(ce.validation_status)})]})}),a.jsx(yn,{children:ce.validation_location||"-"}),a.jsx(yn,{children:ke(ce.validated_at)})]},ce.id)})})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ir,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noValidationsFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("startValidatingTickets")})]})]})})]})]}),a.jsx(pr,{open:Y,onOpenChange:q,children:a.jsxs(xr,{children:[a.jsx(vr,{children:a.jsx(yr,{className:"flex items-center space-x-2",children:k!=null&&k.success?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{children:t("validTicket")})]}):a.jsxs(a.Fragment,{children:[a.jsx(ou,{className:"h-5 w-5 text-red-500"}),a.jsx("span",{children:t("invalidTicket")})]})})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(us,{children:a.jsx(ds,{children:k==null?void 0:k.message})}),(k==null?void 0:k.success)&&k.ticket_data&&a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{className:"text-lg",children:t("ticketDetails")})}),a.jsx(he,{className:"space-y-3",children:a.jsxs("div",{className:"grid gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("ticketNumber"),":"]}),a.jsxs("span",{className:"font-medium",children:["#",k.ticket_data.ticket_number]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("event"),":"]}),a.jsx("span",{className:"font-medium",children:k.ticket_data.event_title})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("eventDate"),":"]}),a.jsx("span",{children:ke(k.ticket_data.event_date)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("purchasedAt"),":"]}),a.jsx("span",{children:ke(k.ticket_data.purchased_at)})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(be,{onClick:()=>q(!1),children:t("close")})})]})]})})]})}const ITe=()=>{var F,V;const{user:e}=Ht(),{language:t}=Ft(),[n,r]=w.useState([]),[s,i]=w.useState([]),[o,u]=w.useState([]),[m,f]=w.useState(!0),[g,x]=w.useState("30"),[j,_]=w.useState("line");w.useEffect(()=>{e&&C()},[e,g]);const C=async()=>{if(e){f(!0);try{const L=$o(new Date,parseInt(g)),{data:$,error:Y}=await ze.from("events").select("*").eq("organizer_id",e.id).gte("created_at",L.toISOString()).order("created_at",{ascending:!0});if(Y)throw Y;const{data:q,error:X}=await ze.from("event_ticket_sales").select("*").in("event_id",($==null?void 0:$.map(H=>H.id))||[]).gte("created_at",L.toISOString()).order("created_at",{ascending:!0});if(X)throw X;const{data:Q,error:G}=await ze.from("event_attendees").select("*").in("event_id",($==null?void 0:$.map(H=>H.id))||[]);if(G)throw G;r($||[]),i(q||[]),u(Q||[])}catch(L){console.error("Error fetching analytics data:",L)}finally{f(!1)}}},E=()=>{const L=s.filter(ge=>ge.status==="confirmed"),$=L.reduce((ge,Me)=>ge+Me.total_amount,0),Y=L.reduce((ge,Me)=>ge+Me.quantity,0),q=L.reduce((ge,Me)=>ge+Me.booking_fee,0),X=$-q,Q=n.filter(ge=>ge.status==="completed"),G=n.filter(ge=>ge.status==="upcoming"),H=o.length>0&&Y>0?o.filter(ge=>ge.check_in_time).length/Y*100:0,ee=Y>0?$/Y:0,Z=Math.floor(parseInt(g)/2),oe=$o(new Date,Z),re=L.filter(ge=>ia(ge.created_at)>=oe),de=L.filter(ge=>ia(ge.created_at)<oe),xe=re.reduce((ge,Me)=>ge+Me.total_amount,0),_e=de.reduce((ge,Me)=>ge+Me.total_amount,0),ye=_e>0?(xe-_e)/_e*100:0,ke=o.filter(ge=>ge.rating).length,ae=ke>0?o.filter(ge=>ge.rating).reduce((ge,Me)=>ge+(Me.rating||0),0)/ke:0,ce=L.filter(ge=>Wv(ia(ge.created_at))).reduce((ge,Me)=>ge+Me.total_amount,0);return{totalRevenue:$,netRevenue:X,totalTicketsSold:Y,totalEvents:n.length,completedEvents:Q.length,upcomingEvents:G.length,attendanceRate:H,avgTicketPrice:ee,revenueGrowth:ye,avgRating:ae,todayRevenue:ce,totalFees:q}},A=()=>{const L=new Map;return s.filter($=>$.status==="confirmed").forEach($=>{const Y=fr(ia($.created_at),"yyyy-MM-dd"),q=L.get(Y)||{revenue:0,tickets:0,events:new Set};q.events.add($.event_id),L.set(Y,{revenue:q.revenue+$.total_amount,tickets:q.tickets+$.quantity,events:q.events})}),Array.from(L.entries()).map(([$,Y])=>({date:fr(ia($),"MMM dd",{locale:t==="ar"?Mp:void 0}),revenue:Y.revenue,tickets:Y.tickets,events:Y.events.size})).sort(($,Y)=>$.date.localeCompare(Y.date))},M=()=>n.map(L=>{const $=s.filter(ee=>ee.event_id===L.id&&ee.status==="confirmed"),Y=$.reduce((ee,Z)=>ee+Z.total_amount,0),q=$.reduce((ee,Z)=>ee+Z.quantity,0),X=L.total_tickets>0?q/L.total_tickets*100:0,Q=o.filter(ee=>ee.event_id===L.id),G=Q.filter(ee=>ee.check_in_time).length,H=q>0?G/q*100:0;return{...L,revenue:Y,ticketsSold:q,sellOutRate:X,attendanceRate:H,avgRating:Q.length>0?Q.filter(ee=>ee.rating).reduce((ee,Z)=>ee+(Z.rating||0),0)/Q.filter(ee=>ee.rating).length:0}}).sort((L,$)=>$.revenue-L.revenue),D=()=>{const L=new Map;return n.forEach($=>{const Y=$.category||"Other",q=s.filter(H=>H.event_id===$.id&&H.status==="confirmed"),X=q.reduce((H,ee)=>H+ee.total_amount,0),Q=q.reduce((H,ee)=>H+ee.quantity,0),G=L.get(Y)||{revenue:0,tickets:0,events:0};L.set(Y,{revenue:G.revenue+X,tickets:G.tickets+Q,events:G.events+1})}),Array.from(L.entries()).map(([$,Y])=>({name:$,revenue:Y.revenue,tickets:Y.tickets,events:Y.events,avgRevenue:Y.events>0?Y.revenue/Y.events:0})).sort(($,Y)=>Y.revenue-$.revenue)},R=()=>{const L=[],$=new Date;for(let Y=5;Y>=0;Y--){const q=new Date($.getFullYear(),$.getMonth()-Y,1),X=RE(q),Q=u1(q),G=n.filter(ee=>{const Z=ia(ee.created_at);return Z>=X&&Z<=Q}),H=s.filter(ee=>{const Z=ia(ee.created_at);return Z>=X&&Z<=Q&&ee.status==="confirmed"});L.push({month:fr(q,"MMM yyyy",{locale:t==="ar"?Mp:void 0}),events:G.length,revenue:H.reduce((ee,Z)=>ee+Z.total_amount,0),tickets:H.reduce((ee,Z)=>ee+Z.quantity,0)})}return L},U=()=>{const L=new Map;s.filter(Y=>Y.status==="confirmed").forEach(Y=>{const q=Y.customer_id,X=L.get(q)||{tickets:0,revenue:0,events:new Set};X.events.add(Y.event_id),L.set(q,{tickets:X.tickets+Y.quantity,revenue:X.revenue+Y.total_amount,events:X.events})});const $=Array.from(L.entries()).map(([Y,q])=>({id:Y,tickets:q.tickets,revenue:q.revenue,events:q.events.size,avgSpend:q.tickets>0?q.revenue/q.tickets:0}));return{totalCustomers:$.length,repeatCustomers:$.filter(Y=>Y.events>1).length,topCustomers:$.sort((Y,q)=>q.revenue-Y.revenue).slice(0,10),avgSpendPerCustomer:$.length>0?$.reduce((Y,q)=>Y+q.revenue,0)/$.length:0}},k=()=>{const L=E(),$={metadata:{exportDate:new Date().toISOString(),dateRange:`${g} days`,organizerId:e==null?void 0:e.id,generatedBy:"Tickets Event Analytics"},kpis:L,salesTrend:A(),eventPerformance:M(),categoryAnalysis:D(),monthlyComparison:R(),customerInsights:U(),rawData:{events:n.length,ticketSales:s.length,attendees:o.length}},Y=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),q=URL.createObjectURL(Y),X=document.createElement("a");X.href=q,X.download=`event-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,X.click(),URL.revokeObjectURL(q)},I=E();return m?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Event Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your event performance, ticket sales, and attendee insights"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:g,onChange:L=>x(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(be,{onClick:k,variant:"outline",size:"sm",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(sr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(he,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[I.totalRevenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[I.revenueGrowth>0?a.jsx(qn,{className:"h-3 w-3 text-green-600 mr-1"}):a.jsx(ql,{className:"h-3 w-3 text-red-600 mr-1"}),a.jsxs("span",{className:I.revenueGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(I.revenueGrowth).toFixed(1),"% vs last period"]})]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Tickets Sold"}),a.jsx(ja,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:I.totalTicketsSold}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Avg price: ",I.avgTicketPrice.toLocaleString()," SYP"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Events"}),a.jsx(ka,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:I.totalEvents}),a.jsxs("p",{className:"text-xs text-gray-600",children:[I.upcomingEvents," upcoming  ",I.completedEvents," completed"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Attendance Rate"}),a.jsx(wa,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs(he,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[I.attendanceRate.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Rating: ",I.avgRating.toFixed(1),"/5 "]})]})]})]}),a.jsxs(xi,{defaultValue:"sales",className:"space-y-4",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Et,{value:"sales",children:"Sales"}),a.jsx(Et,{value:"events",children:"Events"}),a.jsx(Et,{value:"categories",children:"Categories"}),a.jsx(Et,{value:"customers",children:"Customers"}),a.jsx(Et,{value:"monthly",children:"Monthly"}),a.jsx(Et,{value:"insights",children:"Insights"})]}),a.jsx(Ot,{value:"sales",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:"Sales Trend"}),a.jsx(st,{children:"Daily ticket sales revenue and volume over time"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:j==="line"?"default":"outline",size:"sm",onClick:()=>_("line"),children:"Line"}),a.jsx(be,{variant:j==="area"?"default":"outline",size:"sm",onClick:()=>_("area"),children:"Area"}),a.jsx(be,{variant:j==="bar"?"default":"outline",size:"sm",onClick:()=>_("bar"),children:"Bar"})]})]}),a.jsx(he,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(js,{width:"100%",height:"100%",children:j==="line"?a.jsxs(Op,{data:A(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(L,$)=>[`${L} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(Pa,{}),a.jsx(Bi,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"tickets",stroke:"#82ca9d",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"events",stroke:"#ffc658",strokeWidth:2})]}):j==="area"?a.jsxs(Z1,{data:A(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(L,$)=>[`${L} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(Pa,{}),a.jsx(zd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Qo,{data:A(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(L,$)=>[`${L} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(Pa,{}),a.jsx(Gr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Gr,{dataKey:"tickets",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"events",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Event Performance"}),a.jsx(st,{children:"Top performing events by revenue and attendance"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:M().slice(0,10).map((L,$)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Je,{variant:"outline",className:"text-sm",children:["#",$+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:L.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[fr(ia(L.date),"MMM dd, yyyy"),"  ",L.location]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[L.ticketsSold,"/",L.total_tickets," tickets ",L.sellOutRate.toFixed(1),"% sold ",L.attendanceRate.toFixed(1),"% attendance"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[L.revenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(lp,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{className:"text-sm",children:L.avgRating?L.avgRating.toFixed(1):"N/A"})]})]})]},L.id))})})]})}),a.jsx(Ot,{value:"categories",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Category Analysis"}),a.jsx(st,{children:"Performance breakdown by event categories"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:D().map((L,$)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Je,{variant:"outline",className:"text-sm",children:["#",$+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:L.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[L.events," events  ",L.tickets," tickets sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[L.revenue.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Avg: ",L.avgRevenue.toLocaleString()," SYP/event"]})]})]},L.name))})})]})}),a.jsx(Ot,{value:"customers",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Customer Insights"})}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Customers"}),a.jsx("span",{className:"font-semibold",children:U().totalCustomers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Repeat Customers"}),a.jsx("span",{className:"font-semibold",children:U().repeatCustomers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Spend per Customer"}),a.jsxs("span",{className:"font-semibold",children:[U().avgSpendPerCustomer.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Customer Retention"}),a.jsxs("span",{className:"font-semibold",children:[U().totalCustomers>0?(U().repeatCustomers/U().totalCustomers*100).toFixed(1):0,"%"]})]})]})})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Top Customers"})}),a.jsx(he,{children:a.jsx("div",{className:"space-y-2",children:U().topCustomers.slice(0,5).map((L,$)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Je,{variant:"outline",children:["#",$+1]}),a.jsxs("span",{className:"text-sm",children:["Customer ",L.id.slice(-8)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold",children:[L.revenue.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[L.tickets," tickets  ",L.events," events"]})]})]},L.id))})})]})]})}),a.jsx(Ot,{value:"monthly",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Monthly Comparison"}),a.jsx(st,{children:"Compare performance across different months"})]}),a.jsx(he,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(js,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:R(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"month"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(L,$)=>[$==="revenue"?`${L} SYP`:L,$==="revenue"?"Revenue":$==="events"?"Events":"Tickets"]}),a.jsx(Pa,{}),a.jsx(Gr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Gr,{dataKey:"events",fill:"#82ca9d"}),a.jsx(Gr,{dataKey:"tickets",fill:"#ffc658"})]})})})})]})}),a.jsx(Ot,{value:"insights",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Business Insights"})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Net Revenue"}),a.jsxs("span",{className:"font-bold text-green-600",children:[I.netRevenue.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Avg Ticket Price"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[I.avgTicketPrice.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Platform Fees"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[I.totalFees.toLocaleString()," SYP"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[I.attendanceRate<80&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(om,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on improving event promotion to boost attendance"})]}),I.avgRating<4&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(lp,{className:"h-4 w-4"}),a.jsx("span",{children:"Work on event quality and customer experience"})]}),I.avgTicketPrice<500&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(qn,{className:"h-4 w-4"}),a.jsx("span",{children:"Consider premium event offerings to increase revenue"})]})]})]})]})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Performance Summary"})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:I.todayRevenue.toLocaleString()}),a.jsx("p",{className:"text-green-100",children:"Today's Revenue"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("h4",{className:"text-xl font-bold",children:[I.attendanceRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Attendance Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:I.avgRating.toFixed(1)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Best performing category:"}),a.jsx("span",{className:"font-semibold",children:((F=D()[0])==null?void 0:F.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Highest revenue event:"}),a.jsxs("span",{className:"font-semibold",children:[((V=M()[0])==null?void 0:V.title.slice(0,20))||"N/A","..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Customer retention rate:"}),a.jsxs("span",{className:"font-semibold",children:[U().totalCustomers>0?(U().repeatCustomers/U().totalCustomers*100).toFixed(1):0,"%"]})]})]})]})]})})]})]})})]})]})};function LTe(){const[e,t]=w.useState([]),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[o,u]=w.useState(null),[m,f]=w.useState(!0),[g,x]=w.useState(!1),[j,_]=w.useState(!1),[C,E]=w.useState({type:"discount_percentage",value:10,expires_at:"",usage_limit:100,target_type:"all",target_values:[],description:""}),[A,M]=w.useState({method:"notification",userEmails:"",userTypes:[],customMessage:""}),{profile:D}=Ht(),{t:R,language:U}=Ft();w.useEffect(()=>{k()},[]);const k=async()=>{try{f(!0);const{data:Q,error:G}=await ze.from("promotion_codes").select("*").eq("created_by",D==null?void 0:D.id).order("created_at",{ascending:!1});if(G)throw G;t(Q||[])}catch(Q){console.error("Error fetching promotion codes:",Q),Se.error("Failed to load promotion codes")}finally{f(!1)}},I=()=>{const Q=C.type==="discount_percentage"?"SAVE":C.type==="discount_amount"?"OFF":C.type==="add_balance"?"BONUS":"FREE",G=Math.floor(Math.random()*9e3)+1e3;return`${Q}${G}`},F=async()=>{try{x(!0);const Q=I(),G=C.target_type==="all"?null:(C.target_type==="user_types",C.target_values),{data:H,error:ee}=await ze.from("promotion_codes").insert([{code:Q,type:C.type,value:C.value,expires_at:C.expires_at||null,usage_limit:C.usage_limit,target_users:G,created_by:D==null?void 0:D.id,metadata:{description:C.description}}]).select();if(ee)throw ee;Se.success("Promotion code created successfully!"),r(!1),E({type:"discount_percentage",value:10,expires_at:"",usage_limit:100,target_type:"all",target_values:[],description:""}),k()}catch(Q){console.error("Error creating promotion code:",Q),Se.error("Failed to create promotion code")}finally{x(!1)}},V=async()=>{if(o)try{if(_(!0),A.method==="notification"){const Q=A.userEmails.split(",").map(G=>G.trim()).filter(Boolean);for(const G of Q){const{data:H,error:ee}=await ze.from("profiles").select("id").eq("email",G).single();if(ee){Se.error(`User not found: ${G}`);continue}const{error:Z}=await ze.rpc("send_promotion_code_notification",{p_promotion_id:o.id,p_recipient_user_id:H.id,p_sender_user_id:D==null?void 0:D.id});Z&&(console.error("Error sending notification:",Z),Se.error(`Failed to send to ${G}`))}Se.success(`Promotion code sent to ${Q.length} users via notifications`)}i(!1),M({method:"notification",userEmails:"",userTypes:[],customMessage:""})}catch(Q){console.error("Error sending promotion:",Q),Se.error("Failed to send promotion code")}finally{_(!1)}},L=Q=>{navigator.clipboard.writeText(Q),Se.success("Promotion code copied to clipboard!")},$=Q=>{switch(Q){case"discount_percentage":return a.jsx(QD,{className:"h-4 w-4"});case"discount_amount":return a.jsx(sr,{className:"h-4 w-4"});case"add_balance":return a.jsx(xh,{className:"h-4 w-4"});case"free_event_access":return a.jsx(ja,{className:"h-4 w-4"});default:return a.jsx(Ho,{className:"h-4 w-4"})}},Y=Q=>{switch(Q){case"discount_percentage":return"Percentage Discount";case"discount_amount":return"Amount Discount";case"add_balance":return"Add Balance";case"free_event_access":return"Free Event Access";default:return Q}},q=Q=>new Intl.NumberFormat(U==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(Q),X=Q=>new Date(Q).toLocaleDateString(U==="ar"?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric"});return m?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Promotion Codes"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage promotional offers for your customers"})]}),a.jsxs(be,{onClick:()=>r(!0),className:"gap-2",children:[a.jsx(_s,{className:"h-4 w-4"}),"Create Promotion"]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Codes"}),a.jsx(Ho,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(he,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Active Codes"}),a.jsx(xh,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(he,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.filter(Q=>Q.is_active).length})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Uses"}),a.jsx(Fp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(he,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.reduce((Q,G)=>Q+G.used_count,0)})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Users Reached"}),a.jsx(wa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(he,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.reduce((Q,G)=>Q+G.used_count,0)})})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Promotion Codes"}),a.jsx(st,{children:"Manage your promotional offers and track their performance"})]}),a.jsx(he,{children:e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ho,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No promotion codes yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first promotion code to start engaging customers"}),a.jsxs(be,{onClick:()=>r(!0),children:[a.jsx(_s,{className:"h-4 w-4 mr-2"}),"Create First Promotion"]})]}):a.jsxs(bm,{children:[a.jsx(wm,{children:a.jsxs(yu,{children:[a.jsx(vn,{children:"Code"}),a.jsx(vn,{children:"Type"}),a.jsx(vn,{children:"Value"}),a.jsx(vn,{children:"Usage"}),a.jsx(vn,{children:"Expires"}),a.jsx(vn,{children:"Status"}),a.jsx(vn,{children:"Actions"})]})}),a.jsx(jm,{children:e.map(Q=>a.jsxs(yu,{children:[a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:Q.code}),a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>L(Q.code),children:a.jsx(Vy,{className:"h-3 w-3"})})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[$(Q.type),a.jsx("span",{className:"text-sm",children:Y(Q.type)})]})}),a.jsx(yn,{children:Q.type==="discount_percentage"?`${Q.value}%`:q(Q.value)}),a.jsxs(yn,{children:[a.jsxs("div",{className:"text-sm",children:[Q.used_count," / ",Q.usage_limit]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:a.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${Q.used_count/Q.usage_limit*100}%`}})})]}),a.jsx(yn,{children:Q.expires_at?X(Q.expires_at):"Never"}),a.jsx(yn,{children:a.jsx(Je,{variant:Q.is_active?"default":"secondary",children:Q.is_active?"Active":"Inactive"})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>{u(Q),i(!0)},children:a.jsx(Md,{className:"h-3 w-3"})}),a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>L(Q.code),children:a.jsx(Ire,{className:"h-3 w-3"})})]})})]},Q.id))})]})})]}),a.jsx(pr,{open:n,onOpenChange:r,children:a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:"Create Promotion Code"}),a.jsx(Qr,{children:"Create a new promotional offer for your customers"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Promotion Type"}),a.jsxs(kt,{value:C.type,onValueChange:Q=>E(G=>({...G,type:Q})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"discount_percentage",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(QD,{className:"h-4 w-4"}),"Percentage Discount"]})}),a.jsx(Ee,{value:"discount_amount",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-4 w-4"}),"Amount Discount"]})}),a.jsx(Ee,{value:"add_balance",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xh,{className:"h-4 w-4"}),"Add Balance"]})}),a.jsx(Ee,{value:"free_event_access",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ja,{className:"h-4 w-4"}),"Free Event Access"]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Value"}),a.jsx(ut,{type:"number",placeholder:C.type==="discount_percentage"?"e.g., 20":"e.g., 5000",value:C.value,onChange:Q=>E(G=>({...G,value:parseFloat(Q.target.value)||0}))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:C.type==="discount_percentage"?"Percentage off":"Amount in SYP"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Usage Limit"}),a.jsx(ut,{type:"number",placeholder:"e.g., 100",value:C.usage_limit,onChange:Q=>E(G=>({...G,usage_limit:parseInt(Q.target.value)||1}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Expires At (Optional)"}),a.jsx(ut,{type:"datetime-local",value:C.expires_at,onChange:Q=>E(G=>({...G,expires_at:Q.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Target Users"}),a.jsxs(kt,{value:C.target_type,onValueChange:Q=>E(G=>({...G,target_type:Q})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:"All Users"}),a.jsx(Ee,{value:"user_types",children:"Specific User Types"})]})]})]}),C.target_type==="user_types"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"User Types"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["passenger","driver","merchant"].map(Q=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:C.target_values.includes(Q),onChange:G=>{G.target.checked?E(H=>({...H,target_values:[...H.target_values,Q]})):E(H=>({...H,target_values:H.target_values.filter(ee=>ee!==Q)}))}}),a.jsx("span",{className:"text-sm capitalize",children:Q})]},Q))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Description (Optional)"}),a.jsx(Es,{placeholder:"Brief description of this promotion",value:C.description,onChange:Q=>E(G=>({...G,description:Q.target.value}))})]}),a.jsx(be,{onClick:F,disabled:g,className:"w-full",children:g?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_s,{className:"mr-2 h-4 w-4"}),"Create Promotion Code"]})})]})]})}),a.jsx(pr,{open:s,onOpenChange:i,children:a.jsxs(xr,{className:"sm:max-w-md",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:"Send Promotion Code"}),a.jsxs(Qr,{children:["Send ",o==null?void 0:o.code," to users"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Send Method"}),a.jsxs(kt,{value:A.method,onValueChange:Q=>M(G=>({...G,method:Q})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"notification",children:"In-App Notification"}),a.jsx(Ee,{value:"email",disabled:!0,children:"Email (Coming Soon)"}),a.jsx(Ee,{value:"sms",disabled:!0,children:"SMS (Coming Soon)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"User Emails"}),a.jsx(Es,{placeholder:"Enter user emails separated by commas",value:A.userEmails,onChange:Q=>M(G=>({...G,userEmails:Q.target.value}))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter comma-separated email addresses"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Custom Message (Optional)"}),a.jsx(Es,{placeholder:"Add a personal message with the promotion code",value:A.customMessage,onChange:Q=>M(G=>({...G,customMessage:Q.target.value}))})]}),a.jsx(be,{onClick:V,disabled:j||!A.userEmails.trim(),className:"w-full",children:j?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Md,{className:"mr-2 h-4 w-4"}),"Send Promotion Code"]})})]})]})})]})}function BTe(){return a.jsx(Zp,{userType:"event_admin",children:a.jsxs(Jh,{children:[a.jsx(ht,{path:"/",element:a.jsx(Vl,{to:"/event-admin/home",replace:!0})}),a.jsx(ht,{path:"/home",element:a.jsx(PTe,{})}),a.jsx(ht,{path:"/events",element:a.jsx(RTe,{})}),a.jsx(ht,{path:"/validation",element:a.jsx(kTe,{})}),a.jsx(ht,{path:"/analytics",element:a.jsx(ITe,{})}),a.jsx(ht,{path:"/promotions",element:a.jsx(LTe,{})}),a.jsx(ht,{path:"/profile",element:a.jsx(g0,{})}),a.jsx(ht,{path:"/settings",element:a.jsx(p0,{})}),a.jsx(ht,{path:"/chat",element:a.jsx(eb,{})}),a.jsx(ht,{path:"/withdrawal",element:a.jsx(sq,{})})]})})}function FTe(){const{profile:e}=Ht(),{t,language:n}=Ft(),[r,s]=w.useState({totalUsers:0,activeUsers:0,totalTransactions:0,totalRevenue:0,pendingDisputes:0,systemUptime:99.9,recentUsers:[],recentTransactions:[],usersByType:{passengers:0,drivers:0,merchants:0,eventAdmins:0}}),[i,o]=w.useState({totalEvents:0,activeEvents:0,totalTicketsSold:0,eventRevenue:0,recentEvents:[],eventAdminPerformance:[],withdrawalRequests:[],topPerformingEvents:[]}),[u,m]=w.useState(!0),[f,g]=w.useState(!0);w.useEffect(()=>{e&&(x(),j())},[e]);const x=async()=>{try{m(!0);const{data:A,error:M}=await ze.from("profiles").select("*").order("created_at",{ascending:!1});if(M)throw M;const{data:D,error:R}=await ze.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey (
            full_name
          ),
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name
          )
        `).order("created_at",{ascending:!1}).limit(10);if(R)throw R;const{data:U,error:k}=await ze.from("disputes").select("*").eq("status","open");if(k)throw k;const I=(A==null?void 0:A.length)||0,F=(A==null?void 0:A.filter(q=>q.is_active).length)||0,V=(D==null?void 0:D.length)||0,L=(D==null?void 0:D.reduce((q,X)=>q+X.amount,0))||0,$={passengers:(A==null?void 0:A.filter(q=>q.user_type==="passenger").length)||0,drivers:(A==null?void 0:A.filter(q=>q.user_type==="driver").length)||0,merchants:(A==null?void 0:A.filter(q=>q.user_type==="merchant").length)||0,eventAdmins:(A==null?void 0:A.filter(q=>q.user_type==="event_admin").length)||0},Y=(A==null?void 0:A.slice(0,5))||[];s({totalUsers:I,activeUsers:F,totalTransactions:V,totalRevenue:L,pendingDisputes:(U==null?void 0:U.length)||0,systemUptime:99.9,recentUsers:Y,recentTransactions:(D==null?void 0:D.slice(0,5))||[],usersByType:$})}catch(A){console.error("Error fetching system stats:",A)}finally{m(!1)}},j=async()=>{try{const{data:A,error:M}=await ze.from("events").select(`
          *,
          creator:profiles!events_created_by_fkey (
            full_name,
            user_type
          )
        `).order("created_at",{ascending:!1});if(M)throw M;const{data:D,error:R}=await ze.from("user_tickets").select(`
          *,
          event:events (
            title,
            created_by
          )
        `);if(R)throw R;const{data:U,error:k}=await ze.from("withdrawal_requests").select(`
          *,
          user:profiles (
            full_name,
            user_type
          )
        `).eq("status","pending").order("created_at",{ascending:!1});if(k)throw k;const I=(A==null?void 0:A.length)||0,F=(A==null?void 0:A.filter(q=>q.is_active).length)||0,V=(D==null?void 0:D.length)||0,L=(D==null?void 0:D.reduce((q,X)=>{var Q;return q+(((Q=X.event_details_snapshot)==null?void 0:Q.price)||0)},0))||0,$=(A==null?void 0:A.filter(q=>{var X;return((X=q.creator)==null?void 0:X.user_type)==="event_admin"}).map(q=>{var G;const X=(D==null?void 0:D.filter(H=>H.event_id===q.id))||[],Q=X.reduce((H,ee)=>{var Z;return H+(((Z=ee.event_details_snapshot)==null?void 0:Z.price)||0)},0);return{adminName:(G=q.creator)==null?void 0:G.full_name,eventTitle:q.title,ticketsSold:X.length,revenue:Q,eventStatus:q.is_active?"Active":"Inactive",createdAt:q.created_at}}).sort((q,X)=>X.revenue-q.revenue).slice(0,10))||[],Y=(A==null?void 0:A.map(q=>{const X=(D==null?void 0:D.filter(G=>G.event_id===q.id))||[],Q=X.reduce((G,H)=>{var ee;return G+(((ee=H.event_details_snapshot)==null?void 0:ee.price)||0)},0);return{...q,ticketsSold:X.length,revenue:Q}}).sort((q,X)=>X.revenue-q.revenue).slice(0,5))||[];o({totalEvents:I,activeEvents:F,totalTicketsSold:V,eventRevenue:L,recentEvents:(A==null?void 0:A.slice(0,5))||[],eventAdminPerformance:$,withdrawalRequests:U||[],topPerformingEvents:Y})}catch(A){console.error("Error fetching event stats:",A)}},_=A=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(A),C=A=>{switch(A){case"passenger":return"default";case"driver":return"secondary";case"merchant":return"outline";case"event_admin":return"destructive";case"admin":return"destructive";default:return"secondary"}},E=A=>{switch(A){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";case"cancelled":return"outline";default:return"secondary"}};return u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("systemDashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("systemOverviewAndManagement")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(be,{variant:"outline",children:[a.jsx(lu,{className:"h-4 w-4 mr-2"}),t("systemSettings")]}),a.jsxs(be,{variant:"outline",children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),t("securityPanel")]})]})]}),a.jsx(fe,{className:"border-green-200 bg-green-50",children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(WA,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:t("systemOperational")}),a.jsxs(Je,{variant:"outline",className:"bg-green-100 text-green-800",children:[r.systemUptime,"% ",t("uptime")]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ja,{className:"h-4 w-4 text-blue-600"}),a.jsxs("span",{className:"text-blue-800",children:[i.totalEvents," Events"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Lg,{className:"h-4 w-4 text-purple-600"}),a.jsxs("span",{className:"text-purple-800",children:[r.usersByType.eventAdmins," Event Admins"]})]})]})]})})}),a.jsxs(xi,{defaultValue:"overview",className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-3",children:[a.jsx(Et,{value:"overview",children:"System Overview"}),a.jsx(Et,{value:"events",children:"Event Management"}),a.jsx(Et,{value:"performance",children:"Performance & Analytics"})]}),a.jsxs(Ot,{value:"overview",className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalUsers")}),a.jsx(wa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeUsers," ",t("activeUsers")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalTransactions")}),a.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(qn,{className:"h-3 w-3 inline mr-1"}),t("systemVolume")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("totalRevenue")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(be,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>g(!f),children:f?a.jsx(Gn,{className:"h-3 w-3"}):a.jsx(hs,{className:"h-3 w-3"})})]})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.totalRevenue):""}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("systemRevenue")})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:t("pendingIssues")}),a.jsx(Or,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.pendingDisputes}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("userDistribution")}),a.jsx(st,{children:t("usersByAccountType")})]}),a.jsx(he,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.usersByType.passengers}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("passengers")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.usersByType.drivers}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("drivers")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.usersByType.merchants}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("merchants")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.usersByType.eventAdmins}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("eventAdmins")})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recentUsers")}),a.jsx(st,{children:t("latestRegistrations")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:r.recentUsers.length>0?r.recentUsers.map((A,M)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:A.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:A.email})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Je,{variant:C(A.user_type),children:t(A.user_type)}),a.jsx(Je,{variant:A.is_active?"default":"secondary",children:A.is_active?t("active"):t("inactive")})]})]},A.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentUsers")})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("recentTransactions")}),a.jsx(st,{children:t("latestSystemActivity")})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:r.recentTransactions.length>0?r.recentTransactions.map((A,M)=>{var D,R;return a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium",children:[(D=A.from_profile)==null?void 0:D.full_name,"  ",(R=A.to_profile)==null?void 0:R.full_name]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t(A.transaction_type),"  ",A.payment_method]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Je,{variant:E(A.status),children:t(A.status)}),a.jsx("span",{className:"text-sm font-medium",children:_(A.amount)})]})]},A.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentTransactions")})})})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("quickActions")}),a.jsx(st,{children:t("commonAdministrativeTasks")})]}),a.jsx(he,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsx(be,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(wa,{className:"h-6 w-6"}),a.jsx("span",{children:t("manageUsers")})]})}),a.jsx(be,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(qn,{className:"h-6 w-6"}),a.jsx("span",{children:t("systemAnalytics")})]})}),a.jsx(be,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Or,{className:"h-6 w-6"}),a.jsx("span",{children:t("handleDisputes")})]})}),a.jsx(be,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(lu,{className:"h-6 w-6"}),a.jsx("span",{children:t("systemConfig")})]})})]})})]})]}),a.jsxs(Ot,{value:"events",className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Events"}),a.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.totalEvents}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.activeEvents," active events"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Tickets Sold"}),a.jsx(ja,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.totalTicketsSold}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all events"})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Event Revenue"}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:_(i.eventRevenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total event earnings"})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Pending Withdrawals"}),a.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.withdrawalRequests.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requiring approval"})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(hne,{className:"h-5 w-5"}),"Top Performing Events"]}),a.jsx(st,{children:"Events ranked by revenue and ticket sales"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:i.topPerformingEvents.length>0?i.topPerformingEvents.map((A,M)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Je,{variant:"outline",className:"text-xs",children:["#",M+1]}),a.jsx("h4",{className:"font-medium",children:A.title})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.ticketsSold," tickets  ",A.is_active?"Active":"Inactive"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:_(A.revenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"})]})]},A.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No events found"})})})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5"}),"Pending Withdrawals"]}),a.jsx(st,{children:"Withdrawal requests awaiting approval"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:i.withdrawalRequests.length>0?i.withdrawalRequests.slice(0,5).map((A,M)=>{var D,R,U;return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:(D=A.user)==null?void 0:D.full_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[(R=A.user)==null?void 0:R.user_type,"  ",(U=A.payment_method)==null?void 0:U.type]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:_(A.amount)}),a.jsx(Je,{variant:"secondary",className:"text-xs",children:A.status})]})]},A.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No pending withdrawals"})})})]})]})]}),a.jsxs(Ot,{value:"performance",className:"space-y-6",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Lg,{className:"h-5 w-5"}),"Event Admin Performance"]}),a.jsx(st,{children:"Track event admin performance and revenue generation"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:i.eventAdminPerformance.length>0?i.eventAdminPerformance.map((A,M)=>a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.1},className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:a.jsx(BS,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:A.adminName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:A.eventTitle})]})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold",children:A.ticketsSold}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tickets"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold",children:_(A.revenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"})]}),a.jsx("div",{children:a.jsx(Je,{variant:A.eventStatus==="Active"?"default":"secondary",children:A.eventStatus})})]})]},M)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Lg,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No event admin performance data"})]})})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Fp,{className:"h-5 w-5"}),"System Performance"]}),a.jsx(st,{children:"Key system performance indicators"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"User Engagement"}),a.jsxs("span",{children:[Math.round(r.activeUsers/r.totalUsers*100),"%"]})]}),a.jsx(Cd,{value:r.activeUsers/r.totalUsers*100,className:"h-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Event Success Rate"}),a.jsxs("span",{children:[Math.round(i.activeEvents/i.totalEvents*100),"%"]})]}),a.jsx(Cd,{value:i.activeEvents/i.totalEvents*100,className:"h-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"System Uptime"}),a.jsxs("span",{children:[r.systemUptime,"%"]})]}),a.jsx(Cd,{value:r.systemUptime,className:"h-2"})]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(om,{className:"h-5 w-5"}),"Quick Management Actions"]}),a.jsx(st,{children:"Administrative controls and oversight"})]}),a.jsx(he,{children:a.jsxs("div",{className:"grid gap-3",children:[a.jsxs(be,{variant:"outline",className:"justify-start",children:[a.jsx(Lg,{className:"h-4 w-4 mr-2"}),"Manage Event Admins"]}),a.jsxs(be,{variant:"outline",className:"justify-start",children:[a.jsx(rre,{className:"h-4 w-4 mr-2"}),"Event Oversight"]}),a.jsxs(be,{variant:"outline",className:"justify-start",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Approve Withdrawals"]}),a.jsxs(be,{variant:"outline",className:"justify-start",children:[a.jsx(Or,{className:"h-4 w-4 mr-2"}),"Handle Disputes (",r.pendingDisputes,")"]})]})})]})]})]})]})]})}const Pg=[{value:"passenger",label:"Passenger",icon:wa,color:"bg-blue-500"},{value:"driver",label:"Driver",icon:ls,color:"bg-green-500"},{value:"merchant",label:"Merchant",icon:cu,color:"bg-purple-500"},{value:"event_admin",label:"Event Admin",icon:ja,color:"bg-orange-500"},{value:"admin",label:"Admin",icon:Lg,color:"bg-red-500"}];function UTe(){const{profile:e}=Ht(),{t,language:n}=Ft(),[r,s]=w.useState([]),[i,o]=w.useState([]),[u,m]=w.useState(new Set),[f,g]=w.useState(null),[x,j]=w.useState(!0),[_,C]=w.useState(""),[E,A]=w.useState("all"),[M,D]=w.useState("all"),[R,U]=w.useState("all"),[k,I]=w.useState(!1),[F,V]=w.useState(null),[L,$]=w.useState(!1),[Y,q]=w.useState({full_name:"",email:"",phone_number:"",user_type:"passenger",is_active:!0,language_preference:"en"});w.useEffect(()=>{X(),Q()},[]),w.useEffect(()=>{G()},[r,_,E,M,R]);const X=async()=>{try{j(!0);const{data:ae,error:ue}=await ze.from("profiles").select(`
          *,
          wallets (
            balance
          )
        `).order("created_at",{ascending:!1});if(ue)throw ue;const ce=await Promise.all((ae||[]).map(async ge=>{var Ne,we;const{count:Me}=await ze.from("transactions").select("*",{count:"exact",head:!0}).or(`from_user_id.eq.${ge.id},to_user_id.eq.${ge.id}`);return{...ge,wallet_balance:((we=(Ne=ge.wallets)==null?void 0:Ne[0])==null?void 0:we.balance)||0,total_transactions:Me||0}}));s(ce)}catch(ae){console.error("Error fetching users:",ae),Se.error(t("errorFetchingUsers"))}finally{j(!1)}},Q=async()=>{try{const{data:ae,error:ue}=await ze.from("profiles").select("user_type, is_active, is_verified, created_at");if(ue)throw ue;const ce=new Date,ge=new Date(ce.getFullYear(),ce.getMonth(),1),Me={total_users:ae.length,active_users:ae.filter(Ne=>Ne.is_active).length,verified_users:ae.filter(Ne=>Ne.is_verified).length,new_this_month:ae.filter(Ne=>new Date(Ne.created_at)>=ge).length,by_role:{},by_status:{active:ae.filter(Ne=>Ne.is_active).length,inactive:ae.filter(Ne=>!Ne.is_active).length,verified:ae.filter(Ne=>Ne.is_verified).length,unverified:ae.filter(Ne=>!Ne.is_verified).length}};Pg.forEach(Ne=>{Me.by_role[Ne.value]=ae.filter(we=>we.user_type===Ne.value).length}),g(Me)}catch(ae){console.error("Error fetching user stats:",ae)}},G=()=>{let ae=r;_&&(ae=ae.filter(ue=>ue.full_name.toLowerCase().includes(_.toLowerCase())||ue.email.toLowerCase().includes(_.toLowerCase())||ue.phone_number&&ue.phone_number.includes(_))),E!=="all"&&(ae=ae.filter(ue=>ue.user_type===E)),M!=="all"&&(M==="active"?ae=ae.filter(ue=>ue.is_active):M==="inactive"&&(ae=ae.filter(ue=>!ue.is_active))),R!=="all"&&(R==="verified"?ae=ae.filter(ue=>ue.is_verified):R==="unverified"&&(ae=ae.filter(ue=>!ue.is_verified))),o(ae)},H=(ae,ue)=>{m(ce=>{const ge=new Set(ce);return ue?ge.add(ae):ge.delete(ae),ge})},ee=ae=>{m(ae?new Set(i.map(ue=>ue.id)):new Set)},Z=async(ae,ue)=>{try{const{error:ce}=await ze.from("profiles").update({is_active:ue}).eq("id",ae);if(ce)throw ce;Se.success(t("userStatusUpdated")),X()}catch(ce){console.error("Error updating user status:",ce),Se.error(t("errorUpdatingUser"))}},oe=async(ae,ue)=>{try{const{error:ce}=await ze.from("profiles").update({is_verified:ue}).eq("id",ae);if(ce)throw ce;Se.success(t("userVerificationUpdated")),X()}catch(ce){console.error("Error updating user verification:",ce),Se.error(t("errorUpdatingUser"))}},re=async(ae,ue)=>{try{const{error:ce}=await ze.from("profiles").update({user_type:ue}).eq("id",ae);if(ce)throw ce;Se.success(t("userRoleUpdated")),X()}catch(ce){console.error("Error updating user role:",ce),Se.error(t("errorUpdatingUser"))}},de=async ae=>{if(u.size===0){Se.error(t("selectUsersFirst"));return}try{const ue=Array.from(u);let ce={};switch(ae){case"activate":ce={is_active:!0};break;case"deactivate":ce={is_active:!1};break;case"verify":ce={is_verified:!0};break;case"unverify":ce={is_verified:!1};break;default:return}const{error:ge}=await ze.from("profiles").update(ce).in("id",ue);if(ge)throw ge;Se.success(t("bulkActionCompleted")),m(new Set),X()}catch(ue){console.error("Error performing bulk action:",ue),Se.error(t("errorPerformingBulkAction"))}},xe=ae=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(ae),_e=ae=>new Date(ae).toLocaleDateString(n==="ar"?"ar-SY":"en-US"),ye=ae=>Pg.find(ue=>ue.value===ae)||Pg[0],ke=ae=>ae.is_active?ae.is_verified?a.jsx(Je,{variant:"default",children:"Active"}):a.jsx(Je,{variant:"secondary",children:"Unverified"}):a.jsx(Je,{variant:"destructive",children:"Inactive"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("userManagement")}),a.jsx("p",{className:"text-muted-foreground",children:t("manageAllSystemUsers")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(be,{variant:"outline",onClick:X,children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),t("refresh")]}),a.jsxs(be,{variant:"outline",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),t("export")]})]})]}),f&&a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(fe,{children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wa,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.total_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("totalUsers")})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(BS,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.active_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("activeUsers")})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(eu,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.verified_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("verifiedUsers")})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(XA,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.new_this_month}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("newThisMonth")})]})]})})})]}),a.jsx(fe,{children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{placeholder:t("searchUsers"),value:_,onChange:ae=>C(ae.target.value),className:"pl-9"})]})}),a.jsxs(kt,{value:E,onValueChange:A,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByRole")})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("allRoles")}),Pg.map(ae=>a.jsx(Ee,{value:ae.value,children:t(ae.label.toLowerCase())},ae.value))]})]}),a.jsxs(kt,{value:M,onValueChange:D,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByStatus")})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("allStatuses")}),a.jsx(Ee,{value:"active",children:t("active")}),a.jsx(Ee,{value:"inactive",children:t("inactive")})]})]}),a.jsxs(kt,{value:R,onValueChange:U,children:[a.jsx(It,{className:"w-[180px]",children:a.jsx(Bt,{placeholder:t("filterByVerification")})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:t("allVerification")}),a.jsx(Ee,{value:"verified",children:t("verified")}),a.jsx(Ee,{value:"unverified",children:t("unverified")})]})]})]}),u.size>0&&a.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[a.jsxs("span",{className:"text-sm font-medium",children:[u.size," ",t("usersSelected")]}),a.jsxs("div",{className:"flex space-x-2 ml-auto",children:[a.jsxs(be,{size:"sm",variant:"outline",onClick:()=>de("activate"),children:[a.jsx(BS,{className:"h-4 w-4 mr-1"}),t("activate")]}),a.jsxs(be,{size:"sm",variant:"outline",onClick:()=>de("deactivate"),children:[a.jsx(sae,{className:"h-4 w-4 mr-1"}),t("deactivate")]}),a.jsxs(be,{size:"sm",variant:"outline",onClick:()=>de("verify"),children:[a.jsx(eu,{className:"h-4 w-4 mr-1"}),t("verify")]}),a.jsxs(be,{size:"sm",variant:"outline",onClick:()=>de("unverify"),children:[a.jsx(cs,{className:"h-4 w-4 mr-1"}),t("unverify")]})]})]})]})})}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:t("users")}),a.jsx(st,{children:t("manageUserAccountsAndPermissions")})]}),a.jsx(he,{children:x?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(bm,{children:[a.jsx(wm,{children:a.jsxs(yu,{children:[a.jsx(vn,{className:"w-12",children:a.jsx(du,{checked:u.size===i.length&&i.length>0,onCheckedChange:ee})}),a.jsx(vn,{children:t("user")}),a.jsx(vn,{children:t("role")}),a.jsx(vn,{children:t("status")}),a.jsx(vn,{children:t("wallet")}),a.jsx(vn,{children:t("joined")}),a.jsx(vn,{className:"w-24",children:t("actions")})]})}),a.jsx(jm,{children:a.jsx(Ch,{children:i.map((ae,ue)=>{const ce=ye(ae.user_type),ge=ce.icon;return a.jsxs(He.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:ue*.05},className:"hover:bg-muted/50",children:[a.jsx(yn,{children:a.jsx(du,{checked:u.has(ae.id),onCheckedChange:Me=>H(ae.id,Me)})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[ae.avatar_url?a.jsx("img",{src:ae.avatar_url,alt:ae.full_name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:a.jsx(wa,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:ae.full_name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:ae.email}),ae.phone_number&&a.jsx("div",{className:"text-xs text-muted-foreground",children:ae.phone_number})]})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${ce.color}`}),a.jsx(ge,{className:"h-4 w-4"}),a.jsx("span",{children:t(ce.label.toLowerCase())})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[ke(ae),ae.is_verified&&a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600",children:[a.jsx(Tr,{className:"h-3 w-3"}),a.jsx("span",{children:t("verified")})]})]})}),a.jsx(yn,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:xe(ae.wallet_balance||0)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[ae.total_transactions||0," ",t("transactions")]})]})}),a.jsx(yn,{children:a.jsx("div",{className:"text-sm",children:_e(ae.created_at)})}),a.jsx(yn,{children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>Z(ae.id,!ae.is_active),title:ae.is_active?t("deactivate"):t("activate"),children:ae.is_active?a.jsx(hs,{className:"h-4 w-4"}):a.jsx(Gn,{className:"h-4 w-4"})}),a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>oe(ae.id,!ae.is_verified),title:ae.is_verified?t("unverify"):t("verify"),children:ae.is_verified?a.jsx(cs,{className:"h-4 w-4"}):a.jsx(eu,{className:"h-4 w-4"})}),a.jsxs(kt,{value:ae.user_type,onValueChange:Me=>re(ae.id,Me),children:[a.jsx(It,{className:"w-auto h-8 text-xs",children:a.jsx(lu,{className:"h-3 w-3"})}),a.jsx(Lt,{children:Pg.map(Me=>a.jsx(Ee,{value:Me.value,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Me.icon,{className:"h-4 w-4"}),a.jsx("span",{children:t(Me.label.toLowerCase())})]})},Me.value))})]})]})})]},ae.id)})})})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(wa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noUsersFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("adjustFiltersToSeeUsers")})]})})]})]})}const zTe=()=>{var I;const{user:e}=Ht(),{language:t}=Ft(),[n,r]=w.useState(null),[s,i]=w.useState([]),[o,u]=w.useState([]),[m,f]=w.useState([]),[g,x]=w.useState(!0),[j,_]=w.useState("30"),[C,E]=w.useState("line");w.useEffect(()=>{e&&A()},[e,j]);const A=async()=>{if(e){x(!0);try{const F=$o(new Date,parseInt(j)),V={totalUsers:15420,activeUsers:8930,totalTransactions:45280,totalRevenue:125e4,platformFees:125e3,avgTransactionValue:2760,userGrowthRate:12.5,revenueGrowthRate:18.3},L=[{user_type:"passenger",count:8500,active_count:5200,revenue_generated:68e4},{user_type:"driver",count:2800,active_count:1850,revenue_generated:42e4},{user_type:"merchant",count:3200,active_count:1600,revenue_generated:125e3},{user_type:"event_admin",count:850,active_count:260,revenue_generated:25e3},{user_type:"admin",count:70,active_count:20,revenue_generated:0}],$=[];for(let Q=0;Q<1e3;Q++){const G=new Date(F.getTime()+Math.random()*(new Date().getTime()-F.getTime()));$.push({id:`tx_${Q}`,amount:Math.floor(Math.random()*1e4)+100,fee:Math.floor(Math.random()*100)+10,status:Math.random()>.1?"completed":Math.random()>.5?"pending":"failed",payment_method:["MTN Cash","Syriatel Cash","ShamCash","Card"][Math.floor(Math.random()*4)],user_type:["passenger","driver","merchant","event_admin"][Math.floor(Math.random()*4)],created_at:G.toISOString()})}const Y=[],q=["failed_login","suspicious_transaction","fraud_attempt","security_violation"],X=["low","medium","high","critical"];for(let Q=0;Q<50;Q++){const G=new Date(F.getTime()+Math.random()*(new Date().getTime()-F.getTime()));Y.push({id:`sec_${Q}`,event_type:q[Math.floor(Math.random()*q.length)],severity:X[Math.floor(Math.random()*X.length)],user_id:Math.random()>.3?`user_${Math.floor(Math.random()*1e3)}`:void 0,details:"Security event detected by automated monitoring system",created_at:G.toISOString()})}r(V),i(L),u($),f(Y)}catch(F){console.error("Error fetching system analytics:",F)}finally{x(!1)}}},M=()=>{const F=new Map;return o.filter(V=>V.status==="completed").forEach(V=>{const L=fr(ia(V.created_at),"yyyy-MM-dd"),$=F.get(L)||{revenue:0,transactions:0,fees:0};F.set(L,{revenue:$.revenue+V.amount,transactions:$.transactions+1,fees:$.fees+V.fee})}),Array.from(F.entries()).map(([V,L])=>({date:fr(ia(V),"MMM dd",{locale:t==="ar"?Mp:void 0}),revenue:L.revenue,transactions:L.transactions,fees:L.fees})).sort((V,L)=>V.date.localeCompare(L.date))},D=()=>{const F={passenger:"#8884d8",driver:"#82ca9d",merchant:"#ffc658",event_admin:"#ff7c7c",admin:"#8dd1e1"};return s.map(V=>({name:V.user_type.charAt(0).toUpperCase()+V.user_type.slice(1),total:V.count,active:V.active_count,revenue:V.revenue_generated,color:F[V.user_type]}))},R=()=>{const F=new Map;return o.forEach(V=>{const L=V.payment_method,$=F.get(L)||{transactions:0,revenue:0};F.set(L,{transactions:$.transactions+1,revenue:$.revenue+(V.status==="completed"?V.amount:0),successRate:0})}),F.forEach((V,L)=>{const $=o.filter(q=>q.payment_method===L),Y=$.filter(q=>q.status==="completed").length;V.successRate=$.length>0?Y/$.length*100:0}),Array.from(F.entries()).map(([V,L])=>({name:V,transactions:L.transactions,revenue:L.revenue,successRate:L.successRate})).sort((V,L)=>L.revenue-V.revenue)},U=()=>{const F=new Map,V=new Map;m.forEach(Y=>{F.set(Y.event_type,(F.get(Y.event_type)||0)+1),V.set(Y.severity,(V.get(Y.severity)||0)+1)});const L=m.filter(Y=>Wv(ia(Y.created_at))),$=m.filter(Y=>Y.severity==="critical");return{totalEvents:m.length,todayEvents:L.length,criticalEvents:$.length,eventTypes:Array.from(F.entries()).map(([Y,q])=>({type:Y,count:q})),severityDistribution:Array.from(V.entries()).map(([Y,q])=>({severity:Y,count:q}))}},k=()=>{const F={metadata:{exportDate:new Date().toISOString(),dateRange:`${j} days`,adminId:e==null?void 0:e.id,generatedBy:"Tickets System Analytics"},platformMetrics:n,userActivity:s,revenueTrend:M(),paymentMethods:R(),securityAnalysis:U(),rawData:{transactions:o.length,securityEvents:m.length}},V=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),L=URL.createObjectURL(V),$=document.createElement("a");$.href=L,$.download=`system-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,$.click(),URL.revokeObjectURL(L)};return g||!n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Platform-wide business intelligence and performance monitoring"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:j,onChange:F=>_(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(be,{onClick:k,variant:"outline",size:"sm",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(wa,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers.toLocaleString()}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[a.jsx(qn,{className:"h-3 w-3 text-green-600 mr-1"}),a.jsxs("span",{className:"text-green-600",children:[n.userGrowthRate,"% growth"]})]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Platform Revenue"}),a.jsx(sr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(he,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n.totalRevenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[a.jsx(qn,{className:"h-3 w-3 text-green-600 mr-1"}),a.jsxs("span",{className:"text-green-600",children:[n.revenueGrowthRate,"% vs last period"]})]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Active Users"}),a.jsx(WA,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers.toLocaleString()}),a.jsxs("p",{className:"text-xs text-gray-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"% of total users"]})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Security Events"}),a.jsx(cs,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:U().totalEvents}),a.jsxs("p",{className:"text-xs text-gray-600",children:[U().criticalEvents," critical events"]})]})]})]}),a.jsxs(xi,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Et,{value:"overview",children:"Overview"}),a.jsx(Et,{value:"users",children:"Users"}),a.jsx(Et,{value:"revenue",children:"Revenue"}),a.jsx(Et,{value:"payments",children:"Payments"}),a.jsx(Et,{value:"security",children:"Security"}),a.jsx(Et,{value:"insights",children:"Insights"})]}),a.jsx(Ot,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Platform Performance"}),a.jsx(st,{children:"Key metrics overview"})]}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Transactions"}),a.jsx("span",{className:"font-semibold",children:n.totalTransactions.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Transaction Value"}),a.jsxs("span",{className:"font-semibold",children:[n.avgTransactionValue.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Platform Fees Collected"}),a.jsxs("span",{className:"font-semibold",children:[n.platformFees.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("span",{className:"font-semibold",children:[(o.filter(F=>F.status==="completed").length/o.length*100).toFixed(1),"%"]})]})]})})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"User Distribution"})}),a.jsx(he,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(js,{width:"100%",height:"100%",children:a.jsxs(Dy,{children:[a.jsx(Yh,{data:D(),cx:"50%",cy:"50%",outerRadius:80,dataKey:"total",label:({name:F,percent:V})=>`${F}: ${((V||0)*100).toFixed(0)}%`,children:D().map((F,V)=>a.jsx(vu,{fill:F.color},`cell-${V}`))}),a.jsx(Er,{})]})})})})]})]})}),a.jsx(Ot,{value:"users",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"User Activity by Type"}),a.jsx(st,{children:"User counts and activity levels across different user types"})]}),a.jsx(he,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(js,{width:"100%",height:"100%",children:a.jsxs(Qo,{data:D(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"name"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(F,V)=>[F,V==="total"?"Total Users":V==="active"?"Active Users":"Revenue Generated"]}),a.jsx(Pa,{}),a.jsx(Gr,{dataKey:"total",fill:"#8884d8"}),a.jsx(Gr,{dataKey:"active",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"revenue",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:"Revenue Trend"}),a.jsx(st,{children:"Daily platform revenue and transaction volume"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:C==="line"?"default":"outline",size:"sm",onClick:()=>E("line"),children:"Line"}),a.jsx(be,{variant:C==="area"?"default":"outline",size:"sm",onClick:()=>E("area"),children:"Area"}),a.jsx(be,{variant:C==="bar"?"default":"outline",size:"sm",onClick:()=>E("bar"),children:"Bar"})]})]}),a.jsx(he,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(js,{width:"100%",height:"100%",children:C==="line"?a.jsxs(Op,{data:M(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(Pa,{}),a.jsx(Bi,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"fees",stroke:"#82ca9d",strokeWidth:2}),a.jsx(Bi,{type:"monotone",dataKey:"transactions",stroke:"#ffc658",strokeWidth:2})]}):C==="area"?a.jsxs(Z1,{data:M(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(Pa,{}),a.jsx(zd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),a.jsx(zd,{type:"monotone",dataKey:"fees",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]}):a.jsxs(Qo,{data:M(),children:[a.jsx(oa,{strokeDasharray:"3 3"}),a.jsx(Kr,{dataKey:"date"}),a.jsx(Xr,{}),a.jsx(Er,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(Pa,{}),a.jsx(Gr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Gr,{dataKey:"fees",fill:"#82ca9d"})]})})})})]})}),a.jsx(Ot,{value:"payments",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Payment Methods Performance"}),a.jsx(st,{children:"Usage and success rates by payment method"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:R().map((F,V)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xg,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:F.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[F.transactions," transactions  ",F.successRate.toFixed(1),"% success rate"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[F.revenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${F.successRate>=95?"bg-green-500":F.successRate>=90?"bg-yellow-500":"bg-red-500"}`,style:{width:`${F.successRate}%`}})}),a.jsxs("span",{className:"text-xs text-gray-600",children:[F.successRate.toFixed(0),"%"]})]})]})]},F.name))})})]})}),a.jsx(Ot,{value:"security",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:"Security Events"}),a.jsx(st,{children:"Recent security incidents and alerts"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Total Events (last ",j," days)"]}),a.jsx("span",{className:"font-semibold",children:U().totalEvents})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Today's Events"}),a.jsx("span",{className:"font-semibold",children:U().todayEvents})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Critical Events"}),a.jsx("span",{className:"font-semibold text-red-600",children:U().criticalEvents})]})]}),U().criticalEvents>0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[a.jsx(Or,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"Immediate attention required for critical security events"})]})]})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Event Types"})}),a.jsx(he,{children:a.jsx("div",{className:"space-y-2",children:U().eventTypes.map((F,V)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:"text-sm capitalize",children:F.type.replace("_"," ")}),a.jsx(Je,{variant:"outline",children:F.count})]},F.type))})})]})]})}),a.jsx(Ot,{value:"insights",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"Business Intelligence"})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Revenue per Active User"}),a.jsxs("span",{className:"font-bold text-green-600",children:[(n.totalRevenue/n.activeUsers).toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Platform Commission Rate"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[(n.platformFees/n.totalRevenue*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"User Engagement Rate"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Strategic Insights"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[n.userGrowthRate>10&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(qn,{className:"h-4 w-4"}),a.jsx("span",{children:"Strong user growth indicates healthy market demand"})]}),n.activeUsers/n.totalUsers*100<60&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(om,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on user activation and engagement strategies"})]}),U().criticalEvents>5&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(cs,{className:"h-4 w-4"}),a.jsx("span",{children:"Elevated security monitoring recommended"})]})]})]})]})]}),a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsx(Oe,{children:"System Health"})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:n.platformFees.toLocaleString()}),a.jsx("p",{className:"text-green-100",children:"Platform Fees Collected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("h4",{className:"text-xl font-bold",children:[(o.filter(F=>F.status==="completed").length/o.length*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:n.avgTransactionValue.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Transaction"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Most active user type:"}),a.jsx("span",{className:"font-semibold",children:D().reduce((F,V)=>V.active>F.active?V:F).name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Highest revenue user type:"}),a.jsx("span",{className:"font-semibold",children:D().reduce((F,V)=>V.revenue>F.revenue?V:F).name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Top payment method:"}),a.jsx("span",{className:"font-semibold",children:((I=R()[0])==null?void 0:I.name)||"N/A"})]})]})]})]})})]})]})})]})]})};function VTe(){const{profile:e}=Ht(),{t}=Ft(),[n,r]=w.useState([]),[s,i]=w.useState({total:0,open:0,inProgress:0,resolved:0,averageResolutionTime:0}),[o,u]=w.useState(!0),[m,f]=w.useState(""),[g,x]=w.useState("all"),[j,_]=w.useState("all"),[C,E]=w.useState(null),[A,M]=w.useState(!1),[D,R]=w.useState(""),[U,k]=w.useState(""),[I,F]=w.useState(""),[V,L]=w.useState(""),[$,Y]=w.useState(!1),[q,X]=w.useState([]);w.useEffect(()=>{e&&(Q(),G())},[e]),w.useEffect(()=>{H()},[n]);const Q=async()=>{try{u(!0);const{data:ye,error:ke}=await ze.from("disputes").select(`
          *,
          reporter:profiles!disputes_reported_by_fkey (
            full_name,
            email,
            user_type
          ),
          assigned_admin:profiles!disputes_assigned_to_fkey (
            full_name,
            email
          ),
          transaction:transactions (
            amount,
            transaction_type,
            created_at
          )
        `).order("created_at",{ascending:!1});if(ke)throw ke;r(ye||[])}catch(ye){console.error("Error fetching disputes:",ye),Se.error("Failed to load disputes")}finally{u(!1)}},G=async()=>{try{const{data:ye,error:ke}=await ze.from("profiles").select("id, full_name, email").eq("user_type","admin").eq("is_active",!0);if(ke)throw ke;X(ye||[])}catch(ye){console.error("Error fetching admins:",ye)}},H=()=>{const ye=n.length,ke=n.filter(Me=>Me.status==="open").length,ae=n.filter(Me=>Me.status==="in_progress").length,ue=n.filter(Me=>Me.status==="resolved"||Me.status==="closed").length,ce=n.filter(Me=>Me.resolved_at),ge=ce.length>0?ce.reduce((Me,Ne)=>{const we=new Date(Ne.created_at),Ke=new Date(Ne.resolved_at);return Me+(Ke.getTime()-we.getTime())},0)/ce.length/(1e3*60*60*24):0;i({total:ye,open:ke,inProgress:ae,resolved:ue,averageResolutionTime:ge})},ee=n.filter(ye=>{var ce;const ke=ye.description.toLowerCase().includes(m.toLowerCase())||ye.dispute_type.toLowerCase().includes(m.toLowerCase())||((ce=ye.reporter)==null?void 0:ce.full_name.toLowerCase().includes(m.toLowerCase())),ae=g==="all"||ye.status===g,ue=j==="all"||ye.priority===j;return ke&&ae&&ue}),Z=async()=>{if(C){Y(!0);try{const ye={};D.trim()&&(ye.admin_notes=D),U.trim()&&(ye.resolution=U),I&&(ye.assigned_to=I),V&&(ye.status=V,(V==="resolved"||V==="closed")&&(ye.resolved_at=new Date().toISOString())),ye.updated_at=new Date().toISOString();const{error:ke}=await ze.from("disputes").update(ye).eq("id",C.id);if(ke)throw ke;Se.success("Dispute updated successfully"),M(!1),Q(),oe()}catch(ye){console.error("Error updating dispute:",ye),Se.error("Failed to update dispute")}finally{Y(!1)}}},oe=()=>{R(""),k(""),F(""),L(""),E(null)},re=ye=>{E(ye),R(ye.admin_notes||""),k(ye.resolution||""),F(ye.assigned_to||""),L(ye.status),M(!0)},de=ye=>{switch(ye){case"open":return"bg-red-500";case"in_progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},xe=ye=>{switch(ye){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},_e=ye=>{switch(ye){case"open":return Or;case"in_progress":return Hn;case"resolved":return Tr;case"closed":return ou;default:return pv}};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dispute Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Handle user disputes and complaints efficiently"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(be,{variant:"outline",children:[a.jsx(Up,{className:"h-4 w-4 mr-2"}),"Export Report"]}),a.jsxs(be,{variant:"outline",children:[a.jsx(lu,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Total Disputes"}),a.jsx(pv,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Open"}),a.jsx(Or,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.open}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"In Progress"}),a.jsx(Hn,{className:"h-4 w-4 text-yellow-500"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.inProgress}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Being handled"})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Resolved"}),a.jsx(Tr,{className:"h-4 w-4 text-green-500"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.resolved}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]}),a.jsxs(fe,{children:[a.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Oe,{className:"text-sm font-medium",children:"Avg Resolution"}),a.jsx(Kre,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.averageResolutionTime.toFixed(1)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Days"})]})]})]}),a.jsx(fe,{children:a.jsx(he,{className:"pt-6",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),a.jsx(ut,{placeholder:"Search disputes...",value:m,onChange:ye=>f(ye.target.value),className:"pl-10"})]}),a.jsxs(kt,{value:g,onValueChange:x,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Filter by status"})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:"All Statuses"}),a.jsx(Ee,{value:"open",children:"Open"}),a.jsx(Ee,{value:"in_progress",children:"In Progress"}),a.jsx(Ee,{value:"resolved",children:"Resolved"}),a.jsx(Ee,{value:"closed",children:"Closed"})]})]}),a.jsxs(kt,{value:j,onValueChange:_,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Filter by priority"})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:"All Priorities"}),a.jsx(Ee,{value:"high",children:"High"}),a.jsx(Ee,{value:"medium",children:"Medium"}),a.jsx(Ee,{value:"low",children:"Low"})]})]}),a.jsxs(be,{variant:"outline",children:[a.jsx(im,{className:"h-4 w-4 mr-2"}),"Advanced Filter"]})]})})}),a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{children:["Disputes (",ee.length,")"]}),a.jsx(st,{children:"Manage and resolve user disputes"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map((ye,ke)=>{var ue,ce,ge,Me,Ne;const ae=_e(ye.status);return a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ke*.1},className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ae,{className:"h-4 w-4"}),a.jsx("h4",{className:"font-medium",children:ye.dispute_type})]}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ye.description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:(ue=ye.reporter)==null?void 0:ue.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:(ce=ye.reporter)==null?void 0:ce.email}),a.jsx(Je,{variant:"outline",className:"text-xs mt-1",children:(ge=ye.reporter)==null?void 0:ge.user_type})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs(Je,{variant:xe(ye.priority),className:"text-xs",children:[ye.priority," priority"]}),a.jsx(Je,{className:`text-white text-xs ${de(ye.status)}`,children:ye.status})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Lh(new Date(ye.created_at),{addSuffix:!0})})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(pr,{open:A&&(C==null?void 0:C.id)===ye.id,onOpenChange:we=>{M(we),we||oe()},children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{variant:"outline",size:"sm",onClick:()=>re(ye),children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"View"]})}),a.jsxs(xr,{className:"max-w-4xl",children:[a.jsxs(vr,{children:[a.jsx(yr,{children:"Dispute Details"}),a.jsx(Qr,{children:"Manage and resolve this dispute"})]}),C&&a.jsxs("div",{className:"grid gap-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Dispute Type"}),a.jsx("p",{className:"text-sm font-medium",children:C.dispute_type})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Reporter"}),a.jsx("p",{className:"text-sm font-medium",children:(Me=C.reporter)==null?void 0:Me.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:(Ne=C.reporter)==null?void 0:Ne.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Status"}),a.jsxs(kt,{value:V,onValueChange:L,children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"open",children:"Open"}),a.jsx(Ee,{value:"in_progress",children:"In Progress"}),a.jsx(Ee,{value:"resolved",children:"Resolved"}),a.jsx(Ee,{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Assign To"}),a.jsxs(kt,{value:I,onValueChange:F,children:[a.jsx(It,{children:a.jsx(Bt,{placeholder:"Select admin"})}),a.jsx(Lt,{children:q.map(we=>a.jsx(Ee,{value:we.id,children:we.full_name},we.id))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{children:"Description"}),a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm",children:C.description})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"admin-notes",children:"Admin Notes"}),a.jsx(Es,{id:"admin-notes",placeholder:"Add notes about this dispute...",value:D,onChange:we=>R(we.target.value),rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"resolution",children:"Resolution"}),a.jsx(Es,{id:"resolution",placeholder:"Describe how this dispute was resolved...",value:U,onChange:we=>k(we.target.value),rows:3})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(be,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),a.jsx(be,{onClick:Z,disabled:$,children:$?"Updating...":"Update Dispute"})]})]})]})]})})]})},ye.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(pv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:"No disputes found"}),a.jsx("p",{className:"text-muted-foreground",children:"No disputes match your current filters"})]})})})]})]})}const $Te=({url:e,title:t,type:n})=>{const r=n.includes("image");return a.jsxs(pr,{children:[a.jsx(mi,{asChild:!0,children:a.jsxs(be,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[a.jsx(Gn,{className:"w-4 h-4"}),"View"]})}),a.jsxs(xr,{className:"max-w-3xl max-h-[90vh]",children:[a.jsx(vr,{children:a.jsx(yr,{children:t})}),a.jsx("div",{className:"flex justify-center items-center p-4 max-h-[70vh] overflow-auto",children:r?a.jsx("img",{src:e,alt:t,className:"max-w-full max-h-full object-contain rounded-lg"}):a.jsx("iframe",{src:e,title:t,className:"w-full h-96 border rounded-lg"})})]})]})};function HTe(){const{user:e}=Ht(),{t}=Ft(),[n,r]=w.useState([]),[s,i]=w.useState(null),[o,u]=w.useState(!0),[m,f]=w.useState(!1),[g,x]=w.useState("pending"),[j,_]=w.useState(!1),[C,E]=w.useState("approve"),[A,M]=w.useState("");w.useEffect(()=>{D()},[]);const D=async()=>{u(!0);try{const{data:L,error:$}=await ze.from("driver_profiles").select(`
          *,
          profiles!driver_profiles_user_id_fkey (
            full_name,
            email,
            phone_number,
            created_at
          )
        `).neq("verification_status","not_submitted").order("updated_at",{ascending:!1});if($)throw $;const Y=(L==null?void 0:L.map(q=>{var X,Q,G,H;return{...q,full_name:((X=q.profiles)==null?void 0:X.full_name)||"Unknown",email:((Q=q.profiles)==null?void 0:Q.email)||"",phone_number:(G=q.profiles)==null?void 0:G.phone_number,user_created_at:((H=q.profiles)==null?void 0:H.created_at)||q.created_at}}))||[];r(Y)}catch(L){console.error("Error fetching submissions:",L),Se.error(t("common.error"))}finally{u(!1)}},R=async()=>{if(s){f(!0);try{const{error:L}=await ze.from("driver_profiles").update({verification_status:C,updated_at:new Date().toISOString()}).eq("user_id",s.user_id);if(L)throw L;await ze.from("notifications").insert({user_id:s.user_id,notification_type:"system",title:C==="approve"?"Verification Approved":"Verification Rejected",message:C==="approve"?"Congratulations! Your driver verification has been approved. You can now start accepting passengers.":`Your verification was rejected. ${A||"Please review your documents and resubmit."}`,metadata:{verification_status:C,review_notes:A,reviewer_id:e==null?void 0:e.id}}),Se.success(`Driver verification ${C}d successfully`),_(!1),i(null),M(""),await D()}catch(L){console.error("Error reviewing submission:",L),Se.error(t("common.error"))}finally{f(!1)}}},U=L=>{switch(L){case"approved":return a.jsx(Tr,{className:"w-5 h-5 text-green-500"});case"rejected":return a.jsx(ou,{className:"w-5 h-5 text-red-500"});case"pending":return a.jsx(Hn,{className:"w-5 h-5 text-yellow-500"});default:return a.jsx(Or,{className:"w-5 h-5 text-gray-500"})}},k=L=>{const $={pending:"default",approved:"default",rejected:"destructive"};return a.jsxs(Je,{variant:$[L],className:"flex items-center gap-1",children:[U(L),t(`driver.verification.status.${L}`)]})},I=n.filter(L=>g==="all"?!0:L.verification_status===g),V={pending:n.filter(L=>L.verification_status==="pending").length,approved:n.filter(L=>L.verification_status==="approved").length,rejected:n.filter(L=>L.verification_status==="rejected").length,all:n.length};return o?a.jsxs("div",{className:"flex justify-center p-8",children:[t("common.loading"),"..."]}):a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Driver Verification Review"}),a.jsx("p",{className:"text-muted-foreground",children:"Review and approve driver verification submissions"})]}),a.jsxs(xi,{value:g,onValueChange:x,className:"w-full",children:[a.jsxs(Hs,{className:"grid w-full grid-cols-4",children:[a.jsxs(Et,{value:"pending",className:"flex items-center gap-2",children:["Pending ",V.pending>0&&a.jsx(Je,{variant:"outline",children:V.pending})]}),a.jsxs(Et,{value:"approved",className:"flex items-center gap-2",children:["Approved ",V.approved>0&&a.jsx(Je,{variant:"outline",children:V.approved})]}),a.jsxs(Et,{value:"rejected",className:"flex items-center gap-2",children:["Rejected ",V.rejected>0&&a.jsx(Je,{variant:"outline",children:V.rejected})]}),a.jsxs(Et,{value:"all",className:"flex items-center gap-2",children:["All ",V.all>0&&a.jsx(Je,{variant:"outline",children:V.all})]})]}),a.jsx(Ot,{value:g,className:"mt-6",children:I.length===0?a.jsx(fe,{children:a.jsxs(he,{className:"p-8 text-center",children:[a.jsx(Or,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No submissions found for this status."})]})}):a.jsx("div",{className:"space-y-4",children:I.map(L=>a.jsxs(fe,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(uu,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:L.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:L.email}),L.phone_number&&a.jsx("p",{className:"text-sm text-muted-foreground",children:L.phone_number})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[k(L.verification_status),a.jsx(be,{variant:"outline",onClick:()=>i(L),children:"Review Details"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ls,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:[L.vehicle_type," - ",L.vehicle_model]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:["License: ",L.license_number]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zo,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{children:L.route_name||"No route specified"})]})]}),a.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Submitted: ",new Date(L.updated_at).toLocaleDateString()," at ",new Date(L.updated_at).toLocaleTimeString()]})]},L.id))})})]}),s&&a.jsx(pr,{open:!!s,onOpenChange:()=>i(null),children:a.jsxs(xr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(vr,{children:[a.jsxs(yr,{className:"flex items-center gap-2",children:[a.jsx(uu,{className:"w-5 h-5"}),s.full_name," - Verification Review"]}),a.jsx(Qr,{children:"Review driver information and documents for verification approval"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Driver Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:s.full_name})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-medium",children:s.email})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Phone"}),a.jsx("p",{className:"font-medium",children:s.phone_number||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Account Created"}),a.jsx("p",{className:"font-medium",children:new Date(s.user_created_at).toLocaleDateString()})]})]})]}),a.jsx(hi,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Vehicle Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"License Number"}),a.jsx("p",{className:"font-medium",children:s.license_number})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"License Expiry"}),a.jsx("p",{className:"font-medium",children:s.license_expiry})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Vehicle Type"}),a.jsx("p",{className:"font-medium",children:s.vehicle_type})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Vehicle Model"}),a.jsx("p",{className:"font-medium",children:s.vehicle_model})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Vehicle Plate"}),a.jsx("p",{className:"font-medium",children:s.vehicle_plate})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Route"}),a.jsx("p",{className:"font-medium",children:s.route_name||"Not specified"})]})]}),s.route_description&&a.jsxs("div",{className:"mt-3",children:[a.jsx(Ve,{className:"text-muted-foreground",children:"Route Description"}),a.jsx("p",{className:"text-sm mt-1",children:s.route_description})]})]}),a.jsx(hi,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Uploaded Documents"}),s.verification_documents?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(s.verification_documents).map(([L,$])=>{const q=(X=>X.includes("license")?ba:X.includes("vehicle")?ls:Up)(L);return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(q,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:t(`driver.verification.documentTypes.${L}`)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Uploaded: ",new Date($.uploaded_at).toLocaleDateString()]}),a.jsx($Te,{url:$.url,title:t(`driver.verification.documentTypes.${L}`),type:$.url.includes(".pdf")?"application/pdf":"image"})]})]},L)})}):a.jsx("p",{className:"text-muted-foreground",children:"No documents uploaded"})]}),s.verification_status==="pending"&&a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(be,{onClick:()=>{E("approve"),_(!0)},className:"flex-1",children:[a.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Approve Verification"]}),a.jsxs(be,{variant:"destructive",onClick:()=>{E("reject"),_(!0)},className:"flex-1",children:[a.jsx(ou,{className:"w-4 h-4 mr-2"}),"Reject Verification"]})]})]})]})}),a.jsx(pr,{open:j,onOpenChange:_,children:a.jsxs(xr,{children:[a.jsxs(vr,{children:[a.jsxs(yr,{children:[C==="approve"?"Approve":"Reject"," Driver Verification"]}),a.jsx(Qr,{children:C==="approve"?"This will approve the driver verification and allow them to start accepting passengers.":"This will reject the driver verification. Please provide feedback for the driver."})]}),C==="reject"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ve,{htmlFor:"review-notes",children:"Feedback for Driver"}),a.jsx(Es,{id:"review-notes",value:A,onChange:L=>M(L.target.value),placeholder:"Explain why the verification was rejected and what needs to be corrected...",rows:4})]}),a.jsxs(DF,{children:[a.jsx(be,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),a.jsx(be,{onClick:R,disabled:m||C==="reject"&&!A.trim(),variant:C==="approve"?"default":"destructive",children:m?"Processing...":`${C==="approve"?"Approve":"Reject"} Verification`})]})]})})]})}const qTe=()=>{const{createNotification:e}=nA(),{language:t}=Ft(),[n,r]=w.useState({title:"",message:"",type:"info",priority:"normal",target_roles:[],target_users:[]}),[s,i]=w.useState([]),[o,u]=w.useState([]),[m,f]=w.useState({}),[g,x]=w.useState([]),[j,_]=w.useState(""),[C,E]=w.useState(!1),[A,M]=w.useState(!1),[D,R]=w.useState(!1);w.useEffect(()=>{U(),k()},[]),w.useEffect(()=>{let H=s;if(m.role&&(H=H.filter(ee=>ee.role===m.role)),m.is_verified!==void 0&&(H=H.filter(ee=>ee.is_verified===m.is_verified)),m.is_active!==void 0&&(H=H.filter(ee=>ee.is_active===m.is_active)),m.search){const ee=m.search.toLowerCase();H=H.filter(Z=>Z.full_name.toLowerCase().includes(ee)||Z.email.toLowerCase().includes(ee))}u(H)},[s,m]);const U=async()=>{E(!0);try{const{data:H,error:ee}=await ze.from("profiles").select("*").order("full_name");if(ee){console.error("Error fetching users:",ee),Se.error("Failed to load users");return}i(H||[])}catch(H){console.error("Error fetching users:",H),Se.error("Failed to load users")}finally{E(!1)}},k=async()=>{try{const{data:H,error:ee}=await ze.from("notification_templates").select("*").eq("is_active",!0).order("name");if(ee){console.error("Error fetching templates:",ee);return}x(H||[])}catch(H){console.error("Error fetching templates:",H)}},I=H=>{const ee=g.find(Z=>Z.id===H);ee&&(r(Z=>({...Z,title:ee.title_template,message:ee.message_template,type:ee.type,priority:ee.priority,action_url:ee.action_url_template,action_label:ee.action_label})),_(H))},F=H=>{r(ee=>({...ee,target_roles:ee.target_roles.includes(H)?ee.target_roles.filter(Z=>Z!==H):[...ee.target_roles,H]}))},V=H=>{r(ee=>({...ee,target_users:ee.target_users.includes(H)?ee.target_users.filter(Z=>Z!==H):[...ee.target_users,H]}))},L=()=>{const H=o.map(ee=>ee.id);r(ee=>({...ee,target_users:ee.target_users.length===H.length?[]:H}))},$=()=>{let H=[...n.target_users];if(n.target_roles.length>0){const ee=s.filter(Z=>n.target_roles.includes(Z.role));H=[...H,...ee.map(Z=>Z.id)]}return[...new Set(H)]},Y=async()=>{if(!n.title.trim()||!n.message.trim()){Se.error("Please fill in title and message");return}const H=$();if(H.length===0){Se.error("Please select at least one recipient");return}M(!0);try{await e({user_ids:H,title:n.title,message:n.message,type:n.type,priority:n.priority,action_url:n.action_url,action_label:n.action_label})&&(Se.success(`Notification sent to ${H.length} users`),r({title:"",message:"",type:"info",priority:"normal",target_roles:[],target_users:[]}),_(""))}catch(ee){console.error("Error sending notification:",ee),Se.error("Failed to send notification")}finally{M(!1)}},q=async()=>{var ee;if(!n.title.trim()||!n.message.trim()){Se.error("Please fill in title and message");return}const H=prompt("Enter template name:");if(H)try{const{error:Z}=await ze.from("notification_templates").insert({name:H,title_template:n.title,message_template:n.message,type:n.type,priority:n.priority,action_url_template:n.action_url,action_label:n.action_label,variables:[],created_by:(ee=(await ze.auth.getUser()).data.user)==null?void 0:ee.id});if(Z){console.error("Error saving template:",Z),Se.error("Failed to save template");return}Se.success("Template saved successfully"),k()}catch(Z){console.error("Error saving template:",Z),Se.error("Failed to save template")}},X=$(),G={en:{title:"Broadcast Notifications",description:"Send notifications to multiple users",compose:"Compose",templates:"Templates",recipients:"Recipients",preview:"Preview",notificationTitle:"Notification Title",notificationMessage:"Message Content",type:"Type",priority:"Priority",actionUrl:"Action URL (optional)",actionLabel:"Action Button Label",targetRoles:"Target User Roles",targetUsers:"Specific Users",searchUsers:"Search users...",selectAll:"Select All",selected:"selected",sendNotification:"Send Notification",saveTemplate:"Save as Template",loadTemplate:"Load Template",sending:"Sending...",noTemplates:"No templates available",noUsers:"No users found",scheduledFor:"Schedule for later",expiresAt:"Expires at"},ar:{title:" ",description:"   ",compose:"",templates:"",recipients:"",preview:"",notificationTitle:" ",notificationMessage:" ",type:"",priority:"",actionUrl:"  ()",actionLabel:"  ",targetRoles:"  ",targetUsers:" ",searchUsers:"  ...",selectAll:" ",selected:"",sendNotification:" ",saveTemplate:" ",loadTemplate:" ",sending:" ...",noTemplates:"   ",noUsers:"    ",scheduledFor:"  ",expiresAt:" "}}[t];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(DS,{className:"h-6 w-6"}),G.title]}),a.jsx("p",{className:"text-muted-foreground",children:G.description})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs(xi,{defaultValue:"compose",className:"space-y-4",children:[a.jsxs(Hs,{children:[a.jsx(Et,{value:"compose",children:G.compose}),a.jsx(Et,{value:"templates",children:G.templates})]}),a.jsx(Ot,{value:"compose",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:G.compose}),a.jsx(st,{children:"Create and send a notification"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"title",children:G.notificationTitle}),a.jsx(ut,{id:"title",value:n.title,onChange:H=>r(ee=>({...ee,title:H.target.value})),placeholder:"Enter notification title..."})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"message",children:G.notificationMessage}),a.jsx(Es,{id:"message",value:n.message,onChange:H=>r(ee=>({...ee,message:H.target.value})),placeholder:"Enter notification message...",rows:4})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{children:G.type}),a.jsxs(kt,{value:n.type,onValueChange:H=>r(ee=>({...ee,type:H})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"info",children:"Info"}),a.jsx(Ee,{value:"success",children:"Success"}),a.jsx(Ee,{value:"warning",children:"Warning"}),a.jsx(Ee,{value:"error",children:"Error"}),a.jsx(Ee,{value:"system",children:"System"}),a.jsx(Ee,{value:"ticket",children:"Ticket"}),a.jsx(Ee,{value:"payment",children:"Payment"}),a.jsx(Ee,{value:"refund",children:"Refund"}),a.jsx(Ee,{value:"event",children:"Event"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{children:G.priority}),a.jsxs(kt,{value:n.priority,onValueChange:H=>r(ee=>({...ee,priority:H})),children:[a.jsx(It,{children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"low",children:"Low"}),a.jsx(Ee,{value:"normal",children:"Normal"}),a.jsx(Ee,{value:"high",children:"High"}),a.jsx(Ee,{value:"urgent",children:"Urgent"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"actionUrl",children:G.actionUrl}),a.jsx(ut,{id:"actionUrl",value:n.action_url||"",onChange:H=>r(ee=>({...ee,action_url:H.target.value})),placeholder:"/dashboard/tickets"})]}),a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"actionLabel",children:G.actionLabel}),a.jsx(ut,{id:"actionLabel",value:n.action_label||"",onChange:H=>r(ee=>({...ee,action_label:H.target.value})),placeholder:"View Details"})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(be,{variant:"outline",onClick:q,children:[a.jsx(g7,{className:"h-4 w-4 mr-2"}),G.saveTemplate]}),a.jsxs(be,{onClick:Y,disabled:A||X.length===0,children:[a.jsx(Md,{className:"h-4 w-4 mr-2"}),A?G.sending:G.sendNotification]})]})]})]})}),a.jsx(Ot,{value:"templates",className:"space-y-4",children:a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsx(Oe,{children:G.templates}),a.jsx(st,{children:"Load from saved templates"})]}),a.jsx(he,{children:g.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:G.noTemplates}):a.jsx("div",{className:"space-y-2",children:g.map(H=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 border rounded-lg cursor-pointer transition-colors ${j===H.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>I(H.id),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:H.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:H.title_template})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{variant:"secondary",children:H.type}),a.jsx(Je,{variant:"outline",children:H.priority})]})]})},H.id))})})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(fe,{children:[a.jsxs(Te,{children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(om,{className:"h-5 w-5"}),G.recipients]}),a.jsxs(st,{children:[X.length," users selected"]})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{children:G.targetRoles}),a.jsx("div",{className:"space-y-2 mt-2",children:["passenger","driver","merchant","event_admin"].map(H=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(du,{id:H,checked:n.target_roles.includes(H),onCheckedChange:()=>F(H)}),a.jsx(Ve,{htmlFor:H,className:"capitalize",children:H.replace("_"," ")})]},H))})]}),a.jsx(hi,{}),a.jsxs("div",{children:[a.jsx(Ve,{children:G.targetUsers}),a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{placeholder:G.searchUsers,value:m.search||"",onChange:H=>f(ee=>({...ee,search:H.target.value})),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(be,{variant:"outline",size:"sm",onClick:L,children:[G.selectAll," (",o.length,")"]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.target_users.length," ",G.selected]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border rounded-md p-2",children:o.map(H=>a.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded",children:[a.jsx(du,{checked:n.target_users.includes(H.id),onCheckedChange:()=>V(H.id)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:H.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:H.email})]}),a.jsx(Je,{variant:"outline",className:"text-xs",children:H.role})]},H.id))})]})]})]})]}),(n.title||n.message)&&a.jsxs(fe,{children:[a.jsx(Te,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Dv,{className:"h-5 w-5"}),G.preview]})}),a.jsx(he,{children:a.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-shrink-0 mt-1",children:[n.type==="success"&&a.jsx(Tr,{className:"h-5 w-5 text-green-600"}),n.type==="warning"&&a.jsx(Or,{className:"h-5 w-5 text-yellow-600"}),n.type==="error"&&a.jsx(Or,{className:"h-5 w-5 text-red-600"}),!["success","warning","error"].includes(n.type)&&a.jsx(Dv,{className:"h-5 w-5 text-blue-600"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-sm",children:n.title||"Notification Title"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.message||"Notification message will appear here..."}),n.action_label&&a.jsx(be,{size:"sm",variant:"link",className:"h-auto p-0 mt-2",children:n.action_label})]}),a.jsx(Je,{variant:n.priority==="urgent"?"destructive":"secondary",className:"text-xs",children:n.priority})]})})})]})]})]})]})},YTe=()=>{var X,Q,G,H,ee;const{user:e}=Ht(),{conversations:t,activeConversation:n,messages:r,loading:s,stats:i,fetchConversations:o,sendMessage:u,setActiveConversation:m,assignConversation:f,updateConversationStatus:g,refreshStats:x}=s5(),[j,_]=w.useState(""),[C,E]=w.useState(!1),[A,M]=w.useState({}),[D,R]=w.useState(""),[U,k]=w.useState(""),I=w.useRef(null);w.useEffect(()=>{var Z;(Z=I.current)==null||Z.scrollIntoView({behavior:"smooth"})},[r]),w.useEffect(()=>{const Z={...A};D&&(Z.search=D),o(Z)},[A,D,o]);const F=async()=>{!j.trim()||!n||(await u({conversation_id:n.id,content:j.trim(),message_type:"text",is_internal:C}),_(""),E(!1))},V=async(Z,oe)=>{await f(Z,oe)},L=async(Z,oe)=>{await g(Z,oe)},$=Z=>{switch(Z){case"open":return"bg-blue-500";case"assigned":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},Y=Z=>{switch(Z){case"urgent":return"bg-red-500 text-white";case"high":return"bg-orange-500 text-white";case"normal":return"bg-blue-500 text-white";case"low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},q=Z=>Lh(new Date(Z),{addSuffix:!0});return!e||e.role!=="admin"?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Access denied. Admin privileges required."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pv,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Conversations"}),a.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.total_conversations)||0})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bne,{className:"h-5 w-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Open & Assigned"}),a.jsx("p",{className:"text-2xl font-bold",children:((i==null?void 0:i.open_conversations)||0)+((i==null?void 0:i.assigned_conversations)||0)})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Rne,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Resolved Today"}),a.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.resolved_today)||0})]})]})})}),a.jsx(fe,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qn,{className:"h-5 w-5 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Response Time"}),a.jsxs("p",{className:"text-2xl font-bold",children:[(i==null?void 0:i.average_response_time)||0,"m"]})]})]})})})]}),a.jsxs("div",{className:"flex h-[700px] gap-6",children:[a.jsxs("div",{className:"w-1/3 border-r space-y-4",children:[a.jsxs(fe,{children:[a.jsx(Te,{className:"pb-3",children:a.jsxs(Oe,{className:"text-sm flex items-center gap-2",children:[a.jsx(im,{className:"h-4 w-4"}),"Filters"]})}),a.jsxs(he,{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Ve,{htmlFor:"search",className:"text-xs",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"h-4 w-4 absolute left-2 top-2.5 text-muted-foreground"}),a.jsx(ut,{id:"search",placeholder:"Search conversations...",className:"pl-8 h-8",value:D,onChange:Z=>R(Z.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-xs",children:"Status"}),a.jsxs(kt,{value:((X=A.status)==null?void 0:X[0])||"all",onValueChange:Z=>{M(Z==="all"?oe=>({...oe,status:void 0}):oe=>({...oe,status:[Z]}))},children:[a.jsx(It,{className:"h-8",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:"All Status"}),a.jsx(Ee,{value:"open",children:"Open"}),a.jsx(Ee,{value:"assigned",children:"Assigned"}),a.jsx(Ee,{value:"resolved",children:"Resolved"}),a.jsx(Ee,{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-xs",children:"Priority"}),a.jsxs(kt,{value:((Q=A.priority)==null?void 0:Q[0])||"all",onValueChange:Z=>{M(Z==="all"?oe=>({...oe,priority:void 0}):oe=>({...oe,priority:[Z]}))},children:[a.jsx(It,{className:"h-8",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:"All Priorities"}),a.jsx(Ee,{value:"urgent",children:"Urgent"}),a.jsx(Ee,{value:"high",children:"High"}),a.jsx(Ee,{value:"normal",children:"Normal"}),a.jsx(Ee,{value:"low",children:"Low"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-xs",children:"Category"}),a.jsxs(kt,{value:((G=A.category)==null?void 0:G[0])||"all",onValueChange:Z=>{M(Z==="all"?oe=>({...oe,category:void 0}):oe=>({...oe,category:[Z]}))},children:[a.jsx(It,{className:"h-8",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"all",children:"All Categories"}),a.jsx(Ee,{value:"general",children:"General"}),a.jsx(Ee,{value:"technical",children:"Technical"}),a.jsx(Ee,{value:"billing",children:"Billing"}),a.jsx(Ee,{value:"account",children:"Account"}),a.jsx(Ee,{value:"refund",children:"Refund"}),a.jsx(Ee,{value:"feedback",children:"Feedback"})]})]})]})]})]}),a.jsx(Xl,{className:"h-[calc(100%-200px)]",children:a.jsx("div",{className:"space-y-2",children:t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ph,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No conversations found"})]}):t.map(Z=>{var oe;return a.jsx(fe,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${(n==null?void 0:n.id)===Z.id?"ring-2 ring-primary":""}`,onClick:()=>m(Z),children:a.jsxs(he,{className:"p-3",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate flex-1",children:Z.subject}),a.jsx(Je,{variant:"outline",className:`text-xs ${Y(Z.priority)}`,children:Z.priority})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Je,{variant:"outline",className:`text-xs ${$(Z.status)}`,children:Z.status}),Z.category&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:Z.category})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(uu,{className:"h-3 w-3 mr-1"}),((oe=Z.user)==null?void 0:oe.full_name)||"Unknown User"]}),Z.assigned_admin&&a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(XA,{className:"h-3 w-3 mr-1"}),"Assigned to ",Z.assigned_admin.full_name]}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),q(Z.updated_at)]})]}),Z.last_message&&a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-1",children:Z.last_message.content})]})},Z.id)})})})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:n.subject}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Je,{variant:"outline",className:$(n.status),children:n.status}),a.jsx(Je,{variant:"outline",className:Y(n.priority),children:n.priority}),n.category&&a.jsx(Je,{variant:"secondary",children:n.category})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground text-right",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(uu,{className:"h-4 w-4"}),((H=n.user)==null?void 0:H.full_name)||"Unknown User"]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx($y,{className:"h-4 w-4"}),(ee=n.user)==null?void 0:ee.email]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(ka,{className:"h-4 w-4"}),"Created ",q(n.created_at)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(kt,{value:U,onValueChange:k,children:[a.jsx(It,{className:"w-48",children:a.jsx(Bt,{placeholder:"Assign to admin..."})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"unassigned",children:"Unassign"}),a.jsx(Ee,{value:e.id,children:"Assign to me"})]})]}),a.jsx(be,{size:"sm",onClick:()=>V(n.id,U),disabled:!U,children:"Assign"}),a.jsxs(kt,{value:n.status,onValueChange:Z=>L(n.id,Z),children:[a.jsx(It,{className:"w-32",children:a.jsx(Bt,{})}),a.jsxs(Lt,{children:[a.jsx(Ee,{value:"open",children:"Open"}),a.jsx(Ee,{value:"assigned",children:"Assigned"}),a.jsx(Ee,{value:"resolved",children:"Resolved"}),a.jsx(Ee,{value:"closed",children:"Closed"})]})]})]})]}),a.jsx(Xl,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(Z=>{var oe,re,de,xe,_e;return a.jsx("div",{className:`flex ${Z.sender_id===e.id?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${Z.sender_id===e.id?"flex-row-reverse":"flex-row"}`,children:[a.jsxs(fp,{className:"h-8 w-8",children:[a.jsx(hp,{src:(oe=Z.sender)==null?void 0:oe.avatar_url}),a.jsx(mp,{children:((de=(re=Z.sender)==null?void 0:re.full_name)==null?void 0:de.charAt(0))||"U"})]}),a.jsxs("div",{className:`rounded-lg p-3 ${Z.is_internal?"bg-yellow-100 dark:bg-yellow-900 border-l-4 border-yellow-500":Z.sender_id===e.id?"bg-primary text-primary-foreground":"bg-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:((xe=Z.sender)==null?void 0:xe.full_name)||"Unknown User"}),((_e=Z.sender)==null?void 0:_e.role)==="admin"&&a.jsx(Je,{variant:"secondary",className:"text-xs",children:"Admin"}),Z.is_internal&&a.jsx(Je,{variant:"outline",className:"text-xs",children:"Internal Note"})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Z.content}),a.jsx("p",{className:`text-xs mt-1 ${Z.is_internal?"text-yellow-700 dark:text-yellow-300":Z.sender_id===e.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:q(Z.created_at)})]})]})},Z.id)}),a.jsx("div",{ref:I})]})}),a.jsxs("div",{className:"p-4 border-t space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(du,{id:"internal",checked:C,onCheckedChange:Z=>E(Z===!0)}),a.jsx(Ve,{htmlFor:"internal",className:"text-sm",children:"Internal note (not visible to user)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Es,{placeholder:C?"Add internal note...":"Type your response...",value:j,onChange:Z=>_(Z.target.value),onKeyPress:Z=>{Z.key==="Enter"&&!Z.shiftKey&&(Z.preventDefault(),F())},disabled:s,rows:2}),a.jsx(be,{onClick:F,disabled:s||!j.trim(),children:a.jsx(Md,{className:"h-4 w-4"})})]})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ph,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choose a conversation from the sidebar to start managing it"})]})})})]})]})};function WTe(){return tA(["admin"]),a.jsx(Zp,{userType:"admin",children:a.jsxs(Jh,{children:[a.jsx(ht,{path:"/",element:a.jsx(Vl,{to:"/admin/home",replace:!0})}),a.jsx(ht,{path:"/home",element:a.jsx(FTe,{})}),a.jsx(ht,{path:"/users",element:a.jsx(UTe,{})}),a.jsx(ht,{path:"/analytics",element:a.jsx(zTe,{})}),a.jsx(ht,{path:"/disputes",element:a.jsx(VTe,{})}),a.jsx(ht,{path:"/verification-review",element:a.jsx(HTe,{})}),a.jsx(ht,{path:"/notifications",element:a.jsx(eq,{})}),a.jsx(ht,{path:"/broadcast",element:a.jsx(qTe,{})}),a.jsx(ht,{path:"/chat-management",element:a.jsx(YTe,{})}),a.jsx(ht,{path:"/profile",element:a.jsx(g0,{})}),a.jsx(ht,{path:"/settings",element:a.jsx(p0,{})})]})})}function Rg({children:e,allowedRoles:t}){const{user:n,profile:r,loading:s}=Ht();return s?a.jsx(ms,{}):n?r?t.includes(r.user_type)?a.jsx(a.Fragment,{children:e}):a.jsx(Vl,{to:`/${r.user_type}`,replace:!0}):a.jsx(ms,{text:"Loading profile..."}):a.jsx(Vl,{to:"/login",replace:!0})}function GTe(){const{user:e,profile:t,loading:n}=Ht(),{isRTL:r}=Ft();return n?a.jsx(ms,{}):a.jsx("div",{className:`min-h-screen ${r?"rtl":"ltr"}`,children:a.jsx(_X,{children:a.jsxs(Jh,{children:[a.jsx(ht,{path:"/",element:e?a.jsx(cv,{}):a.jsx(gae,{})}),a.jsx(ht,{path:"/login",element:e?a.jsx(cv,{}):a.jsx(Dae,{})}),a.jsx(ht,{path:"/register",element:e?a.jsx(cv,{}):a.jsx(Coe,{})}),a.jsx(ht,{path:"/forgot-password",element:e?a.jsx(cv,{}):a.jsx(Toe,{})}),a.jsx(ht,{path:"/otp-verification",element:a.jsx(qoe,{})}),a.jsx(ht,{path:"/reset-password",element:a.jsx(Yoe,{})}),a.jsx(ht,{path:"/passenger/*",element:a.jsx(Rg,{allowedRoles:["passenger"],children:a.jsx(RCe,{})})}),a.jsx(ht,{path:"/driver/*",element:a.jsx(Rg,{allowedRoles:["driver"],children:a.jsx(_Te,{})})}),a.jsx(ht,{path:"/merchant/*",element:a.jsx(Rg,{allowedRoles:["merchant"],children:a.jsx(DTe,{})})}),a.jsx(ht,{path:"/event-admin/*",element:a.jsx(Rg,{allowedRoles:["event_admin"],children:a.jsx(BTe,{})})}),a.jsx(ht,{path:"/admin/*",element:a.jsx(Rg,{allowedRoles:["admin"],children:a.jsx(WTe,{})})}),a.jsx(ht,{path:"*",element:a.jsx(Vl,{to:"/",replace:!0})})]})})})}function cv(){const{profile:e}=Ht();return e?a.jsx(Vl,{to:`/${e.user_type}`,replace:!0}):a.jsx(Vl,{to:"/login",replace:!0})}var KTe=(e,t,n,r,s,i,o,u)=>{let m=document.documentElement,f=["light","dark"];function g(_){(Array.isArray(e)?e:[e]).forEach(C=>{let E=C==="class",A=E&&i?s.map(M=>i[M]||M):s;E?(m.classList.remove(...A),m.classList.add(i&&i[_]?i[_]:_)):m.setAttribute(C,_)}),x(_)}function x(_){u&&f.includes(_)&&(m.style.colorScheme=_)}function j(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let _=localStorage.getItem(t)||n,C=o&&_==="system"?j():_;g(C)}catch{}},XTe=w.createContext(void 0),QTe={setTheme:e=>{},themes:[]},ZTe=()=>{var e;return(e=w.useContext(XTe))!=null?e:QTe};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:u,nonce:m,scriptProps:f})=>{let g=JSON.stringify([n,t,i,e,u,o,r,s]).slice(1,-1);return w.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${KTe.toString()})(${g})`}})});const JTe=({...e})=>{const{theme:t="system"}=ZTe();return a.jsx(fK,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function e4e(){return a.jsx(Z6,{children:a.jsx(X6,{children:a.jsx(G6,{children:a.jsx(n5,{children:a.jsx(a5,{children:a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(GTe,{}),a.jsx(JTe,{richColors:!0,position:"top-right"})]})})})})})})}PY.createRoot(document.getElementById("root")).render(a.jsx(at.StrictMode,{children:a.jsx(G6,{children:a.jsx(Z6,{children:a.jsx(X6,{children:a.jsx(n5,{children:a.jsx(a5,{children:a.jsx(e4e,{})})})})})})}));export{Td as _,Ax as c,Cs as g};
